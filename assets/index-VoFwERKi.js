var i8=Object.defineProperty;var r8=(l,n,u)=>n in l?i8(l,n,{enumerable:!0,configurable:!0,writable:!0,value:u}):l[n]=u;var r0=(l,n,u)=>(r8(l,typeof n!="symbol"?n+"":n,u),u);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))p(v);new MutationObserver(v=>{for(const d of v)if(d.type==="childList")for(const g of d.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&p(g)}).observe(document,{childList:!0,subtree:!0});function u(v){const d={};return v.integrity&&(d.integrity=v.integrity),v.referrerPolicy&&(d.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?d.credentials="include":v.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function p(v){if(v.ep)return;v.ep=!0;const d=u(v);fetch(v.href,d)}})();var EPSILON=1e-6,ARRAY_TYPE=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var l=0,n=arguments.length;n--;)l+=arguments[n]*arguments[n];return Math.sqrt(l)});function create$4(){var l=new ARRAY_TYPE(9);return ARRAY_TYPE!=Float32Array&&(l[1]=0,l[2]=0,l[3]=0,l[5]=0,l[6]=0,l[7]=0),l[0]=1,l[4]=1,l[8]=1,l}function fromValues$4(l,n,u,p,v,d,g,_,C){var E=new ARRAY_TYPE(9);return E[0]=l,E[1]=n,E[2]=u,E[3]=p,E[4]=v,E[5]=d,E[6]=g,E[7]=_,E[8]=C,E}function multiply$1(l,n,u){var p=n[0],v=n[1],d=n[2],g=n[3],_=n[4],C=n[5],E=n[6],w=n[7],m=n[8],y=u[0],e=u[1],P=u[2],O=u[3],U=u[4],W=u[5],V=u[6],$=u[7],b=u[8];return l[0]=y*p+e*g+P*E,l[1]=y*v+e*_+P*w,l[2]=y*d+e*C+P*m,l[3]=O*p+U*g+W*E,l[4]=O*v+U*_+W*w,l[5]=O*d+U*C+W*m,l[6]=V*p+$*g+b*E,l[7]=V*v+$*_+b*w,l[8]=V*d+$*C+b*m,l}function create$3(){var l=new ARRAY_TYPE(16);return ARRAY_TYPE!=Float32Array&&(l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=0,l[12]=0,l[13]=0,l[14]=0),l[0]=1,l[5]=1,l[10]=1,l[15]=1,l}function clone$2(l){var n=new ARRAY_TYPE(16);return n[0]=l[0],n[1]=l[1],n[2]=l[2],n[3]=l[3],n[4]=l[4],n[5]=l[5],n[6]=l[6],n[7]=l[7],n[8]=l[8],n[9]=l[9],n[10]=l[10],n[11]=l[11],n[12]=l[12],n[13]=l[13],n[14]=l[14],n[15]=l[15],n}function copy$1(l,n){return l[0]=n[0],l[1]=n[1],l[2]=n[2],l[3]=n[3],l[4]=n[4],l[5]=n[5],l[6]=n[6],l[7]=n[7],l[8]=n[8],l[9]=n[9],l[10]=n[10],l[11]=n[11],l[12]=n[12],l[13]=n[13],l[14]=n[14],l[15]=n[15],l}function fromValues$3(l,n,u,p,v,d,g,_,C,E,w,m,y,e,P,O){var U=new ARRAY_TYPE(16);return U[0]=l,U[1]=n,U[2]=u,U[3]=p,U[4]=v,U[5]=d,U[6]=g,U[7]=_,U[8]=C,U[9]=E,U[10]=w,U[11]=m,U[12]=y,U[13]=e,U[14]=P,U[15]=O,U}function identity$1(l){return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l}function transpose$1(l,n){if(l===n){var u=n[1],p=n[2],v=n[3],d=n[6],g=n[7],_=n[11];l[1]=n[4],l[2]=n[8],l[3]=n[12],l[4]=u,l[6]=n[9],l[7]=n[13],l[8]=p,l[9]=d,l[11]=n[14],l[12]=v,l[13]=g,l[14]=_}else l[0]=n[0],l[1]=n[4],l[2]=n[8],l[3]=n[12],l[4]=n[1],l[5]=n[5],l[6]=n[9],l[7]=n[13],l[8]=n[2],l[9]=n[6],l[10]=n[10],l[11]=n[14],l[12]=n[3],l[13]=n[7],l[14]=n[11],l[15]=n[15];return l}function invert(l,n){var u=n[0],p=n[1],v=n[2],d=n[3],g=n[4],_=n[5],C=n[6],E=n[7],w=n[8],m=n[9],y=n[10],e=n[11],P=n[12],O=n[13],U=n[14],W=n[15],V=u*_-p*g,$=u*C-v*g,b=u*E-d*g,H=p*C-v*_,G=p*E-d*_,Y=v*E-d*C,X=w*O-m*P,j=w*U-y*P,h=w*W-e*P,ae=m*U-y*O,le=m*W-e*O,he=y*W-e*U,pe=V*he-$*le+b*ae+H*h-G*j+Y*X;return pe?(pe=1/pe,l[0]=(_*he-C*le+E*ae)*pe,l[1]=(v*le-p*he-d*ae)*pe,l[2]=(O*Y-U*G+W*H)*pe,l[3]=(y*G-m*Y-e*H)*pe,l[4]=(C*h-g*he-E*j)*pe,l[5]=(u*he-v*h+d*j)*pe,l[6]=(U*b-P*Y-W*$)*pe,l[7]=(w*Y-y*b+e*$)*pe,l[8]=(g*le-_*h+E*X)*pe,l[9]=(p*h-u*le-d*X)*pe,l[10]=(P*G-O*b+W*V)*pe,l[11]=(m*b-w*G-e*V)*pe,l[12]=(_*j-g*ae-C*X)*pe,l[13]=(u*ae-p*j+v*X)*pe,l[14]=(O*$-P*H-U*V)*pe,l[15]=(w*H-m*$+y*V)*pe,l):null}function multiply(l,n,u){var p=n[0],v=n[1],d=n[2],g=n[3],_=n[4],C=n[5],E=n[6],w=n[7],m=n[8],y=n[9],e=n[10],P=n[11],O=n[12],U=n[13],W=n[14],V=n[15],$=u[0],b=u[1],H=u[2],G=u[3];return l[0]=$*p+b*_+H*m+G*O,l[1]=$*v+b*C+H*y+G*U,l[2]=$*d+b*E+H*e+G*W,l[3]=$*g+b*w+H*P+G*V,$=u[4],b=u[5],H=u[6],G=u[7],l[4]=$*p+b*_+H*m+G*O,l[5]=$*v+b*C+H*y+G*U,l[6]=$*d+b*E+H*e+G*W,l[7]=$*g+b*w+H*P+G*V,$=u[8],b=u[9],H=u[10],G=u[11],l[8]=$*p+b*_+H*m+G*O,l[9]=$*v+b*C+H*y+G*U,l[10]=$*d+b*E+H*e+G*W,l[11]=$*g+b*w+H*P+G*V,$=u[12],b=u[13],H=u[14],G=u[15],l[12]=$*p+b*_+H*m+G*O,l[13]=$*v+b*C+H*y+G*U,l[14]=$*d+b*E+H*e+G*W,l[15]=$*g+b*w+H*P+G*V,l}function translate(l,n,u){var p=u[0],v=u[1],d=u[2],g,_,C,E,w,m,y,e,P,O,U,W;return n===l?(l[12]=n[0]*p+n[4]*v+n[8]*d+n[12],l[13]=n[1]*p+n[5]*v+n[9]*d+n[13],l[14]=n[2]*p+n[6]*v+n[10]*d+n[14],l[15]=n[3]*p+n[7]*v+n[11]*d+n[15]):(g=n[0],_=n[1],C=n[2],E=n[3],w=n[4],m=n[5],y=n[6],e=n[7],P=n[8],O=n[9],U=n[10],W=n[11],l[0]=g,l[1]=_,l[2]=C,l[3]=E,l[4]=w,l[5]=m,l[6]=y,l[7]=e,l[8]=P,l[9]=O,l[10]=U,l[11]=W,l[12]=g*p+w*v+P*d+n[12],l[13]=_*p+m*v+O*d+n[13],l[14]=C*p+y*v+U*d+n[14],l[15]=E*p+e*v+W*d+n[15]),l}function scale$3(l,n,u){var p=u[0],v=u[1],d=u[2];return l[0]=n[0]*p,l[1]=n[1]*p,l[2]=n[2]*p,l[3]=n[3]*p,l[4]=n[4]*v,l[5]=n[5]*v,l[6]=n[6]*v,l[7]=n[7]*v,l[8]=n[8]*d,l[9]=n[9]*d,l[10]=n[10]*d,l[11]=n[11]*d,l[12]=n[12],l[13]=n[13],l[14]=n[14],l[15]=n[15],l}function rotateX(l,n,u){var p=Math.sin(u),v=Math.cos(u),d=n[4],g=n[5],_=n[6],C=n[7],E=n[8],w=n[9],m=n[10],y=n[11];return n!==l&&(l[0]=n[0],l[1]=n[1],l[2]=n[2],l[3]=n[3],l[12]=n[12],l[13]=n[13],l[14]=n[14],l[15]=n[15]),l[4]=d*v+E*p,l[5]=g*v+w*p,l[6]=_*v+m*p,l[7]=C*v+y*p,l[8]=E*v-d*p,l[9]=w*v-g*p,l[10]=m*v-_*p,l[11]=y*v-C*p,l}function rotateZ(l,n,u){var p=Math.sin(u),v=Math.cos(u),d=n[0],g=n[1],_=n[2],C=n[3],E=n[4],w=n[5],m=n[6],y=n[7];return n!==l&&(l[8]=n[8],l[9]=n[9],l[10]=n[10],l[11]=n[11],l[12]=n[12],l[13]=n[13],l[14]=n[14],l[15]=n[15]),l[0]=d*v+E*p,l[1]=g*v+w*p,l[2]=_*v+m*p,l[3]=C*v+y*p,l[4]=E*v-d*p,l[5]=w*v-g*p,l[6]=m*v-_*p,l[7]=y*v-C*p,l}function fromRotation(l,n,u){var p=u[0],v=u[1],d=u[2],g=Math.hypot(p,v,d),_,C,E;return g<EPSILON?null:(g=1/g,p*=g,v*=g,d*=g,_=Math.sin(n),C=Math.cos(n),E=1-C,l[0]=p*p*E+C,l[1]=v*p*E+d*_,l[2]=d*p*E-v*_,l[3]=0,l[4]=p*v*E-d*_,l[5]=v*v*E+C,l[6]=d*v*E+p*_,l[7]=0,l[8]=p*d*E+v*_,l[9]=v*d*E-p*_,l[10]=d*d*E+C,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l)}function orthoNO(l,n,u,p,v,d,g){var _=1/(n-u),C=1/(p-v),E=1/(d-g);return l[0]=-2*_,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=-2*C,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=2*E,l[11]=0,l[12]=(n+u)*_,l[13]=(v+p)*C,l[14]=(g+d)*E,l[15]=1,l}var ortho=orthoNO;function multiplyScalar(l,n,u){return l[0]=n[0]*u,l[1]=n[1]*u,l[2]=n[2]*u,l[3]=n[3]*u,l[4]=n[4]*u,l[5]=n[5]*u,l[6]=n[6]*u,l[7]=n[7]*u,l[8]=n[8]*u,l[9]=n[9]*u,l[10]=n[10]*u,l[11]=n[11]*u,l[12]=n[12]*u,l[13]=n[13]*u,l[14]=n[14]*u,l[15]=n[15]*u,l}var mul$1=multiply;function create$2(){var l=new ARRAY_TYPE(3);return ARRAY_TYPE!=Float32Array&&(l[0]=0,l[1]=0,l[2]=0),l}function clone$1(l){var n=new ARRAY_TYPE(3);return n[0]=l[0],n[1]=l[1],n[2]=l[2],n}function length$1(l){var n=l[0],u=l[1],p=l[2];return Math.hypot(n,u,p)}function fromValues$2(l,n,u){var p=new ARRAY_TYPE(3);return p[0]=l,p[1]=n,p[2]=u,p}function copy(l,n){return l[0]=n[0],l[1]=n[1],l[2]=n[2],l}function add$1(l,n,u){return l[0]=n[0]+u[0],l[1]=n[1]+u[1],l[2]=n[2]+u[2],l}function subtract$1(l,n,u){return l[0]=n[0]-u[0],l[1]=n[1]-u[1],l[2]=n[2]-u[2],l}function min(l,n,u){return l[0]=Math.min(n[0],u[0]),l[1]=Math.min(n[1],u[1]),l[2]=Math.min(n[2],u[2]),l}function max$2(l,n,u){return l[0]=Math.max(n[0],u[0]),l[1]=Math.max(n[1],u[1]),l[2]=Math.max(n[2],u[2]),l}function scale$2(l,n,u){return l[0]=n[0]*u,l[1]=n[1]*u,l[2]=n[2]*u,l}function negate(l,n){return l[0]=-n[0],l[1]=-n[1],l[2]=-n[2],l}function normalize$1(l,n){var u=n[0],p=n[1],v=n[2],d=u*u+p*p+v*v;return d>0&&(d=1/Math.sqrt(d)),l[0]=n[0]*d,l[1]=n[1]*d,l[2]=n[2]*d,l}function dot(l,n){return l[0]*n[0]+l[1]*n[1]+l[2]*n[2]}function cross(l,n,u){var p=n[0],v=n[1],d=n[2],g=u[0],_=u[1],C=u[2];return l[0]=v*C-d*_,l[1]=d*g-p*C,l[2]=p*_-v*g,l}function lerp(l,n,u,p){var v=n[0],d=n[1],g=n[2];return l[0]=v+p*(u[0]-v),l[1]=d+p*(u[1]-d),l[2]=g+p*(u[2]-g),l}function angle(l,n){var u=l[0],p=l[1],v=l[2],d=n[0],g=n[1],_=n[2],C=Math.sqrt(u*u+p*p+v*v),E=Math.sqrt(d*d+g*g+_*_),w=C*E,m=w&&dot(l,n)/w;return Math.acos(Math.min(Math.max(m,-1),1))}var sub$2=subtract$1,len=length$1;(function(){var l=create$2();return function(n,u,p,v,d,g){var _,C;for(u||(u=3),p||(p=0),v?C=Math.min(v*u+p,n.length):C=n.length,_=p;_<C;_+=u)l[0]=n[_],l[1]=n[_+1],l[2]=n[_+2],d(l,l,g),n[_]=l[0],n[_+1]=l[1],n[_+2]=l[2];return n}})();function create$1(){var l=new ARRAY_TYPE(4);return ARRAY_TYPE!=Float32Array&&(l[0]=0,l[1]=0,l[2]=0,l[3]=0),l}function clone(l){var n=new ARRAY_TYPE(4);return n[0]=l[0],n[1]=l[1],n[2]=l[2],n[3]=l[3],n}function fromValues$1(l,n,u,p){var v=new ARRAY_TYPE(4);return v[0]=l,v[1]=n,v[2]=u,v[3]=p,v}function add(l,n,u){return l[0]=n[0]+u[0],l[1]=n[1]+u[1],l[2]=n[2]+u[2],l[3]=n[3]+u[3],l}function subtract(l,n,u){return l[0]=n[0]-u[0],l[1]=n[1]-u[1],l[2]=n[2]-u[2],l[3]=n[3]-u[3],l}function scale$1(l,n,u){return l[0]=n[0]*u,l[1]=n[1]*u,l[2]=n[2]*u,l[3]=n[3]*u,l}function transformMat4(l,n,u){var p=n[0],v=n[1],d=n[2],g=n[3];return l[0]=u[0]*p+u[4]*v+u[8]*d+u[12]*g,l[1]=u[1]*p+u[5]*v+u[9]*d+u[13]*g,l[2]=u[2]*p+u[6]*v+u[10]*d+u[14]*g,l[3]=u[3]*p+u[7]*v+u[11]*d+u[15]*g,l}var sub$1=subtract;(function(){var l=create$1();return function(n,u,p,v,d,g){var _,C;for(u||(u=4),p||(p=0),v?C=Math.min(v*u+p,n.length):C=n.length,_=p;_<C;_+=u)l[0]=n[_],l[1]=n[_+1],l[2]=n[_+2],l[3]=n[_+3],d(l,l,g),n[_]=l[0],n[_+1]=l[1],n[_+2]=l[2],n[_+3]=l[3];return n}})();function create(){var l=new ARRAY_TYPE(2);return ARRAY_TYPE!=Float32Array&&(l[0]=0,l[1]=0),l}function fromValues(l,n){var u=new ARRAY_TYPE(2);return u[0]=l,u[1]=n,u}function scale(l,n,u){return l[0]=n[0]*u,l[1]=n[1]*u,l}function length(l){var n=l[0],u=l[1];return Math.hypot(n,u)}function normalize(l,n){var u=n[0],p=n[1],v=u*u+p*p;return v>0&&(v=1/Math.sqrt(v)),l[0]=n[0]*v,l[1]=n[1]*v,l}(function(){var l=create();return function(n,u,p,v,d,g){var _,C;for(u||(u=2),p||(p=0),v?C=Math.min(v*u+p,n.length):C=n.length,_=p;_<C;_+=u)l[0]=n[_],l[1]=n[_+1],d(l,l,g),n[_]=l[0],n[_+1]=l[1];return n}})();var IDX=256,HEX=[],BUFFER;for(;IDX--;)HEX[IDX]=(IDX+256).toString(16).substring(1);function v4(){var l=0,n,u="";if(!BUFFER||IDX+16>256){for(BUFFER=Array(l=256);l--;)BUFFER[l]=256*Math.random()|0;l=IDX=0}for(;l<16;l++)n=BUFFER[IDX+l],l==6?u+=HEX[n&15|64]:l==8?u+=HEX[n&63|128]:u+=HEX[n],l&1&&l>1&&l<11&&(u+="-");return IDX++,u}var u8$1=Uint8Array,u16$1=Uint16Array,i32$1=Int32Array,fleb$1=new u8$1([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb$1=new u8$1([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim$1=new u8$1([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb$1=function(l,n){for(var u=new u16$1(31),p=0;p<31;++p)u[p]=n+=1<<l[p-1];for(var v=new i32$1(u[30]),p=1;p<30;++p)for(var d=u[p];d<u[p+1];++d)v[d]=d-u[p]<<5|p;return{b:u,r:v}},_a$1=freb$1(fleb$1,2),fl$1=_a$1.b,revfl$1=_a$1.r;fl$1[28]=258,revfl$1[258]=28;var _b$1=freb$1(fdeb$1,0),fd$1=_b$1.b,revfd$1=_b$1.r,rev$1=new u16$1(32768);for(var i$1=0;i$1<32768;++i$1){var x$1=(i$1&43690)>>1|(i$1&21845)<<1;x$1=(x$1&52428)>>2|(x$1&13107)<<2,x$1=(x$1&61680)>>4|(x$1&3855)<<4,rev$1[i$1]=((x$1&65280)>>8|(x$1&255)<<8)>>1}var hMap$1=function(l,n,u){for(var p=l.length,v=0,d=new u16$1(n);v<p;++v)l[v]&&++d[l[v]-1];var g=new u16$1(n);for(v=1;v<n;++v)g[v]=g[v-1]+d[v-1]<<1;var _;if(u){_=new u16$1(1<<n);var C=15-n;for(v=0;v<p;++v)if(l[v])for(var E=v<<4|l[v],w=n-l[v],m=g[l[v]-1]++<<w,y=m|(1<<w)-1;m<=y;++m)_[rev$1[m]>>C]=E}else for(_=new u16$1(p),v=0;v<p;++v)l[v]&&(_[v]=rev$1[g[l[v]-1]++]>>15-l[v]);return _},flt$1=new u8$1(288);for(var i$1=0;i$1<144;++i$1)flt$1[i$1]=8;for(var i$1=144;i$1<256;++i$1)flt$1[i$1]=9;for(var i$1=256;i$1<280;++i$1)flt$1[i$1]=7;for(var i$1=280;i$1<288;++i$1)flt$1[i$1]=8;var fdt$1=new u8$1(32);for(var i$1=0;i$1<32;++i$1)fdt$1[i$1]=5;var flm$1=hMap$1(flt$1,9,0),flrm$1=hMap$1(flt$1,9,1),fdm$1=hMap$1(fdt$1,5,0),fdrm$1=hMap$1(fdt$1,5,1),max$1=function(l){for(var n=l[0],u=1;u<l.length;++u)l[u]>n&&(n=l[u]);return n},bits$1=function(l,n,u){var p=n/8|0;return(l[p]|l[p+1]<<8)>>(n&7)&u},bits16$1=function(l,n){var u=n/8|0;return(l[u]|l[u+1]<<8|l[u+2]<<16)>>(n&7)},shft$1=function(l){return(l+7)/8|0},slc$1=function(l,n,u){return(n==null||n<0)&&(n=0),(u==null||u>l.length)&&(u=l.length),new u8$1(l.subarray(n,u))},ec$1=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],err$1=function(l,n,u){var p=new Error(n||ec$1[l]);if(p.code=l,Error.captureStackTrace&&Error.captureStackTrace(p,err$1),!u)throw p;return p},inflt$1=function(l,n,u,p){var v=l.length,d=p?p.length:0;if(!v||n.f&&!n.l)return u||new u8$1(0);var g=!u,_=g||n.i!=2,C=n.i;g&&(u=new u8$1(v*3));var E=function(U0){var q0=u.length;if(U0>q0){var Xe=new u8$1(Math.max(q0*2,U0));Xe.set(u),u=Xe}},w=n.f||0,m=n.p||0,y=n.b||0,e=n.l,P=n.d,O=n.m,U=n.n,W=v*8;do{if(!e){w=bits$1(l,m,1);var V=bits$1(l,m+1,3);if(m+=3,V)if(V==1)e=flrm$1,P=fdrm$1,O=9,U=5;else if(V==2){var G=bits$1(l,m,31)+257,Y=bits$1(l,m+10,15)+4,X=G+bits$1(l,m+5,31)+1;m+=14;for(var j=new u8$1(X),h=new u8$1(19),ae=0;ae<Y;++ae)h[clim$1[ae]]=bits$1(l,m+ae*3,7);m+=Y*3;for(var le=max$1(h),he=(1<<le)-1,pe=hMap$1(h,le,1),ae=0;ae<X;){var Ae=pe[bits$1(l,m,he)];m+=Ae&15;var $=Ae>>4;if($<16)j[ae++]=$;else{var ge=0,ye=0;for($==16?(ye=3+bits$1(l,m,3),m+=2,ge=j[ae-1]):$==17?(ye=3+bits$1(l,m,7),m+=3):$==18&&(ye=11+bits$1(l,m,127),m+=7);ye--;)j[ae++]=ge}}var we=j.subarray(0,G),be=j.subarray(G);O=max$1(we),U=max$1(be),e=hMap$1(we,O,1),P=hMap$1(be,U,1)}else err$1(1);else{var $=shft$1(m)+4,b=l[$-4]|l[$-3]<<8,H=$+b;if(H>v){C&&err$1(0);break}_&&E(y+b),u.set(l.subarray($,H),y),n.b=y+=b,n.p=m=H*8,n.f=w;continue}if(m>W){C&&err$1(0);break}}_&&E(y+131072);for(var Ve=(1<<O)-1,Ne=(1<<U)-1,p0=m;;p0=m){var ge=e[bits16$1(l,m)&Ve],k0=ge>>4;if(m+=ge&15,m>W){C&&err$1(0);break}if(ge||err$1(2),k0<256)u[y++]=k0;else if(k0==256){p0=m,e=null;break}else{var Ue=k0-254;if(k0>264){var ae=k0-257,xe=fleb$1[ae];Ue=bits$1(l,m,(1<<xe)-1)+fl$1[ae],m+=xe}var I0=P[bits16$1(l,m)&Ne],O0=I0>>4;I0||err$1(3),m+=I0&15;var be=fd$1[O0];if(O0>3){var xe=fdeb$1[O0];be+=bits16$1(l,m)&(1<<xe)-1,m+=xe}if(m>W){C&&err$1(0);break}_&&E(y+131072);var Q0=y+Ue;if(y<be){var tt=d-be,it=Math.min(be,Q0);for(tt+y<0&&err$1(3);y<it;++y)u[y]=p[tt+y]}for(;y<Q0;++y)u[y]=u[y-be]}}n.l=e,n.p=p0,n.b=y,n.f=w,e&&(w=1,n.m=O,n.d=P,n.n=U)}while(!w);return y!=u.length&&g?slc$1(u,0,y):u.subarray(0,y)},wbits$1=function(l,n,u){u<<=n&7;var p=n/8|0;l[p]|=u,l[p+1]|=u>>8},wbits16$1=function(l,n,u){u<<=n&7;var p=n/8|0;l[p]|=u,l[p+1]|=u>>8,l[p+2]|=u>>16},hTree$1=function(l,n){for(var u=[],p=0;p<l.length;++p)l[p]&&u.push({s:p,f:l[p]});var v=u.length,d=u.slice();if(!v)return{t:et$1,l:0};if(v==1){var g=new u8$1(u[0].s+1);return g[u[0].s]=1,{t:g,l:1}}u.sort(function(H,G){return H.f-G.f}),u.push({s:-1,f:25001});var _=u[0],C=u[1],E=0,w=1,m=2;for(u[0]={s:-1,f:_.f+C.f,l:_,r:C};w!=v-1;)_=u[u[E].f<u[m].f?E++:m++],C=u[E!=w&&u[E].f<u[m].f?E++:m++],u[w++]={s:-1,f:_.f+C.f,l:_,r:C};for(var y=d[0].s,p=1;p<v;++p)d[p].s>y&&(y=d[p].s);var e=new u16$1(y+1),P=ln$1(u[w-1],e,0);if(P>n){var p=0,O=0,U=P-n,W=1<<U;for(d.sort(function(G,Y){return e[Y.s]-e[G.s]||G.f-Y.f});p<v;++p){var V=d[p].s;if(e[V]>n)O+=W-(1<<P-e[V]),e[V]=n;else break}for(O>>=U;O>0;){var $=d[p].s;e[$]<n?O-=1<<n-e[$]++-1:++p}for(;p>=0&&O;--p){var b=d[p].s;e[b]==n&&(--e[b],++O)}P=n}return{t:new u8$1(e),l:P}},ln$1=function(l,n,u){return l.s==-1?Math.max(ln$1(l.l,n,u+1),ln$1(l.r,n,u+1)):n[l.s]=u},lc$1=function(l){for(var n=l.length;n&&!l[--n];);for(var u=new u16$1(++n),p=0,v=l[0],d=1,g=function(C){u[p++]=C},_=1;_<=n;++_)if(l[_]==v&&_!=n)++d;else{if(!v&&d>2){for(;d>138;d-=138)g(32754);d>2&&(g(d>10?d-11<<5|28690:d-3<<5|12305),d=0)}else if(d>3){for(g(v),--d;d>6;d-=6)g(8304);d>2&&(g(d-3<<5|8208),d=0)}for(;d--;)g(v);d=1,v=l[_]}return{c:u.subarray(0,p),n}},clen$1=function(l,n){for(var u=0,p=0;p<n.length;++p)u+=l[p]*n[p];return u},wfblk$1=function(l,n,u){var p=u.length,v=shft$1(n+2);l[v]=p&255,l[v+1]=p>>8,l[v+2]=l[v]^255,l[v+3]=l[v+1]^255;for(var d=0;d<p;++d)l[v+d+4]=u[d];return(v+4+p)*8},wblk$1=function(l,n,u,p,v,d,g,_,C,E,w){wbits$1(n,w++,u),++v[256];for(var m=hTree$1(v,15),y=m.t,e=m.l,P=hTree$1(d,15),O=P.t,U=P.l,W=lc$1(y),V=W.c,$=W.n,b=lc$1(O),H=b.c,G=b.n,Y=new u16$1(19),X=0;X<V.length;++X)++Y[V[X]&31];for(var X=0;X<H.length;++X)++Y[H[X]&31];for(var j=hTree$1(Y,7),h=j.t,ae=j.l,le=19;le>4&&!h[clim$1[le-1]];--le);var he=E+5<<3,pe=clen$1(v,flt$1)+clen$1(d,fdt$1)+g,Ae=clen$1(v,y)+clen$1(d,O)+g+14+3*le+clen$1(Y,h)+2*Y[16]+3*Y[17]+7*Y[18];if(C>=0&&he<=pe&&he<=Ae)return wfblk$1(n,w,l.subarray(C,C+E));var ge,ye,we,be;if(wbits$1(n,w,1+(Ae<pe)),w+=2,Ae<pe){ge=hMap$1(y,e,0),ye=y,we=hMap$1(O,U,0),be=O;var Ve=hMap$1(h,ae,0);wbits$1(n,w,$-257),wbits$1(n,w+5,G-1),wbits$1(n,w+10,le-4),w+=14;for(var X=0;X<le;++X)wbits$1(n,w+3*X,h[clim$1[X]]);w+=3*le;for(var Ne=[V,H],p0=0;p0<2;++p0)for(var k0=Ne[p0],X=0;X<k0.length;++X){var Ue=k0[X]&31;wbits$1(n,w,Ve[Ue]),w+=h[Ue],Ue>15&&(wbits$1(n,w,k0[X]>>5&127),w+=k0[X]>>12)}}else ge=flm$1,ye=flt$1,we=fdm$1,be=fdt$1;for(var X=0;X<_;++X){var xe=p[X];if(xe>255){var Ue=xe>>18&31;wbits16$1(n,w,ge[Ue+257]),w+=ye[Ue+257],Ue>7&&(wbits$1(n,w,xe>>23&31),w+=fleb$1[Ue]);var I0=xe&31;wbits16$1(n,w,we[I0]),w+=be[I0],I0>3&&(wbits16$1(n,w,xe>>5&8191),w+=fdeb$1[I0])}else wbits16$1(n,w,ge[xe]),w+=ye[xe]}return wbits16$1(n,w,ge[256]),w+ye[256]},deo$1=new i32$1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8$1(0),dflt$1=function(l,n,u,p,v,d){var g=d.z||l.length,_=new u8$1(p+g+5*(1+Math.ceil(g/7e3))+v),C=_.subarray(p,_.length-v),E=d.l,w=(d.r||0)&7;if(n){w&&(C[0]=d.r>>3);for(var m=deo$1[n-1],y=m>>13,e=m&8191,P=(1<<u)-1,O=d.p||new u16$1(32768),U=d.h||new u16$1(P+1),W=Math.ceil(u/3),V=2*W,$=function(ke){return(l[ke]^l[ke+1]<<W^l[ke+2]<<V)&P},b=new i32$1(25e3),H=new u16$1(288),G=new u16$1(32),Y=0,X=0,j=d.i||0,h=0,ae=d.w||0,le=0;j+2<g;++j){var he=$(j),pe=j&32767,Ae=U[he];if(O[pe]=Ae,U[he]=pe,ae<=j){var ge=g-j;if((Y>7e3||h>24576)&&(ge>423||!E)){w=wblk$1(l,C,0,b,H,G,X,h,le,j-le,w),h=Y=X=0,le=j;for(var ye=0;ye<286;++ye)H[ye]=0;for(var ye=0;ye<30;++ye)G[ye]=0}var we=2,be=0,Ve=e,Ne=pe-Ae&32767;if(ge>2&&he==$(j-Ne))for(var p0=Math.min(y,ge)-1,k0=Math.min(32767,j),Ue=Math.min(258,ge);Ne<=k0&&--Ve&&pe!=Ae;){if(l[j+we]==l[j+we-Ne]){for(var xe=0;xe<Ue&&l[j+xe]==l[j+xe-Ne];++xe);if(xe>we){if(we=xe,be=Ne,xe>p0)break;for(var I0=Math.min(Ne,xe-2),O0=0,ye=0;ye<I0;++ye){var Q0=j-Ne+ye&32767,tt=O[Q0],it=Q0-tt&32767;it>O0&&(O0=it,Ae=Q0)}}}pe=Ae,Ae=O[pe],Ne+=pe-Ae&32767}if(be){b[h++]=268435456|revfl$1[we]<<18|revfd$1[be];var U0=revfl$1[we]&31,q0=revfd$1[be]&31;X+=fleb$1[U0]+fdeb$1[q0],++H[257+U0],++G[q0],ae=j+we,++Y}else b[h++]=l[j],++H[l[j]]}}for(j=Math.max(j,ae);j<g;++j)b[h++]=l[j],++H[l[j]];w=wblk$1(l,C,E,b,H,G,X,h,le,j-le,w),E||(d.r=w&7|C[w/8|0]<<3,w-=7,d.h=U,d.p=O,d.i=j,d.w=ae)}else{for(var j=d.w||0;j<g+E;j+=65535){var Xe=j+65535;Xe>=g&&(C[w/8|0]=E,Xe=g),w=wfblk$1(C,w+1,l.subarray(j,Xe))}d.i=g}return slc$1(_,0,p+shft$1(w)+v)},crct$1=function(){for(var l=new Int32Array(256),n=0;n<256;++n){for(var u=n,p=9;--p;)u=(u&1&&-306674912)^u>>>1;l[n]=u}return l}(),crc$1=function(){var l=-1;return{p:function(n){for(var u=l,p=0;p<n.length;++p)u=crct$1[u&255^n[p]]^u>>>8;l=u},d:function(){return~l}}},dopt$1=function(l,n,u,p,v){if(!v&&(v={l:1},n.dictionary)){var d=n.dictionary.subarray(-32768),g=new u8$1(d.length+l.length);g.set(d),g.set(l,d.length),l=g,v.w=d.length}return dflt$1(l,n.level==null?6:n.level,n.mem==null?v.l?Math.ceil(Math.max(8,Math.min(13,Math.log(l.length)))*1.5):20:12+n.mem,u,p,v)},b2$1=function(l,n){return l[n]|l[n+1]<<8},b4$1=function(l,n){return(l[n]|l[n+1]<<8|l[n+2]<<16|l[n+3]<<24)>>>0},b8$1=function(l,n){return b4$1(l,n)+b4$1(l,n+4)*4294967296},wbytes$1=function(l,n,u){for(;u;++n)l[n]=u,u>>>=8},gzh$1=function(l,n){var u=n.filename;if(l[0]=31,l[1]=139,l[2]=8,l[8]=n.level<2?4:n.level==9?2:0,l[9]=3,n.mtime!=0&&wbytes$1(l,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),u){l[3]=8;for(var p=0;p<=u.length;++p)l[p+10]=u.charCodeAt(p)}},gzs$1=function(l){(l[0]!=31||l[1]!=139||l[2]!=8)&&err$1(6,"invalid gzip data");var n=l[3],u=10;n&4&&(u+=(l[10]|l[11]<<8)+2);for(var p=(n>>3&1)+(n>>4&1);p>0;p-=!l[u++]);return u+(n&2)},gzl$1=function(l){var n=l.length;return(l[n-4]|l[n-3]<<8|l[n-2]<<16|l[n-1]<<24)>>>0},gzhl$1=function(l){return 10+(l.filename?l.filename.length+1:0)},zls$1=function(l,n){return((l[0]&15)!=8||l[0]>>4>7||(l[0]<<8|l[1])%31)&&err$1(6,"invalid zlib data"),(l[1]>>5&1)==+!n&&err$1(6,"invalid zlib data: "+(l[1]&32?"need":"unexpected")+" dictionary"),(l[1]>>3&4)+2};function StrmOpt$1(l,n){return typeof l=="function"&&(n=l,l={}),this.ondata=n,l}var Inflate$1=function(){function l(n,u){typeof n=="function"&&(u=n,n={}),this.ondata=u;var p=n&&n.dictionary&&n.dictionary.subarray(-32768);this.s={i:0,b:p?p.length:0},this.o=new u8$1(32768),this.p=new u8$1(0),p&&this.o.set(p)}return l.prototype.e=function(n){if(this.ondata||err$1(5),this.d&&err$1(4),!this.p.length)this.p=n;else if(n.length){var u=new u8$1(this.p.length+n.length);u.set(this.p),u.set(n,this.p.length),this.p=u}},l.prototype.c=function(n){this.s.i=+(this.d=n||!1);var u=this.s.b,p=inflt$1(this.p,this.s,this.o);this.ondata(slc$1(p,u,this.s.b),this.d),this.o=slc$1(p,this.s.b-32768),this.s.b=this.o.length,this.p=slc$1(this.p,this.s.p/8|0),this.s.p&=7},l.prototype.push=function(n,u){this.e(n),this.c(u)},l}();function inflateSync$1(l,n){return inflt$1(l,{i:2},n&&n.out,n&&n.dictionary)}function gzipSync$1(l,n){n||(n={});var u=crc$1(),p=l.length;u.p(l);var v=dopt$1(l,n,gzhl$1(n),8),d=v.length;return gzh$1(v,n),wbytes$1(v,d-8,u.d()),wbytes$1(v,d-4,p),v}var Gunzip$1=function(){function l(n,u){this.v=1,this.r=0,Inflate$1.call(this,n,u)}return l.prototype.push=function(n,u){if(Inflate$1.prototype.e.call(this,n),this.r+=n.length,this.v){var p=this.p.subarray(this.v-1),v=p.length>3?gzs$1(p):4;if(v>p.length){if(!u)return}else this.v>1&&this.onmember&&this.onmember(this.r-p.length);this.p=p.subarray(v),this.v=0}Inflate$1.prototype.c.call(this,u),this.s.f&&!this.s.l&&!u&&(this.v=shft$1(this.s.p)+9,this.s={i:0},this.o=new u8$1(0),this.push(new u8$1(0),u))},l}();function gunzipSync$1(l,n){var u=gzs$1(l);return u+8>l.length&&err$1(6,"invalid gzip data"),inflt$1(l.subarray(u,-8),{i:2},n&&n.out||new u8$1(gzl$1(l)),n&&n.dictionary)}var Unzlib$1=function(){function l(n,u){Inflate$1.call(this,n,u),this.v=n&&n.dictionary?2:1}return l.prototype.push=function(n,u){if(Inflate$1.prototype.e.call(this,n),this.v){if(this.p.length<6&&!u)return;this.p=this.p.subarray(zls$1(this.p,this.v-1)),this.v=0}u&&(this.p.length<4&&err$1(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),Inflate$1.prototype.c.call(this,u)},l}();function unzlibSync$1(l,n){return inflt$1(l.subarray(zls$1(l,n&&n.dictionary),-4),{i:2},n&&n.out,n&&n.dictionary)}var Decompress$1=function(){function l(n,u){this.o=StrmOpt$1.call(this,n,u)||{},this.G=Gunzip$1,this.I=Inflate$1,this.Z=Unzlib$1}return l.prototype.i=function(){var n=this;this.s.ondata=function(u,p){n.ondata(u,p)}},l.prototype.push=function(n,u){if(this.ondata||err$1(5),this.s)this.s.push(n,u);else{if(this.p&&this.p.length){var p=new u8$1(this.p.length+n.length);p.set(this.p),p.set(n,this.p.length)}else this.p=n;this.p.length>2&&(this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(this.o):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,u),this.p=null)}},l}();function decompressSync$1(l,n){return l[0]==31&&l[1]==139&&l[2]==8?gunzipSync$1(l,n):(l[0]&15)!=8||l[0]>>4>7||(l[0]<<8|l[1])%31?inflateSync$1(l,n):unzlibSync$1(l,n)}var te$1=typeof TextEncoder<"u"&&new TextEncoder,td$1=typeof TextDecoder<"u"&&new TextDecoder,tds$1=0;try{td$1.decode(et$1,{stream:!0}),tds$1=1}catch{}var dutf8$1=function(l){for(var n="",u=0;;){var p=l[u++],v=(p>127)+(p>223)+(p>239);if(u+v>l.length)return{s:n,r:slc$1(l,u-1)};v?v==3?(p=((p&15)<<18|(l[u++]&63)<<12|(l[u++]&63)<<6|l[u++]&63)-65536,n+=String.fromCharCode(55296|p>>10,56320|p&1023)):v&1?n+=String.fromCharCode((p&31)<<6|l[u++]&63):n+=String.fromCharCode((p&15)<<12|(l[u++]&63)<<6|l[u++]&63):n+=String.fromCharCode(p)}};function strToU8$1(l,n){if(n){for(var u=new u8$1(l.length),p=0;p<l.length;++p)u[p]=l.charCodeAt(p);return u}if(te$1)return te$1.encode(l);for(var v=l.length,d=new u8$1(l.length+(l.length>>1)),g=0,_=function(w){d[g++]=w},p=0;p<v;++p){if(g+5>d.length){var C=new u8$1(g+8+(v-p<<1));C.set(d),d=C}var E=l.charCodeAt(p);E<128||n?_(E):E<2048?(_(192|E>>6),_(128|E&63)):E>55295&&E<57344?(E=65536+(E&1047552)|l.charCodeAt(++p)&1023,_(240|E>>18),_(128|E>>12&63),_(128|E>>6&63),_(128|E&63)):(_(224|E>>12),_(128|E>>6&63),_(128|E&63))}return slc$1(d,0,g)}function strFromU8$1(l,n){if(n){for(var u="",p=0;p<l.length;p+=16384)u+=String.fromCharCode.apply(null,l.subarray(p,p+16384));return u}else{if(td$1)return td$1.decode(l);var v=dutf8$1(l),d=v.s,u=v.r;return u.length&&err$1(8),d}}var slzh$1=function(l,n){return n+30+b2$1(l,n+26)+b2$1(l,n+28)},zh$1=function(l,n,u){var p=b2$1(l,n+28),v=strFromU8$1(l.subarray(n+46,n+46+p),!(b2$1(l,n+8)&2048)),d=n+46+p,g=b4$1(l,n+20),_=u&&g==4294967295?z64e$1(l,d):[g,b4$1(l,n+24),b4$1(l,n+42)],C=_[0],E=_[1],w=_[2];return[b2$1(l,n+10),C,E,v,d+b2$1(l,n+30)+b2$1(l,n+32),w]},z64e$1=function(l,n){for(;b2$1(l,n)!=1;n+=4+b2$1(l,n+2));return[b8$1(l,n+12),b8$1(l,n+4),b8$1(l,n+20)]};function unzipSync$1(l,n){for(var u={},p=l.length-22;b4$1(l,p)!=101010256;--p)(!p||l.length-p>65558)&&err$1(13);var v=b2$1(l,p+8);if(!v)return{};var d=b4$1(l,p+16),g=d==4294967295||v==65535;if(g){var _=b4$1(l,p-12);g=b4$1(l,_)==101075792,g&&(v=b4$1(l,_+32),d=b4$1(l,_+48))}for(var C=n&&n.filter,E=0;E<v;++E){var w=zh$1(l,d,g),m=w[0],y=w[1],e=w[2],P=w[3],O=w[4],U=w[5],W=slzh$1(l,U);d=O,(!C||C({name:P,size:y,originalSize:e,compression:m}))&&(m?m==8?u[P]=inflateSync$1(l.subarray(W,W+y),{out:new u8$1(e)}):err$1(14,"unknown compression type "+m):u[P]=slc$1(l,W,W+y))}return u}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env$1=typeof self=="object"?self:globalThis,deserializer=(l,n)=>{const u=(v,d)=>(l.set(d,v),v),p=v=>{if(l.has(v))return l.get(v);const[d,g]=n[v];switch(d){case PRIMITIVE:case VOID:return u(g,v);case ARRAY:{const _=u([],v);for(const C of g)_.push(p(C));return _}case OBJECT:{const _=u({},v);for(const[C,E]of g)_[p(C)]=p(E);return _}case DATE:return u(new Date(g),v);case REGEXP:{const{source:_,flags:C}=g;return u(new RegExp(_,C),v)}case MAP:{const _=u(new Map,v);for(const[C,E]of g)_.set(p(C),p(E));return _}case SET:{const _=u(new Set,v);for(const C of g)_.add(p(C));return _}case ERROR:{const{name:_,message:C}=g;return u(new env$1[_](C),v)}case BIGINT:return u(BigInt(g),v);case"BigInt":return u(Object(BigInt(g)),v)}return u(new env$1[d](g),v)};return p},deserialize=l=>deserializer(new Map,l)(0),EMPTY="",{toString}={},{keys}=Object,typeOf=l=>{const n=typeof l;if(n!=="object"||!l)return[PRIMITIVE,n];const u=toString.call(l).slice(8,-1);switch(u){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY]}return u.includes("Array")?[ARRAY,u]:u.includes("Error")?[ERROR,u]:[OBJECT,u]},shouldSkip=([l,n])=>l===PRIMITIVE&&(n==="function"||n==="symbol"),serializer=(l,n,u,p)=>{const v=(g,_)=>{const C=p.push(g)-1;return u.set(_,C),C},d=g=>{if(u.has(g))return u.get(g);let[_,C]=typeOf(g);switch(_){case PRIMITIVE:{let w=g;switch(C){case"bigint":_=BIGINT,w=g.toString();break;case"function":case"symbol":if(l)throw new TypeError("unable to serialize "+C);w=null;break;case"undefined":return v([VOID],g)}return v([_,w],g)}case ARRAY:{if(C)return v([C,[...g]],g);const w=[],m=v([_,w],g);for(const y of g)w.push(d(y));return m}case OBJECT:{if(C)switch(C){case"BigInt":return v([C,g.toString()],g);case"Boolean":case"Number":case"String":return v([C,g.valueOf()],g)}if(n&&"toJSON"in g)return d(g.toJSON());const w=[],m=v([_,w],g);for(const y of keys(g))(l||!shouldSkip(typeOf(g[y])))&&w.push([d(y),d(g[y])]);return m}case DATE:return v([_,g.toISOString()],g);case REGEXP:{const{source:w,flags:m}=g;return v([_,{source:w,flags:m}],g)}case MAP:{const w=[],m=v([_,w],g);for(const[y,e]of g)(l||!(shouldSkip(typeOf(y))||shouldSkip(typeOf(e))))&&w.push([d(y),d(e)]);return m}case SET:{const w=[],m=v([_,w],g);for(const y of g)(l||!shouldSkip(typeOf(y)))&&w.push(d(y));return m}}const{message:E}=g;return v([_,{name:C,message:E}],g)};return d},serialize=(l,{json:n,lossy:u}={})=>{const p=[];return serializer(!(n||u),!!n,new Map,p)(l),p};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function getAugmentedNamespace(l){if(l.__esModule)return l;var n=l.default;if(typeof n=="function"){var u=function p(){return this instanceof p?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};u.prototype=n.prototype}else u={};return Object.defineProperty(u,"__esModule",{value:!0}),Object.keys(l).forEach(function(p){var v=Object.getOwnPropertyDescriptor(l,p);Object.defineProperty(u,p,v.get?v:{enumerable:!0,get:function(){return l[p]}})}),u}var arrayEqual=function(n,u){var p=n.length;if(n===u)return!0;if(p!==u.length)return!1;for(var v=0;v<p;v++)if(n[v]!==u[v])return!1;return!0};const arrayEqual$1=getDefaultExportFromCjs(arrayEqual);var nifti={},browser={},ch2={},node_worker_1={};node_worker_1.default=function(l,n,u,p,v){var d=new Worker(ch2[n]||(ch2[n]=URL.createObjectURL(new Blob([l+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return d.onmessage=function(g){var _=g.data,C=_.$e$;if(C){var E=new Error(C[0]);E.code=C[1],E.stack=C[2],v(E,null)}else v(null,_)},d.postMessage(u,p),d};var u8=Uint8Array,u16=Uint16Array,i32=Int32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(l,n){for(var u=new u16(31),p=0;p<31;++p)u[p]=n+=1<<l[p-1];for(var v=new i32(u[30]),p=1;p<30;++p)for(var d=u[p];d<u[p+1];++d)v[d]=d-u[p]<<5|p;return{b:u,r:v}},_a=freb(fleb,2),fl=_a.b,revfl=_a.r;fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b.b,revfd=_b.r,rev=new u16(32768);for(var i=0;i<32768;++i){var x=(i&43690)>>1|(i&21845)<<1;x=(x&52428)>>2|(x&13107)<<2,x=(x&61680)>>4|(x&3855)<<4,rev[i]=((x&65280)>>8|(x&255)<<8)>>1}var hMap=function(l,n,u){for(var p=l.length,v=0,d=new u16(n);v<p;++v)l[v]&&++d[l[v]-1];var g=new u16(n);for(v=1;v<n;++v)g[v]=g[v-1]+d[v-1]<<1;var _;if(u){_=new u16(1<<n);var C=15-n;for(v=0;v<p;++v)if(l[v])for(var E=v<<4|l[v],w=n-l[v],m=g[l[v]-1]++<<w,y=m|(1<<w)-1;m<=y;++m)_[rev[m]>>C]=E}else for(_=new u16(p),v=0;v<p;++v)l[v]&&(_[v]=rev[g[l[v]-1]++]>>15-l[v]);return _},flt=new u8(288);for(var i=0;i<144;++i)flt[i]=8;for(var i=144;i<256;++i)flt[i]=9;for(var i=256;i<280;++i)flt[i]=7;for(var i=280;i<288;++i)flt[i]=8;var fdt=new u8(32);for(var i=0;i<32;++i)fdt[i]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max=function(l){for(var n=l[0],u=1;u<l.length;++u)l[u]>n&&(n=l[u]);return n},bits=function(l,n,u){var p=n/8|0;return(l[p]|l[p+1]<<8)>>(n&7)&u},bits16=function(l,n){var u=n/8|0;return(l[u]|l[u+1]<<8|l[u+2]<<16)>>(n&7)},shft=function(l){return(l+7)/8|0},slc=function(l,n,u){return(n==null||n<0)&&(n=0),(u==null||u>l.length)&&(u=l.length),new u8(l.subarray(n,u))};browser.FlateErrorCode={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14};var ec=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],err=function(l,n,u){var p=new Error(n||ec[l]);if(p.code=l,Error.captureStackTrace&&Error.captureStackTrace(p,err),!u)throw p;return p},inflt=function(l,n,u,p){var v=l.length,d=p?p.length:0;if(!v||n.f&&!n.l)return u||new u8(0);var g=!u,_=g||n.i!=2,C=n.i;g&&(u=new u8(v*3));var E=function(U0){var q0=u.length;if(U0>q0){var Xe=new u8(Math.max(q0*2,U0));Xe.set(u),u=Xe}},w=n.f||0,m=n.p||0,y=n.b||0,e=n.l,P=n.d,O=n.m,U=n.n,W=v*8;do{if(!e){w=bits(l,m,1);var V=bits(l,m+1,3);if(m+=3,V)if(V==1)e=flrm,P=fdrm,O=9,U=5;else if(V==2){var G=bits(l,m,31)+257,Y=bits(l,m+10,15)+4,X=G+bits(l,m+5,31)+1;m+=14;for(var j=new u8(X),h=new u8(19),ae=0;ae<Y;++ae)h[clim[ae]]=bits(l,m+ae*3,7);m+=Y*3;for(var le=max(h),he=(1<<le)-1,pe=hMap(h,le,1),ae=0;ae<X;){var Ae=pe[bits(l,m,he)];m+=Ae&15;var $=Ae>>4;if($<16)j[ae++]=$;else{var ge=0,ye=0;for($==16?(ye=3+bits(l,m,3),m+=2,ge=j[ae-1]):$==17?(ye=3+bits(l,m,7),m+=3):$==18&&(ye=11+bits(l,m,127),m+=7);ye--;)j[ae++]=ge}}var we=j.subarray(0,G),be=j.subarray(G);O=max(we),U=max(be),e=hMap(we,O,1),P=hMap(be,U,1)}else err(1);else{var $=shft(m)+4,b=l[$-4]|l[$-3]<<8,H=$+b;if(H>v){C&&err(0);break}_&&E(y+b),u.set(l.subarray($,H),y),n.b=y+=b,n.p=m=H*8,n.f=w;continue}if(m>W){C&&err(0);break}}_&&E(y+131072);for(var Ve=(1<<O)-1,Ne=(1<<U)-1,p0=m;;p0=m){var ge=e[bits16(l,m)&Ve],k0=ge>>4;if(m+=ge&15,m>W){C&&err(0);break}if(ge||err(2),k0<256)u[y++]=k0;else if(k0==256){p0=m,e=null;break}else{var Ue=k0-254;if(k0>264){var ae=k0-257,xe=fleb[ae];Ue=bits(l,m,(1<<xe)-1)+fl[ae],m+=xe}var I0=P[bits16(l,m)&Ne],O0=I0>>4;I0||err(3),m+=I0&15;var be=fd[O0];if(O0>3){var xe=fdeb[O0];be+=bits16(l,m)&(1<<xe)-1,m+=xe}if(m>W){C&&err(0);break}_&&E(y+131072);var Q0=y+Ue;if(y<be){var tt=d-be,it=Math.min(be,Q0);for(tt+y<0&&err(3);y<it;++y)u[y]=p[tt+y]}for(;y<Q0;++y)u[y]=u[y-be]}}n.l=e,n.p=p0,n.b=y,n.f=w,e&&(w=1,n.m=O,n.d=P,n.n=U)}while(!w);return y!=u.length&&g?slc(u,0,y):u.subarray(0,y)},wbits=function(l,n,u){u<<=n&7;var p=n/8|0;l[p]|=u,l[p+1]|=u>>8},wbits16=function(l,n,u){u<<=n&7;var p=n/8|0;l[p]|=u,l[p+1]|=u>>8,l[p+2]|=u>>16},hTree=function(l,n){for(var u=[],p=0;p<l.length;++p)l[p]&&u.push({s:p,f:l[p]});var v=u.length,d=u.slice();if(!v)return{t:et,l:0};if(v==1){var g=new u8(u[0].s+1);return g[u[0].s]=1,{t:g,l:1}}u.sort(function(H,G){return H.f-G.f}),u.push({s:-1,f:25001});var _=u[0],C=u[1],E=0,w=1,m=2;for(u[0]={s:-1,f:_.f+C.f,l:_,r:C};w!=v-1;)_=u[u[E].f<u[m].f?E++:m++],C=u[E!=w&&u[E].f<u[m].f?E++:m++],u[w++]={s:-1,f:_.f+C.f,l:_,r:C};for(var y=d[0].s,p=1;p<v;++p)d[p].s>y&&(y=d[p].s);var e=new u16(y+1),P=ln(u[w-1],e,0);if(P>n){var p=0,O=0,U=P-n,W=1<<U;for(d.sort(function(G,Y){return e[Y.s]-e[G.s]||G.f-Y.f});p<v;++p){var V=d[p].s;if(e[V]>n)O+=W-(1<<P-e[V]),e[V]=n;else break}for(O>>=U;O>0;){var $=d[p].s;e[$]<n?O-=1<<n-e[$]++-1:++p}for(;p>=0&&O;--p){var b=d[p].s;e[b]==n&&(--e[b],++O)}P=n}return{t:new u8(e),l:P}},ln=function(l,n,u){return l.s==-1?Math.max(ln(l.l,n,u+1),ln(l.r,n,u+1)):n[l.s]=u},lc=function(l){for(var n=l.length;n&&!l[--n];);for(var u=new u16(++n),p=0,v=l[0],d=1,g=function(C){u[p++]=C},_=1;_<=n;++_)if(l[_]==v&&_!=n)++d;else{if(!v&&d>2){for(;d>138;d-=138)g(32754);d>2&&(g(d>10?d-11<<5|28690:d-3<<5|12305),d=0)}else if(d>3){for(g(v),--d;d>6;d-=6)g(8304);d>2&&(g(d-3<<5|8208),d=0)}for(;d--;)g(v);d=1,v=l[_]}return{c:u.subarray(0,p),n}},clen=function(l,n){for(var u=0,p=0;p<n.length;++p)u+=l[p]*n[p];return u},wfblk=function(l,n,u){var p=u.length,v=shft(n+2);l[v]=p&255,l[v+1]=p>>8,l[v+2]=l[v]^255,l[v+3]=l[v+1]^255;for(var d=0;d<p;++d)l[v+d+4]=u[d];return(v+4+p)*8},wblk=function(l,n,u,p,v,d,g,_,C,E,w){wbits(n,w++,u),++v[256];for(var m=hTree(v,15),y=m.t,e=m.l,P=hTree(d,15),O=P.t,U=P.l,W=lc(y),V=W.c,$=W.n,b=lc(O),H=b.c,G=b.n,Y=new u16(19),X=0;X<V.length;++X)++Y[V[X]&31];for(var X=0;X<H.length;++X)++Y[H[X]&31];for(var j=hTree(Y,7),h=j.t,ae=j.l,le=19;le>4&&!h[clim[le-1]];--le);var he=E+5<<3,pe=clen(v,flt)+clen(d,fdt)+g,Ae=clen(v,y)+clen(d,O)+g+14+3*le+clen(Y,h)+2*Y[16]+3*Y[17]+7*Y[18];if(C>=0&&he<=pe&&he<=Ae)return wfblk(n,w,l.subarray(C,C+E));var ge,ye,we,be;if(wbits(n,w,1+(Ae<pe)),w+=2,Ae<pe){ge=hMap(y,e,0),ye=y,we=hMap(O,U,0),be=O;var Ve=hMap(h,ae,0);wbits(n,w,$-257),wbits(n,w+5,G-1),wbits(n,w+10,le-4),w+=14;for(var X=0;X<le;++X)wbits(n,w+3*X,h[clim[X]]);w+=3*le;for(var Ne=[V,H],p0=0;p0<2;++p0)for(var k0=Ne[p0],X=0;X<k0.length;++X){var Ue=k0[X]&31;wbits(n,w,Ve[Ue]),w+=h[Ue],Ue>15&&(wbits(n,w,k0[X]>>5&127),w+=k0[X]>>12)}}else ge=flm,ye=flt,we=fdm,be=fdt;for(var X=0;X<_;++X){var xe=p[X];if(xe>255){var Ue=xe>>18&31;wbits16(n,w,ge[Ue+257]),w+=ye[Ue+257],Ue>7&&(wbits(n,w,xe>>23&31),w+=fleb[Ue]);var I0=xe&31;wbits16(n,w,we[I0]),w+=be[I0],I0>3&&(wbits16(n,w,xe>>5&8191),w+=fdeb[I0])}else wbits16(n,w,ge[xe]),w+=ye[xe]}return wbits16(n,w,ge[256]),w+ye[256]},deo=new i32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et=new u8(0),dflt=function(l,n,u,p,v,d){var g=d.z||l.length,_=new u8(p+g+5*(1+Math.ceil(g/7e3))+v),C=_.subarray(p,_.length-v),E=d.l,w=(d.r||0)&7;if(n){w&&(C[0]=d.r>>3);for(var m=deo[n-1],y=m>>13,e=m&8191,P=(1<<u)-1,O=d.p||new u16(32768),U=d.h||new u16(P+1),W=Math.ceil(u/3),V=2*W,$=function(ke){return(l[ke]^l[ke+1]<<W^l[ke+2]<<V)&P},b=new i32(25e3),H=new u16(288),G=new u16(32),Y=0,X=0,j=d.i||0,h=0,ae=d.w||0,le=0;j+2<g;++j){var he=$(j),pe=j&32767,Ae=U[he];if(O[pe]=Ae,U[he]=pe,ae<=j){var ge=g-j;if((Y>7e3||h>24576)&&(ge>423||!E)){w=wblk(l,C,0,b,H,G,X,h,le,j-le,w),h=Y=X=0,le=j;for(var ye=0;ye<286;++ye)H[ye]=0;for(var ye=0;ye<30;++ye)G[ye]=0}var we=2,be=0,Ve=e,Ne=pe-Ae&32767;if(ge>2&&he==$(j-Ne))for(var p0=Math.min(y,ge)-1,k0=Math.min(32767,j),Ue=Math.min(258,ge);Ne<=k0&&--Ve&&pe!=Ae;){if(l[j+we]==l[j+we-Ne]){for(var xe=0;xe<Ue&&l[j+xe]==l[j+xe-Ne];++xe);if(xe>we){if(we=xe,be=Ne,xe>p0)break;for(var I0=Math.min(Ne,xe-2),O0=0,ye=0;ye<I0;++ye){var Q0=j-Ne+ye&32767,tt=O[Q0],it=Q0-tt&32767;it>O0&&(O0=it,Ae=Q0)}}}pe=Ae,Ae=O[pe],Ne+=pe-Ae&32767}if(be){b[h++]=268435456|revfl[we]<<18|revfd[be];var U0=revfl[we]&31,q0=revfd[be]&31;X+=fleb[U0]+fdeb[q0],++H[257+U0],++G[q0],ae=j+we,++Y}else b[h++]=l[j],++H[l[j]]}}for(j=Math.max(j,ae);j<g;++j)b[h++]=l[j],++H[l[j]];w=wblk(l,C,E,b,H,G,X,h,le,j-le,w),E||(d.r=w&7|C[w/8|0]<<3,w-=7,d.h=U,d.p=O,d.i=j,d.w=ae)}else{for(var j=d.w||0;j<g+E;j+=65535){var Xe=j+65535;Xe>=g&&(C[w/8|0]=E,Xe=g),w=wfblk(C,w+1,l.subarray(j,Xe))}d.i=g}return slc(_,0,p+shft(w)+v)},crct=function(){for(var l=new Int32Array(256),n=0;n<256;++n){for(var u=n,p=9;--p;)u=(u&1&&-306674912)^u>>>1;l[n]=u}return l}(),crc=function(){var l=-1;return{p:function(n){for(var u=l,p=0;p<n.length;++p)u=crct[u&255^n[p]]^u>>>8;l=u},d:function(){return~l}}},adler=function(){var l=1,n=0;return{p:function(u){for(var p=l,v=n,d=u.length|0,g=0;g!=d;){for(var _=Math.min(g+2655,d);g<_;++g)v+=p+=u[g];p=(p&65535)+15*(p>>16),v=(v&65535)+15*(v>>16)}l=p,n=v},d:function(){return l%=65521,n%=65521,(l&255)<<24|(l&65280)<<8|(n&255)<<8|n>>8}}},dopt=function(l,n,u,p,v){if(!v&&(v={l:1},n.dictionary)){var d=n.dictionary.subarray(-32768),g=new u8(d.length+l.length);g.set(d),g.set(l,d.length),l=g,v.w=d.length}return dflt(l,n.level==null?6:n.level,n.mem==null?v.l?Math.ceil(Math.max(8,Math.min(13,Math.log(l.length)))*1.5):20:12+n.mem,u,p,v)},mrg=function(l,n){var u={};for(var p in l)u[p]=l[p];for(var p in n)u[p]=n[p];return u},wcln=function(l,n,u){for(var p=l(),v=l.toString(),d=v.slice(v.indexOf("[")+1,v.lastIndexOf("]")).replace(/\s+/g,"").split(","),g=0;g<p.length;++g){var _=p[g],C=d[g];if(typeof _=="function"){n+=";"+C+"=";var E=_.toString();if(_.prototype)if(E.indexOf("[native code]")!=-1){var w=E.indexOf(" ",8)+1;n+=E.slice(w,E.indexOf("(",w))}else{n+=E;for(var m in _.prototype)n+=";"+C+".prototype."+m+"="+_.prototype[m].toString()}else n+=E}else u[C]=_}return n},ch=[],cbfs=function(l){var n=[];for(var u in l)l[u].buffer&&n.push((l[u]=new l[u].constructor(l[u])).buffer);return n},wrkr=function(l,n,u,p){if(!ch[u]){for(var v="",d={},g=l.length-1,_=0;_<g;++_)v=wcln(l[_],v,d);ch[u]={c:wcln(l[g],v,d),e:d}}var C=mrg({},ch[u].e);return(0,node_worker_1.default)(ch[u].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+n.toString()+"}",u,C,cbfs(C),p)},bInflt=function(){return[u8,u16,i32,fleb,fdeb,clim,fl,fd,flrm,fdrm,rev,ec,hMap,max,bits,bits16,shft,slc,err,inflt,inflateSync,pbf,gopt]},bDflt=function(){return[u8,u16,i32,fleb,fdeb,clim,revfl,revfd,flm,flt,fdm,fdt,rev,deo,et,hMap,wbits,wbits16,hTree,ln,lc,clen,wfblk,wblk,shft,slc,dflt,dopt,deflateSync,pbf]},gze=function(){return[gzh,gzhl,wbytes,crc,crct]},guze=function(){return[gzs,gzl]},zle=function(){return[zlh,wbytes,adler]},zule=function(){return[zls]},pbf=function(l){return postMessage(l,[l.buffer])},gopt=function(l){return l&&{out:l.size&&new u8(l.size),dictionary:l.dictionary}},cbify=function(l,n,u,p,v,d){var g=wrkr(u,p,v,function(_,C){g.terminate(),d(_,C)});return g.postMessage([l,n],n.consume?[l.buffer]:[]),function(){g.terminate()}},astrm=function(l){return l.ondata=function(n,u){return postMessage([n,u],[n.buffer])},function(n){n.data.length?(l.push(n.data[0],n.data[1]),postMessage([n.data[0].length])):l.flush()}},astrmify=function(l,n,u,p,v,d,g){var _,C=wrkr(l,p,v,function(E,w){E?(C.terminate(),n.ondata.call(n,E)):Array.isArray(w)?w.length==1?(n.queuedSize-=w[0],n.ondrain&&n.ondrain(w[0])):(w[1]&&C.terminate(),n.ondata.call(n,E,w[0],w[1])):g(w)});C.postMessage(u),n.queuedSize=0,n.push=function(E,w){n.ondata||err(5),_&&n.ondata(err(4,0,1),null,!!w),n.queuedSize+=E.length,C.postMessage([E,_=w],[E.buffer])},n.terminate=function(){C.terminate()},d&&(n.flush=function(){C.postMessage([])})},b2=function(l,n){return l[n]|l[n+1]<<8},b4=function(l,n){return(l[n]|l[n+1]<<8|l[n+2]<<16|l[n+3]<<24)>>>0},b8=function(l,n){return b4(l,n)+b4(l,n+4)*4294967296},wbytes=function(l,n,u){for(;u;++n)l[n]=u,u>>>=8},gzh=function(l,n){var u=n.filename;if(l[0]=31,l[1]=139,l[2]=8,l[8]=n.level<2?4:n.level==9?2:0,l[9]=3,n.mtime!=0&&wbytes(l,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),u){l[3]=8;for(var p=0;p<=u.length;++p)l[p+10]=u.charCodeAt(p)}},gzs=function(l){(l[0]!=31||l[1]!=139||l[2]!=8)&&err(6,"invalid gzip data");var n=l[3],u=10;n&4&&(u+=(l[10]|l[11]<<8)+2);for(var p=(n>>3&1)+(n>>4&1);p>0;p-=!l[u++]);return u+(n&2)},gzl=function(l){var n=l.length;return(l[n-4]|l[n-3]<<8|l[n-2]<<16|l[n-1]<<24)>>>0},gzhl=function(l){return 10+(l.filename?l.filename.length+1:0)},zlh=function(l,n){var u=n.level,p=u==0?0:u<6?1:u==9?3:2;if(l[0]=120,l[1]=p<<6|(n.dictionary&&32),l[1]|=31-(l[0]<<8|l[1])%31,n.dictionary){var v=adler();v.p(n.dictionary),wbytes(l,2,v.d())}},zls=function(l,n){return((l[0]&15)!=8||l[0]>>4>7||(l[0]<<8|l[1])%31)&&err(6,"invalid zlib data"),(l[1]>>5&1)==+!n&&err(6,"invalid zlib data: "+(l[1]&32?"need":"unexpected")+" dictionary"),(l[1]>>3&4)+2};function StrmOpt(l,n){return typeof l=="function"&&(n=l,l={}),this.ondata=n,l}var Deflate=function(){function l(n,u){if(typeof n=="function"&&(u=n,n={}),this.ondata=u,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new u8(98304),this.o.dictionary){var p=this.o.dictionary.subarray(-32768);this.b.set(p,32768-p.length),this.s.i=32768-p.length}}return l.prototype.p=function(n,u){this.ondata(dopt(n,this.o,0,0,this.s),u)},l.prototype.push=function(n,u){this.ondata||err(5),this.s.l&&err(4);var p=n.length+this.s.z;if(p>this.b.length){if(p>2*this.b.length-32768){var v=new u8(p&-32768);v.set(this.b.subarray(0,this.s.z)),this.b=v}var d=this.b.length-this.s.z;this.b.set(n.subarray(0,d),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(d),32768),this.s.z=n.length-d+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=u&1,(this.s.z>this.s.w+8191||u)&&(this.p(this.b,u||!1),this.s.w=this.s.i,this.s.i-=2)},l.prototype.flush=function(){this.ondata||err(5),this.s.l&&err(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},l}();browser.Deflate=Deflate;var AsyncDeflate=function(){function l(n,u){astrmify([bDflt,function(){return[astrm,Deflate]}],this,StrmOpt.call(this,n,u),function(p){var v=new Deflate(p.data);onmessage=astrm(v)},6,1)}return l}();browser.AsyncDeflate=AsyncDeflate;function deflate$2(l,n,u){return u||(u=n,n={}),typeof u!="function"&&err(7),cbify(l,n,[bDflt],function(p){return pbf(deflateSync(p.data[0],p.data[1]))},0,u)}browser.deflate=deflate$2;function deflateSync(l,n){return dopt(l,n||{},0,0)}browser.deflateSync=deflateSync;var Inflate=function(){function l(n,u){typeof n=="function"&&(u=n,n={}),this.ondata=u;var p=n&&n.dictionary&&n.dictionary.subarray(-32768);this.s={i:0,b:p?p.length:0},this.o=new u8(32768),this.p=new u8(0),p&&this.o.set(p)}return l.prototype.e=function(n){if(this.ondata||err(5),this.d&&err(4),!this.p.length)this.p=n;else if(n.length){var u=new u8(this.p.length+n.length);u.set(this.p),u.set(n,this.p.length),this.p=u}},l.prototype.c=function(n){this.s.i=+(this.d=n||!1);var u=this.s.b,p=inflt(this.p,this.s,this.o);this.ondata(slc(p,u,this.s.b),this.d),this.o=slc(p,this.s.b-32768),this.s.b=this.o.length,this.p=slc(this.p,this.s.p/8|0),this.s.p&=7},l.prototype.push=function(n,u){this.e(n),this.c(u)},l}();browser.Inflate=Inflate;var AsyncInflate=function(){function l(n,u){astrmify([bInflt,function(){return[astrm,Inflate]}],this,StrmOpt.call(this,n,u),function(p){var v=new Inflate(p.data);onmessage=astrm(v)},7,0)}return l}();browser.AsyncInflate=AsyncInflate;function inflate$2(l,n,u){return u||(u=n,n={}),typeof u!="function"&&err(7),cbify(l,n,[bInflt],function(p){return pbf(inflateSync(p.data[0],gopt(p.data[1])))},1,u)}browser.inflate=inflate$2;function inflateSync(l,n){return inflt(l,{i:2},n&&n.out,n&&n.dictionary)}browser.inflateSync=inflateSync;var Gzip=function(){function l(n,u){this.c=crc(),this.l=0,this.v=1,Deflate.call(this,n,u)}return l.prototype.push=function(n,u){this.c.p(n),this.l+=n.length,Deflate.prototype.push.call(this,n,u)},l.prototype.p=function(n,u){var p=dopt(n,this.o,this.v&&gzhl(this.o),u&&8,this.s);this.v&&(gzh(p,this.o),this.v=0),u&&(wbytes(p,p.length-8,this.c.d()),wbytes(p,p.length-4,this.l)),this.ondata(p,u)},l.prototype.flush=function(){Deflate.prototype.flush.call(this)},l}();browser.Gzip=Gzip;browser.Compress=Gzip;var AsyncGzip=function(){function l(n,u){astrmify([bDflt,gze,function(){return[astrm,Deflate,Gzip]}],this,StrmOpt.call(this,n,u),function(p){var v=new Gzip(p.data);onmessage=astrm(v)},8,1)}return l}();browser.AsyncGzip=AsyncGzip;browser.AsyncCompress=AsyncGzip;function gzip(l,n,u){return u||(u=n,n={}),typeof u!="function"&&err(7),cbify(l,n,[bDflt,gze,function(){return[gzipSync]}],function(p){return pbf(gzipSync(p.data[0],p.data[1]))},2,u)}browser.gzip=gzip;browser.compress=gzip;function gzipSync(l,n){n||(n={});var u=crc(),p=l.length;u.p(l);var v=dopt(l,n,gzhl(n),8),d=v.length;return gzh(v,n),wbytes(v,d-8,u.d()),wbytes(v,d-4,p),v}browser.gzipSync=gzipSync;browser.compressSync=gzipSync;var Gunzip=function(){function l(n,u){this.v=1,this.r=0,Inflate.call(this,n,u)}return l.prototype.push=function(n,u){if(Inflate.prototype.e.call(this,n),this.r+=n.length,this.v){var p=this.p.subarray(this.v-1),v=p.length>3?gzs(p):4;if(v>p.length){if(!u)return}else this.v>1&&this.onmember&&this.onmember(this.r-p.length);this.p=p.subarray(v),this.v=0}Inflate.prototype.c.call(this,u),this.s.f&&!this.s.l&&!u&&(this.v=shft(this.s.p)+9,this.s={i:0},this.o=new u8(0),this.push(new u8(0),u))},l}();browser.Gunzip=Gunzip;var AsyncGunzip=function(){function l(n,u){var p=this;astrmify([bInflt,guze,function(){return[astrm,Inflate,Gunzip]}],this,StrmOpt.call(this,n,u),function(v){var d=new Gunzip(v.data);d.onmember=function(g){return postMessage(g)},onmessage=astrm(d)},9,0,function(v){return p.onmember&&p.onmember(v)})}return l}();browser.AsyncGunzip=AsyncGunzip;function gunzip(l,n,u){return u||(u=n,n={}),typeof u!="function"&&err(7),cbify(l,n,[bInflt,guze,function(){return[gunzipSync]}],function(p){return pbf(gunzipSync(p.data[0],p.data[1]))},3,u)}browser.gunzip=gunzip;function gunzipSync(l,n){var u=gzs(l);return u+8>l.length&&err(6,"invalid gzip data"),inflt(l.subarray(u,-8),{i:2},n&&n.out||new u8(gzl(l)),n&&n.dictionary)}browser.gunzipSync=gunzipSync;var Zlib=function(){function l(n,u){this.c=adler(),this.v=1,Deflate.call(this,n,u)}return l.prototype.push=function(n,u){this.c.p(n),Deflate.prototype.push.call(this,n,u)},l.prototype.p=function(n,u){var p=dopt(n,this.o,this.v&&(this.o.dictionary?6:2),u&&4,this.s);this.v&&(zlh(p,this.o),this.v=0),u&&wbytes(p,p.length-4,this.c.d()),this.ondata(p,u)},l.prototype.flush=function(){Deflate.prototype.flush.call(this)},l}();browser.Zlib=Zlib;var AsyncZlib=function(){function l(n,u){astrmify([bDflt,zle,function(){return[astrm,Deflate,Zlib]}],this,StrmOpt.call(this,n,u),function(p){var v=new Zlib(p.data);onmessage=astrm(v)},10,1)}return l}();browser.AsyncZlib=AsyncZlib;function zlib(l,n,u){return u||(u=n,n={}),typeof u!="function"&&err(7),cbify(l,n,[bDflt,zle,function(){return[zlibSync]}],function(p){return pbf(zlibSync(p.data[0],p.data[1]))},4,u)}browser.zlib=zlib;function zlibSync(l,n){n||(n={});var u=adler();u.p(l);var p=dopt(l,n,n.dictionary?6:2,4);return zlh(p,n),wbytes(p,p.length-4,u.d()),p}browser.zlibSync=zlibSync;var Unzlib=function(){function l(n,u){Inflate.call(this,n,u),this.v=n&&n.dictionary?2:1}return l.prototype.push=function(n,u){if(Inflate.prototype.e.call(this,n),this.v){if(this.p.length<6&&!u)return;this.p=this.p.subarray(zls(this.p,this.v-1)),this.v=0}u&&(this.p.length<4&&err(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),Inflate.prototype.c.call(this,u)},l}();browser.Unzlib=Unzlib;var AsyncUnzlib=function(){function l(n,u){astrmify([bInflt,zule,function(){return[astrm,Inflate,Unzlib]}],this,StrmOpt.call(this,n,u),function(p){var v=new Unzlib(p.data);onmessage=astrm(v)},11,0)}return l}();browser.AsyncUnzlib=AsyncUnzlib;function unzlib(l,n,u){return u||(u=n,n={}),typeof u!="function"&&err(7),cbify(l,n,[bInflt,zule,function(){return[unzlibSync]}],function(p){return pbf(unzlibSync(p.data[0],gopt(p.data[1])))},5,u)}browser.unzlib=unzlib;function unzlibSync(l,n){return inflt(l.subarray(zls(l,n&&n.dictionary),-4),{i:2},n&&n.out,n&&n.dictionary)}browser.unzlibSync=unzlibSync;var Decompress=function(){function l(n,u){this.o=StrmOpt.call(this,n,u)||{},this.G=Gunzip,this.I=Inflate,this.Z=Unzlib}return l.prototype.i=function(){var n=this;this.s.ondata=function(u,p){n.ondata(u,p)}},l.prototype.push=function(n,u){if(this.ondata||err(5),this.s)this.s.push(n,u);else{if(this.p&&this.p.length){var p=new u8(this.p.length+n.length);p.set(this.p),p.set(n,this.p.length)}else this.p=n;this.p.length>2&&(this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(this.o):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,u),this.p=null)}},l}();browser.Decompress=Decompress;var AsyncDecompress=function(){function l(n,u){Decompress.call(this,n,u),this.queuedSize=0,this.G=AsyncGunzip,this.I=AsyncInflate,this.Z=AsyncUnzlib}return l.prototype.i=function(){var n=this;this.s.ondata=function(u,p,v){n.ondata(u,p,v)},this.s.ondrain=function(u){n.queuedSize-=u,n.ondrain&&n.ondrain(u)}},l.prototype.push=function(n,u){this.queuedSize+=n.length,Decompress.prototype.push.call(this,n,u)},l}();browser.AsyncDecompress=AsyncDecompress;function decompress(l,n,u){return u||(u=n,n={}),typeof u!="function"&&err(7),l[0]==31&&l[1]==139&&l[2]==8?gunzip(l,n,u):(l[0]&15)!=8||l[0]>>4>7||(l[0]<<8|l[1])%31?inflate$2(l,n,u):unzlib(l,n,u)}browser.decompress=decompress;function decompressSync(l,n){return l[0]==31&&l[1]==139&&l[2]==8?gunzipSync(l,n):(l[0]&15)!=8||l[0]>>4>7||(l[0]<<8|l[1])%31?inflateSync(l,n):unzlibSync(l,n)}browser.decompressSync=decompressSync;var fltn=function(l,n,u,p){for(var v in l){var d=l[v],g=n+v,_=p;Array.isArray(d)&&(_=mrg(p,d[1]),d=d[0]),d instanceof u8?u[g]=[d,_]:(u[g+="/"]=[new u8(0),_],fltn(d,g,u,p))}},te=typeof TextEncoder<"u"&&new TextEncoder,td=typeof TextDecoder<"u"&&new TextDecoder,tds=0;try{td.decode(et,{stream:!0}),tds=1}catch{}var dutf8=function(l){for(var n="",u=0;;){var p=l[u++],v=(p>127)+(p>223)+(p>239);if(u+v>l.length)return{s:n,r:slc(l,u-1)};v?v==3?(p=((p&15)<<18|(l[u++]&63)<<12|(l[u++]&63)<<6|l[u++]&63)-65536,n+=String.fromCharCode(55296|p>>10,56320|p&1023)):v&1?n+=String.fromCharCode((p&31)<<6|l[u++]&63):n+=String.fromCharCode((p&15)<<12|(l[u++]&63)<<6|l[u++]&63):n+=String.fromCharCode(p)}},DecodeUTF8=function(){function l(n){this.ondata=n,tds?this.t=new TextDecoder:this.p=et}return l.prototype.push=function(n,u){if(this.ondata||err(5),u=!!u,this.t){this.ondata(this.t.decode(n,{stream:!0}),u),u&&(this.t.decode().length&&err(8),this.t=null);return}this.p||err(4);var p=new u8(this.p.length+n.length);p.set(this.p),p.set(n,this.p.length);var v=dutf8(p),d=v.s,g=v.r;u?(g.length&&err(8),this.p=null):this.p=g,this.ondata(d,u)},l}();browser.DecodeUTF8=DecodeUTF8;var EncodeUTF8=function(){function l(n){this.ondata=n}return l.prototype.push=function(n,u){this.ondata||err(5),this.d&&err(4),this.ondata(strToU8(n),this.d=u||!1)},l}();browser.EncodeUTF8=EncodeUTF8;function strToU8(l,n){if(n){for(var u=new u8(l.length),p=0;p<l.length;++p)u[p]=l.charCodeAt(p);return u}if(te)return te.encode(l);for(var v=l.length,d=new u8(l.length+(l.length>>1)),g=0,_=function(w){d[g++]=w},p=0;p<v;++p){if(g+5>d.length){var C=new u8(g+8+(v-p<<1));C.set(d),d=C}var E=l.charCodeAt(p);E<128||n?_(E):E<2048?(_(192|E>>6),_(128|E&63)):E>55295&&E<57344?(E=65536+(E&1047552)|l.charCodeAt(++p)&1023,_(240|E>>18),_(128|E>>12&63),_(128|E>>6&63),_(128|E&63)):(_(224|E>>12),_(128|E>>6&63),_(128|E&63))}return slc(d,0,g)}browser.strToU8=strToU8;function strFromU8(l,n){if(n){for(var u="",p=0;p<l.length;p+=16384)u+=String.fromCharCode.apply(null,l.subarray(p,p+16384));return u}else{if(td)return td.decode(l);var v=dutf8(l),d=v.s,u=v.r;return u.length&&err(8),d}}browser.strFromU8=strFromU8;var dbf=function(l){return l==1?3:l<6?2:l==9?1:0},slzh=function(l,n){return n+30+b2(l,n+26)+b2(l,n+28)},zh=function(l,n,u){var p=b2(l,n+28),v=strFromU8(l.subarray(n+46,n+46+p),!(b2(l,n+8)&2048)),d=n+46+p,g=b4(l,n+20),_=u&&g==4294967295?z64e(l,d):[g,b4(l,n+24),b4(l,n+42)],C=_[0],E=_[1],w=_[2];return[b2(l,n+10),C,E,v,d+b2(l,n+30)+b2(l,n+32),w]},z64e=function(l,n){for(;b2(l,n)!=1;n+=4+b2(l,n+2));return[b8(l,n+12),b8(l,n+4),b8(l,n+20)]},exfl=function(l){var n=0;if(l)for(var u in l){var p=l[u].length;p>65535&&err(9),n+=p+4}return n},wzh=function(l,n,u,p,v,d,g,_){var C=p.length,E=u.extra,w=_&&_.length,m=exfl(E);wbytes(l,n,g!=null?33639248:67324752),n+=4,g!=null&&(l[n++]=20,l[n++]=u.os),l[n]=20,n+=2,l[n++]=u.flag<<1|(d<0&&8),l[n++]=v&&8,l[n++]=u.compression&255,l[n++]=u.compression>>8;var y=new Date(u.mtime==null?Date.now():u.mtime),e=y.getFullYear()-1980;if((e<0||e>119)&&err(10),wbytes(l,n,e<<25|y.getMonth()+1<<21|y.getDate()<<16|y.getHours()<<11|y.getMinutes()<<5|y.getSeconds()>>1),n+=4,d!=-1&&(wbytes(l,n,u.crc),wbytes(l,n+4,d<0?-d-2:d),wbytes(l,n+8,u.size)),wbytes(l,n+12,C),wbytes(l,n+14,m),n+=16,g!=null&&(wbytes(l,n,w),wbytes(l,n+6,u.attrs),wbytes(l,n+10,g),n+=14),l.set(p,n),n+=C,m)for(var P in E){var O=E[P],U=O.length;wbytes(l,n,+P),wbytes(l,n+2,U),l.set(O,n+4),n+=4+U}return w&&(l.set(_,n),n+=w),n},wzf=function(l,n,u,p,v){wbytes(l,n,101010256),wbytes(l,n+8,u),wbytes(l,n+10,u),wbytes(l,n+12,p),wbytes(l,n+16,v)},ZipPassThrough=function(){function l(n){this.filename=n,this.c=crc(),this.size=0,this.compression=0}return l.prototype.process=function(n,u){this.ondata(null,n,u)},l.prototype.push=function(n,u){this.ondata||err(5),this.c.p(n),this.size+=n.length,u&&(this.crc=this.c.d()),this.process(n,u||!1)},l}();browser.ZipPassThrough=ZipPassThrough;var ZipDeflate=function(){function l(n,u){var p=this;u||(u={}),ZipPassThrough.call(this,n),this.d=new Deflate(u,function(v,d){p.ondata(null,v,d)}),this.compression=8,this.flag=dbf(u.level)}return l.prototype.process=function(n,u){try{this.d.push(n,u)}catch(p){this.ondata(p,null,u)}},l.prototype.push=function(n,u){ZipPassThrough.prototype.push.call(this,n,u)},l}();browser.ZipDeflate=ZipDeflate;var AsyncZipDeflate=function(){function l(n,u){var p=this;u||(u={}),ZipPassThrough.call(this,n),this.d=new AsyncDeflate(u,function(v,d,g){p.ondata(v,d,g)}),this.compression=8,this.flag=dbf(u.level),this.terminate=this.d.terminate}return l.prototype.process=function(n,u){this.d.push(n,u)},l.prototype.push=function(n,u){ZipPassThrough.prototype.push.call(this,n,u)},l}();browser.AsyncZipDeflate=AsyncZipDeflate;var Zip=function(){function l(n){this.ondata=n,this.u=[],this.d=1}return l.prototype.add=function(n){var u=this;if(this.ondata||err(5),this.d&2)this.ondata(err(4+(this.d&1)*8,0,1),null,!1);else{var p=strToU8(n.filename),v=p.length,d=n.comment,g=d&&strToU8(d),_=v!=n.filename.length||g&&d.length!=g.length,C=v+exfl(n.extra)+30;v>65535&&this.ondata(err(11,0,1),null,!1);var E=new u8(C);wzh(E,0,n,p,_,-1);var w=[E],m=function(){for(var U=0,W=w;U<W.length;U++){var V=W[U];u.ondata(null,V,!1)}w=[]},y=this.d;this.d=0;var e=this.u.length,P=mrg(n,{f:p,u:_,o:g,t:function(){n.terminate&&n.terminate()},r:function(){if(m(),y){var U=u.u[e+1];U?U.r():u.d=1}y=1}}),O=0;n.ondata=function(U,W,V){if(U)u.ondata(U,W,V),u.terminate();else if(O+=W.length,w.push(W),V){var $=new u8(16);wbytes($,0,134695760),wbytes($,4,n.crc),wbytes($,8,O),wbytes($,12,n.size),w.push($),P.c=O,P.b=C+O+16,P.crc=n.crc,P.size=n.size,y&&P.r(),y=1}else y&&m()},this.u.push(P)}},l.prototype.end=function(){var n=this;if(this.d&2){this.ondata(err(4+(this.d&1)*8,0,1),null,!0);return}this.d?this.e():this.u.push({r:function(){n.d&1&&(n.u.splice(-1,1),n.e())},t:function(){}}),this.d=3},l.prototype.e=function(){for(var n=0,u=0,p=0,v=0,d=this.u;v<d.length;v++){var g=d[v];p+=46+g.f.length+exfl(g.extra)+(g.o?g.o.length:0)}for(var _=new u8(p+22),C=0,E=this.u;C<E.length;C++){var g=E[C];wzh(_,n,g,g.f,g.u,-g.c-2,u,g.o),n+=46+g.f.length+exfl(g.extra)+(g.o?g.o.length:0),u+=g.b}wzf(_,n,this.u.length,p,u),this.ondata(null,_,!0),this.d=2},l.prototype.terminate=function(){for(var n=0,u=this.u;n<u.length;n++){var p=u[n];p.t()}this.d=2},l}();browser.Zip=Zip;function zip(l,n,u){u||(u=n,n={}),typeof u!="function"&&err(7);var p={};fltn(l,"",p,n);var v=Object.keys(p),d=v.length,g=0,_=0,C=d,E=new Array(d),w=[],m=function(){for(var U=0;U<w.length;++U)w[U]()},y=function(U,W){mt(function(){u(U,W)})};mt(function(){y=u});var e=function(){var U=new u8(_+22),W=g,V=_-g;_=0;for(var $=0;$<C;++$){var b=E[$];try{var H=b.c.length;wzh(U,_,b,b.f,b.u,H);var G=30+b.f.length+exfl(b.extra),Y=_+G;U.set(b.c,Y),wzh(U,g,b,b.f,b.u,H,_,b.m),g+=16+G+(b.m?b.m.length:0),_=Y+H}catch(X){return y(X,null)}}wzf(U,g,E.length,V,W),y(null,U)};d||e();for(var P=function(U){var W=v[U],V=p[W],$=V[0],b=V[1],H=crc(),G=$.length;H.p($);var Y=strToU8(W),X=Y.length,j=b.comment,h=j&&strToU8(j),ae=h&&h.length,le=exfl(b.extra),he=b.level==0?0:8,pe=function(Ae,ge){if(Ae)m(),y(Ae,null);else{var ye=ge.length;E[U]=mrg(b,{size:G,crc:H.d(),c:ge,f:Y,m:h,u:X!=W.length||h&&j.length!=ae,compression:he}),g+=30+X+le+ye,_+=76+2*(X+le)+(ae||0)+ye,--d||e()}};if(X>65535&&pe(err(11,0,1),null),!he)pe(null,$);else if(G<16e4)try{pe(null,deflateSync($,b))}catch(Ae){pe(Ae,null)}else w.push(deflate$2($,b,pe))},O=0;O<C;++O)P(O);return m}browser.zip=zip;function zipSync(l,n){n||(n={});var u={},p=[];fltn(l,"",u,n);var v=0,d=0;for(var g in u){var _=u[g],C=_[0],E=_[1],w=E.level==0?0:8,m=strToU8(g),y=m.length,e=E.comment,P=e&&strToU8(e),O=P&&P.length,U=exfl(E.extra);y>65535&&err(11);var W=w?deflateSync(C,E):C,V=W.length,$=crc();$.p(C),p.push(mrg(E,{size:C.length,crc:$.d(),c:W,f:m,m:P,u:y!=g.length||P&&e.length!=O,o:v,compression:w})),v+=30+y+U+V,d+=76+2*(y+U)+(O||0)+V}for(var b=new u8(d+22),H=v,G=d-v,Y=0;Y<p.length;++Y){var m=p[Y];wzh(b,m.o,m,m.f,m.u,m.c.length);var X=30+m.f.length+exfl(m.extra);b.set(m.c,m.o+X),wzh(b,v,m,m.f,m.u,m.c.length,m.o,m.m),v+=16+X+(m.m?m.m.length:0)}return wzf(b,v,p.length,G,H),b}browser.zipSync=zipSync;var UnzipPassThrough=function(){function l(){}return l.prototype.push=function(n,u){this.ondata(null,n,u)},l.compression=0,l}();browser.UnzipPassThrough=UnzipPassThrough;var UnzipInflate=function(){function l(){var n=this;this.i=new Inflate(function(u,p){n.ondata(null,u,p)})}return l.prototype.push=function(n,u){try{this.i.push(n,u)}catch(p){this.ondata(p,null,u)}},l.compression=8,l}();browser.UnzipInflate=UnzipInflate;var AsyncUnzipInflate=function(){function l(n,u){var p=this;u<32e4?this.i=new Inflate(function(v,d){p.ondata(null,v,d)}):(this.i=new AsyncInflate(function(v,d,g){p.ondata(v,d,g)}),this.terminate=this.i.terminate)}return l.prototype.push=function(n,u){this.i.terminate&&(n=slc(n,0)),this.i.push(n,u)},l.compression=8,l}();browser.AsyncUnzipInflate=AsyncUnzipInflate;var Unzip=function(){function l(n){this.onfile=n,this.k=[],this.o={0:UnzipPassThrough},this.p=et}return l.prototype.push=function(n,u){var p=this;if(this.onfile||err(5),this.p||err(4),this.c>0){var v=Math.min(this.c,n.length),d=n.subarray(0,v);if(this.c-=v,this.d?this.d.push(d,!this.c):this.k[0].push(d),n=n.subarray(v),n.length)return this.push(n,u)}else{var g=0,_=0,C=void 0,E=void 0;this.p.length?n.length?(E=new u8(this.p.length+n.length),E.set(this.p),E.set(n,this.p.length)):E=this.p:E=n;for(var w=E.length,m=this.c,y=m&&this.d,e=function(){var W,V=b4(E,_);if(V==67324752){g=1,C=_,P.d=null,P.c=0;var $=b2(E,_+6),b=b2(E,_+8),H=$&2048,G=$&8,Y=b2(E,_+26),X=b2(E,_+28);if(w>_+30+Y+X){var j=[];P.k.unshift(j),g=2;var h=b4(E,_+18),ae=b4(E,_+22),le=strFromU8(E.subarray(_+30,_+=30+Y),!H);h==4294967295?(W=G?[-2]:z64e(E,_),h=W[0],ae=W[1]):G&&(h=-1),_+=X,P.c=h;var he,pe={name:le,compression:b,start:function(){if(pe.ondata||err(5),!h)pe.ondata(null,et,!0);else{var Ae=p.o[b];Ae||pe.ondata(err(14,"unknown compression type "+b,1),null,!1),he=h<0?new Ae(le):new Ae(le,h,ae),he.ondata=function(be,Ve,Ne){pe.ondata(be,Ve,Ne)};for(var ge=0,ye=j;ge<ye.length;ge++){var we=ye[ge];he.push(we,!1)}p.k[0]==j&&p.c?p.d=he:he.push(et,!0)}},terminate:function(){he&&he.terminate&&he.terminate()}};h>=0&&(pe.size=h,pe.originalSize=ae),P.onfile(pe)}return"break"}else if(m){if(V==134695760)return C=_+=12+(m==-2&&8),g=3,P.c=0,"break";if(V==33639248)return C=_-=4,g=3,P.c=0,"break"}},P=this;_<w-4;++_){var O=e();if(O==="break")break}if(this.p=et,m<0){var U=g?E.subarray(0,C-12-(m==-2&&8)-(b4(E,C-16)==134695760&&4)):E.subarray(0,_);y?y.push(U,!!g):this.k[+(g==2)].push(U)}if(g&2)return this.push(E.subarray(_),u);this.p=E.subarray(_)}u&&(this.c&&err(13),this.p=null)},l.prototype.register=function(n){this.o[n.compression]=n},l}();browser.Unzip=Unzip;var mt=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(l){l()};function unzip(l,n,u){u||(u=n,n={}),typeof u!="function"&&err(7);var p=[],v=function(){for(var U=0;U<p.length;++U)p[U]()},d={},g=function(U,W){mt(function(){u(U,W)})};mt(function(){g=u});for(var _=l.length-22;b4(l,_)!=101010256;--_)if(!_||l.length-_>65558)return g(err(13,0,1),null),v;var C=b2(l,_+8);if(C){var E=C,w=b4(l,_+16),m=w==4294967295||E==65535;if(m){var y=b4(l,_-12);m=b4(l,y)==101075792,m&&(E=C=b4(l,y+32),w=b4(l,y+48))}for(var e=n&&n.filter,P=function(U){var W=zh(l,w,m),V=W[0],$=W[1],b=W[2],H=W[3],G=W[4],Y=W[5],X=slzh(l,Y);w=G;var j=function(ae,le){ae?(v(),g(ae,null)):(le&&(d[H]=le),--C||g(null,d))};if(!e||e({name:H,size:$,originalSize:b,compression:V}))if(!V)j(null,slc(l,X,X+$));else if(V==8){var h=l.subarray(X,X+$);if(b<524288||$>.8*b)try{j(null,inflateSync(h,{out:new u8(b)}))}catch(ae){j(ae,null)}else p.push(inflate$2(h,{size:b},j))}else j(err(14,"unknown compression type "+V,1),null);else j(null,null)},O=0;O<E;++O)P(O)}else g(null,{});return v}browser.unzip=unzip;function unzipSync(l,n){for(var u={},p=l.length-22;b4(l,p)!=101010256;--p)(!p||l.length-p>65558)&&err(13);var v=b2(l,p+8);if(!v)return{};var d=b4(l,p+16),g=d==4294967295||v==65535;if(g){var _=b4(l,p-12);g=b4(l,_)==101075792,g&&(v=b4(l,_+32),d=b4(l,_+48))}for(var C=n&&n.filter,E=0;E<v;++E){var w=zh(l,d,g),m=w[0],y=w[1],e=w[2],P=w[3],O=w[4],U=w[5],W=slzh(l,U);d=O,(!C||C({name:P,size:y,originalSize:e,compression:m}))&&(m?m==8?u[P]=inflateSync(l.subarray(W,W+y),{out:new u8(e)}):err(14,"unknown compression type "+m):u[P]=slc(l,W,W+y))}return u}browser.unzipSync=unzipSync;var nifti1={},utilities$1={},niftiExtension={};Object.defineProperty(niftiExtension,"__esModule",{value:!0});niftiExtension.NIFTIEXTENSION=void 0;class NIFTIEXTENSION{constructor(n,u,p,v){r0(this,"esize");r0(this,"ecode");r0(this,"edata");r0(this,"littleEndian");if(n%16!=0)throw new Error("This does not appear to be a NIFTI extension");this.esize=n,this.ecode=u,this.edata=p,this.littleEndian=v}toArrayBuffer(){let n=new Uint8Array(this.esize),u=new Uint8Array(this.edata);n.set(u,8);let p=new DataView(n.buffer);return p.setInt32(0,this.esize,this.littleEndian),p.setInt32(4,this.ecode,this.littleEndian),n.buffer}}niftiExtension.NIFTIEXTENSION=NIFTIEXTENSION;Object.defineProperty(utilities$1,"__esModule",{value:!0});utilities$1.Utils=void 0;const nifti_extension_1=niftiExtension,Xt=class Xt{static getStringAt(n,u,p){var v="",d,g;for(d=u;d<p;d+=1)g=n.getUint8(d),g!==0&&(v+=String.fromCharCode(g));return v}static getIntAt(n,u,p){return n.getInt32(u,p)}static getFloatAt(n,u,p){return n.getFloat32(u,p)}static getDoubleAt(n,u,p){return n.getFloat64(u,p)}static getLongAt(n,u,p){var v,d=[],g=0;for(v=0;v<8;v+=1)d[v]=Xt.getByteAt(n,u+v);for(v=d.length-1;v>=0;v--)g=g*256+d[v];return g}static getExtensionsAt(n,u,p,v){let d=[],g=u;for(;g<v;){let _=p,C=Xt.getIntAt(n,g,p);if(!C)break;if(C+g>v&&(_=!_,C=Xt.getIntAt(n,g,_),C+g>v))throw new Error("This does not appear to be a valid NIFTI extension");if(C%16!=0)throw new Error("This does not appear to be a NIFTI extension");let E=Xt.getIntAt(n,g+4,_),w=n.buffer.slice(g+8,g+C);console.log("extensionByteIndex: "+(g+8)+" esize: "+C),console.log(w);let m=new nifti_extension_1.NIFTIEXTENSION(C,E,w,_);d.push(m),g+=C}return d}static toArrayBuffer(n){var u,p,v;for(u=new ArrayBuffer(n.length),p=new Uint8Array(u),v=0;v<n.length;v+=1)p[v]=n[v];return u}static isString(n){return typeof n=="string"||n instanceof String}static formatNumber(n,u=void 0){let p;return Xt.isString(n)?p=Number(n):p=n,u?p=p.toPrecision(5):p=p.toPrecision(7),parseFloat(p)}static makeCRCTable(){let n,u=[];for(var p=0;p<256;p++){n=p;for(var v=0;v<8;v++)n=n&1?3988292384^n>>>1:n>>>1;u[p]=n}return u}static crc32(n){Xt.crcTable||(Xt.crcTable=Xt.makeCRCTable());const u=Xt.crcTable;let p=-1;for(var v=0;v<n.byteLength;v++)p=p>>>8^u[(p^n.getUint8(v))&255];return(p^-1)>>>0}};r0(Xt,"crcTable",null),r0(Xt,"GUNZIP_MAGIC_COOKIE1",31),r0(Xt,"GUNZIP_MAGIC_COOKIE2",139),r0(Xt,"getByteAt",function(n,u){return n.getInt8(u)}),r0(Xt,"getShortAt",function(n,u,p){return n.getInt16(u,p)});let Utils=Xt;utilities$1.Utils=Utils;Object.defineProperty(nifti1,"__esModule",{value:!0});nifti1.NIFTI1=void 0;const utilities_1$1=utilities$1,B0=class B0{constructor(){r0(this,"littleEndian",!1);r0(this,"dim_info",0);r0(this,"dims",[]);r0(this,"intent_p1",0);r0(this,"intent_p2",0);r0(this,"intent_p3",0);r0(this,"intent_code",0);r0(this,"datatypeCode",0);r0(this,"numBitsPerVoxel",0);r0(this,"slice_start",0);r0(this,"slice_end",0);r0(this,"slice_code",0);r0(this,"pixDims",[]);r0(this,"vox_offset",0);r0(this,"scl_slope",1);r0(this,"scl_inter",0);r0(this,"xyzt_units",0);r0(this,"cal_max",0);r0(this,"cal_min",0);r0(this,"slice_duration",0);r0(this,"toffset",0);r0(this,"description","");r0(this,"aux_file","");r0(this,"intent_name","");r0(this,"qform_code",0);r0(this,"sform_code",0);r0(this,"quatern_a",0);r0(this,"quatern_b",0);r0(this,"quatern_c",0);r0(this,"quatern_d",0);r0(this,"qoffset_x",0);r0(this,"qoffset_y",0);r0(this,"qoffset_z",0);r0(this,"affine",[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]);r0(this,"qfac",1);r0(this,"quatern_R");r0(this,"magic","0");r0(this,"isHDR",!1);r0(this,"extensionFlag",[0,0,0,0]);r0(this,"extensionSize",0);r0(this,"extensionCode",0);r0(this,"extensions",[]);r0(this,"getDatatypeCodeString",function(n){return n===B0.TYPE_UINT8?"1-Byte Unsigned Integer":n===B0.TYPE_INT16?"2-Byte Signed Integer":n===B0.TYPE_INT32?"4-Byte Signed Integer":n===B0.TYPE_FLOAT32?"4-Byte Float":n===B0.TYPE_FLOAT64?"8-Byte Float":n===B0.TYPE_RGB24?"RGB":n===B0.TYPE_INT8?"1-Byte Signed Integer":n===B0.TYPE_UINT16?"2-Byte Unsigned Integer":n===B0.TYPE_UINT32?"4-Byte Unsigned Integer":n===B0.TYPE_INT64?"8-Byte Signed Integer":n===B0.TYPE_UINT64?"8-Byte Unsigned Integer":"Unknown"});r0(this,"getTransformCodeString",function(n){return n===B0.XFORM_SCANNER_ANAT?"Scanner":n===B0.XFORM_ALIGNED_ANAT?"Aligned":n===B0.XFORM_TALAIRACH?"Talairach":n===B0.XFORM_MNI_152?"MNI":"Unknown"});r0(this,"getUnitsCodeString",function(n){return n===B0.UNITS_METER?"Meters":n===B0.UNITS_MM?"Millimeters":n===B0.UNITS_MICRON?"Microns":n===B0.UNITS_SEC?"Seconds":n===B0.UNITS_MSEC?"Milliseconds":n===B0.UNITS_USEC?"Microseconds":n===B0.UNITS_HZ?"Hz":n===B0.UNITS_PPM?"PPM":n===B0.UNITS_RADS?"Rads":"Unknown"});r0(this,"nifti_mat33_mul",function(n,u){var p=[[0,0,0],[0,0,0],[0,0,0]],v,d;for(v=0;v<3;v+=1)for(d=0;d<3;d+=1)p[v][d]=n[v][0]*u[0][d]+n[v][1]*u[1][d]+n[v][2]*u[2][d];return p});r0(this,"nifti_mat33_determ",function(n){var u,p,v,d,g,_,C,E,w;return u=n[0][0],p=n[0][1],v=n[0][2],d=n[1][0],g=n[1][1],_=n[1][2],C=n[2][0],E=n[2][1],w=n[2][2],u*g*w-u*E*_-d*p*w+d*E*v+C*p*_-C*g*v})}readHeader(n){var u=new DataView(n),p=utilities_1$1.Utils.getIntAt(u,0,this.littleEndian),v,d,g,_;if(p!==B0.MAGIC_COOKIE&&(this.littleEndian=!0,p=utilities_1$1.Utils.getIntAt(u,0,this.littleEndian)),p!==B0.MAGIC_COOKIE)throw new Error("This does not appear to be a NIFTI file!");for(this.dim_info=utilities_1$1.Utils.getByteAt(u,39),v=0;v<8;v+=1)_=40+v*2,this.dims[v]=utilities_1$1.Utils.getShortAt(u,_,this.littleEndian);for(this.intent_p1=utilities_1$1.Utils.getFloatAt(u,56,this.littleEndian),this.intent_p2=utilities_1$1.Utils.getFloatAt(u,60,this.littleEndian),this.intent_p3=utilities_1$1.Utils.getFloatAt(u,64,this.littleEndian),this.intent_code=utilities_1$1.Utils.getShortAt(u,68,this.littleEndian),this.datatypeCode=utilities_1$1.Utils.getShortAt(u,70,this.littleEndian),this.numBitsPerVoxel=utilities_1$1.Utils.getShortAt(u,72,this.littleEndian),this.slice_start=utilities_1$1.Utils.getShortAt(u,74,this.littleEndian),v=0;v<8;v+=1)_=76+v*4,this.pixDims[v]=utilities_1$1.Utils.getFloatAt(u,_,this.littleEndian);if(this.vox_offset=utilities_1$1.Utils.getFloatAt(u,108,this.littleEndian),this.scl_slope=utilities_1$1.Utils.getFloatAt(u,112,this.littleEndian),this.scl_inter=utilities_1$1.Utils.getFloatAt(u,116,this.littleEndian),this.slice_end=utilities_1$1.Utils.getShortAt(u,120,this.littleEndian),this.slice_code=utilities_1$1.Utils.getByteAt(u,122),this.xyzt_units=utilities_1$1.Utils.getByteAt(u,123),this.cal_max=utilities_1$1.Utils.getFloatAt(u,124,this.littleEndian),this.cal_min=utilities_1$1.Utils.getFloatAt(u,128,this.littleEndian),this.slice_duration=utilities_1$1.Utils.getFloatAt(u,132,this.littleEndian),this.toffset=utilities_1$1.Utils.getFloatAt(u,136,this.littleEndian),this.description=utilities_1$1.Utils.getStringAt(u,148,228),this.aux_file=utilities_1$1.Utils.getStringAt(u,228,252),this.qform_code=utilities_1$1.Utils.getShortAt(u,252,this.littleEndian),this.sform_code=utilities_1$1.Utils.getShortAt(u,254,this.littleEndian),this.quatern_b=utilities_1$1.Utils.getFloatAt(u,256,this.littleEndian),this.quatern_c=utilities_1$1.Utils.getFloatAt(u,260,this.littleEndian),this.quatern_d=utilities_1$1.Utils.getFloatAt(u,264,this.littleEndian),this.quatern_a=Math.sqrt(1-(Math.pow(this.quatern_b,2)+Math.pow(this.quatern_c,2)+Math.pow(this.quatern_d,2))),this.qoffset_x=utilities_1$1.Utils.getFloatAt(u,268,this.littleEndian),this.qoffset_y=utilities_1$1.Utils.getFloatAt(u,272,this.littleEndian),this.qoffset_z=utilities_1$1.Utils.getFloatAt(u,276,this.littleEndian),this.qform_code<1&&this.sform_code<1&&(this.affine[0][0]=this.pixDims[1],this.affine[1][1]=this.pixDims[2],this.affine[2][2]=this.pixDims[3]),this.qform_code>0&&this.sform_code<this.qform_code){const C=this.quatern_a,E=this.quatern_b,w=this.quatern_c,m=this.quatern_d;for(this.qfac=this.pixDims[0]===0?1:this.pixDims[0],this.quatern_R=[[C*C+E*E-w*w-m*m,2*E*w-2*C*m,2*E*m+2*C*w],[2*E*w+2*C*m,C*C+w*w-E*E-m*m,2*w*m-2*C*E],[2*E*m-2*C*w,2*w*m+2*C*E,C*C+m*m-w*w-E*E]],d=0;d<3;d+=1)for(g=0;g<3;g+=1)this.affine[d][g]=this.quatern_R[d][g]*this.pixDims[g+1],g===2&&(this.affine[d][g]*=this.qfac);this.affine[0][3]=this.qoffset_x,this.affine[1][3]=this.qoffset_y,this.affine[2][3]=this.qoffset_z}else if(this.sform_code>0)for(d=0;d<3;d+=1)for(g=0;g<4;g+=1)_=280+(d*4+g)*4,this.affine[d][g]=utilities_1$1.Utils.getFloatAt(u,_,this.littleEndian);if(this.affine[3][0]=0,this.affine[3][1]=0,this.affine[3][2]=0,this.affine[3][3]=1,this.intent_name=utilities_1$1.Utils.getStringAt(u,328,344),this.magic=utilities_1$1.Utils.getStringAt(u,344,348),this.isHDR=this.magic===String.fromCharCode.apply(null,B0.MAGIC_NUMBER2),u.byteLength>B0.MAGIC_COOKIE){this.extensionFlag[0]=utilities_1$1.Utils.getByteAt(u,348),this.extensionFlag[1]=utilities_1$1.Utils.getByteAt(u,349),this.extensionFlag[2]=utilities_1$1.Utils.getByteAt(u,350),this.extensionFlag[3]=utilities_1$1.Utils.getByteAt(u,351);let C=!0;!this.isHDR&&this.vox_offset<=352&&(C=!1),u.byteLength<=368&&(C=!1),C&&this.extensionFlag[0]&&(this.extensions=utilities_1$1.Utils.getExtensionsAt(u,this.getExtensionLocation(),this.littleEndian,this.vox_offset),this.extensionSize=this.extensions[0].esize,this.extensionCode=this.extensions[0].ecode)}}toFormattedString(){var n=utilities_1$1.Utils.formatNumber,u="";return u+="Dim Info = "+this.dim_info+`
`,u+="Image Dimensions (1-8): "+this.dims[0]+", "+this.dims[1]+", "+this.dims[2]+", "+this.dims[3]+", "+this.dims[4]+", "+this.dims[5]+", "+this.dims[6]+", "+this.dims[7]+`
`,u+="Intent Parameters (1-3): "+this.intent_p1+", "+this.intent_p2+", "+this.intent_p3+`
`,u+="Intent Code = "+this.intent_code+`
`,u+="Datatype = "+this.datatypeCode+" ("+this.getDatatypeCodeString(this.datatypeCode)+`)
`,u+="Bits Per Voxel = "+this.numBitsPerVoxel+`
`,u+="Slice Start = "+this.slice_start+`
`,u+="Voxel Dimensions (1-8): "+n(this.pixDims[0])+", "+n(this.pixDims[1])+", "+n(this.pixDims[2])+", "+n(this.pixDims[3])+", "+n(this.pixDims[4])+", "+n(this.pixDims[5])+", "+n(this.pixDims[6])+", "+n(this.pixDims[7])+`
`,u+="Image Offset = "+this.vox_offset+`
`,u+="Data Scale:  Slope = "+n(this.scl_slope)+"  Intercept = "+n(this.scl_inter)+`
`,u+="Slice End = "+this.slice_end+`
`,u+="Slice Code = "+this.slice_code+`
`,u+="Units Code = "+this.xyzt_units+" ("+this.getUnitsCodeString(B0.SPATIAL_UNITS_MASK&this.xyzt_units)+", "+this.getUnitsCodeString(B0.TEMPORAL_UNITS_MASK&this.xyzt_units)+`)
`,u+="Display Range:  Max = "+n(this.cal_max)+"  Min = "+n(this.cal_min)+`
`,u+="Slice Duration = "+this.slice_duration+`
`,u+="Time Axis Shift = "+this.toffset+`
`,u+='Description: "'+this.description+`"
`,u+='Auxiliary File: "'+this.aux_file+`"
`,u+="Q-Form Code = "+this.qform_code+" ("+this.getTransformCodeString(this.qform_code)+`)
`,u+="S-Form Code = "+this.sform_code+" ("+this.getTransformCodeString(this.sform_code)+`)
`,u+="Quaternion Parameters:  b = "+n(this.quatern_b)+"  c = "+n(this.quatern_c)+"  d = "+n(this.quatern_d)+`
`,u+="Quaternion Offsets:  x = "+this.qoffset_x+"  y = "+this.qoffset_y+"  z = "+this.qoffset_z+`
`,u+="S-Form Parameters X: "+n(this.affine[0][0])+", "+n(this.affine[0][1])+", "+n(this.affine[0][2])+", "+n(this.affine[0][3])+`
`,u+="S-Form Parameters Y: "+n(this.affine[1][0])+", "+n(this.affine[1][1])+", "+n(this.affine[1][2])+", "+n(this.affine[1][3])+`
`,u+="S-Form Parameters Z: "+n(this.affine[2][0])+", "+n(this.affine[2][1])+", "+n(this.affine[2][2])+", "+n(this.affine[2][3])+`
`,u+='Intent Name: "'+this.intent_name+`"
`,this.extensionFlag[0]&&(u+="Extension: Size = "+this.extensionSize+"  Code = "+this.extensionCode+`
`),u}getQformMat(){return this.convertNiftiQFormToNiftiSForm(this.quatern_b,this.quatern_c,this.quatern_d,this.qoffset_x,this.qoffset_y,this.qoffset_z,this.pixDims[1],this.pixDims[2],this.pixDims[3],this.pixDims[0])}convertNiftiQFormToNiftiSForm(n,u,p,v,d,g,_,C,E,w){var m=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],y,e=n,P=u,O=p,U,W,V;return m[3][0]=m[3][1]=m[3][2]=0,m[3][3]=1,y=1-(e*e+P*P+O*O),y<1e-7?(y=1/Math.sqrt(e*e+P*P+O*O),e*=y,P*=y,O*=y,y=0):y=Math.sqrt(y),U=_>0?_:1,W=C>0?C:1,V=E>0?E:1,w<0&&(V=-V),m[0][0]=(y*y+e*e-P*P-O*O)*U,m[0][1]=2*(e*P-y*O)*W,m[0][2]=2*(e*O+y*P)*V,m[1][0]=2*(e*P+y*O)*U,m[1][1]=(y*y+P*P-e*e-O*O)*W,m[1][2]=2*(P*O-y*e)*V,m[2][0]=2*(e*O-y*P)*U,m[2][1]=2*(P*O+y*e)*W,m[2][2]=(y*y+O*O-P*P-e*e)*V,m[0][3]=v,m[1][3]=d,m[2][3]=g,m}convertNiftiSFormToNEMA(n){var u,p,v,d,g,_,C,E,w,m,y,e,P,O,U,W,V,$,b,H,G,Y,X,j,h,ae,le,he,pe,Ae,ge,ye,we,be;if(U=0,le=[[0,0,0],[0,0,0],[0,0,0]],he=[[0,0,0],[0,0,0],[0,0,0]],u=n[0][0],p=n[0][1],v=n[0][2],d=n[1][0],g=n[1][1],_=n[1][2],C=n[2][0],E=n[2][1],w=n[2][2],m=Math.sqrt(u*u+d*d+C*C),m===0||(u/=m,d/=m,C/=m,m=Math.sqrt(p*p+g*g+E*E),m===0))return null;if(p/=m,g/=m,E/=m,m=u*p+d*g+C*E,Math.abs(m)>1e-4){if(p-=m*u,g-=m*d,E-=m*C,m=Math.sqrt(p*p+g*g+E*E),m===0)return null;p/=m,g/=m,E/=m}if(m=Math.sqrt(v*v+_*_+w*w),m===0?(v=d*E-C*g,_=C*p-E*u,w=u*g-d*p):(v/=m,_/=m,w/=m),m=u*v+d*_+C*w,Math.abs(m)>1e-4){if(v-=m*u,_-=m*d,w-=m*C,m=Math.sqrt(v*v+_*_+w*w),m===0)return null;v/=m,_/=m,w/=m}if(m=p*v+g*_+E*w,Math.abs(m)>1e-4){if(v-=m*p,_-=m*g,w-=m*E,m=Math.sqrt(v*v+_*_+w*w),m===0)return null;v/=m,_/=m,w/=m}if(le[0][0]=u,le[0][1]=p,le[0][2]=v,le[1][0]=d,le[1][1]=g,le[1][2]=_,le[2][0]=C,le[2][1]=E,le[2][2]=w,y=this.nifti_mat33_determ(le),y===0)return null;for(ae=-666,b=Y=X=j=1,H=2,G=3,P=1;P<=3;P+=1)for(O=1;O<=3;O+=1)if(P!==O){for(U=1;U<=3;U+=1)if(!(P===U||O===U))for(he[0][0]=he[0][1]=he[0][2]=he[1][0]=he[1][1]=he[1][2]=he[2][0]=he[2][1]=he[2][2]=0,W=-1;W<=1;W+=2)for(V=-1;V<=1;V+=2)for($=-1;$<=1;$+=2)he[0][P-1]=W,he[1][O-1]=V,he[2][U-1]=$,e=this.nifti_mat33_determ(he),e*y>0&&(h=this.nifti_mat33_mul(he,le),m=h[0][0]+h[1][1]+h[2][2],m>ae&&(ae=m,b=P,H=O,G=U,Y=W,X=V,j=$))}switch(pe=Ae=ge=ye=we=be="",b*Y){case 1:pe="X",ye="+";break;case-1:pe="X",ye="-";break;case 2:pe="Y",ye="+";break;case-2:pe="Y",ye="-";break;case 3:pe="Z",ye="+";break;case-3:pe="Z",ye="-";break}switch(H*X){case 1:Ae="X",we="+";break;case-1:Ae="X",we="-";break;case 2:Ae="Y",we="+";break;case-2:Ae="Y",we="-";break;case 3:Ae="Z",we="+";break;case-3:Ae="Z",we="-";break}switch(G*j){case 1:ge="X",be="+";break;case-1:ge="X",be="-";break;case 2:ge="Y",be="+";break;case-2:ge="Y",be="-";break;case 3:ge="Z",be="+";break;case-3:ge="Z",be="-";break}return pe+Ae+ge+ye+we+be}getExtensionLocation(){return B0.MAGIC_COOKIE+4}getExtensionSize(n){return utilities_1$1.Utils.getIntAt(n,this.getExtensionLocation(),this.littleEndian)}getExtensionCode(n){return utilities_1$1.Utils.getIntAt(n,this.getExtensionLocation()+4,this.littleEndian)}addExtension(n,u=-1){u==-1?this.extensions.push(n):this.extensions.splice(u,0,n),this.vox_offset+=n.esize}removeExtension(n){let u=this.extensions[n];u&&(this.vox_offset-=u.esize),this.extensions.splice(n,1)}toArrayBuffer(n=!1){let v=352;if(n)for(let C of this.extensions)v+=C.esize;let d=new Uint8Array(v),g=new DataView(d.buffer);g.setInt32(0,348,this.littleEndian),g.setUint8(39,this.dim_info);for(let C=0;C<8;C++)g.setUint16(40+2*C,this.dims[C],this.littleEndian);g.setFloat32(56,this.intent_p1,this.littleEndian),g.setFloat32(60,this.intent_p2,this.littleEndian),g.setFloat32(64,this.intent_p3,this.littleEndian),g.setInt16(68,this.intent_code,this.littleEndian),g.setInt16(70,this.datatypeCode,this.littleEndian),g.setInt16(72,this.numBitsPerVoxel,this.littleEndian),g.setInt16(74,this.slice_start,this.littleEndian);for(let C=0;C<8;C++)g.setFloat32(76+4*C,this.pixDims[C],this.littleEndian);g.setFloat32(108,this.vox_offset,this.littleEndian),g.setFloat32(112,this.scl_slope,this.littleEndian),g.setFloat32(116,this.scl_inter,this.littleEndian),g.setInt16(120,this.slice_end,this.littleEndian),g.setUint8(122,this.slice_code),g.setUint8(123,this.xyzt_units),g.setFloat32(124,this.cal_max,this.littleEndian),g.setFloat32(128,this.cal_min,this.littleEndian),g.setFloat32(132,this.slice_duration,this.littleEndian),g.setFloat32(136,this.toffset,this.littleEndian),d.set(Buffer.from(this.description),148),d.set(Buffer.from(this.aux_file),228),g.setInt16(252,this.qform_code,this.littleEndian),g.setInt16(254,this.sform_code,this.littleEndian),g.setFloat32(256,this.quatern_b,this.littleEndian),g.setFloat32(260,this.quatern_c,this.littleEndian),g.setFloat32(264,this.quatern_d,this.littleEndian),g.setFloat32(268,this.qoffset_x,this.littleEndian),g.setFloat32(272,this.qoffset_y,this.littleEndian),g.setFloat32(276,this.qoffset_z,this.littleEndian);const _=this.affine.flat();for(let C=0;C<12;C++)g.setFloat32(280+4*C,_[C],this.littleEndian);if(d.set(Buffer.from(this.intent_name),328),d.set(Buffer.from(this.magic),344),n){d.set(Uint8Array.from([1,0,0,0]),348);let C=this.getExtensionLocation();for(const E of this.extensions)g.setInt32(C,E.esize,E.littleEndian),g.setInt32(C+4,E.ecode,E.littleEndian),d.set(new Uint8Array(E.edata),C+8),C+=E.esize}else d.set(new Uint8Array(4).fill(0),348);return d.buffer}};r0(B0,"TYPE_NONE",0),r0(B0,"TYPE_BINARY",1),r0(B0,"TYPE_UINT8",2),r0(B0,"TYPE_INT16",4),r0(B0,"TYPE_INT32",8),r0(B0,"TYPE_FLOAT32",16),r0(B0,"TYPE_COMPLEX64",32),r0(B0,"TYPE_FLOAT64",64),r0(B0,"TYPE_RGB24",128),r0(B0,"TYPE_INT8",256),r0(B0,"TYPE_UINT16",512),r0(B0,"TYPE_UINT32",768),r0(B0,"TYPE_INT64",1024),r0(B0,"TYPE_UINT64",1280),r0(B0,"TYPE_FLOAT128",1536),r0(B0,"TYPE_COMPLEX128",1792),r0(B0,"TYPE_COMPLEX256",2048),r0(B0,"XFORM_UNKNOWN",0),r0(B0,"XFORM_SCANNER_ANAT",1),r0(B0,"XFORM_ALIGNED_ANAT",2),r0(B0,"XFORM_TALAIRACH",3),r0(B0,"XFORM_MNI_152",4),r0(B0,"SPATIAL_UNITS_MASK",7),r0(B0,"TEMPORAL_UNITS_MASK",56),r0(B0,"UNITS_UNKNOWN",0),r0(B0,"UNITS_METER",1),r0(B0,"UNITS_MM",2),r0(B0,"UNITS_MICRON",3),r0(B0,"UNITS_SEC",8),r0(B0,"UNITS_MSEC",16),r0(B0,"UNITS_USEC",24),r0(B0,"UNITS_HZ",32),r0(B0,"UNITS_PPM",40),r0(B0,"UNITS_RADS",48),r0(B0,"MAGIC_COOKIE",348),r0(B0,"STANDARD_HEADER_SIZE",348),r0(B0,"MAGIC_NUMBER_LOCATION",344),r0(B0,"MAGIC_NUMBER",[110,43,49]),r0(B0,"MAGIC_NUMBER2",[110,105,49]),r0(B0,"EXTENSION_HEADER_SIZE",8);let NIFTI1=B0;nifti1.NIFTI1=NIFTI1;var nifti2={};Object.defineProperty(nifti2,"__esModule",{value:!0});nifti2.NIFTI2=void 0;const nifti1_1=nifti1,utilities_1=utilities$1,vi=class vi{constructor(){r0(this,"littleEndian",!1);r0(this,"dim_info",0);r0(this,"dims",[]);r0(this,"intent_p1",0);r0(this,"intent_p2",0);r0(this,"intent_p3",0);r0(this,"intent_code",0);r0(this,"datatypeCode",0);r0(this,"numBitsPerVoxel",0);r0(this,"slice_start",0);r0(this,"slice_end",0);r0(this,"slice_code",0);r0(this,"pixDims",[]);r0(this,"vox_offset",0);r0(this,"scl_slope",1);r0(this,"scl_inter",0);r0(this,"xyzt_units",0);r0(this,"cal_max",0);r0(this,"cal_min",0);r0(this,"slice_duration",0);r0(this,"toffset",0);r0(this,"description","");r0(this,"aux_file","");r0(this,"intent_name","");r0(this,"qform_code",0);r0(this,"sform_code",0);r0(this,"quatern_b",0);r0(this,"quatern_c",0);r0(this,"quatern_d",0);r0(this,"qoffset_x",0);r0(this,"qoffset_y",0);r0(this,"qoffset_z",0);r0(this,"affine",[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]);r0(this,"magic","0");r0(this,"extensionFlag",[0,0,0,0]);r0(this,"extensions",[]);r0(this,"extensionSize",0);r0(this,"extensionCode",0);r0(this,"getExtensionLocation",function(){return vi.MAGIC_COOKIE+4});r0(this,"getExtensionSize",nifti1_1.NIFTI1.prototype.getExtensionSize);r0(this,"getExtensionCode",nifti1_1.NIFTI1.prototype.getExtensionCode);r0(this,"addExtension",nifti1_1.NIFTI1.prototype.addExtension);r0(this,"removeExtension",nifti1_1.NIFTI1.prototype.removeExtension);r0(this,"getDatatypeCodeString",nifti1_1.NIFTI1.prototype.getDatatypeCodeString);r0(this,"getTransformCodeString",nifti1_1.NIFTI1.prototype.getTransformCodeString);r0(this,"getUnitsCodeString",nifti1_1.NIFTI1.prototype.getUnitsCodeString);r0(this,"getQformMat",nifti1_1.NIFTI1.prototype.getQformMat);r0(this,"convertNiftiQFormToNiftiSForm",nifti1_1.NIFTI1.prototype.convertNiftiQFormToNiftiSForm);r0(this,"convertNiftiSFormToNEMA",nifti1_1.NIFTI1.prototype.convertNiftiSFormToNEMA);r0(this,"nifti_mat33_mul",nifti1_1.NIFTI1.prototype.nifti_mat33_mul);r0(this,"nifti_mat33_determ",nifti1_1.NIFTI1.prototype.nifti_mat33_determ)}readHeader(n){var u=new DataView(n),p=utilities_1.Utils.getIntAt(u,0,this.littleEndian),v,d,g,_;if(p!==vi.MAGIC_COOKIE&&(this.littleEndian=!0,p=utilities_1.Utils.getIntAt(u,0,this.littleEndian)),p!==vi.MAGIC_COOKIE)throw new Error("This does not appear to be a NIFTI file!");for(this.magic=utilities_1.Utils.getStringAt(u,4,12),this.datatypeCode=utilities_1.Utils.getShortAt(u,12,this.littleEndian),this.numBitsPerVoxel=utilities_1.Utils.getShortAt(u,14,this.littleEndian),v=0;v<8;v+=1)_=16+v*8,this.dims[v]=utilities_1.Utils.getLongAt(u,_,this.littleEndian);for(this.intent_p1=utilities_1.Utils.getDoubleAt(u,80,this.littleEndian),this.intent_p2=utilities_1.Utils.getDoubleAt(u,88,this.littleEndian),this.intent_p3=utilities_1.Utils.getDoubleAt(u,96,this.littleEndian),v=0;v<8;v+=1)_=104+v*8,this.pixDims[v]=utilities_1.Utils.getDoubleAt(u,_,this.littleEndian);for(this.vox_offset=utilities_1.Utils.getLongAt(u,168,this.littleEndian),this.scl_slope=utilities_1.Utils.getDoubleAt(u,176,this.littleEndian),this.scl_inter=utilities_1.Utils.getDoubleAt(u,184,this.littleEndian),this.cal_max=utilities_1.Utils.getDoubleAt(u,192,this.littleEndian),this.cal_min=utilities_1.Utils.getDoubleAt(u,200,this.littleEndian),this.slice_duration=utilities_1.Utils.getDoubleAt(u,208,this.littleEndian),this.toffset=utilities_1.Utils.getDoubleAt(u,216,this.littleEndian),this.slice_start=utilities_1.Utils.getLongAt(u,224,this.littleEndian),this.slice_end=utilities_1.Utils.getLongAt(u,232,this.littleEndian),this.description=utilities_1.Utils.getStringAt(u,240,320),this.aux_file=utilities_1.Utils.getStringAt(u,320,344),this.qform_code=utilities_1.Utils.getIntAt(u,344,this.littleEndian),this.sform_code=utilities_1.Utils.getIntAt(u,348,this.littleEndian),this.quatern_b=utilities_1.Utils.getDoubleAt(u,352,this.littleEndian),this.quatern_c=utilities_1.Utils.getDoubleAt(u,360,this.littleEndian),this.quatern_d=utilities_1.Utils.getDoubleAt(u,368,this.littleEndian),this.qoffset_x=utilities_1.Utils.getDoubleAt(u,376,this.littleEndian),this.qoffset_y=utilities_1.Utils.getDoubleAt(u,384,this.littleEndian),this.qoffset_z=utilities_1.Utils.getDoubleAt(u,392,this.littleEndian),d=0;d<3;d+=1)for(g=0;g<4;g+=1)_=400+(d*4+g)*8,this.affine[d][g]=utilities_1.Utils.getDoubleAt(u,_,this.littleEndian);this.affine[3][0]=0,this.affine[3][1]=0,this.affine[3][2]=0,this.affine[3][3]=1,this.slice_code=utilities_1.Utils.getIntAt(u,496,this.littleEndian),this.xyzt_units=utilities_1.Utils.getIntAt(u,500,this.littleEndian),this.intent_code=utilities_1.Utils.getIntAt(u,504,this.littleEndian),this.intent_name=utilities_1.Utils.getStringAt(u,508,524),this.dim_info=utilities_1.Utils.getByteAt(u,524),u.byteLength>vi.MAGIC_COOKIE&&(this.extensionFlag[0]=utilities_1.Utils.getByteAt(u,540),this.extensionFlag[1]=utilities_1.Utils.getByteAt(u,541),this.extensionFlag[2]=utilities_1.Utils.getByteAt(u,542),this.extensionFlag[3]=utilities_1.Utils.getByteAt(u,543),this.extensionFlag[0]&&(this.extensions=utilities_1.Utils.getExtensionsAt(u,this.getExtensionLocation(),this.littleEndian,this.vox_offset),this.extensionSize=this.extensions[0].esize,this.extensionCode=this.extensions[0].ecode))}toFormattedString(){var n=utilities_1.Utils.formatNumber,u="";return u+="Datatype = "+ +this.datatypeCode+" ("+this.getDatatypeCodeString(this.datatypeCode)+`)
`,u+="Bits Per Voxel =  = "+this.numBitsPerVoxel+`
`,u+="Image Dimensions (1-8): "+this.dims[0]+", "+this.dims[1]+", "+this.dims[2]+", "+this.dims[3]+", "+this.dims[4]+", "+this.dims[5]+", "+this.dims[6]+", "+this.dims[7]+`
`,u+="Intent Parameters (1-3): "+this.intent_p1+", "+this.intent_p2+", "+this.intent_p3+`
`,u+="Voxel Dimensions (1-8): "+n(this.pixDims[0])+", "+n(this.pixDims[1])+", "+n(this.pixDims[2])+", "+n(this.pixDims[3])+", "+n(this.pixDims[4])+", "+n(this.pixDims[5])+", "+n(this.pixDims[6])+", "+n(this.pixDims[7])+`
`,u+="Image Offset = "+this.vox_offset+`
`,u+="Data Scale:  Slope = "+n(this.scl_slope)+"  Intercept = "+n(this.scl_inter)+`
`,u+="Display Range:  Max = "+n(this.cal_max)+"  Min = "+n(this.cal_min)+`
`,u+="Slice Duration = "+this.slice_duration+`
`,u+="Time Axis Shift = "+this.toffset+`
`,u+="Slice Start = "+this.slice_start+`
`,u+="Slice End = "+this.slice_end+`
`,u+='Description: "'+this.description+`"
`,u+='Auxiliary File: "'+this.aux_file+`"
`,u+="Q-Form Code = "+this.qform_code+" ("+this.getTransformCodeString(this.qform_code)+`)
`,u+="S-Form Code = "+this.sform_code+" ("+this.getTransformCodeString(this.sform_code)+`)
`,u+="Quaternion Parameters:  b = "+n(this.quatern_b)+"  c = "+n(this.quatern_c)+"  d = "+n(this.quatern_d)+`
`,u+="Quaternion Offsets:  x = "+this.qoffset_x+"  y = "+this.qoffset_y+"  z = "+this.qoffset_z+`
`,u+="S-Form Parameters X: "+n(this.affine[0][0])+", "+n(this.affine[0][1])+", "+n(this.affine[0][2])+", "+n(this.affine[0][3])+`
`,u+="S-Form Parameters Y: "+n(this.affine[1][0])+", "+n(this.affine[1][1])+", "+n(this.affine[1][2])+", "+n(this.affine[1][3])+`
`,u+="S-Form Parameters Z: "+n(this.affine[2][0])+", "+n(this.affine[2][1])+", "+n(this.affine[2][2])+", "+n(this.affine[2][3])+`
`,u+="Slice Code = "+this.slice_code+`
`,u+="Units Code = "+this.xyzt_units+" ("+this.getUnitsCodeString(nifti1_1.NIFTI1.SPATIAL_UNITS_MASK&this.xyzt_units)+", "+this.getUnitsCodeString(nifti1_1.NIFTI1.TEMPORAL_UNITS_MASK&this.xyzt_units)+`)
`,u+="Intent Code = "+this.intent_code+`
`,u+='Intent Name: "'+this.intent_name+`"
`,u+="Dim Info = "+this.dim_info+`
`,u}toArrayBuffer(n=!1){let v=544;if(n)for(let C of this.extensions)v+=C.esize;let d=new Uint8Array(v),g=new DataView(d.buffer);g.setInt32(0,540,this.littleEndian),d.set(Buffer.from(this.magic),4),g.setInt16(12,this.datatypeCode,this.littleEndian),g.setInt16(14,this.numBitsPerVoxel,this.littleEndian);for(let C=0;C<8;C++)g.setBigInt64(16+8*C,BigInt(this.dims[C]),this.littleEndian);g.setFloat64(80,this.intent_p1,this.littleEndian),g.setFloat64(88,this.intent_p2,this.littleEndian),g.setFloat64(96,this.intent_p3,this.littleEndian);for(let C=0;C<8;C++)g.setFloat64(104+8*C,this.pixDims[C],this.littleEndian);g.setBigInt64(168,BigInt(this.vox_offset),this.littleEndian),g.setFloat64(176,this.scl_slope,this.littleEndian),g.setFloat64(184,this.scl_inter,this.littleEndian),g.setFloat64(192,this.cal_max,this.littleEndian),g.setFloat64(200,this.cal_min,this.littleEndian),g.setFloat64(208,this.slice_duration,this.littleEndian),g.setFloat64(216,this.toffset,this.littleEndian),g.setBigInt64(224,BigInt(this.slice_start),this.littleEndian),g.setBigInt64(232,BigInt(this.slice_end),this.littleEndian),d.set(Buffer.from(this.description),240),d.set(Buffer.from(this.aux_file),320),g.setInt32(344,this.qform_code,this.littleEndian),g.setInt32(348,this.sform_code,this.littleEndian),g.setFloat64(352,this.quatern_b,this.littleEndian),g.setFloat64(360,this.quatern_c,this.littleEndian),g.setFloat64(368,this.quatern_d,this.littleEndian),g.setFloat64(376,this.qoffset_x,this.littleEndian),g.setFloat64(384,this.qoffset_y,this.littleEndian),g.setFloat64(392,this.qoffset_z,this.littleEndian);const _=this.affine.flat();for(let C=0;C<12;C++)g.setFloat64(400+8*C,_[C],this.littleEndian);if(g.setInt32(496,this.slice_code,this.littleEndian),g.setInt32(500,this.xyzt_units,this.littleEndian),g.setInt32(504,this.intent_code,this.littleEndian),d.set(Buffer.from(this.intent_name),508),g.setUint8(524,this.dim_info),n){d.set(Uint8Array.from([1,0,0,0]),540);let C=this.getExtensionLocation();for(const E of this.extensions)g.setInt32(C,E.esize,E.littleEndian),g.setInt32(C+4,E.ecode,E.littleEndian),d.set(new Uint8Array(E.edata),C+8),C+=E.esize}else d.set(new Uint8Array(4).fill(0),540);return d.buffer}};r0(vi,"MAGIC_COOKIE",540),r0(vi,"MAGIC_NUMBER_LOCATION",4),r0(vi,"MAGIC_NUMBER",[110,43,50,0,13,10,26,10]),r0(vi,"MAGIC_NUMBER2",[110,105,50,0,13,10,26,10]);let NIFTI2=vi;nifti2.NIFTI2=NIFTI2;(function(l){var n=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(G,Y,X,j){j===void 0&&(j=X);var h=Object.getOwnPropertyDescriptor(Y,X);(!h||("get"in h?!Y.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return Y[X]}}),Object.defineProperty(G,j,h)}:function(G,Y,X,j){j===void 0&&(j=X),G[j]=Y[X]}),u=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(G,Y){Object.defineProperty(G,"default",{enumerable:!0,value:Y})}:function(G,Y){G.default=Y}),p=commonjsGlobal&&commonjsGlobal.__importStar||function(G){if(G&&G.__esModule)return G;var Y={};if(G!=null)for(var X in G)X!=="default"&&Object.prototype.hasOwnProperty.call(G,X)&&n(Y,G,X);return u(Y,G),Y};Object.defineProperty(l,"__esModule",{value:!0}),l.readExtensionData=l.readExtension=l.readImage=l.hasExtension=l.readHeader=l.decompress=l.isCompressed=l.isNIFTI=l.isNIFTI2=l.isNIFTI1=l.NIFTIEXTENSION=l.Utils=l.NIFTI2=l.NIFTI1=void 0;const v=p(browser),d=nifti1,g=nifti2,_=utilities$1;var C=nifti1;Object.defineProperty(l,"NIFTI1",{enumerable:!0,get:function(){return C.NIFTI1}});var E=nifti2;Object.defineProperty(l,"NIFTI2",{enumerable:!0,get:function(){return E.NIFTI2}});var w=utilities$1;Object.defineProperty(l,"Utils",{enumerable:!0,get:function(){return w.Utils}});var m=niftiExtension;Object.defineProperty(l,"NIFTIEXTENSION",{enumerable:!0,get:function(){return m.NIFTIEXTENSION}});function y(G,Y=!1){var X,j,h,ae;return G.byteLength<d.NIFTI1.STANDARD_HEADER_SIZE?!1:(X=new DataView(G),X&&(j=X.getUint8(d.NIFTI1.MAGIC_NUMBER_LOCATION)),h=X.getUint8(d.NIFTI1.MAGIC_NUMBER_LOCATION+1),ae=X.getUint8(d.NIFTI1.MAGIC_NUMBER_LOCATION+2),Y&&j===d.NIFTI1.MAGIC_NUMBER2[0]&&h===d.NIFTI1.MAGIC_NUMBER2[1]&&ae===d.NIFTI1.MAGIC_NUMBER2[2]?!0:j===d.NIFTI1.MAGIC_NUMBER[0]&&h===d.NIFTI1.MAGIC_NUMBER[1]&&ae===d.NIFTI1.MAGIC_NUMBER[2])}l.isNIFTI1=y;function e(G,Y=!1){var X,j,h,ae;return G.byteLength<d.NIFTI1.STANDARD_HEADER_SIZE?!1:(X=new DataView(G),j=X.getUint8(g.NIFTI2.MAGIC_NUMBER_LOCATION),h=X.getUint8(g.NIFTI2.MAGIC_NUMBER_LOCATION+1),ae=X.getUint8(g.NIFTI2.MAGIC_NUMBER_LOCATION+2),Y&&j===g.NIFTI2.MAGIC_NUMBER2[0]&&h===g.NIFTI2.MAGIC_NUMBER2[1]&&ae===g.NIFTI2.MAGIC_NUMBER2[2]?!0:j===g.NIFTI2.MAGIC_NUMBER[0]&&h===g.NIFTI2.MAGIC_NUMBER[1]&&ae===g.NIFTI2.MAGIC_NUMBER[2])}l.isNIFTI2=e;function P(G,Y=!1){return y(G,Y)||e(G,Y)}l.isNIFTI=P;function O(G){var Y,X,j;return!!(G&&(Y=new DataView(G),X=Y.getUint8(0),j=Y.getUint8(1),X===_.Utils.GUNZIP_MAGIC_COOKIE1||j===_.Utils.GUNZIP_MAGIC_COOKIE2))}l.isCompressed=O;function U(G){return v.decompressSync(new Uint8Array(G)).buffer}l.decompress=U;function W(G,Y=!1){var X=null;return O(G)&&(G=U(G)),y(G,Y)?X=new d.NIFTI1:e(G,Y)&&(X=new g.NIFTI2),X?X.readHeader(G):console.error("That file does not appear to be NIFTI!"),X}l.readHeader=W;function V(G){return G.extensionFlag[0]!=0}l.hasExtension=V;function $(G,Y){var X=G.vox_offset,j=1,h=1;G.dims[4]&&(j=G.dims[4]),G.dims[5]&&(h=G.dims[5]);var ae=G.dims[1]*G.dims[2]*G.dims[3]*j*h*(G.numBitsPerVoxel/8);return Y.slice(X,X+ae)}l.readImage=$;function b(G,Y){var X=G.getExtensionLocation(),j=G.extensionSize;return Y.slice(X,X+j)}l.readExtension=b;function H(G,Y){var X=G.getExtensionLocation(),j=G.extensionSize;return Y.slice(X+8,X+j)}l.readExtensionData=H})(nifti);function commonjsRequire(l){throw new Error('Could not dynamically require "'+l+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var main$2={exports:{}},compressionUtils={exports:{}},hasRequiredCompressionUtils;function requireCompressionUtils(){return hasRequiredCompressionUtils||(hasRequiredCompressionUtils=1,function(l){var n=n||{};n.CompressionUtils=n.CompressionUtils||{},n.CompressionUtils.JPEG_MAGIC_NUMBER=[255,216],n.CompressionUtils.JPEG2000_MAGIC_NUMBER=[255,79,255,81],n.CompressionUtils.isHeaderJPEG=function(u){return u?!(u.getUint8(0)!==n.CompressionUtils.JPEG_MAGIC_NUMBER[0]||u.getUint8(1)!==n.CompressionUtils.JPEG_MAGIC_NUMBER[1]):!1},n.CompressionUtils.isHeaderJPEG2000=function(u){var p;if(u){for(p=0;p<n.CompressionUtils.JPEG2000_MAGIC_NUMBER.length;p+=1)if(u.getUint8(p)!==n.CompressionUtils.JPEG2000_MAGIC_NUMBER[p])return!1;return!0}return!1},l.exports&&(l.exports=n.CompressionUtils)}(compressionUtils)),compressionUtils.exports}var dictionary={exports:{}},utilities={exports:{}},hasRequiredUtilities;function requireUtilities(){return hasRequiredUtilities||(hasRequiredUtilities=1,function(l){var n=n||{};n.Utils=n.Utils||{},n.Utils.crcTable=null,n.Utils.MAX_VALUE=9007199254740991,n.Utils.MIN_VALUE=-9007199254740991,n.Utils.dec2hex=function(u){return(u+65536).toString(16).substr(-4).toUpperCase()},n.Utils.createArray=function(u){var p=new Array(u||0),v=u;if(arguments.length>1)for(var d=Array.prototype.slice.call(arguments,1);v--;)p[u-1-v]=n.Utils.createArray.apply(this,d);return p},n.Utils.getStringAt=function(u,p,v,d,g){var _="",C,E;for(C=0;C<v;C+=1)E=u.getUint8(p+C),E!==0&&(_+=String.fromCharCode(E));return _},n.Utils.trim=function(u){return u.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},n.Utils.stripLeadingZeros=function(u){return u.replace(/^[0]+/g,"")},n.Utils.safeParseInt=function(u){return u=n.Utils.stripLeadingZeros(u),u.length>0?parseInt(u,10):0},n.Utils.convertCamcelCaseToTitleCase=function(u){var p=u.replace(/([A-Z][a-z])/g," $1");return n.Utils.trim(p.charAt(0).toUpperCase()+p.slice(1))},n.Utils.safeParseFloat=function(u){return u=n.Utils.stripLeadingZeros(u),u.length>0?parseFloat(u):0},n.Utils.bytesToDouble=function(u){var p=(u[0]&128)>>7,v=(u[0]&127)<<4|(u[1]&240)>>4;if(v==0)return 0;if(v==2047)return p?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;var d=Math.pow(2,v-1023-52),g=u[7]+u[6]*Math.pow(2,8)+u[5]*Math.pow(2,8*2)+u[4]*Math.pow(2,8*3)+u[3]*Math.pow(2,8*4)+u[2]*Math.pow(2,8*5)+(u[1]&15)*Math.pow(2,8*6)+Math.pow(2,52);return Math.pow(-1,p)*g*d},n.Utils.concatArrayBuffers=function(u,p){var v=new Uint8Array(u.byteLength+p.byteLength);return v.set(new Uint8Array(u),0),v.set(new Uint8Array(p),u.byteLength),v.buffer},n.Utils.concatArrayBuffers2=function(u){var p=0,v=0,d;for(d=0;d<u.length;d+=1)p+=u[d].byteLength;var g=new Uint8Array(p);for(d=0;d<u.length;d+=1)g.set(new Uint8Array(u[d]),v),v+=u[d].byteLength;return g.buffer},n.Utils.fillBuffer=function(u,p,v,d){var g;if(d===1)for(g=0;g<u.length;g+=1)p.setUint8(v+g,u[g]);else if(d===2)for(g=0;g<u.length;g+=1)p.setUint16(v+g*2,u[g],!0)},n.Utils.fillBufferRGB=function(u,p,v){var d,g,_,C,E=parseInt(u.length/3);for(C=0;C<E;C+=1)d=u[C*3],g=u[C*3+1],_=u[C*3+2],p.setUint8(v+C,parseInt((d+_+g)/3),!0)},n.Utils.bind=function(u,p,v,d){if(arguments.length===2)return function(){return p.apply(u,arguments)};var g=p,_=Array.prototype.slice;return function(){var C=v||arguments;return d===!0?(C=_.call(arguments,0),C=C.concat(v)):typeof d=="number"&&(C=_.call(arguments,0),Ext.Array.insert(C,d,v)),g.apply(u||window,C)}},n.Utils.toArrayBuffer=function(u){var p,v,d;for(p=new ArrayBuffer(u.length),v=new Uint8Array(p),d=0;d<u.length;d+=1)v[d]=u[d];return p},n.Utils.isString=function(u){return typeof u=="string"||u instanceof String},n.Utils.isValidDate=function(u){return Object.prototype.toString.call(u)==="[object Date]"?!isNaN(u.getTime()):!1},n.Utils.swap32=function(u){return(u&255)<<24|(u&65280)<<8|u>>8&65280|u>>24&255},n.Utils.swap16=function(u){return((u&255)<<8|u>>8&255)<<16>>16},n.Utils.makeCRCTable=function(){for(var u,p=[],v=0;v<256;v++){u=v;for(var d=0;d<8;d++)u=u&1?3988292384^u>>>1:u>>>1;p[v]=u}return p},n.Utils.crc32=function(u){for(var p=n.Utils.crcTable||(n.Utils.crcTable=n.Utils.makeCRCTable()),v=-1,d=0;d<u.byteLength;d++)v=v>>>8^p[(v^u.getUint8(d))&255];return(v^-1)>>>0},n.Utils.createBitMask=function(u,p,v){var d=4294967295;return d>>>=(4-u)*8+(u*8-p),v?u==1?d&=255:u==2?d&=65535:u==4?d&=4294967295:u==8&&(d=4294967295):d=4294967295,d},l.exports&&(l.exports=n.Utils)}(utilities)),utilities.exports}var hasRequiredDictionary;function requireDictionary(){return hasRequiredDictionary||(hasRequiredDictionary=1,function(l){var n=n||{};n.Dictionary=n.Dictionary||{},n.Utils=n.Utils||(typeof commonjsRequire<"u"?requireUtilities():null),n.Dictionary.dictPrivate={"0207":{"101F":["FE","ElscintDataScale"]}},n.Dictionary.dict={"0002":{"0001":["OB","FileMetaInformationVersion"],"0002":["UI","MediaStoredSOPClassUID"],"0003":["UI","MediaStoredSOPInstanceUID"],"0010":["UI","TransferSyntaxUID"],"0012":["UI","ImplementationClassUID"],"0013":["SH","ImplementationVersionName"],"0016":["AE","SourceApplicationEntityTitle"],"0100":["UI","PrivateInformationCreatorUID"],"0102":["OB","PrivateInformation"]},"0004":{1130:["CS","FilesetID"],1141:["CS","FilesetDescriptorFileFileID"],1142:["CS","FilesetDescriptorFileFormat"],1200:["UL","RootDirectoryEntitysFirstDirectoryRecordOffset"],1202:["UL","RootDirectoryEntitysLastDirectoryRecordOffset"],1212:["US","File-setConsistenceFlag"],1220:["SQ","DirectoryRecordSequence"],1400:["UL","NextDirectoryRecordOffset"],1410:["US","RecordInuseFlag"],1420:["UL","ReferencedLowerlevelDirectoryEntityOffset"],1430:["CS","DirectoryRecordType"],1432:["UI","PrivateRecordUID"],1500:["CS","ReferencedFileID"],1510:["UI","ReferencedSOPClassUIDInFile"],1511:["UI","ReferencedSOPInstanceUIDInFile"],1600:["UL","NumberOfReferences"]},"0008":{"0001":["UL","LengthToEnd"],"0005":["CS","SpecificCharacterSet"],"0006":["SQ","LanguageCodeSequence"],"0008":["CS","ImageType"],"0010":["SH","RecognitionCode"],"0012":["DA","InstanceCreationDate"],"0013":["TM","InstanceCreationTime"],"0014":["UI","InstanceCreatorUID"],"0016":["UI","SOPClassUID"],"0018":["UI","SOPInstanceUID"],"001A":["UI","RelatedGeneralSOPClassUID"],"001B":["UI","OriginalSpecializedSOPClassUID"],"0020":["DA","StudyDate"],"0021":["DA","SeriesDate"],"0022":["DA","AcquisitionDate"],"0023":["DA","ContentDate"],"0024":["DA","OverlayDate"],"0025":["DA","CurveDate"],"002A":["DT","AcquisitionDateTime"],"0030":["TM","StudyTime"],"0031":["TM","SeriesTime"],"0032":["TM","AcquisitionTime"],"0033":["TM","ContentTime"],"0034":["TM","OverlayTime"],"0035":["TM","CurveTime"],"0040":["US","DataSetType"],"0041":["LO","DataSetSubtype"],"0042":["CS","NuclearMedicineSeriesType"],"0050":["SH","AccessionNumber"],"0051":["SQ","IssuerOfAccessionNumberSequence"],"0052":["CS","QueryRetrieveLevel"],"0054":["AE","RetrieveAETitle"],"0056":["CS","InstanceAvailability"],"0058":["UI","FailedSOPInstanceUIDList"],"0060":["CS","Modality"],"0061":["CS","ModalitiesInStudy"],"0062":["UI","SOPClassesInStudy"],"0064":["CS","ConversionType"],"0068":["CS","PresentationIntentType"],"0070":["LO","Manufacturer"],"0080":["LO","InstitutionName"],"0081":["ST","InstitutionAddress"],"0082":["SQ","InstitutionCodeSequence"],"0090":["PN","ReferringPhysicianName"],"0092":["ST","ReferringPhysicianAddress"],"0094":["SH","ReferringPhysicianTelephoneNumbers"],"0096":["SQ","ReferringPhysicianIdentificationSequence"],"0100":["SH","CodeValue"],"0102":["SH","CodingSchemeDesignator"],"0103":["SH","CodingSchemeVersion"],"0104":["LO","CodeMeaning"],"0105":["CS","MappingResource"],"0106":["DT","ContextGroupVersion"],"0107":["DT","ContextGroupLocalVersion"],"010B":["CS","ContextGroupExtensionFlag"],"010C":["UI","CodingSchemeUID"],"010D":["UI","ContextGroupExtensionCreatorUID"],"010F":["CS","ContextIdentifier"],"0110":["SQ","CodingSchemeIdentificationSequence"],"0112":["LO","CodingSchemeRegistry"],"0114":["ST","CodingSchemeExternalID"],"0115":["ST","CodingSchemeName"],"0116":["ST","CodingSchemeResponsibleOrganization"],"0117":["UI","ContextUID"],"0201":["SH","TimezoneOffsetFromUTC"],1e3:["AE","NetworkID"],1010:["SH","StationName"],1030:["LO","StudyDescription"],1032:["SQ","ProcedureCodeSequence"],"103E":["LO","SeriesDescription"],"103F":["SQ","SeriesDescriptionCodeSequence"],1040:["LO","InstitutionalDepartmentName"],1048:["PN","PhysiciansOfRecord"],1049:["SQ","PhysiciansOfRecordIdentificationSequence"],1050:["PN","PerformingPhysicianName"],1052:["SQ","PerformingPhysicianIdentificationSequence"],1060:["PN","NameOfPhysiciansReadingStudy"],1062:["SQ","PhysiciansReadingStudyIdentificationSequence"],1070:["PN","OperatorsName"],1072:["SQ","OperatorIdentificationSequence"],1080:["LO","AdmittingDiagnosesDescription"],1084:["SQ","AdmittingDiagnosesCodeSequence"],1090:["LO","ManufacturerModelName"],1100:["SQ","ReferencedResultsSequence"],1110:["SQ","ReferencedStudySequence"],1111:["SQ","ReferencedPerformedProcedureStepSequence"],1115:["SQ","ReferencedSeriesSequence"],1120:["SQ","ReferencedPatientSequence"],1125:["SQ","ReferencedVisitSequence"],1130:["SQ","ReferencedOverlaySequence"],1134:["SQ","ReferencedStereometricInstanceSequence"],"113A":["SQ","ReferencedWaveformSequence"],1140:["SQ","ReferencedImageSequence"],1145:["SQ","ReferencedCurveSequence"],"114A":["SQ","ReferencedInstanceSequence"],"114B":["SQ","ReferencedRealWorldValueMappingInstanceSequence"],1150:["UI","ReferencedSOPClassUID"],1155:["UI","ReferencedSOPInstanceUID"],"115A":["UI","SOPClassesSupported"],1160:["IS","ReferencedFrameNumber"],1161:["UL","SimpleFrameList"],1162:["UL","CalculatedFrameList"],1163:["FD","TimeRange"],1164:["SQ","FrameExtractionSequence"],1167:["UI","MultiFrameSourceSOPInstanceUID"],1195:["UI","TransactionUID"],1197:["US","FailureReason"],1198:["SQ","FailedSOPSequence"],1199:["SQ","ReferencedSOPSequence"],1200:["SQ","StudiesContainingOtherReferencedInstancesSequence"],1250:["SQ","RelatedSeriesSequence"],2110:["CS","LossyImageCompressionRetired"],2111:["ST","DerivationDescription"],2112:["SQ","SourceImageSequence"],2120:["SH","StageName"],2122:["IS","StageNumber"],2124:["IS","NumberOfStages"],2127:["SH","ViewName"],2128:["IS","ViewNumber"],2129:["IS","NumberOfEventTimers"],"212A":["IS","NumberOfViewsInStage"],2130:["DS","EventElapsedTimes"],2132:["LO","EventTimerNames"],2133:["SQ","EventTimerSequence"],2134:["FD","EventTimeOffset"],2135:["SQ","EventCodeSequence"],2142:["IS","StartTrim"],2143:["IS","StopTrim"],2144:["IS","RecommendedDisplayFrameRate"],2200:["CS","TransducerPosition"],2204:["CS","TransducerOrientation"],2208:["CS","AnatomicStructure"],2218:["SQ","AnatomicRegionSequence"],2220:["SQ","AnatomicRegionModifierSequence"],2228:["SQ","PrimaryAnatomicStructureSequence"],2229:["SQ","AnatomicStructureSpaceOrRegionSequence"],2230:["SQ","PrimaryAnatomicStructureModifierSequence"],2240:["SQ","TransducerPositionSequence"],2242:["SQ","TransducerPositionModifierSequence"],2244:["SQ","TransducerOrientationSequence"],2246:["SQ","TransducerOrientationModifierSequence"],2251:["SQ","AnatomicStructureSpaceOrRegionCodeSequenceTrial"],2253:["SQ","AnatomicPortalOfEntranceCodeSequenceTrial"],2255:["SQ","AnatomicApproachDirectionCodeSequenceTrial"],2256:["ST","AnatomicPerspectiveDescriptionTrial"],2257:["SQ","AnatomicPerspectiveCodeSequenceTrial"],2258:["ST","AnatomicLocationOfExaminingInstrumentDescriptionTrial"],2259:["SQ","AnatomicLocationOfExaminingInstrumentCodeSequenceTrial"],"225A":["SQ","AnatomicStructureSpaceOrRegionModifierCodeSequenceTrial"],"225C":["SQ","OnAxisBackgroundAnatomicStructureCodeSequenceTrial"],3001:["SQ","AlternateRepresentationSequence"],3010:["UI","IrradiationEventUID"],4e3:["LT","IdentifyingComments"],9007:["CS","FrameType"],9092:["SQ","ReferencedImageEvidenceSequence"],9121:["SQ","ReferencedRawDataSequence"],9123:["UI","CreatorVersionUID"],9124:["SQ","DerivationImageSequence"],9154:["SQ","SourceImageEvidenceSequence"],9205:["CS","PixelPresentation"],9206:["CS","VolumetricProperties"],9207:["CS","VolumeBasedCalculationTechnique"],9208:["CS","ComplexImageComponent"],9209:["CS","AcquisitionContrast"],9215:["SQ","DerivationCodeSequence"],9237:["SQ","ReferencedPresentationStateSequence"],9410:["SQ","ReferencedOtherPlaneSequence"],9458:["SQ","FrameDisplaySequence"],9459:["FL","RecommendedDisplayFrameRateInFloat"],9460:["CS","SkipFrameRangeFlag"]},"0010":{"0010":["PN","PatientName"],"0020":["LO","PatientID"],"0021":["LO","IssuerOfPatientID"],"0022":["CS","TypeOfPatientID"],"0024":["SQ","IssuerOfPatientIDQualifiersSequence"],"0030":["DA","PatientBirthDate"],"0032":["TM","PatientBirthTime"],"0040":["CS","PatientSex"],"0050":["SQ","PatientInsurancePlanCodeSequence"],"0101":["SQ","PatientPrimaryLanguageCodeSequence"],"0102":["SQ","PatientPrimaryLanguageModifierCodeSequence"],1e3:["LO","OtherPatientIDs"],1001:["PN","OtherPatientNames"],1002:["SQ","OtherPatientIDsSequence"],1005:["PN","PatientBirthName"],1010:["AS","PatientAge"],1020:["DS","PatientSize"],1021:["SQ","PatientSizeCodeSequence"],1030:["DS","PatientWeight"],1040:["LO","PatientAddress"],1050:["LO","InsurancePlanIdentification"],1060:["PN","PatientMotherBirthName"],1080:["LO","MilitaryRank"],1081:["LO","BranchOfService"],1090:["LO","MedicalRecordLocator"],2e3:["LO","MedicalAlerts"],2110:["LO","Allergies"],2150:["LO","CountryOfResidence"],2152:["LO","RegionOfResidence"],2154:["SH","PatientTelephoneNumbers"],2160:["SH","EthnicGroup"],2180:["SH","Occupation"],"21A0":["CS","SmokingStatus"],"21B0":["LT","AdditionalPatientHistory"],"21C0":["US","PregnancyStatus"],"21D0":["DA","LastMenstrualDate"],"21F0":["LO","PatientReligiousPreference"],2201:["LO","PatientSpeciesDescription"],2202:["SQ","PatientSpeciesCodeSequence"],2203:["CS","PatientSexNeutered"],2210:["CS","AnatomicalOrientationType"],2292:["LO","PatientBreedDescription"],2293:["SQ","PatientBreedCodeSequence"],2294:["SQ","BreedRegistrationSequence"],2295:["LO","BreedRegistrationNumber"],2296:["SQ","BreedRegistryCodeSequence"],2297:["PN","ResponsiblePerson"],2298:["CS","ResponsiblePersonRole"],2299:["LO","ResponsibleOrganization"],4e3:["LT","PatientComments"],9431:["FL","ExaminedBodyThickness"]},"0012":{"0010":["LO","ClinicalTrialSponsorName"],"0020":["LO","ClinicalTrialProtocolID"],"0021":["LO","ClinicalTrialProtocolName"],"0030":["LO","ClinicalTrialSiteID"],"0031":["LO","ClinicalTrialSiteName"],"0040":["LO","ClinicalTrialSubjectID"],"0042":["LO","ClinicalTrialSubjectReadingID"],"0050":["LO","ClinicalTrialTimePointID"],"0051":["ST","ClinicalTrialTimePointDescription"],"0060":["LO","ClinicalTrialCoordinatingCenterName"],"0062":["CS","PatientIdentityRemoved"],"0063":["LO","DeidentificationMethod"],"0064":["SQ","DeidentificationMethodCodeSequence"],"0071":["LO","ClinicalTrialSeriesID"],"0072":["LO","ClinicalTrialSeriesDescription"],"0081":["LO","ClinicalTrialProtocolEthicsCommitteeName"],"0082":["LO","ClinicalTrialProtocolEthicsCommitteeApprovalNumber"],"0083":["SQ","ConsentForClinicalTrialUseSequence"],"0084":["CS","DistributionType"],"0085":["CS","ConsentForDistributionFlag"]},"0014":{"0023":["ST","CADFileFormat"],"0024":["ST","ComponentReferenceSystem"],"0025":["ST","ComponentManufacturingProcedure"],"0028":["ST","ComponentManufacturer"],"0030":["DS","MaterialThickness"],"0032":["DS","MaterialPipeDiameter"],"0034":["DS","MaterialIsolationDiameter"],"0042":["ST","MaterialGrade"],"0044":["ST","MaterialPropertiesFileID"],"0045":["ST","MaterialPropertiesFileFormat"],"0046":["LT","MaterialNotes"],"0050":["CS","ComponentShape"],"0052":["CS","CurvatureType"],"0054":["DS","OuterDiameter"],"0056":["DS","InnerDiameter"],1010:["ST","ActualEnvironmentalConditions"],1020:["DA","ExpiryDate"],1040:["ST","EnvironmentalConditions"],2002:["SQ","EvaluatorSequence"],2004:["IS","EvaluatorNumber"],2006:["PN","EvaluatorName"],2008:["IS","EvaluationAttempt"],2012:["SQ","IndicationSequence"],2014:["IS","IndicationNumber "],2016:["SH","IndicationLabel"],2018:["ST","IndicationDescription"],"201A":["CS","IndicationType"],"201C":["CS","IndicationDisposition"],"201E":["SQ","IndicationROISequence"],2030:["SQ","IndicationPhysicalPropertySequence"],2032:["SH","PropertyLabel"],2202:["IS","CoordinateSystemNumberOfAxes "],2204:["SQ","CoordinateSystemAxesSequence"],2206:["ST","CoordinateSystemAxisDescription"],2208:["CS","CoordinateSystemDataSetMapping"],"220A":["IS","CoordinateSystemAxisNumber"],"220C":["CS","CoordinateSystemAxisType"],"220E":["CS","CoordinateSystemAxisUnits"],2210:["OB","CoordinateSystemAxisValues"],2220:["SQ","CoordinateSystemTransformSequence"],2222:["ST","TransformDescription"],2224:["IS","TransformNumberOfAxes"],2226:["IS","TransformOrderOfAxes"],2228:["CS","TransformedAxisUnits"],"222A":["DS","CoordinateSystemTransformRotationAndScaleMatrix"],"222C":["DS","CoordinateSystemTransformTranslationMatrix"],3011:["DS","InternalDetectorFrameTime"],3012:["DS","NumberOfFramesIntegrated"],3020:["SQ","DetectorTemperatureSequence"],3022:["DS","SensorName"],3024:["DS","HorizontalOffsetOfSensor"],3026:["DS","VerticalOffsetOfSensor"],3028:["DS","SensorTemperature"],3040:["SQ","DarkCurrentSequence"],3050:["OB","DarkCurrentCounts"],3060:["SQ","GainCorrectionReferenceSequence"],3070:["OB","AirCounts"],3071:["DS","KVUsedInGainCalibration"],3072:["DS","MAUsedInGainCalibration"],3073:["DS","NumberOfFramesUsedForIntegration"],3074:["LO","FilterMaterialUsedInGainCalibration"],3075:["DS","FilterThicknessUsedInGainCalibration"],3076:["DA","DateOfGainCalibration"],3077:["TM","TimeOfGainCalibration"],3080:["OB","BadPixelImage"],3099:["LT","CalibrationNotes"],4002:["SQ","PulserEquipmentSequence"],4004:["CS","PulserType"],4006:["LT","PulserNotes"],4008:["SQ","ReceiverEquipmentSequence"],"400A":["CS","AmplifierType"],"400C":["LT","ReceiverNotes"],"400E":["SQ","PreAmplifierEquipmentSequence"],"400F":["LT","PreAmplifierNotes"],4010:["SQ","TransmitTransducerSequence"],4011:["SQ","ReceiveTransducerSequence"],4012:["US","NumberOfElements"],4013:["CS","ElementShape"],4014:["DS","ElementDimensionA"],4015:["DS","ElementDimensionB"],4016:["DS","ElementPitch"],4017:["DS","MeasuredBeamDimensionA"],4018:["DS","MeasuredBeamDimensionB"],4019:["DS","LocationOfMeasuredBeamDiameter"],"401A":["DS","NominalFrequency"],"401B":["DS","MeasuredCenterFrequency"],"401C":["DS","MeasuredBandwidth"],4020:["SQ","PulserSettingsSequence"],4022:["DS","PulseWidth"],4024:["DS","ExcitationFrequency"],4026:["CS","ModulationType"],4028:["DS","Damping"],4030:["SQ","ReceiverSettingsSequence"],4031:["DS","AcquiredSoundpathLength"],4032:["CS","AcquisitionCompressionType"],4033:["IS","AcquisitionSampleSize"],4034:["DS","RectifierSmoothing"],4035:["SQ","DACSequence"],4036:["CS","DACType"],4038:["DS","DACGainPoints"],"403A":["DS","DACTimePoints"],"403C":["DS","DACAmplitude"],4040:["SQ","PreAmplifierSettingsSequence"],4050:["SQ","TransmitTransducerSettingsSequence"],4051:["SQ","ReceiveTransducerSettingsSequence"],4052:["DS","IncidentAngle"],4054:["ST","CouplingTechnique"],4056:["ST","CouplingMedium"],4057:["DS","CouplingVelocity"],4058:["DS","CrystalCenterLocationX"],4059:["DS","CrystalCenterLocationZ"],"405A":["DS","SoundPathLength"],"405C":["ST","DelayLawIdentifier"],4060:["SQ","GateSettingsSequence"],4062:["DS","GateThreshold"],4064:["DS","VelocityOfSound"],4070:["SQ","CalibrationSettingsSequence"],4072:["ST","CalibrationProcedure"],4074:["SH","ProcedureVersion"],4076:["DA","ProcedureCreationDate"],4078:["DA","ProcedureExpirationDate"],"407A":["DA","ProcedureLastModifiedDate"],"407C":["TM","CalibrationTime"],"407E":["DA","CalibrationDate"],5002:["IS","LINACEnergy"],5004:["IS","LINACOutput"]},"0018":{"0010":["LO","ContrastBolusAgent"],"0012":["SQ","ContrastBolusAgentSequence"],"0014":["SQ","ContrastBolusAdministrationRouteSequence"],"0015":["CS","BodyPartExamined"],"0020":["CS","ScanningSequence"],"0021":["CS","SequenceVariant"],"0022":["CS","ScanOptions"],"0023":["CS","MRAcquisitionType"],"0024":["SH","SequenceName"],"0025":["CS","AngioFlag"],"0026":["SQ","InterventionDrugInformationSequence"],"0027":["TM","InterventionDrugStopTime"],"0028":["DS","InterventionDrugDose"],"0029":["SQ","InterventionDrugCodeSequence"],"002A":["SQ","AdditionalDrugSequence"],"0030":["LO","Radionuclide"],"0031":["LO","Radiopharmaceutical"],"0032":["DS","EnergyWindowCenterline"],"0033":["DS","EnergyWindowTotalWidth"],"0034":["LO","InterventionDrugName"],"0035":["TM","InterventionDrugStartTime"],"0036":["SQ","InterventionSequence"],"0037":["CS","TherapyType"],"0038":["CS","InterventionStatus"],"0039":["CS","TherapyDescription"],"003A":["ST","InterventionDescription"],"0040":["IS","CineRate"],"0042":["CS","InitialCineRunState"],"0050":["DS","SliceThickness"],"0060":["DS","KVP"],"0070":["IS","CountsAccumulated"],"0071":["CS","AcquisitionTerminationCondition"],"0072":["DS","EffectiveDuration"],"0073":["CS","AcquisitionStartCondition"],"0074":["IS","AcquisitionStartConditionData"],"0075":["IS","AcquisitionTerminationConditionData"],"0080":["DS","RepetitionTime"],"0081":["DS","EchoTime"],"0082":["DS","InversionTime"],"0083":["DS","NumberOfAverages"],"0084":["DS","ImagingFrequency"],"0085":["SH","ImagedNucleus"],"0086":["IS","EchoNumbers"],"0087":["DS","MagneticFieldStrength"],"0088":["DS","SpacingBetweenSlices"],"0089":["IS","NumberOfPhaseEncodingSteps"],"0090":["DS","DataCollectionDiameter"],"0091":["IS","EchoTrainLength"],"0093":["DS","PercentSampling"],"0094":["DS","PercentPhaseFieldOfView"],"0095":["DS","PixelBandwidth"],1e3:["LO","DeviceSerialNumber"],1002:["UI","DeviceUID"],1003:["LO","DeviceID"],1004:["LO","PlateID"],1005:["LO","GeneratorID"],1006:["LO","GridID"],1007:["LO","CassetteID"],1008:["LO","GantryID"],1010:["LO","SecondaryCaptureDeviceID"],1011:["LO","HardcopyCreationDeviceID"],1012:["DA","DateOfSecondaryCapture"],1014:["TM","TimeOfSecondaryCapture"],1016:["LO","SecondaryCaptureDeviceManufacturer"],1017:["LO","HardcopyDeviceManufacturer"],1018:["LO","SecondaryCaptureDeviceManufacturerModelName"],1019:["LO","SecondaryCaptureDeviceSoftwareVersions"],"101A":["LO","HardcopyDeviceSoftwareVersion"],"101B":["LO","HardcopyDeviceManufacturerModelName"],1020:["LO","SoftwareVersions"],1022:["SH","VideoImageFormatAcquired"],1023:["LO","DigitalImageFormatAcquired"],1030:["LO","ProtocolName"],1040:["LO","ContrastBolusRoute"],1041:["DS","ContrastBolusVolume"],1042:["TM","ContrastBolusStartTime"],1043:["TM","ContrastBolusStopTime"],1044:["DS","ContrastBolusTotalDose"],1045:["IS","SyringeCounts"],1046:["DS","ContrastFlowRate"],1047:["DS","ContrastFlowDuration"],1048:["CS","ContrastBolusIngredient"],1049:["DS","ContrastBolusIngredientConcentration"],1050:["DS","SpatialResolution"],1060:["DS","TriggerTime"],1061:["LO","TriggerSourceOrType"],1062:["IS","NominalInterval"],1063:["DS","FrameTime"],1064:["LO","CardiacFramingType"],1065:["DS","FrameTimeVector"],1066:["DS","FrameDelay"],1067:["DS","ImageTriggerDelay"],1068:["DS","MultiplexGroupTimeOffset"],1069:["DS","TriggerTimeOffset"],"106A":["CS","SynchronizationTrigger"],"106C":["US","SynchronizationChannel"],"106E":["UL","TriggerSamplePosition"],1070:["LO","RadiopharmaceuticalRoute"],1071:["DS","RadiopharmaceuticalVolume"],1072:["TM","RadiopharmaceuticalStartTime"],1073:["TM","RadiopharmaceuticalStopTime"],1074:["DS","RadionuclideTotalDose"],1075:["DS","RadionuclideHalfLife"],1076:["DS","RadionuclidePositronFraction"],1077:["DS","RadiopharmaceuticalSpecificActivity"],1078:["DT","RadiopharmaceuticalStartDateTime"],1079:["DT","RadiopharmaceuticalStopDateTime"],1080:["CS","BeatRejectionFlag"],1081:["IS","LowRRValue"],1082:["IS","HighRRValue"],1083:["IS","IntervalsAcquired"],1084:["IS","IntervalsRejected"],1085:["LO","PVCRejection"],1086:["IS","SkipBeats"],1088:["IS","HeartRate"],1090:["IS","CardiacNumberOfImages"],1094:["IS","TriggerWindow"],1100:["DS","ReconstructionDiameter"],1110:["DS","DistanceSourceToDetector"],1111:["DS","DistanceSourceToPatient"],1114:["DS","EstimatedRadiographicMagnificationFactor"],1120:["DS","GantryDetectorTilt"],1121:["DS","GantryDetectorSlew"],1130:["DS","TableHeight"],1131:["DS","TableTraverse"],1134:["CS","TableMotion"],1135:["DS","TableVerticalIncrement"],1136:["DS","TableLateralIncrement"],1137:["DS","TableLongitudinalIncrement"],1138:["DS","TableAngle"],"113A":["CS","TableType"],1140:["CS","RotationDirection"],1141:["DS","AngularPosition"],1142:["DS","RadialPosition"],1143:["DS","ScanArc"],1144:["DS","AngularStep"],1145:["DS","CenterOfRotationOffset"],1146:["DS","RotationOffset"],1147:["CS","FieldOfViewShape"],1149:["IS","FieldOfViewDimensions"],1150:["IS","ExposureTime"],1151:["IS","XRayTubeCurrent"],1152:["IS","Exposure"],1153:["IS","ExposureInuAs"],1154:["DS","AveragePulseWidth"],1155:["CS","RadiationSetting"],1156:["CS","RectificationType"],"115A":["CS","RadiationMode"],"115E":["DS","ImageAndFluoroscopyAreaDoseProduct"],1160:["SH","FilterType"],1161:["LO","TypeOfFilters"],1162:["DS","IntensifierSize"],1164:["DS","ImagerPixelSpacing"],1166:["CS","Grid"],1170:["IS","GeneratorPower"],1180:["SH","CollimatorGridName"],1181:["CS","CollimatorType"],1182:["IS","FocalDistance"],1183:["DS","XFocusCenter"],1184:["DS","YFocusCenter"],1190:["DS","FocalSpots"],1191:["CS","AnodeTargetMaterial"],"11A0":["DS","BodyPartThickness"],"11A2":["DS","CompressionForce"],1200:["DA","DateOfLastCalibration"],1201:["TM","TimeOfLastCalibration"],1210:["SH","ConvolutionKernel"],1240:["IS","UpperLowerPixelValues"],1242:["IS","ActualFrameDuration"],1243:["IS","CountRate"],1244:["US","PreferredPlaybackSequencing"],1250:["SH","ReceiveCoilName"],1251:["SH","TransmitCoilName"],1260:["SH","PlateType"],1261:["LO","PhosphorType"],1300:["DS","ScanVelocity"],1301:["CS","WholeBodyTechnique"],1302:["IS","ScanLength"],1310:["US","AcquisitionMatrix"],1312:["CS","InPlanePhaseEncodingDirection"],1314:["DS","FlipAngle"],1315:["CS","VariableFlipAngleFlag"],1316:["DS","SAR"],1318:["DS","dBdt"],1400:["LO","AcquisitionDeviceProcessingDescription"],1401:["LO","AcquisitionDeviceProcessingCode"],1402:["CS","CassetteOrientation"],1403:["CS","CassetteSize"],1404:["US","ExposuresOnPlate"],1405:["IS","RelativeXRayExposure"],1411:["DS","ExposureIndex"],1412:["DS","TargetExposureIndex"],1413:["DS","DeviationIndex"],1450:["DS","ColumnAngulation"],1460:["DS","TomoLayerHeight"],1470:["DS","TomoAngle"],1480:["DS","TomoTime"],1490:["CS","TomoType"],1491:["CS","TomoClass"],1495:["IS","NumberOfTomosynthesisSourceImages"],1500:["CS","PositionerMotion"],1508:["CS","PositionerType"],1510:["DS","PositionerPrimaryAngle"],1511:["DS","PositionerSecondaryAngle"],1520:["DS","PositionerPrimaryAngleIncrement"],1521:["DS","PositionerSecondaryAngleIncrement"],1530:["DS","DetectorPrimaryAngle"],1531:["DS","DetectorSecondaryAngle"],1600:["CS","ShutterShape"],1602:["IS","ShutterLeftVerticalEdge"],1604:["IS","ShutterRightVerticalEdge"],1606:["IS","ShutterUpperHorizontalEdge"],1608:["IS","ShutterLowerHorizontalEdge"],1610:["IS","CenterOfCircularShutter"],1612:["IS","RadiusOfCircularShutter"],1620:["IS","VerticesOfThePolygonalShutter"],1622:["US","ShutterPresentationValue"],1623:["US","ShutterOverlayGroup"],1624:["US","ShutterPresentationColorCIELabValue"],1700:["CS","CollimatorShape"],1702:["IS","CollimatorLeftVerticalEdge"],1704:["IS","CollimatorRightVerticalEdge"],1706:["IS","CollimatorUpperHorizontalEdge"],1708:["IS","CollimatorLowerHorizontalEdge"],1710:["IS","CenterOfCircularCollimator"],1712:["IS","RadiusOfCircularCollimator"],1720:["IS","VerticesOfThePolygonalCollimator"],1800:["CS","AcquisitionTimeSynchronized"],1801:["SH","TimeSource"],1802:["CS","TimeDistributionProtocol"],1803:["LO","NTPSourceAddress"],2001:["IS","PageNumberVector"],2002:["SH","FrameLabelVector"],2003:["DS","FramePrimaryAngleVector"],2004:["DS","FrameSecondaryAngleVector"],2005:["DS","SliceLocationVector"],2006:["SH","DisplayWindowLabelVector"],2010:["DS","NominalScannedPixelSpacing"],2020:["CS","DigitizingDeviceTransportDirection"],2030:["DS","RotationOfScannedFilm"],3100:["CS","IVUSAcquisition"],3101:["DS","IVUSPullbackRate"],3102:["DS","IVUSGatedRate"],3103:["IS","IVUSPullbackStartFrameNumber"],3104:["IS","IVUSPullbackStopFrameNumber"],3105:["IS","LesionNumber"],4e3:["LT","AcquisitionComments"],5e3:["SH","OutputPower"],5010:["LO","TransducerData"],5012:["DS","FocusDepth"],5020:["LO","ProcessingFunction"],5021:["LO","PostprocessingFunction"],5022:["DS","MechanicalIndex"],5024:["DS","BoneThermalIndex"],5026:["DS","CranialThermalIndex"],5027:["DS","SoftTissueThermalIndex"],5028:["DS","SoftTissueFocusThermalIndex"],5029:["DS","SoftTissueSurfaceThermalIndex"],5030:["DS","DynamicRange"],5040:["DS","TotalGain"],5050:["IS","DepthOfScanField"],5100:["CS","PatientPosition"],5101:["CS","ViewPosition"],5104:["SQ","ProjectionEponymousNameCodeSequence"],5210:["DS","ImageTransformationMatrix"],5212:["DS","ImageTranslationVector"],6e3:["DS","Sensitivity"],6011:["SQ","SequenceOfUltrasoundRegions"],6012:["US","RegionSpatialFormat"],6014:["US","RegionDataType"],6016:["UL","RegionFlags"],6018:["UL","RegionLocationMinX0"],"601A":["UL","RegionLocationMinY0"],"601C":["UL","RegionLocationMaxX1"],"601E":["UL","RegionLocationMaxY1"],6020:["SL","ReferencePixelX0"],6022:["SL","ReferencePixelY0"],6024:["US","PhysicalUnitsXDirection"],6026:["US","PhysicalUnitsYDirection"],6028:["FD","ReferencePixelPhysicalValueX"],"602A":["FD","ReferencePixelPhysicalValueY"],"602C":["FD","PhysicalDeltaX"],"602E":["FD","PhysicalDeltaY"],6030:["UL","TransducerFrequency"],6031:["CS","TransducerType"],6032:["UL","PulseRepetitionFrequency"],6034:["FD","DopplerCorrectionAngle"],6036:["FD","SteeringAngle"],6038:["UL","DopplerSampleVolumeXPositionRetired"],6039:["SL","DopplerSampleVolumeXPosition"],"603A":["UL","DopplerSampleVolumeYPositionRetired"],"603B":["SL","DopplerSampleVolumeYPosition"],"603C":["UL","TMLinePositionX0Retired"],"603D":["SL","TMLinePositionX0"],"603E":["UL","TMLinePositionY0Retired"],"603F":["SL","TMLinePositionY0"],6040:["UL","TMLinePositionX1Retired"],6041:["SL","TMLinePositionX1"],6042:["UL","TMLinePositionY1Retired"],6043:["SL","TMLinePositionY1"],6044:["US","PixelComponentOrganization"],6046:["UL","PixelComponentMask"],6048:["UL","PixelComponentRangeStart"],"604A":["UL","PixelComponentRangeStop"],"604C":["US","PixelComponentPhysicalUnits"],"604E":["US","PixelComponentDataType"],6050:["UL","NumberOfTableBreakPoints"],6052:["UL","TableOfXBreakPoints"],6054:["FD","TableOfYBreakPoints"],6056:["UL","NumberOfTableEntries"],6058:["UL","TableOfPixelValues"],"605A":["FL","TableOfParameterValues"],6060:["FL","RWaveTimeVector"],7e3:["CS","DetectorConditionsNominalFlag"],7001:["DS","DetectorTemperature"],7004:["CS","DetectorType"],7005:["CS","DetectorConfiguration"],7006:["LT","DetectorDescription"],7008:["LT","DetectorMode"],"700A":["SH","DetectorID"],"700C":["DA","DateOfLastDetectorCalibration"],"700E":["TM","TimeOfLastDetectorCalibration"],7010:["IS","ExposuresOnDetectorSinceLastCalibration"],7011:["IS","ExposuresOnDetectorSinceManufactured"],7012:["DS","DetectorTimeSinceLastExposure"],7014:["DS","DetectorActiveTime"],7016:["DS","DetectorActivationOffsetFromExposure"],"701A":["DS","DetectorBinning"],7020:["DS","DetectorElementPhysicalSize"],7022:["DS","DetectorElementSpacing"],7024:["CS","DetectorActiveShape"],7026:["DS","DetectorActiveDimensions"],7028:["DS","DetectorActiveOrigin"],"702A":["LO","DetectorManufacturerName"],"702B":["LO","DetectorManufacturerModelName"],7030:["DS","FieldOfViewOrigin"],7032:["DS","FieldOfViewRotation"],7034:["CS","FieldOfViewHorizontalFlip"],7036:["FL","PixelDataAreaOriginRelativeToFOV"],7038:["FL","PixelDataAreaRotationAngleRelativeToFOV"],7040:["LT","GridAbsorbingMaterial"],7041:["LT","GridSpacingMaterial"],7042:["DS","GridThickness"],7044:["DS","GridPitch"],7046:["IS","GridAspectRatio"],7048:["DS","GridPeriod"],"704C":["DS","GridFocalDistance"],7050:["CS","FilterMaterial"],7052:["DS","FilterThicknessMinimum"],7054:["DS","FilterThicknessMaximum"],7056:["FL","FilterBeamPathLengthMinimum"],7058:["FL","FilterBeamPathLengthMaximum"],7060:["CS","ExposureControlMode"],7062:["LT","ExposureControlModeDescription"],7064:["CS","ExposureStatus"],7065:["DS","PhototimerSetting"],8150:["DS","ExposureTimeInuS"],8151:["DS","XRayTubeCurrentInuA"],9004:["CS","ContentQualification"],9005:["SH","PulseSequenceName"],9006:["SQ","MRImagingModifierSequence"],9008:["CS","EchoPulseSequence"],9009:["CS","InversionRecovery"],9010:["CS","FlowCompensation"],9011:["CS","MultipleSpinEcho"],9012:["CS","MultiPlanarExcitation"],9014:["CS","PhaseContrast"],9015:["CS","TimeOfFlightContrast"],9016:["CS","Spoiling"],9017:["CS","SteadyStatePulseSequence"],9018:["CS","EchoPlanarPulseSequence"],9019:["FD","TagAngleFirstAxis"],9020:["CS","MagnetizationTransfer"],9021:["CS","T2Preparation"],9022:["CS","BloodSignalNulling"],9024:["CS","SaturationRecovery"],9025:["CS","SpectrallySelectedSuppression"],9026:["CS","SpectrallySelectedExcitation"],9027:["CS","SpatialPresaturation"],9028:["CS","Tagging"],9029:["CS","OversamplingPhase"],9030:["FD","TagSpacingFirstDimension"],9032:["CS","GeometryOfKSpaceTraversal"],9033:["CS","SegmentedKSpaceTraversal"],9034:["CS","RectilinearPhaseEncodeReordering"],9035:["FD","TagThickness"],9036:["CS","PartialFourierDirection"],9037:["CS","CardiacSynchronizationTechnique"],9041:["LO","ReceiveCoilManufacturerName"],9042:["SQ","MRReceiveCoilSequence"],9043:["CS","ReceiveCoilType"],9044:["CS","QuadratureReceiveCoil"],9045:["SQ","MultiCoilDefinitionSequence"],9046:["LO","MultiCoilConfiguration"],9047:["SH","MultiCoilElementName"],9048:["CS","MultiCoilElementUsed"],9049:["SQ","MRTransmitCoilSequence"],9050:["LO","TransmitCoilManufacturerName"],9051:["CS","TransmitCoilType"],9052:["FD","SpectralWidth"],9053:["FD","ChemicalShiftReference"],9054:["CS","VolumeLocalizationTechnique"],9058:["US","MRAcquisitionFrequencyEncodingSteps"],9059:["CS","Decoupling"],9060:["CS","DecoupledNucleus"],9061:["FD","DecouplingFrequency"],9062:["CS","DecouplingMethod"],9063:["FD","DecouplingChemicalShiftReference"],9064:["CS","KSpaceFiltering"],9065:["CS","TimeDomainFiltering"],9066:["US","NumberOfZeroFills"],9067:["CS","BaselineCorrection"],9069:["FD","ParallelReductionFactorInPlane"],9070:["FD","CardiacRRIntervalSpecified"],9073:["FD","AcquisitionDuration"],9074:["DT","FrameAcquisitionDateTime"],9075:["CS","DiffusionDirectionality"],9076:["SQ","DiffusionGradientDirectionSequence"],9077:["CS","ParallelAcquisition"],9078:["CS","ParallelAcquisitionTechnique"],9079:["FD","InversionTimes"],9080:["ST","MetaboliteMapDescription"],9081:["CS","PartialFourier"],9082:["FD","EffectiveEchoTime"],9083:["SQ","MetaboliteMapCodeSequence"],9084:["SQ","ChemicalShiftSequence"],9085:["CS","CardiacSignalSource"],9087:["FD","DiffusionBValue"],9089:["FD","DiffusionGradientOrientation"],9090:["FD","VelocityEncodingDirection"],9091:["FD","VelocityEncodingMinimumValue"],9092:["SQ","VelocityEncodingAcquisitionSequence"],9093:["US","NumberOfKSpaceTrajectories"],9094:["CS","CoverageOfKSpace"],9095:["UL","SpectroscopyAcquisitionPhaseRows"],9096:["FD","ParallelReductionFactorInPlaneRetired"],9098:["FD","TransmitterFrequency"],9100:["CS","ResonantNucleus"],9101:["CS","FrequencyCorrection"],9103:["SQ","MRSpectroscopyFOVGeometrySequence"],9104:["FD","SlabThickness"],9105:["FD","SlabOrientation"],9106:["FD","MidSlabPosition"],9107:["SQ","MRSpatialSaturationSequence"],9112:["SQ","MRTimingAndRelatedParametersSequence"],9114:["SQ","MREchoSequence"],9115:["SQ","MRModifierSequence"],9117:["SQ","MRDiffusionSequence"],9118:["SQ","CardiacSynchronizationSequence"],9119:["SQ","MRAveragesSequence"],9125:["SQ","MRFOVGeometrySequence"],9126:["SQ","VolumeLocalizationSequence"],9127:["UL","SpectroscopyAcquisitionDataColumns"],9147:["CS","DiffusionAnisotropyType"],9151:["DT","FrameReferenceDateTime"],9152:["SQ","MRMetaboliteMapSequence"],9155:["FD","ParallelReductionFactorOutOfPlane"],9159:["UL","SpectroscopyAcquisitionOutOfPlanePhaseSteps"],9166:["CS","BulkMotionStatus"],9168:["FD","ParallelReductionFactorSecondInPlane"],9169:["CS","CardiacBeatRejectionTechnique"],9170:["CS","RespiratoryMotionCompensationTechnique"],9171:["CS","RespiratorySignalSource"],9172:["CS","BulkMotionCompensationTechnique"],9173:["CS","BulkMotionSignalSource"],9174:["CS","ApplicableSafetyStandardAgency"],9175:["LO","ApplicableSafetyStandardDescription"],9176:["SQ","OperatingModeSequence"],9177:["CS","OperatingModeType"],9178:["CS","OperatingMode"],9179:["CS","SpecificAbsorptionRateDefinition"],9180:["CS","GradientOutputType"],9181:["FD","SpecificAbsorptionRateValue"],9182:["FD","GradientOutput"],9183:["CS","FlowCompensationDirection"],9184:["FD","TaggingDelay"],9185:["ST","RespiratoryMotionCompensationTechniqueDescription"],9186:["SH","RespiratorySignalSourceID"],9195:["FD","ChemicalShiftMinimumIntegrationLimitInHz"],9196:["FD","ChemicalShiftMaximumIntegrationLimitInHz"],9197:["SQ","MRVelocityEncodingSequence"],9198:["CS","FirstOrderPhaseCorrection"],9199:["CS","WaterReferencedPhaseCorrection"],9200:["CS","MRSpectroscopyAcquisitionType"],9214:["CS","RespiratoryCyclePosition"],9217:["FD","VelocityEncodingMaximumValue"],9218:["FD","TagSpacingSecondDimension"],9219:["SS","TagAngleSecondAxis"],9220:["FD","FrameAcquisitionDuration"],9226:["SQ","MRImageFrameTypeSequence"],9227:["SQ","MRSpectroscopyFrameTypeSequence"],9231:["US","MRAcquisitionPhaseEncodingStepsInPlane"],9232:["US","MRAcquisitionPhaseEncodingStepsOutOfPlane"],9234:["UL","SpectroscopyAcquisitionPhaseColumns"],9236:["CS","CardiacCyclePosition"],9239:["SQ","SpecificAbsorptionRateSequence"],9240:["US","RFEchoTrainLength"],9241:["US","GradientEchoTrainLength"],9250:["CS","ArterialSpinLabelingContrast"],9251:["SQ","MRArterialSpinLabelingSequence"],9252:["LO","ASLTechniqueDescription"],9253:["US","ASLSlabNumber"],9254:["FD ","ASLSlabThickness"],9255:["FD ","ASLSlabOrientation"],9256:["FD ","ASLMidSlabPosition"],9257:["CS","ASLContext"],9258:["UL","ASLPulseTrainDuration"],9259:["CS","ASLCrusherFlag"],"925A":["FD","ASLCrusherFlow"],"925B":["LO","ASLCrusherDescription"],"925C":["CS","ASLBolusCutoffFlag"],"925D":["SQ","ASLBolusCutoffTimingSequence"],"925E":["LO","ASLBolusCutoffTechnique"],"925F":["UL","ASLBolusCutoffDelayTime"],9260:["SQ","ASLSlabSequence"],9295:["FD","ChemicalShiftMinimumIntegrationLimitInppm"],9296:["FD","ChemicalShiftMaximumIntegrationLimitInppm"],9301:["SQ","CTAcquisitionTypeSequence"],9302:["CS","AcquisitionType"],9303:["FD","TubeAngle"],9304:["SQ","CTAcquisitionDetailsSequence"],9305:["FD","RevolutionTime"],9306:["FD","SingleCollimationWidth"],9307:["FD","TotalCollimationWidth"],9308:["SQ","CTTableDynamicsSequence"],9309:["FD","TableSpeed"],9310:["FD","TableFeedPerRotation"],9311:["FD","SpiralPitchFactor"],9312:["SQ","CTGeometrySequence"],9313:["FD","DataCollectionCenterPatient"],9314:["SQ","CTReconstructionSequence"],9315:["CS","ReconstructionAlgorithm"],9316:["CS","ConvolutionKernelGroup"],9317:["FD","ReconstructionFieldOfView"],9318:["FD","ReconstructionTargetCenterPatient"],9319:["FD","ReconstructionAngle"],9320:["SH","ImageFilter"],9321:["SQ","CTExposureSequence"],9322:["FD","ReconstructionPixelSpacing"],9323:["CS","ExposureModulationType"],9324:["FD","EstimatedDoseSaving"],9325:["SQ","CTXRayDetailsSequence"],9326:["SQ","CTPositionSequence"],9327:["FD","TablePosition"],9328:["FD","ExposureTimeInms"],9329:["SQ","CTImageFrameTypeSequence"],9330:["FD","XRayTubeCurrentInmA"],9332:["FD","ExposureInmAs"],9333:["CS","ConstantVolumeFlag"],9334:["CS","FluoroscopyFlag"],9335:["FD","DistanceSourceToDataCollectionCenter"],9337:["US","ContrastBolusAgentNumber"],9338:["SQ","ContrastBolusIngredientCodeSequence"],9340:["SQ","ContrastAdministrationProfileSequence"],9341:["SQ","ContrastBolusUsageSequence"],9342:["CS","ContrastBolusAgentAdministered"],9343:["CS","ContrastBolusAgentDetected"],9344:["CS","ContrastBolusAgentPhase"],9345:["FD","CTDIvol"],9346:["SQ","CTDIPhantomTypeCodeSequence"],9351:["FL","CalciumScoringMassFactorPatient"],9352:["FL","CalciumScoringMassFactorDevice"],9353:["FL","EnergyWeightingFactor"],9360:["SQ","CTAdditionalXRaySourceSequence"],9401:["SQ","ProjectionPixelCalibrationSequence"],9402:["FL","DistanceSourceToIsocenter"],9403:["FL","DistanceObjectToTableTop"],9404:["FL","ObjectPixelSpacingInCenterOfBeam"],9405:["SQ","PositionerPositionSequence"],9406:["SQ","TablePositionSequence"],9407:["SQ","CollimatorShapeSequence"],9410:["CS","PlanesInAcquisition"],9412:["SQ","XAXRFFrameCharacteristicsSequence"],9417:["SQ","FrameAcquisitionSequence"],9420:["CS","XRayReceptorType"],9423:["LO","AcquisitionProtocolName"],9424:["LT","AcquisitionProtocolDescription"],9425:["CS","ContrastBolusIngredientOpaque"],9426:["FL","DistanceReceptorPlaneToDetectorHousing"],9427:["CS","IntensifierActiveShape"],9428:["FL","IntensifierActiveDimensions"],9429:["FL","PhysicalDetectorSize"],9430:["FL","PositionOfIsocenterProjection"],9432:["SQ","FieldOfViewSequence"],9433:["LO","FieldOfViewDescription"],9434:["SQ","ExposureControlSensingRegionsSequence"],9435:["CS","ExposureControlSensingRegionShape"],9436:["SS","ExposureControlSensingRegionLeftVerticalEdge"],9437:["SS","ExposureControlSensingRegionRightVerticalEdge"],9438:["SS","ExposureControlSensingRegionUpperHorizontalEdge"],9439:["SS","ExposureControlSensingRegionLowerHorizontalEdge"],9440:["SS","CenterOfCircularExposureControlSensingRegion"],9441:["US","RadiusOfCircularExposureControlSensingRegion"],9442:["SS","VerticesOfThePolygonalExposureControlSensingRegion"],9447:["FL","ColumnAngulationPatient"],9449:["FL","BeamAngle"],9451:["SQ","FrameDetectorParametersSequence"],9452:["FL","CalculatedAnatomyThickness"],9455:["SQ","CalibrationSequence"],9456:["SQ","ObjectThicknessSequence"],9457:["CS","PlaneIdentification"],9461:["FL","FieldOfViewDimensionsInFloat"],9462:["SQ","IsocenterReferenceSystemSequence"],9463:["FL","PositionerIsocenterPrimaryAngle"],9464:["FL","PositionerIsocenterSecondaryAngle"],9465:["FL","PositionerIsocenterDetectorRotationAngle"],9466:["FL","TableXPositionToIsocenter"],9467:["FL","TableYPositionToIsocenter"],9468:["FL","TableZPositionToIsocenter"],9469:["FL","TableHorizontalRotationAngle"],9470:["FL","TableHeadTiltAngle"],9471:["FL","TableCradleTiltAngle"],9472:["SQ","FrameDisplayShutterSequence"],9473:["FL","AcquiredImageAreaDoseProduct"],9474:["CS","CArmPositionerTabletopRelationship"],9476:["SQ","XRayGeometrySequence"],9477:["SQ","IrradiationEventIdentificationSequence"],9504:["SQ","XRay3DFrameTypeSequence"],9506:["SQ","ContributingSourcesSequence"],9507:["SQ","XRay3DAcquisitionSequence"],9508:["FL","PrimaryPositionerScanArc"],9509:["FL","SecondaryPositionerScanArc"],9510:["FL ","PrimaryPositionerScanStartAngle"],9511:["FL","SecondaryPositionerScanStartAngle"],9514:["FL","PrimaryPositionerIncrement"],9515:["FL","SecondaryPositionerIncrement"],9516:["DT","StartAcquisitionDateTime"],9517:["DT","EndAcquisitionDateTime"],9524:["LO","ApplicationName"],9525:["LO","ApplicationVersion"],9526:["LO","ApplicationManufacturer"],9527:["CS","AlgorithmType"],9528:["LO","AlgorithmDescription"],9530:["SQ","XRay3DReconstructionSequence"],9531:["LO","ReconstructionDescription"],9538:["SQ","PerProjectionAcquisitionSequence"],9601:["SQ","DiffusionBMatrixSequence"],9602:["FD","DiffusionBValueXX"],9603:["FD","DiffusionBValueXY"],9604:["FD","DiffusionBValueXZ"],9605:["FD","DiffusionBValueYY"],9606:["FD","DiffusionBValueYZ"],9607:["FD","DiffusionBValueZZ"],9701:["DT","DecayCorrectionDateTime"],9715:["FD","StartDensityThreshold"],9716:["FD","StartRelativeDensityDifferenceThreshold"],9717:["FD","StartCardiacTriggerCountThreshold"],9718:["FD","StartRespiratoryTriggerCountThreshold"],9719:["FD","TerminationCountsThreshold"],9720:["FD","TerminationDensityThreshold"],9721:["FD","TerminationRelativeDensityThreshold"],9722:["FD","TerminationTimeThreshold"],9723:["FD","TerminationCardiacTriggerCountThreshold"],9724:["FD","TerminationRespiratoryTriggerCountThreshold"],9725:["CS","DetectorGeometry"],9726:["FD","TransverseDetectorSeparation"],9727:["FD","AxialDetectorDimension"],9729:["US","RadiopharmaceuticalAgentNumber"],9732:["SQ","PETFrameAcquisitionSequence"],9733:["SQ","PETDetectorMotionDetailsSequence"],9734:["SQ","PETTableDynamicsSequence"],9735:["SQ","PETPositionSequence"],9736:["SQ","PETFrameCorrectionFactorsSequence"],9737:["SQ","RadiopharmaceuticalUsageSequence"],9738:["CS","AttenuationCorrectionSource"],9739:["US","NumberOfIterations"],9740:["US","NumberOfSubsets"],9749:["SQ","PETReconstructionSequence"],9751:["SQ","PETFrameTypeSequence"],9755:["CS","TimeOfFlightInformationUsed"],9756:["CS","ReconstructionType"],9758:["CS","DecayCorrected"],9759:["CS","AttenuationCorrected"],9760:["CS","ScatterCorrected"],9761:["CS","DeadTimeCorrected"],9762:["CS","GantryMotionCorrected"],9763:["CS","PatientMotionCorrected"],9764:["CS","CountLossNormalizationCorrected"],9765:["CS","RandomsCorrected"],9766:["CS","NonUniformRadialSamplingCorrected"],9767:["CS","SensitivityCalibrated"],9768:["CS","DetectorNormalizationCorrection"],9769:["CS","IterativeReconstructionMethod"],9770:["CS","AttenuationCorrectionTemporalRelationship"],9771:["SQ","PatientPhysiologicalStateSequence"],9772:["SQ","PatientPhysiologicalStateCodeSequence"],9801:["FD","DepthsOfFocus"],9803:["SQ","ExcludedIntervalsSequence"],9804:["DT","ExclusionStartDatetime"],9805:["FD","ExclusionDuration"],9806:["SQ","USImageDescriptionSequence"],9807:["SQ","ImageDataTypeSequence"],9808:["CS","DataType"],9809:["SQ","TransducerScanPatternCodeSequence"],"980B":["CS","AliasedDataType"],"980C":["CS","PositionMeasuringDeviceUsed"],"980D":["SQ","TransducerGeometryCodeSequence"],"980E":["SQ","TransducerBeamSteeringCodeSequence"],"980F":["SQ","TransducerApplicationCodeSequence"],A001:["SQ","ContributingEquipmentSequence"],A002:["DT","ContributionDateTime"],A003:["ST","ContributionDescription"]},"0020":{"000D":["UI","StudyInstanceUID"],"000E":["UI","SeriesInstanceUID"],"0010":["SH","StudyID"],"0011":["IS","SeriesNumber"],"0012":["IS","AcquisitionNumber"],"0013":["IS","InstanceNumber"],"0014":["IS","IsotopeNumber"],"0015":["IS","PhaseNumber"],"0016":["IS","IntervalNumber"],"0017":["IS","TimeSlotNumber"],"0018":["IS","AngleNumber"],"0019":["IS","ItemNumber"],"0020":["CS","PatientOrientation"],"0022":["IS","OverlayNumber"],"0024":["IS","CurveNumber"],"0026":["IS","LUTNumber"],"0030":["DS","ImagePosition"],"0032":["DS","ImagePositionPatient"],"0035":["DS","ImageOrientation"],"0037":["DS","ImageOrientationPatient"],"0050":["DS","Location"],"0052":["UI","FrameOfReferenceUID"],"0060":["CS","Laterality"],"0062":["CS","ImageLaterality"],"0070":["LO","ImageGeometryType"],"0080":["CS","MaskingImage"],"00AA":["IS","ReportNumber"],"0100":["IS","TemporalPositionIdentifier"],"0105":["IS","NumberOfTemporalPositions"],"0110":["DS","TemporalResolution"],"0200":["UI","SynchronizationFrameOfReferenceUID"],"0242":["UI","SOPInstanceUIDOfConcatenationSource"],1e3:["IS","SeriesInStudy"],1001:["IS","AcquisitionsInSeries"],1002:["IS","ImagesInAcquisition"],1003:["IS","ImagesInSeries"],1004:["IS","AcquisitionsInStudy"],1005:["IS","ImagesInStudy"],1020:["LO","Reference"],1040:["LO","PositionReferenceIndicator"],1041:["DS","SliceLocation"],1070:["IS","OtherStudyNumbers"],1200:["IS","NumberOfPatientRelatedStudies"],1202:["IS","NumberOfPatientRelatedSeries"],1204:["IS","NumberOfPatientRelatedInstances"],1206:["IS","NumberOfStudyRelatedSeries"],1208:["IS","NumberOfStudyRelatedInstances"],1209:["IS","NumberOfSeriesRelatedInstances"],3401:["CS","ModifyingDeviceID"],3402:["CS","ModifiedImageID"],3403:["DA","ModifiedImageDate"],3404:["LO","ModifyingDeviceManufacturer"],3405:["TM","ModifiedImageTime"],3406:["LO","ModifiedImageDescription"],4e3:["LT","ImageComments"],5e3:["AT","OriginalImageIdentification"],5002:["LO","OriginalImageIdentificationNomenclature"],9056:["SH","StackID"],9057:["UL","InStackPositionNumber"],9071:["SQ","FrameAnatomySequence"],9072:["CS","FrameLaterality"],9111:["SQ","FrameContentSequence"],9113:["SQ","PlanePositionSequence"],9116:["SQ","PlaneOrientationSequence"],9128:["UL","TemporalPositionIndex"],9153:["FD","NominalCardiacTriggerDelayTime"],9154:["FL","NominalCardiacTriggerTimePriorToRPeak"],9155:["FL","ActualCardiacTriggerTimePriorToRPeak"],9156:["US","FrameAcquisitionNumber"],9157:["UL","DimensionIndexValues"],9158:["LT","FrameComments"],9161:["UI","ConcatenationUID"],9162:["US","InConcatenationNumber"],9163:["US","InConcatenationTotalNumber"],9164:["UI","DimensionOrganizationUID"],9165:["AT","DimensionIndexPointer"],9167:["AT","FunctionalGroupPointer"],9213:["LO","DimensionIndexPrivateCreator"],9221:["SQ","DimensionOrganizationSequence"],9222:["SQ","DimensionIndexSequence"],9228:["UL","ConcatenationFrameOffsetNumber"],9238:["LO","FunctionalGroupPrivateCreator"],9241:["FL","NominalPercentageOfCardiacPhase"],9245:["FL","NominalPercentageOfRespiratoryPhase"],9246:["FL","StartingRespiratoryAmplitude"],9247:["CS","StartingRespiratoryPhase"],9248:["FL","EndingRespiratoryAmplitude"],9249:["CS","EndingRespiratoryPhase"],9250:["CS","RespiratoryTriggerType"],9251:["FD","RRIntervalTimeNominal"],9252:["FD","ActualCardiacTriggerDelayTime"],9253:["SQ","RespiratorySynchronizationSequence"],9254:["FD","RespiratoryIntervalTime"],9255:["FD","NominalRespiratoryTriggerDelayTime"],9256:["FD","RespiratoryTriggerDelayThreshold"],9257:["FD","ActualRespiratoryTriggerDelayTime"],9301:["FD","ImagePositionVolume"],9302:["FD","ImageOrientationVolume"],9307:["CS","UltrasoundAcquisitionGeometry"],9308:["FD","ApexPosition"],9309:["FD","VolumeToTransducerMappingMatrix"],"930A":["FD","VolumeToTableMappingMatrix"],"930C":["CS","PatientFrameOfReferenceSource"],"930D":["FD","TemporalPositionTimeOffset"],"930E":["SQ","PlanePositionVolumeSequence"],"930F":["SQ","PlaneOrientationVolumeSequence"],9310:["SQ","TemporalPositionSequence"],9311:["CS","DimensionOrganizationType"],9312:["UI","VolumeFrameOfReferenceUID"],9313:["UI","TableFrameOfReferenceUID"],9421:["LO","DimensionDescriptionLabel"],9450:["SQ","PatientOrientationInFrameSequence"],9453:["LO","FrameLabel"],9518:["US","AcquisitionIndex"],9529:["SQ","ContributingSOPInstancesReferenceSequence"],9536:["US","ReconstructionIndex"]},"0022":{"0001":["US","LightPathFilterPassThroughWavelength"],"0002":["US","LightPathFilterPassBand"],"0003":["US","ImagePathFilterPassThroughWavelength"],"0004":["US","ImagePathFilterPassBand"],"0005":["CS","PatientEyeMovementCommanded"],"0006":["SQ","PatientEyeMovementCommandCodeSequence"],"0007":["FL","SphericalLensPower"],"0008":["FL","CylinderLensPower"],"0009":["FL","CylinderAxis"],"000A":["FL","EmmetropicMagnification"],"000B":["FL","IntraOcularPressure"],"000C":["FL","HorizontalFieldOfView"],"000D":["CS","PupilDilated"],"000E":["FL","DegreeOfDilation"],"0010":["FL","StereoBaselineAngle"],"0011":["FL","StereoBaselineDisplacement"],"0012":["FL","StereoHorizontalPixelOffset"],"0013":["FL","StereoVerticalPixelOffset"],"0014":["FL","StereoRotation"],"0015":["SQ","AcquisitionDeviceTypeCodeSequence"],"0016":["SQ","IlluminationTypeCodeSequence"],"0017":["SQ","LightPathFilterTypeStackCodeSequence"],"0018":["SQ","ImagePathFilterTypeStackCodeSequence"],"0019":["SQ","LensesCodeSequence"],"001A":["SQ","ChannelDescriptionCodeSequence"],"001B":["SQ","RefractiveStateSequence"],"001C":["SQ","MydriaticAgentCodeSequence"],"001D":["SQ","RelativeImagePositionCodeSequence"],"001E":["FL","CameraAngleOfView"],"0020":["SQ","StereoPairsSequence"],"0021":["SQ","LeftImageSequence"],"0022":["SQ","RightImageSequence"],"0030":["FL","AxialLengthOfTheEye"],"0031":["SQ","OphthalmicFrameLocationSequence"],"0032":["FL","ReferenceCoordinates"],"0035":["FL","DepthSpatialResolution"],"0036":["FL","MaximumDepthDistortion"],"0037":["FL","AlongScanSpatialResolution"],"0038":["FL","MaximumAlongScanDistortion"],"0039":["CS","OphthalmicImageOrientation"],"0041":["FL","DepthOfTransverseImage"],"0042":["SQ","MydriaticAgentConcentrationUnitsSequence"],"0048":["FL","AcrossScanSpatialResolution"],"0049":["FL","MaximumAcrossScanDistortion"],"004E":["DS","MydriaticAgentConcentration"],"0055":["FL","IlluminationWaveLength"],"0056":["FL","IlluminationPower"],"0057":["FL","IlluminationBandwidth"],"0058":["SQ","MydriaticAgentSequence"],1007:["SQ","OphthalmicAxialMeasurementsRightEyeSequence"],1008:["SQ","OphthalmicAxialMeasurementsLeftEyeSequence"],1010:["CS","OphthalmicAxialLengthMeasurementsType"],1019:["FL","OphthalmicAxialLength"],1024:["SQ","LensStatusCodeSequence"],1025:["SQ","VitreousStatusCodeSequence"],1028:["SQ","IOLFormulaCodeSequence"],1029:["LO","IOLFormulaDetail"],1033:["FL","KeratometerIndex"],1035:["SQ","SourceOfOphthalmicAxialLengthCodeSequence"],1037:["FL","TargetRefraction"],1039:["CS","RefractiveProcedureOccurred"],1040:["SQ","RefractiveSurgeryTypeCodeSequence"],1044:["SQ","OphthalmicUltrasoundAxialMeasurementsTypeCodeSequence"],1050:["SQ","OphthalmicAxialLengthMeasurementsSequence"],1053:["FL","IOLPower"],1054:["FL","PredictedRefractiveError"],1059:["FL","OphthalmicAxialLengthVelocity"],1065:["LO","LensStatusDescription"],1066:["LO","VitreousStatusDescription"],1090:["SQ","IOLPowerSequence"],1092:["SQ","LensConstantSequence"],1093:["LO","IOLManufacturer"],1094:["LO","LensConstantDescription"],1096:["SQ","KeratometryMeasurementTypeCodeSequence"],1100:["SQ","ReferencedOphthalmicAxialMeasurementsSequence"],1101:["SQ","OphthalmicAxialLengthMeasurementsSegmentNameCodeSequence"],1103:["SQ","RefractiveErrorBeforeRefractiveSurgeryCodeSequence"],1121:["FL","IOLPowerForExactEmmetropia"],1122:["FL","IOLPowerForExactTargetRefraction"],1125:["SQ","AnteriorChamberDepthDefinitionCodeSequence"],1130:["FL","LensThickness"],1131:["FL","AnteriorChamberDepth"],1132:["SQ","SourceOfLensThicknessDataCodeSequence"],1133:["SQ","SourceOfAnteriorChamberDepthDataCodeSequence"],1135:["SQ","SourceOfRefractiveErrorDataCodeSequence"],1140:["CS","OphthalmicAxialLengthMeasurementModified"],1150:["SQ","OphthalmicAxialLengthDataSourceCodeSequence"],1153:["SQ","OphthalmicAxialLengthAcquisitionMethodCodeSequence"],1155:["FL","SignalToNoiseRatio"],1159:["LO","OphthalmicAxialLengthDataSourceDescription"],1210:["SQ","OphthalmicAxialLengthMeasurementsTotalLengthSequence"],1211:["SQ","OphthalmicAxialLengthMeasurementsSegmentalLengthSequence"],1212:["SQ","OphthalmicAxialLengthMeasurementsLengthSummationSequence"],1220:["SQ","UltrasoundOphthalmicAxialLengthMeasurementsSequence"],1225:["SQ","OpticalOphthalmicAxialLengthMeasurementsSequence"],1230:["SQ","UltrasoundSelectedOphthalmicAxialLengthSequence"],1250:["SQ","OphthalmicAxialLengthSelectionMethodCodeSequence"],1255:["SQ","OpticalSelectedOphthalmicAxialLengthSequence"],1257:["SQ","SelectedSegmentalOphthalmicAxialLengthSequence"],1260:["SQ","SelectedTotalOphthalmicAxialLengthSequence"],1262:["SQ","OphthalmicAxialLengthQualityMetricSequence"],1273:["LO","OphthalmicAxialLengthQualityMetricTypeDescription"],1300:["SQ","IntraocularLensCalculationsRightEyeSequence"],1310:["SQ","IntraocularLensCalculationsLeftEyeSequence"],1330:["SQ","ReferencedOphthalmicAxialLengthMeasurementQCImageSequence"]},"0024":{"0010":["FL","VisualFieldHorizontalExtent"],"0011":["FL","VisualFieldVerticalExtent"],"0012":["CS","VisualFieldShape"],"0016":["SQ","ScreeningTestModeCodeSequence"],"0018":["FL","MaximumStimulusLuminance"],"0020":["FL","BackgroundLuminance"],"0021":["SQ","StimulusColorCodeSequence"],"0024":["SQ","BackgroundIlluminationColorCodeSequence"],"0025":["FL","StimulusArea"],"0028":["FL","StimulusPresentationTime"],"0032":["SQ","FixationSequence"],"0033":["SQ","FixationMonitoringCodeSequence"],"0034":["SQ","VisualFieldCatchTrialSequence"],"0035":["US","FixationCheckedQuantity"],"0036":["US","PatientNotProperlyFixatedQuantity"],"0037":["CS","PresentedVisualStimuliDataFlag"],"0038":["US","NumberOfVisualStimuli"],"0039":["CS","ExcessiveFixationLossesDataFlag"],"0040":["CS","ExcessiveFixationLosses"],"0042":["US","StimuliRetestingQuantity"],"0044":["LT","CommentsOnPatientPerformanceOfVisualField"],"0045":["CS","FalseNegativesEstimateFlag"],"0046":["FL","FalseNegativesEstimate"],"0048":["US","NegativeCatchTrialsQuantity"],"0050":["US","FalseNegativesQuantity"],"0051":["CS","ExcessiveFalseNegativesDataFlag"],"0052":["CS","ExcessiveFalseNegatives"],"0053":["CS","FalsePositivesEstimateFlag"],"0054":["FL","FalsePositivesEstimate"],"0055":["CS","CatchTrialsDataFlag"],"0056":["US","PositiveCatchTrialsQuantity"],"0057":["CS","TestPointNormalsDataFlag"],"0058":["SQ","TestPointNormalsSequence"],"0059":["CS","GlobalDeviationProbabilityNormalsFlag"],"0060":["US","FalsePositivesQuantity"],"0061":["CS","ExcessiveFalsePositivesDataFlag"],"0062":["CS","ExcessiveFalsePositives"],"0063":["CS","VisualFieldTestNormalsFlag"],"0064":["SQ","ResultsNormalsSequence"],"0065":["SQ","AgeCorrectedSensitivityDeviationAlgorithmSequence"],"0066":["FL","GlobalDeviationFromNormal"],"0067":["SQ","GeneralizedDefectSensitivityDeviationAlgorithmSequence"],"0068":["FL","LocalizedDeviationfromNormal"],"0069":["LO","PatientReliabilityIndicator"],"0070":["FL","VisualFieldMeanSensitivity"],"0071":["FL","GlobalDeviationProbability"],"0072":["CS","LocalDeviationProbabilityNormalsFlag"],"0073":["FL","LocalizedDeviationProbability"],"0074":["CS","ShortTermFluctuationCalculated"],"0075":["FL","ShortTermFluctuation"],"0076":["CS","ShortTermFluctuationProbabilityCalculated"],"0077":["FL","ShortTermFluctuationProbability"],"0078":["CS","CorrectedLocalizedDeviationFromNormalCalculated"],"0079":["FL","CorrectedLocalizedDeviationFromNormal"],"0080":["CS","CorrectedLocalizedDeviationFromNormalProbabilityCalculated"],"0081":["FL","CorrectedLocalizedDeviationFromNormalProbability"],"0083":["SQ","GlobalDeviationProbabilitySequence"],"0085":["SQ","LocalizedDeviationProbabilitySequence"],"0086":["CS","FovealSensitivityMeasured"],"0087":["FL","FovealSensitivity"],"0088":["FL","VisualFieldTestDuration"],"0089":["SQ","VisualFieldTestPointSequence"],"0090":["FL","VisualFieldTestPointXCoordinate"],"0091":["FL","VisualFieldTestPointYCoordinate"],"0092":["FL","AgeCorrectedSensitivityDeviationValue"],"0093":["CS","StimulusResults"],"0094":["FL","SensitivityValue"],"0095":["CS","RetestStimulusSeen"],"0096":["FL","RetestSensitivityValue"],"0097":["SQ","VisualFieldTestPointNormalsSequence"],"0098":["FL","QuantifiedDefect"],"0100":["FL","AgeCorrectedSensitivityDeviationProbabilityValue"],"0102":["CS","GeneralizedDefectCorrectedSensitivityDeviationFlag "],"0103":["FL","GeneralizedDefectCorrectedSensitivityDeviationValue "],"0104":["FL","GeneralizedDefectCorrectedSensitivityDeviationProbabilityValue"],"0105":["FL ","MinimumSensitivityValue"],"0106":["CS","BlindSpotLocalized"],"0107":["FL","BlindSpotXCoordinate"],"0108":["FL","BlindSpotYCoordinate "],"0110":["SQ","VisualAcuityMeasurementSequence"],"0112":["SQ","RefractiveParametersUsedOnPatientSequence"],"0113":["CS","MeasurementLaterality"],"0114":["SQ","OphthalmicPatientClinicalInformationLeftEyeSequence"],"0115":["SQ","OphthalmicPatientClinicalInformationRightEyeSequence"],"0117":["CS","FovealPointNormativeDataFlag"],"0118":["FL","FovealPointProbabilityValue"],"0120":["CS","ScreeningBaselineMeasured"],"0122":["SQ","ScreeningBaselineMeasuredSequence"],"0124":["CS","ScreeningBaselineType"],"0126":["FL","ScreeningBaselineValue"],"0202":["LO","AlgorithmSource"],"0306":["LO","DataSetName"],"0307":["LO","DataSetVersion"],"0308":["LO","DataSetSource"],"0309":["LO","DataSetDescription"],"0317":["SQ","VisualFieldTestReliabilityGlobalIndexSequence"],"0320":["SQ","VisualFieldGlobalResultsIndexSequence"],"0325":["SQ","DataObservationSequence"],"0338":["CS","IndexNormalsFlag"],"0341":["FL","IndexProbability"],"0344":["SQ","IndexProbabilitySequence"]},"0028":{"0002":["US","SamplesPerPixel"],"0003":["US","SamplesPerPixelUsed"],"0004":["CS","PhotometricInterpretation"],"0005":["US","ImageDimensions"],"0006":["US","PlanarConfiguration"],"0008":["IS","NumberOfFrames"],"0009":["AT","FrameIncrementPointer"],"000A":["AT","FrameDimensionPointer"],"0010":["US","Rows"],"0011":["US","Columns"],"0012":["US","Planes"],"0014":["US","UltrasoundColorDataPresent"],"0030":["DS","PixelSpacing"],"0031":["DS","ZoomFactor"],"0032":["DS","ZoomCenter"],"0034":["IS","PixelAspectRatio"],"0040":["CS","ImageFormat"],"0050":["LO","ManipulatedImage"],"0051":["CS","CorrectedImage"],"005F":["LO","CompressionRecognitionCode"],"0060":["CS","CompressionCode"],"0061":["SH","CompressionOriginator"],"0062":["LO","CompressionLabel"],"0063":["SH","CompressionDescription"],"0065":["CS","CompressionSequence"],"0066":["AT","CompressionStepPointers"],"0068":["US","RepeatInterval"],"0069":["US","BitsGrouped"],"0070":["US","PerimeterTable"],"0071":["SS","PerimeterValue"],"0080":["US","PredictorRows"],"0081":["US","PredictorColumns"],"0082":["US","PredictorConstants"],"0090":["CS","BlockedPixels"],"0091":["US","BlockRows"],"0092":["US","BlockColumns"],"0093":["US","RowOverlap"],"0094":["US","ColumnOverlap"],"0100":["US","BitsAllocated"],"0101":["US","BitsStored"],"0102":["US","HighBit"],"0103":["US","PixelRepresentation"],"0104":["SS","SmallestValidPixelValue"],"0105":["SS","LargestValidPixelValue"],"0106":["SS","SmallestImagePixelValue"],"0107":["SS","LargestImagePixelValue"],"0108":["SS","SmallestPixelValueInSeries"],"0109":["SS","LargestPixelValueInSeries"],"0110":["SS","SmallestImagePixelValueInPlane"],"0111":["SS","LargestImagePixelValueInPlane"],"0120":["SS","PixelPaddingValue"],"0121":["SS","PixelPaddingRangeLimit"],"0200":["US","ImageLocation"],"0300":["CS","QualityControlImage"],"0301":["CS","BurnedInAnnotation"],"0302":["CS","RecognizableVisualFeatures"],"0303":["CS","LongitudinalTemporalInformationModified"],"0400":["LO","TransformLabel"],"0401":["LO","TransformVersionNumber"],"0402":["US","NumberOfTransformSteps"],"0403":["LO","SequenceOfCompressedData"],"0404":["AT","DetailsOfCoefficients"],"0700":["LO","DCTLabel"],"0701":["CS","DataBlockDescription"],"0702":["AT","DataBlock"],"0710":["US","NormalizationFactorFormat"],"0720":["US","ZonalMapNumberFormat"],"0721":["AT","ZonalMapLocation"],"0722":["US","ZonalMapFormat"],"0730":["US","AdaptiveMapFormat"],"0740":["US","CodeNumberFormat"],"0A02":["CS","PixelSpacingCalibrationType"],"0A04":["LO","PixelSpacingCalibrationDescription"],1040:["CS","PixelIntensityRelationship"],1041:["SS","PixelIntensityRelationshipSign"],1050:["DS","WindowCenter"],1051:["DS","WindowWidth"],1052:["DS","RescaleIntercept"],1053:["DS","RescaleSlope"],1054:["LO","RescaleType"],1055:["LO","WindowCenterWidthExplanation"],1056:["CS","VOILUTFunction"],1080:["CS","GrayScale"],1090:["CS","RecommendedViewingMode"],1100:["SS","GrayLookupTableDescriptor"],1101:["SS","RedPaletteColorLookupTableDescriptor"],1102:["SS","GreenPaletteColorLookupTableDescriptor"],1103:["SS","BluePaletteColorLookupTableDescriptor"],1104:["US","AlphaPaletteColorLookupTableDescriptor"],1111:["SS","LargeRedPaletteColorLookupTableDescriptor"],1112:["SS","LargeGreenPaletteColorLookupTableDescriptor"],1113:["SS","LargeBluePaletteColorLookupTableDescriptor"],1199:["UI","PaletteColorLookupTableUID"],1200:["OW","GrayLookupTableData"],1201:["OW","RedPaletteColorLookupTableData"],1202:["OW","GreenPaletteColorLookupTableData"],1203:["OW","BluePaletteColorLookupTableData"],1204:["OW","AlphaPaletteColorLookupTableData"],1211:["OW","LargeRedPaletteColorLookupTableData"],1212:["OW","LargeGreenPaletteColorLookupTableData"],1213:["OW","LargeBluePaletteColorLookupTableData"],1214:["UI","LargePaletteColorLookupTableUID"],1221:["OW","SegmentedRedPaletteColorLookupTableData"],1222:["OW","SegmentedGreenPaletteColorLookupTableData"],1223:["OW","SegmentedBluePaletteColorLookupTableData"],1300:["CS","BreastImplantPresent"],1350:["CS","PartialView"],1351:["ST","PartialViewDescription"],1352:["SQ","PartialViewCodeSequence"],"135A":["CS","SpatialLocationsPreserved"],1401:["SQ","DataFrameAssignmentSequence"],1402:["CS","DataPathAssignment"],1403:["US","BitsMappedToColorLookupTable"],1404:["SQ","BlendingLUT1Sequence"],1405:["CS","BlendingLUT1TransferFunction"],1406:["FD","BlendingWeightConstant"],1407:["US","BlendingLookupTableDescriptor"],1408:["OW","BlendingLookupTableData"],"140B":["SQ","EnhancedPaletteColorLookupTableSequence"],"140C":["SQ","BlendingLUT2Sequence"],"140D":["CS","BlendingLUT2TransferFunction"],"140E":["CS","DataPathID"],"140F":["CS","RGBLUTTransferFunction"],1410:["CS","AlphaLUTTransferFunction"],2e3:["OB","ICCProfile"],2110:["CS","LossyImageCompression"],2112:["DS","LossyImageCompressionRatio"],2114:["CS","LossyImageCompressionMethod"],3e3:["SQ","ModalityLUTSequence"],3002:["SS","LUTDescriptor"],3003:["LO","LUTExplanation"],3004:["LO","ModalityLUTType"],3006:["OW","LUTData"],3010:["SQ","VOILUTSequence"],3110:["SQ","SoftcopyVOILUTSequence"],4e3:["LT","ImagePresentationComments"],5e3:["SQ","BiPlaneAcquisitionSequence"],6010:["US","RepresentativeFrameNumber"],6020:["US","FrameNumbersOfInterest"],6022:["LO","FrameOfInterestDescription"],6023:["CS","FrameOfInterestType"],6030:["US","MaskPointers"],6040:["US","RWavePointer"],6100:["SQ","MaskSubtractionSequence"],6101:["CS","MaskOperation"],6102:["US","ApplicableFrameRange"],6110:["US","MaskFrameNumbers"],6112:["US","ContrastFrameAveraging"],6114:["FL","MaskSubPixelShift"],6120:["SS","TIDOffset"],6190:["ST","MaskOperationExplanation"],"7FE0":["UT","PixelDataProviderURL"],9001:["UL","DataPointRows"],9002:["UL","DataPointColumns"],9003:["CS","SignalDomainColumns"],9099:["US","LargestMonochromePixelValue"],9108:["CS","DataRepresentation"],9110:["SQ","PixelMeasuresSequence"],9132:["SQ","FrameVOILUTSequence"],9145:["SQ","PixelValueTransformationSequence"],9235:["CS","SignalDomainRows"],9411:["FL","DisplayFilterPercentage"],9415:["SQ","FramePixelShiftSequence"],9416:["US","SubtractionItemID"],9422:["SQ","PixelIntensityRelationshipLUTSequence"],9443:["SQ","FramePixelDataPropertiesSequence"],9444:["CS","GeometricalProperties"],9445:["FL","GeometricMaximumDistortion"],9446:["CS","ImageProcessingApplied"],9454:["CS","MaskSelectionMode"],9474:["CS","LUTFunction"],9478:["FL","MaskVisibilityPercentage"],9501:["SQ","PixelShiftSequence"],9502:["SQ","RegionPixelShiftSequence"],9503:["SS","VerticesOfTheRegion"],9505:["SQ","MultiFramePresentationSequence"],9506:["US","PixelShiftFrameRange"],9507:["US","LUTFrameRange"],9520:["DS","ImageToEquipmentMappingMatrix"],9537:["CS","EquipmentCoordinateSystemIdentification"]},"0032":{"000A":["CS","StudyStatusID"],"000C":["CS","StudyPriorityID"],"0012":["LO","StudyIDIssuer"],"0032":["DA","StudyVerifiedDate"],"0033":["TM","StudyVerifiedTime"],"0034":["DA","StudyReadDate"],"0035":["TM","StudyReadTime"],1e3:["DA","ScheduledStudyStartDate"],1001:["TM","ScheduledStudyStartTime"],1010:["DA","ScheduledStudyStopDate"],1011:["TM","ScheduledStudyStopTime"],1020:["LO","ScheduledStudyLocation"],1021:["AE","ScheduledStudyLocationAETitle"],1030:["LO","ReasonForStudy"],1031:["SQ","RequestingPhysicianIdentificationSequence"],1032:["PN","RequestingPhysician"],1033:["LO","RequestingService"],1034:["SQ","RequestingServiceCodeSequence"],1040:["DA","StudyArrivalDate"],1041:["TM","StudyArrivalTime"],1050:["DA","StudyCompletionDate"],1051:["TM","StudyCompletionTime"],1055:["CS","StudyComponentStatusID"],1060:["LO","RequestedProcedureDescription"],1064:["SQ","RequestedProcedureCodeSequence"],1070:["LO","RequestedContrastAgent"],4e3:["LT","StudyComments"]},"0038":{"0004":["SQ","ReferencedPatientAliasSequence"],"0008":["CS","VisitStatusID"],"0010":["LO","AdmissionID"],"0011":["LO","IssuerOfAdmissionID"],"0014":["SQ","IssuerOfAdmissionIDSequence"],"0016":["LO","RouteOfAdmissions"],"001A":["DA","ScheduledAdmissionDate"],"001B":["TM","ScheduledAdmissionTime"],"001C":["DA","ScheduledDischargeDate"],"001D":["TM","ScheduledDischargeTime"],"001E":["LO","ScheduledPatientInstitutionResidence"],"0020":["DA","AdmittingDate"],"0021":["TM","AdmittingTime"],"0030":["DA","DischargeDate"],"0032":["TM","DischargeTime"],"0040":["LO","DischargeDiagnosisDescription"],"0044":["SQ","DischargeDiagnosisCodeSequence"],"0050":["LO","SpecialNeeds"],"0060":["LO","ServiceEpisodeID"],"0061":["LO","IssuerOfServiceEpisodeID"],"0062":["LO","ServiceEpisodeDescription"],"0064":["SQ","IssuerOfServiceEpisodeIDSequence"],"0100":["SQ","PertinentDocumentsSequence"],"0300":["LO","CurrentPatientLocation"],"0400":["LO","PatientInstitutionResidence"],"0500":["LO","PatientState"],"0502":["SQ","PatientClinicalTrialParticipationSequence"],4e3:["LT","VisitComments"]},"003A":{"0004":["CS","WaveformOriginality"],"0005":["US","NumberOfWaveformChannels"],"0010":["UL","NumberOfWaveformSamples"],"001A":["DS","SamplingFrequency"],"0020":["SH","MultiplexGroupLabel"],"0200":["SQ","ChannelDefinitionSequence"],"0202":["IS","WaveformChannelNumber"],"0203":["SH","ChannelLabel"],"0205":["CS","ChannelStatus"],"0208":["SQ","ChannelSourceSequence"],"0209":["SQ","ChannelSourceModifiersSequence"],"020A":["SQ","SourceWaveformSequence"],"020C":["LO","ChannelDerivationDescription"],"0210":["DS","ChannelSensitivity"],"0211":["SQ","ChannelSensitivityUnitsSequence"],"0212":["DS","ChannelSensitivityCorrectionFactor"],"0213":["DS","ChannelBaseline"],"0214":["DS","ChannelTimeSkew"],"0215":["DS","ChannelSampleSkew"],"0218":["DS","ChannelOffset"],"021A":["US","WaveformBitsStored"],"0220":["DS","FilterLowFrequency"],"0221":["DS","FilterHighFrequency"],"0222":["DS","NotchFilterFrequency"],"0223":["DS","NotchFilterBandwidth"],"0230":["FL","WaveformDataDisplayScale"],"0231":["US","WaveformDisplayBackgroundCIELabValue"],"0240":["SQ","WaveformPresentationGroupSequence"],"0241":["US","PresentationGroupNumber"],"0242":["SQ","ChannelDisplaySequence"],"0244":["US","ChannelRecommendedDisplayCIELabValue"],"0245":["FL","ChannelPosition"],"0246":["CS","DisplayShadingFlag"],"0247":["FL","FractionalChannelDisplayScale"],"0248":["FL","AbsoluteChannelDisplayScale"],"0300":["SQ","MultiplexedAudioChannelsDescriptionCodeSequence"],"0301":["IS","ChannelIdentificationCode"],"0302":["CS","ChannelMode"]},"0040":{"0001":["AE","ScheduledStationAETitle"],"0002":["DA","ScheduledProcedureStepStartDate"],"0003":["TM","ScheduledProcedureStepStartTime"],"0004":["DA","ScheduledProcedureStepEndDate"],"0005":["TM","ScheduledProcedureStepEndTime"],"0006":["PN","ScheduledPerformingPhysicianName"],"0007":["LO","ScheduledProcedureStepDescription"],"0008":["SQ","ScheduledProtocolCodeSequence"],"0009":["SH","ScheduledProcedureStepID"],"000A":["SQ","StageCodeSequence"],"000B":["SQ","ScheduledPerformingPhysicianIdentificationSequence"],"0010":["SH","ScheduledStationName"],"0011":["SH","ScheduledProcedureStepLocation"],"0012":["LO","PreMedication"],"0020":["CS","ScheduledProcedureStepStatus"],"0026":["SQ","OrderPlacerIdentifierSequence"],"0027":["SQ","OrderFillerIdentifierSequence"],"0031":["UT","LocalNamespaceEntityID"],"0032":["UT","UniversalEntityID"],"0033":["CS","UniversalEntityIDType"],"0035":["CS","IdentifierTypeCode"],"0036":["SQ","AssigningFacilitySequence"],"0039":["SQ","AssigningJurisdictionCodeSequence"],"003A":["SQ","AssigningAgencyOrDepartmentCodeSequence"],"0100":["SQ","ScheduledProcedureStepSequence"],"0220":["SQ","ReferencedNonImageCompositeSOPInstanceSequence"],"0241":["AE","PerformedStationAETitle"],"0242":["SH","PerformedStationName"],"0243":["SH","PerformedLocation"],"0244":["DA","PerformedProcedureStepStartDate"],"0245":["TM","PerformedProcedureStepStartTime"],"0250":["DA","PerformedProcedureStepEndDate"],"0251":["TM","PerformedProcedureStepEndTime"],"0252":["CS","PerformedProcedureStepStatus"],"0253":["SH","PerformedProcedureStepID"],"0254":["LO","PerformedProcedureStepDescription"],"0255":["LO","PerformedProcedureTypeDescription"],"0260":["SQ","PerformedProtocolCodeSequence"],"0261":["CS","PerformedProtocolType"],"0270":["SQ","ScheduledStepAttributesSequence"],"0275":["SQ","RequestAttributesSequence"],"0280":["ST","CommentsOnThePerformedProcedureStep"],"0281":["SQ","PerformedProcedureStepDiscontinuationReasonCodeSequence"],"0293":["SQ","QuantitySequence"],"0294":["DS","Quantity"],"0295":["SQ","MeasuringUnitsSequence"],"0296":["SQ","BillingItemSequence"],"0300":["US","TotalTimeOfFluoroscopy"],"0301":["US","TotalNumberOfExposures"],"0302":["US","EntranceDose"],"0303":["US","ExposedArea"],"0306":["DS","DistanceSourceToEntrance"],"0307":["DS","DistanceSourceToSupport"],"030E":["SQ","ExposureDoseSequence"],"0310":["ST","CommentsOnRadiationDose"],"0312":["DS","XRayOutput"],"0314":["DS","HalfValueLayer"],"0316":["DS","OrganDose"],"0318":["CS","OrganExposed"],"0320":["SQ","BillingProcedureStepSequence"],"0321":["SQ","FilmConsumptionSequence"],"0324":["SQ","BillingSuppliesAndDevicesSequence"],"0330":["SQ","ReferencedProcedureStepSequence"],"0340":["SQ","PerformedSeriesSequence"],"0400":["LT","CommentsOnTheScheduledProcedureStep"],"0440":["SQ","ProtocolContextSequence"],"0441":["SQ","ContentItemModifierSequence"],"0500":["SQ","ScheduledSpecimenSequence"],"050A":["LO","SpecimenAccessionNumber"],"0512":["LO","ContainerIdentifier"],"0513":["SQ","IssuerOfTheContainerIdentifierSequence"],"0515":["SQ","AlternateContainerIdentifierSequence"],"0518":["SQ","ContainerTypeCodeSequence"],"051A":["LO","ContainerDescription"],"0520":["SQ","ContainerComponentSequence"],"0550":["SQ","SpecimenSequence"],"0551":["LO","SpecimenIdentifier"],"0552":["SQ","SpecimenDescriptionSequenceTrial"],"0553":["ST","SpecimenDescriptionTrial"],"0554":["UI","SpecimenUID"],"0555":["SQ","AcquisitionContextSequence"],"0556":["ST","AcquisitionContextDescription"],"059A":["SQ","SpecimenTypeCodeSequence"],"0560":["SQ","SpecimenDescriptionSequence"],"0562":["SQ","IssuerOfTheSpecimenIdentifierSequence"],"0600":["LO","SpecimenShortDescription"],"0602":["UT","SpecimenDetailedDescription"],"0610":["SQ","SpecimenPreparationSequence"],"0612":["SQ","SpecimenPreparationStepContentItemSequence"],"0620":["SQ","SpecimenLocalizationContentItemSequence"],"06FA":["LO","SlideIdentifier"],"071A":["SQ","ImageCenterPointCoordinatesSequence"],"072A":["DS","XOffsetInSlideCoordinateSystem"],"073A":["DS","YOffsetInSlideCoordinateSystem"],"074A":["DS","ZOffsetInSlideCoordinateSystem"],"08D8":["SQ","PixelSpacingSequence"],"08DA":["SQ","CoordinateSystemAxisCodeSequence"],"08EA":["SQ","MeasurementUnitsCodeSequence"],"09F8":["SQ","VitalStainCodeSequenceTrial"],1001:["SH","RequestedProcedureID"],1002:["LO","ReasonForTheRequestedProcedure"],1003:["SH","RequestedProcedurePriority"],1004:["LO","PatientTransportArrangements"],1005:["LO","RequestedProcedureLocation"],1006:["SH","PlacerOrderNumberProcedure"],1007:["SH","FillerOrderNumberProcedure"],1008:["LO","ConfidentialityCode"],1009:["SH","ReportingPriority"],"100A":["SQ","ReasonForRequestedProcedureCodeSequence"],1010:["PN","NamesOfIntendedRecipientsOfResults"],1011:["SQ","IntendedRecipientsOfResultsIdentificationSequence"],1012:["SQ","ReasonForPerformedProcedureCodeSequence"],1060:["LO","RequestedProcedureDescriptionTrial"],1101:["SQ","PersonIdentificationCodeSequence"],1102:["ST","PersonAddress"],1103:["LO","PersonTelephoneNumbers"],1400:["LT","RequestedProcedureComments"],2001:["LO","ReasonForTheImagingServiceRequest"],2004:["DA","IssueDateOfImagingServiceRequest"],2005:["TM","IssueTimeOfImagingServiceRequest"],2006:["SH","PlacerOrderNumberImagingServiceRequestRetired"],2007:["SH","FillerOrderNumberImagingServiceRequestRetired"],2008:["PN","OrderEnteredBy"],2009:["SH","OrderEntererLocation"],2010:["SH","OrderCallbackPhoneNumber"],2016:["LO","PlacerOrderNumberImagingServiceRequest"],2017:["LO","FillerOrderNumberImagingServiceRequest"],2400:["LT","ImagingServiceRequestComments"],3001:["LO","ConfidentialityConstraintOnPatientDataDescription"],4001:["CS","GeneralPurposeScheduledProcedureStepStatus"],4002:["CS","GeneralPurposePerformedProcedureStepStatus"],4003:["CS","GeneralPurposeScheduledProcedureStepPriority"],4004:["SQ","ScheduledProcessingApplicationsCodeSequence"],4005:["DT","ScheduledProcedureStepStartDateTime"],4006:["CS","MultipleCopiesFlag"],4007:["SQ","PerformedProcessingApplicationsCodeSequence"],4009:["SQ","HumanPerformerCodeSequence"],4010:["DT","ScheduledProcedureStepModificationDateTime"],4011:["DT","ExpectedCompletionDateTime"],4015:["SQ","ResultingGeneralPurposePerformedProcedureStepsSequence"],4016:["SQ","ReferencedGeneralPurposeScheduledProcedureStepSequence"],4018:["SQ","ScheduledWorkitemCodeSequence"],4019:["SQ","PerformedWorkitemCodeSequence"],4020:["CS","InputAvailabilityFlag"],4021:["SQ","InputInformationSequence"],4022:["SQ","RelevantInformationSequence"],4023:["UI","ReferencedGeneralPurposeScheduledProcedureStepTransactionUID"],4025:["SQ","ScheduledStationNameCodeSequence"],4026:["SQ","ScheduledStationClassCodeSequence"],4027:["SQ","ScheduledStationGeographicLocationCodeSequence"],4028:["SQ","PerformedStationNameCodeSequence"],4029:["SQ","PerformedStationClassCodeSequence"],4030:["SQ","PerformedStationGeographicLocationCodeSequence"],4031:["SQ","RequestedSubsequentWorkitemCodeSequence"],4032:["SQ","NonDICOMOutputCodeSequence"],4033:["SQ","OutputInformationSequence"],4034:["SQ","ScheduledHumanPerformersSequence"],4035:["SQ","ActualHumanPerformersSequence"],4036:["LO","HumanPerformerOrganization"],4037:["PN","HumanPerformerName"],4040:["CS","RawDataHandling"],4041:["CS","InputReadinessState"],4050:["DT","PerformedProcedureStepStartDateTime"],4051:["DT","PerformedProcedureStepEndDateTime"],4052:["DT","ProcedureStepCancellationDateTime"],8302:["DS","EntranceDoseInmGy"],9094:["SQ","ReferencedImageRealWorldValueMappingSequence"],9096:["SQ","RealWorldValueMappingSequence"],9098:["SQ","PixelValueMappingCodeSequence"],9210:["SH","LUTLabel"],9211:["SS","RealWorldValueLastValueMapped"],9212:["FD","RealWorldValueLUTData"],9216:["SS","RealWorldValueFirstValueMapped"],9224:["FD","RealWorldValueIntercept"],9225:["FD","RealWorldValueSlope"],A007:["CS","FindingsFlagTrial"],A010:["CS","RelationshipType"],A020:["SQ","FindingsSequenceTrial"],A021:["UI","FindingsGroupUIDTrial"],A022:["UI","ReferencedFindingsGroupUIDTrial"],A023:["DA","FindingsGroupRecordingDateTrial"],A024:["TM","FindingsGroupRecordingTimeTrial"],A026:["SQ","FindingsSourceCategoryCodeSequenceTrial"],A027:["LO","VerifyingOrganization"],A028:["SQ","DocumentingOrganizationIdentifierCodeSequenceTrial"],A030:["DT","VerificationDateTime"],A032:["DT","ObservationDateTime"],A040:["CS","ValueType"],A043:["SQ","ConceptNameCodeSequence"],A047:["LO","MeasurementPrecisionDescriptionTrial"],A050:["CS","ContinuityOfContent"],A057:["CS","UrgencyOrPriorityAlertsTrial"],A060:["LO","SequencingIndicatorTrial"],A066:["SQ","DocumentIdentifierCodeSequenceTrial"],A067:["PN","DocumentAuthorTrial"],A068:["SQ","DocumentAuthorIdentifierCodeSequenceTrial"],A070:["SQ","IdentifierCodeSequenceTrial"],A073:["SQ","VerifyingObserverSequence"],A074:["OB","ObjectBinaryIdentifierTrial"],A075:["PN","VerifyingObserverName"],A076:["SQ","DocumentingObserverIdentifierCodeSequenceTrial"],A078:["SQ","AuthorObserverSequence"],A07A:["SQ","ParticipantSequence"],A07C:["SQ","CustodialOrganizationSequence"],A080:["CS","ParticipationType"],A082:["DT","ParticipationDateTime"],A084:["CS","ObserverType"],A085:["SQ","ProcedureIdentifierCodeSequenceTrial"],A088:["SQ","VerifyingObserverIdentificationCodeSequence"],A089:["OB","ObjectDirectoryBinaryIdentifierTrial"],A090:["SQ","EquivalentCDADocumentSequence"],A0B0:["US","ReferencedWaveformChannels"],A110:["DA","DateOfDocumentOrVerbalTransactionTrial"],A112:["TM","TimeOfDocumentCreationOrVerbalTransactionTrial"],A120:["DT","DateTime"],A121:["DA","Date"],A122:["TM","Time"],A123:["PN","PersonName"],A124:["UI","UID"],A125:["CS","ReportStatusIDTrial"],A130:["CS","TemporalRangeType"],A132:["UL","ReferencedSamplePositions"],A136:["US","ReferencedFrameNumbers"],A138:["DS","ReferencedTimeOffsets"],A13A:["DT","ReferencedDateTime"],A160:["UT","TextValue"],A167:["SQ","ObservationCategoryCodeSequenceTrial"],A168:["SQ","ConceptCodeSequence"],A16A:["ST","BibliographicCitationTrial"],A170:["SQ","PurposeOfReferenceCodeSequence"],A171:["UI","ObservationUIDTrial"],A172:["UI","ReferencedObservationUIDTrial"],A173:["CS","ReferencedObservationClassTrial"],A174:["CS","ReferencedObjectObservationClassTrial"],A180:["US","AnnotationGroupNumber"],A192:["DA","ObservationDateTrial"],A193:["TM","ObservationTimeTrial"],A194:["CS","MeasurementAutomationTrial"],A195:["SQ","ModifierCodeSequence"],A224:["ST","IdentificationDescriptionTrial"],A290:["CS","CoordinatesSetGeometricTypeTrial"],A296:["SQ","AlgorithmCodeSequenceTrial"],A297:["ST","AlgorithmDescriptionTrial"],A29A:["SL","PixelCoordinatesSetTrial"],A300:["SQ","MeasuredValueSequence"],A301:["SQ","NumericValueQualifierCodeSequence"],A307:["PN","CurrentObserverTrial"],A30A:["DS","NumericValue"],A313:["SQ","ReferencedAccessionSequenceTrial"],A33A:["ST","ReportStatusCommentTrial"],A340:["SQ","ProcedureContextSequenceTrial"],A352:["PN","VerbalSourceTrial"],A353:["ST","AddressTrial"],A354:["LO","TelephoneNumberTrial"],A358:["SQ","VerbalSourceIdentifierCodeSequenceTrial"],A360:["SQ","PredecessorDocumentsSequence"],A370:["SQ","ReferencedRequestSequence"],A372:["SQ","PerformedProcedureCodeSequence"],A375:["SQ","CurrentRequestedProcedureEvidenceSequence"],A380:["SQ","ReportDetailSequenceTrial"],A385:["SQ","PertinentOtherEvidenceSequence"],A390:["SQ","HL7StructuredDocumentReferenceSequence"],A402:["UI","ObservationSubjectUIDTrial"],A403:["CS","ObservationSubjectClassTrial"],A404:["SQ","ObservationSubjectTypeCodeSequenceTrial"],A491:["CS","CompletionFlag"],A492:["LO","CompletionFlagDescription"],A493:["CS","VerificationFlag"],A494:["CS","ArchiveRequested"],A496:["CS","PreliminaryFlag"],A504:["SQ","ContentTemplateSequence"],A525:["SQ","IdenticalDocumentsSequence"],A600:["CS","ObservationSubjectContextFlagTrial"],A601:["CS","ObserverContextFlagTrial"],A603:["CS","ProcedureContextFlagTrial"],A730:["SQ","ContentSequence"],A731:["SQ","RelationshipSequenceTrial"],A732:["SQ","RelationshipTypeCodeSequenceTrial"],A744:["SQ","LanguageCodeSequenceTrial"],A992:["ST","UniformResourceLocatorTrial"],B020:["SQ","WaveformAnnotationSequence"],DB00:["CS","TemplateIdentifier"],DB06:["DT","TemplateVersion"],DB07:["DT","TemplateLocalVersion"],DB0B:["CS","TemplateExtensionFlag"],DB0C:["UI","TemplateExtensionOrganizationUID"],DB0D:["UI","TemplateExtensionCreatorUID"],DB73:["UL","ReferencedContentItemIdentifier"],E001:["ST","HL7InstanceIdentifier"],E004:["DT","HL7DocumentEffectiveTime"],E006:["SQ","HL7DocumentTypeCodeSequence"],E008:["SQ","DocumentClassCodeSequence"],E010:["UT","RetrieveURI"],E011:["UI","RetrieveLocationUID"],E020:["CS","TypeOfInstances"],E021:["SQ","DICOMRetrievalSequence"],E022:["SQ","DICOMMediaRetrievalSequence"],E023:["SQ","WADORetrievalSequence"],E024:["SQ","XDSRetrievalSequence"],E030:["UI","RepositoryUniqueID"],E031:["UI","HomeCommunityID"]},"0042":{"0010":["ST","DocumentTitle"],"0011":["OB","EncapsulatedDocument"],"0012":["LO","MIMETypeOfEncapsulatedDocument"],"0013":["SQ","SourceInstanceSequence"],"0014":["LO","ListOfMIMETypes"]},"0044":{"0001":["ST","ProductPackageIdentifier"],"0002":["CS","SubstanceAdministrationApproval"],"0003":["LT","ApprovalStatusFurtherDescription"],"0004":["DT","ApprovalStatusDateTime"],"0007":["SQ","ProductTypeCodeSequence"],"0008":["LO","ProductName"],"0009":["LT","ProductDescription"],"000A":["LO","ProductLotIdentifier"],"000B":["DT","ProductExpirationDateTime"],"0010":["DT","SubstanceAdministrationDateTime"],"0011":["LO","SubstanceAdministrationNotes"],"0012":["LO","SubstanceAdministrationDeviceID"],"0013":["SQ","ProductParameterSequence"],"0019":["SQ","SubstanceAdministrationParameterSequence"]},"0046":{"0012":["LO","LensDescription"],"0014":["SQ","RightLensSequence"],"0015":["SQ","LeftLensSequence"],"0016":["SQ","UnspecifiedLateralityLensSequence"],"0018":["SQ","CylinderSequence"],"0028":["SQ","PrismSequence"],"0030":["FD","HorizontalPrismPower"],"0032":["CS","HorizontalPrismBase"],"0034":["FD","VerticalPrismPower"],"0036":["CS","VerticalPrismBase"],"0038":["CS","LensSegmentType"],"0040":["FD","OpticalTransmittance"],"0042":["FD","ChannelWidth"],"0044":["FD","PupilSize"],"0046":["FD","CornealSize"],"0050":["SQ","AutorefractionRightEyeSequence"],"0052":["SQ","AutorefractionLeftEyeSequence"],"0060":["FD","DistancePupillaryDistance"],"0062":["FD","NearPupillaryDistance"],"0063":["FD","IntermediatePupillaryDistance"],"0064":["FD","OtherPupillaryDistance"],"0070":["SQ","KeratometryRightEyeSequence"],"0071":["SQ","KeratometryLeftEyeSequence"],"0074":["SQ","SteepKeratometricAxisSequence"],"0075":["FD","RadiusOfCurvature"],"0076":["FD","KeratometricPower"],"0077":["FD","KeratometricAxis"],"0080":["SQ","FlatKeratometricAxisSequence"],"0092":["CS","BackgroundColor"],"0094":["CS","Optotype"],"0095":["CS","OptotypePresentation"],"0097":["SQ","SubjectiveRefractionRightEyeSequence"],"0098":["SQ","SubjectiveRefractionLeftEyeSequence"],"0100":["SQ","AddNearSequence"],"0101":["SQ","AddIntermediateSequence"],"0102":["SQ","AddOtherSequence"],"0104":["FD","AddPower"],"0106":["FD","ViewingDistance"],"0121":["SQ","VisualAcuityTypeCodeSequence"],"0122":["SQ","VisualAcuityRightEyeSequence"],"0123":["SQ","VisualAcuityLeftEyeSequence"],"0124":["SQ","VisualAcuityBothEyesOpenSequence"],"0125":["CS","ViewingDistanceType"],"0135":["SS","VisualAcuityModifiers"],"0137":["FD","DecimalVisualAcuity"],"0139":["LO","OptotypeDetailedDefinition"],"0145":["SQ","ReferencedRefractiveMeasurementsSequence"],"0146":["FD","SpherePower"],"0147":["FD","CylinderPower"]},"0048":{"0001":["FL","ImagedVolumeWidth"],"0002":["FL","ImagedVolumeHeight"],"0003":["FL","ImagedVolumeDepth"],"0006":["UL","TotalPixelMatrixColumns"],"0007":["UL","TotalPixelMatrixRows"],"0008":["SQ","TotalPixelMatrixOriginSequence"],"0010":["CS","SpecimenLabelInImage"],"0011":["CS","FocusMethod"],"0012":["CS","ExtendedDepthOfField"],"0013":["US","NumberOfFocalPlanes"],"0014":["FL","DistanceBetweenFocalPlanes"],"0015":["US","RecommendedAbsentPixelCIELabValue"],"0100":["SQ","IlluminatorTypeCodeSequence"],"0102":["DS","ImageOrientationSlide"],"0105":["SQ","OpticalPathSequence"],"0106":["SH","OpticalPathIdentifier"],"0107":["ST","OpticalPathDescription"],"0108":["SQ","IlluminationColorCodeSequence"],"0110":["SQ","SpecimenReferenceSequence"],"0111":["DS","CondenserLensPower"],"0112":["DS","ObjectiveLensPower"],"0113":["DS","ObjectiveLensNumericalAperture"],"0120":["SQ","PaletteColorLookupTableSequence"],"0200":["SQ","ReferencedImageNavigationSequence"],"0201":["US","TopLeftHandCornerOfLocalizerArea"],"0202":["US","BottomRightHandCornerOfLocalizerArea"],"0207":["SQ","OpticalPathIdentificationSequence"],"021A":["SQ","PlanePositionSlideSequence"],"021E":["SL","RowPositionInTotalImagePixelMatrix"],"021F":["SL","ColumnPositionInTotalImagePixelMatrix"],"0301":["CS","PixelOriginInterpretation"]},"0050":{"0004":["CS","CalibrationImage"],"0010":["SQ","DeviceSequence"],"0012":["SQ","ContainerComponentTypeCodeSequence"],"0013":["FD","ContainerComponentThickness"],"0014":["DS","DeviceLength"],"0015":["FD","ContainerComponentWidth"],"0016":["DS","DeviceDiameter"],"0017":["CS","DeviceDiameterUnits"],"0018":["DS","DeviceVolume"],"0019":["DS","InterMarkerDistance"],"001A":["CS","ContainerComponentMaterial"],"001B":["LO","ContainerComponentID"],"001C":["FD","ContainerComponentLength"],"001D":["FD","ContainerComponentDiameter"],"001E":["LO","ContainerComponentDescription"],"0020":["LO","DeviceDescription"]},"0052":{"0001":["FL","ContrastBolusIngredientPercentByVolume"],"0002":["FD","OCTFocalDistance"],"0003":["FD","BeamSpotSize"],"0004":["FD","EffectiveRefractiveIndex"],"0006":["CS","OCTAcquisitionDomain"],"0007":["FD","OCTOpticalCenterWavelength"],"0008":["FD","AxialResolution"],"0009":["FD","RangingDepth"],"0011":["FD","ALineRate"],"0012":["US","ALinesPerFrame"],"0013":["FD","CatheterRotationalRate"],"0014":["FD","ALinePixelSpacing"],"0016":["SQ","ModeOfPercutaneousAccessSequence"],"0025":["SQ","IntravascularOCTFrameTypeSequence"],"0026":["CS","OCTZOffsetApplied"],"0027":["SQ","IntravascularFrameContentSequence"],"0028":["FD","IntravascularLongitudinalDistance"],"0029":["SQ","IntravascularOCTFrameContentSequence"],"0030":["SS","OCTZOffsetCorrection"],"0031":["CS","CatheterDirectionOfRotation"],"0033":["FD","SeamLineLocation"],"0034":["FD","FirstALineLocation"],"0036":["US","SeamLineIndex"],"0038":["US","NumberOfPaddedAlines"],"0039":["CS","InterpolationType"],"003A":["CS","RefractiveIndexApplied"]},"0054":{"0010":["US","EnergyWindowVector"],"0011":["US","NumberOfEnergyWindows"],"0012":["SQ","EnergyWindowInformationSequence"],"0013":["SQ","EnergyWindowRangeSequence"],"0014":["DS","EnergyWindowLowerLimit"],"0015":["DS","EnergyWindowUpperLimit"],"0016":["SQ","RadiopharmaceuticalInformationSequence"],"0017":["IS","ResidualSyringeCounts"],"0018":["SH","EnergyWindowName"],"0020":["US","DetectorVector"],"0021":["US","NumberOfDetectors"],"0022":["SQ","DetectorInformationSequence"],"0030":["US","PhaseVector"],"0031":["US","NumberOfPhases"],"0032":["SQ","PhaseInformationSequence"],"0033":["US","NumberOfFramesInPhase"],"0036":["IS","PhaseDelay"],"0038":["IS","PauseBetweenFrames"],"0039":["CS","PhaseDescription"],"0050":["US","RotationVector"],"0051":["US","NumberOfRotations"],"0052":["SQ","RotationInformationSequence"],"0053":["US","NumberOfFramesInRotation"],"0060":["US","RRIntervalVector"],"0061":["US","NumberOfRRIntervals"],"0062":["SQ","GatedInformationSequence"],"0063":["SQ","DataInformationSequence"],"0070":["US","TimeSlotVector"],"0071":["US","NumberOfTimeSlots"],"0072":["SQ","TimeSlotInformationSequence"],"0073":["DS","TimeSlotTime"],"0080":["US","SliceVector"],"0081":["US","NumberOfSlices"],"0090":["US","AngularViewVector"],"0100":["US","TimeSliceVector"],"0101":["US","NumberOfTimeSlices"],"0200":["DS","StartAngle"],"0202":["CS","TypeOfDetectorMotion"],"0210":["IS","TriggerVector"],"0211":["US","NumberOfTriggersInPhase"],"0220":["SQ","ViewCodeSequence"],"0222":["SQ","ViewModifierCodeSequence"],"0300":["SQ","RadionuclideCodeSequence"],"0302":["SQ","AdministrationRouteCodeSequence"],"0304":["SQ","RadiopharmaceuticalCodeSequence"],"0306":["SQ","CalibrationDataSequence"],"0308":["US","EnergyWindowNumber"],"0400":["SH","ImageID"],"0410":["SQ","PatientOrientationCodeSequence"],"0412":["SQ","PatientOrientationModifierCodeSequence"],"0414":["SQ","PatientGantryRelationshipCodeSequence"],"0500":["CS","SliceProgressionDirection"],1e3:["CS","SeriesType"],1001:["CS","Units"],1002:["CS","CountsSource"],1004:["CS","ReprojectionMethod"],1006:["CS","SUVType"],1100:["CS","RandomsCorrectionMethod"],1101:["LO","AttenuationCorrectionMethod"],1102:["CS","DecayCorrection"],1103:["LO","ReconstructionMethod"],1104:["LO","DetectorLinesOfResponseUsed"],1105:["LO","ScatterCorrectionMethod"],1200:["DS","AxialAcceptance"],1201:["IS","AxialMash"],1202:["IS","TransverseMash"],1203:["DS","DetectorElementSize"],1210:["DS","CoincidenceWindowWidth"],1220:["CS","SecondaryCountsType"],1300:["DS","FrameReferenceTime"],1310:["IS","PrimaryPromptsCountsAccumulated"],1311:["IS","SecondaryCountsAccumulated"],1320:["DS","SliceSensitivityFactor"],1321:["DS","DecayFactor"],1322:["DS","DoseCalibrationFactor"],1323:["DS","ScatterFractionFactor"],1324:["DS","DeadTimeFactor"],1330:["US","ImageIndex"],1400:["CS","CountsIncluded"],1401:["CS","DeadTimeCorrectionFlag"]},"0060":{3e3:["SQ","HistogramSequence"],3002:["US","HistogramNumberOfBins"],3004:["SS","HistogramFirstBinValue"],3006:["SS","HistogramLastBinValue"],3008:["US","HistogramBinWidth"],3010:["LO","HistogramExplanation"],3020:["UL","HistogramData"]},"0062":{"0001":["CS","SegmentationType"],"0002":["SQ","SegmentSequence"],"0003":["SQ","SegmentedPropertyCategoryCodeSequence"],"0004":["US","SegmentNumber"],"0005":["LO","SegmentLabel"],"0006":["ST","SegmentDescription"],"0008":["CS","SegmentAlgorithmType"],"0009":["LO","SegmentAlgorithmName"],"000A":["SQ","SegmentIdentificationSequence"],"000B":["US","ReferencedSegmentNumber"],"000C":["US","RecommendedDisplayGrayscaleValue"],"000D":["US","RecommendedDisplayCIELabValue"],"000E":["US","MaximumFractionalValue"],"000F":["SQ","SegmentedPropertyTypeCodeSequence"],"0010":["CS","SegmentationFractionalType"]},"0064":{"0002":["SQ","DeformableRegistrationSequence"],"0003":["UI","SourceFrameOfReferenceUID"],"0005":["SQ","DeformableRegistrationGridSequence"],"0007":["UL","GridDimensions"],"0008":["FD","GridResolution"],"0009":["OF","VectorGridData"],"000F":["SQ","PreDeformationMatrixRegistrationSequence"],"0010":["SQ","PostDeformationMatrixRegistrationSequence"]},"0066":{"0001":["UL","NumberOfSurfaces"],"0002":["SQ","SurfaceSequence"],"0003":["UL","SurfaceNumber"],"0004":["LT","SurfaceComments"],"0009":["CS","SurfaceProcessing"],"000A":["FL","SurfaceProcessingRatio"],"000B":["LO","SurfaceProcessingDescription"],"000C":["FL","RecommendedPresentationOpacity"],"000D":["CS","RecommendedPresentationType"],"000E":["CS","FiniteVolume"],"0010":["CS","Manifold"],"0011":["SQ","SurfacePointsSequence"],"0012":["SQ","SurfacePointsNormalsSequence"],"0013":["SQ","SurfaceMeshPrimitivesSequence"],"0015":["UL","NumberOfSurfacePoints"],"0016":["OF","PointCoordinatesData"],"0017":["FL","PointPositionAccuracy"],"0018":["FL","MeanPointDistance"],"0019":["FL","MaximumPointDistance"],"001A":["FL","PointsBoundingBoxCoordinates"],"001B":["FL","AxisOfRotation"],"001C":["FL","CenterOfRotation"],"001E":["UL","NumberOfVectors"],"001F":["US","VectorDimensionality"],"0020":["FL","VectorAccuracy"],"0021":["OF","VectorCoordinateData"],"0023":["OW","TrianglePointIndexList"],"0024":["OW","EdgePointIndexList"],"0025":["OW","VertexPointIndexList"],"0026":["SQ","TriangleStripSequence"],"0027":["SQ","TriangleFanSequence"],"0028":["SQ","LineSequence"],"0029":["OW","PrimitivePointIndexList"],"002A":["UL","SurfaceCount"],"002B":["SQ","ReferencedSurfaceSequence"],"002C":["UL","ReferencedSurfaceNumber"],"002D":["SQ","SegmentSurfaceGenerationAlgorithmIdentificationSequence"],"002E":["SQ","SegmentSurfaceSourceInstanceSequence"],"002F":["SQ","AlgorithmFamilyCodeSequence"],"0030":["SQ","AlgorithmNameCodeSequence"],"0031":["LO","AlgorithmVersion"],"0032":["LT","AlgorithmParameters"],"0034":["SQ","FacetSequence"],"0035":["SQ","SurfaceProcessingAlgorithmIdentificationSequence"],"0036":["LO","AlgorithmName"]},"0068":{6210:["LO","ImplantSize"],6221:["LO","ImplantTemplateVersion"],6222:["SQ","ReplacedImplantTemplateSequence"],6223:["CS","ImplantType"],6224:["SQ","DerivationImplantTemplateSequence"],6225:["SQ","OriginalImplantTemplateSequence"],6226:["DT","EffectiveDateTime"],6230:["SQ","ImplantTargetAnatomySequence"],6260:["SQ","InformationFromManufacturerSequence"],6265:["SQ","NotificationFromManufacturerSequence"],6270:["DT","InformationIssueDateTime"],6280:["ST","InformationSummary"],"62A0":["SQ","ImplantRegulatoryDisapprovalCodeSequence"],"62A5":["FD","OverallTemplateSpatialTolerance"],"62C0":["SQ","HPGLDocumentSequence"],"62D0":["US","HPGLDocumentID"],"62D5":["LO","HPGLDocumentLabel"],"62E0":["SQ","ViewOrientationCodeSequence"],"62F0":["FD","ViewOrientationModifier"],"62F2":["FD","HPGLDocumentScaling"],6300:["OB","HPGLDocument"],6310:["US","HPGLContourPenNumber"],6320:["SQ","HPGLPenSequence"],6330:["US","HPGLPenNumber"],6340:["LO","HPGLPenLabel"],6345:["ST","HPGLPenDescription"],6346:["FD","RecommendedRotationPoint"],6347:["FD","BoundingRectangle"],6350:["US","ImplantTemplate3DModelSurfaceNumber"],6360:["SQ","SurfaceModelDescriptionSequence"],6380:["LO","SurfaceModelLabel"],6390:["FD","SurfaceModelScalingFactor"],"63A0":["SQ","MaterialsCodeSequence"],"63A4":["SQ","CoatingMaterialsCodeSequence"],"63A8":["SQ","ImplantTypeCodeSequence"],"63AC":["SQ","FixationMethodCodeSequence"],"63B0":["SQ","MatingFeatureSetsSequence"],"63C0":["US","MatingFeatureSetID"],"63D0":["LO","MatingFeatureSetLabel"],"63E0":["SQ","MatingFeatureSequence"],"63F0":["US","MatingFeatureID"],6400:["SQ","MatingFeatureDegreeOfFreedomSequence"],6410:["US","DegreeOfFreedomID"],6420:["CS","DegreeOfFreedomType"],6430:["SQ","TwoDMatingFeatureCoordinatesSequence"],6440:["US","ReferencedHPGLDocumentID"],6450:["FD","TwoDMatingPoint"],6460:["FD","TwoDMatingAxes"],6470:["SQ","TwoDDegreeOfFreedomSequence"],6490:["FD","ThreeDDegreeOfFreedomAxis"],"64A0":["FD","RangeOfFreedom"],"64C0":["FD","ThreeDMatingPoint"],"64D0":["FD","ThreeDMatingAxes"],"64F0":["FD","TwoDDegreeOfFreedomAxis"],6500:["SQ","PlanningLandmarkPointSequence"],6510:["SQ","PlanningLandmarkLineSequence"],6520:["SQ","PlanningLandmarkPlaneSequence"],6530:["US","PlanningLandmarkID"],6540:["LO","PlanningLandmarkDescription"],6545:["SQ","PlanningLandmarkIdentificationCodeSequence"],6550:["SQ","TwoDPointCoordinatesSequence"],6560:["FD","TwoDPointCoordinates"],6590:["FD","ThreeDPointCoordinates"],"65A0":["SQ","TwoDLineCoordinatesSequence"],"65B0":["FD","TwoDLineCoordinates"],"65D0":["FD","ThreeDLineCoordinates"],"65E0":["SQ","TwoDPlaneCoordinatesSequence"],"65F0":["FD","TwoDPlaneIntersection"],6610:["FD","ThreeDPlaneOrigin"],6620:["FD","ThreeDPlaneNormal"]},"0070":{"0001":["SQ","GraphicAnnotationSequence"],"0002":["CS","GraphicLayer"],"0003":["CS","BoundingBoxAnnotationUnits"],"0004":["CS","AnchorPointAnnotationUnits"],"0005":["CS","GraphicAnnotationUnits"],"0006":["ST","UnformattedTextValue"],"0008":["SQ","TextObjectSequence"],"0009":["SQ","GraphicObjectSequence"],"0010":["FL","BoundingBoxTopLeftHandCorner"],"0011":["FL","BoundingBoxBottomRightHandCorner"],"0012":["CS","BoundingBoxTextHorizontalJustification"],"0014":["FL","AnchorPoint"],"0015":["CS","AnchorPointVisibility"],"0020":["US","GraphicDimensions"],"0021":["US","NumberOfGraphicPoints"],"0022":["FL","GraphicData"],"0023":["CS","GraphicType"],"0024":["CS","GraphicFilled"],"0040":["IS","ImageRotationRetired"],"0041":["CS","ImageHorizontalFlip"],"0042":["US","ImageRotation"],"0050":["US","DisplayedAreaTopLeftHandCornerTrial"],"0051":["US","DisplayedAreaBottomRightHandCornerTrial"],"0052":["SL","DisplayedAreaTopLeftHandCorner"],"0053":["SL","DisplayedAreaBottomRightHandCorner"],"005A":["SQ","DisplayedAreaSelectionSequence"],"0060":["SQ","GraphicLayerSequence"],"0062":["IS","GraphicLayerOrder"],"0066":["US","GraphicLayerRecommendedDisplayGrayscaleValue"],"0067":["US","GraphicLayerRecommendedDisplayRGBValue"],"0068":["LO","GraphicLayerDescription"],"0080":["CS","ContentLabel"],"0081":["LO","ContentDescription"],"0082":["DA","PresentationCreationDate"],"0083":["TM","PresentationCreationTime"],"0084":["PN","ContentCreatorName"],"0086":["SQ","ContentCreatorIdentificationCodeSequence"],"0087":["SQ","AlternateContentDescriptionSequence"],"0100":["CS","PresentationSizeMode"],"0101":["DS","PresentationPixelSpacing"],"0102":["IS","PresentationPixelAspectRatio"],"0103":["FL","PresentationPixelMagnificationRatio"],"0207":["LO","GraphicGroupLabel"],"0208":["ST","GraphicGroupDescription"],"0209":["SQ","CompoundGraphicSequence"],"0226":["UL","CompoundGraphicInstanceID"],"0227":["LO","FontName"],"0228":["CS","FontNameType"],"0229":["LO","CSSFontName"],"0230":["FD","RotationAngle"],"0231":["SQ","TextStyleSequence"],"0232":["SQ","LineStyleSequence"],"0233":["SQ","FillStyleSequence"],"0234":["SQ","GraphicGroupSequence"],"0241":["US","TextColorCIELabValue"],"0242":["CS","HorizontalAlignment"],"0243":["CS","VerticalAlignment"],"0244":["CS","ShadowStyle"],"0245":["FL","ShadowOffsetX"],"0246":["FL","ShadowOffsetY"],"0247":["US","ShadowColorCIELabValue"],"0248":["CS","Underlined"],"0249":["CS","Bold"],"0250":["CS","Italic"],"0251":["US","PatternOnColorCIELabValue"],"0252":["US","PatternOffColorCIELabValue"],"0253":["FL","LineThickness"],"0254":["CS","LineDashingStyle"],"0255":["UL","LinePattern"],"0256":["OB","FillPattern"],"0257":["CS","FillMode"],"0258":["FL","ShadowOpacity"],"0261":["FL","GapLength"],"0262":["FL","DiameterOfVisibility"],"0273":["FL","RotationPoint"],"0274":["CS","TickAlignment"],"0278":["CS","ShowTickLabel"],"0279":["CS","TickLabelAlignment"],"0282":["CS","CompoundGraphicUnits"],"0284":["FL","PatternOnOpacity"],"0285":["FL","PatternOffOpacity"],"0287":["SQ","MajorTicksSequence"],"0288":["FL","TickPosition"],"0289":["SH","TickLabel"],"0294":["CS","CompoundGraphicType"],"0295":["UL","GraphicGroupID"],"0306":["CS","ShapeType"],"0308":["SQ","RegistrationSequence"],"0309":["SQ","MatrixRegistrationSequence"],"030A":["SQ","MatrixSequence"],"030C":["CS","FrameOfReferenceTransformationMatrixType"],"030D":["SQ","RegistrationTypeCodeSequence"],"030F":["ST","FiducialDescription"],"0310":["SH","FiducialIdentifier"],"0311":["SQ","FiducialIdentifierCodeSequence"],"0312":["FD","ContourUncertaintyRadius"],"0314":["SQ","UsedFiducialsSequence"],"0318":["SQ","GraphicCoordinatesDataSequence"],"031A":["UI","FiducialUID"],"031C":["SQ","FiducialSetSequence"],"031E":["SQ","FiducialSequence"],"0401":["US","GraphicLayerRecommendedDisplayCIELabValue"],"0402":["SQ","BlendingSequence"],"0403":["FL","RelativeOpacity"],"0404":["SQ","ReferencedSpatialRegistrationSequence"],"0405":["CS","BlendingPosition"]},"0072":{"0002":["SH","HangingProtocolName"],"0004":["LO","HangingProtocolDescription"],"0006":["CS","HangingProtocolLevel"],"0008":["LO","HangingProtocolCreator"],"000A":["DT","HangingProtocolCreationDateTime"],"000C":["SQ","HangingProtocolDefinitionSequence"],"000E":["SQ","HangingProtocolUserIdentificationCodeSequence"],"0010":["LO","HangingProtocolUserGroupName"],"0012":["SQ","SourceHangingProtocolSequence"],"0014":["US","NumberOfPriorsReferenced"],"0020":["SQ","ImageSetsSequence"],"0022":["SQ","ImageSetSelectorSequence"],"0024":["CS","ImageSetSelectorUsageFlag"],"0026":["AT","SelectorAttribute"],"0028":["US","SelectorValueNumber"],"0030":["SQ","TimeBasedImageSetsSequence"],"0032":["US","ImageSetNumber"],"0034":["CS","ImageSetSelectorCategory"],"0038":["US","RelativeTime"],"003A":["CS","RelativeTimeUnits"],"003C":["SS","AbstractPriorValue"],"003E":["SQ","AbstractPriorCodeSequence"],"0040":["LO","ImageSetLabel"],"0050":["CS","SelectorAttributeVR"],"0052":["AT","SelectorSequencePointer"],"0054":["LO","SelectorSequencePointerPrivateCreator"],"0056":["LO","SelectorAttributePrivateCreator"],"0060":["AT","SelectorATValue"],"0062":["CS","SelectorCSValue"],"0064":["IS","SelectorISValue"],"0066":["LO","SelectorLOValue"],"0068":["LT","SelectorLTValue"],"006A":["PN","SelectorPNValue"],"006C":["SH","SelectorSHValue"],"006E":["ST","SelectorSTValue"],"0070":["UT","SelectorUTValue"],"0072":["DS","SelectorDSValue"],"0074":["FD","SelectorFDValue"],"0076":["FL","SelectorFLValue"],"0078":["UL","SelectorULValue"],"007A":["US","SelectorUSValue"],"007C":["SL","SelectorSLValue"],"007E":["SS","SelectorSSValue"],"0080":["SQ","SelectorCodeSequenceValue"],"0100":["US","NumberOfScreens"],"0102":["SQ","NominalScreenDefinitionSequence"],"0104":["US","NumberOfVerticalPixels"],"0106":["US","NumberOfHorizontalPixels"],"0108":["FD","DisplayEnvironmentSpatialPosition"],"010A":["US","ScreenMinimumGrayscaleBitDepth"],"010C":["US","ScreenMinimumColorBitDepth"],"010E":["US","ApplicationMaximumRepaintTime"],"0200":["SQ","DisplaySetsSequence"],"0202":["US","DisplaySetNumber"],"0203":["LO","DisplaySetLabel"],"0204":["US","DisplaySetPresentationGroup"],"0206":["LO","DisplaySetPresentationGroupDescription"],"0208":["CS","PartialDataDisplayHandling"],"0210":["SQ","SynchronizedScrollingSequence"],"0212":["US","DisplaySetScrollingGroup"],"0214":["SQ","NavigationIndicatorSequence"],"0216":["US","NavigationDisplaySet"],"0218":["US","ReferenceDisplaySets"],"0300":["SQ","ImageBoxesSequence"],"0302":["US","ImageBoxNumber"],"0304":["CS","ImageBoxLayoutType"],"0306":["US","ImageBoxTileHorizontalDimension"],"0308":["US","ImageBoxTileVerticalDimension"],"0310":["CS","ImageBoxScrollDirection"],"0312":["CS","ImageBoxSmallScrollType"],"0314":["US","ImageBoxSmallScrollAmount"],"0316":["CS","ImageBoxLargeScrollType"],"0318":["US","ImageBoxLargeScrollAmount"],"0320":["US","ImageBoxOverlapPriority"],"0330":["FD","CineRelativeToRealTime"],"0400":["SQ","FilterOperationsSequence"],"0402":["CS","FilterByCategory"],"0404":["CS","FilterByAttributePresence"],"0406":["CS","FilterByOperator"],"0420":["US","StructuredDisplayBackgroundCIELabValue"],"0421":["US","EmptyImageBoxCIELabValue"],"0422":["SQ","StructuredDisplayImageBoxSequence"],"0424":["SQ","StructuredDisplayTextBoxSequence"],"0427":["SQ","ReferencedFirstFrameSequence"],"0430":["SQ","ImageBoxSynchronizationSequence"],"0432":["US","SynchronizedImageBoxList"],"0434":["CS","TypeOfSynchronization"],"0500":["CS","BlendingOperationType"],"0510":["CS","ReformattingOperationType"],"0512":["FD","ReformattingThickness"],"0514":["FD","ReformattingInterval"],"0516":["CS","ReformattingOperationInitialViewDirection"],"0520":["CS","ThreeDRenderingType"],"0600":["SQ","SortingOperationsSequence"],"0602":["CS","SortByCategory"],"0604":["CS","SortingDirection"],"0700":["CS","DisplaySetPatientOrientation"],"0702":["CS","VOIType"],"0704":["CS","PseudoColorType"],"0705":["SQ","PseudoColorPaletteInstanceReferenceSequence"],"0706":["CS","ShowGrayscaleInverted"],"0710":["CS","ShowImageTrueSizeFlag"],"0712":["CS","ShowGraphicAnnotationFlag"],"0714":["CS","ShowPatientDemographicsFlag"],"0716":["CS","ShowAcquisitionTechniquesFlag"],"0717":["CS","DisplaySetHorizontalJustification"],"0718":["CS","DisplaySetVerticalJustification"]},"0074":{"0120":["FD","ContinuationStartMeterset"],"0121":["FD","ContinuationEndMeterset"],1e3:["CS","ProcedureStepState"],1002:["SQ","ProcedureStepProgressInformationSequence"],1004:["DS","ProcedureStepProgress"],1006:["ST","ProcedureStepProgressDescription"],1008:["SQ","ProcedureStepCommunicationsURISequence"],"100A":["ST","ContactURI"],"100C":["LO","ContactDisplayName"],"100E":["SQ","ProcedureStepDiscontinuationReasonCodeSequence"],1020:["SQ","BeamTaskSequence"],1022:["CS","BeamTaskType"],1024:["IS","BeamOrderIndexTrial"],1026:["FD","TableTopVerticalAdjustedPosition"],1027:["FD","TableTopLongitudinalAdjustedPosition"],1028:["FD","TableTopLateralAdjustedPosition"],"102A":["FD","PatientSupportAdjustedAngle"],"102B":["FD","TableTopEccentricAdjustedAngle"],"102C":["FD","TableTopPitchAdjustedAngle"],"102D":["FD","TableTopRollAdjustedAngle"],1030:["SQ","DeliveryVerificationImageSequence"],1032:["CS","VerificationImageTiming"],1034:["CS","DoubleExposureFlag"],1036:["CS","DoubleExposureOrdering"],1038:["DS","DoubleExposureMetersetTrial"],"103A":["DS","DoubleExposureFieldDeltaTrial"],1040:["SQ","RelatedReferenceRTImageSequence"],1042:["SQ","GeneralMachineVerificationSequence"],1044:["SQ","ConventionalMachineVerificationSequence"],1046:["SQ","IonMachineVerificationSequence"],1048:["SQ","FailedAttributesSequence"],"104A":["SQ","OverriddenAttributesSequence"],"104C":["SQ","ConventionalControlPointVerificationSequence"],"104E":["SQ","IonControlPointVerificationSequence"],1050:["SQ","AttributeOccurrenceSequence"],1052:["AT","AttributeOccurrencePointer"],1054:["UL","AttributeItemSelector"],1056:["LO","AttributeOccurrencePrivateCreator"],1057:["IS","SelectorSequencePointerItems"],1200:["CS","ScheduledProcedureStepPriority"],1202:["LO","WorklistLabel"],1204:["LO","ProcedureStepLabel"],1210:["SQ","ScheduledProcessingParametersSequence"],1212:["SQ","PerformedProcessingParametersSequence"],1216:["SQ","UnifiedProcedureStepPerformedProcedureSequence"],1220:["SQ","RelatedProcedureStepSequence"],1222:["LO","ProcedureStepRelationshipType"],1224:["SQ","ReplacedProcedureStepSequence"],1230:["LO","DeletionLock"],1234:["AE","ReceivingAE"],1236:["AE","RequestingAE"],1238:["LT","ReasonForCancellation"],1242:["CS","SCPStatus"],1244:["CS","SubscriptionListStatus"],1246:["CS","UnifiedProcedureStepListStatus"],1324:["UL","BeamOrderIndex"],1338:["FD","DoubleExposureMeterset"],"133A":["FD","DoubleExposureFieldDelta"]},"0076":{"0001":["LO","ImplantAssemblyTemplateName"],"0003":["LO","ImplantAssemblyTemplateIssuer"],"0006":["LO","ImplantAssemblyTemplateVersion"],"0008":["SQ","ReplacedImplantAssemblyTemplateSequence"],"000A":["CS","ImplantAssemblyTemplateType"],"000C":["SQ","OriginalImplantAssemblyTemplateSequence"],"000E":["SQ","DerivationImplantAssemblyTemplateSequence"],"0010":["SQ","ImplantAssemblyTemplateTargetAnatomySequence"],"0020":["SQ","ProcedureTypeCodeSequence"],"0030":["LO","SurgicalTechnique"],"0032":["SQ","ComponentTypesSequence"],"0034":["CS","ComponentTypeCodeSequence"],"0036":["CS","ExclusiveComponentType"],"0038":["CS","MandatoryComponentType"],"0040":["SQ","ComponentSequence"],"0055":["US","ComponentID"],"0060":["SQ","ComponentAssemblySequence"],"0070":["US","Component1ReferencedID"],"0080":["US","Component1ReferencedMatingFeatureSetID"],"0090":["US","Component1ReferencedMatingFeatureID"],"00A0":["US","Component2ReferencedID"],"00B0":["US","Component2ReferencedMatingFeatureSetID"],"00C0":["US","Component2ReferencedMatingFeatureID"]},"0078":{"0001":["LO","ImplantTemplateGroupName"],"0010":["ST","ImplantTemplateGroupDescription"],"0020":["LO","ImplantTemplateGroupIssuer"],"0024":["LO","ImplantTemplateGroupVersion"],"0026":["SQ","ReplacedImplantTemplateGroupSequence"],"0028":["SQ","ImplantTemplateGroupTargetAnatomySequence"],"002A":["SQ","ImplantTemplateGroupMembersSequence"],"002E":["US","ImplantTemplateGroupMemberID"],"0050":["FD","ThreeDImplantTemplateGroupMemberMatchingPoint"],"0060":["FD","ThreeDImplantTemplateGroupMemberMatchingAxes"],"0070":["SQ","ImplantTemplateGroupMemberMatching2DCoordinatesSequence"],"0090":["FD","TwoDImplantTemplateGroupMemberMatchingPoint"],"00A0":["FD","TwoDImplantTemplateGroupMemberMatchingAxes"],"00B0":["SQ","ImplantTemplateGroupVariationDimensionSequence"],"00B2":["LO","ImplantTemplateGroupVariationDimensionName"],"00B4":["SQ","ImplantTemplateGroupVariationDimensionRankSequence"],"00B6":["US","ReferencedImplantTemplateGroupMemberID"],"00B8":["US","ImplantTemplateGroupVariationDimensionRank"]},"0088":{"0130":["SH","StorageMediaFileSetID"],"0140":["UI","StorageMediaFileSetUID"],"0200":["SQ","IconImageSequence"],"0904":["LO","TopicTitle"],"0906":["ST","TopicSubject"],"0910":["LO","TopicAuthor"],"0912":["LO","TopicKeywords"]},"0100":{"0410":["CS","SOPInstanceStatus"],"0420":["DT","SOPAuthorizationDateTime"],"0424":["LT","SOPAuthorizationComment"],"0426":["LO","AuthorizationEquipmentCertificationNumber"]},"0400":{"0005":["US","MACIDNumber"],"0010":["UI","MACCalculationTransferSyntaxUID"],"0015":["CS","MACAlgorithm"],"0020":["AT","DataElementsSigned"],"0100":["UI","DigitalSignatureUID"],"0105":["DT","DigitalSignatureDateTime"],"0110":["CS","CertificateType"],"0115":["OB","CertificateOfSigner"],"0120":["OB","Signature"],"0305":["CS","CertifiedTimestampType"],"0310":["OB","CertifiedTimestamp"],"0401":["SQ","DigitalSignaturePurposeCodeSequence"],"0402":["SQ","ReferencedDigitalSignatureSequence"],"0403":["SQ","ReferencedSOPInstanceMACSequence"],"0404":["OB","MAC"],"0500":["SQ","EncryptedAttributesSequence"],"0510":["UI","EncryptedContentTransferSyntaxUID"],"0520":["OB","EncryptedContent"],"0550":["SQ","ModifiedAttributesSequence"],"0561":["SQ","OriginalAttributesSequence"],"0562":["DT","AttributeModificationDateTime"],"0563":["LO","ModifyingSystem"],"0564":["LO","SourceOfPreviousValues"],"0565":["CS","ReasonForTheAttributeModification"]},2e3:{"0010":["IS","NumberOfCopies"],"001E":["SQ","PrinterConfigurationSequence"],"0020":["CS","PrintPriority"],"0030":["CS","MediumType"],"0040":["CS","FilmDestination"],"0050":["LO","FilmSessionLabel"],"0060":["IS","MemoryAllocation"],"0061":["IS","MaximumMemoryAllocation"],"0062":["CS","ColorImagePrintingFlag"],"0063":["CS","CollationFlag"],"0065":["CS","AnnotationFlag"],"0067":["CS","ImageOverlayFlag"],"0069":["CS","PresentationLUTFlag"],"006A":["CS","ImageBoxPresentationLUTFlag"],"00A0":["US","MemoryBitDepth"],"00A1":["US","PrintingBitDepth"],"00A2":["SQ","MediaInstalledSequence"],"00A4":["SQ","OtherMediaAvailableSequence"],"00A8":["SQ","SupportedImageDisplayFormatsSequence"],"0500":["SQ","ReferencedFilmBoxSequence"],"0510":["SQ","ReferencedStoredPrintSequence"]},2010:{"0010":["ST","ImageDisplayFormat"],"0030":["CS","AnnotationDisplayFormatID"],"0040":["CS","FilmOrientation"],"0050":["CS","FilmSizeID"],"0052":["CS","PrinterResolutionID"],"0054":["CS","DefaultPrinterResolutionID"],"0060":["CS","MagnificationType"],"0080":["CS","SmoothingType"],"00A6":["CS","DefaultMagnificationType"],"00A7":["CS","OtherMagnificationTypesAvailable"],"00A8":["CS","DefaultSmoothingType"],"00A9":["CS","OtherSmoothingTypesAvailable"],"0100":["CS","BorderDensity"],"0110":["CS","EmptyImageDensity"],"0120":["US","MinDensity"],"0130":["US","MaxDensity"],"0140":["CS","Trim"],"0150":["ST","ConfigurationInformation"],"0152":["LT","ConfigurationInformationDescription"],"0154":["IS","MaximumCollatedFilms"],"015E":["US","Illumination"],"0160":["US","ReflectedAmbientLight"],"0376":["DS","PrinterPixelSpacing"],"0500":["SQ","ReferencedFilmSessionSequence"],"0510":["SQ","ReferencedImageBoxSequence"],"0520":["SQ","ReferencedBasicAnnotationBoxSequence"]},2020:{"0010":["US","ImageBoxPosition"],"0020":["CS","Polarity"],"0030":["DS","RequestedImageSize"],"0040":["CS","RequestedDecimateCropBehavior"],"0050":["CS","RequestedResolutionID"],"00A0":["CS","RequestedImageSizeFlag"],"00A2":["CS","DecimateCropResult"],"0110":["SQ","BasicGrayscaleImageSequence"],"0111":["SQ","BasicColorImageSequence"],"0130":["SQ","ReferencedImageOverlayBoxSequence"],"0140":["SQ","ReferencedVOILUTBoxSequence"]},2030:{"0010":["US","AnnotationPosition"],"0020":["LO","TextString"]},2040:{"0010":["SQ","ReferencedOverlayPlaneSequence"],"0011":["US","ReferencedOverlayPlaneGroups"],"0020":["SQ","OverlayPixelDataSequence"],"0060":["CS","OverlayMagnificationType"],"0070":["CS","OverlaySmoothingType"],"0072":["CS","OverlayOrImageMagnification"],"0074":["US","MagnifyToNumberOfColumns"],"0080":["CS","OverlayForegroundDensity"],"0082":["CS","OverlayBackgroundDensity"],"0090":["CS","OverlayMode"],"0100":["CS","ThresholdDensity"],"0500":["SQ","ReferencedImageBoxSequenceRetired"]},2050:{"0010":["SQ","PresentationLUTSequence"],"0020":["CS","PresentationLUTShape"],"0500":["SQ","ReferencedPresentationLUTSequence"]},2100:{"0010":["SH","PrintJobID"],"0020":["CS","ExecutionStatus"],"0030":["CS","ExecutionStatusInfo"],"0040":["DA","CreationDate"],"0050":["TM","CreationTime"],"0070":["AE","Originator"],"0140":["AE","DestinationAE"],"0160":["SH","OwnerID"],"0170":["IS","NumberOfFilms"],"0500":["SQ","ReferencedPrintJobSequencePullStoredPrint"]},2110:{"0010":["CS","PrinterStatus"],"0020":["CS","PrinterStatusInfo"],"0030":["LO","PrinterName"],"0099":["SH","PrintQueueID"]},2120:{"0010":["CS","QueueStatus"],"0050":["SQ","PrintJobDescriptionSequence"],"0070":["SQ","ReferencedPrintJobSequence"]},2130:{"0010":["SQ","PrintManagementCapabilitiesSequence"],"0015":["SQ","PrinterCharacteristicsSequence"],"0030":["SQ","FilmBoxContentSequence"],"0040":["SQ","ImageBoxContentSequence"],"0050":["SQ","AnnotationContentSequence"],"0060":["SQ","ImageOverlayBoxContentSequence"],"0080":["SQ","PresentationLUTContentSequence"],"00A0":["SQ","ProposedStudySequence"],"00C0":["SQ","OriginalImageSequence"]},2200:{"0001":["CS","LabelUsingInformationExtractedFromInstances"],"0002":["UT","LabelText"],"0003":["CS","LabelStyleSelection"],"0004":["LT","MediaDisposition"],"0005":["LT","BarcodeValue"],"0006":["CS","BarcodeSymbology"],"0007":["CS","AllowMediaSplitting"],"0008":["CS","IncludeNonDICOMObjects"],"0009":["CS","IncludeDisplayApplication"],"000A":["CS","PreserveCompositeInstancesAfterMediaCreation"],"000B":["US","TotalNumberOfPiecesOfMediaCreated"],"000C":["LO","RequestedMediaApplicationProfile"],"000D":["SQ","ReferencedStorageMediaSequence"],"000E":["AT","FailureAttributes"],"000F":["CS","AllowLossyCompression"],"0020":["CS","RequestPriority"]},3002:{"0002":["SH","RTImageLabel"],"0003":["LO","RTImageName"],"0004":["ST","RTImageDescription"],"000A":["CS","ReportedValuesOrigin"],"000C":["CS","RTImagePlane"],"000D":["DS","XRayImageReceptorTranslation"],"000E":["DS","XRayImageReceptorAngle"],"0010":["DS","RTImageOrientation"],"0011":["DS","ImagePlanePixelSpacing"],"0012":["DS","RTImagePosition"],"0020":["SH","RadiationMachineName"],"0022":["DS","RadiationMachineSAD"],"0024":["DS","RadiationMachineSSD"],"0026":["DS","RTImageSID"],"0028":["DS","SourceToReferenceObjectDistance"],"0029":["IS","FractionNumber"],"0030":["SQ","ExposureSequence"],"0032":["DS","MetersetExposure"],"0034":["DS","DiaphragmPosition"],"0040":["SQ","FluenceMapSequence"],"0041":["CS","FluenceDataSource"],"0042":["DS","FluenceDataScale"],"0050":["SQ","PrimaryFluenceModeSequence"],"0051":["CS","FluenceMode"],"0052":["SH","FluenceModeID"]},3004:{"0001":["CS","DVHType"],"0002":["CS","DoseUnits"],"0004":["CS","DoseType"],"0006":["LO","DoseComment"],"0008":["DS","NormalizationPoint"],"000A":["CS","DoseSummationType"],"000C":["DS","GridFrameOffsetVector"],"000E":["DS","DoseGridScaling"],"0010":["SQ","RTDoseROISequence"],"0012":["DS","DoseValue"],"0014":["CS","TissueHeterogeneityCorrection"],"0040":["DS","DVHNormalizationPoint"],"0042":["DS","DVHNormalizationDoseValue"],"0050":["SQ","DVHSequence"],"0052":["DS","DVHDoseScaling"],"0054":["CS","DVHVolumeUnits"],"0056":["IS","DVHNumberOfBins"],"0058":["DS","DVHData"],"0060":["SQ","DVHReferencedROISequence"],"0062":["CS","DVHROIContributionType"],"0070":["DS","DVHMinimumDose"],"0072":["DS","DVHMaximumDose"],"0074":["DS","DVHMeanDose"]},3006:{"0002":["SH","StructureSetLabel"],"0004":["LO","StructureSetName"],"0006":["ST","StructureSetDescription"],"0008":["DA","StructureSetDate"],"0009":["TM","StructureSetTime"],"0010":["SQ","ReferencedFrameOfReferenceSequence"],"0012":["SQ","RTReferencedStudySequence"],"0014":["SQ","RTReferencedSeriesSequence"],"0016":["SQ","ContourImageSequence"],"0020":["SQ","StructureSetROISequence"],"0022":["IS","ROINumber"],"0024":["UI","ReferencedFrameOfReferenceUID"],"0026":["LO","ROIName"],"0028":["ST","ROIDescription"],"002A":["IS","ROIDisplayColor"],"002C":["DS","ROIVolume"],"0030":["SQ","RTRelatedROISequence"],"0033":["CS","RTROIRelationship"],"0036":["CS","ROIGenerationAlgorithm"],"0038":["LO","ROIGenerationDescription"],"0039":["SQ","ROIContourSequence"],"0040":["SQ","ContourSequence"],"0042":["CS","ContourGeometricType"],"0044":["DS","ContourSlabThickness"],"0045":["DS","ContourOffsetVector"],"0046":["IS","NumberOfContourPoints"],"0048":["IS","ContourNumber"],"0049":["IS","AttachedContours"],"0050":["DS","ContourData"],"0080":["SQ","RTROIObservationsSequence"],"0082":["IS","ObservationNumber"],"0084":["IS","ReferencedROINumber"],"0085":["SH","ROIObservationLabel"],"0086":["SQ","RTROIIdentificationCodeSequence"],"0088":["ST","ROIObservationDescription"],"00A0":["SQ","RelatedRTROIObservationsSequence"],"00A4":["CS","RTROIInterpretedType"],"00A6":["PN","ROIInterpreter"],"00B0":["SQ","ROIPhysicalPropertiesSequence"],"00B2":["CS","ROIPhysicalProperty"],"00B4":["DS","ROIPhysicalPropertyValue"],"00B6":["SQ","ROIElementalCompositionSequence"],"00B7":["US","ROIElementalCompositionAtomicNumber"],"00B8":["FL","ROIElementalCompositionAtomicMassFraction"],"00C0":["SQ","FrameOfReferenceRelationshipSequence"],"00C2":["UI","RelatedFrameOfReferenceUID"],"00C4":["CS","FrameOfReferenceTransformationType"],"00C6":["DS","FrameOfReferenceTransformationMatrix"],"00C8":["LO","FrameOfReferenceTransformationComment"]},3008:{"0010":["SQ","MeasuredDoseReferenceSequence"],"0012":["ST","MeasuredDoseDescription"],"0014":["CS","MeasuredDoseType"],"0016":["DS","MeasuredDoseValue"],"0020":["SQ","TreatmentSessionBeamSequence"],"0021":["SQ","TreatmentSessionIonBeamSequence"],"0022":["IS","CurrentFractionNumber"],"0024":["DA","TreatmentControlPointDate"],"0025":["TM","TreatmentControlPointTime"],"002A":["CS","TreatmentTerminationStatus"],"002B":["SH","TreatmentTerminationCode"],"002C":["CS","TreatmentVerificationStatus"],"0030":["SQ","ReferencedTreatmentRecordSequence"],"0032":["DS","SpecifiedPrimaryMeterset"],"0033":["DS","SpecifiedSecondaryMeterset"],"0036":["DS","DeliveredPrimaryMeterset"],"0037":["DS","DeliveredSecondaryMeterset"],"003A":["DS","SpecifiedTreatmentTime"],"003B":["DS","DeliveredTreatmentTime"],"0040":["SQ","ControlPointDeliverySequence"],"0041":["SQ","IonControlPointDeliverySequence"],"0042":["DS","SpecifiedMeterset"],"0044":["DS","DeliveredMeterset"],"0045":["FL","MetersetRateSet"],"0046":["FL","MetersetRateDelivered"],"0047":["FL","ScanSpotMetersetsDelivered"],"0048":["DS","DoseRateDelivered"],"0050":["SQ","TreatmentSummaryCalculatedDoseReferenceSequence"],"0052":["DS","CumulativeDoseToDoseReference"],"0054":["DA","FirstTreatmentDate"],"0056":["DA","MostRecentTreatmentDate"],"005A":["IS","NumberOfFractionsDelivered"],"0060":["SQ","OverrideSequence"],"0061":["AT","ParameterSequencePointer"],"0062":["AT","OverrideParameterPointer"],"0063":["IS","ParameterItemIndex"],"0064":["IS","MeasuredDoseReferenceNumber"],"0065":["AT","ParameterPointer"],"0066":["ST","OverrideReason"],"0068":["SQ","CorrectedParameterSequence"],"006A":["FL","CorrectionValue"],"0070":["SQ","CalculatedDoseReferenceSequence"],"0072":["IS","CalculatedDoseReferenceNumber"],"0074":["ST","CalculatedDoseReferenceDescription"],"0076":["DS","CalculatedDoseReferenceDoseValue"],"0078":["DS","StartMeterset"],"007A":["DS","EndMeterset"],"0080":["SQ","ReferencedMeasuredDoseReferenceSequence"],"0082":["IS","ReferencedMeasuredDoseReferenceNumber"],"0090":["SQ","ReferencedCalculatedDoseReferenceSequence"],"0092":["IS","ReferencedCalculatedDoseReferenceNumber"],"00A0":["SQ","BeamLimitingDeviceLeafPairsSequence"],"00B0":["SQ","RecordedWedgeSequence"],"00C0":["SQ","RecordedCompensatorSequence"],"00D0":["SQ","RecordedBlockSequence"],"00E0":["SQ","TreatmentSummaryMeasuredDoseReferenceSequence"],"00F0":["SQ","RecordedSnoutSequence"],"00F2":["SQ","RecordedRangeShifterSequence"],"00F4":["SQ","RecordedLateralSpreadingDeviceSequence"],"00F6":["SQ","RecordedRangeModulatorSequence"],"0100":["SQ","RecordedSourceSequence"],"0105":["LO","SourceSerialNumber"],"0110":["SQ","TreatmentSessionApplicationSetupSequence"],"0116":["CS","ApplicationSetupCheck"],"0120":["SQ","RecordedBrachyAccessoryDeviceSequence"],"0122":["IS","ReferencedBrachyAccessoryDeviceNumber"],"0130":["SQ","RecordedChannelSequence"],"0132":["DS","SpecifiedChannelTotalTime"],"0134":["DS","DeliveredChannelTotalTime"],"0136":["IS","SpecifiedNumberOfPulses"],"0138":["IS","DeliveredNumberOfPulses"],"013A":["DS","SpecifiedPulseRepetitionInterval"],"013C":["DS","DeliveredPulseRepetitionInterval"],"0140":["SQ","RecordedSourceApplicatorSequence"],"0142":["IS","ReferencedSourceApplicatorNumber"],"0150":["SQ","RecordedChannelShieldSequence"],"0152":["IS","ReferencedChannelShieldNumber"],"0160":["SQ","BrachyControlPointDeliveredSequence"],"0162":["DA","SafePositionExitDate"],"0164":["TM","SafePositionExitTime"],"0166":["DA","SafePositionReturnDate"],"0168":["TM","SafePositionReturnTime"],"0200":["CS","CurrentTreatmentStatus"],"0202":["ST","TreatmentStatusComment"],"0220":["SQ","FractionGroupSummarySequence"],"0223":["IS","ReferencedFractionNumber"],"0224":["CS","FractionGroupType"],"0230":["CS","BeamStopperPosition"],"0240":["SQ","FractionStatusSummarySequence"],"0250":["DA","TreatmentDate"],"0251":["TM","TreatmentTime"]},"300A":{"0002":["SH","RTPlanLabel"],"0003":["LO","RTPlanName"],"0004":["ST","RTPlanDescription"],"0006":["DA","RTPlanDate"],"0007":["TM","RTPlanTime"],"0009":["LO","TreatmentProtocols"],"000A":["CS","PlanIntent"],"000B":["LO","TreatmentSites"],"000C":["CS","RTPlanGeometry"],"000E":["ST","PrescriptionDescription"],"0010":["SQ","DoseReferenceSequence"],"0012":["IS","DoseReferenceNumber"],"0013":["UI","DoseReferenceUID"],"0014":["CS","DoseReferenceStructureType"],"0015":["CS","NominalBeamEnergyUnit"],"0016":["LO","DoseReferenceDescription"],"0018":["DS","DoseReferencePointCoordinates"],"001A":["DS","NominalPriorDose"],"0020":["CS","DoseReferenceType"],"0021":["DS","ConstraintWeight"],"0022":["DS","DeliveryWarningDose"],"0023":["DS","DeliveryMaximumDose"],"0025":["DS","TargetMinimumDose"],"0026":["DS","TargetPrescriptionDose"],"0027":["DS","TargetMaximumDose"],"0028":["DS","TargetUnderdoseVolumeFraction"],"002A":["DS","OrganAtRiskFullVolumeDose"],"002B":["DS","OrganAtRiskLimitDose"],"002C":["DS","OrganAtRiskMaximumDose"],"002D":["DS","OrganAtRiskOverdoseVolumeFraction"],"0040":["SQ","ToleranceTableSequence"],"0042":["IS","ToleranceTableNumber"],"0043":["SH","ToleranceTableLabel"],"0044":["DS","GantryAngleTolerance"],"0046":["DS","BeamLimitingDeviceAngleTolerance"],"0048":["SQ","BeamLimitingDeviceToleranceSequence"],"004A":["DS","BeamLimitingDevicePositionTolerance"],"004B":["FL","SnoutPositionTolerance"],"004C":["DS","PatientSupportAngleTolerance"],"004E":["DS","TableTopEccentricAngleTolerance"],"004F":["FL","TableTopPitchAngleTolerance"],"0050":["FL","TableTopRollAngleTolerance"],"0051":["DS","TableTopVerticalPositionTolerance"],"0052":["DS","TableTopLongitudinalPositionTolerance"],"0053":["DS","TableTopLateralPositionTolerance"],"0055":["CS","RTPlanRelationship"],"0070":["SQ","FractionGroupSequence"],"0071":["IS","FractionGroupNumber"],"0072":["LO","FractionGroupDescription"],"0078":["IS","NumberOfFractionsPlanned"],"0079":["IS","NumberOfFractionPatternDigitsPerDay"],"007A":["IS","RepeatFractionCycleLength"],"007B":["LT","FractionPattern"],"0080":["IS","NumberOfBeams"],"0082":["DS","BeamDoseSpecificationPoint"],"0084":["DS","BeamDose"],"0086":["DS","BeamMeterset"],"0088":["FL","BeamDosePointDepth"],"0089":["FL","BeamDosePointEquivalentDepth"],"008A":["FL","BeamDosePointSSD"],"00A0":["IS","NumberOfBrachyApplicationSetups"],"00A2":["DS","BrachyApplicationSetupDoseSpecificationPoint"],"00A4":["DS","BrachyApplicationSetupDose"],"00B0":["SQ","BeamSequence"],"00B2":["SH","TreatmentMachineName"],"00B3":["CS","PrimaryDosimeterUnit"],"00B4":["DS","SourceAxisDistance"],"00B6":["SQ","BeamLimitingDeviceSequence"],"00B8":["CS","RTBeamLimitingDeviceType"],"00BA":["DS","SourceToBeamLimitingDeviceDistance"],"00BB":["FL","IsocenterToBeamLimitingDeviceDistance"],"00BC":["IS","NumberOfLeafJawPairs"],"00BE":["DS","LeafPositionBoundaries"],"00C0":["IS","BeamNumber"],"00C2":["LO","BeamName"],"00C3":["ST","BeamDescription"],"00C4":["CS","BeamType"],"00C6":["CS","RadiationType"],"00C7":["CS","HighDoseTechniqueType"],"00C8":["IS","ReferenceImageNumber"],"00CA":["SQ","PlannedVerificationImageSequence"],"00CC":["LO","ImagingDeviceSpecificAcquisitionParameters"],"00CE":["CS","TreatmentDeliveryType"],"00D0":["IS","NumberOfWedges"],"00D1":["SQ","WedgeSequence"],"00D2":["IS","WedgeNumber"],"00D3":["CS","WedgeType"],"00D4":["SH","WedgeID"],"00D5":["IS","WedgeAngle"],"00D6":["DS","WedgeFactor"],"00D7":["FL","TotalWedgeTrayWaterEquivalentThickness"],"00D8":["DS","WedgeOrientation"],"00D9":["FL","IsocenterToWedgeTrayDistance"],"00DA":["DS","SourceToWedgeTrayDistance"],"00DB":["FL","WedgeThinEdgePosition"],"00DC":["SH","BolusID"],"00DD":["ST","BolusDescription"],"00E0":["IS","NumberOfCompensators"],"00E1":["SH","MaterialID"],"00E2":["DS","TotalCompensatorTrayFactor"],"00E3":["SQ","CompensatorSequence"],"00E4":["IS","CompensatorNumber"],"00E5":["SH","CompensatorID"],"00E6":["DS","SourceToCompensatorTrayDistance"],"00E7":["IS","CompensatorRows"],"00E8":["IS","CompensatorColumns"],"00E9":["DS","CompensatorPixelSpacing"],"00EA":["DS","CompensatorPosition"],"00EB":["DS","CompensatorTransmissionData"],"00EC":["DS","CompensatorThicknessData"],"00ED":["IS","NumberOfBoli"],"00EE":["CS","CompensatorType"],"00F0":["IS","NumberOfBlocks"],"00F2":["DS","TotalBlockTrayFactor"],"00F3":["FL","TotalBlockTrayWaterEquivalentThickness"],"00F4":["SQ","BlockSequence"],"00F5":["SH","BlockTrayID"],"00F6":["DS","SourceToBlockTrayDistance"],"00F7":["FL","IsocenterToBlockTrayDistance"],"00F8":["CS","BlockType"],"00F9":["LO","AccessoryCode"],"00FA":["CS","BlockDivergence"],"00FB":["CS","BlockMountingPosition"],"00FC":["IS","BlockNumber"],"00FE":["LO","BlockName"],"0100":["DS","BlockThickness"],"0102":["DS","BlockTransmission"],"0104":["IS","BlockNumberOfPoints"],"0106":["DS","BlockData"],"0107":["SQ","ApplicatorSequence"],"0108":["SH","ApplicatorID"],"0109":["CS","ApplicatorType"],"010A":["LO","ApplicatorDescription"],"010C":["DS","CumulativeDoseReferenceCoefficient"],"010E":["DS","FinalCumulativeMetersetWeight"],"0110":["IS","NumberOfControlPoints"],"0111":["SQ","ControlPointSequence"],"0112":["IS","ControlPointIndex"],"0114":["DS","NominalBeamEnergy"],"0115":["DS","DoseRateSet"],"0116":["SQ","WedgePositionSequence"],"0118":["CS","WedgePosition"],"011A":["SQ","BeamLimitingDevicePositionSequence"],"011C":["DS","LeafJawPositions"],"011E":["DS","GantryAngle"],"011F":["CS","GantryRotationDirection"],"0120":["DS","BeamLimitingDeviceAngle"],"0121":["CS","BeamLimitingDeviceRotationDirection"],"0122":["DS","PatientSupportAngle"],"0123":["CS","PatientSupportRotationDirection"],"0124":["DS","TableTopEccentricAxisDistance"],"0125":["DS","TableTopEccentricAngle"],"0126":["CS","TableTopEccentricRotationDirection"],"0128":["DS","TableTopVerticalPosition"],"0129":["DS","TableTopLongitudinalPosition"],"012A":["DS","TableTopLateralPosition"],"012C":["DS","IsocenterPosition"],"012E":["DS","SurfaceEntryPoint"],"0130":["DS","SourceToSurfaceDistance"],"0134":["DS","CumulativeMetersetWeight"],"0140":["FL","TableTopPitchAngle"],"0142":["CS","TableTopPitchRotationDirection"],"0144":["FL","TableTopRollAngle"],"0146":["CS","TableTopRollRotationDirection"],"0148":["FL","HeadFixationAngle"],"014A":["FL","GantryPitchAngle"],"014C":["CS","GantryPitchRotationDirection"],"014E":["FL","GantryPitchAngleTolerance"],"0180":["SQ","PatientSetupSequence"],"0182":["IS","PatientSetupNumber"],"0183":["LO","PatientSetupLabel"],"0184":["LO","PatientAdditionalPosition"],"0190":["SQ","FixationDeviceSequence"],"0192":["CS","FixationDeviceType"],"0194":["SH","FixationDeviceLabel"],"0196":["ST","FixationDeviceDescription"],"0198":["SH","FixationDevicePosition"],"0199":["FL","FixationDevicePitchAngle"],"019A":["FL","FixationDeviceRollAngle"],"01A0":["SQ","ShieldingDeviceSequence"],"01A2":["CS","ShieldingDeviceType"],"01A4":["SH","ShieldingDeviceLabel"],"01A6":["ST","ShieldingDeviceDescription"],"01A8":["SH","ShieldingDevicePosition"],"01B0":["CS","SetupTechnique"],"01B2":["ST","SetupTechniqueDescription"],"01B4":["SQ","SetupDeviceSequence"],"01B6":["CS","SetupDeviceType"],"01B8":["SH","SetupDeviceLabel"],"01BA":["ST","SetupDeviceDescription"],"01BC":["DS","SetupDeviceParameter"],"01D0":["ST","SetupReferenceDescription"],"01D2":["DS","TableTopVerticalSetupDisplacement"],"01D4":["DS","TableTopLongitudinalSetupDisplacement"],"01D6":["DS","TableTopLateralSetupDisplacement"],"0200":["CS","BrachyTreatmentTechnique"],"0202":["CS","BrachyTreatmentType"],"0206":["SQ","TreatmentMachineSequence"],"0210":["SQ","SourceSequence"],"0212":["IS","SourceNumber"],"0214":["CS","SourceType"],"0216":["LO","SourceManufacturer"],"0218":["DS","ActiveSourceDiameter"],"021A":["DS","ActiveSourceLength"],"0222":["DS","SourceEncapsulationNominalThickness"],"0224":["DS","SourceEncapsulationNominalTransmission"],"0226":["LO","SourceIsotopeName"],"0228":["DS","SourceIsotopeHalfLife"],"0229":["CS","SourceStrengthUnits"],"022A":["DS","ReferenceAirKermaRate"],"022B":["DS","SourceStrength"],"022C":["DA","SourceStrengthReferenceDate"],"022E":["TM","SourceStrengthReferenceTime"],"0230":["SQ","ApplicationSetupSequence"],"0232":["CS","ApplicationSetupType"],"0234":["IS","ApplicationSetupNumber"],"0236":["LO","ApplicationSetupName"],"0238":["LO","ApplicationSetupManufacturer"],"0240":["IS","TemplateNumber"],"0242":["SH","TemplateType"],"0244":["LO","TemplateName"],"0250":["DS","TotalReferenceAirKerma"],"0260":["SQ","BrachyAccessoryDeviceSequence"],"0262":["IS","BrachyAccessoryDeviceNumber"],"0263":["SH","BrachyAccessoryDeviceID"],"0264":["CS","BrachyAccessoryDeviceType"],"0266":["LO","BrachyAccessoryDeviceName"],"026A":["DS","BrachyAccessoryDeviceNominalThickness"],"026C":["DS","BrachyAccessoryDeviceNominalTransmission"],"0280":["SQ","ChannelSequence"],"0282":["IS","ChannelNumber"],"0284":["DS","ChannelLength"],"0286":["DS","ChannelTotalTime"],"0288":["CS","SourceMovementType"],"028A":["IS","NumberOfPulses"],"028C":["DS","PulseRepetitionInterval"],"0290":["IS","SourceApplicatorNumber"],"0291":["SH","SourceApplicatorID"],"0292":["CS","SourceApplicatorType"],"0294":["LO","SourceApplicatorName"],"0296":["DS","SourceApplicatorLength"],"0298":["LO","SourceApplicatorManufacturer"],"029C":["DS","SourceApplicatorWallNominalThickness"],"029E":["DS","SourceApplicatorWallNominalTransmission"],"02A0":["DS","SourceApplicatorStepSize"],"02A2":["IS","TransferTubeNumber"],"02A4":["DS","TransferTubeLength"],"02B0":["SQ","ChannelShieldSequence"],"02B2":["IS","ChannelShieldNumber"],"02B3":["SH","ChannelShieldID"],"02B4":["LO","ChannelShieldName"],"02B8":["DS","ChannelShieldNominalThickness"],"02BA":["DS","ChannelShieldNominalTransmission"],"02C8":["DS","FinalCumulativeTimeWeight"],"02D0":["SQ","BrachyControlPointSequence"],"02D2":["DS","ControlPointRelativePosition"],"02D4":["DS","ControlPoint3DPosition"],"02D6":["DS","CumulativeTimeWeight"],"02E0":["CS","CompensatorDivergence"],"02E1":["CS","CompensatorMountingPosition"],"02E2":["DS","SourceToCompensatorDistance"],"02E3":["FL","TotalCompensatorTrayWaterEquivalentThickness"],"02E4":["FL","IsocenterToCompensatorTrayDistance"],"02E5":["FL","CompensatorColumnOffset"],"02E6":["FL","IsocenterToCompensatorDistances"],"02E7":["FL","CompensatorRelativeStoppingPowerRatio"],"02E8":["FL","CompensatorMillingToolDiameter"],"02EA":["SQ","IonRangeCompensatorSequence"],"02EB":["LT","CompensatorDescription"],"0302":["IS","RadiationMassNumber"],"0304":["IS","RadiationAtomicNumber"],"0306":["SS","RadiationChargeState"],"0308":["CS","ScanMode"],"030A":["FL","VirtualSourceAxisDistances"],"030C":["SQ","SnoutSequence"],"030D":["FL","SnoutPosition"],"030F":["SH","SnoutID"],"0312":["IS","NumberOfRangeShifters"],"0314":["SQ","RangeShifterSequence"],"0316":["IS","RangeShifterNumber"],"0318":["SH","RangeShifterID"],"0320":["CS","RangeShifterType"],"0322":["LO","RangeShifterDescription"],"0330":["IS","NumberOfLateralSpreadingDevices"],"0332":["SQ","LateralSpreadingDeviceSequence"],"0334":["IS","LateralSpreadingDeviceNumber"],"0336":["SH","LateralSpreadingDeviceID"],"0338":["CS","LateralSpreadingDeviceType"],"033A":["LO","LateralSpreadingDeviceDescription"],"033C":["FL","LateralSpreadingDeviceWaterEquivalentThickness"],"0340":["IS","NumberOfRangeModulators"],"0342":["SQ","RangeModulatorSequence"],"0344":["IS","RangeModulatorNumber"],"0346":["SH","RangeModulatorID"],"0348":["CS","RangeModulatorType"],"034A":["LO","RangeModulatorDescription"],"034C":["SH","BeamCurrentModulationID"],"0350":["CS","PatientSupportType"],"0352":["SH","PatientSupportID"],"0354":["LO","PatientSupportAccessoryCode"],"0356":["FL","FixationLightAzimuthalAngle"],"0358":["FL","FixationLightPolarAngle"],"035A":["FL","MetersetRate"],"0360":["SQ","RangeShifterSettingsSequence"],"0362":["LO","RangeShifterSetting"],"0364":["FL","IsocenterToRangeShifterDistance"],"0366":["FL","RangeShifterWaterEquivalentThickness"],"0370":["SQ","LateralSpreadingDeviceSettingsSequence"],"0372":["LO","LateralSpreadingDeviceSetting"],"0374":["FL","IsocenterToLateralSpreadingDeviceDistance"],"0380":["SQ","RangeModulatorSettingsSequence"],"0382":["FL","RangeModulatorGatingStartValue"],"0384":["FL","RangeModulatorGatingStopValue"],"0386":["FL","RangeModulatorGatingStartWaterEquivalentThickness"],"0388":["FL","RangeModulatorGatingStopWaterEquivalentThickness"],"038A":["FL","IsocenterToRangeModulatorDistance"],"0390":["SH","ScanSpotTuneID"],"0392":["IS","NumberOfScanSpotPositions"],"0394":["FL","ScanSpotPositionMap"],"0396":["FL","ScanSpotMetersetWeights"],"0398":["FL","ScanningSpotSize"],"039A":["IS","NumberOfPaintings"],"03A0":["SQ","IonToleranceTableSequence"],"03A2":["SQ","IonBeamSequence"],"03A4":["SQ","IonBeamLimitingDeviceSequence"],"03A6":["SQ","IonBlockSequence"],"03A8":["SQ","IonControlPointSequence"],"03AA":["SQ","IonWedgeSequence"],"03AC":["SQ","IonWedgePositionSequence"],"0401":["SQ","ReferencedSetupImageSequence"],"0402":["ST","SetupImageComment"],"0410":["SQ","MotionSynchronizationSequence"],"0412":["FL","ControlPointOrientation"],"0420":["SQ","GeneralAccessorySequence"],"0421":["SH","GeneralAccessoryID"],"0422":["ST","GeneralAccessoryDescription"],"0423":["CS","GeneralAccessoryType"],"0424":["IS","GeneralAccessoryNumber"],"0431":["SQ","ApplicatorGeometrySequence"],"0432":["CS","ApplicatorApertureShape"],"0433":["FL","ApplicatorOpening"],"0434":["FL","ApplicatorOpeningX"],"0435":["FL","ApplicatorOpeningY"],"0436":["FL","SourceToApplicatorMountingPositionDistance"]},"300C":{"0002":["SQ","ReferencedRTPlanSequence"],"0004":["SQ","ReferencedBeamSequence"],"0006":["IS","ReferencedBeamNumber"],"0007":["IS","ReferencedReferenceImageNumber"],"0008":["DS","StartCumulativeMetersetWeight"],"0009":["DS","EndCumulativeMetersetWeight"],"000A":["SQ","ReferencedBrachyApplicationSetupSequence"],"000C":["IS","ReferencedBrachyApplicationSetupNumber"],"000E":["IS","ReferencedSourceNumber"],"0020":["SQ","ReferencedFractionGroupSequence"],"0022":["IS","ReferencedFractionGroupNumber"],"0040":["SQ","ReferencedVerificationImageSequence"],"0042":["SQ","ReferencedReferenceImageSequence"],"0050":["SQ","ReferencedDoseReferenceSequence"],"0051":["IS","ReferencedDoseReferenceNumber"],"0055":["SQ","BrachyReferencedDoseReferenceSequence"],"0060":["SQ","ReferencedStructureSetSequence"],"006A":["IS","ReferencedPatientSetupNumber"],"0080":["SQ","ReferencedDoseSequence"],"00A0":["IS","ReferencedToleranceTableNumber"],"00B0":["SQ","ReferencedBolusSequence"],"00C0":["IS","ReferencedWedgeNumber"],"00D0":["IS","ReferencedCompensatorNumber"],"00E0":["IS","ReferencedBlockNumber"],"00F0":["IS","ReferencedControlPointIndex"],"00F2":["SQ","ReferencedControlPointSequence"],"00F4":["IS","ReferencedStartControlPointIndex"],"00F6":["IS","ReferencedStopControlPointIndex"],"0100":["IS","ReferencedRangeShifterNumber"],"0102":["IS","ReferencedLateralSpreadingDeviceNumber"],"0104":["IS","ReferencedRangeModulatorNumber"]},"300E":{"0002":["CS","ApprovalStatus"],"0004":["DA","ReviewDate"],"0005":["TM","ReviewTime"],"0008":["PN","ReviewerName"]},4e3:{"0010":["LT","Arbitrary"],4e3:["LT","TextComments"]},4008:{"0040":["SH","ResultsID"],"0042":["LO","ResultsIDIssuer"],"0050":["SQ","ReferencedInterpretationSequence"],"00FF":["CS","ReportProductionStatusTrial"],"0100":["DA","InterpretationRecordedDate"],"0101":["TM","InterpretationRecordedTime"],"0102":["PN","InterpretationRecorder"],"0103":["LO","ReferenceToRecordedSound"],"0108":["DA","InterpretationTranscriptionDate"],"0109":["TM","InterpretationTranscriptionTime"],"010A":["PN","InterpretationTranscriber"],"010B":["ST","InterpretationText"],"010C":["PN","InterpretationAuthor"],"0111":["SQ","InterpretationApproverSequence"],"0112":["DA","InterpretationApprovalDate"],"0113":["TM","InterpretationApprovalTime"],"0114":["PN","PhysicianApprovingInterpretation"],"0115":["LT","InterpretationDiagnosisDescription"],"0117":["SQ","InterpretationDiagnosisCodeSequence"],"0118":["SQ","ResultsDistributionListSequence"],"0119":["PN","DistributionName"],"011A":["LO","DistributionAddress"],"0200":["SH","InterpretationID"],"0202":["LO","InterpretationIDIssuer"],"0210":["CS","InterpretationTypeID"],"0212":["CS","InterpretationStatusID"],"0300":["ST","Impressions"],4e3:["ST","ResultsComments"]},4010:{"0001":["CS","LowEnergyDetectors"],"0002":["CS","HighEnergyDetectors"],"0004":["SQ","DetectorGeometrySequence"],1001:["SQ","ThreatROIVoxelSequence"],1004:["FL","ThreatROIBase"],1005:["FL","ThreatROIExtents"],1006:["OB","ThreatROIBitmap"],1007:["SH","RouteSegmentID"],1008:["CS","GantryType"],1009:["CS","OOIOwnerType"],"100A":["SQ","RouteSegmentSequence"],1010:["US","PotentialThreatObjectID"],1011:["SQ","ThreatSequence"],1012:["CS","ThreatCategory"],1013:["LT","ThreatCategoryDescription"],1014:["CS","ATDAbilityAssessment"],1015:["CS","ATDAssessmentFlag"],1016:["FL","ATDAssessmentProbability"],1017:["FL","Mass"],1018:["FL","Density"],1019:["FL","ZEffective"],"101A":["SH","BoardingPassID"],"101B":["FL","CenterOfMass"],"101C":["FL","CenterOfPTO"],"101D":["FL","BoundingPolygon"],"101E":["SH","RouteSegmentStartLocationID"],"101F":["SH","RouteSegmentEndLocationID"],1020:["CS","RouteSegmentLocationIDType"],1021:["CS","AbortReason"],1023:["FL","VolumeOfPTO"],1024:["CS","AbortFlag"],1025:["DT","RouteSegmentStartTime"],1026:["DT","RouteSegmentEndTime"],1027:["CS","TDRType"],1028:["CS","InternationalRouteSegment"],1029:["LO","ThreatDetectionAlgorithmandVersion"],"102A":["SH","AssignedLocation"],"102B":["DT","AlarmDecisionTime"],1031:["CS","AlarmDecision"],1033:["US","NumberOfTotalObjects"],1034:["US","NumberOfAlarmObjects"],1037:["SQ","PTORepresentationSequence"],1038:["SQ","ATDAssessmentSequence"],1039:["CS","TIPType"],"103A":["CS","DICOSVersion"],1041:["DT","OOIOwnerCreationTime"],1042:["CS","OOIType"],1043:["FL","OOISize"],1044:["CS","AcquisitionStatus"],1045:["SQ","BasisMaterialsCodeSequence"],1046:["CS","PhantomType"],1047:["SQ","OOIOwnerSequence"],1048:["CS","ScanType"],1051:["LO","ItineraryID"],1052:["SH","ItineraryIDType"],1053:["LO","ItineraryIDAssigningAuthority"],1054:["SH","RouteID"],1055:["SH","RouteIDAssigningAuthority"],1056:["CS","InboundArrivalType"],1058:["SH","CarrierID"],1059:["CS","CarrierIDAssigningAuthority"],1060:["FL","SourceOrientation"],1061:["FL","SourcePosition"],1062:["FL","BeltHeight"],1064:["SQ","AlgorithmRoutingCodeSequence"],1067:["CS","TransportClassification"],1068:["LT","OOITypeDescriptor"],1069:["FL","TotalProcessingTime"],"106C":["OB","DetectorCalibrationData"]}},n.Dictionary.getVR=function(u,p){var v,d,g;return g=n.Dictionary.dict[n.Utils.dec2hex(u)],g&&(d=g[n.Utils.dec2hex(p)],d?v=d[0]:p===0&&(v="UL")),v||(g=n.Dictionary.dictPrivate[n.Utils.dec2hex(u)],g&&(d=g[n.Utils.dec2hex(p)],d&&(v=d[0]))),v||(v="OB"),v},n.Dictionary.getDescription=function(u,p){var v,d,g;return g=n.Dictionary.dict[n.Utils.dec2hex(u)],g&&(d=g[n.Utils.dec2hex(p)],d?v=d[1]:p===0&&(v="Group "+n.Utils.dec2hex(u)+" Length")),v||(g=n.Dictionary.dictPrivate[n.Utils.dec2hex(u)],g&&(d=g[n.Utils.dec2hex(p)],d&&(v=d[1]))),v||(v="PrivateData"),v},l.exports&&(l.exports=n.Dictionary)}(dictionary)),dictionary.exports}var image={exports:{}},tag={exports:{}},lib$1={exports:{}},_default$1={},lib={exports:{}},_default={},hasRequired_default$1;function require_default$1(){if(hasRequired_default$1)return _default;hasRequired_default$1=1;function l(){var d={};return d["align-content"]=!1,d["align-items"]=!1,d["align-self"]=!1,d["alignment-adjust"]=!1,d["alignment-baseline"]=!1,d.all=!1,d["anchor-point"]=!1,d.animation=!1,d["animation-delay"]=!1,d["animation-direction"]=!1,d["animation-duration"]=!1,d["animation-fill-mode"]=!1,d["animation-iteration-count"]=!1,d["animation-name"]=!1,d["animation-play-state"]=!1,d["animation-timing-function"]=!1,d.azimuth=!1,d["backface-visibility"]=!1,d.background=!0,d["background-attachment"]=!0,d["background-clip"]=!0,d["background-color"]=!0,d["background-image"]=!0,d["background-origin"]=!0,d["background-position"]=!0,d["background-repeat"]=!0,d["background-size"]=!0,d["baseline-shift"]=!1,d.binding=!1,d.bleed=!1,d["bookmark-label"]=!1,d["bookmark-level"]=!1,d["bookmark-state"]=!1,d.border=!0,d["border-bottom"]=!0,d["border-bottom-color"]=!0,d["border-bottom-left-radius"]=!0,d["border-bottom-right-radius"]=!0,d["border-bottom-style"]=!0,d["border-bottom-width"]=!0,d["border-collapse"]=!0,d["border-color"]=!0,d["border-image"]=!0,d["border-image-outset"]=!0,d["border-image-repeat"]=!0,d["border-image-slice"]=!0,d["border-image-source"]=!0,d["border-image-width"]=!0,d["border-left"]=!0,d["border-left-color"]=!0,d["border-left-style"]=!0,d["border-left-width"]=!0,d["border-radius"]=!0,d["border-right"]=!0,d["border-right-color"]=!0,d["border-right-style"]=!0,d["border-right-width"]=!0,d["border-spacing"]=!0,d["border-style"]=!0,d["border-top"]=!0,d["border-top-color"]=!0,d["border-top-left-radius"]=!0,d["border-top-right-radius"]=!0,d["border-top-style"]=!0,d["border-top-width"]=!0,d["border-width"]=!0,d.bottom=!1,d["box-decoration-break"]=!0,d["box-shadow"]=!0,d["box-sizing"]=!0,d["box-snap"]=!0,d["box-suppress"]=!0,d["break-after"]=!0,d["break-before"]=!0,d["break-inside"]=!0,d["caption-side"]=!1,d.chains=!1,d.clear=!0,d.clip=!1,d["clip-path"]=!1,d["clip-rule"]=!1,d.color=!0,d["color-interpolation-filters"]=!0,d["column-count"]=!1,d["column-fill"]=!1,d["column-gap"]=!1,d["column-rule"]=!1,d["column-rule-color"]=!1,d["column-rule-style"]=!1,d["column-rule-width"]=!1,d["column-span"]=!1,d["column-width"]=!1,d.columns=!1,d.contain=!1,d.content=!1,d["counter-increment"]=!1,d["counter-reset"]=!1,d["counter-set"]=!1,d.crop=!1,d.cue=!1,d["cue-after"]=!1,d["cue-before"]=!1,d.cursor=!1,d.direction=!1,d.display=!0,d["display-inside"]=!0,d["display-list"]=!0,d["display-outside"]=!0,d["dominant-baseline"]=!1,d.elevation=!1,d["empty-cells"]=!1,d.filter=!1,d.flex=!1,d["flex-basis"]=!1,d["flex-direction"]=!1,d["flex-flow"]=!1,d["flex-grow"]=!1,d["flex-shrink"]=!1,d["flex-wrap"]=!1,d.float=!1,d["float-offset"]=!1,d["flood-color"]=!1,d["flood-opacity"]=!1,d["flow-from"]=!1,d["flow-into"]=!1,d.font=!0,d["font-family"]=!0,d["font-feature-settings"]=!0,d["font-kerning"]=!0,d["font-language-override"]=!0,d["font-size"]=!0,d["font-size-adjust"]=!0,d["font-stretch"]=!0,d["font-style"]=!0,d["font-synthesis"]=!0,d["font-variant"]=!0,d["font-variant-alternates"]=!0,d["font-variant-caps"]=!0,d["font-variant-east-asian"]=!0,d["font-variant-ligatures"]=!0,d["font-variant-numeric"]=!0,d["font-variant-position"]=!0,d["font-weight"]=!0,d.grid=!1,d["grid-area"]=!1,d["grid-auto-columns"]=!1,d["grid-auto-flow"]=!1,d["grid-auto-rows"]=!1,d["grid-column"]=!1,d["grid-column-end"]=!1,d["grid-column-start"]=!1,d["grid-row"]=!1,d["grid-row-end"]=!1,d["grid-row-start"]=!1,d["grid-template"]=!1,d["grid-template-areas"]=!1,d["grid-template-columns"]=!1,d["grid-template-rows"]=!1,d["hanging-punctuation"]=!1,d.height=!0,d.hyphens=!1,d.icon=!1,d["image-orientation"]=!1,d["image-resolution"]=!1,d["ime-mode"]=!1,d["initial-letters"]=!1,d["inline-box-align"]=!1,d["justify-content"]=!1,d["justify-items"]=!1,d["justify-self"]=!1,d.left=!1,d["letter-spacing"]=!0,d["lighting-color"]=!0,d["line-box-contain"]=!1,d["line-break"]=!1,d["line-grid"]=!1,d["line-height"]=!1,d["line-snap"]=!1,d["line-stacking"]=!1,d["line-stacking-ruby"]=!1,d["line-stacking-shift"]=!1,d["line-stacking-strategy"]=!1,d["list-style"]=!0,d["list-style-image"]=!0,d["list-style-position"]=!0,d["list-style-type"]=!0,d.margin=!0,d["margin-bottom"]=!0,d["margin-left"]=!0,d["margin-right"]=!0,d["margin-top"]=!0,d["marker-offset"]=!1,d["marker-side"]=!1,d.marks=!1,d.mask=!1,d["mask-box"]=!1,d["mask-box-outset"]=!1,d["mask-box-repeat"]=!1,d["mask-box-slice"]=!1,d["mask-box-source"]=!1,d["mask-box-width"]=!1,d["mask-clip"]=!1,d["mask-image"]=!1,d["mask-origin"]=!1,d["mask-position"]=!1,d["mask-repeat"]=!1,d["mask-size"]=!1,d["mask-source-type"]=!1,d["mask-type"]=!1,d["max-height"]=!0,d["max-lines"]=!1,d["max-width"]=!0,d["min-height"]=!0,d["min-width"]=!0,d["move-to"]=!1,d["nav-down"]=!1,d["nav-index"]=!1,d["nav-left"]=!1,d["nav-right"]=!1,d["nav-up"]=!1,d["object-fit"]=!1,d["object-position"]=!1,d.opacity=!1,d.order=!1,d.orphans=!1,d.outline=!1,d["outline-color"]=!1,d["outline-offset"]=!1,d["outline-style"]=!1,d["outline-width"]=!1,d.overflow=!1,d["overflow-wrap"]=!1,d["overflow-x"]=!1,d["overflow-y"]=!1,d.padding=!0,d["padding-bottom"]=!0,d["padding-left"]=!0,d["padding-right"]=!0,d["padding-top"]=!0,d.page=!1,d["page-break-after"]=!1,d["page-break-before"]=!1,d["page-break-inside"]=!1,d["page-policy"]=!1,d.pause=!1,d["pause-after"]=!1,d["pause-before"]=!1,d.perspective=!1,d["perspective-origin"]=!1,d.pitch=!1,d["pitch-range"]=!1,d["play-during"]=!1,d.position=!1,d["presentation-level"]=!1,d.quotes=!1,d["region-fragment"]=!1,d.resize=!1,d.rest=!1,d["rest-after"]=!1,d["rest-before"]=!1,d.richness=!1,d.right=!1,d.rotation=!1,d["rotation-point"]=!1,d["ruby-align"]=!1,d["ruby-merge"]=!1,d["ruby-position"]=!1,d["shape-image-threshold"]=!1,d["shape-outside"]=!1,d["shape-margin"]=!1,d.size=!1,d.speak=!1,d["speak-as"]=!1,d["speak-header"]=!1,d["speak-numeral"]=!1,d["speak-punctuation"]=!1,d["speech-rate"]=!1,d.stress=!1,d["string-set"]=!1,d["tab-size"]=!1,d["table-layout"]=!1,d["text-align"]=!0,d["text-align-last"]=!0,d["text-combine-upright"]=!0,d["text-decoration"]=!0,d["text-decoration-color"]=!0,d["text-decoration-line"]=!0,d["text-decoration-skip"]=!0,d["text-decoration-style"]=!0,d["text-emphasis"]=!0,d["text-emphasis-color"]=!0,d["text-emphasis-position"]=!0,d["text-emphasis-style"]=!0,d["text-height"]=!0,d["text-indent"]=!0,d["text-justify"]=!0,d["text-orientation"]=!0,d["text-overflow"]=!0,d["text-shadow"]=!0,d["text-space-collapse"]=!0,d["text-transform"]=!0,d["text-underline-position"]=!0,d["text-wrap"]=!0,d.top=!1,d.transform=!1,d["transform-origin"]=!1,d["transform-style"]=!1,d.transition=!1,d["transition-delay"]=!1,d["transition-duration"]=!1,d["transition-property"]=!1,d["transition-timing-function"]=!1,d["unicode-bidi"]=!1,d["vertical-align"]=!1,d.visibility=!1,d["voice-balance"]=!1,d["voice-duration"]=!1,d["voice-family"]=!1,d["voice-pitch"]=!1,d["voice-range"]=!1,d["voice-rate"]=!1,d["voice-stress"]=!1,d["voice-volume"]=!1,d.volume=!1,d["white-space"]=!1,d.widows=!1,d.width=!0,d["will-change"]=!1,d["word-break"]=!0,d["word-spacing"]=!0,d["word-wrap"]=!0,d["wrap-flow"]=!1,d["wrap-through"]=!1,d["writing-mode"]=!1,d["z-index"]=!1,d}function n(d,g,_){}function u(d,g,_){}var p=/javascript\s*\:/img;function v(d,g){return p.test(g)?"":g}return _default.whiteList=l(),_default.getDefaultWhiteList=l,_default.onAttr=n,_default.onIgnoreAttr=u,_default.safeAttrValue=v,_default}var util$1,hasRequiredUtil$1;function requireUtil$1(){return hasRequiredUtil$1||(hasRequiredUtil$1=1,util$1={indexOf:function(l,n){var u,p;if(Array.prototype.indexOf)return l.indexOf(n);for(u=0,p=l.length;u<p;u++)if(l[u]===n)return u;return-1},forEach:function(l,n,u){var p,v;if(Array.prototype.forEach)return l.forEach(n,u);for(p=0,v=l.length;p<v;p++)n.call(u,l[p],p,l)},trim:function(l){return String.prototype.trim?l.trim():l.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(l){return String.prototype.trimRight?l.trimRight():l.replace(/(\s*$)/g,"")}}),util$1}var parser$2,hasRequiredParser$2;function requireParser$2(){if(hasRequiredParser$2)return parser$2;hasRequiredParser$2=1;var l=requireUtil$1();function n(u,p){u=l.trimRight(u),u[u.length-1]!==";"&&(u+=";");var v=u.length,d=!1,g=0,_=0,C="";function E(){if(!d){var y=l.trim(u.slice(g,_)),e=y.indexOf(":");if(e!==-1){var P=l.trim(y.slice(0,e)),O=l.trim(y.slice(e+1));if(P){var U=p(g,C.length,P,O,y);U&&(C+=U+"; ")}}}g=_+1}for(;_<v;_++){var w=u[_];if(w==="/"&&u[_+1]==="*"){var m=u.indexOf("*/",_+2);if(m===-1)break;_=m+1,g=_+1,d=!1}else w==="("?d=!0:w===")"?d=!1:w===";"?d||E():w===`
`&&E()}return l.trim(C)}return parser$2=n,parser$2}var css,hasRequiredCss;function requireCss(){if(hasRequiredCss)return css;hasRequiredCss=1;var l=require_default$1(),n=requireParser$2();requireUtil$1();function u(d){return d==null}function p(d){var g={};for(var _ in d)g[_]=d[_];return g}function v(d){d=p(d||{}),d.whiteList=d.whiteList||l.whiteList,d.onAttr=d.onAttr||l.onAttr,d.onIgnoreAttr=d.onIgnoreAttr||l.onIgnoreAttr,d.safeAttrValue=d.safeAttrValue||l.safeAttrValue,this.options=d}return v.prototype.process=function(d){if(d=d||"",d=d.toString(),!d)return"";var g=this,_=g.options,C=_.whiteList,E=_.onAttr,w=_.onIgnoreAttr,m=_.safeAttrValue,y=n(d,function(e,P,O,U,W){var V=C[O],$=!1;if(V===!0?$=V:typeof V=="function"?$=V(U):V instanceof RegExp&&($=V.test(U)),$!==!0&&($=!1),U=m(O,U),!!U){var b={position:P,sourcePosition:e,source:W,isWhite:$};if($){var H=E(O,U,b);return u(H)?O+":"+U:H}else{var H=w(O,U,b);if(!u(H))return H}}});return y},css=v,css}var hasRequiredLib$1;function requireLib$1(){return hasRequiredLib$1||(hasRequiredLib$1=1,function(l,n){var u=require_default$1(),p=requireCss();function v(g,_){var C=new p(_);return C.process(g)}n=l.exports=v,n.FilterCSS=p;for(var d in u)n[d]=u[d];typeof window<"u"&&(window.filterCSS=l.exports)}(lib,lib.exports)),lib.exports}var util,hasRequiredUtil;function requireUtil(){return hasRequiredUtil||(hasRequiredUtil=1,util={indexOf:function(l,n){var u,p;if(Array.prototype.indexOf)return l.indexOf(n);for(u=0,p=l.length;u<p;u++)if(l[u]===n)return u;return-1},forEach:function(l,n,u){var p,v;if(Array.prototype.forEach)return l.forEach(n,u);for(p=0,v=l.length;p<v;p++)n.call(u,l[p],p,l)},trim:function(l){return String.prototype.trim?l.trim():l.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(l){var n=/\s|\n|\t/,u=n.exec(l);return u?u.index:-1}}),util}var hasRequired_default;function require_default(){if(hasRequired_default)return _default$1;hasRequired_default=1;var l=requireLib$1().FilterCSS,n=requireLib$1().getDefaultWhiteList,u=requireUtil();function p(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var v=new l;function d(ge,ye,we){}function g(ge,ye,we){}function _(ge,ye,we){}function C(ge,ye,we){}function E(ge){return ge.replace(m,"&lt;").replace(y,"&gt;")}function w(ge,ye,we,be){if(we=h(we),ye==="href"||ye==="src"){if(we=u.trim(we),we==="#")return"#";if(!(we.substr(0,7)==="http://"||we.substr(0,8)==="https://"||we.substr(0,7)==="mailto:"||we.substr(0,4)==="tel:"||we.substr(0,11)==="data:image/"||we.substr(0,6)==="ftp://"||we.substr(0,2)==="./"||we.substr(0,3)==="../"||we[0]==="#"||we[0]==="/"))return""}else if(ye==="background"){if(V.lastIndex=0,V.test(we))return""}else if(ye==="style"){if($.lastIndex=0,$.test(we)||(b.lastIndex=0,b.test(we)&&(V.lastIndex=0,V.test(we))))return"";be!==!1&&(be=be||v,we=be.process(we))}return we=ae(we),we}var m=/</g,y=/>/g,e=/"/g,P=/&quot;/g,O=/&#([a-zA-Z0-9]*);?/gim,U=/&colon;?/gim,W=/&newline;?/gim,V=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,$=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,b=/u\s*r\s*l\s*\(.*/gi;function H(ge){return ge.replace(e,"&quot;")}function G(ge){return ge.replace(P,'"')}function Y(ge){return ge.replace(O,function(we,be){return be[0]==="x"||be[0]==="X"?String.fromCharCode(parseInt(be.substr(1),16)):String.fromCharCode(parseInt(be,10))})}function X(ge){return ge.replace(U,":").replace(W," ")}function j(ge){for(var ye="",we=0,be=ge.length;we<be;we++)ye+=ge.charCodeAt(we)<32?" ":ge.charAt(we);return u.trim(ye)}function h(ge){return ge=G(ge),ge=Y(ge),ge=X(ge),ge=j(ge),ge}function ae(ge){return ge=H(ge),ge=E(ge),ge}function le(){return""}function he(ge,ye){typeof ye!="function"&&(ye=function(){});var we=!Array.isArray(ge);function be(p0){return we?!0:u.indexOf(ge,p0)!==-1}var Ve=[],Ne=!1;return{onIgnoreTag:function(p0,k0,Ue){if(be(p0))if(Ue.isClosing){var xe="[/removed]",I0=Ue.position+xe.length;return Ve.push([Ne!==!1?Ne:Ue.position,I0]),Ne=!1,xe}else return Ne||(Ne=Ue.position),"[removed]";else return ye(p0,k0,Ue)},remove:function(p0){var k0="",Ue=0;return u.forEach(Ve,function(xe){k0+=p0.slice(Ue,xe[0]),Ue=xe[1]}),k0+=p0.slice(Ue),k0}}}function pe(ge){for(var ye="",we=0;we<ge.length;){var be=ge.indexOf("<!--",we);if(be===-1){ye+=ge.slice(we);break}ye+=ge.slice(we,be);var Ve=ge.indexOf("-->",be);if(Ve===-1)break;we=Ve+3}return ye}function Ae(ge){var ye=ge.split("");return ye=ye.filter(function(we){var be=we.charCodeAt(0);return be===127?!1:be<=31?be===10||be===13:!0}),ye.join("")}return _default$1.whiteList=p(),_default$1.getDefaultWhiteList=p,_default$1.onTag=d,_default$1.onIgnoreTag=g,_default$1.onTagAttr=_,_default$1.onIgnoreTagAttr=C,_default$1.safeAttrValue=w,_default$1.escapeHtml=E,_default$1.escapeQuote=H,_default$1.unescapeQuote=G,_default$1.escapeHtmlEntities=Y,_default$1.escapeDangerHtml5Entities=X,_default$1.clearNonPrintableCharacter=j,_default$1.friendlyAttrValue=h,_default$1.escapeAttrValue=ae,_default$1.onIgnoreTagStripAll=le,_default$1.StripTagBody=he,_default$1.stripCommentTag=pe,_default$1.stripBlankChar=Ae,_default$1.cssFilter=v,_default$1.getDefaultCSSWhiteList=n,_default$1}var parser$1={},hasRequiredParser$1;function requireParser$1(){if(hasRequiredParser$1)return parser$1;hasRequiredParser$1=1;var l=requireUtil();function n(m){var y=l.spaceIndex(m),e;return y===-1?e=m.slice(1,-1):e=m.slice(1,y+1),e=l.trim(e).toLowerCase(),e.slice(0,1)==="/"&&(e=e.slice(1)),e.slice(-1)==="/"&&(e=e.slice(0,-1)),e}function u(m){return m.slice(0,2)==="</"}function p(m,y,e){var P="",O=0,U=!1,W=!1,V=0,$=m.length,b="",H="";e:for(V=0;V<$;V++){var G=m.charAt(V);if(U===!1){if(G==="<"){U=V;continue}}else if(W===!1){if(G==="<"){P+=e(m.slice(O,V)),U=V,O=V;continue}if(G===">"||V===$-1){P+=e(m.slice(O,U)),H=m.slice(U,V+1),b=n(H),P+=y(U,P.length,b,H,u(H)),O=V+1,U=!1;continue}if(G==='"'||G==="'")for(var Y=1,X=m.charAt(V-Y);X.trim()===""||X==="=";){if(X==="="){W=G;continue e}X=m.charAt(V-++Y)}}else if(G===W){W=!1;continue}}return O<$&&(P+=e(m.substr(O))),P}var v=/[^a-zA-Z0-9\\_:.-]/gim;function d(m,y){var e=0,P=0,O=[],U=!1,W=m.length;function V(Y,X){if(Y=l.trim(Y),Y=Y.replace(v,"").toLowerCase(),!(Y.length<1)){var j=y(Y,X||"");j&&O.push(j)}}for(var $=0;$<W;$++){var b=m.charAt($),H,G;if(U===!1&&b==="="){U=m.slice(e,$),e=$+1,P=m.charAt(e)==='"'||m.charAt(e)==="'"?e:_(m,$+1);continue}if(U!==!1&&$===P){if(G=m.indexOf(b,$+1),G===-1)break;H=l.trim(m.slice(P+1,G)),V(U,H),U=!1,$=G,e=$+1;continue}if(/\s|\n|\t/.test(b))if(m=m.replace(/\s|\n|\t/g," "),U===!1)if(G=g(m,$),G===-1){H=l.trim(m.slice(e,$)),V(H),U=!1,e=$+1;continue}else{$=G-1;continue}else if(G=C(m,$-1),G===-1){H=l.trim(m.slice(e,$)),H=w(H),V(U,H),U=!1,e=$+1;continue}else continue}return e<m.length&&(U===!1?V(m.slice(e)):V(U,w(l.trim(m.slice(e))))),l.trim(O.join(" "))}function g(m,y){for(;y<m.length;y++){var e=m[y];if(e!==" ")return e==="="?y:-1}}function _(m,y){for(;y<m.length;y++){var e=m[y];if(e!==" ")return e==="'"||e==='"'?y:-1}}function C(m,y){for(;y>0;y--){var e=m[y];if(e!==" ")return e==="="?y:-1}}function E(m){return m[0]==='"'&&m[m.length-1]==='"'||m[0]==="'"&&m[m.length-1]==="'"}function w(m){return E(m)?m.substr(1,m.length-2):m}return parser$1.parseTag=p,parser$1.parseAttr=d,parser$1}var xss,hasRequiredXss;function requireXss(){if(hasRequiredXss)return xss;hasRequiredXss=1;var l=requireLib$1().FilterCSS,n=require_default(),u=requireParser$1(),p=u.parseTag,v=u.parseAttr,d=requireUtil();function g(m){return m==null}function _(m){var y=d.spaceIndex(m);if(y===-1)return{html:"",closing:m[m.length-2]==="/"};m=d.trim(m.slice(y+1,-1));var e=m[m.length-1]==="/";return e&&(m=d.trim(m.slice(0,-1))),{html:m,closing:e}}function C(m){var y={};for(var e in m)y[e]=m[e];return y}function E(m){var y={};for(var e in m)Array.isArray(m[e])?y[e.toLowerCase()]=m[e].map(function(P){return P.toLowerCase()}):y[e.toLowerCase()]=m[e];return y}function w(m){m=C(m||{}),m.stripIgnoreTag&&(m.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),m.onIgnoreTag=n.onIgnoreTagStripAll),m.whiteList||m.allowList?m.whiteList=E(m.whiteList||m.allowList):m.whiteList=n.whiteList,m.onTag=m.onTag||n.onTag,m.onTagAttr=m.onTagAttr||n.onTagAttr,m.onIgnoreTag=m.onIgnoreTag||n.onIgnoreTag,m.onIgnoreTagAttr=m.onIgnoreTagAttr||n.onIgnoreTagAttr,m.safeAttrValue=m.safeAttrValue||n.safeAttrValue,m.escapeHtml=m.escapeHtml||n.escapeHtml,this.options=m,m.css===!1?this.cssFilter=!1:(m.css=m.css||{},this.cssFilter=new l(m.css))}return w.prototype.process=function(m){if(m=m||"",m=m.toString(),!m)return"";var y=this,e=y.options,P=e.whiteList,O=e.onTag,U=e.onIgnoreTag,W=e.onTagAttr,V=e.onIgnoreTagAttr,$=e.safeAttrValue,b=e.escapeHtml,H=y.cssFilter;e.stripBlankChar&&(m=n.stripBlankChar(m)),e.allowCommentTag||(m=n.stripCommentTag(m));var G=!1;e.stripIgnoreTagBody&&(G=n.StripTagBody(e.stripIgnoreTagBody,U),U=G.onIgnoreTag);var Y=p(m,function(X,j,h,ae,le){var he={sourcePosition:X,position:j,isClosing:le,isWhite:Object.prototype.hasOwnProperty.call(P,h)},pe=O(h,ae,he);if(!g(pe))return pe;if(he.isWhite){if(he.isClosing)return"</"+h+">";var Ae=_(ae),ge=P[h],ye=v(Ae.html,function(we,be){var Ve=d.indexOf(ge,we)!==-1,Ne=W(h,we,be,Ve);return g(Ne)?Ve?(be=$(h,we,be,H),be?we+'="'+be+'"':we):(Ne=V(h,we,be,Ve),g(Ne)?void 0:Ne):Ne});return ae="<"+h,ye&&(ae+=" "+ye),Ae.closing&&(ae+=" /"),ae+=">",ae}else return pe=U(h,ae,he),g(pe)?b(ae):pe},b);return G&&(Y=G.remove(Y)),Y},xss=w,xss}var hasRequiredLib;function requireLib(){return hasRequiredLib||(hasRequiredLib=1,function(l,n){var u=require_default(),p=requireParser$1(),v=requireXss();function d(_,C){var E=new v(C);return E.process(_)}n=l.exports=d,n.filterXSS=d,n.FilterXSS=v,function(){for(var _ in u)n[_]=u[_];for(var C in p)n[C]=p[C]}(),typeof window<"u"&&(window.filterXSS=l.exports);function g(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}g()&&(self.filterXSS=l.exports)}(lib$1,lib$1.exports)),lib$1.exports}var siemens={exports:{}},hasRequiredSiemens;function requireSiemens(){return hasRequiredSiemens||(hasRequiredSiemens=1,function(l){var n=n||{};n.Utils=n.Utils||(typeof commonjsRequire<"u"?requireUtilities():null),n.Siemens=n.Siemens||function(u){this.output="",this.data=new DataView(u,0)},n.Siemens.CSA2_MAGIC_NUMBER=[83,86,49,48],n.Siemens.NAME_LENGTH=64,n.Siemens.ELEMENT_CSA1=4112,n.Siemens.ELEMENT_CSA2=4128,n.Siemens.GROUP_CSA=41,n.Siemens.prototype.readHeader=function(){var u,p;try{if(this.data.byteLength>n.Siemens.CSA2_MAGIC_NUMBER.length){for(p=!0,u=0;u<n.Siemens.CSA2_MAGIC_NUMBER.length;u+=1)p&=this.data.getUint8(u)===n.Siemens.CSA2_MAGIC_NUMBER[u];p?this.readHeaderAtOffset(n.Siemens.CSA2_MAGIC_NUMBER.length+4):this.readHeaderAtOffset(0)}}catch(v){console.log(v)}return this.output},n.Siemens.prototype.readHeaderAtOffset=function(u){var p,v;if(this.output+=`
`,p=n.Utils.swap32(this.data.getUint32(u)),p<1||p>128)return this.output;for(u+=4,u+=4,v=0;v<p&&(u=this.readTag(u),u!==-1);v+=1);return this.output},n.Siemens.prototype.readTag=function(u){var p,v,d;for(p=this.readString(u,n.Siemens.NAME_LENGTH),u+=n.Siemens.NAME_LENGTH,u+=4,u+=4,u+=4,d=n.Utils.swap32(this.data.getUint32(u)),u+=4,u+=4,this.output+="    "+p+"=",v=0;v<d&&(u=this.readItem(u),u!==-1);v+=1)u%4!==0&&(u+=4-u%4);return this.output+=`
`,u},n.Siemens.prototype.readString=function(u,p){var v,d,g="";for(d=0;d<p&&(v=this.data.getUint8(u+d),v!==0);d+=1)g+=String.fromCharCode(v);return g},n.Siemens.prototype.readItem=function(u){var p;return p=n.Utils.swap32(this.data.getUint32(u)),u+p>this.data.buffer.length?-1:(u+=16,p>0&&(this.output+=this.readString(u,p)+" "),u+p)},n.Siemens.prototype.canRead=function(u,p){return u===n.Siemens.GROUP_CSA&&(p===n.Siemens.ELEMENT_CSA1||p===n.Siemens.ELEMENT_CSA2)},l.exports&&(l.exports=n.Siemens)}(siemens)),siemens.exports}var hasRequiredTag;function requireTag(){return hasRequiredTag||(hasRequiredTag=1,function(l){var n=requireLib(),u=u||{};u.Utils=u.Utils||(typeof commonjsRequire<"u"?requireUtilities():null),u.Dictionary=u.Dictionary||(typeof commonjsRequire<"u"?requireDictionary():null),u.Siemens=u.Siemens||(typeof commonjsRequire<"u"?requireSiemens():null),u.Tag=u.Tag||function(p,v,d,g,_,C,E,w,m){if(this.group=p,this.element=v,this.vr=d,this.offsetStart=_,this.offsetValue=C,this.offsetEnd=E,this.sublist=!1,this.preformatted=!1,this.id=u.Tag.createId(p,v),g instanceof Array)this.value=g,this.sublist=!0;else if(g!==null){var y=new DataView(g);this.value=u.Tag.convertValue(d,y,w,m),this.value===y&&this.isPrivateData()&&(this.value=u.Tag.convertPrivateValue(p,v,y),this.preformatted=this.value!==y)}else this.value=null},u.Tag.PRIVATE_DATA_READERS=[u.Siemens],u.Tag.VR_AE_MAX_LENGTH=16,u.Tag.VR_AS_MAX_LENGTH=4,u.Tag.VR_AT_MAX_LENGTH=4,u.Tag.VR_CS_MAX_LENGTH=16,u.Tag.VR_DA_MAX_LENGTH=8,u.Tag.VR_DS_MAX_LENGTH=16,u.Tag.VR_DT_MAX_LENGTH=26,u.Tag.VR_FL_MAX_LENGTH=4,u.Tag.VR_FD_MAX_LENGTH=8,u.Tag.VR_IS_MAX_LENGTH=12,u.Tag.VR_LO_MAX_LENGTH=64,u.Tag.VR_LT_MAX_LENGTH=10240,u.Tag.VR_OB_MAX_LENGTH=-1,u.Tag.VR_OD_MAX_LENGTH=-1,u.Tag.VR_OF_MAX_LENGTH=-1,u.Tag.VR_OW_MAX_LENGTH=-1,u.Tag.VR_PN_MAX_LENGTH=64*5,u.Tag.VR_SH_MAX_LENGTH=16,u.Tag.VR_SL_MAX_LENGTH=4,u.Tag.VR_SS_MAX_LENGTH=2,u.Tag.VR_ST_MAX_LENGTH=1024,u.Tag.VR_TM_MAX_LENGTH=16,u.Tag.VR_UI_MAX_LENGTH=64,u.Tag.VR_UL_MAX_LENGTH=4,u.Tag.VR_UN_MAX_LENGTH=-1,u.Tag.VR_US_MAX_LENGTH=2,u.Tag.VR_UT_MAX_LENGTH=-1,u.Tag.VR_UC_MAX_LENGTH=-1,u.Tag.TAG_TRANSFER_SYNTAX=[2,16],u.Tag.TAG_META_LENGTH=[2,0],u.Tag.TAG_SUBLIST_ITEM=[65534,57344],u.Tag.TAG_SUBLIST_ITEM_DELIM=[65534,57357],u.Tag.TAG_SUBLIST_SEQ_DELIM=[65534,57565],u.Tag.TAG_ROWS=[40,16],u.Tag.TAG_COLS=[40,17],u.Tag.TAG_ACQUISITION_MATRIX=[24,4880],u.Tag.TAG_NUMBER_OF_FRAMES=[40,8],u.Tag.TAG_NUMBER_TEMPORAL_POSITIONS=[32,261],u.Tag.TAG_PIXEL_SPACING=[40,48],u.Tag.TAG_SLICE_THICKNESS=[24,80],u.Tag.TAG_SLICE_GAP=[24,136],u.Tag.TAG_TR=[24,128],u.Tag.TAG_FRAME_TIME=[24,4195],u.Tag.TAG_BITS_ALLOCATED=[40,256],u.Tag.TAG_BITS_STORED=[40,257],u.Tag.TAG_PIXEL_REPRESENTATION=[40,259],u.Tag.TAG_HIGH_BIT=[40,258],u.Tag.TAG_PHOTOMETRIC_INTERPRETATION=[40,4],u.Tag.TAG_SAMPLES_PER_PIXEL=[40,2],u.Tag.TAG_PLANAR_CONFIG=[40,6],u.Tag.TAG_PALETTE_RED=[40,4609],u.Tag.TAG_PALETTE_GREEN=[40,4610],u.Tag.TAG_PALETTE_BLUE=[40,4611],u.Tag.TAG_DATA_SCALE_SLOPE=[40,4179],u.Tag.TAG_DATA_SCALE_INTERCEPT=[40,4178],u.Tag.TAG_DATA_SCALE_ELSCINT=[519,4127],u.Tag.TAG_PIXEL_BANDWIDTH=[24,149],u.Tag.TAG_IMAGE_MIN=[40,262],u.Tag.TAG_IMAGE_MAX=[40,263],u.Tag.TAG_WINDOW_CENTER=[40,4176],u.Tag.TAG_WINDOW_WIDTH=[40,4177],u.Tag.TAG_SPECIFIC_CHAR_SET=[8,5],u.Tag.TAG_PATIENT_NAME=[16,16],u.Tag.TAG_PATIENT_ID=[16,32],u.Tag.TAG_STUDY_DATE=[8,32],u.Tag.TAG_STUDY_TIME=[8,48],u.Tag.TAG_STUDY_DES=[8,4144],u.Tag.TAG_IMAGE_TYPE=[8,8],u.Tag.TAG_IMAGE_COMMENTS=[32,16384],u.Tag.TAG_SEQUENCE_NAME=[24,36],u.Tag.TAG_MODALITY=[8,96],u.Tag.TAG_FRAME_OF_REF_UID=[32,82],u.Tag.TAG_STUDY_UID=[32,13],u.Tag.TAG_SERIES_DESCRIPTION=[8,4158],u.Tag.TAG_SERIES_INSTANCE_UID=[32,14],u.Tag.TAG_SERIES_NUMBER=[32,17],u.Tag.TAG_ECHO_NUMBER=[24,134],u.Tag.TAG_TEMPORAL_POSITION=[32,256],u.Tag.TAG_IMAGE_NUM=[32,19],u.Tag.TAG_SLICE_LOCATION=[32,4161],u.Tag.TAG_IMAGE_ORIENTATION=[32,55],u.Tag.TAG_IMAGE_POSITION=[32,50],u.Tag.TAG_SLICE_LOCATION_VECTOR=[24,8197],u.Tag.TAG_LUT_SHAPE=[8272,32],u.Tag.TAG_PIXEL_DATA=[32736,16],u.Tag.createId=function(p,v){var d=u.Utils.dec2hex(p),g=u.Utils.dec2hex(v);return d+g},u.Tag.getUnsignedInteger16=function(p,v){var d,g,_;for(g=p.byteLength/2,d=[],_=0;_<g;_+=1)d[_]=p.getUint16(_*2,v);return d},u.Tag.getSignedInteger16=function(p,v){var d,g,_;for(g=p.byteLength/2,d=[],_=0;_<g;_+=1)d[_]=p.getInt16(_*2,v);return d},u.Tag.getFloat32=function(p,v){var d,g,_;for(g=p.byteLength/4,d=[],_=0;_<g;_+=1)d[_]=p.getFloat32(_*4,v);return d},u.Tag.getSignedInteger32=function(p,v){var d,g,_;for(g=p.byteLength/4,d=[],_=0;_<g;_+=1)d[_]=p.getInt32(_*4,v);return d},u.Tag.getUnsignedInteger32=function(p,v){var d,g,_;for(g=p.byteLength/4,d=[],_=0;_<g;_+=1)d[_]=p.getUint32(_*4,v);return d},u.Tag.getFloat64=function(p,v){var d,g,_;if(p.byteLength<8)return 0;for(g=p.byteLength/8,d=[],_=0;_<g;_+=1)d[_]=p.getFloat64(_*8,v);return d},u.Tag.getDoubleElscint=function(p){var v=[],d=[],g;for(g=0;g<8;g+=1)v[g]=p.getUint8(g);return d[0]=v[3],d[1]=v[2],d[2]=v[1],d[3]=v[0],d[4]=v[7],d[5]=v[6],d[6]=v[5],d[7]=v[4],v=[u.Utils.bytesToDouble(d)],v},u.Tag.getFixedLengthStringValue=function(p,v,d,g){var _,C,E;for(C=Math.floor(p.byteLength/v),_=[],E=0;E<C;E+=1)_[E]=u.Utils.getStringAt(p,E*v,v,d,g);return _},u.Tag.getStringValue=function(p,v,d){var g=u.Utils.getStringAt(p,0,p.byteLength,v,d).split("\\"),_;for(_=0;_<g.length;_+=1)g[_]=u.Utils.trim(g[_]);return g},u.Tag.getDateStringValue=function(p){var v=u.Tag.getSingleStringValue(p)[0].indexOf(".")!==-1,d=u.Tag.getFixedLengthStringValue(p,v?10:u.Tag.VR_DA_MAX_LENGTH),g=null,_=[],C;for(C=0;C<d.length;C+=1)v?(g=d[C].split("."),g.length===3?_[C]=new Date(u.Utils.safeParseInt(g[0]),u.Utils.safeParseInt(g[1])-1,u.Utils.safeParseInt(g[2])):_[C]=new Date):d[C].length===8?_[C]=new Date(u.Utils.safeParseInt(d[C].substring(0,4)),u.Utils.safeParseInt(d[C].substring(4,6))-1,u.Utils.safeParseInt(d[C].substring(6,8))):_[C]=Date.parse(d[C]),u.Utils.isValidDate(_[C])||(_[C]=d[C]);return _},u.Tag.getDateTimeStringValue=function(p){var v=u.Tag.getStringValue(p),d=[],g,_=null,C=null,E=null,w=null,m=null,y=null;for(g=0;g<v.length;g+=1)v[g].length>=4?(_=parseInt(v[g].substring(0,4),10),v[g].length>=6&&(C=u.Utils.safeParseInt(v[g].substring(4,6))-1),v[g].length>=8&&(E=u.Utils.safeParseInt(v[g].substring(6,8))),v[g].length>=10&&(w=u.Utils.safeParseInt(v[g].substring(8,10))),v[g].length>=12&&(m=u.Utils.safeParseInt(v[g].substring(10,12))),v[g].length>=14&&(y=u.Utils.safeParseInt(v[g].substring(12,14))),d[g]=new Date(_,C,E,w,m,y)):d[g]=Date.parse(v[g]),u.Utils.isValidDate(d[g])||(d[g]=v[g]);return d},u.Tag.getTimeStringValue=function(p,v){var d=u.Tag.getStringValue(p),g=[];if(v){var _=null,C,E=0,w=0,m=0;for(C=0;C<d.length;C+=1)d[C].indexOf(":")!==-1?(_=d[C].split(":"),E=u.Utils.safeParseInt(_[0]),_.length>1&&(w=u.Utils.safeParseInt(_[1])),_.length>2&&(m=u.Utils.safeParseFloat(_[2]))):(d[C].length>=2&&(E=u.Utils.safeParseInt(d[C].substring(0,2))),d[C].length>=4&&(w=u.Utils.safeParseInt(d[C].substring(2,4))),d[C].length>=6&&(m=u.Utils.safeParseFloat(d[C].substring(4)))),g[C]=Math.round(E*60*60*1e3+w*60*1e3+m*1e3);return g}return d},u.Tag.getDoubleStringValue=function(p){var v=u.Tag.getStringValue(p),d=[],g;for(g=0;g<v.length;g+=1)d[g]=parseFloat(v[g]);return d},u.Tag.getIntegerStringValue=function(p){var v=u.Tag.getStringValue(p),d=[],g;for(g=0;g<v.length;g+=1)d[g]=parseInt(v[g],10);return d},u.Tag.getSingleStringValue=function(p,v,d,g){var _=p.byteLength;return v&&(_=Math.min(p.byteLength,v)),[u.Utils.trim(u.Utils.getStringAt(p,0,_,d,g))]},u.Tag.getPersonNameStringValue=function(p,v,d){var g=u.Tag.getStringValue(p,v,d),_=[],C;for(C=0;C<g.length;C+=1)_[C]=g[C].replace("^"," ");return _},u.Tag.convertPrivateValue=function(p,v,d){var g,_;for(g=0;g<u.Tag.PRIVATE_DATA_READERS.length;g+=1)if(_=new u.Tag.PRIVATE_DATA_READERS[g](d.buffer),_.canRead(p,v))return _.readHeader();return d},u.Tag.convertValue=function(p,v,d,g){var _=null;return p==="AE"?_=u.Tag.getSingleStringValue(v,u.Tag.VR_AE_MAX_LENGTH):p==="AS"?_=u.Tag.getFixedLengthStringValue(v,u.Tag.VR_AS_MAX_LENGTH):p==="AT"?_=u.Tag.getUnsignedInteger16(v,d):p==="CS"?_=u.Tag.getStringValue(v):p==="DA"?_=u.Tag.getDateStringValue(v):p==="DS"?_=u.Tag.getDoubleStringValue(v):p==="DT"?_=u.Tag.getDateTimeStringValue(v):p==="FL"?_=u.Tag.getFloat32(v,d):p==="FD"?_=u.Tag.getFloat64(v,d):p==="FE"?_=u.Tag.getDoubleElscint(v,d):p==="IS"?_=u.Tag.getIntegerStringValue(v):p==="LO"?_=u.Tag.getStringValue(v,g,p):p==="LT"?_=u.Tag.getSingleStringValue(v,u.Tag.VR_AT_MAX_LENGTH,g,p):p==="OB"||p==="OD"||p==="OF"||p==="OW"?_=v:p==="PN"?_=u.Tag.getPersonNameStringValue(v,g,p):p==="SH"?_=u.Tag.getStringValue(v,g,p):p==="SL"?_=u.Tag.getSignedInteger32(v,d):p==="SQ"?_=null:p==="SS"?_=u.Tag.getSignedInteger16(v,d):p==="ST"?_=u.Tag.getSingleStringValue(v,u.Tag.VR_ST_MAX_LENGTH,g,p):p==="TM"?_=u.Tag.getTimeStringValue(v):p==="UI"?_=u.Tag.getStringValue(v):p==="UL"?_=u.Tag.getUnsignedInteger32(v,d):p==="UN"?_=v:p==="US"?_=u.Tag.getUnsignedInteger16(v,d):p==="UT"?_=u.Tag.getSingleStringValue(v,Number.MAX_SAFE_INTEGER,g,p):p==="UC"&&(_=u.Tag.getStringValue(v)),_},u.Tag.prototype.toString=function(p,v){var d="",g,_=u.Utils.dec2hex(this.group),C=u.Utils.dec2hex(this.element),E="("+_+","+C+")",w="",m;for(p===void 0&&(p=0),m="",g=0;g<p;g+=1)v?m+="&nbsp;&nbsp;":m+="  ";if(this.sublist)for(g=0;g<this.value.length;g+=1)d+=`
`+this.value[g].toString(p+1,v);else this.vr==="SQ"||this.isPixelData()?d="":this.value?v&&this.preformatted?d="[<pre>"+this.value+"</pre>]":d="["+this.value+"]":d="";return this.isSublistItem()?E="Sequence Item":this.isSublistItemDelim()?E="Sequence Item Delimiter":this.isSequenceDelim()?E="Sequence Delimiter":this.isPixelData()?E="Pixel Data":w=u.Utils.convertCamcelCaseToTitleCase(u.Dictionary.getDescription(this.group,this.element)),d=n(d),v?m+"<span style='color:#B5CBD3'>"+E+"</span>&nbsp;&nbsp;&nbsp;"+w+"&nbsp;&nbsp;&nbsp;"+d:m+" "+E+" "+w+" "+d},u.Tag.prototype.toHTMLString=function(p){return this.toString(p,!0)},u.Tag.prototype.isTransformSyntax=function(){return this.group===u.Tag.TAG_TRANSFER_SYNTAX[0]&&this.element===u.Tag.TAG_TRANSFER_SYNTAX[1]},u.Tag.prototype.isCharset=function(){return this.group===u.Tag.TAG_SPECIFIC_CHAR_SET[0]&&this.element===u.Tag.TAG_SPECIFIC_CHAR_SET[1]},u.Tag.prototype.isPixelData=function(){return this.group===u.Tag.TAG_PIXEL_DATA[0]&&this.element===u.Tag.TAG_PIXEL_DATA[1]},u.Tag.prototype.isPrivateData=function(){return(this.group&1)===1},u.Tag.prototype.hasInterpretedPrivateData=function(){return this.isPrivateData()&&u.Utils.isString(this.value)},u.Tag.prototype.isSublistItem=function(){return this.group===u.Tag.TAG_SUBLIST_ITEM[0]&&this.element===u.Tag.TAG_SUBLIST_ITEM[1]},u.Tag.prototype.isSublistItemDelim=function(){return this.group===u.Tag.TAG_SUBLIST_ITEM_DELIM[0]&&this.element===u.Tag.TAG_SUBLIST_ITEM_DELIM[1]},u.Tag.prototype.isSequenceDelim=function(){return this.group===u.Tag.TAG_SUBLIST_SEQ_DELIM[0]&&this.element===u.Tag.TAG_SUBLIST_SEQ_DELIM[1]},u.Tag.prototype.isMetaLength=function(){return this.group===u.Tag.TAG_META_LENGTH[0]&&this.element===u.Tag.TAG_META_LENGTH[1]},l.exports&&(l.exports=u.Tag)}(tag)),tag.exports}var rle={exports:{}},hasRequiredRle;function requireRle(){return hasRequiredRle||(hasRequiredRle=1,function(l){var n=n||{};n.RLE=n.RLE||function(){this.rawData=null,this.bytesRead=0,this.bytesPut=0,this.segElemPut=0,this.numSegments=0,this.segmentOffsets=[],this.littleEndian=!0,this.segmentIndex=0,this.numElements=0,this.size=0,this.output=null},n.RLE.HEADER_SIZE=64,n.RLE.prototype.decode=function(u,p,v){var d;for(this.rawData=new DataView(u),this.littleEndian=p,this.numElements=v,this.readHeader(),this.output=new DataView(new ArrayBuffer(this.size)),d=0;d<this.numSegments;d+=1)this.readNextSegment();return this.processData()},n.RLE.prototype.processData=function(){var u,p,v,d,g,_;if(this.numSegments===1)return this.output;if(this.numSegments===2){for(g=new DataView(new ArrayBuffer(this.size)),u=0;u<this.numElements;u+=1)p=this.output.getInt8(u),v=this.output.getInt8(u+this.numElements),d=(p&255)<<8|v&255,g.setInt16(u*2,d,this.littleEndian);return g}else if(this.numSegments===3){for(g=new DataView(new ArrayBuffer(this.size)),_=2*this.numElements,u=0;u<this.numElements;u+=1)g.setInt8(u*3,this.output.getInt8(u)),g.setInt8(u*3+1,this.output.getInt8(u+this.numElements)),g.setInt8(u*3+2,this.output.getInt8(u+_));return g}else throw new Error("RLE data with "+this.numSegments+" segments is not supported!")},n.RLE.prototype.readHeader=function(){var u;for(this.numSegments=this.getInt32(),this.size=this.numElements*this.numSegments,u=0;u<this.numSegments;u+=1)this.segmentOffsets[u]=this.getInt32();this.bytesRead=n.RLE.HEADER_SIZE},n.RLE.prototype.hasValidInput=function(){return this.bytesRead<this.rawData.buffer.byteLength&&this.bytesPut<this.size&&this.segElemPut<this.numElements},n.RLE.prototype.readNextSegment=function(){var u;for(this.bytesRead=this.segmentOffsets[this.segmentIndex],this.segElemPut=0;this.hasValidInput();)u=this.get(),u>=0&&u<128?this.readLiteral(u):u<=-1&&u>-128?this.readEncoded(u):u===-128&&console.warn("RLE: unsupported code!");this.segmentIndex+=1},n.RLE.prototype.readLiteral=function(u){var p,v=u+1;if(this.hasValidInput())for(p=0;p<v;p+=1)this.put(this.get());else console.warn("RLE: insufficient data!")},n.RLE.prototype.readEncoded=function(u){var p,v=1-u,d=this.get();for(p=0;p<v;p+=1)this.put(d)},n.RLE.prototype.getInt32=function(){var u=this.rawData.getInt32(this.bytesRead,this.littleEndian);return this.bytesRead+=4,u},n.RLE.prototype.getInt16=function(){var u=this.rawData.getInt16(this.bytesRead,this.littleEndian);return this.bytesRead+=2,u},n.RLE.prototype.get=function(){var u=this.rawData.getInt8(this.bytesRead);return this.bytesRead+=1,u},n.RLE.prototype.put=function(u){this.output.setInt8(this.bytesPut,u),this.bytesPut+=1,this.segElemPut+=1},l.exports&&(l.exports=n.RLE)}(rle)),rle.exports}var main$1={exports:{}},componentSpec={exports:{}},hasRequiredComponentSpec;function requireComponentSpec(){return hasRequiredComponentSpec||(hasRequiredComponentSpec=1,function(l){var n=n||{};n.lossless=n.lossless||{},n.lossless.ComponentSpec=n.lossless.ComponentSpec||function(){this.hSamp=0,this.quantTableSel=0,this.vSamp=0},l.exports&&(l.exports=n.lossless.ComponentSpec)}(componentSpec)),componentSpec.exports}var dataStream={exports:{}},hasRequiredDataStream;function requireDataStream(){return hasRequiredDataStream||(hasRequiredDataStream=1,function(l){var n=n||{};n.lossless=n.lossless||{},n.lossless.DataStream=n.lossless.DataStream||function(u,p,v){p===void 0&&v===void 0?this.buffer=new Uint8Array(u):this.buffer=new Uint8Array(u,p,v),this.index=0},n.lossless.DataStream.prototype.get16=function(){var u=(this.buffer[this.index]<<8)+this.buffer[this.index+1];return this.index+=2,u},n.lossless.DataStream.prototype.get8=function(){var u=this.buffer[this.index];return this.index+=1,u},l.exports&&(l.exports=n.lossless.DataStream)}(dataStream)),dataStream.exports}var decoder={exports:{}},huffmanTable={exports:{}},utils={exports:{}},hasRequiredUtils;function requireUtils(){return hasRequiredUtils||(hasRequiredUtils=1,function(l){var n=n||{};n.lossless=n.lossless||{},n.lossless.Utils=n.lossless.Utils||{},n.lossless.Utils.createArray=function(u){var p=new Array(u||0),v=u;if(arguments.length>1)for(var d=Array.prototype.slice.call(arguments,1);v--;)p[u-1-v]=n.lossless.Utils.createArray.apply(this,d);return p},n.lossless.Utils.makeCRCTable=function(){for(var u,p=[],v=0;v<256;v++){u=v;for(var d=0;d<8;d++)u=u&1?3988292384^u>>>1:u>>>1;p[v]=u}return p},n.lossless.Utils.crc32=function(u){for(var p=new Uint8Array(u.buffer),v=n.lossless.Utils.crcTable||(n.lossless.Utils.crcTable=n.lossless.Utils.makeCRCTable()),d=-1,g=0;g<p.length;g++)d=d>>>8^v[(d^p[g])&255];return(d^-1)>>>0},l.exports&&(l.exports=n.lossless.Utils)}(utils)),utils.exports}var hasRequiredHuffmanTable;function requireHuffmanTable(){return hasRequiredHuffmanTable||(hasRequiredHuffmanTable=1,function(l){var n=n||{};n.lossless=n.lossless||{},n.lossless.DataStream=n.lossless.DataStream||(typeof commonjsRequire<"u"?requireDataStream():null),n.lossless.Utils=n.lossless.Utils||(typeof commonjsRequire<"u"?requireUtils():null),n.lossless.HuffmanTable=n.lossless.HuffmanTable||function(){this.l=n.lossless.Utils.createArray(4,2,16),this.th=[],this.v=n.lossless.Utils.createArray(4,2,16,200),this.tc=n.lossless.Utils.createArray(4,2),this.tc[0][0]=0,this.tc[1][0]=0,this.tc[2][0]=0,this.tc[3][0]=0,this.tc[0][1]=0,this.tc[1][1]=0,this.tc[2][1]=0,this.tc[3][1]=0,this.th[0]=0,this.th[1]=0,this.th[2]=0,this.th[3]=0},n.lossless.HuffmanTable.MSB=2147483648,n.lossless.HuffmanTable.prototype.read=function(u,p){var v=0,d,g,_,C,E,w;for(d=u.get16(),v+=2;v<d;){if(g=u.get8(),v+=1,_=g&15,_>3)throw new Error("ERROR: Huffman table ID > 3");if(C=g>>4,C>2)throw new Error("ERROR: Huffman table [Table class > 2 ]");for(this.th[_]=1,this.tc[_][C]=1,E=0;E<16;E+=1)this.l[_][C][E]=u.get8(),v+=1;for(E=0;E<16;E+=1)for(w=0;w<this.l[_][C][E];w+=1){if(v>d)throw new Error("ERROR: Huffman table format error [count>Lh]");this.v[_][C][E][w]=u.get8(),v+=1}}if(v!==d)throw new Error("ERROR: Huffman table format error [count!=Lf]");for(E=0;E<4;E+=1)for(w=0;w<2;w+=1)this.tc[E][w]!==0&&this.buildHuffTable(p[E][w],this.l[E][w],this.v[E][w]);return 1},n.lossless.HuffmanTable.prototype.buildHuffTable=function(u,p,v){var d,g,_,C,E,w;for(g=256,_=0,C=0;C<8;C+=1)for(E=0;E<p[C];E+=1)for(w=0;w<g>>C+1;w+=1)u[_]=v[C][E]|C+1<<8,_+=1;for(C=1;_<256;C+=1,_+=1)u[_]=C|n.lossless.HuffmanTable.MSB;for(d=1,_=0,C=8;C<16;C+=1)for(E=0;E<p[C];E+=1){for(w=0;w<g>>C-7;w+=1)u[d*256+_]=v[C][E]|C+1<<8,_+=1;if(_>=256){if(_>256)throw new Error("ERROR: Huffman table error(1)!");_=0,d+=1}}},l.exports&&(l.exports=n.lossless.HuffmanTable)}(huffmanTable)),huffmanTable.exports}var quantizationTable={exports:{}},hasRequiredQuantizationTable;function requireQuantizationTable(){return hasRequiredQuantizationTable||(hasRequiredQuantizationTable=1,function(l){var n=n||{};n.lossless=n.lossless||{},n.lossless.DataStream=n.lossless.DataStream||(typeof commonjsRequire<"u"?requireDataStream():null),n.lossless.Utils=n.lossless.Utils||(typeof commonjsRequire<"u"?requireUtils():null),n.lossless.QuantizationTable=n.lossless.QuantizationTable||function(){this.precision=[],this.tq=[],this.quantTables=n.lossless.Utils.createArray(4,64),this.tq[0]=0,this.tq[1]=0,this.tq[2]=0,this.tq[3]=0},n.lossless.QuantizationTable.enhanceQuantizationTable=function(u,p){var v;for(v=0;v<8;v+=1)u[p[0*8+v]]*=90,u[p[4*8+v]]*=90,u[p[2*8+v]]*=118,u[p[6*8+v]]*=49,u[p[5*8+v]]*=71,u[p[1*8+v]]*=126,u[p[7*8+v]]*=25,u[p[3*8+v]]*=106;for(v=0;v<8;v+=1)u[p[0+8*v]]*=90,u[p[4+8*v]]*=90,u[p[2+8*v]]*=118,u[p[6+8*v]]*=49,u[p[5+8*v]]*=71,u[p[1+8*v]]*=126,u[p[7+8*v]]*=25,u[p[3+8*v]]*=106;for(v=0;v<64;v+=1)u[v]>>=6},n.lossless.QuantizationTable.prototype.read=function(u,p){var v=0,d,g,_,C;for(d=u.get16(),v+=2;v<d;){if(g=u.get8(),v+=1,_=g&15,_>3)throw new Error("ERROR: Quantization table ID > 3");if(this.precision[_]=g>>4,this.precision[_]===0)this.precision[_]=8;else if(this.precision[_]===1)this.precision[_]=16;else throw new Error("ERROR: Quantization table precision error");if(this.tq[_]=1,this.precision[_]===8){for(C=0;C<64;C+=1){if(v>d)throw new Error("ERROR: Quantization table format error");this.quantTables[_][C]=u.get8(),v+=1}n.lossless.QuantizationTable.enhanceQuantizationTable(this.quantTables[_],p)}else{for(C=0;C<64;C+=1){if(v>d)throw new Error("ERROR: Quantization table format error");this.quantTables[_][C]=u.get16(),v+=2}n.lossless.QuantizationTable.enhanceQuantizationTable(this.quantTables[_],p)}}if(v!==d)throw new Error("ERROR: Quantization table error [count!=Lq]");return 1},l.exports&&(l.exports=n.lossless.QuantizationTable)}(quantizationTable)),quantizationTable.exports}var scanHeader={exports:{}},scanComponent={exports:{}},hasRequiredScanComponent;function requireScanComponent(){return hasRequiredScanComponent||(hasRequiredScanComponent=1,function(l){var n=n||{};n.lossless=n.lossless||{},n.lossless.ScanComponent=n.lossless.ScanComponent||function(){this.acTabSel=0,this.dcTabSel=0,this.scanCompSel=0},l.exports&&(l.exports=n.lossless.ScanComponent)}(scanComponent)),scanComponent.exports}var hasRequiredScanHeader;function requireScanHeader(){return hasRequiredScanHeader||(hasRequiredScanHeader=1,function(l){var n=n||{};n.lossless=n.lossless||{},n.lossless.DataStream=n.lossless.DataStream||(typeof commonjsRequire<"u"?requireDataStream():null),n.lossless.ScanComponent=n.lossless.ScanComponent||(typeof commonjsRequire<"u"?requireScanComponent():null),n.lossless.ScanHeader=n.lossless.ScanHeader||function(){this.ah=0,this.al=0,this.numComp=0,this.selection=0,this.spectralEnd=0,this.components=[]},n.lossless.ScanHeader.prototype.read=function(u){var p=0,v,d,g;for(v=u.get16(),p+=2,this.numComp=u.get8(),p+=1,d=0;d<this.numComp;d+=1){if(this.components[d]=new n.lossless.ScanComponent,p>v)throw new Error("ERROR: scan header format error");this.components[d].scanCompSel=u.get8(),p+=1,g=u.get8(),p+=1,this.components[d].dcTabSel=g>>4,this.components[d].acTabSel=g&15}if(this.selection=u.get8(),p+=1,this.spectralEnd=u.get8(),p+=1,g=u.get8(),this.ah=g>>4,this.al=g&15,p+=1,p!==v)throw new Error("ERROR: scan header format error [count!=Ns]");return 1},l.exports&&(l.exports=n.lossless.ScanHeader)}(scanHeader)),scanHeader.exports}var frameHeader={exports:{}},hasRequiredFrameHeader;function requireFrameHeader(){return hasRequiredFrameHeader||(hasRequiredFrameHeader=1,function(l){var n=n||{};n.lossless=n.lossless||{},n.lossless.ComponentSpec=n.lossless.ComponentSpec||(typeof commonjsRequire<"u"?requireComponentSpec():null),n.lossless.DataStream=n.lossless.DataStream||(typeof commonjsRequire<"u"?requireDataStream():null),n.lossless.FrameHeader=n.lossless.FrameHeader||function(){this.components=[],this.dimX=0,this.dimY=0,this.numComp=0,this.precision=0},n.lossless.FrameHeader.prototype.read=function(u){var p=0,v,d,g,_;for(v=u.get16(),p+=2,this.precision=u.get8(),p+=1,this.dimY=u.get16(),p+=2,this.dimX=u.get16(),p+=2,this.numComp=u.get8(),p+=1,d=1;d<=this.numComp;d+=1){if(p>v)throw new Error("ERROR: frame format error");if(g=u.get8(),p+=1,p>=v)throw new Error("ERROR: frame format error [c>=Lf]");_=u.get8(),p+=1,this.components[g]||(this.components[g]=new n.lossless.ComponentSpec),this.components[g].hSamp=_>>4,this.components[g].vSamp=_&15,this.components[g].quantTableSel=u.get8(),p+=1}if(p!==v)throw new Error("ERROR: frame format error [Lf!=count]");return 1},l.exports&&(l.exports=n.lossless.FrameHeader)}(frameHeader)),frameHeader.exports}var hasRequiredDecoder;function requireDecoder(){return hasRequiredDecoder||(hasRequiredDecoder=1,function(l){var n=n||{};n.lossless=n.lossless||{},n.lossless.DataStream=n.lossless.DataStream||(typeof commonjsRequire<"u"?requireDataStream():null),n.lossless.HuffmanTable=n.lossless.HuffmanTable||(typeof commonjsRequire<"u"?requireHuffmanTable():null),n.lossless.QuantizationTable=n.lossless.QuantizationTable||(typeof commonjsRequire<"u"?requireQuantizationTable():null),n.lossless.ScanHeader=n.lossless.ScanHeader||(typeof commonjsRequire<"u"?requireScanHeader():null),n.lossless.FrameHeader=n.lossless.FrameHeader||(typeof commonjsRequire<"u"?requireFrameHeader():null),n.lossless.Utils=n.lossless.Utils||(typeof commonjsRequire<"u"?requireUtils():null),n.lossless.Decoder=n.lossless.Decoder||function(p,v){this.buffer=p,this.frame=new n.lossless.FrameHeader,this.huffTable=new n.lossless.HuffmanTable,this.quantTable=new n.lossless.QuantizationTable,this.scan=new n.lossless.ScanHeader,this.DU=n.lossless.Utils.createArray(10,4,64),this.HuffTab=n.lossless.Utils.createArray(4,2,50*256),this.IDCT_Source=[],this.nBlock=[],this.acTab=n.lossless.Utils.createArray(10,1),this.dcTab=n.lossless.Utils.createArray(10,1),this.qTab=n.lossless.Utils.createArray(10,1),this.marker=0,this.markerIndex=0,this.numComp=0,this.restartInterval=0,this.selection=0,this.xDim=0,this.yDim=0,this.xLoc=0,this.yLoc=0,this.numBytes=0,this.outputData=null,this.restarting=!1,this.mask=0,typeof v<"u"&&(this.numBytes=v)},n.lossless.Decoder.IDCT_P=[0,5,40,16,45,2,7,42,21,56,8,61,18,47,1,4,41,23,58,13,32,24,37,10,63,17,44,3,6,43,20,57,15,34,29,48,53,26,39,9,60,19,46,22,59,12,33,31,50,55,25,36,11,62,14,35,28,49,52,27,38,30,51,54],n.lossless.Decoder.TABLE=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],n.lossless.Decoder.MAX_HUFFMAN_SUBTREE=50,n.lossless.Decoder.MSB=2147483648,n.lossless.Decoder.RESTART_MARKER_BEGIN=65488,n.lossless.Decoder.RESTART_MARKER_END=65495,n.lossless.Decoder.prototype.decompress=function(p,v,d){return this.decode(p,v,d).buffer},n.lossless.Decoder.prototype.decode=function(p,v,d,g){var _,C=0,E=[],w,m,y=[],e=[],P;if(typeof p<"u"&&(this.buffer=p),typeof g<"u"&&(this.numBytes=g),this.stream=new n.lossless.DataStream(this.buffer,v,d),this.buffer=null,this.xLoc=0,this.yLoc=0,_=this.stream.get16(),_!==65496)throw new Error("Not a JPEG file");for(_=this.stream.get16();_>>4!==4092||_===65476;){switch(_){case 65476:this.huffTable.read(this.stream,this.HuffTab);break;case 65484:throw new Error("Program doesn't support arithmetic coding. (format throw new IOException)");case 65499:this.quantTable.read(this.stream,n.lossless.Decoder.TABLE);break;case 65501:this.restartInterval=this.readNumber();break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:this.readApp();break;case 65534:this.readComment();break;default:if(_>>8!==255)throw new Error("ERROR: format throw new IOException! (decode)")}_=this.stream.get16()}if(_<65472||_>65479)throw new Error("ERROR: could not handle arithmetic code!");this.frame.read(this.stream),_=this.stream.get16();do{for(;_!==65498;){switch(_){case 65476:this.huffTable.read(this.stream,this.HuffTab);break;case 65484:throw new Error("Program doesn't support arithmetic coding. (format throw new IOException)");case 65499:this.quantTable.read(this.stream,n.lossless.Decoder.TABLE);break;case 65501:this.restartInterval=this.readNumber();break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:this.readApp();break;case 65534:this.readComment();break;default:if(_>>8!==255)throw new Error("ERROR: format throw new IOException! (Parser.decode)")}_=this.stream.get16()}switch(this.precision=this.frame.precision,this.components=this.frame.components,this.numBytes||(this.numBytes=parseInt(Math.ceil(this.precision/8))),this.numBytes==1?this.mask=255:this.mask=65535,this.scan.read(this.stream),this.numComp=this.scan.numComp,this.selection=this.scan.selection,this.numBytes===1?this.numComp===3?(this.getter=this.getValueRGB,this.setter=this.setValueRGB,this.output=this.outputRGB):(this.getter=this.getValue8,this.setter=this.setValue8,this.output=this.outputSingle):(this.getter=this.getValue16,this.setter=this.setValue16,this.output=this.outputSingle),this.selection){case 2:this.selector=this.select2;break;case 3:this.selector=this.select3;break;case 4:this.selector=this.select4;break;case 5:this.selector=this.select5;break;case 6:this.selector=this.select6;break;case 7:this.selector=this.select7;break;default:this.selector=this.select1;break}for(this.scanComps=this.scan.components,this.quantTables=this.quantTable.quantTables,w=0;w<this.numComp;w+=1)m=this.scanComps[w].scanCompSel,this.qTab[w]=this.quantTables[this.components[m].quantTableSel],this.nBlock[w]=this.components[m].vSamp*this.components[m].hSamp,this.dcTab[w]=this.HuffTab[this.scanComps[w].dcTabSel][0],this.acTab[w]=this.HuffTab[this.scanComps[w].acTabSel][1];for(this.xDim=this.frame.dimX,this.yDim=this.frame.dimY,this.numBytes==1?this.outputData=new Uint8Array(new ArrayBuffer(this.xDim*this.yDim*this.numBytes*this.numComp)):this.outputData=new Uint16Array(new ArrayBuffer(this.xDim*this.yDim*this.numBytes*this.numComp)),C+=1;;){for(y[0]=0,e[0]=0,w=0;w<10;w+=1)E[w]=1<<this.precision-1;if(this.restartInterval===0){for(_=this.decodeUnit(E,y,e);_===0&&this.xLoc<this.xDim&&this.yLoc<this.yDim;)this.output(E),_=this.decodeUnit(E,y,e);break}for(P=0;P<this.restartInterval&&(this.restarting=P==0,_=this.decodeUnit(E,y,e),this.output(E),_===0);P+=1);if(_===0&&(this.markerIndex!==0?(_=65280|this.marker,this.markerIndex=0):_=this.stream.get16()),!(_>=n.lossless.Decoder.RESTART_MARKER_BEGIN&&_<=n.lossless.Decoder.RESTART_MARKER_END))break}_===65500&&C===1&&(this.readNumber(),_=this.stream.get16())}while(_!==65497&&this.xLoc<this.xDim&&this.yLoc<this.yDim&&C===0);return this.outputData},n.lossless.Decoder.prototype.decodeUnit=function(p,v,d){return this.numComp==1?this.decodeSingle(p,v,d):this.numComp==3?this.decodeRGB(p,v,d):-1},n.lossless.Decoder.prototype.select1=function(p){return this.getPreviousX(p)},n.lossless.Decoder.prototype.select2=function(p){return this.getPreviousY(p)},n.lossless.Decoder.prototype.select3=function(p){return this.getPreviousXY(p)},n.lossless.Decoder.prototype.select4=function(p){return this.getPreviousX(p)+this.getPreviousY(p)-this.getPreviousXY(p)},n.lossless.Decoder.prototype.select5=function(p){return this.getPreviousX(p)+(this.getPreviousY(p)-this.getPreviousXY(p)>>1)},n.lossless.Decoder.prototype.select6=function(p){return this.getPreviousY(p)+(this.getPreviousX(p)-this.getPreviousXY(p)>>1)},n.lossless.Decoder.prototype.select7=function(p){return(this.getPreviousX(p)+this.getPreviousY(p))/2},n.lossless.Decoder.prototype.decodeRGB=function(p,v,d){var g,_,C,E,w,m,y,e;for(p[0]=this.selector(0),p[1]=this.selector(1),p[2]=this.selector(2),w=0;w<this.numComp;w+=1)for(E=this.qTab[w],_=this.acTab[w],C=this.dcTab[w],m=0;m<this.nBlock[w];m+=1){for(y=0;y<this.IDCT_Source.length;y+=1)this.IDCT_Source[y]=0;if(g=this.getHuffmanValue(C,v,d),g>=65280)return g;for(p[w]=this.IDCT_Source[0]=p[w]+this.getn(d,g,v,d),this.IDCT_Source[0]*=E[0],e=1;e<64;e+=1){if(g=this.getHuffmanValue(_,v,d),g>=65280)return g;if(e+=g>>4,g&15)this.IDCT_Source[n.lossless.Decoder.IDCT_P[e]]=this.getn(d,g&15,v,d)*E[e];else if(!(g>>4))break}}return 0},n.lossless.Decoder.prototype.decodeSingle=function(p,v,d){var g,_,C,E;for(this.restarting?(this.restarting=!1,p[0]=1<<this.frame.precision-1):p[0]=this.selector(),_=0;_<this.nBlock[0];_+=1){if(g=this.getHuffmanValue(this.dcTab[0],v,d),g>=65280)return g;if(C=this.getn(p,g,v,d),E=C>>8,E>=n.lossless.Decoder.RESTART_MARKER_BEGIN&&E<=n.lossless.Decoder.RESTART_MARKER_END)return E;p[0]+=C}return 0},n.lossless.Decoder.prototype.getHuffmanValue=function(p,v,d){var g,_,C;if(C=65535,d[0]<8?(v[0]<<=8,_=this.stream.get8(),_===255&&(this.marker=this.stream.get8(),this.marker!==0&&(this.markerIndex=9)),v[0]|=_):d[0]-=8,g=p[v[0]>>d[0]],g&n.lossless.Decoder.MSB){if(this.markerIndex!==0)return this.markerIndex=0,65280|this.marker;v[0]&=C>>16-d[0],v[0]<<=8,_=this.stream.get8(),_===255&&(this.marker=this.stream.get8(),this.marker!==0&&(this.markerIndex=9)),v[0]|=_,g=p[(g&255)*256+(v[0]>>d[0])],d[0]+=8}if(d[0]+=8-(g>>8),d[0]<0)throw new Error("index="+d[0]+" temp="+v[0]+" code="+g+" in HuffmanValue()");return d[0]<this.markerIndex?(this.markerIndex=0,65280|this.marker):(v[0]&=C>>16-d[0],g&255)},n.lossless.Decoder.prototype.getn=function(p,v,d,g){var _,C,E,w,m;if(C=1,E=-1,w=65535,v===0)return 0;if(v===16)return p[0]>=0?-32768:32768;if(g[0]-=v,g[0]>=0){if(g[0]<this.markerIndex&&!this.isLastPixel())return this.markerIndex=0,(65280|this.marker)<<8;_=d[0]>>g[0],d[0]&=w>>16-g[0]}else{if(d[0]<<=8,m=this.stream.get8(),m===255&&(this.marker=this.stream.get8(),this.marker!==0&&(this.markerIndex=9)),d[0]|=m,g[0]+=8,g[0]<0){if(this.markerIndex!==0)return this.markerIndex=0,(65280|this.marker)<<8;d[0]<<=8,m=this.stream.get8(),m===255&&(this.marker=this.stream.get8(),this.marker!==0&&(this.markerIndex=9)),d[0]|=m,g[0]+=8}if(g[0]<0)throw new Error("index="+g[0]+" in getn()");if(g[0]<this.markerIndex)return this.markerIndex=0,(65280|this.marker)<<8;_=d[0]>>g[0],d[0]&=w>>16-g[0]}return _<C<<v-1&&(_+=(E<<v)+1),_},n.lossless.Decoder.prototype.getPreviousX=function(p){return this.xLoc>0?this.getter(this.yLoc*this.xDim+this.xLoc-1,p):this.yLoc>0?this.getPreviousY(p):1<<this.frame.precision-1},n.lossless.Decoder.prototype.getPreviousXY=function(p){return this.xLoc>0&&this.yLoc>0?this.getter((this.yLoc-1)*this.xDim+this.xLoc-1,p):this.getPreviousY(p)},n.lossless.Decoder.prototype.getPreviousY=function(p){return this.yLoc>0?this.getter((this.yLoc-1)*this.xDim+this.xLoc,p):this.getPreviousX(p)},n.lossless.Decoder.prototype.isLastPixel=function(){return this.xLoc===this.xDim-1&&this.yLoc===this.yDim-1},n.lossless.Decoder.prototype.outputSingle=function(p){this.xLoc<this.xDim&&this.yLoc<this.yDim&&(this.setter(this.yLoc*this.xDim+this.xLoc,this.mask&p[0]),this.xLoc+=1,this.xLoc>=this.xDim&&(this.yLoc+=1,this.xLoc=0))},n.lossless.Decoder.prototype.outputRGB=function(p){var v=this.yLoc*this.xDim+this.xLoc;this.xLoc<this.xDim&&this.yLoc<this.yDim&&(this.setter(v,p[0],0),this.setter(v,p[1],1),this.setter(v,p[2],2),this.xLoc+=1,this.xLoc>=this.xDim&&(this.yLoc+=1,this.xLoc=0))},n.lossless.Decoder.prototype.setValue8=function(p,v){this.outputData[p]=v},n.lossless.Decoder.prototype.getValue8=function(p){return this.outputData[p]};var u=function(){var p=new ArrayBuffer(2);return new DataView(p).setInt16(0,256,!0),new Int16Array(p)[0]===256}();u?(n.lossless.Decoder.prototype.setValue16=n.lossless.Decoder.prototype.setValue8,n.lossless.Decoder.prototype.getValue16=n.lossless.Decoder.prototype.getValue8):(n.lossless.Decoder.prototype.setValue16=function(p,v){this.outputData[p]=(v&255)<<8|v>>8&255},n.lossless.Decoder.prototype.getValue16=function(p){var v=this.outputData[p];return(v&255)<<8|v>>8&255}),n.lossless.Decoder.prototype.setValueRGB=function(p,v,d){this.outputData[p*3+d]=v},n.lossless.Decoder.prototype.getValueRGB=function(p,v){return this.outputData[p*3+v]},n.lossless.Decoder.prototype.readApp=function(){var p=0,v=this.stream.get16();for(p+=2;p<v;)this.stream.get8(),p+=1;return v},n.lossless.Decoder.prototype.readComment=function(){var p="",v=0,d;for(d=this.stream.get16(),v+=2;v<d;)p+=this.stream.get8(),v+=1;return p},n.lossless.Decoder.prototype.readNumber=function(){var p=this.stream.get16();if(p!==4)throw new Error("ERROR: Define number format throw new IOException [Ld!=4]");return this.stream.get16()},l.exports&&(l.exports=n.lossless.Decoder)}(decoder)),decoder.exports}var hasRequiredMain;function requireMain(){return hasRequiredMain||(hasRequiredMain=1,function(l){var n=n||{};n.lossless=n.lossless||{},n.lossless.ComponentSpec=n.lossless.ComponentSpec||(typeof commonjsRequire<"u"?requireComponentSpec():null),n.lossless.DataStream=n.lossless.DataStream||(typeof commonjsRequire<"u"?requireDataStream():null),n.lossless.Decoder=n.lossless.Decoder||(typeof commonjsRequire<"u"?requireDecoder():null),n.lossless.FrameHeader=n.lossless.FrameHeader||(typeof commonjsRequire<"u"?requireFrameHeader():null),n.lossless.HuffmanTable=n.lossless.HuffmanTable||(typeof commonjsRequire<"u"?requireHuffmanTable():null),n.lossless.QuantizationTable=n.lossless.QuantizationTable||(typeof commonjsRequire<"u"?requireQuantizationTable():null),n.lossless.ScanComponent=n.lossless.ScanComponent||(typeof commonjsRequire<"u"?requireScanComponent():null),n.lossless.ScanHeader=n.lossless.ScanHeader||(typeof commonjsRequire<"u"?requireScanHeader():null),n.lossless.Utils=n.lossless.Utils||(typeof commonjsRequire<"u"?requireUtils():null),l.exports&&(l.exports=n)}(main$1)),main$1.exports}var jpegBaseline={exports:{}},hasRequiredJpegBaseline;function requireJpegBaseline(){return hasRequiredJpegBaseline||(hasRequiredJpegBaseline=1,function(l){var n={Unkown:0,Grayscale:1,AdobeRGB:2,RGB:3,CYMK:4},u=function(){var v=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),d=4017,g=799,_=3406,C=2276,E=1567,w=3784,m=5793,y=2896;function e(){}function P(b,H){for(var G=0,Y=[],X,j,h=16;h>0&&!b[h-1];)h--;Y.push({children:[],index:0});var ae=Y[0],le;for(X=0;X<h;X++){for(j=0;j<b[X];j++){for(ae=Y.pop(),ae.children[ae.index]=H[G];ae.index>0;)ae=Y.pop();for(ae.index++,Y.push(ae);Y.length<=X;)Y.push(le={children:[],index:0}),ae.children[ae.index]=le.children,ae=le;G++}X+1<h&&(Y.push(le={children:[],index:0}),ae.children[ae.index]=le.children,ae=le)}return Y[0].children}function O(b,H,G){return 64*((b.blocksPerLine+1)*H+G)}function U(b,H,G,Y,X,j,h,ae,le){G.precision,G.samplesPerLine,G.scanLines;var he=G.mcusPerLine,pe=G.progressive;G.maxH,G.maxV;var Ae=H,ge=0,ye=0;function we(){if(ye>0)return ye--,ge>>ye&1;if(ge=b[H++],ge==255){var je=b[H++];if(je)throw"unexpected marker: "+(ge<<8|je).toString(16)}return ye=7,ge>>>7}function be(je){for(var Ge=je,S0;(S0=we())!==null;){if(Ge=Ge[S0],typeof Ge=="number")return Ge;if(typeof Ge!="object")throw"invalid huffman sequence"}return null}function Ve(je){for(var Ge=0;je>0;){var S0=we();if(S0===null)return;Ge=Ge<<1|S0,je--}return Ge}function Ne(je){var Ge=Ve(je);return Ge>=1<<je-1?Ge:Ge+(-1<<je)+1}function p0(je,Ge){var S0=be(je.huffmanTableDC),$e=S0===0?0:Ne(S0);je.blockData[Ge]=je.pred+=$e;for(var e0=1;e0<64;){var J=be(je.huffmanTableAC),Le=J&15,Je=J>>4;if(Le===0){if(Je<15)break;e0+=16;continue}e0+=Je;var Qe=v[e0];je.blockData[Ge+Qe]=Ne(Le),e0++}}function k0(je,Ge){var S0=be(je.huffmanTableDC),$e=S0===0?0:Ne(S0)<<le;je.blockData[Ge]=je.pred+=$e}function Ue(je,Ge){je.blockData[Ge]|=we()<<le}var xe=0;function I0(je,Ge){if(xe>0){xe--;return}for(var S0=j,$e=h;S0<=$e;){var e0=be(je.huffmanTableAC),J=e0&15,Le=e0>>4;if(J===0){if(Le<15){xe=Ve(Le)+(1<<Le)-1;break}S0+=16;continue}S0+=Le;var Je=v[S0];je.blockData[Ge+Je]=Ne(J)*(1<<le),S0++}}var O0=0,Q0;function tt(je,Ge){for(var S0=j,$e=h,e0=0;S0<=$e;){var J=v[S0];switch(O0){case 0:var Le=be(je.huffmanTableAC),Je=Le&15;if(e0=Le>>4,Je===0)e0<15?(xe=Ve(e0)+(1<<e0),O0=4):(e0=16,O0=1);else{if(Je!==1)throw"invalid ACn encoding";Q0=Ne(Je),O0=e0?2:3}continue;case 1:case 2:je.blockData[Ge+J]?je.blockData[Ge+J]+=we()<<le:(e0--,e0===0&&(O0=O0==2?3:0));break;case 3:je.blockData[Ge+J]?je.blockData[Ge+J]+=we()<<le:(je.blockData[Ge+J]=Q0<<le,O0=0);break;case 4:je.blockData[Ge+J]&&(je.blockData[Ge+J]+=we()<<le);break}S0++}O0===4&&(xe--,xe===0&&(O0=0))}function it(je,Ge,S0,$e,e0){var J=S0/he|0,Le=S0%he,Je=J*je.v+$e,Qe=Le*je.h+e0,a0=O(je,Je,Qe);Ge(je,a0)}function U0(je,Ge,S0){var $e=S0/je.blocksPerLine|0,e0=S0%je.blocksPerLine,J=O(je,$e,e0);Ge(je,J)}var q0=Y.length,Xe,ke,n0,Ie,Fe,m0;pe?j===0?m0=ae===0?k0:Ue:m0=ae===0?I0:tt:m0=p0;var ze=0,Be,qe;q0==1?qe=Y[0].blocksPerLine*Y[0].blocksPerColumn:qe=he*G.mcusPerColumn,X||(X=qe);for(var De,Ze;ze<qe;){for(ke=0;ke<q0;ke++)Y[ke].pred=0;if(xe=0,q0==1)for(Xe=Y[0],Fe=0;Fe<X;Fe++)U0(Xe,m0,ze),ze++;else for(Fe=0;Fe<X;Fe++){for(ke=0;ke<q0;ke++)for(Xe=Y[ke],De=Xe.h,Ze=Xe.v,n0=0;n0<Ze;n0++)for(Ie=0;Ie<De;Ie++)it(Xe,m0,ze,n0,Ie);ze++}if(ye=0,Be=b[H]<<8|b[H+1],Be<=65280)throw"marker was not found";if(Be>=65488&&Be<=65495)H+=2;else break}return H-Ae}function W(b,H,G){var Y=b.quantizationTable,X,j,h,ae,le,he,pe,Ae,ge,ye;for(ye=0;ye<64;ye++)G[ye]=b.blockData[H+ye]*Y[ye];for(ye=0;ye<8;++ye){var we=8*ye;if(G[1+we]===0&&G[2+we]===0&&G[3+we]===0&&G[4+we]===0&&G[5+we]===0&&G[6+we]===0&&G[7+we]===0){ge=m*G[0+we]+512>>10,G[0+we]=ge,G[1+we]=ge,G[2+we]=ge,G[3+we]=ge,G[4+we]=ge,G[5+we]=ge,G[6+we]=ge,G[7+we]=ge;continue}X=m*G[0+we]+128>>8,j=m*G[4+we]+128>>8,h=G[2+we],ae=G[6+we],le=y*(G[1+we]-G[7+we])+128>>8,Ae=y*(G[1+we]+G[7+we])+128>>8,he=G[3+we]<<4,pe=G[5+we]<<4,ge=X-j+1>>1,X=X+j+1>>1,j=ge,ge=h*w+ae*E+128>>8,h=h*E-ae*w+128>>8,ae=ge,ge=le-pe+1>>1,le=le+pe+1>>1,pe=ge,ge=Ae+he+1>>1,he=Ae-he+1>>1,Ae=ge,ge=X-ae+1>>1,X=X+ae+1>>1,ae=ge,ge=j-h+1>>1,j=j+h+1>>1,h=ge,ge=le*C+Ae*_+2048>>12,le=le*_-Ae*C+2048>>12,Ae=ge,ge=he*g+pe*d+2048>>12,he=he*d-pe*g+2048>>12,pe=ge,G[0+we]=X+Ae,G[7+we]=X-Ae,G[1+we]=j+pe,G[6+we]=j-pe,G[2+we]=h+he,G[5+we]=h-he,G[3+we]=ae+le,G[4+we]=ae-le}for(ye=0;ye<8;++ye){var be=ye;if(G[1*8+be]===0&&G[2*8+be]===0&&G[3*8+be]===0&&G[4*8+be]===0&&G[5*8+be]===0&&G[6*8+be]===0&&G[7*8+be]===0){ge=m*G[ye+0]+8192>>14,G[0*8+be]=ge,G[1*8+be]=ge,G[2*8+be]=ge,G[3*8+be]=ge,G[4*8+be]=ge,G[5*8+be]=ge,G[6*8+be]=ge,G[7*8+be]=ge;continue}X=m*G[0*8+be]+2048>>12,j=m*G[4*8+be]+2048>>12,h=G[2*8+be],ae=G[6*8+be],le=y*(G[1*8+be]-G[7*8+be])+2048>>12,Ae=y*(G[1*8+be]+G[7*8+be])+2048>>12,he=G[3*8+be],pe=G[5*8+be],ge=X-j+1>>1,X=X+j+1>>1,j=ge,ge=h*w+ae*E+2048>>12,h=h*E-ae*w+2048>>12,ae=ge,ge=le-pe+1>>1,le=le+pe+1>>1,pe=ge,ge=Ae+he+1>>1,he=Ae-he+1>>1,Ae=ge,ge=X-ae+1>>1,X=X+ae+1>>1,ae=ge,ge=j-h+1>>1,j=j+h+1>>1,h=ge,ge=le*C+Ae*_+2048>>12,le=le*_-Ae*C+2048>>12,Ae=ge,ge=he*g+pe*d+2048>>12,he=he*d-pe*g+2048>>12,pe=ge,G[0*8+be]=X+Ae,G[7*8+be]=X-Ae,G[1*8+be]=j+pe,G[6*8+be]=j-pe,G[2*8+be]=h+he,G[5*8+be]=h-he,G[3*8+be]=ae+le,G[4*8+be]=ae-le}for(ye=0;ye<64;++ye){var Ve=H+ye,Ne=G[ye];Ne=Ne<=-2056/b.bitConversion?0:Ne>=2024/b.bitConversion?255/b.bitConversion:Ne+2056/b.bitConversion>>4,b.blockData[Ve]=Ne}}function V(b,H){for(var G=H.blocksPerLine,Y=H.blocksPerColumn,X=new Int32Array(64),j=0;j<Y;j++)for(var h=0;h<G;h++){var ae=O(H,j,h);W(H,ae,X)}return H.blockData}function $(b){return b<=0?0:b>=255?255:b|0}return e.prototype={load:function(H){var G=(function(le){this.parse(le),this.onload&&this.onload()}).bind(this);if(H.indexOf("data:")>-1){for(var Y=H.indexOf("base64,")+7,X=atob(H.substring(Y)),j=new Uint8Array(X.length),h=X.length-1;h>=0;h--)j[h]=X.charCodeAt(h);G(X)}else{var ae=new XMLHttpRequest;ae.open("GET",H,!0),ae.responseType="arraybuffer",ae.onload=(function(){var le=new Uint8Array(ae.response);G(le)}).bind(this),ae.send(null)}},parse:function(H){function G(){var J=H[j]<<8|H[j+1];return j+=2,J}function Y(){var J=G(),Le=H.subarray(j,j+J-2);return j+=Le.length,Le}function X(J){for(var Le=Math.ceil(J.samplesPerLine/8/J.maxH),Je=Math.ceil(J.scanLines/8/J.maxV),Qe=0;Qe<J.components.length;Qe++){De=J.components[Qe];var a0=Math.ceil(Math.ceil(J.samplesPerLine/8)*De.h/J.maxH),c0=Math.ceil(Math.ceil(J.scanLines/8)*De.v/J.maxV),Ee=Le*De.h,He=Je*De.v,oe=64*He*(Ee+1);De.blockData=new Int16Array(oe),De.blocksPerLine=a0,De.blocksPerColumn=c0}J.mcusPerLine=Le,J.mcusPerColumn=Je}var j=0;H.length;var h=null,ae=null,le,he,pe=[],Ae=[],ge=[],ye=G();if(ye!=65496)throw"SOI not found";for(ye=G();ye!=65497;){var we,be,Ve;switch(ye){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Ne=Y();ye===65504&&Ne[0]===74&&Ne[1]===70&&Ne[2]===73&&Ne[3]===70&&Ne[4]===0&&(h={version:{major:Ne[5],minor:Ne[6]},densityUnits:Ne[7],xDensity:Ne[8]<<8|Ne[9],yDensity:Ne[10]<<8|Ne[11],thumbWidth:Ne[12],thumbHeight:Ne[13],thumbData:Ne.subarray(14,14+3*Ne[12]*Ne[13])}),ye===65518&&Ne[0]===65&&Ne[1]===100&&Ne[2]===111&&Ne[3]===98&&Ne[4]===101&&Ne[5]===0&&(ae={version:Ne[6],flags0:Ne[7]<<8|Ne[8],flags1:Ne[9]<<8|Ne[10],transformCode:Ne[11]});break;case 65499:for(var p0=G(),k0=p0+j-2;j<k0;){var Ue=H[j++],xe=new Int32Array(64);if(Ue>>4)if(Ue>>4===1)for(be=0;be<64;be++){var O0=v[be];xe[O0]=G()}else throw"DQT: invalid table spec";else for(be=0;be<64;be++){var I0=v[be];xe[I0]=H[j++]}pe[Ue&15]=xe}break;case 65472:case 65473:case 65474:if(le)throw"Only single frame JPEGs supported";G(),le={},le.extended=ye===65473,le.progressive=ye===65474,le.precision=H[j++],le.scanLines=G(),le.samplesPerLine=G(),le.components=[],le.componentIds={};var Q0=H[j++],tt,it=0,U0=0;for(we=0;we<Q0;we++){tt=H[j];var q0=H[j+1]>>4,Xe=H[j+1]&15;it<q0&&(it=q0),U0<Xe&&(U0=Xe);var ke=H[j+2];Ve=le.components.push({h:q0,v:Xe,quantizationTable:pe[ke],quantizationTableId:ke,bitConversion:255/((1<<le.precision)-1)}),le.componentIds[tt]=Ve-1,j+=3}le.maxH=it,le.maxV=U0,X(le);break;case 65476:var n0=G();for(we=2;we<n0;){var Ie=H[j++],Fe=new Uint8Array(16),m0=0;for(be=0;be<16;be++,j++)m0+=Fe[be]=H[j];var ze=new Uint8Array(m0);for(be=0;be<m0;be++,j++)ze[be]=H[j];we+=17+m0,(Ie>>4?Ae:ge)[Ie&15]=P(Fe,ze)}break;case 65501:G(),he=G();break;case 65498:G();var Be=H[j++],qe=[],De;for(we=0;we<Be;we++){var Ze=le.componentIds[H[j++]];De=le.components[Ze];var je=H[j++];De.huffmanTableDC=ge[je>>4],De.huffmanTableAC=Ae[je&15],qe.push(De)}var Ge=H[j++],S0=H[j++],$e=H[j++],e0=U(H,j,le,qe,he,Ge,S0,$e>>4,$e&15);j+=e0;break;default:if(H[j-3]==255&&H[j-2]>=192&&H[j-2]<=254){j-=3;break}throw"unknown JPEG marker "+ye.toString(16)}ye=G()}switch(this.width=le.samplesPerLine,this.height=le.scanLines,this.jfif=h,this.adobe=ae,this.components=[],le.components.length){case 1:this.colorspace=n.Grayscale;break;case 3:this.adobe?this.colorspace=n.AdobeRGB:this.colorspace=n.RGB;break;case 4:this.colorspace=n.CYMK;break;default:this.colorspace=n.Unknown}for(var we=0;we<le.components.length;we++){var De=le.components[we];!De.quantizationTable&&De.quantizationTableId!==null&&(De.quantizationTable=pe[De.quantizationTableId]),this.components.push({output:V(le,De),scaleX:De.h/le.maxH,scaleY:De.v/le.maxV,blocksPerLine:De.blocksPerLine,blocksPerColumn:De.blocksPerColumn,bitConversion:De.bitConversion})}},getData16:function(H,G){if(this.components.length!==1)throw"Unsupported color mode";var Y=this.width/H,X=this.height/G,j,h,ae,le,he,pe,Ae=0,ge=this.components.length,ye=H*G*ge,we=new Uint16Array(ye),be=new Uint16Array((this.components[0].blocksPerLine<<3)*this.components[0].blocksPerColumn*8);for(pe=0;pe<ge;pe++){j=this.components[pe];for(var Ve=j.blocksPerLine,Ne=j.blocksPerColumn,p0=Ve<<3,k0,Ue,xe=0,I0=0;I0<Ne;I0++)for(var O0=I0<<3,Q0=0;Q0<Ve;Q0++){var tt=O(j,I0,Q0),Ae=0,it=Q0<<3;for(k0=0;k0<8;k0++){var xe=(O0+k0)*p0;for(Ue=0;Ue<8;Ue++)be[xe+it+Ue]=j.output[tt+Ae++]}}h=j.scaleX*Y,ae=j.scaleY*X,Ae=pe;var U0,q0,Xe;for(he=0;he<G;he++)for(le=0;le<H;le++)q0=0|he*ae,U0=0|le*h,Xe=q0*p0+U0,we[Ae]=be[Xe],Ae+=ge}return we},getData:function(H,G){var Y=this.width/H,X=this.height/G,j,h,ae,le,he,pe,Ae=0,ge,ye,we,be,Ve,Ne,p0,k0,Ue,xe=this.components.length,I0=H*G*xe,O0=new Uint8Array(I0),Q0=new Uint8Array((this.components[0].blocksPerLine<<3)*this.components[0].blocksPerColumn*8);for(pe=0;pe<xe;pe++){j=this.components[pe];for(var tt=j.blocksPerLine,it=j.blocksPerColumn,U0=tt<<3,q0,Xe,ke=0,n0=0;n0<it;n0++)for(var Ie=n0<<3,Fe=0;Fe<tt;Fe++){var m0=O(j,n0,Fe),Ae=0,ze=Fe<<3;for(q0=0;q0<8;q0++){var ke=(Ie+q0)*U0;for(Xe=0;Xe<8;Xe++)Q0[ke+ze+Xe]=j.output[m0+Ae++]*j.bitConversion}}h=j.scaleX*Y,ae=j.scaleY*X,Ae=pe;var Be,qe,De;for(he=0;he<G;he++)for(le=0;le<H;le++)qe=0|he*ae,Be=0|le*h,De=qe*U0+Be,O0[Ae]=Q0[De],Ae+=xe}switch(xe){case 1:case 2:break;case 3:if(Ue=!0,this.adobe&&this.adobe.transformCode?Ue=!0:typeof this.colorTransform<"u"&&(Ue=!!this.colorTransform),Ue)for(pe=0;pe<I0;pe+=xe)ge=O0[pe],ye=O0[pe+1],we=O0[pe+2],Ne=$(ge-179.456+1.402*we),p0=$(ge+135.459-.344*ye-.714*we),k0=$(ge-226.816+1.772*ye),O0[pe]=Ne,O0[pe+1]=p0,O0[pe+2]=k0;break;case 4:if(!this.adobe)throw"Unsupported color mode (4 components)";if(Ue=!1,this.adobe&&this.adobe.transformCode?Ue=!0:typeof this.colorTransform<"u"&&(Ue=!!this.colorTransform),Ue)for(pe=0;pe<I0;pe+=xe)ge=O0[pe],ye=O0[pe+1],we=O0[pe+2],be=$(434.456-ge-1.402*we),Ve=$(119.541-ge+.344*ye+.714*we),ge=$(481.816-ge-1.772*ye),O0[pe]=be,O0[pe+1]=Ve,O0[pe+2]=ge;break;default:throw"Unsupported color mode"}return O0}},e}();l.exports&&(l.exports={JpegImage:u})}(jpegBaseline)),jpegBaseline.exports}var jpx={exports:{}};/*! image-JPEG2000 - v0.3.1 - 2015-08-26 | https://github.com/OHIF/image-JPEG2000 */var hasRequiredJpx;function requireJpx(){return hasRequiredJpx||(hasRequiredJpx=1,function(l){var n=function(){var G={LL:0,LH:1,HL:1,HH:2};function Y(){this.failOnCorruptedImage=!1}Y.prototype={parse:function(ke){var n0=O(ke,0);if(n0===65359){this.parseCodestream(ke,0,ke.length);return}for(var Ie=0,Fe=ke.length;Ie<Fe;){var m0=8,ze=U(ke,Ie),Be=U(ke,Ie+4);if(Ie+=m0,ze===1&&(ze=U(ke,Ie)*4294967296+U(ke,Ie+4),Ie+=8,m0+=8),ze===0&&(ze=Fe-Ie+m0),ze<m0)throw new Error("JPX Error: Invalid box field size");var qe=ze-m0,De=!0;switch(Be){case 1785737832:De=!1;break;case 1668246642:var Ze=ke[Ie];if(ke[Ie+1],ke[Ie+2],Ze===1){var je=U(ke,Ie+3);switch(je){case 16:case 17:case 18:break;default:g("Unknown colorspace "+je);break}}else Ze===2&&d("ICC profile not supported");break;case 1785737827:this.parseCodestream(ke,Ie,Ie+qe);break;case 1783636e3:U(ke,Ie)!==218793738&&g("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:var Ge=String.fromCharCode(Be>>24&255,Be>>16&255,Be>>8&255,Be&255);g("Unsupported header type "+Be+" ("+Ge+")");break}De&&(Ie+=qe)}},parseImageProperties:function(ke){for(var n0=ke.getByte();n0>=0;){var Ie=n0;n0=ke.getByte();var Fe=Ie<<8|n0;if(Fe===65361){ke.skip(4);var m0=ke.getInt32()>>>0,ze=ke.getInt32()>>>0,Be=ke.getInt32()>>>0,qe=ke.getInt32()>>>0;ke.skip(16);var De=ke.getUint16();this.width=m0-Be,this.height=ze-qe,this.componentsCount=De,this.bitsPerComponent=8;return}}throw new Error("JPX Error: No size marker found in JPX stream")},parseCodestream:function(ke,n0,Ie){var Fe={};try{for(var m0=!1,ze=n0;ze+1<Ie;){var Be=O(ke,ze);ze+=2;var qe=0,De,Ze,je,Ge,S0,$e;switch(Be){case 65359:Fe.mainHeader=!0;break;case 65497:break;case 65361:qe=O(ke,ze);var e0={};e0.Xsiz=U(ke,ze+4),e0.Ysiz=U(ke,ze+8),e0.XOsiz=U(ke,ze+12),e0.YOsiz=U(ke,ze+16),e0.XTsiz=U(ke,ze+20),e0.YTsiz=U(ke,ze+24),e0.XTOsiz=U(ke,ze+28),e0.YTOsiz=U(ke,ze+32);var J=O(ke,ze+36);e0.Csiz=J;var Le=[];De=ze+38;for(var Je=0;Je<J;Je++){var Qe={precision:(ke[De]&127)+1,isSigned:!!(ke[De]&128),XRsiz:ke[De+1],YRsiz:ke[De+1]};X(Qe,e0),Le.push(Qe)}Fe.SIZ=e0,Fe.components=Le,j(Fe,Le),Fe.QCC=[],Fe.COC=[];break;case 65372:qe=O(ke,ze);var a0={};switch(De=ze+2,Ze=ke[De++],Ze&31){case 0:Ge=8,S0=!0;break;case 1:Ge=16,S0=!1;break;case 2:Ge=16,S0=!0;break;default:throw new Error("JPX Error: Invalid SQcd value "+Ze)}for(a0.noQuantization=Ge===8,a0.scalarExpounded=S0,a0.guardBits=Ze>>5,je=[];De<qe+ze;){var c0={};Ge===8?(c0.epsilon=ke[De++]>>3,c0.mu=0):(c0.epsilon=ke[De]>>3,c0.mu=(ke[De]&7)<<8|ke[De+1],De+=2),je.push(c0)}a0.SPqcds=je,Fe.mainHeader?Fe.QCD=a0:(Fe.currentTile.QCD=a0,Fe.currentTile.QCC=[]);break;case 65373:qe=O(ke,ze);var Ee={};De=ze+2;var He;switch(Fe.SIZ.Csiz<257?He=ke[De++]:(He=O(ke,De),De+=2),Ze=ke[De++],Ze&31){case 0:Ge=8,S0=!0;break;case 1:Ge=16,S0=!1;break;case 2:Ge=16,S0=!0;break;default:throw new Error("JPX Error: Invalid SQcd value "+Ze)}for(Ee.noQuantization=Ge===8,Ee.scalarExpounded=S0,Ee.guardBits=Ze>>5,je=[];De<qe+ze;)c0={},Ge===8?(c0.epsilon=ke[De++]>>3,c0.mu=0):(c0.epsilon=ke[De]>>3,c0.mu=(ke[De]&7)<<8|ke[De+1],De+=2),je.push(c0);Ee.SPqcds=je,Fe.mainHeader?Fe.QCC[He]=Ee:Fe.currentTile.QCC[He]=Ee;break;case 65362:qe=O(ke,ze);var oe={};De=ze+2;var de=ke[De++];oe.entropyCoderWithCustomPrecincts=!!(de&1),oe.sopMarkerUsed=!!(de&2),oe.ephMarkerUsed=!!(de&4),oe.progressionOrder=ke[De++],oe.layersCount=O(ke,De),De+=2,oe.multipleComponentTransform=ke[De++],oe.decompositionLevelsCount=ke[De++],oe.xcb=(ke[De++]&15)+2,oe.ycb=(ke[De++]&15)+2;var P0=ke[De++];if(oe.selectiveArithmeticCodingBypass=!!(P0&1),oe.resetContextProbabilities=!!(P0&2),oe.terminationOnEachCodingPass=!!(P0&4),oe.verticalyStripe=!!(P0&8),oe.predictableTermination=!!(P0&16),oe.segmentationSymbolUsed=!!(P0&32),oe.reversibleTransformation=ke[De++],oe.entropyCoderWithCustomPrecincts){for(var ce=[];De<qe+ze;){var F0=ke[De++];ce.push({PPx:F0&15,PPy:F0>>4})}oe.precinctsSizes=ce}var Oe=[];if(oe.selectiveArithmeticCodingBypass&&Oe.push("selectiveArithmeticCodingBypass"),oe.resetContextProbabilities&&Oe.push("resetContextProbabilities"),oe.terminationOnEachCodingPass&&Oe.push("terminationOnEachCodingPass"),oe.verticalyStripe&&Oe.push("verticalyStripe"),oe.predictableTermination&&Oe.push("predictableTermination"),Oe.length>0)throw m0=!0,new Error("JPX Error: Unsupported COD options ("+Oe.join(", ")+")");Fe.mainHeader?Fe.COD=oe:(Fe.currentTile.COD=oe,Fe.currentTile.COC=[]);break;case 65424:qe=O(ke,ze),$e={},$e.index=O(ke,ze+2),$e.length=U(ke,ze+4),$e.dataEnd=$e.length+ze-2,$e.partIndex=ke[ze+8],$e.partsCount=ke[ze+9],Fe.mainHeader=!1,$e.partIndex===0&&($e.COD=Fe.COD,$e.COC=Fe.COC.slice(0),$e.QCD=Fe.QCD,$e.QCC=Fe.QCC.slice(0)),Fe.currentTile=$e;break;case 65427:$e=Fe.currentTile,$e.partIndex===0&&(I0(Fe,$e.index),Ne(Fe)),qe=$e.dataEnd-ze,p0(Fe,ke,ze,qe);break;case 65365:case 65367:case 65368:case 65380:qe=O(ke,ze);break;case 65363:throw new Error("JPX Error: Codestream code 0xFF53 (COC) is not implemented");default:throw new Error("JPX Error: Unknown codestream code: "+Be.toString(16))}ze+=qe}}catch(W0){if(m0||this.failOnCorruptedImage)throw W0;g("Trying to recover from "+W0.message)}this.tiles=xe(Fe),this.width=Fe.SIZ.Xsiz-Fe.SIZ.XOsiz,this.height=Fe.SIZ.Ysiz-Fe.SIZ.YOsiz,this.componentsCount=Fe.SIZ.Csiz}};function X(Xe,ke){Xe.x0=Math.ceil(ke.XOsiz/Xe.XRsiz),Xe.x1=Math.ceil(ke.Xsiz/Xe.XRsiz),Xe.y0=Math.ceil(ke.YOsiz/Xe.YRsiz),Xe.y1=Math.ceil(ke.Ysiz/Xe.YRsiz),Xe.width=Xe.x1-Xe.x0,Xe.height=Xe.y1-Xe.y0}function j(Xe,ke){for(var n0=Xe.SIZ,Ie,Fe=[],m0=Math.ceil((n0.Xsiz-n0.XTOsiz)/n0.XTsiz),ze=Math.ceil((n0.Ysiz-n0.YTOsiz)/n0.YTsiz),Be=0;Be<ze;Be++)for(var qe=0;qe<m0;qe++)Ie={},Ie.tx0=Math.max(n0.XTOsiz+qe*n0.XTsiz,n0.XOsiz),Ie.ty0=Math.max(n0.YTOsiz+Be*n0.YTsiz,n0.YOsiz),Ie.tx1=Math.min(n0.XTOsiz+(qe+1)*n0.XTsiz,n0.Xsiz),Ie.ty1=Math.min(n0.YTOsiz+(Be+1)*n0.YTsiz,n0.Ysiz),Ie.width=Ie.tx1-Ie.tx0,Ie.height=Ie.ty1-Ie.ty0,Ie.components=[],Fe.push(Ie);Xe.tiles=Fe;for(var De=n0.Csiz,Ze=0,je=De;Ze<je;Ze++)for(var Ge=ke[Ze],S0=0,$e=Fe.length;S0<$e;S0++){var e0={};Ie=Fe[S0],e0.tcx0=Math.ceil(Ie.tx0/Ge.XRsiz),e0.tcy0=Math.ceil(Ie.ty0/Ge.YRsiz),e0.tcx1=Math.ceil(Ie.tx1/Ge.XRsiz),e0.tcy1=Math.ceil(Ie.ty1/Ge.YRsiz),e0.width=e0.tcx1-e0.tcx0,e0.height=e0.tcy1-e0.tcy0,Ie.components[Ze]=e0}}function h(Xe,ke,n0){var Ie=ke.codingStyleParameters,Fe={};return Ie.entropyCoderWithCustomPrecincts?(Fe.PPx=Ie.precinctsSizes[n0].PPx,Fe.PPy=Ie.precinctsSizes[n0].PPy):(Fe.PPx=15,Fe.PPy=15),Fe.xcb_=n0>0?Math.min(Ie.xcb,Fe.PPx-1):Math.min(Ie.xcb,Fe.PPx),Fe.ycb_=n0>0?Math.min(Ie.ycb,Fe.PPy-1):Math.min(Ie.ycb,Fe.PPy),Fe}function ae(Xe,ke,n0){var Ie=1<<n0.PPx,Fe=1<<n0.PPy,m0=ke.resLevel===0,ze=1<<n0.PPx+(m0?0:-1),Be=1<<n0.PPy+(m0?0:-1),qe=ke.trx1>ke.trx0?Math.ceil(ke.trx1/Ie)-Math.floor(ke.trx0/Ie):0,De=ke.try1>ke.try0?Math.ceil(ke.try1/Fe)-Math.floor(ke.try0/Fe):0,Ze=qe*De;ke.precinctParameters={precinctWidth:Ie,precinctHeight:Fe,numprecinctswide:qe,numprecinctshigh:De,numprecincts:Ze,precinctWidthInSubband:ze,precinctHeightInSubband:Be}}function le(Xe,ke,n0){var Ie=n0.xcb_,Fe=n0.ycb_,m0=1<<Ie,ze=1<<Fe,Be=ke.tbx0>>Ie,qe=ke.tby0>>Fe,De=ke.tbx1+m0-1>>Ie,Ze=ke.tby1+ze-1>>Fe,je=ke.resolution.precinctParameters,Ge=[],S0=[],$e,e0,J,Le;for(e0=qe;e0<Ze;e0++)for($e=Be;$e<De;$e++){J={cbx:$e,cby:e0,tbx0:m0*$e,tby0:ze*e0,tbx1:m0*($e+1),tby1:ze*(e0+1)},J.tbx0_=Math.max(ke.tbx0,J.tbx0),J.tby0_=Math.max(ke.tby0,J.tby0),J.tbx1_=Math.min(ke.tbx1,J.tbx1),J.tby1_=Math.min(ke.tby1,J.tby1);var Je=Math.floor((J.tbx0_-ke.tbx0)/je.precinctWidthInSubband),Qe=Math.floor((J.tby0_-ke.tby0)/je.precinctHeightInSubband);if(Le=Je+Qe*je.numprecinctswide,J.precinctNumber=Le,J.subbandType=ke.type,J.Lblock=3,!(J.tbx1_<=J.tbx0_||J.tby1_<=J.tby0_)){Ge.push(J);var a0=S0[Le];a0!==void 0?($e<a0.cbxMin?a0.cbxMin=$e:$e>a0.cbxMax&&(a0.cbxMax=$e),e0<a0.cbyMin?a0.cbxMin=e0:e0>a0.cbyMax&&(a0.cbyMax=e0)):S0[Le]=a0={cbxMin:$e,cbyMin:e0,cbxMax:$e,cbyMax:e0},J.precinct=a0}}ke.codeblockParameters={codeblockWidth:Ie,codeblockHeight:Fe,numcodeblockwide:De-Be+1,numcodeblockhigh:Ze-qe+1},ke.codeblocks=Ge,ke.precincts=S0}function he(Xe,ke,n0){for(var Ie=[],Fe=Xe.subbands,m0=0,ze=Fe.length;m0<ze;m0++)for(var Be=Fe[m0],qe=Be.codeblocks,De=0,Ze=qe.length;De<Ze;De++){var je=qe[De];je.precinctNumber===ke&&Ie.push(je)}return{layerNumber:n0,codeblocks:Ie}}function pe(Xe){for(var ke=Xe.SIZ,n0=Xe.currentTile.index,Ie=Xe.tiles[n0],Fe=Ie.codingStyleDefaultParameters.layersCount,m0=ke.Csiz,ze=0,Be=0;Be<m0;Be++)ze=Math.max(ze,Ie.components[Be].codingStyleParameters.decompositionLevelsCount);var qe=0,De=0,Ze=0,je=0;this.nextPacket=function(){for(;qe<Fe;qe++){for(;De<=ze;De++){for(;Ze<m0;Ze++){var S0=Ie.components[Ze];if(!(De>S0.codingStyleParameters.decompositionLevelsCount)){for(var $e=S0.resolutions[De],e0=$e.precinctParameters.numprecincts;je<e0;){var J=he($e,je,qe);return je++,J}je=0}}Ze=0}De=0}}}function Ae(Xe){for(var ke=Xe.SIZ,n0=Xe.currentTile.index,Ie=Xe.tiles[n0],Fe=Ie.codingStyleDefaultParameters.layersCount,m0=ke.Csiz,ze=0,Be=0;Be<m0;Be++)ze=Math.max(ze,Ie.components[Be].codingStyleParameters.decompositionLevelsCount);var qe=0,De=0,Ze=0,je=0;this.nextPacket=function(){for(;qe<=ze;qe++){for(;De<Fe;De++){for(;Ze<m0;Ze++){var S0=Ie.components[Ze];if(!(qe>S0.codingStyleParameters.decompositionLevelsCount)){for(var $e=S0.resolutions[qe],e0=$e.precinctParameters.numprecincts;je<e0;){var J=he($e,je,De);return je++,J}je=0}}Ze=0}De=0}}}function ge(Xe){var ke=Xe.SIZ,n0=Xe.currentTile.index,Ie=Xe.tiles[n0],Fe=Ie.codingStyleDefaultParameters.layersCount,m0=ke.Csiz,ze,Be,qe,De,Ze=0;for(qe=0;qe<m0;qe++){var je=Ie.components[qe];Ze=Math.max(Ze,je.codingStyleParameters.decompositionLevelsCount)}var Ge=new Int32Array(Ze+1);for(Be=0;Be<=Ze;++Be){var S0=0;for(qe=0;qe<m0;++qe){var $e=Ie.components[qe].resolutions;Be<$e.length&&(S0=Math.max(S0,$e[Be].precinctParameters.numprecincts))}Ge[Be]=S0}ze=0,Be=0,qe=0,De=0,this.nextPacket=function(){for(;Be<=Ze;Be++){for(;De<Ge[Be];De++){for(;qe<m0;qe++){var J=Ie.components[qe];if(!(Be>J.codingStyleParameters.decompositionLevelsCount)){var Le=J.resolutions[Be],Je=Le.precinctParameters.numprecincts;if(!(De>=Je)){for(;ze<Fe;){var Qe=he(Le,De,ze);return ze++,Qe}ze=0}}}qe=0}De=0}}}function ye(Xe){var ke=Xe.SIZ,n0=Xe.currentTile.index,Ie=Xe.tiles[n0],Fe=Ie.codingStyleDefaultParameters.layersCount,m0=ke.Csiz,ze=Ve(Ie),Be=ze,qe=0,De=0,Ze=0,je=0,Ge=0;this.nextPacket=function(){for(;Ge<Be.maxNumHigh;Ge++){for(;je<Be.maxNumWide;je++){for(;Ze<m0;Ze++){for(var $e=Ie.components[Ze],e0=$e.codingStyleParameters.decompositionLevelsCount;De<=e0;De++){var J=$e.resolutions[De],Le=ze.components[Ze].resolutions[De],Je=be(je,Ge,Le,Be,J);if(Je!==null){for(;qe<Fe;){var Qe=he(J,Je,qe);return qe++,Qe}qe=0}}De=0}Ze=0}je=0}}}function we(Xe){var ke=Xe.SIZ,n0=Xe.currentTile.index,Ie=Xe.tiles[n0],Fe=Ie.codingStyleDefaultParameters.layersCount,m0=ke.Csiz,ze=Ve(Ie),Be=0,qe=0,De=0,Ze=0,je=0;this.nextPacket=function(){for(;De<m0;++De){for(var S0=Ie.components[De],$e=ze.components[De],e0=S0.codingStyleParameters.decompositionLevelsCount;je<$e.maxNumHigh;je++){for(;Ze<$e.maxNumWide;Ze++){for(;qe<=e0;qe++){var J=S0.resolutions[qe],Le=$e.resolutions[qe],Je=be(Ze,je,Le,$e,J);if(Je!==null){for(;Be<Fe;){var Qe=he(J,Je,Be);return Be++,Qe}Be=0}}qe=0}Ze=0}je=0}}}function be(Xe,ke,n0,Ie,Fe){var m0=Xe*Ie.minWidth,ze=ke*Ie.minHeight;if(m0%n0.width!==0||ze%n0.height!==0)return null;var Be=ze/n0.width*Fe.precinctParameters.numprecinctswide;return m0/n0.height+Be}function Ve(Xe){for(var ke=Xe.components.length,n0=Number.MAX_VALUE,Ie=Number.MAX_VALUE,Fe=0,m0=0,ze=new Array(ke),Be=0;Be<ke;Be++){for(var qe=Xe.components[Be],De=qe.codingStyleParameters.decompositionLevelsCount,Ze=new Array(De+1),je=Number.MAX_VALUE,Ge=Number.MAX_VALUE,S0=0,$e=0,e0=1,J=De;J>=0;--J){var Le=qe.resolutions[J],Je=e0*Le.precinctParameters.precinctWidth,Qe=e0*Le.precinctParameters.precinctHeight;je=Math.min(je,Je),Ge=Math.min(Ge,Qe),S0=Math.max(S0,Le.precinctParameters.numprecinctswide),$e=Math.max($e,Le.precinctParameters.numprecinctshigh),Ze[J]={width:Je,height:Qe},e0<<=1}n0=Math.min(n0,je),Ie=Math.min(Ie,Ge),Fe=Math.max(Fe,S0),m0=Math.max(m0,$e),ze[Be]={resolutions:Ze,minWidth:je,minHeight:Ge,maxNumWide:S0,maxNumHigh:$e}}return{components:ze,minWidth:n0,minHeight:Ie,maxNumWide:Fe,maxNumHigh:m0}}function Ne(Xe){for(var ke=Xe.SIZ,n0=Xe.currentTile.index,Ie=Xe.tiles[n0],Fe=ke.Csiz,m0=0;m0<Fe;m0++){for(var ze=Ie.components[m0],Be=ze.codingStyleParameters.decompositionLevelsCount,qe=[],De=[],Ze=0;Ze<=Be;Ze++){var je=h(Xe,ze,Ze),Ge={},S0=1<<Be-Ze;Ge.trx0=Math.ceil(ze.tcx0/S0),Ge.try0=Math.ceil(ze.tcy0/S0),Ge.trx1=Math.ceil(ze.tcx1/S0),Ge.try1=Math.ceil(ze.tcy1/S0),Ge.resLevel=Ze,ae(Xe,Ge,je),qe.push(Ge);var $e;if(Ze===0)$e={},$e.type="LL",$e.tbx0=Math.ceil(ze.tcx0/S0),$e.tby0=Math.ceil(ze.tcy0/S0),$e.tbx1=Math.ceil(ze.tcx1/S0),$e.tby1=Math.ceil(ze.tcy1/S0),$e.resolution=Ge,le(Xe,$e,je),De.push($e),Ge.subbands=[$e];else{var e0=1<<Be-Ze+1,J=[];$e={},$e.type="HL",$e.tbx0=Math.ceil(ze.tcx0/e0-.5),$e.tby0=Math.ceil(ze.tcy0/e0),$e.tbx1=Math.ceil(ze.tcx1/e0-.5),$e.tby1=Math.ceil(ze.tcy1/e0),$e.resolution=Ge,le(Xe,$e,je),De.push($e),J.push($e),$e={},$e.type="LH",$e.tbx0=Math.ceil(ze.tcx0/e0),$e.tby0=Math.ceil(ze.tcy0/e0-.5),$e.tbx1=Math.ceil(ze.tcx1/e0),$e.tby1=Math.ceil(ze.tcy1/e0-.5),$e.resolution=Ge,le(Xe,$e,je),De.push($e),J.push($e),$e={},$e.type="HH",$e.tbx0=Math.ceil(ze.tcx0/e0-.5),$e.tby0=Math.ceil(ze.tcy0/e0-.5),$e.tbx1=Math.ceil(ze.tcx1/e0-.5),$e.tby1=Math.ceil(ze.tcy1/e0-.5),$e.resolution=Ge,le(Xe,$e,je),De.push($e),J.push($e),Ge.subbands=J}}ze.resolutions=qe,ze.subbands=De}var Le=Ie.codingStyleDefaultParameters.progressionOrder;switch(Le){case 0:Ie.packetsIterator=new pe(Xe);break;case 1:Ie.packetsIterator=new Ae(Xe);break;case 2:Ie.packetsIterator=new ge(Xe);break;case 3:Ie.packetsIterator=new ye(Xe);break;case 4:Ie.packetsIterator=new we(Xe);break;default:throw new Error("JPX Error: Unsupported progression order "+Le)}}function p0(Xe,ke,n0,Ie){var Fe=0,m0,ze=0,Be=!1;function qe(me){for(;ze<me;){if(n0+Fe>=ke.length)throw new Error("Unexpected EOF");var _0=ke[n0+Fe];Fe++,Be?(m0=m0<<7|_0,ze+=7,Be=!1):(m0=m0<<8|_0,ze+=8),_0===255&&(Be=!0)}return ze-=me,m0>>>ze&(1<<me)-1}function De(me){return ke[n0+Fe-1]===255&&ke[n0+Fe]===me?(Ze(1),!0):ke[n0+Fe]===255&&ke[n0+Fe+1]===me?(Ze(2),!0):!1}function Ze(me){Fe+=me}function je(){ze=0,Be&&(Fe++,Be=!1)}function Ge(){if(qe(1)===0)return 1;if(qe(1)===0)return 2;var me=qe(2);return me<3?me+3:(me=qe(5),me<31?me+6:(me=qe(7),me+37))}for(var S0=Xe.currentTile.index,$e=Xe.tiles[S0],e0=Xe.COD.sopMarkerUsed,J=Xe.COD.ephMarkerUsed,Le=$e.packetsIterator;Fe<Ie;)try{je(),e0&&De(145)&&Ze(4);var Je=Le.nextPacket();if(Je===void 0)return;if(!qe(1))continue;for(var Qe=Je.layerNumber,a0=[],c0,Ee=0,He=Je.codeblocks.length;Ee<He;Ee++){c0=Je.codeblocks[Ee];var oe=c0.precinct,de=c0.cbx-oe.cbxMin,P0=c0.cby-oe.cbyMin,ce=!1,F0=!1,Oe;if(c0.included!==void 0)ce=!!qe(1);else{oe=c0.precinct;var W0,t0;if(oe.inclusionTree!==void 0)W0=oe.inclusionTree;else{var o0=oe.cbxMax-oe.cbxMin+1,Tt=oe.cbyMax-oe.cbyMin+1;W0=new Q0(o0,Tt),t0=new O0(o0,Tt),oe.inclusionTree=W0,oe.zeroBitPlanesTree=t0}for(W0.reset(de,P0,Qe);;){if(Fe>=ke.length)return;if(W0.isAboveThreshold())break;if(W0.isKnown()){W0.nextLevel();continue}if(qe(1))if(W0.setKnown(),W0.isLeaf()){c0.included=!0,ce=F0=!0;break}else W0.nextLevel();else W0.incrementValue()}}if(ce){if(F0){for(t0=oe.zeroBitPlanesTree,t0.reset(de,P0);;){if(Fe>=ke.length)return;if(qe(1)){if(Oe=!t0.nextLevel(),Oe)break}else t0.incrementValue()}c0.zeroBitPlanes=t0.value}for(var Ce=Ge();qe(1);)c0.Lblock++;var ie=P(Ce),i0=(Ce<1<<ie?ie-1:ie)+c0.Lblock,ve=qe(i0);a0.push({codeblock:c0,codingpasses:Ce,dataLength:ve})}}for(je(),J&&De(146);a0.length>0;){var Pe=a0.shift();c0=Pe.codeblock,c0.data===void 0&&(c0.data=[]),c0.data.push({data:ke,start:n0+Fe,end:n0+Fe+Pe.dataLength,codingpasses:Pe.codingpasses}),Fe+=Pe.dataLength}}catch{return}return Fe}function k0(Xe,ke,n0,Ie,Fe,m0,ze,Be){for(var qe=Ie.tbx0,De=Ie.tby0,Ze=Ie.tbx1-Ie.tbx0,je=Ie.codeblocks,Ge=Ie.type.charAt(0)==="H"?1:0,S0=Ie.type.charAt(1)==="H"?ke:0,$e=0,e0=je.length;$e<e0;++$e){var J=je[$e],Le=J.tbx1_-J.tbx0_,Je=J.tby1_-J.tby0_;if(!(Le===0||Je===0)&&J.data!==void 0){var Qe,a0;Qe=new tt(Le,Je,J.subbandType,J.zeroBitPlanes,m0),a0=2;var c0=J.data,Ee=0,He=0,oe,de,P0;for(oe=0,de=c0.length;oe<de;oe++)P0=c0[oe],Ee+=P0.end-P0.start,He+=P0.codingpasses;var ce=new Int16Array(Ee),F0=0;for(oe=0,de=c0.length;oe<de;oe++){P0=c0[oe];var Oe=P0.data.subarray(P0.start,P0.end);ce.set(Oe,F0),F0+=Oe.length}var W0=new u(ce,0,Ee);for(Qe.setDecoder(W0),oe=0;oe<He;oe++){switch(a0){case 0:Qe.runSignificancePropogationPass();break;case 1:Qe.runMagnitudeRefinementPass();break;case 2:Qe.runCleanupPass(),Be&&Qe.checkSegmentationSymbol();break}a0=(a0+1)%3}var t0=J.tbx0_-qe+(J.tby0_-De)*Ze,o0=Qe.coefficentsSign,Tt=Qe.coefficentsMagnitude,Ce=Qe.bitsDecoded,ie=ze?0:.5,i0,ve,Pe;F0=0;var me=Ie.type!=="LL";for(oe=0;oe<Je;oe++){var _0=t0/Ze|0,H0=2*_0*(ke-Ze)+Ge+S0;for(i0=0;i0<Le;i0++){if(ve=Tt[F0],ve!==0){ve=(ve+ie)*Fe,o0[F0]!==0&&(ve=-ve),Pe=Ce[F0];var N0=me?H0+(t0<<1):t0;ze&&Pe>=m0?Xe[N0]=ve:Xe[N0]=ve*(1<<m0-Pe)}t0++,F0++}t0+=Ze-Le}}}}function Ue(Xe,ke,n0){for(var Ie=ke.components[n0],Fe=Ie.codingStyleParameters,m0=Ie.quantizationParameters,ze=Fe.decompositionLevelsCount,Be=m0.SPqcds,qe=m0.scalarExpounded,De=m0.guardBits,Ze=Fe.segmentationSymbolUsed,je=Xe.components[n0].precision,Ge=Fe.reversibleTransformation,S0=Ge?new q0:new U0,$e=[],e0=0,J=0;J<=ze;J++){for(var Le=Ie.resolutions[J],Je=Le.trx1-Le.trx0,Qe=Le.try1-Le.try0,a0=new Float32Array(Je*Qe),c0=0,Ee=Le.subbands.length;c0<Ee;c0++){var He,oe;qe?(He=Be[e0].mu,oe=Be[e0].epsilon,e0++):(He=Be[0].mu,oe=Be[0].epsilon+(J>0?1-J:0));var de=Le.subbands[c0],P0=G[de.type],ce=Ge?1:Math.pow(2,je+P0-oe)*(1+He/2048),F0=De+oe-1;k0(a0,Je,Qe,de,ce,F0,Ge,Ze)}$e.push({width:Je,height:Qe,items:a0})}var Oe=S0.calculate($e,Ie.tcx0,Ie.tcy0);return{left:Ie.tcx0,top:Ie.tcy0,width:Oe.width,height:Oe.height,items:Oe.items}}function xe(Xe){for(var ke=Xe.SIZ,n0=Xe.components,Ie=ke.Csiz,Fe=[],m0=0,ze=Xe.tiles.length;m0<ze;m0++){var Be=Xe.tiles[m0],qe=[],De;for(De=0;De<Ie;De++)qe[De]=Ue(Xe,Be,De);var Ze=qe[0],je=n0[0].isSigned;if(je)var Ge=new Int16Array(Ze.items.length*Ie);else var Ge=new Uint16Array(Ze.items.length*Ie);var S0={left:Ze.left,top:Ze.top,width:Ze.width,height:Ze.height,items:Ge},$e,e0,J,Le,Je,Qe=0,a0,c0,Ee,He,oe,de,P0,ce,F0,Oe;if(Be.codingStyleDefaultParameters.multipleComponentTransform){var W0=Ie===4,t0=qe[0].items,o0=qe[1].items,Tt=qe[2].items,Ce=W0?qe[3].items:null;$e=n0[0].precision-8,e0=(128<<$e)+.5,J=255*(1<<$e),Je=J*.5,Le=-Je;var ie=Be.components[0],i0=Ie-3;if(c0=t0.length,ie.codingStyleParameters.reversibleTransformation)for(a0=0;a0<c0;a0++,Qe+=i0)Ee=t0[a0]+e0,He=o0[a0],oe=Tt[a0],P0=Ee-(oe+He>>2),de=P0+oe,ce=P0+He,Ge[Qe++]=de<=0?0:de>=J?255:de>>$e,Ge[Qe++]=P0<=0?0:P0>=J?255:P0>>$e,Ge[Qe++]=ce<=0?0:ce>=J?255:ce>>$e;else for(a0=0;a0<c0;a0++,Qe+=i0)Ee=t0[a0]+e0,He=o0[a0],oe=Tt[a0],de=Ee+1.402*oe,P0=Ee-.34413*He-.71414*oe,ce=Ee+1.772*He,Ge[Qe++]=de<=0?0:de>=J?255:de>>$e,Ge[Qe++]=P0<=0?0:P0>=J?255:P0>>$e,Ge[Qe++]=ce<=0?0:ce>=J?255:ce>>$e;if(W0)for(a0=0,Qe=3;a0<c0;a0++,Qe+=4)F0=Ce[a0],Ge[Qe]=F0<=Le?0:F0>=Je?255:F0+e0>>$e}else for(De=0;De<Ie;De++)if(n0[De].precision===8){var ve=qe[De].items;for($e=n0[De].precision-8,e0=(128<<$e)+.5,J=127.5*(1<<$e),Le=-J,Qe=De,a0=0,c0=ve.length;a0<c0;a0++)Oe=ve[a0],Ge[Qe]=Oe<=Le?0:Oe>=J?255:Oe+e0>>$e,Qe+=Ie}else{var je=n0[De].isSigned,ve=qe[De].items;if(je)for(Qe=De,a0=0,c0=ve.length;a0<c0;a0++)Ge[Qe]=ve[a0],Qe+=Ie;else{$e=n0[De].precision-8,e0=(128<<$e)+.5;var Pe=Math.pow(2,n0[De].precision)-1;for(Qe=De,a0=0,c0=ve.length;a0<c0;a0++)Oe=ve[a0],Ge[Qe]=Math.max(Math.min(Oe+e0,Pe),0),Qe+=Ie}}Fe.push(S0)}return Fe}function I0(Xe,ke){for(var n0=Xe.SIZ,Ie=n0.Csiz,Fe=Xe.tiles[ke],m0=0;m0<Ie;m0++){var ze=Fe.components[m0],Be=Xe.currentTile.QCC[m0]!==void 0?Xe.currentTile.QCC[m0]:Xe.currentTile.QCD;ze.quantizationParameters=Be;var qe=Xe.currentTile.COC[m0]!==void 0?Xe.currentTile.COC[m0]:Xe.currentTile.COD;ze.codingStyleParameters=qe}Fe.codingStyleDefaultParameters=Xe.currentTile.COD}var O0=function(){function ke(n0,Ie){var Fe=P(Math.max(n0,Ie))+1;this.levels=[];for(var m0=0;m0<Fe;m0++){var ze={width:n0,height:Ie,items:[]};this.levels.push(ze),n0=Math.ceil(n0/2),Ie=Math.ceil(Ie/2)}}return ke.prototype={reset:function(Ie,Fe){for(var m0=0,ze=0,Be;m0<this.levels.length;){Be=this.levels[m0];var qe=Ie+Fe*Be.width;if(Be.items[qe]!==void 0){ze=Be.items[qe];break}Be.index=qe,Ie>>=1,Fe>>=1,m0++}m0--,Be=this.levels[m0],Be.items[Be.index]=ze,this.currentLevel=m0,delete this.value},incrementValue:function(){var Ie=this.levels[this.currentLevel];Ie.items[Ie.index]++},nextLevel:function(){var Ie=this.currentLevel,Fe=this.levels[Ie],m0=Fe.items[Fe.index];return Ie--,Ie<0?(this.value=m0,!1):(this.currentLevel=Ie,Fe=this.levels[Ie],Fe.items[Fe.index]=m0,!0)}},ke}(),Q0=function(){function ke(n0,Ie){var Fe=P(Math.max(n0,Ie))+1;this.levels=[];for(var m0=0;m0<Fe;m0++){for(var ze=new Uint8Array(n0*Ie),Be=new Uint8Array(n0*Ie),qe=0,De=ze.length;qe<De;qe++)ze[qe]=0,Be[qe]=0;var Ze={width:n0,height:Ie,items:ze,status:Be};this.levels.push(Ze),n0=Math.ceil(n0/2),Ie=Math.ceil(Ie/2)}}return ke.prototype={reset:function(Ie,Fe,m0){this.currentStopValue=m0;for(var ze=0;ze<this.levels.length;){var Be=this.levels[ze],qe=Ie+Fe*Be.width;Be.index=qe,Ie>>=1,Fe>>=1,ze++}this.currentLevel=this.levels.length-1,this.minValue=this.levels[this.currentLevel].items[0]},incrementValue:function(){var Ie=this.levels[this.currentLevel];Ie.items[Ie.index]=Ie.items[Ie.index]+1,Ie.items[Ie.index]>this.minValue&&(this.minValue=Ie.items[Ie.index])},nextLevel:function(){var Ie=this.currentLevel;if(Ie--,Ie<0)return!1;this.currentLevel=Ie;var Fe=this.levels[Ie];return Fe.items[Fe.index]<this.minValue?Fe.items[Fe.index]=this.minValue:Fe.items[Fe.index]>this.minValue&&(this.minValue=Fe.items[Fe.index]),!0},isLeaf:function(){return this.currentLevel===0},isAboveThreshold:function(){var Ie=this.currentLevel,Fe=this.levels[Ie];return Fe.items[Fe.index]>this.currentStopValue},isKnown:function(){var Ie=this.currentLevel,Fe=this.levels[Ie];return Fe.status[Fe.index]>0},setKnown:function(){var Ie=this.currentLevel,Fe=this.levels[Ie];Fe.status[Fe.index]=1}},ke}(),tt=function(){var ke=17,n0=18,Ie=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),Fe=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),m0=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);function ze(Be,qe,De,Ze,je){this.width=Be,this.height=qe,this.contextLabelTable=De==="HH"?m0:De==="HL"?Fe:Ie;var Ge=Be*qe;this.neighborsSignificance=new Uint8Array(Ge),this.coefficentsSign=new Uint8Array(Ge),this.coefficentsMagnitude=je>14?new Uint32Array(Ge):je>6?new Uint16Array(Ge):new Uint8Array(Ge),this.processingFlags=new Uint8Array(Ge);var S0=new Uint8Array(Ge);if(Ze!==0)for(var $e=0;$e<Ge;$e++)S0[$e]=Ze;this.bitsDecoded=S0,this.reset()}return ze.prototype={setDecoder:function(qe){this.decoder=qe},reset:function(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[ke]=92,this.contexts[n0]=6},setNeighborsSignificance:function(qe,De,Ze){var je=this.neighborsSignificance,Ge=this.width,S0=this.height,$e=De>0,e0=De+1<Ge,J;qe>0&&(J=Ze-Ge,$e&&(je[J-1]+=16),e0&&(je[J+1]+=16),je[J]+=4),qe+1<S0&&(J=Ze+Ge,$e&&(je[J-1]+=16),e0&&(je[J+1]+=16),je[J]+=4),$e&&(je[Ze-1]+=1),e0&&(je[Ze+1]+=1),je[Ze]|=128},runSignificancePropogationPass:function(){for(var qe=this.decoder,De=this.width,Ze=this.height,je=this.coefficentsMagnitude,Ge=this.coefficentsSign,S0=this.neighborsSignificance,$e=this.processingFlags,e0=this.contexts,J=this.contextLabelTable,Le=this.bitsDecoded,Je=-2,Qe=1,a0=2,c0=0;c0<Ze;c0+=4)for(var Ee=0;Ee<De;Ee++)for(var He=c0*De+Ee,oe=0;oe<4;oe++,He+=De){var de=c0+oe;if(de>=Ze)break;if($e[He]&=Je,!(je[He]||!S0[He])){var P0=J[S0[He]],ce=qe.readBit(e0,P0);if(ce){var F0=this.decodeSignBit(de,Ee,He);Ge[He]=F0,je[He]=1,this.setNeighborsSignificance(de,Ee,He),$e[He]|=a0}Le[He]++,$e[He]|=Qe}}},decodeSignBit:function(qe,De,Ze){var je=this.width,Ge=this.height,S0=this.coefficentsMagnitude,$e=this.coefficentsSign,e0,J,Le,Je,Qe,a0;Je=De>0&&S0[Ze-1]!==0,De+1<je&&S0[Ze+1]!==0?(Le=$e[Ze+1],Je?(J=$e[Ze-1],e0=1-Le-J):e0=1-Le-Le):Je?(J=$e[Ze-1],e0=1-J-J):e0=0;var c0=3*e0;return Je=qe>0&&S0[Ze-je]!==0,qe+1<Ge&&S0[Ze+je]!==0?(Le=$e[Ze+je],Je?(J=$e[Ze-je],e0=1-Le-J+c0):e0=1-Le-Le+c0):Je?(J=$e[Ze-je],e0=1-J-J+c0):e0=c0,e0>=0?(Qe=9+e0,a0=this.decoder.readBit(this.contexts,Qe)):(Qe=9-e0,a0=this.decoder.readBit(this.contexts,Qe)^1),a0},runMagnitudeRefinementPass:function(){for(var qe=this.decoder,De=this.width,Ze=this.height,je=this.coefficentsMagnitude,Ge=this.neighborsSignificance,S0=this.contexts,$e=this.bitsDecoded,e0=this.processingFlags,J=1,Le=2,Je=De*Ze,Qe=De*4,a0=0,c0;a0<Je;a0=c0){c0=Math.min(Je,a0+Qe);for(var Ee=0;Ee<De;Ee++)for(var He=a0+Ee;He<c0;He+=De)if(!(!je[He]||e0[He]&J)){var oe=16;if(e0[He]&Le){e0[He]^=Le;var de=Ge[He]&127;oe=de===0?15:14}var P0=qe.readBit(S0,oe);je[He]=je[He]<<1|P0,$e[He]++,e0[He]|=J}}},runCleanupPass:function(){for(var qe=this.decoder,De=this.width,Ze=this.height,je=this.neighborsSignificance,Ge=this.coefficentsMagnitude,S0=this.coefficentsSign,$e=this.contexts,e0=this.contextLabelTable,J=this.bitsDecoded,Le=this.processingFlags,Je=1,Qe=2,a0=De,c0=De*2,Ee=De*3,He,oe=0;oe<Ze;oe=He){He=Math.min(oe+4,Ze);for(var de=oe*De,P0=oe+3<Ze,ce=0;ce<De;ce++){var F0=de+ce,Oe=P0&&Le[F0]===0&&Le[F0+a0]===0&&Le[F0+c0]===0&&Le[F0+Ee]===0&&je[F0]===0&&je[F0+a0]===0&&je[F0+c0]===0&&je[F0+Ee]===0,W0=0,t0=F0,o0=oe,Tt;if(Oe){var Ce=qe.readBit($e,n0);if(!Ce){J[F0]++,J[F0+a0]++,J[F0+c0]++,J[F0+Ee]++;continue}W0=qe.readBit($e,ke)<<1|qe.readBit($e,ke),W0!==0&&(o0=oe+W0,t0+=W0*De),Tt=this.decodeSignBit(o0,ce,t0),S0[t0]=Tt,Ge[t0]=1,this.setNeighborsSignificance(o0,ce,t0),Le[t0]|=Qe,t0=F0;for(var ie=oe;ie<=o0;ie++,t0+=De)J[t0]++;W0++}for(o0=oe+W0;o0<He;o0++,t0+=De)if(!(Ge[t0]||Le[t0]&Je)){var i0=e0[je[t0]],ve=qe.readBit($e,i0);ve===1&&(Tt=this.decodeSignBit(o0,ce,t0),S0[t0]=Tt,Ge[t0]=1,this.setNeighborsSignificance(o0,ce,t0),Le[t0]|=Qe),J[t0]++}}}},checkSegmentationSymbol:function(){var qe=this.decoder,De=this.contexts,Ze=qe.readBit(De,ke)<<3|qe.readBit(De,ke)<<2|qe.readBit(De,ke)<<1|qe.readBit(De,ke);if(Ze!==10)throw new Error("JPX Error: Invalid segmentation symbol")}},ze}(),it=function(){function ke(){}return ke.prototype.calculate=function(Ie,Fe,m0){for(var ze=Ie[0],Be=1,qe=Ie.length;Be<qe;Be++)ze=this.iterate(ze,Ie[Be],Fe,m0);return ze},ke.prototype.extend=function(Ie,Fe,m0){var ze=Fe-1,Be=Fe+1,qe=Fe+m0-2,De=Fe+m0;Ie[ze--]=Ie[Be++],Ie[De++]=Ie[qe--],Ie[ze--]=Ie[Be++],Ie[De++]=Ie[qe--],Ie[ze--]=Ie[Be++],Ie[De++]=Ie[qe--],Ie[ze]=Ie[Be],Ie[De]=Ie[qe]},ke.prototype.iterate=function(Ie,Fe,m0,ze){var Be=Ie.width,qe=Ie.height,De=Ie.items,Ze=Fe.width,je=Fe.height,Ge=Fe.items,S0,$e,e0,J,Le,Je;for(e0=0,S0=0;S0<qe;S0++)for(J=S0*2*Ze,$e=0;$e<Be;$e++,e0++,J+=2)Ge[J]=De[e0];De=Ie.items=null;var Qe=4,a0=new Float32Array(Ze+2*Qe);if(Ze===1){if(m0&1)for(Je=0,e0=0;Je<je;Je++,e0+=Ze)Ge[e0]*=.5}else for(Je=0,e0=0;Je<je;Je++,e0+=Ze)a0.set(Ge.subarray(e0,e0+Ze),Qe),this.extend(a0,Qe,Ze),this.filter(a0,Qe,Ze),Ge.set(a0.subarray(Qe,Qe+Ze),e0);var c0=16,Ee=[];for(S0=0;S0<c0;S0++)Ee.push(new Float32Array(je+2*Qe));var He,oe=0;if(Ie=Qe+je,je===1){if(ze&1)for(Le=0;Le<Ze;Le++)Ge[Le]*=.5}else for(Le=0;Le<Ze;Le++){if(oe===0){for(c0=Math.min(Ze-Le,c0),e0=Le,J=Qe;J<Ie;e0+=Ze,J++)for(He=0;He<c0;He++)Ee[He][J]=Ge[e0+He];oe=c0}oe--;var de=Ee[oe];if(this.extend(de,Qe,je),this.filter(de,Qe,je),oe===0)for(e0=Le-c0+1,J=Qe;J<Ie;e0+=Ze,J++)for(He=0;He<c0;He++)Ge[e0+He]=Ee[He][J]}return{width:Ze,height:je,items:Ge}},ke}(),U0=function(){function ke(){it.call(this)}return ke.prototype=Object.create(it.prototype),ke.prototype.filter=function(Ie,Fe,m0){var ze=m0>>1;Fe=Fe|0;var Be,qe,De,Ze,je=-1.586134342059924,Ge=-.052980118572961,S0=.882911075530934,$e=.443506852043971,e0=1.230174104914001,J=1/e0;for(Be=Fe-3,qe=ze+4;qe--;Be+=2)Ie[Be]*=J;for(Be=Fe-2,De=$e*Ie[Be-1],qe=ze+3;qe--&&(Ze=$e*Ie[Be+1],Ie[Be]=e0*Ie[Be]-De-Ze,qe--);Be+=2)Be+=2,De=$e*Ie[Be+1],Ie[Be]=e0*Ie[Be]-De-Ze;for(Be=Fe-1,De=S0*Ie[Be-1],qe=ze+2;qe--&&(Ze=S0*Ie[Be+1],Ie[Be]-=De+Ze,qe--);Be+=2)Be+=2,De=S0*Ie[Be+1],Ie[Be]-=De+Ze;for(Be=Fe,De=Ge*Ie[Be-1],qe=ze+1;qe--&&(Ze=Ge*Ie[Be+1],Ie[Be]-=De+Ze,qe--);Be+=2)Be+=2,De=Ge*Ie[Be+1],Ie[Be]-=De+Ze;if(ze!==0)for(Be=Fe+1,De=je*Ie[Be-1],qe=ze;qe--&&(Ze=je*Ie[Be+1],Ie[Be]-=De+Ze,qe--);Be+=2)Be+=2,De=je*Ie[Be+1],Ie[Be]-=De+Ze},ke}(),q0=function(){function ke(){it.call(this)}return ke.prototype=Object.create(it.prototype),ke.prototype.filter=function(Ie,Fe,m0){var ze=m0>>1;Fe=Fe|0;var Be,qe;for(Be=Fe,qe=ze+1;qe--;Be+=2)Ie[Be]-=Ie[Be-1]+Ie[Be+1]+2>>2;for(Be=Fe+1,qe=ze;qe--;Be+=2)Ie[Be]+=Ie[Be-1]+Ie[Be+1]>>1},ke}();return Y}(),u=function(){var G=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];function Y(X,j,h){this.data=X,this.bp=j,this.dataEnd=h,this.chigh=X[j],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}return Y.prototype={byteIn:function(){var j=this.data,h=this.bp;if(j[h]===255){var ae=j[h+1];ae>143?(this.clow+=65280,this.ct=8):(h++,this.clow+=j[h]<<9,this.ct=7,this.bp=h)}else h++,this.clow+=h<this.dataEnd?j[h]<<8:65280,this.ct=8,this.bp=h;this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)},readBit:function(j,h){var ae=j[h]>>1,le=j[h]&1,he=G[ae],pe=he.qe,Ae,ge=this.a-pe;if(this.chigh<pe)ge<pe?(ge=pe,Ae=le,ae=he.nmps):(ge=pe,Ae=1^le,he.switchFlag===1&&(le=Ae),ae=he.nlps);else{if(this.chigh-=pe,ge&32768)return this.a=ge,le;ge<pe?(Ae=1^le,he.switchFlag===1&&(le=Ae),ae=he.nlps):(Ae=le,ae=he.nmps)}do this.ct===0&&this.byteIn(),ge<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(!(ge&32768));return this.a=ge,j[h]=ae<<1|le,Ae}},Y}(),p=typeof window>"u"?commonjsGlobal:window;p.PDFJS||(p.PDFJS={});var v=v||{};v.VERBOSITY_LEVELS={errors:0,warnings:1,infos:5},v.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};function d(H){v.verbosity>=v.VERBOSITY_LEVELS.infos&&console.log("Info: "+H)}function g(H){v.verbosity>=v.VERBOSITY_LEVELS.warnings&&console.log("Warning: "+H)}v.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},v.UnsupportedManager=function(){var G=[];return{listen:function(Y){G.push(Y)},notify:function(Y){g('Unsupported feature "'+Y+'"');for(var X=0,j=G.length;X<j;X++)G[X](Y)}}}();function _(H,G){if(!H)return!1;var Y=/^[a-z][a-z0-9+\-.]*(?=:)/i.exec(H);if(!Y)return G;switch(Y=Y[0].toLowerCase(),Y){case"http":case"https":case"ftp":case"mailto":case"tel":return!0;default:return!1}}v.isValidUrl=_;function C(H,G,Y){return Object.defineProperty(H,G,{value:Y,enumerable:!0,configurable:!0,writable:!1}),Y}v.shadow=C,v.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var E=function(){function G(Y,X){this.name="PasswordException",this.message=Y,this.code=X}return G.prototype=new Error,G.constructor=G,G}();v.PasswordException=E;var w=function(){function G(Y,X){this.name="UnknownErrorException",this.message=Y,this.details=X}return G.prototype=new Error,G.constructor=G,G}();v.UnknownErrorException=w;var m=function(){function G(Y){this.name="InvalidPDFException",this.message=Y}return G.prototype=new Error,G.constructor=G,G}();v.InvalidPDFException=m;var y=function(){function G(Y){this.name="MissingPDFException",this.message=Y}return G.prototype=new Error,G.constructor=G,G}();v.MissingPDFException=y;var e=function(){function G(Y,X){this.name="UnexpectedResponseException",this.message=Y,this.status=X}return G.prototype=new Error,G.constructor=G,G}();v.UnexpectedResponseException=e,function(){function G(Y){this.message=Y}return G.prototype=new Error,G.prototype.name="NotImplementedException",G.constructor=G,G}(),function(){function G(Y,X){this.begin=Y,this.end=X,this.message="Missing data ["+Y+", "+X+")"}return G.prototype=new Error,G.prototype.name="MissingDataException",G.constructor=G,G}(),function(){function G(Y){this.message=Y}return G.prototype=new Error,G.prototype.name="XRefParseException",G.constructor=G,G}();function P(H){for(var G=1,Y=0;H>G;)G<<=1,Y++;return Y}function O(H,G){return H[G]<<8|H[G+1]}function U(H,G){return(H[G]<<24|H[G+1]<<16|H[G+2]<<8|H[G+3])>>>0}function W(){var H=new Uint8Array(2);H[0]=1;var G=new Uint16Array(H.buffer);return G[0]===1}Object.defineProperty(v,"isLittleEndian",{configurable:!0,get:function(){return C(v,"isLittleEndian",W())}});function V(){var H=document.createElement("canvas");H.width=H.height=1;var G=H.getContext("2d"),Y=G.createImageData(1,1);return typeof Y.data.buffer<"u"}Object.defineProperty(v,"hasCanvasTypedArrays",{configurable:!0,get:function(){return C(v,"hasCanvasTypedArrays",V())}});var $=v.Util=function(){function G(){}var Y=["rgb(",0,",",0,",",0,")"];return G.makeCssRgb=function(j,h,ae){return Y[1]=j,Y[3]=h,Y[5]=ae,Y.join("")},G.transform=function(j,h){return[j[0]*h[0]+j[2]*h[1],j[1]*h[0]+j[3]*h[1],j[0]*h[2]+j[2]*h[3],j[1]*h[2]+j[3]*h[3],j[0]*h[4]+j[2]*h[5]+j[4],j[1]*h[4]+j[3]*h[5]+j[5]]},G.applyTransform=function(j,h){var ae=j[0]*h[0]+j[1]*h[2]+h[4],le=j[0]*h[1]+j[1]*h[3]+h[5];return[ae,le]},G.applyInverseTransform=function(j,h){var ae=h[0]*h[3]-h[1]*h[2],le=(j[0]*h[3]-j[1]*h[2]+h[2]*h[5]-h[4]*h[3])/ae,he=(-j[0]*h[1]+j[1]*h[0]+h[4]*h[1]-h[5]*h[0])/ae;return[le,he]},G.getAxialAlignedBoundingBox=function(j,h){var ae=G.applyTransform(j,h),le=G.applyTransform(j.slice(2,4),h),he=G.applyTransform([j[0],j[3]],h),pe=G.applyTransform([j[2],j[1]],h);return[Math.min(ae[0],le[0],he[0],pe[0]),Math.min(ae[1],le[1],he[1],pe[1]),Math.max(ae[0],le[0],he[0],pe[0]),Math.max(ae[1],le[1],he[1],pe[1])]},G.inverseTransform=function(j){var h=j[0]*j[3]-j[1]*j[2];return[j[3]/h,-j[1]/h,-j[2]/h,j[0]/h,(j[2]*j[5]-j[4]*j[3])/h,(j[4]*j[1]-j[5]*j[0])/h]},G.apply3dTransform=function(j,h){return[j[0]*h[0]+j[1]*h[1]+j[2]*h[2],j[3]*h[0]+j[4]*h[1]+j[5]*h[2],j[6]*h[0]+j[7]*h[1]+j[8]*h[2]]},G.singularValueDecompose2dScale=function(j){var h=[j[0],j[2],j[1],j[3]],ae=j[0]*h[0]+j[1]*h[2],le=j[0]*h[1]+j[1]*h[3],he=j[2]*h[0]+j[3]*h[2],pe=j[2]*h[1]+j[3]*h[3],Ae=(ae+pe)/2,ge=Math.sqrt((ae+pe)*(ae+pe)-4*(ae*pe-he*le))/2,ye=Ae+ge||1,we=Ae-ge||1;return[Math.sqrt(ye),Math.sqrt(we)]},G.normalizeRect=function(j){var h=j.slice(0);return j[0]>j[2]&&(h[0]=j[2],h[2]=j[0]),j[1]>j[3]&&(h[1]=j[3],h[3]=j[1]),h},G.intersect=function(j,h){function ae(Ae,ge){return Ae-ge}var le=[j[0],j[2],h[0],h[2]].sort(ae),he=[j[1],j[3],h[1],h[3]].sort(ae),pe=[];if(j=G.normalizeRect(j),h=G.normalizeRect(h),le[0]===j[0]&&le[1]===h[0]||le[0]===h[0]&&le[1]===j[0])pe[0]=le[1],pe[2]=le[2];else return!1;if(he[0]===j[1]&&he[1]===h[1]||he[0]===h[1]&&he[1]===j[1])pe[1]=he[1],pe[3]=he[2];else return!1;return pe},G.sign=function(j){return j<0?-1:1},G.appendToArray=function(j,h){Array.prototype.push.apply(j,h)},G.prependToArray=function(j,h){Array.prototype.unshift.apply(j,h)},G.extendObj=function(j,h){for(var ae in h)j[ae]=h[ae]},G.getInheritableProperty=function(j,h){for(;j&&!j.has(h);)j=j.get("Parent");return j?j.get(h):null},G.inherit=function(j,h,ae){j.prototype=Object.create(h.prototype),j.prototype.constructor=j;for(var le in ae)j.prototype[le]=ae[le]},G.loadScript=function(j,h){var ae=document.createElement("script"),le=!1;ae.setAttribute("src",j),h&&(ae.onload=function(){le||h(),le=!0}),document.getElementsByTagName("head")[0].appendChild(ae)},G}();v.PageViewport=function(){function G(Y,X,j,h,ae,le){this.viewBox=Y,this.scale=X,this.rotation=j,this.offsetX=h,this.offsetY=ae;var he=(Y[2]+Y[0])/2,pe=(Y[3]+Y[1])/2,Ae,ge,ye,we;switch(j=j%360,j=j<0?j+360:j,j){case 180:Ae=-1,ge=0,ye=0,we=1;break;case 90:Ae=0,ge=1,ye=1,we=0;break;case 270:Ae=0,ge=-1,ye=-1,we=0;break;default:Ae=1,ge=0,ye=0,we=-1;break}le&&(ye=-ye,we=-we);var be,Ve,Ne,p0;Ae===0?(be=Math.abs(pe-Y[1])*X+h,Ve=Math.abs(he-Y[0])*X+ae,Ne=Math.abs(Y[3]-Y[1])*X,p0=Math.abs(Y[2]-Y[0])*X):(be=Math.abs(he-Y[0])*X+h,Ve=Math.abs(pe-Y[1])*X+ae,Ne=Math.abs(Y[2]-Y[0])*X,p0=Math.abs(Y[3]-Y[1])*X),this.transform=[Ae*X,ge*X,ye*X,we*X,be-Ae*X*he-ye*X*pe,Ve-ge*X*he-we*X*pe],this.width=Ne,this.height=p0,this.fontScale=X}return G.prototype={clone:function(X){X=X||{};var j="scale"in X?X.scale:this.scale,h="rotation"in X?X.rotation:this.rotation;return new G(this.viewBox.slice(),j,h,this.offsetX,this.offsetY,X.dontFlip)},convertToViewportPoint:function(X,j){return $.applyTransform([X,j],this.transform)},convertToViewportRectangle:function(X){var j=$.applyTransform([X[0],X[1]],this.transform),h=$.applyTransform([X[2],X[3]],this.transform);return[j[0],j[1],h[0],h[1]]},convertToPdfPoint:function(X,j){return $.applyInverseTransform([X,j],this.transform)}},G}();function b(){var H={};return H.promise=new Promise(function(G,Y){H.resolve=G,H.reject=Y}),H}v.createPromiseCapability=b,function(){if(p.Promise){typeof p.Promise.all!="function"&&(p.Promise.all=function(le){var he=0,pe=[],Ae,ge,ye=new p.Promise(function(we,be){Ae=we,ge=be});return le.forEach(function(we,be){he++,we.then(function(Ve){pe[be]=Ve,he--,he===0&&Ae(pe)},ge)}),he===0&&Ae(pe),ye}),typeof p.Promise.resolve!="function"&&(p.Promise.resolve=function(le){return new p.Promise(function(he){he(le)})}),typeof p.Promise.reject!="function"&&(p.Promise.reject=function(le){return new p.Promise(function(he,pe){pe(le)})}),typeof p.Promise.prototype.catch2!="function"&&(p.Promise.prototype.catch2=function(le){return p.Promise.prototype.then(void 0,le)});return}var G=0,Y=1,X=2,j=500,h={handlers:[],running:!1,unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function(he){he._status!==G&&(this.handlers=this.handlers.concat(he._handlers),he._handlers=[],!this.running&&(this.running=!0,setTimeout(this.runHandlers.bind(this),0)))},runHandlers:function(){for(var he=1,pe=Date.now()+he;this.handlers.length>0;){var Ae=this.handlers.shift(),ge=Ae.thisPromise._status,ye=Ae.thisPromise._value;try{ge===Y?typeof Ae.onResolve=="function"&&(ye=Ae.onResolve(ye)):typeof Ae.onReject=="function"&&(ye=Ae.onReject(ye),ge=Y,Ae.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(Ae.thisPromise))}catch(we){ge=X,ye=we}if(Ae.nextPromise._updateStatus(ge,ye),Date.now()>=pe)break}if(this.handlers.length>0){setTimeout(this.runHandlers.bind(this),0);return}this.running=!1},addUnhandledRejection:function(he){this.unhandledRejections.push({promise:he,time:Date.now()}),this.scheduleRejectionCheck()},removeUnhandeledRejection:function(he){he._unhandledRejection=!1;for(var pe=0;pe<this.unhandledRejections.length;pe++)this.unhandledRejections[pe].promise===he&&(this.unhandledRejections.splice(pe),pe--)},scheduleRejectionCheck:function(){this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout((function(){this.pendingRejectionCheck=!1;for(var pe=Date.now(),Ae=0;Ae<this.unhandledRejections.length;Ae++)if(pe-this.unhandledRejections[Ae].time>j){var ge=this.unhandledRejections[Ae].promise._value,ye="Unhandled rejection: "+ge;ge.stack&&(ye+=`
`+ge.stack),g(ye),this.unhandledRejections.splice(Ae),Ae--}this.unhandledRejections.length&&this.scheduleRejectionCheck()}).bind(this),j))}};function ae(le){this._status=G,this._handlers=[];try{le.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(he){this._reject(he)}}ae.all=function(he){var pe,Ae,ge=new ae(function(Ue,xe){pe=Ue,Ae=xe}),ye=he.length,we=[];if(ye===0)return pe(we),ge;function be(Ue){ge._status!==X&&(we=[],Ae(Ue))}for(var Ve=0,Ne=he.length;Ve<Ne;++Ve){var p0=he[Ve],k0=function(Ue){return function(xe){ge._status!==X&&(we[Ue]=xe,ye--,ye===0&&pe(we))}}(Ve);ae.isPromise(p0)?p0.then(k0,be):k0(p0)}return ge},ae.isPromise=function(he){return he&&typeof he.then=="function"},ae.resolve=function(he){return new ae(function(pe){pe(he)})},ae.reject=function(he){return new ae(function(pe,Ae){Ae(he)})},ae.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function(he,pe){if(!(this._status===Y||this._status===X)){if(he===Y&&ae.isPromise(pe)){pe.then(this._updateStatus.bind(this,Y),this._updateStatus.bind(this,X));return}this._status=he,this._value=pe,he===X&&this._handlers.length===0&&(this._unhandledRejection=!0,h.addUnhandledRejection(this)),h.scheduleHandlers(this)}},_resolve:function(he){this._updateStatus(Y,he)},_reject:function(he){this._updateStatus(X,he)},then:function(he,pe){var Ae=new ae(function(ge,ye){this.resolve=ge,this.reject=ye});return this._handlers.push({thisPromise:this,onResolve:he,onReject:pe,nextPromise:Ae}),h.scheduleHandlers(this),Ae},catch2:function(he){return this.then(void 0,he)}},p.Promise=ae}(),v.createBlob=function(G,Y){if(typeof Blob<"u")return new Blob([G],{type:Y});var X=new MozBlobBuilder;return X.append(G),X.getBlob(Y)},v.createObjectURL=function(){var G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(X,j){if(!v.disableCreateObjectURL&&typeof URL<"u"&&URL.createObjectURL){var h=v.createBlob(X,j);return URL.createObjectURL(h)}for(var ae="data:"+j+";base64,",le=0,he=X.length;le<he;le+=3){var pe=X[le]&255,Ae=X[le+1]&255,ge=X[le+2]&255,ye=pe>>2,we=(pe&3)<<4|Ae>>4,be=le+1<he?(Ae&15)<<2|ge>>6:64,Ve=le+2<he?ge&63:64;ae+=G[ye]+G[we]+G[be]+G[Ve]}return ae}}(),l.exports&&(l.exports=n)}(jpx)),jpx.exports}var jpegLs={exports:{}},charLSDynamicMemoryBrowser={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(__viteBrowserExternal$1);/*! CharLS.js - v2.0.1 - 2016-06-08 | (c) 2016 Chris Hafey | https://github.com/chafey/charls */var hasRequiredCharLSDynamicMemoryBrowser;function requireCharLSDynamicMemoryBrowser(){return hasRequiredCharLSDynamicMemoryBrowser||(hasRequiredCharLSDynamicMemoryBrowser=1,function(module){/*!
		 Copyright (c) 2007-2010, Jan de Vaan
		 All rights reserved.

		 Redistribution and use in source and binary forms, with or without
		 modification, are permitted provided that the following conditions are met:

		 * Redistributions of source code must retain the above copyright notice, this
		 list of conditions and the following disclaimer.

		 * Redistributions in binary form must reproduce the above copyright notice,
		 this list of conditions and the following disclaimer in the documentation
		 and/or other materials provided with the distribution.

		 * Neither the name of my employer, nor the names of its contributors may be
		 used to endorse or promote products derived from this software without
		 specific prior written permission.

		 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
		 AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
		 IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
		 DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
		 ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
		 (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
		 LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
		 ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
		 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
		 SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
		 */var CharLS=function(Module){Module=Module||{};var Module;Module||(Module=(typeof CharLS<"u"?CharLS:null)||{});var moduleOverrides={};for(var key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof commonjsRequire=="function"&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE){Module.print||(Module.print=function(n){process.stdout.write(n+`
`)}),Module.printErr||(Module.printErr=function(n){process.stderr.write(n+`
`)});var nodeFS=require$$1,nodePath=require$$1;Module.read=function(n,u){n=nodePath.normalize(n);var p=nodeFS.readFileSync(n);return!p&&n!=nodePath.resolve(n)&&(n=path.join(__dirname,"..","src",n),p=nodeFS.readFileSync(n)),p&&!u&&(p=p.toString()),p},Module.readBinary=function(n){var u=Module.read(n,!0);return u.buffer||(u=new Uint8Array(u)),assert(u.buffer),u},Module.load=function(n){globalEval(read(n))},Module.thisProgram||(process.argv.length>1?Module.thisProgram=process.argv[1].replace(/\\/g,"/"):Module.thisProgram="unknown-program"),Module.arguments=process.argv.slice(2),module.exports=Module,process.on("uncaughtException",function(l){if(!(l instanceof ExitStatus))throw l}),Module.inspect=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL)Module.print||(Module.print=print),typeof printErr<"u"&&(Module.printErr=printErr),typeof read<"u"?Module.read=read:Module.read=function(){throw"no read() available (jsc?)"},Module.readBinary=function(n){if(typeof readbuffer=="function")return new Uint8Array(readbuffer(n));var u=read(n,"binary");return assert(typeof u=="object"),u},typeof scriptArgs<"u"?Module.arguments=scriptArgs:typeof arguments<"u"&&(Module.arguments=arguments);else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(Module.read=function(n){var u=new XMLHttpRequest;return u.open("GET",n,!1),u.send(null),u.responseText},typeof arguments<"u"&&(Module.arguments=arguments),typeof console<"u")Module.print||(Module.print=function(n){console.log(n)}),Module.printErr||(Module.printErr=function(n){console.log(n)});else{var TRY_USE_DUMP=!1;Module.print||(Module.print=TRY_USE_DUMP&&typeof dump<"u"?function(l){dump(l)}:function(l){})}ENVIRONMENT_IS_WORKER&&(Module.load=importScripts),typeof Module.setWindowTitle>"u"&&(Module.setWindowTitle=function(l){document.title=l})}else throw"Unknown runtime environment. Where are we?";function globalEval(l){eval.call(null,l)}!Module.load&&Module.read&&(Module.load=function(n){globalEval(Module.read(n))}),Module.print||(Module.print=function(){}),Module.printErr||(Module.printErr=Module.print),Module.arguments||(Module.arguments=[]),Module.thisProgram||(Module.thisProgram="./this.program"),Module.print=Module.print,Module.printErr=Module.printErr,Module.preRun=[],Module.postRun=[];for(var key in moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);var Runtime={setTempRet0:function(l){tempRet0=l},getTempRet0:function(){return tempRet0},stackSave:function(){return STACKTOP},stackRestore:function(l){STACKTOP=l},getNativeTypeSize:function(l){switch(l){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:{if(l[l.length-1]==="*")return Runtime.QUANTUM_SIZE;if(l[0]==="i"){var n=parseInt(l.substr(1));return assert(n%8===0),n/8}else return 0}}},getNativeFieldSize:function(l){return Math.max(Runtime.getNativeTypeSize(l),Runtime.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(l,n){return n==="double"||n==="i64"?l&7&&(assert((l&7)===4),l+=4):assert((l&3)===0),l},getAlignSize:function(l,n,u){return!u&&(l=="i64"||l=="double")?8:l?Math.min(n||(l?Runtime.getNativeFieldSize(l):0),Runtime.QUANTUM_SIZE):Math.min(n,8)},dynCall:function(l,n,u){return u&&u.length?(u.splice||(u=Array.prototype.slice.call(u)),u.splice(0,0,n),Module["dynCall_"+l].apply(null,u)):Module["dynCall_"+l].call(null,n)},functionPointers:[],addFunction:function(l){for(var n=0;n<Runtime.functionPointers.length;n++)if(!Runtime.functionPointers[n])return Runtime.functionPointers[n]=l,2*(1+n);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(l){Runtime.functionPointers[(l-2)/2]=null},warnOnce:function(l){Runtime.warnOnce.shown||(Runtime.warnOnce.shown={}),Runtime.warnOnce.shown[l]||(Runtime.warnOnce.shown[l]=1,Module.printErr(l))},funcWrappers:{},getFuncWrapper:function(l,n){assert(n),Runtime.funcWrappers[n]||(Runtime.funcWrappers[n]={});var u=Runtime.funcWrappers[n];return u[l]||(u[l]=function(){return Runtime.dynCall(n,l,arguments)}),u[l]},getCompilerSetting:function(l){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(l){var n=STACKTOP;return STACKTOP=STACKTOP+l|0,STACKTOP=STACKTOP+15&-16,n},staticAlloc:function(l){var n=STATICTOP;return STATICTOP=STATICTOP+l|0,STATICTOP=STATICTOP+15&-16,n},dynamicAlloc:function(l){var n=DYNAMICTOP;if(DYNAMICTOP=DYNAMICTOP+l|0,DYNAMICTOP=DYNAMICTOP+15&-16,DYNAMICTOP>=TOTAL_MEMORY){var u=enlargeMemory();if(!u)return DYNAMICTOP=n,0}return n},alignMemory:function(l,n){var u=l=Math.ceil(l/(n||16))*(n||16);return u},makeBigInt:function(l,n,u){var p=u?+(l>>>0)+ +(n>>>0)*4294967296:+(l>>>0)+ +(n|0)*4294967296;return p},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module.Runtime=Runtime;var ABORT=!1,tempDouble,tempI64,tempRet0;function assert(l,n){l||abort("Assertion failed: "+n)}function getCFunc(ident){var func=Module["_"+ident];if(!func)try{func=eval("_"+ident)}catch(l){}return assert(func,"Cannot call unknown function "+ident+" (perhaps LLVM optimizations or closure removed it?)"),func}var cwrap,ccall;(function(){var JSfuncs={stackSave:function(){Runtime.stackSave()},stackRestore:function(){Runtime.stackRestore()},arrayToC:function(l){var n=Runtime.stackAlloc(l.length);return writeArrayToMemory(l,n),n},stringToC:function(l){var n=0;return l!=null&&l!==0&&(n=Runtime.stackAlloc((l.length<<2)+1),writeStringToMemory(l,n)),n}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC};ccall=function(n,u,p,v,d){var g=getCFunc(n),_=[],C=0;if(v)for(var E=0;E<v.length;E++){var w=toC[p[E]];w?(C===0&&(C=Runtime.stackSave()),_[E]=w(v[E])):_[E]=v[E]}var m=g.apply(null,_);if(u==="string"&&(m=Pointer_stringify(m)),C!==0){if(d&&d.async){EmterpreterAsync.asyncFinalizers.push(function(){Runtime.stackRestore(C)});return}Runtime.stackRestore(C)}return m};var sourceRegex=/^function\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/;function parseJSFunc(l){var n=l.toString().match(sourceRegex).slice(1);return{arguments:n[0],body:n[1],returnValue:n[2]}}var JSsource={};for(var fun in JSfuncs)JSfuncs.hasOwnProperty(fun)&&(JSsource[fun]=parseJSFunc(JSfuncs[fun]));cwrap=function cwrap(ident,returnType,argTypes){argTypes=argTypes||[];var cfunc=getCFunc(ident),numericArgs=argTypes.every(function(l){return l==="number"}),numericRet=returnType!=="string";if(numericRet&&numericArgs)return cfunc;var argNames=argTypes.map(function(l,n){return"$"+n}),funcstr="(function("+argNames.join(",")+") {",nargs=argTypes.length;if(!numericArgs){funcstr+="var stack = "+JSsource.stackSave.body+";";for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if(type!=="number"){var convertCode=JSsource[type+"ToC"];funcstr+="var "+convertCode.arguments+" = "+arg+";",funcstr+=convertCode.body+";",funcstr+=arg+"="+convertCode.returnValue+";"}}}var cfuncname=parseJSFunc(function(){return cfunc}).returnValue;if(funcstr+="var ret = "+cfuncname+"("+argNames.join(",")+");",!numericRet){var strgfy=parseJSFunc(function(){return Pointer_stringify}).returnValue;funcstr+="ret = "+strgfy+"(ret);"}return numericArgs||(funcstr+=JSsource.stackRestore.body.replace("()","(stack)")+";"),funcstr+="return ret})",eval(funcstr)}})(),Module.ccall=ccall,Module.cwrap=cwrap;function setValue(l,n,u,p){switch(u=u||"i8",u.charAt(u.length-1)==="*"&&(u="i32"),u){case"i1":HEAP8[l>>0]=n;break;case"i8":HEAP8[l>>0]=n;break;case"i16":HEAP16[l>>1]=n;break;case"i32":HEAP32[l>>2]=n;break;case"i64":tempI64=[n>>>0,(tempDouble=n,+Math_abs(tempDouble)>=1?tempDouble>0?(Math_min(+Math_floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l>>2]=tempI64[0],HEAP32[l+4>>2]=tempI64[1];break;case"float":HEAPF32[l>>2]=n;break;case"double":HEAPF64[l>>3]=n;break;default:abort("invalid type for setValue: "+u)}}Module.setValue=setValue;function getValue(l,n,u){switch(n=n||"i8",n.charAt(n.length-1)==="*"&&(n="i32"),n){case"i1":return HEAP8[l>>0];case"i8":return HEAP8[l>>0];case"i16":return HEAP16[l>>1];case"i32":return HEAP32[l>>2];case"i64":return HEAP32[l>>2];case"float":return HEAPF32[l>>2];case"double":return HEAPF64[l>>3];default:abort("invalid type for setValue: "+n)}return null}Module.getValue=getValue;var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_STATIC=2,ALLOC_DYNAMIC=3,ALLOC_NONE=4;Module.ALLOC_NORMAL=ALLOC_NORMAL,Module.ALLOC_STACK=ALLOC_STACK,Module.ALLOC_STATIC=ALLOC_STATIC,Module.ALLOC_DYNAMIC=ALLOC_DYNAMIC,Module.ALLOC_NONE=ALLOC_NONE;function allocate(l,n,u,p){var v,d;typeof l=="number"?(v=!0,d=l):(v=!1,d=l.length);var g=typeof n=="string"?n:null,_;if(u==ALLOC_NONE?_=p:_=[_malloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][u===void 0?ALLOC_STATIC:u](Math.max(d,g?1:n.length)),v){var p=_,C;for(assert((_&3)==0),C=_+(d&-4);p<C;p+=4)HEAP32[p>>2]=0;for(C=_+d;p<C;)HEAP8[p++>>0]=0;return _}if(g==="i8")return l.subarray||l.slice?HEAPU8.set(l,_):HEAPU8.set(new Uint8Array(l),_),_;for(var E=0,w,m,y;E<d;){var e=l[E];if(typeof e=="function"&&(e=Runtime.getFunctionIndex(e)),w=g||n[E],w===0){E++;continue}w=="i64"&&(w="i32"),setValue(_+E,e,w),y!==w&&(m=Runtime.getNativeTypeSize(w),y=w),E+=m}return _}Module.allocate=allocate;function getMemory(l){return staticSealed?typeof _sbrk<"u"&&!_sbrk.called||!runtimeInitialized?Runtime.dynamicAlloc(l):_malloc(l):Runtime.staticAlloc(l)}Module.getMemory=getMemory;function Pointer_stringify(l,n){if(n===0||!l)return"";for(var u=0,p,v=0;p=HEAPU8[l+v>>0],u|=p,!(p==0&&!n||(v++,n&&v==n)););n||(n=v);var d="";if(u<128){for(var g=1024,_;n>0;)_=String.fromCharCode.apply(String,HEAPU8.subarray(l,l+Math.min(n,g))),d=d?d+_:_,l+=g,n-=g;return d}return Module.UTF8ToString(l)}Module.Pointer_stringify=Pointer_stringify;function AsciiToString(l){for(var n="";;){var u=HEAP8[l++>>0];if(!u)return n;n+=String.fromCharCode(u)}}Module.AsciiToString=AsciiToString;function stringToAscii(l,n){return writeAsciiToMemory(l,n,!1)}Module.stringToAscii=stringToAscii;function UTF8ArrayToString(l,n){for(var u,p,v,d,g,_,C="";;){if(u=l[n++],!u)return C;if(!(u&128)){C+=String.fromCharCode(u);continue}if(p=l[n++]&63,(u&224)==192){C+=String.fromCharCode((u&31)<<6|p);continue}if(v=l[n++]&63,(u&240)==224?u=(u&15)<<12|p<<6|v:(d=l[n++]&63,(u&248)==240?u=(u&7)<<18|p<<12|v<<6|d:(g=l[n++]&63,(u&252)==248?u=(u&3)<<24|p<<18|v<<12|d<<6|g:(_=l[n++]&63,u=(u&1)<<30|p<<24|v<<18|d<<12|g<<6|_))),u<65536)C+=String.fromCharCode(u);else{var E=u-65536;C+=String.fromCharCode(55296|E>>10,56320|E&1023)}}}Module.UTF8ArrayToString=UTF8ArrayToString;function UTF8ToString(l){return UTF8ArrayToString(HEAPU8,l)}Module.UTF8ToString=UTF8ToString;function stringToUTF8Array(l,n,u,p){if(!(p>0))return 0;for(var v=u,d=u+p-1,g=0;g<l.length;++g){var _=l.charCodeAt(g);if(_>=55296&&_<=57343&&(_=65536+((_&1023)<<10)|l.charCodeAt(++g)&1023),_<=127){if(u>=d)break;n[u++]=_}else if(_<=2047){if(u+1>=d)break;n[u++]=192|_>>6,n[u++]=128|_&63}else if(_<=65535){if(u+2>=d)break;n[u++]=224|_>>12,n[u++]=128|_>>6&63,n[u++]=128|_&63}else if(_<=2097151){if(u+3>=d)break;n[u++]=240|_>>18,n[u++]=128|_>>12&63,n[u++]=128|_>>6&63,n[u++]=128|_&63}else if(_<=67108863){if(u+4>=d)break;n[u++]=248|_>>24,n[u++]=128|_>>18&63,n[u++]=128|_>>12&63,n[u++]=128|_>>6&63,n[u++]=128|_&63}else{if(u+5>=d)break;n[u++]=252|_>>30,n[u++]=128|_>>24&63,n[u++]=128|_>>18&63,n[u++]=128|_>>12&63,n[u++]=128|_>>6&63,n[u++]=128|_&63}}return n[u]=0,u-v}Module.stringToUTF8Array=stringToUTF8Array;function stringToUTF8(l,n,u){return stringToUTF8Array(l,HEAPU8,n,u)}Module.stringToUTF8=stringToUTF8;function lengthBytesUTF8(l){for(var n=0,u=0;u<l.length;++u){var p=l.charCodeAt(u);p>=55296&&p<=57343&&(p=65536+((p&1023)<<10)|l.charCodeAt(++u)&1023),p<=127?++n:p<=2047?n+=2:p<=65535?n+=3:p<=2097151?n+=4:p<=67108863?n+=5:n+=6}return n}Module.lengthBytesUTF8=lengthBytesUTF8;function UTF16ToString(l){for(var n=0,u="";;){var p=HEAP16[l+n*2>>1];if(p==0)return u;++n,u+=String.fromCharCode(p)}}Module.UTF16ToString=UTF16ToString;function stringToUTF16(l,n,u){if(u===void 0&&(u=2147483647),u<2)return 0;u-=2;for(var p=n,v=u<l.length*2?u/2:l.length,d=0;d<v;++d){var g=l.charCodeAt(d);HEAP16[n>>1]=g,n+=2}return HEAP16[n>>1]=0,n-p}Module.stringToUTF16=stringToUTF16;function lengthBytesUTF16(l){return l.length*2}Module.lengthBytesUTF16=lengthBytesUTF16;function UTF32ToString(l){for(var n=0,u="";;){var p=HEAP32[l+n*4>>2];if(p==0)return u;if(++n,p>=65536){var v=p-65536;u+=String.fromCharCode(55296|v>>10,56320|v&1023)}else u+=String.fromCharCode(p)}}Module.UTF32ToString=UTF32ToString;function stringToUTF32(l,n,u){if(u===void 0&&(u=2147483647),u<4)return 0;for(var p=n,v=p+u-4,d=0;d<l.length;++d){var g=l.charCodeAt(d);if(g>=55296&&g<=57343){var _=l.charCodeAt(++d);g=65536+((g&1023)<<10)|_&1023}if(HEAP32[n>>2]=g,n+=4,n+4>v)break}return HEAP32[n>>2]=0,n-p}Module.stringToUTF32=stringToUTF32;function lengthBytesUTF32(l){for(var n=0,u=0;u<l.length;++u){var p=l.charCodeAt(u);p>=55296&&p<=57343&&++u,n+=4}return n}Module.lengthBytesUTF32=lengthBytesUTF32;function demangle(l){var n=!!Module.___cxa_demangle;if(n)try{var u=_malloc(l.length);writeStringToMemory(l.substr(1),u);var p=_malloc(4),v=Module.___cxa_demangle(u,0,0,p);if(getValue(p,"i32")===0&&v)return Pointer_stringify(v)}catch{}finally{u&&_free(u),p&&_free(p),v&&_free(v)}var d=3,g={v:"void",b:"bool",c:"char",s:"short",i:"int",l:"long",f:"float",d:"double",w:"wchar_t",a:"signed char",h:"unsigned char",t:"unsigned short",j:"unsigned int",m:"unsigned long",x:"long long",y:"unsigned long long",z:"..."},_=[],C=!0;function E(){d++,l[d]==="K"&&d++;for(var y=[];l[d]!=="E";){if(l[d]==="S"){d++;var e=l.indexOf("_",d),P=l.substring(d,e)||0;y.push(_[P]||"?"),d=e+1;continue}if(l[d]==="C"){y.push(y[y.length-1]),d+=2;continue}var O=parseInt(l.substr(d)),U=O.toString().length;if(!O||!U){d--;break}var W=l.substr(d+U,O);y.push(W),_.push(W),d+=U+O}return d++,y}function w(y,e,P){e=e||1/0;var O="",U=[];function W(){return"("+U.join(", ")+")"}var V;if(l[d]==="N"){if(V=E().join("::"),e--,e===0)return y?[V]:V}else{(l[d]==="K"||C&&l[d]==="L")&&d++;var $=parseInt(l.substr(d));if($){var b=$.toString().length;V=l.substr(d+b,$),d+=b+$}}if(C=!1,l[d]==="I"){d++;var H=w(!0),G=w(!0,1,!0);O+=G[0]+" "+V+"<"+H.join(", ")+">"}else O=V;e:for(;d<l.length&&e-- >0;){var Y=l[d++];if(Y in g)U.push(g[Y]);else switch(Y){case"P":U.push(w(!0,1,!0)[0]+"*");break;case"R":U.push(w(!0,1,!0)[0]+"&");break;case"L":{d++;var X=l.indexOf("E",d),$=X-d;U.push(l.substr(d,$)),d+=$+2;break}case"A":{var $=parseInt(l.substr(d));if(d+=$.toString().length,l[d]!=="_")throw"?";d++,U.push(w(!0,1,!0)[0]+" ["+$+"]");break}case"E":break e;default:O+="?"+Y;break e}}return!P&&U.length===1&&U[0]==="void"&&(U=[]),y?(O&&U.push(O+"?"),U):O+W()}var m=l;try{if(l=="Object._main"||l=="_main")return"main()";if(typeof l=="number"&&(l=Pointer_stringify(l)),l[0]!=="_"||l[1]!=="_"||l[2]!=="Z")return l;switch(l[3]){case"n":return"operator new()";case"d":return"operator delete()"}m=w()}catch{m+="?"}return m.indexOf("?")>=0&&!n&&Runtime.warnOnce("warning: a problem occurred in builtin C++ name demangling; build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),m}function demangleAll(l){return l.replace(/__Z[\w\d_]+/g,function(n){var u=demangle(n);return n===u?n:n+" ["+u+"]"})}function jsStackTrace(){var l=new Error;if(!l.stack){try{throw new Error(0)}catch(n){l=n}if(!l.stack)return"(no stack trace available)"}return l.stack.toString()}function stackTrace(){return demangleAll(jsStackTrace())}Module.stackTrace=stackTrace;var PAGE_SIZE=4096;function alignMemoryPage(l){return l%4096>0&&(l+=4096-l%4096),l}var HEAP,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64,STATIC_BASE=0,STATICTOP=0,staticSealed=!1,STACK_BASE=0,STACKTOP=0,STACK_MAX=0,DYNAMIC_BASE=0,DYNAMICTOP=0;function enlargeMemory(){var l=Math.pow(2,31);if(DYNAMICTOP>=l)return!1;for(;TOTAL_MEMORY<=DYNAMICTOP;)if(TOTAL_MEMORY<l/2)TOTAL_MEMORY=alignMemoryPage(2*TOTAL_MEMORY);else{var n=TOTAL_MEMORY;if(TOTAL_MEMORY=alignMemoryPage((3*TOTAL_MEMORY+l)/4),TOTAL_MEMORY<=n)return!1}if(TOTAL_MEMORY=Math.max(TOTAL_MEMORY,16777216),TOTAL_MEMORY>=l)return!1;try{if(ArrayBuffer.transfer)buffer=ArrayBuffer.transfer(buffer,TOTAL_MEMORY);else{var u=HEAP8;buffer=new ArrayBuffer(TOTAL_MEMORY)}}catch{return!1}var p=_emscripten_replace_memory(buffer);return p?(Module.buffer=buffer,Module.HEAP8=HEAP8=new Int8Array(buffer),Module.HEAP16=HEAP16=new Int16Array(buffer),Module.HEAP32=HEAP32=new Int32Array(buffer),Module.HEAPU8=HEAPU8=new Uint8Array(buffer),Module.HEAPU16=HEAPU16=new Uint16Array(buffer),Module.HEAPU32=HEAPU32=new Uint32Array(buffer),Module.HEAPF32=HEAPF32=new Float32Array(buffer),Module.HEAPF64=HEAPF64=new Float64Array(buffer),ArrayBuffer.transfer||HEAP8.set(u),!0):!1}var byteLength;try{byteLength=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get),byteLength(new ArrayBuffer(4))}catch(l){byteLength=function(n){return n.byteLength}}for(var TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||16777216,totalMemory=64*1024;totalMemory<TOTAL_MEMORY||totalMemory<2*TOTAL_STACK;)totalMemory<16777216?totalMemory*=2:totalMemory+=16777216;totalMemory=Math.max(totalMemory,16777216),totalMemory!==TOTAL_MEMORY&&(TOTAL_MEMORY=totalMemory),assert(typeof Int32Array<"u"&&typeof Float64Array<"u"&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set,"JS engine does not provide full typed array support");var buffer;buffer=new ArrayBuffer(TOTAL_MEMORY),HEAP8=new Int8Array(buffer),HEAP16=new Int16Array(buffer),HEAP32=new Int32Array(buffer),HEAPU8=new Uint8Array(buffer),HEAPU16=new Uint16Array(buffer),HEAPU32=new Uint32Array(buffer),HEAPF32=new Float32Array(buffer),HEAPF64=new Float64Array(buffer),HEAP32[0]=255,assert(HEAPU8[0]===255&&HEAPU8[3]===0,"Typed arrays 2 must be run on a little-endian system"),Module.HEAP=HEAP,Module.buffer=buffer,Module.HEAP8=HEAP8,Module.HEAP16=HEAP16,Module.HEAP32=HEAP32,Module.HEAPU8=HEAPU8,Module.HEAPU16=HEAPU16,Module.HEAPU32=HEAPU32,Module.HEAPF32=HEAPF32,Module.HEAPF64=HEAPF64;function callRuntimeCallbacks(l){for(;l.length>0;){var n=l.shift();if(typeof n=="function"){n();continue}var u=n.func;typeof u=="number"?n.arg===void 0?Runtime.dynCall("v",u):Runtime.dynCall("vi",u,[n.arg]):u(n.arg===void 0?null:n.arg)}}var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1;function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__)}function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(l){__ATPRERUN__.unshift(l)}Module.addOnPreRun=addOnPreRun;function addOnInit(l){__ATINIT__.unshift(l)}Module.addOnInit=addOnInit;function addOnPreMain(l){__ATMAIN__.unshift(l)}Module.addOnPreMain=addOnPreMain;function addOnExit(l){__ATEXIT__.unshift(l)}Module.addOnExit=addOnExit;function addOnPostRun(l){__ATPOSTRUN__.unshift(l)}Module.addOnPostRun=addOnPostRun;function intArrayFromString(l,n,u){var p=u>0?u:lengthBytesUTF8(l)+1,v=new Array(p),d=stringToUTF8Array(l,v,0,v.length);return n&&(v.length=d),v}Module.intArrayFromString=intArrayFromString;function intArrayToString(l){for(var n=[],u=0;u<l.length;u++){var p=l[u];p>255&&(p&=255),n.push(String.fromCharCode(p))}return n.join("")}Module.intArrayToString=intArrayToString;function writeStringToMemory(l,n,u){for(var p=intArrayFromString(l,u),v=0;v<p.length;){var d=p[v];HEAP8[n+v>>0]=d,v=v+1}}Module.writeStringToMemory=writeStringToMemory;function writeArrayToMemory(l,n){for(var u=0;u<l.length;u++)HEAP8[n++>>0]=l[u]}Module.writeArrayToMemory=writeArrayToMemory;function writeAsciiToMemory(l,n,u){for(var p=0;p<l.length;++p)HEAP8[n++>>0]=l.charCodeAt(p);u||(HEAP8[n>>0]=0)}Module.writeAsciiToMemory=writeAsciiToMemory,(!Math.imul||Math.imul(4294967295,5)!==-5)&&(Math.imul=function l(n,u){var p=n>>>16,v=n&65535,d=u>>>16,g=u&65535;return v*g+(p*g+v*d<<16)|0}),Math.imul=Math.imul,Math.clz32||(Math.clz32=function(l){l=l>>>0;for(var n=0;n<32;n++)if(l&1<<31-n)return n;return 32}),Math.clz32=Math.clz32;var Math_abs=Math.abs,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_min=Math.min,runDependencies=0,dependenciesFulfilled=null;function addRunDependency(l){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}Module.addRunDependency=addRunDependency;function removeRunDependency(l){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&dependenciesFulfilled){var n=dependenciesFulfilled;dependenciesFulfilled=null,n()}}Module.removeRunDependency=removeRunDependency,Module.preloadedImages={},Module.preloadedAudios={},STATIC_BASE=8,STATICTOP=STATIC_BASE+59744,__ATINIT__.push({func:function(){__GLOBAL__I_000101()}},{func:function(){__GLOBAL__sub_I_jpegls_cpp()}},{func:function(){}}),allocate([0,0,0,0,0,0,0,0,84,144,0,0,31,194,0,0,216,0,0,0,0,0,0,0,84,144,0,0,237,191,0,0,48,0,0,0,0,0,0,0,44,144,0,0,41,192,0,0,84,144,0,0,55,192,0,0,48,0,0,0,0,0,0,0,84,144,0,0,115,192,0,0,48,0,0,0,0,0,0,0,84,144,0,0,175,192,0,0,152,3,0,0,0,0,0,0,84,144,0,0,241,192,0,0,216,3,0,0,0,0,0,0,84,144,0,0,55,193,0,0,48,0,0,0,0,0,0,0,84,144,0,0,95,193,0,0,48,0,0,0,0,0,0,0,84,144,0,0,135,193,0,0,48,0,0,0,0,0,0,0,84,144,0,0,175,193,0,0,48,0,0,0,0,0,0,0,84,144,0,0,216,193,0,0,48,0,0,0,0,0,0,0,84,144,0,0,241,193,0,0,48,0,0,0,0,0,0,0,44,144,0,0,13,194,0,0,84,144,0,0,80,194,0,0,216,0,0,0,0,0,0,0,84,144,0,0,44,195,0,0,216,0,0,0,0,0,0,0,84,144,0,0,139,194,0,0,48,0,0,0,0,0,0,0,84,144,0,0,179,194,0,0,48,0,0,0,0,0,0,0,84,144,0,0,219,194,0,0,48,0,0,0,0,0,0,0,84,144,0,0,3,195,0,0,48,0,0,0,0,0,0,0,84,144,0,0,103,195,0,0,216,0,0,0,0,0,0,0,84,144,0,0,157,195,0,0,216,0,0,0,0,0,0,0,84,144,0,0,211,195,0,0,216,0,0,0,0,0,0,0,84,144,0,0,8,196,0,0,216,0,0,0,0,0,0,0,84,144,0,0,71,196,0,0,216,0,0,0,0,0,0,0,84,144,0,0,138,196,0,0,160,1,0,0,0,0,0,0,44,144,0,0,120,196,0,0,84,144,0,0,187,196,0,0,160,1,0,0,0,0,0,0,84,144,0,0,246,196,0,0,160,1,0,0,0,0,0,0,84,144,0,0,49,197,0,0,160,1,0,0,0,0,0,0,84,144,0,0,103,197,0,0,160,1,0,0,0,0,0,0,84,144,0,0,157,197,0,0,160,1,0,0,0,0,0,0,84,144,0,0,210,197,0,0,160,1,0,0,0,0,0,0,84,144,0,0,17,198,0,0,160,1,0,0,0,0,0,0,84,144,0,0,86,198,0,0,72,3,0,0,0,0,0,0,84,144,0,0,162,198,0,0,56,2,0,0,0,0,0,0,44,144,0,0,182,198,0,0,84,144,0,0,196,198,0,0,56,2,0,0,0,0,0,0,84,144,0,0,112,199,0,0,96,2,0,0,0,0,0,0,44,144,0,0,125,199,0,0,84,144,0,0,138,199,0,0,96,2,0,0,0,0,0,0,44,144,0,0,156,199,0,0,84,144,0,0,169,199,0,0,96,2,0,0,0,0,0,0,84,144,0,0,181,199,0,0,120,2,0,0,0,0,0,0,84,144,0,0,214,199,0,0,144,2,0,0,0,0,0,0,84,144,0,0,28,200,0,0,144,2,0,0,0,0,0,0,84,144,0,0,248,199,0,0,176,2,0,0,0,0,0,0,84,144,0,0,62,200,0,0,160,2,0,0,0,0,0,0,84,144,0,0,99,200,0,0,160,2,0,0,0,0,0,0,84,144,0,0,182,221,0,0,160,3,0,0,0,0,0,0,84,144,0,0,245,221,0,0,160,3,0,0,0,0,0,0,84,144,0,0,13,222,0,0,152,3,0,0,0,0,0,0,84,144,0,0,38,222,0,0,152,3,0,0,0,0,0,0,44,144,0,0,62,222,0,0,84,144,0,0,87,222,0,0,104,2,0,0,0,0,0,0,44,144,0,0,110,222,0,0,84,144,0,0,135,222,0,0,72,3,0,0,0,0,0,0,84,144,0,0,161,222,0,0,56,3,0,0,0,0,0,0,44,144,0,0,187,222,0,0,84,144,0,0,205,222,0,0,112,3,0,0,0,0,0,0,84,144,0,0,247,222,0,0,112,3,0,0,0,0,0,0,44,144,0,0,33,223,0,0,44,144,0,0,82,223,0,0,124,144,0,0,131,223,0,0,0,0,0,0,1,0,0,0,120,3,0,0,3,244,255,255,124,144,0,0,178,223,0,0,0,0,0,0,1,0,0,0,136,3,0,0,3,244,255,255,124,144,0,0,225,223,0,0,0,0,0,0,1,0,0,0,120,3,0,0,3,244,255,255,124,144,0,0,16,224,0,0,0,0,0,0,1,0,0,0,136,3,0,0,3,244,255,255,84,144,0,0,63,224,0,0,80,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,84,144,0,0,187,224,0,0,48,3,0,0,0,0,0,0,124,144,0,0,209,224,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,64,10,0,0,2,0,0,0,124,144,0,0,227,224,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,72,10,0,0,2,0,0,0,124,144,0,0,5,225,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,72,10,0,0,2,0,0,0,124,144,0,0,40,225,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,72,10,0,0,2,0,0,0,84,144,0,0,75,225,0,0,144,4,0,0,0,0,0,0,84,144,0,0,109,225,0,0,144,4,0,0,0,0,0,0,124,144,0,0,144,225,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,72,10,0,0,2,0,0,0,84,144,0,0,178,225,0,0,32,4,0,0,0,0,0,0,84,144,0,0,200,225,0,0,32,4,0,0,0,0,0,0,84,144,0,0,220,225,0,0,32,4,0,0,0,0,0,0,124,144,0,0,240,225,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,64,10,0,0,2,0,0,0,84,144,0,0,2,226,0,0,32,4,0,0,0,0,0,0,84,144,0,0,23,226,0,0,32,4,0,0,0,0,0,0,124,144,0,0,44,226,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,80,10,0,0,0,0,0,0,124,144,0,0,112,226,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,104,10,0,0,0,0,0,0,124,144,0,0,180,226,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,128,10,0,0,0,0,0,0,124,144,0,0,248,226,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,152,10,0,0,0,0,0,0,124,144,0,0,60,227,0,0,0,0,0,0,3,0,0,0,32,4,0,0,2,0,0,0,176,10,0,0,2,0,0,0,184,10,0,0,0,8,0,0,124,144,0,0,129,227,0,0,0,0,0,0,3,0,0,0,32,4,0,0,2,0,0,0,176,10,0,0,2,0,0,0,192,10,0,0,0,8,0,0,124,144,0,0,198,227,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,200,10,0,0,0,8,0,0,124,144,0,0,11,228,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,200,10,0,0,0,8,0,0,124,144,0,0,80,228,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,208,10,0,0,2,0,0,0,124,144,0,0,108,228,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,208,10,0,0,2,0,0,0,124,144,0,0,136,228,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,208,10,0,0,2,0,0,0,124,144,0,0,164,228,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,208,10,0,0,2,0,0,0,124,144,0,0,192,228,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,216,10,0,0,0,0,0,0,124,144,0,0,6,229,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,224,10,0,0,0,0,0,0,124,144,0,0,76,229,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,232,10,0,0,0,0,0,0,124,144,0,0,146,229,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,240,10,0,0,0,0,0,0,124,144,0,0,216,229,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,248,10,0,0,2,0,0,0,124,144,0,0,237,229,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,248,10,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,44,144,0,0,73,233,0,0,44,144,0,0,50,233,0,0,124,144,0,0,28,233,0,0,0,0,0,0,1,0,0,0,8,11,0,0,0,0,0,0,124,144,0,0,237,232,0,0,0,0,0,0,1,0,0,0,8,11,0,0,0,0,0,0,124,144,0,0,215,232,0,0,0,0,0,0,1,0,0,0,0,11,0,0,0,0,0,0,124,144,0,0,168,232,0,0,0,0,0,0,1,0,0,0,0,11,0,0,0,0,0,0,44,144,0,0,149,232,0,0,44,144,0,0,115,232,0,0,44,144,0,0,81,232,0,0,44,144,0,0,60,232,0,0,44,144,0,0,39,232,0,0,44,144,0,0,14,232,0,0,44,144,0,0,245,231,0,0,44,144,0,0,220,231,0,0,44,144,0,0,195,231,0,0,44,144,0,0,171,231,0,0,44,144,0,0,190,232,0,0,44,144,0,0,3,233],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE),allocate([156,143,0,0,0,0,0,0,8,2,0,0,1,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,248,1,0,0,3,0,0,0,4,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,232,1,0,0,5,0,0,0,6,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,216,1,0,0,7,0,0,0,8,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,0,0,0,0,200,1,0,0,9,0,0,0,10,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,0,0,0,0,184,1,0,0,11,0,0,0,12,0,0,0,6,0,0,0,6,0,0,0,6,0,0,0,0,0,0,0,168,1,0,0,13,0,0,0,14,0,0,0,7,0,0,0,7,0,0,0,7,0,0,0,0,0,0,0,144,1,0,0,15,0,0,0,16,0,0,0,8,0,0,0,8,0,0,0,8,0,0,0,0,0,0,0,128,1,0,0,17,0,0,0,18,0,0,0,9,0,0,0,1,0,0,0,9,0,0,0,0,0,0,0,112,1,0,0,19,0,0,0,20,0,0,0,10,0,0,0,2,0,0,0,10,0,0,0,0,0,0,0,96,1,0,0,21,0,0,0,22,0,0,0,11,0,0,0,3,0,0,0,11,0,0,0,0,0,0,0,80,1,0,0,23,0,0,0,24,0,0,0,12,0,0,0,4,0,0,0,12,0,0,0,0,0,0,0,64,1,0,0,25,0,0,0,26,0,0,0,13,0,0,0,5,0,0,0,13,0,0,0,0,0,0,0,240,0,0,0,27,0,0,0,28,0,0,0,14,0,0,0,6,0,0,0,14,0,0,0,0,0,0,0,224,0,0,0,29,0,0,0,30,0,0,0,15,0,0,0,7,0,0,0,15,0,0,0,0,0,0,0,16,0,0,0,31,0,0,0,32,0,0,0,16,0,0,0,8,0,0,0,16,0,0,0,0,0,0,0,200,0,0,0,33,0,0,0,34,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,184,0,0,0,33,0,0,0,35,0,0,0,3,0,0,0,4,0,0,0,56,0,0,0,0,0,0,0,216,3,0,0,36,0,0,0,37,0,0,0,200,255,255,255,200,255,255,255,216,3,0,0,38,0,0,0,39,0,0,0,56,0,0,0,0,0,0,0,104,0,0,0,40,0,0,0,41,0,0,0,200,255,255,255,200,255,255,255,104,0,0,0,42,0,0,0,43,0,0,0,0,0,0,0,88,0,0,0,44,0,0,0,45,0,0,0,17,0,0,0,1,0,0,0,1,0,0,0,5,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,17,0,0,0,3,0,0,0,18,0,0,0,104,141,0,0,64,141,0,0,84,141,0,0,124,141,0,0,0,0,0,0,32,0,0,0,46,0,0,0,47,0,0,0,6,0,0,0,7,0,0,0,0,0,0,0,56,0,0,0,48,0,0,0,49,0,0,0,8,0,0,0,9,0,0,0,0,0,0,0,72,0,0,0,50,0,0,0,51,0,0,0,10,0,0,0,11,0,0,0,0,0,0,0,120,0,0,0,52,0,0,0,53,0,0,0,12,0,0,0,13,0,0,0,0,0,0,0,136,0,0,0,54,0,0,0,55,0,0,0,14,0,0,0,15,0,0,0,0,0,0,0,152,0,0,0,56,0,0,0,57,0,0,0,16,0,0,0,17,0,0,0,0,0,0,0,168,0,0,0,58,0,0,0,59,0,0,0,18,0,0,0,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,4,0,0,0,4,0,0,0,5,0,0,0,5,0,0,0,6,0,0,0,6,0,0,0,7,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,10,0,0,0,11,0,0,0,12,0,0,0,13,0,0,0,14,0,0,0,15,0,0,0,0,0,0,0,216,0,0,0,60,0,0,0,61,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,62,0,0,0,63,0,0,0,20,0,0,0,21,0,0,0,0,0,0,0,16,1,0,0,64,0,0,0,65,0,0,0,22,0,0,0,23,0,0,0,0,0,0,0,32,1,0,0,66,0,0,0,67,0,0,0,24,0,0,0,25,0,0,0,0,0,0,0,48,1,0,0,68,0,0,0,69,0,0,0,26,0,0,0,27,0,0,0,0,0,0,0,160,1,0,0,70,0,0,0,71,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,24,2,0,0,72,0,0,0,73,0,0,0,5,0,0,0,1,0,0,0,4,0,0,0,5,0,0,0,2,0,0,0,0,0,0,0,40,2,0,0,74,0,0,0,75,0,0,0,18,0,0,0,0,0,0,0,64,2,0,0,76,0,0,0,77,0,0,0,19,0,0,0,2,0,0,0,0,0,0,0,80,2,0,0,78,0,0,0,79,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,104,2,0,0,80,0,0,0,81,0,0,0,7,0,0,0,0,0,0,0,128,2,0,0,82,0,0,0,83,0,0,0,8,0,0,0,0,0,0,0,160,2,0,0,84,0,0,0,85,0,0,0,86,0,0,0,87,0,0,0,6,0,0,0,2,0,0,0,9,0,0,0,28,0,0,0,0,0,0,0,208,2,0,0,84,0,0,0,88,0,0,0,86,0,0,0,87,0,0,0,6,0,0,0,3,0,0,0,10,0,0,0,29,0,0,0,0,0,0,0,224,2,0,0,84,0,0,0,89,0,0,0,86,0,0,0,87,0,0,0,6,0,0,0,4,0,0,0,11,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,1,203,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,192,3,0,0,192,4,0,0,192,5,0,0,192,6,0,0,192,7,0,0,192,8,0,0,192,9,0,0,192,10,0,0,192,11,0,0,192,12,0,0,192,13,0,0,192,14,0,0,192,15,0,0,192,16,0,0,192,17,0,0,192,18,0,0,192,19,0,0,192,20,0,0,192,21,0,0,192,22,0,0,192,23,0,0,192,24,0,0,192,25,0,0,192,26,0,0,192,27,0,0,192,28,0,0,192,29,0,0,192,30,0,0,192,31,0,0,192,0,0,0,179,1,0,0,195,2,0,0,195,3,0,0,195,4,0,0,195,5,0,0,195,6,0,0,195,7,0,0,195,8,0,0,195,9,0,0,195,10,0,0,195,11,0,0,195,12,0,0,195,13,0,0,211,14,0,0,195,15,0,0,195,0,0,12,187,1,0,12,195,2,0,12,195,3,0,12,195,4,0,12,211,88,146,0,0,200,146,0,0,56,147,0,0,56,147,0,0,120,187,0,0,168,155,0,0,168,149,0,0,0,0,0,0,10,0,0,0,100,0,0,0,232,3,0,0,16,39,0,0,160,134,1,0,64,66,15,0,128,150,152,0,0,225,245,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,9,0,0,0,159,219,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,0,0,0,9,0,0,0,151,215,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,9,0,0,0,143,211,0,0,0,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,10,0,0,0,11,0,0,0,12,0,0,0,13,0,0,0,14,0,0,0,15,0,0,0,16,0,0,0,17,0,0,0,18,0,0,0,19,0,0,0,20,0,0,0,21,0,0,0,22,0,0,0,23,0,0,0,24,0,0,0,25,0,0,0,26,0,0,0,27,0,0,0,28,0,0,0,29,0,0,0,30,0,0,0,31,0,0,0,32,0,0,0,33,0,0,0,34,0,0,0,35,0,0,0,36,0,0,0,37,0,0,0,38,0,0,0,39,0,0,0,40,0,0,0,41,0,0,0,42,0,0,0,43,0,0,0,44,0,0,0,45,0,0,0,46,0,0,0,47,0,0,0,48,0,0,0,49,0,0,0,50,0,0,0,51,0,0,0,52,0,0,0,53,0,0,0,54,0,0,0,55,0,0,0,56,0,0,0,57,0,0,0,58,0,0,0,59,0,0,0,60,0,0,0,61,0,0,0,62,0,0,0,63,0,0,0,64,0,0,0,65,0,0,0,66,0,0,0,67,0,0,0,68,0,0,0,69,0,0,0,70,0,0,0,71,0,0,0,72,0,0,0,73,0,0,0,74,0,0,0,75,0,0,0,76,0,0,0,77,0,0,0,78,0,0,0,79,0,0,0,80,0,0,0,81,0,0,0,82,0,0,0,83,0,0,0,84,0,0,0,85,0,0,0,86,0,0,0,87,0,0,0,88,0,0,0,89,0,0,0,90,0,0,0,91,0,0,0,92,0,0,0,93,0,0,0,94,0,0,0,95,0,0,0,96,0,0,0,65,0,0,0,66,0,0,0,67,0,0,0,68,0,0,0,69,0,0,0,70,0,0,0,71,0,0,0,72,0,0,0,73,0,0,0,74,0,0,0,75,0,0,0,76,0,0,0,77,0,0,0,78,0,0,0,79,0,0,0,80,0,0,0,81,0,0,0,82,0,0,0,83,0,0,0,84,0,0,0,85,0,0,0,86,0,0,0,87,0,0,0,88,0,0,0,89,0,0,0,90,0,0,0,123,0,0,0,124,0,0,0,125,0,0,0,126,0,0,0,127],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+35640),allocate([1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,10,0,0,0,11,0,0,0,12,0,0,0,13,0,0,0,14,0,0,0,15,0,0,0,16,0,0,0,17,0,0,0,18,0,0,0,19,0,0,0,20,0,0,0,21,0,0,0,22,0,0,0,23,0,0,0,24,0,0,0,25,0,0,0,26,0,0,0,27,0,0,0,28,0,0,0,29,0,0,0,30,0,0,0,31,0,0,0,32,0,0,0,33,0,0,0,34,0,0,0,35,0,0,0,36,0,0,0,37,0,0,0,38,0,0,0,39,0,0,0,40,0,0,0,41,0,0,0,42,0,0,0,43,0,0,0,44,0,0,0,45,0,0,0,46,0,0,0,47,0,0,0,48,0,0,0,49,0,0,0,50,0,0,0,51,0,0,0,52,0,0,0,53,0,0,0,54,0,0,0,55,0,0,0,56,0,0,0,57,0,0,0,58,0,0,0,59,0,0,0,60,0,0,0,61,0,0,0,62,0,0,0,63,0,0,0,64,0,0,0,97,0,0,0,98,0,0,0,99,0,0,0,100,0,0,0,101,0,0,0,102,0,0,0,103,0,0,0,104,0,0,0,105,0,0,0,106,0,0,0,107,0,0,0,108,0,0,0,109,0,0,0,110,0,0,0,111,0,0,0,112,0,0,0,113,0,0,0,114,0,0,0,115,0,0,0,116,0,0,0,117,0,0,0,118,0,0,0,119,0,0,0,120,0,0,0,121,0,0,0,122,0,0,0,91,0,0,0,92,0,0,0,93,0,0,0,94,0,0,0,95,0,0,0,96,0,0,0,97,0,0,0,98,0,0,0,99,0,0,0,100,0,0,0,101,0,0,0,102,0,0,0,103,0,0,0,104,0,0,0,105,0,0,0,106,0,0,0,107,0,0,0,108,0,0,0,109,0,0,0,110,0,0,0,111,0,0,0,112,0,0,0,113,0,0,0,114,0,0,0,115,0,0,0,116,0,0,0,117,0,0,0,118,0,0,0,119,0,0,0,120,0,0,0,121,0,0,0,122,0,0,0,123,0,0,0,124,0,0,0,125,0,0,0,126,0,0,0,127],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+39844),allocate([240,2,0,0,90,0,0,0,91,0,0,0,20,0,0,0,12,0,0,0,5,0,0,0,31,0,0,0,10,0,0,0,11,0,0,0,13,0,0,0,12,0,0,0,13,0,0,0,19,0,0,0,14,0,0,0,20,0,0,0,0,0,0,0,0,3,0,0,90,0,0,0,92,0,0,0,21,0,0,0,12,0,0,0,5,0,0,0,31,0,0,0,14,0,0,0,11,0,0,0,13,0,0,0,15,0,0,0,16,0,0,0,21,0,0,0,15,0,0,0,22,0,0,0,0,0,0,0,16,3,0,0,93,0,0,0,94,0,0,0,22,0,0,0,1,0,0,0,6,0,0,0,32,0,0,0,17,0,0,0,2,0,0,0,2,0,0,0,18,0,0,0,4,0,0,0,23,0,0,0,16,0,0,0,24,0,0,0,0,0,0,0,32,3,0,0,93,0,0,0,95,0,0,0,23,0,0,0,1,0,0,0,6,0,0,0,32,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,19,0,0,0,20,0,0,0,25,0,0,0,3,0,0,0,26,0,0,0,0,0,0,0,56,3,0,0,96,0,0,0,97,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,152,3,0,0,93,0,0,0,98,0,0,0,17,0,0,0,1,0,0,0,6,0,0,0,32,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,18,0,0,0,4,0,0,0,23,0,0,0,3,0,0,0,26,0,0,0,0,0,0,0,160,3,0,0,90,0,0,0,99,0,0,0,24,0,0,0,12,0,0,0,5,0,0,0,31,0,0,0,14,0,0,0,11,0,0,0,13,0,0,0,12,0,0,0,13,0,0,0,19,0,0,0,15,0,0,0,22,0,0,0,8,0,0,0,0,0,0,0,168,3,0,0,100,0,0,0,101,0,0,0,248,255,255,255,248,255,255,255,168,3,0,0,102,0,0,0,103,0,0,0,8,0,0,0,0,0,0,0,192,3,0,0,104,0,0,0,105,0,0,0,248,255,255,255,248,255,255,255,192,3,0,0,106,0,0,0,107,0,0,0,4,0,0,0,0,0,0,0,216,3,0,0,36,0,0,0,37,0,0,0,252,255,255,255,252,255,255,255,216,3,0,0,38,0,0,0,39,0,0,0,4,0,0,0,0,0,0,0,240,3,0,0,108,0,0,0,109,0,0,0,252,255,255,255,252,255,255,255,240,3,0,0,110,0,0,0,111,0,0,0,0,0,0,0,96,3,0,0,112,0,0,0,113,0,0,0,7,0,0,0,0,0,0,0,112,3,0,0,114,0,0,0,115,0,0,0,0,0,0,0,8,4,0,0,72,0,0,0,116,0,0,0,21,0,0,0,1,0,0,0,4,0,0,0,5,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,117,0,0,0,118,0,0,0,119,0,0,0,1,0,0,0,33,0,0,0,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,5,0,0,120,0,0,0,121,0,0,0,119,0,0,0,2,0,0,0,34,0,0,0,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,5,0,0,122,0,0,0,123,0,0,0,119,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,10,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,5,0,0,124,0,0,0,125,0,0,0,119,0,0,0,12,0,0,0,13,0,0,0,14,0,0,0,15,0,0,0,16,0,0,0,17,0,0,0,18,0,0,0,19,0,0,0,20,0,0,0,21,0,0,0,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,5,0,0,126,0,0,0,127,0,0,0,119,0,0,0,3,0,0,0,4,0,0,0,23,0,0,0,5,0,0,0,24,0,0,0,1,0,0,0,2,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,5,0,0,128,0,0,0,129,0,0,0,119,0,0,0,7,0,0,0,8,0,0,0,25,0,0,0,9,0,0,0,26,0,0,0,3,0,0,0,4,0,0,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,224,5,0,0,130,0,0,0,131,0,0,0,119,0,0,0,22,0,0,0,27,0,0,0,28,0,0,0,29,0,0,0,30,0,0,0,31,0,0,0,1,0,0,0,248,255,255,255,224,5,0,0,23,0,0,0,24,0,0,0,25,0,0,0,26,0,0,0,27,0,0,0,28,0,0,0,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,6,0,0,132,0,0,0,133,0,0,0,119,0,0,0,30,0,0,0,32,0,0,0,33,0,0,0,34,0,0,0,35,0,0,0,36,0,0,0,2,0,0,0,248,255,255,255,8,6,0,0,31,0,0,0,32,0,0,0,33,0,0,0,34,0,0,0,35,0,0,0,36,0,0,0,37,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,6,0,0,134,0,0,0,135,0,0,0,119,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,80,6,0,0,136,0,0,0,137,0,0,0,119,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,6,0,0,138,0,0,0,139,0,0,0,119,0,0,0,38,0,0,0,39,0,0,0,25,0,0,0,26,0,0,0,27,0,0,0,28,0,0,0,40,0,0,0,29,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,144,6,0,0,140,0,0,0,141,0,0,0,119,0,0,0,41,0,0,0,42,0,0,0,31,0,0,0,32,0,0,0,33,0,0,0,34,0,0,0,43,0,0,0,35,0,0,0,36,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,176,6,0,0,142,0,0,0,143,0,0,0,119,0,0,0,44,0,0,0,45,0,0,0,37,0,0,0,38,0,0,0,39,0,0,0,40,0,0,0,46,0,0,0,41,0,0,0,42,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,208,6,0,0,144,0,0,0,145,0,0,0,119,0,0,0,47,0,0,0,48,0,0,0,43,0,0,0,44,0,0,0,45,0,0,0,46,0,0,0,49,0,0,0,47,0,0,0,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,240,6,0,0,146,0,0,0,147,0,0,0,119,0,0,0,3,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,7,0,0,148,0,0,0,149,0,0,0,119,0,0,0,5,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,7,0,0,150,0,0,0,151,0,0,0,119,0,0,0,1,0,0,0,37,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,80,7,0,0,152,0,0,0,153,0,0,0,119,0,0,0,2,0,0,0,38,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,7,0,0,154,0,0,0,155,0,0,0,119,0,0,0,19,0,0,0,7,0,0,0,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,144,7,0,0,156,0,0,0,157,0,0,0,119,0,0,0,20,0,0,0,8,0,0,0,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,240,4,0,0,158,0,0,0,159,0,0,0,119,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,5,0,0,160,0,0,0,161,0,0,0,119,0,0,0,27,0,0,0,21,0,0,0,28,0,0,0,22,0,0,0,29,0,0,0,9,0,0,0,23,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,208,4,0,0,162,0,0,0,163,0,0,0,119,0,0,0,3,0,0,0,4,0,0,0,12,0,0,0,50,0,0,0,51,0,0,0,13,0,0,0,52,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,5,0,0,164,0,0,0,165,0,0,0,119,0,0,0,53,0,0,0,54,0,0,0,51,0,0,0,52,0,0,0,53,0,0,0,0,0,0,0,80,5,0,0,166,0,0,0,167,0,0,0,119,0,0,0,55,0,0,0,56,0,0,0,54,0,0,0,55,0,0,0,56,0,0,0,0,0,0,0,32,4,0,0,168,0,0,0,169,0,0,0,119,0,0,0,0,0,0,0,48,4,0,0,168,0,0,0,170,0,0,0,119,0,0,0,24,0,0,0,10,0,0,0,11,0,0,0,12,0,0,0,30,0,0,0,25,0,0,0,31,0,0,0,26,0,0,0,32,0,0,0,13,0,0,0,27,0,0,0,14,0,0,0,0,0,0,0,80,4,0,0,168,0,0,0,171,0,0,0,119,0,0,0,5,0,0,0,6,0,0,0,15,0,0,0,57,0,0,0,58,0,0,0,16,0,0,0,59,0,0,0,0,0,0,0,112,4,0,0,168,0,0,0,172,0,0,0,119,0,0,0,7,0,0,0,8,0,0,0,17,0,0,0,60,0,0,0,61,0,0,0,18,0,0,0,62,0,0,0,0,0,0,0,144,4,0,0,168,0,0,0,173,0,0,0,119,0,0,0,9,0,0,0,10,0,0,0,19,0,0,0,63,0,0,0,64,0,0,0,20,0,0,0,65,0,0,0,0,0,0,0,176,4,0,0,168,0,0,0,174,0,0,0,119,0,0,0,9,0,0,0,10,0,0,0,19,0,0,0,63,0,0,0,64,0,0,0,20,0,0,0,65,0,0,0,0,0,0,0,192,4,0,0,168,0,0,0,175,0,0,0,119,0,0,0,9,0,0,0,10,0,0,0,19,0,0,0,63,0,0,0,64,0,0,0,20,0,0,0,65,0,0,0,0,0,0,0,37,0,0,0,72,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,58,0,0,0,37,0,0,0,83,0,0,0,37,0,0,0,109,0,0,0,47,0,0,0,37,0,0,0,100,0,0,0,47,0,0,0,37,0,0,0,121,0,0,0,37,0,0,0,89,0,0,0,45,0,0,0,37,0,0,0,109,0,0,0,45,0,0,0,37,0,0,0,100,0,0,0,37,0,0,0,73,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,58,0,0,0,37,0,0,0,83,0,0,0,32,0,0,0,37,0,0,0,112,0,0,0,37,0,0,0,72,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,37,0,0,0,72,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,58,0,0,0,37,0,0,0,83,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,116,0,0,0,114,0,0,0,117,0,0,0,101,0,0,0,0,0,0,0,102,0,0,0,97,0,0,0,108,0,0,0,115,0,0,0,101,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,83,0,0,0,117,0,0,0,110,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,77,0,0,0,111,0,0,0,110,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,84,0,0,0,117,0,0,0,101,0,0,0,115,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,87,0,0,0,101,0,0,0,100,0,0,0,110,0,0,0,101,0,0,0,115,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,84,0,0,0,104,0,0,0,117,0,0,0,114,0,0,0,115,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,70,0,0,0,114,0,0,0,105,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,83,0,0,0,97,0,0,0,116,0,0,0,117,0,0,0,114,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,83,0,0,0,117,0,0,0,110,0,0,0,0,0,0,0,77,0,0,0,111,0,0,0,110,0,0,0,0,0,0,0,84,0,0,0,117,0,0,0,101,0,0,0,0,0,0,0,87,0,0,0,101,0,0,0,100,0,0,0,0,0,0,0,84,0,0,0,104,0,0,0,117,0,0,0,0,0,0,0,70,0,0,0,114,0,0,0,105,0,0,0,0,0,0,0,83,0,0,0,97,0,0,0,116,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,74,0,0,0,97,0,0,0,110,0,0,0,117,0,0,0,97,0,0,0,114,0,0,0,121,0,0,0,0,0,0,0,70,0,0,0,101,0,0,0,98,0,0,0,114,0,0,0,117,0,0,0,97,0,0,0,114,0,0,0,121,0,0,0,0,0,0,0,77,0,0,0,97,0,0,0,114,0,0,0,99,0,0,0,104,0,0,0,0,0,0,0,65,0,0,0,112,0,0,0,114,0,0,0,105,0,0,0,108,0,0,0,0,0,0,0,77,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,74,0,0,0,117,0,0,0,110,0,0,0,101,0,0,0,0,0,0,0,74,0,0,0,117,0,0,0,108,0,0,0,121,0,0,0,0,0,0,0,65,0,0,0,117,0,0,0,103,0,0,0,117,0,0,0,115,0,0,0,116,0,0,0,0,0,0,0,83,0,0,0,101,0,0,0,112,0,0,0,116,0,0,0,101,0,0,0,109,0,0,0,98,0,0,0,101,0,0,0,114,0,0,0,0,0,0,0,79,0,0,0,99,0,0,0,116,0,0,0,111,0,0,0,98,0,0,0,101,0,0,0,114,0,0,0,0,0,0,0,78,0,0,0,111,0,0,0,118,0,0,0,101,0,0,0,109,0,0,0,98,0,0,0,101,0,0,0,114,0,0,0,0,0,0,0,68,0,0,0,101,0,0,0,99,0,0,0,101,0,0,0,109,0,0,0,98,0,0,0,101,0,0,0,114,0,0,0,0,0,0,0,74,0,0,0,97,0,0,0,110,0,0,0,0,0,0,0,70,0,0,0,101,0,0,0,98,0,0,0,0,0,0,0,77,0,0,0,97,0,0,0,114,0,0,0,0,0,0,0,65,0,0,0,112,0,0,0,114,0,0,0,0,0,0,0,74,0,0,0,117,0,0,0,110,0,0,0,0,0,0,0,74,0,0,0,117,0,0,0,108,0,0,0,0,0,0,0,65,0,0,0,117,0,0,0,103,0,0,0,0,0,0,0,83,0,0,0,101,0,0,0,112,0,0,0,0,0,0,0,79,0,0,0,99,0,0,0,116,0,0,0,0,0,0,0,78,0,0,0,111,0,0,0,118,0,0,0,0,0,0,0,68,0,0,0,101,0,0,0,99,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,65,0,0,0,77,0,0,0,0,0,0,0,80,0,0,0,77,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,37,0,0,0,109,0,0,0,47,0,0,0,37,0,0,0,100,0,0,0,47,0,0,0,37,0,0,0,121,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,37,0,0,0,72,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,58,0,0,0,37,0,0,0,83,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,37,0,0,0,97,0,0,0,32,0,0,0,37,0,0,0,98,0,0,0,32,0,0,0,37,0,0,0,100,0,0,0,32,0,0,0,37,0,0,0,72,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,58,0,0,0,37,0,0,0,83,0,0,0,32,0,0,0,37,0,0,0,89,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,37,0,0,0,73,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,58,0,0,0,37,0,0,0,83,0,0,0,32,0,0,0,37,0,0,0,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,3,32,2,32,2,32,2,32,2,32,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1,96,4,192,4,192,4,192,4,192,4,192,4,192,4,192,4,192,4,192,4,192,4,192,4,192,4,192,4,192,4,192,8,216,8,216,8,216,8,216,8,216,8,216,8,216,8,216,8,216,8,216,4,192,4,192,4,192,4,192,4,192,4,192,4,192,8,213,8,213,8,213,8,213,8,213,8,213,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,4,192,4,192,4,192,4,192,4,192,4,192,8,214,8,214,8,214,8,214,8,214,8,214,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,4,192,4,192,4,192,4,192,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,114,97,119,83,116,114,101,97,109,32,111,114,32,114,97,119,68,97,116,97,32,110,101,101,100,115,32,116,111,32,114,101,102,101,114,101,110,99,101,32,116,111,32,115,111,109,101,116,104,105,110,103,0,119,105,100,116,104,32,110,101,101,100,115,32,116,111,32,98,101,32,105,110,32,116,104,101,32,114,97,110,103,101,32,91,49,44,32,54,53,53,51,53,93,0,104,101,105,103,104,116,32,110,101,101,100,115,32,116,111,32,98,101,32,105,110,32,116,104,101,32,114,97,110,103,101,32,91,49,44,32,54,53,53,51,53,93,0,98,105,116,115,112,101,114,115,97,109,112,108,101,32,110,101,101,100,115,32,116,111,32,98,101,32,105,110,32,116,104,101,32,114,97,110,103,101,32,91,50,44,32,49,54,93,0,105,110,116,101,114,108,101,97,118,101,77,111,100,101,32,110,101,101,100,115,32,116,111,32,98,101,32,115,101,116,32,116,111,32,97,32,118,97,108,117,101,32,111,102,32,123,78,111,110,101,44,32,83,97,109,112,108,101,44,32,76,105,110,101,125,0,99,111,109,112,111,110,101,110,116,115,32,110,101,101,100,115,32,116,111,32,98,101,32,105,110,32,116,104,101,32,114,97,110,103,101,32,91,49,44,32,50,53,53,93,0,117,110,99,111,109,112,114,101,115,115,101,100,32,115,105,122,101,32,100,111,101,115,32,110,111,116,32,109,97,116,99,104,32,119,105,116,104,32,116,104,101,32,111,116,104,101,114,32,112,97,114,97,109,101,116,101,114,115,0,105,110,116,101,114,108,101,97,118,101,77,111,100,101,32,99,97,110,110,111,116,32,98,101,32,115,101,116,32,116,111,32,83,97,109,112,108,101,32,105,110,32,99,111,109,98,105,110,97,116,105,111,110,32,119,105,116,104,32,99,111,109,112,111,110,101,110,116,115,32,61,32,52,0,105,110,116,101,114,108,101,97,118,101,77,111,100,101,32,99,97,110,32,111,110,108,121,32,98,101,32,115,101,116,32,116,111,32,78,111,110,101,32,105,110,32,99,111,109,98,105,110,97,116,105,111,110,32,119,105,116,104,32,99,111,109,112,111,110,101,110,116,115,32,61,32,49,0,67,111,108,111,114,32,116,114,97,110,115,102,111,114,109,97,116,105,111,110,32,0,78,111,32,109,111,114,101,32,98,121,116,101,115,32,97,118,97,105,108,97,98,108,101,32,105,110,32,105,110,112,117,116,32,98,117,102,102,101,114,44,32,115,116,105,108,108,32,110,101,101,100,101,100,105,110,103,32,0,65,110,32,111,100,100,32,110,117,109,98,101,114,32,111,102,32,98,121,116,101,115,32,40,0,41,32,99,97,110,110,111,116,32,98,101,32,115,119,97,112,112,101,100,46,0,49,56,80,114,111,99,101,115,115,84,114,97,110,115,102,111,114,109,101,100,73,49,54,84,114,97,110,115,102,111,114,109,83,104,105,102,116,101,100,73,49,50,84,114,97,110,115,102,111,114,109,72,112,51,73,116,69,69,69,0,49,49,80,114,111,99,101,115,115,76,105,110,101,0,49,56,80,114,111,99,101,115,115,84,114,97,110,115,102,111,114,109,101,100,73,49,54,84,114,97,110,115,102,111,114,109,83,104,105,102,116,101,100,73,49,50,84,114,97,110,115,102,111,114,109,72,112,50,73,116,69,69,69,0,49,56,80,114,111,99,101,115,115,84,114,97,110,115,102,111,114,109,101,100,73,49,54,84,114,97,110,115,102,111,114,109,83,104,105,102,116,101,100,73,49,50,84,114,97,110,115,102,111,114,109,72,112,49,73,116,69,69,69,0,78,83,116,51,95,95,49,49,53,98,97,115,105,99,95,115,116,114,105,110,103,98,117,102,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,99,69,69,69,69,0,78,83,116,51,95,95,49,49,57,98,97,115,105,99,95,111,115,116,114,105,110,103,115,116,114,101,97,109,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,99,69,69,69,69,0,49,56,80,114,111,99,101,115,115,84,114,97,110,115,102,111,114,109,101,100,73,49,50,84,114,97,110,115,102,111,114,109,72,112,51,73,116,69,69,0,49,56,80,114,111,99,101,115,115,84,114,97,110,115,102,111,114,109,101,100,73,49,50,84,114,97,110,115,102,111,114,109,72,112,50,73,116,69,69,0,49,56,80,114,111,99,101,115,115,84,114,97,110,115,102,111,114,109,101,100,73,49,50,84,114,97,110,115,102,111,114,109,72,112,49,73,116,69,69,0,49,56,80,114,111,99,101,115,115,84,114,97,110,115,102,111,114,109,101,100,73,49,51,84,114,97,110,115,102,111,114,109,78,111,110,101,73,116,69,69,0,50,50,80,111,115,116,80,114,111,99,101,115,83,105,110,103,108,101,83,116,114,101,97,109,0,50,53,80,111,115,116,80,114,111,99,101,115,83,105,110,103,108,101,67,111,109,112,111,110,101,110,116,0,49,53,69,110,99,111,100,101,114,83,116,114,97,116,101,103,121,0,56,74,108,115,67,111,100,101,99,73,49,52,68,101,102,97,117,108,116,84,114,97,105,116,115,84,73,116,116,69,49,53,69,110,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,56,74,108,115,67,111,100,101,99,73,49,52,68,101,102,97,117,108,116,84,114,97,105,116,115,84,73,116,55,84,114,105,112,108,101,116,73,116,69,69,49,53,69,110,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,49,56,80,114,111,99,101,115,115,84,114,97,110,115,102,111,114,109,101,100,73,49,50,84,114,97,110,115,102,111,114,109,72,112,51,73,104,69,69,0,49,56,80,114,111,99,101,115,115,84,114,97,110,115,102,111,114,109,101,100,73,49,50,84,114,97,110,115,102,111,114,109,72,112,50,73,104,69,69,0,49,56,80,114,111,99,101,115,115,84,114,97,110,115,102,111,114,109,101,100,73,49,50,84,114,97,110,115,102,111,114,109,72,112,49,73,104,69,69,0,49,56,80,114,111,99,101,115,115,84,114,97,110,115,102,111,114,109,101,100,73,49,51,84,114,97,110,115,102,111,114,109,78,111,110,101,73,104,69,69,0,56,74,108,115,67,111,100,101,99,73,49,52,68,101,102,97,117,108,116,84,114,97,105,116,115,84,73,104,55,84,114,105,112,108,101,116,73,104,69,69,49,53,69,110,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,56,74,108,115,67,111,100,101,99,73,49,53,76,111,115,115,108,101,115,115,84,114,97,105,116,115,84,73,116,76,105,49,54,69,69,49,53,69,110,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,56,74,108,115,67,111,100,101,99,73,49,53,76,111,115,115,108,101,115,115,84,114,97,105,116,115,84,73,116,76,105,49,50,69,69,49,53,69,110,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,56,74,108,115,67,111,100,101,99,73,49,53,76,111,115,115,108,101,115,115,84,114,97,105,116,115,84,73,104,76,105,56,69,69,49,53,69,110,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,56,74,108,115,67,111,100,101,99,73,49,53,76,111,115,115,108,101,115,115,84,114,97,105,116,115,84,73,55,84,114,105,112,108,101,116,73,104,69,76,105,56,69,69,49,53,69,110,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,56,74,108,115,67,111,100,101,99,73,49,52,68,101,102,97,117,108,116,84,114,97,105,116,115,84,73,104,104,69,49,53,69,110,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,49,53,68,101,99,111,100,101,114,83,116,114,97,116,101,103,121,0,56,74,108,115,67,111,100,101,99,73,49,52,68,101,102,97,117,108,116,84,114,97,105,116,115,84,73,116,116,69,49,53,68,101,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,56,74,108,115,67,111,100,101,99,73,49,52,68,101,102,97,117,108,116,84,114,97,105,116,115,84,73,116,55,84,114,105,112,108,101,116,73,116,69,69,49,53,68,101,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,56,74,108,115,67,111,100,101,99,73,49,52,68,101,102,97,117,108,116,84,114,97,105,116,115,84,73,104,55,84,114,105,112,108,101,116,73,104,69,69,49,53,68,101,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,56,74,108,115,67,111,100,101,99,73,49,53,76,111,115,115,108,101,115,115,84,114,97,105,116,115,84,73,116,76,105,49,54,69,69,49,53,68,101,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,56,74,108,115,67,111,100,101,99,73,49,53,76,111,115,115,108,101,115,115,84,114,97,105,116,115,84,73,116,76,105,49,50,69,69,49,53,68,101,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,56,74,108,115,67,111,100,101,99,73,49,53,76,111,115,115,108,101,115,115,84,114,97,105,116,115,84,73,104,76,105,56,69,69,49,53,68,101,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,56,74,108,115,67,111,100,101,99,73,49,53,76,111,115,115,108,101,115,115,84,114,97,105,116,115,84,73,55,84,114,105,112,108,101,116,73,104,69,76,105,56,69,69,49,53,68,101,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,56,74,108,115,67,111,100,101,99,73,49,52,68,101,102,97,117,108,116,84,114,97,105,116,115,84,73,104,104,69,49,53,68,101,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,67,104,97,114,76,83,32,101,114,114,111,114,0,99,104,97,114,108,115,0,49,53,99,104,97,114,108,115,95,99,97,116,101,103,111,114,121,0,112,97,114,97,109,115,46,88,116,104,117,109,98,110,97,105,108,32,105,115,32,62,32,48,32,98,117,116,32,112,97,114,97,109,115,46,116,104,117,109,98,110,97,105,108,32,61,61,32,110,117,108,108,95,112,116,114,0,49,55,74,112,101,103,77,97,114,107,101,114,83,101,103,109,101,110,116,0,49,49,74,112,101,103,83,101,103,109,101,110,116,0,50,48,74,112,101,103,73,109,97,103,101,68,97,116,97,83,101,103,109,101,110,116,0,69,120,112,101,99,116,101,100,32,74,80,69,71,32,77,97,114,107,101,114,32,115,116,97,114,116,32,98,121,116,101,32,48,120,70,70,32,98,117,116,32,116,104,101,32,98,121,116,101,32,118,97,108,117,101,32,119,97,115,32,48,120,0,74,80,69,71,32,101,110,99,111,100,105,110,103,32,119,105,116,104,32,109,97,114,107,101,114,32,0,32,105,115,32,110,111,116,32,115,117,112,112,111,114,116,101,100,46,0,85,110,107,110,111,119,110,32,74,80,69,71,32,109,97,114,107,101,114,32,0,32,101,110,99,111,117,110,116,101,114,101,100,46,0,109,114,102,120,0,83,116,57,98,97,100,95,97,108,108,111,99,0,83,116,57,101,120,99,101,112,116,105,111,110,0,83,116,49,51,114,117,110,116,105,109,101,95,101,114,114,111,114,0,83,116,57,116,121,112,101,95,105,110,102,111,0,83,116,56,98,97,100,95,99,97,115,116,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,54,95,95,115,104,105,109,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,57,95,95,112,111,105,110,116,101,114,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,112,98,97,115,101,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,48,95,95,115,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,49,95,95,118,109,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,33,34,98,97,115,105,99,95,115,116,114,105,110,103,32,108,101,110,103,116,104,95,101,114,114,111,114,34,0,47,85,115,101,114,115,47,99,104,97,102,101,121,47,101,109,115,100,107,95,112,111,114,116,97,98,108,101,47,101,109,115,99,114,105,112,116,101,110,47,49,46,51,53,46,48,47,115,121,115,116,101,109,47,105,110,99,108,117,100,101,47,108,105,98,99,120,120,47,115,116,114,105,110,103,0,95,95,116,104,114,111,119,95,108,101,110,103,116,104,95,101,114,114,111,114,0,33,34,118,101,99,116,111,114,32,108,101,110,103,116,104,95,101,114,114,111,114,34,0,47,85,115,101,114,115,47,99,104,97,102,101,121,47,101,109,115,100,107,95,112,111,114,116,97,98,108,101,47,101,109,115,99,114,105,112,116,101,110,47,49,46,51,53,46,48,47,115,121,115,116,101,109,47,105,110,99,108,117,100,101,47,108,105,98,99,120,120,47,118,101,99,116,111,114,0,112,116,104,114,101,97,100,95,111,110,99,101,32,102,97,105,108,117,114,101,32,105,110,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,95,102,97,115,116,40,41,0,115,116,100,58,58,98,97,100,95,97,108,108,111,99,0,116,101,114,109,105,110,97,116,101,95,104,97,110,100,108,101,114,32,117,110,101,120,112,101,99,116,101,100,108,121,32,114,101,116,117,114,110,101,100,0,116,101,114,109,105,110,97,116,101,95,104,97,110,100,108,101,114,32,117,110,101,120,112,101,99,116,101,100,108,121,32,116,104,114,101,119,32,97,110,32,101,120,99,101,112,116,105,111,110,0,115,116,100,58,58,98,97,100,95,99,97,115,116,0,99,97,110,110,111,116,32,99,114,101,97,116,101,32,112,116,104,114,101,97,100,32,107,101,121,32,102,111,114,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,40,41,0,99,97,110,110,111,116,32,122,101,114,111,32,111,117,116,32,116,104,114,101,97,100,32,118,97,108,117,101,32,102,111,114,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,40,41,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,101,120,99,101,112,116,105,111,110,32,111,102,32,116,121,112,101,32,37,115,58,32,37,115,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,101,120,99,101,112,116,105,111,110,32,111,102,32,116,121,112,101,32,37,115,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,102,111,114,101,105,103,110,32,101,120,99,101,112,116,105,111,110,0,116,101,114,109,105,110,97,116,105,110,103,0,117,110,99,97,117,103,104,116,0,84,33,34,25,13,1,2,3,17,75,28,12,16,4,11,29,18,30,39,104,110,111,112,113,98,32,5,6,15,19,20,21,26,8,22,7,40,36,23,24,9,10,14,27,31,37,35,131,130,125,38,42,43,60,61,62,63,67,71,74,77,88,89,90,91,92,93,94,95,96,97,99,100,101,102,103,105,106,107,108,114,115,116,121,122,123,124,0,73,108,108,101,103,97,108,32,98,121,116,101,32,115,101,113,117,101,110,99,101,0,68,111,109,97,105,110,32,101,114,114,111,114,0,82,101,115,117,108,116,32,110,111,116,32,114,101,112,114,101,115,101,110,116,97,98,108,101,0,78,111,116,32,97,32,116,116,121,0,80,101,114,109,105,115,115,105,111,110,32,100,101,110,105,101,100,0,79,112,101,114,97,116,105,111,110,32,110,111,116,32,112,101,114,109,105,116,116,101,100,0,78,111,32,115,117,99,104,32,102,105,108,101,32,111,114,32,100,105,114,101,99,116,111,114,121,0,78,111,32,115,117,99,104,32,112,114,111,99,101,115,115,0,70,105,108,101,32,101,120,105,115,116,115,0,86,97,108,117,101,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,100,97,116,97,32,116,121,112,101,0,78,111,32,115,112,97,99,101,32,108,101,102,116,32,111,110,32,100,101,118,105,99,101,0,79,117,116,32,111,102,32,109,101,109,111,114,121,0,82,101,115,111,117,114,99,101,32,98,117,115,121,0,73,110,116,101,114,114,117,112,116,101,100,32,115,121,115,116,101,109,32,99,97,108,108,0,82,101,115,111,117,114,99,101,32,116,101,109,112,111,114,97,114,105,108,121,32,117,110,97,118,97,105,108,97,98,108,101,0,73,110,118,97,108,105,100,32,115,101,101,107,0,67,114,111,115,115,45,100,101,118,105,99,101,32,108,105,110,107,0,82,101,97,100,45,111,110,108,121,32,102,105,108,101,32,115,121,115,116,101,109,0,68,105,114,101,99,116,111,114,121,32,110,111,116,32,101,109,112,116,121,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,112,101,101,114,0,79,112,101,114,97,116,105,111,110,32,116,105,109,101,100,32,111,117,116,0,67,111,110,110,101,99,116,105,111,110,32,114,101,102,117,115,101,100,0,72,111,115,116,32,105,115,32,100,111,119,110,0,72,111,115,116,32,105,115,32,117,110,114,101,97,99,104,97,98,108,101,0,65,100,100,114,101,115,115,32,105,110,32,117,115,101,0,66,114,111,107,101,110,32,112,105,112,101,0,73,47,79,32,101,114,114,111,114,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,32,111,114,32,97,100,100,114,101,115,115,0,66,108,111,99,107,32,100,101,118,105,99,101,32,114,101,113,117,105,114,101,100,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,0,78,111,116],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+42396),allocate([32,97,32,100,105,114,101,99,116,111,114,121,0,73,115,32,97,32,100,105,114,101,99,116,111,114,121,0,84,101,120,116,32,102,105,108,101,32,98,117,115,121,0,69,120,101,99,32,102,111,114,109,97,116,32,101,114,114,111,114,0,73,110,118,97,108,105,100,32,97,114,103,117,109,101,110,116,0,65,114,103,117,109,101,110,116,32,108,105,115,116,32,116,111,111,32,108,111,110,103,0,83,121,109,98,111,108,105,99,32,108,105,110,107,32,108,111,111,112,0,70,105,108,101,110,97,109,101,32,116,111,111,32,108,111,110,103,0,84,111,111,32,109,97,110,121,32,111,112,101,110,32,102,105,108,101,115,32,105,110,32,115,121,115,116,101,109,0,78,111,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,115,32,97,118,97,105,108,97,98,108,101,0,66,97,100,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,0,78,111,32,99,104,105,108,100,32,112,114,111,99,101,115,115,0,66,97,100,32,97,100,100,114,101,115,115,0,70,105,108,101,32,116,111,111,32,108,97,114,103,101,0,84,111,111,32,109,97,110,121,32,108,105,110,107,115,0,78,111,32,108,111,99,107,115,32,97,118,97,105,108,97,98,108,101,0,82,101,115,111,117,114,99,101,32,100,101,97,100,108,111,99,107,32,119,111,117,108,100,32,111,99,99,117,114,0,83,116,97,116,101,32,110,111,116,32,114,101,99,111,118,101,114,97,98,108,101,0,80,114,101,118,105,111,117,115,32,111,119,110,101,114,32,100,105,101,100,0,79,112,101,114,97,116,105,111,110,32,99,97,110,99,101,108,101,100,0,70,117,110,99,116,105,111,110,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,0,78,111,32,109,101,115,115,97,103,101,32,111,102,32,100,101,115,105,114,101,100,32,116,121,112,101,0,73,100,101,110,116,105,102,105,101,114,32,114,101,109,111,118,101,100,0,68,101,118,105,99,101,32,110,111,116,32,97,32,115,116,114,101,97,109,0,78,111,32,100,97,116,97,32,97,118,97,105,108,97,98,108,101,0,68,101,118,105,99,101,32,116,105,109,101,111,117,116,0,79,117,116,32,111,102,32,115,116,114,101,97,109,115,32,114,101,115,111,117,114,99,101,115,0,76,105,110,107,32,104,97,115,32,98,101,101,110,32,115,101,118,101,114,101,100,0,80,114,111,116,111,99,111,108,32,101,114,114,111,114,0,66,97,100,32,109,101,115,115,97,103,101,0,70,105,108,101,32,100,101,115,99,114,105,112,116,111,114,32,105,110,32,98,97,100,32,115,116,97,116,101,0,78,111,116,32,97,32,115,111,99,107,101,116,0,68,101,115,116,105,110,97,116,105,111,110,32,97,100,100,114,101,115,115,32,114,101,113,117,105,114,101,100,0,77,101,115,115,97,103,101,32,116,111,111,32,108,97,114,103,101,0,80,114,111,116,111,99,111,108,32,119,114,111,110,103,32,116,121,112,101,32,102,111,114,32,115,111,99,107,101,116,0,80,114,111,116,111,99,111,108,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,80,114,111,116,111,99,111,108,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,83,111,99,107,101,116,32,116,121,112,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,78,111,116,32,115,117,112,112,111,114,116,101,100,0,80,114,111,116,111,99,111,108,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,65,100,100,114,101,115,115,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,98,121,32,112,114,111,116,111,99,111,108,0,65,100,100,114,101,115,115,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,78,101,116,119,111,114,107,32,105,115,32,100,111,119,110,0,78,101,116,119,111,114,107,32,117,110,114,101,97,99,104,97,98,108,101,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,110,101,116,119,111,114,107,0,67,111,110,110,101,99,116,105,111,110,32,97,98,111,114,116,101,100,0,78,111,32,98,117,102,102,101,114,32,115,112,97,99,101,32,97,118,97,105,108,97,98,108,101,0,83,111,99,107,101,116,32,105,115,32,99,111,110,110,101,99,116,101,100,0,83,111,99,107,101,116,32,110,111,116,32,99,111,110,110,101,99,116,101,100,0,67,97,110,110,111,116,32,115,101,110,100,32,97,102,116,101,114,32,115,111,99,107,101,116,32,115,104,117,116,100,111,119,110,0,79,112,101,114,97,116,105,111,110,32,97,108,114,101,97,100,121,32,105,110,32,112,114,111,103,114,101,115,115,0,79,112,101,114,97,116,105,111,110,32,105,110,32,112,114,111,103,114,101,115,115,0,83,116,97,108,101,32,102,105,108,101,32,104,97,110,100,108,101,0,82,101,109,111,116,101,32,73,47,79,32,101,114,114,111,114,0,81,117,111,116,97,32,101,120,99,101,101,100,101,100,0,78,111,32,109,101,100,105,117,109,32,102,111,117,110,100,0,87,114,111,110,103,32,109,101,100,105,117,109,32,116,121,112,101,0,78,111,32,101,114,114,111,114,32,105,110,102,111,114,109,97,116,105,111,110,0,0,105,110,102,105,110,105,116,121,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,255,255,255,255,255,255,255,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,255,255,255,255,255,255,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,7,3,6,5,0,80,79,83,73,88],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+52636),allocate([17,0,10,0,17,17,17,0,0,0,0,5,0,0,0,0,0,0,9,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,15,10,17,17,17,3,10,7,0,1,19,9,11,11,0,0,9,6,11,0,0,11,0,6,17,0,0,0,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,10,10,17,17,17,0,10,0,0,2,0,9,11,0,0,0,9,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,13,0,0,0,0,9,14,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,15,0,0,0,0,9,16,0,0,0,0,0,16,0,0,16,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,10,0,0,0,0,9,11,0,0,0,0,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,45,43,32,32,32,48,88,48,120,0,40,110,117,108,108,41,0,45,48,88,43,48,88,32,48,88,45,48,120,43,48,120,32,48,120,0,105,110,102,0,73,78,70,0,110,97,110,0,78,65,78,0,46,0,0,78,83,116,51,95,95,49,49,49,95,95,115,116,100,111,117,116,98,117,102,73,119,69,69,0,117,110,115,117,112,112,111,114,116,101,100,32,108,111,99,97,108,101,32,102,111,114,32,115,116,97,110,100,97,114,100,32,105,110,112,117,116,0,78,83,116,51,95,95,49,49,48,95,95,115,116,100,105,110,98,117,102,73,119,69,69,0,78,83,116,51,95,95,49,49,49,95,95,115,116,100,111,117,116,98,117,102,73,99,69,69,0,78,83,116,51,95,95,49,49,48,95,95,115,116,100,105,110,98,117,102,73,99,69,69,0,78,83,116,51,95,95,49,49,52,95,95,115,104,97,114,101,100,95,99,111,117,110,116,69,0,78,83,116,51,95,95,49,49,50,115,121,115,116,101,109,95,101,114,114,111,114,69,0,78,83,116,51,95,95,49,49,52,101,114,114,111,114,95,99,97,116,101,103,111,114,121,69,0,78,83,116,51,95,95,49,49,50,95,95,100,111,95,109,101,115,115,97,103,101,69,0,58,32,0,78,83,116,51,95,95,49,56,105,111,115,95,98,97,115,101,55,102,97,105,108,117,114,101,69,0,78,83,116,51,95,95,49,56,105,111,115,95,98,97,115,101,69,0,78,83,116,51,95,95,49,57,98,97,115,105,99,95,105,111,115,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,0,78,83,116,51,95,95,49,57,98,97,115,105,99,95,105,111,115,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,0,78,83,116,51,95,95,49,49,53,98,97,115,105,99,95,115,116,114,101,97,109,98,117,102,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,0,78,83,116,51,95,95,49,49,53,98,97,115,105,99,95,115,116,114,101,97,109,98,117,102,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,0,78,83,116,51,95,95,49,49,51,98,97,115,105,99,95,105,115,116,114,101,97,109,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,0,78,83,116,51,95,95,49,49,51,98,97,115,105,99,95,105,115,116,114,101,97,109,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,0,78,83,116,51,95,95,49,49,51,98,97,115,105,99,95,111,115,116,114,101,97,109,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,0,78,83,116,51,95,95,49,49,51,98,97,115,105,99,95,111,115,116,114,101,97,109,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,0,78,83,116,51,95,95,49,49,57,95,95,105,111,115,116,114,101,97,109,95,99,97,116,101,103,111,114,121,69,0,105,111,115,95,98,97,115,101,58,58,99,108,101,97,114,0,105,111,115,116,114,101,97,109,0,117,110,115,112,101,99,105,102,105,101,100,32,105,111,115,116,114,101,97,109,95,99,97,116,101,103,111,114,121,32,101,114,114,111,114,0,48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102,65,66,67,68,69,70,120,88,43,45,112,80,105,73,110,78,0,78,83,116,51,95,95,49,54,108,111,99,97,108,101,53,102,97,99,101,116,69,0,78,83,116,51,95,95,49,53,99,116,121,112,101,73,119,69,69,0,78,83,116,51,95,95,49,55,99,111,100,101,99,118,116,73,99,99,49,49,95,95,109,98,115,116,97,116,101,95,116,69,69,0,78,83,116,51,95,95,49,55,99,111,100,101,99,118,116,73,68,115,99,49,49,95,95,109,98,115,116,97,116,101,95,116,69,69,0,78,83,116,51,95,95,49,55,99,111,100,101,99,118,116,73,68,105,99,49,49,95,95,109,98,115,116,97,116,101,95,116,69,69,0,78,83,116,51,95,95,49,49,54,95,95,110,97,114,114,111,119,95,116,111,95,117,116,102,56,73,76,106,51,50,69,69,69,0,78,83,116,51,95,95,49,49,55,95,95,119,105,100,101,110,95,102,114,111,109,95,117,116,102,56,73,76,106,51,50,69,69,69,0,78,83,116,51,95,95,49,55,99,111,100,101,99,118,116,73,119,99,49,49,95,95,109,98,115,116,97,116,101,95,116,69,69,0,78,83,116,51,95,95,49,54,108,111,99,97,108,101,53,95,95,105,109,112,69,0,78,83,116,51,95,95,49,55,99,111,108,108,97,116,101,73,99,69,69,0,78,83,116,51,95,95,49,55,99,111,108,108,97,116,101,73,119,69,69,0,78,83,116,51,95,95,49,53,99,116,121,112,101,73,99,69,69,0,78,83,116,51,95,95,49,56,110,117,109,112,117,110,99,116,73,99,69,69,0,78,83,116,51,95,95,49,56,110,117,109,112,117,110,99,116,73,119,69,69,0,78,83,116,51,95,95,49,55,110,117,109,95,103,101,116,73,99,78,83,95,49,57,105,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,69,69,0,78,83,116,51,95,95,49,55,110,117,109,95,103,101,116,73,119,78,83,95,49,57,105,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,69,69,0,78,83,116,51,95,95,49,55,110,117,109,95,112,117,116,73,99,78,83,95,49,57,111,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,69,69,0,78,83,116,51,95,95,49,55,110,117,109,95,112,117,116,73,119,78,83,95,49,57,111,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,69,69,0,78,83,116,51,95,95,49,56,116,105,109,101,95,103,101,116,73,99,78,83,95,49,57,105,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,69,69,0,78,83,116,51,95,95,49,56,116,105,109,101,95,103,101,116,73,119,78,83,95,49,57,105,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,69,69,0,78,83,116,51,95,95,49,56,116,105,109,101,95,112,117,116,73,99,78,83,95,49,57,111,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,69,69,0,78,83,116,51,95,95,49,56,116,105,109,101,95,112,117,116,73,119,78,83,95,49,57,111,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,69,69,0,78,83,116,51,95,95,49,49,48,109,111,110,101,121,112,117,110,99,116,73,99,76,98,48,69,69,69,0,78,83,116,51,95,95,49,49,48,109,111,110,101,121,112,117,110,99,116,73,99,76,98,49,69,69,69,0,78,83,116,51,95,95,49,49,48,109,111,110,101,121,112,117,110,99,116,73,119,76,98,48,69,69,69,0,78,83,116,51,95,95,49,49,48,109,111,110,101,121,112,117,110,99,116,73,119,76,98,49,69,69,69,0,78,83,116,51,95,95,49,57,109,111,110,101,121,95,103,101,116,73,99,78,83,95,49,57,105,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,69,69,0,78,83,116,51,95,95,49,57,109,111,110,101,121,95,103,101,116,73,119,78,83,95,49,57,105,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,69,69,0,78,83,116,51,95,95,49,57,109,111,110,101,121,95,112,117,116,73,99,78,83,95,49,57,111,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,69,69,0,78,83,116,51,95,95,49,57,109,111,110,101,121,95,112,117,116,73,119,78,83,95,49,57,111,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,69,69,0,78,83,116,51,95,95,49,56,109,101,115,115,97,103,101,115,73,99,69,69,0,78,83,116,51,95,95,49,56,109,101,115,115,97,103,101,115,73,119,69,69,0,37,112,0,67,0,37,0,0,0,0,0,108,0,108,108,0,0,76,0,37,112,0,0,0,0,37,72,58,37,77,58,37,83,37,109,47,37,100,47,37,121,37,89,45,37,109,45,37,100,37,73,58,37,77,58,37,83,32,37,112,37,72,58,37,77,37,72,58,37,77,58,37,83,108,111,99,97,108,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,48,49,50,51,52,53,54,55,56,57,0,37,76,102,0,109,111,110,101,121,95,103,101,116,32,101,114,114,111,114,0,48,49,50,51,52,53,54,55,56,57,0,37,46,48,76,102,0,116,114,117,101,0,102,97,108,115,101,0,83,117,110,100,97,121,0,77,111,110,100,97,121,0,84,117,101,115,100,97,121,0,87,101,100,110,101,115,100,97,121,0,84,104,117,114,115,100,97,121,0,70,114,105,100,97,121,0,83,97,116,117,114,100,97,121,0,83,117,110,0,77,111,110,0,84,117,101,0,87,101,100,0,84,104,117,0,70,114,105,0,83,97,116,0,74,97,110,117,97,114,121,0,70,101,98,114,117,97,114,121,0,77,97,114,99,104,0,65,112,114,105,108,0,77,97,121,0,74,117,110,101,0,74,117,108,121,0,65,117,103,117,115,116,0,83,101,112,116,101,109,98,101,114,0,79,99,116,111,98,101,114,0,78,111,118,101,109,98,101,114,0,68,101,99,101,109,98,101,114,0,74,97,110,0,70,101,98,0,77,97,114,0,65,112,114,0,74,117,110,0,74,117,108,0,65,117,103,0,83,101,112,0,79,99,116,0,78,111,118,0,68,101,99,0,65,77,0,80,77,0,37,109,47,37,100,47,37,121,0,37,72,58,37,77,58,37,83,0,37,97,32,37,98,32,37,100,32,37,72,58,37,77,58,37,83,32,37,89,0,37,73,58,37,77,58,37,83,32,37,112,0,78,83,116,51,95,95,49,49,51,109,101,115,115,97,103,101,115,95,98,97,115,101,69,0,78,83,116,51,95,95,49,49,49,95,95,109,111,110,101,121,95,112,117,116,73,119,69,69,0,78,83,116,51,95,95,49,49,49,95,95,109,111,110,101,121,95,112,117,116,73,99,69,69,0,78,83,116,51,95,95,49,49,49,95,95,109,111,110,101,121,95,103,101,116,73,119,69,69,0,78,83,116,51,95,95,49,49,49,95,95,109,111,110,101,121,95,103,101,116,73,99,69,69,0,78,83,116,51,95,95,49,49,48,109,111,110,101,121,95,98,97,115,101,69,0,78,83,116,51,95,95,49,49,48,95,95,116,105,109,101,95,112,117,116,69,0,78,83,116,51,95,95,49,50,48,95,95,116,105,109,101,95,103,101,116,95,99,95,115,116,111,114,97,103,101,73,119,69,69,0,78,83,116,51,95,95,49,50,48,95,95,116,105,109,101,95,103,101,116,95,99,95,115,116,111,114,97,103,101,73,99,69,69,0,78,83,116,51,95,95,49,57,116,105,109,101,95,98,97,115,101,69,0,78,83,116,51,95,95,49,57,95,95,110,117,109,95,112,117,116,73,119,69,69,0,78,83,116,51,95,95,49,49,52,95,95,110,117,109,95,112,117,116,95,98,97,115,101,69,0,78,83,116,51,95,95,49,57,95,95,110,117,109,95,112,117,116,73,99,69,69,0,78,83,116,51,95,95,49,57,95,95,110,117,109,95,103,101,116,73,119,69,69,0,78,83,116,51,95,95,49,49,52,95,95,110,117,109,95,103,101,116,95,98,97,115,101,69,0,78,83,116,51,95,95,49,57,95,95,110,117,109,95,103,101,116,73,99,69,69,0,78,83,116,51,95,95,49,49,50,99,111,100,101,99,118,116,95,98,97,115,101,69,0,78,83,116,51,95,95,49,49,48,99,116,121,112,101,95,98,97,115,101,69,0],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+56215);var tempDoublePtr=Runtime.alignMemory(allocate(12,"i8",ALLOC_STATIC),8);assert(tempDoublePtr%8==0);function _atexit(l,n){__ATEXIT__.unshift({func:l,arg:n})}function ___cxa_atexit(){return _atexit.apply(null,arguments)}Module._i64Subtract=_i64Subtract;function ___assert_fail(l,n,u,p){throw ABORT=!0,"Assertion failed: "+Pointer_stringify(l)+", at: "+[n?Pointer_stringify(n):"unknown filename",u,p?Pointer_stringify(p):"unknown function"]+" at "+stackTrace()}function __ZSt18uncaught_exceptionv(){return!!__ZSt18uncaught_exceptionv.uncaught_exception}var EXCEPTIONS={last:0,caught:[],infos:{},deAdjust:function(l){if(!l||EXCEPTIONS.infos[l])return l;for(var n in EXCEPTIONS.infos){var u=EXCEPTIONS.infos[n];if(u.adjusted===l)return n}return l},addRef:function(l){if(l){var n=EXCEPTIONS.infos[l];n.refcount++}},decRef:function(l){if(l){var n=EXCEPTIONS.infos[l];assert(n.refcount>0),n.refcount--,n.refcount===0&&(n.destructor&&Runtime.dynCall("vi",n.destructor,[l]),delete EXCEPTIONS.infos[l],___cxa_free_exception(l))}},clearRef:function(l){if(l){var n=EXCEPTIONS.infos[l];n.refcount=0}}};function ___resumeException(l){throw EXCEPTIONS.last||(EXCEPTIONS.last=l),EXCEPTIONS.clearRef(EXCEPTIONS.deAdjust(l)),l}function ___cxa_find_matching_catch(){var l=EXCEPTIONS.last;if(!l)return asm.setTempRet0(0),0|0;var n=EXCEPTIONS.infos[l],u=n.type;if(!u)return asm.setTempRet0(0),l|0;var p=Array.prototype.slice.call(arguments);Module.___cxa_is_pointer_type(u),___cxa_find_matching_catch.buffer||(___cxa_find_matching_catch.buffer=_malloc(4)),HEAP32[___cxa_find_matching_catch.buffer>>2]=l,l=___cxa_find_matching_catch.buffer;for(var v=0;v<p.length;v++)if(p[v]&&Module.___cxa_can_catch(p[v],u,l))return l=HEAP32[l>>2],n.adjusted=l,asm.setTempRet0(p[v]),l|0;return l=HEAP32[l>>2],asm.setTempRet0(u),l|0}function ___cxa_throw(l,n,u){throw EXCEPTIONS.infos[l]={ptr:l,adjusted:l,type:n,destructor:u,refcount:0},EXCEPTIONS.last=l,"uncaught_exception"in __ZSt18uncaught_exceptionv?__ZSt18uncaught_exceptionv.uncaught_exception++:__ZSt18uncaught_exceptionv.uncaught_exception=1,l}Module._memset=_memset;function ___gxx_personality_v0(){}function __isLeapYear(l){return l%4===0&&(l%100!==0||l%400===0)}function __arraySum(l,n){for(var u=0,p=0;p<=n;u+=l[p++]);return u}var __MONTH_DAYS_LEAP=[31,29,31,30,31,30,31,31,30,31,30,31],__MONTH_DAYS_REGULAR=[31,28,31,30,31,30,31,31,30,31,30,31];function __addDays(l,n){for(var u=new Date(l.getTime());n>0;){var p=__isLeapYear(u.getFullYear()),v=u.getMonth(),d=(p?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR)[v];if(n>d-u.getDate())n-=d-u.getDate()+1,u.setDate(1),v<11?u.setMonth(v+1):(u.setMonth(0),u.setFullYear(u.getFullYear()+1));else return u.setDate(u.getDate()+n),u}return u}function _strftime(l,n,u,p){var v=HEAP32[p+40>>2],d={tm_sec:HEAP32[p>>2],tm_min:HEAP32[p+4>>2],tm_hour:HEAP32[p+8>>2],tm_mday:HEAP32[p+12>>2],tm_mon:HEAP32[p+16>>2],tm_year:HEAP32[p+20>>2],tm_wday:HEAP32[p+24>>2],tm_yday:HEAP32[p+28>>2],tm_isdst:HEAP32[p+32>>2],tm_gmtoff:HEAP32[p+36>>2],tm_zone:v?Pointer_stringify(v):""},g=Pointer_stringify(u),_={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S"};for(var C in _)g=g.replace(new RegExp(C,"g"),_[C]);var E=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],w=["January","February","March","April","May","June","July","August","September","October","November","December"];function m(V,$,b){for(var H=typeof V=="number"?V.toString():V||"";H.length<$;)H=b[0]+H;return H}function y(V,$){return m(V,$,"0")}function e(V,$){function b(G){return G<0?-1:G>0?1:0}var H;return(H=b(V.getFullYear()-$.getFullYear()))===0&&(H=b(V.getMonth()-$.getMonth()))===0&&(H=b(V.getDate()-$.getDate())),H}function P(V){switch(V.getDay()){case 0:return new Date(V.getFullYear()-1,11,29);case 1:return V;case 2:return new Date(V.getFullYear(),0,3);case 3:return new Date(V.getFullYear(),0,2);case 4:return new Date(V.getFullYear(),0,1);case 5:return new Date(V.getFullYear()-1,11,31);case 6:return new Date(V.getFullYear()-1,11,30)}}function O(V){var $=__addDays(new Date(V.tm_year+1900,0,1),V.tm_yday),b=new Date($.getFullYear(),0,4),H=new Date($.getFullYear()+1,0,4),G=P(b),Y=P(H);return e(G,$)<=0?e(Y,$)<=0?$.getFullYear()+1:$.getFullYear():$.getFullYear()-1}var U={"%a":function(V){return E[V.tm_wday].substring(0,3)},"%A":function(V){return E[V.tm_wday]},"%b":function(V){return w[V.tm_mon].substring(0,3)},"%B":function(V){return w[V.tm_mon]},"%C":function(V){var $=V.tm_year+1900;return y($/100|0,2)},"%d":function(V){return y(V.tm_mday,2)},"%e":function(V){return m(V.tm_mday,2," ")},"%g":function(V){return O(V).toString().substring(2)},"%G":function(V){return O(V)},"%H":function(V){return y(V.tm_hour,2)},"%I":function(V){return y(V.tm_hour<13?V.tm_hour:V.tm_hour-12,2)},"%j":function(V){return y(V.tm_mday+__arraySum(__isLeapYear(V.tm_year+1900)?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,V.tm_mon-1),3)},"%m":function(V){return y(V.tm_mon+1,2)},"%M":function(V){return y(V.tm_min,2)},"%n":function(){return`
`},"%p":function(V){return V.tm_hour>0&&V.tm_hour<13?"AM":"PM"},"%S":function(V){return y(V.tm_sec,2)},"%t":function(){return"	"},"%u":function(V){var $=new Date(V.tm_year+1900,V.tm_mon+1,V.tm_mday,0,0,0,0);return $.getDay()||7},"%U":function(V){var $=new Date(V.tm_year+1900,0,1),b=$.getDay()===0?$:__addDays($,7-$.getDay()),H=new Date(V.tm_year+1900,V.tm_mon,V.tm_mday);if(e(b,H)<0){var G=__arraySum(__isLeapYear(H.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,H.getMonth()-1)-31,Y=31-b.getDate(),X=Y+G+H.getDate();return y(Math.ceil(X/7),2)}return e(b,$)===0?"01":"00"},"%V":function(V){var $=new Date(V.tm_year+1900,0,4),b=new Date(V.tm_year+1901,0,4),H=P($),G=P(b),Y=__addDays(new Date(V.tm_year+1900,0,1),V.tm_yday);if(e(Y,H)<0)return"53";if(e(G,Y)<=0)return"01";var X;return H.getFullYear()<V.tm_year+1900?X=V.tm_yday+32-H.getDate():X=V.tm_yday+1-H.getDate(),y(Math.ceil(X/7),2)},"%w":function(V){var $=new Date(V.tm_year+1900,V.tm_mon+1,V.tm_mday,0,0,0,0);return $.getDay()},"%W":function(V){var $=new Date(V.tm_year,0,1),b=$.getDay()===1?$:__addDays($,$.getDay()===0?1:7-$.getDay()+1),H=new Date(V.tm_year+1900,V.tm_mon,V.tm_mday);if(e(b,H)<0){var G=__arraySum(__isLeapYear(H.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,H.getMonth()-1)-31,Y=31-b.getDate(),X=Y+G+H.getDate();return y(Math.ceil(X/7),2)}return e(b,$)===0?"01":"00"},"%y":function(V){return(V.tm_year+1900).toString().substring(2)},"%Y":function(V){return V.tm_year+1900},"%z":function(V){var $=V.tm_gmtoff,b=$>=0;return $=Math.abs($)/60,$=$/60*100+$%60,(b?"+":"-")+("0000"+$).slice(-4)},"%Z":function(V){return V.tm_zone},"%%":function(){return"%"}};for(var C in U)g.indexOf(C)>=0&&(g=g.replace(new RegExp(C,"g"),U[C](d)));var W=intArrayFromString(g,!1);return W.length>n?0:(writeArrayToMemory(W,l),W.length-1)}function _strftime_l(l,n,u,p){return _strftime(l,n,u,p)}function _abort(){Module.abort()}function _free(){}Module._free=_free;function ___cxa_free_exception(l){try{return _free(l)}catch{}}function ___cxa_end_catch(){if(___cxa_end_catch.rethrown){___cxa_end_catch.rethrown=!1;return}asm.setThrew(0);var l=EXCEPTIONS.caught.pop();l&&(EXCEPTIONS.decRef(EXCEPTIONS.deAdjust(l)),EXCEPTIONS.last=0)}function _pthread_once(l,n){_pthread_once.seen||(_pthread_once.seen={}),!(l in _pthread_once.seen)&&(Runtime.dynCall("v",n),_pthread_once.seen[l]=1)}function ___lock(){}function ___unlock(){}var PTHREAD_SPECIFIC={};function _pthread_getspecific(l){return PTHREAD_SPECIFIC[l]||0}function ___setErrNo(l){return Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=l),l}var ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};function _sysconf(l){switch(l){case 30:return PAGE_SIZE;case 85:return totalMemory/PAGE_SIZE;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return typeof navigator=="object"&&navigator.hardwareConcurrency||1}return ___setErrNo(ERRNO_CODES.EINVAL),-1}var _fabs=Math_abs,PTHREAD_SPECIFIC_NEXT_KEY=1;function _pthread_key_create(l,n){return l==0?ERRNO_CODES.EINVAL:(HEAP32[l>>2]=PTHREAD_SPECIFIC_NEXT_KEY,PTHREAD_SPECIFIC[PTHREAD_SPECIFIC_NEXT_KEY]=0,PTHREAD_SPECIFIC_NEXT_KEY++,0)}function _emscripten_set_main_loop_timing(l,n){if(Browser.mainLoop.timingMode=l,Browser.mainLoop.timingValue=n,!Browser.mainLoop.func)return 1;if(l==0)Browser.mainLoop.scheduler=function(){setTimeout(Browser.mainLoop.runner,n)},Browser.mainLoop.method="timeout";else if(l==1)Browser.mainLoop.scheduler=function(){Browser.requestAnimationFrame(Browser.mainLoop.runner)},Browser.mainLoop.method="rAF";else if(l==2){if(!window.setImmediate){let v=function(d){d.source===window&&d.data===p&&(d.stopPropagation(),u.shift()())};var u=[],p="__emcc";window.addEventListener("message",v,!0),window.setImmediate=function(g){u.push(g),window.postMessage(p,"*")}}Browser.mainLoop.scheduler=function(){window.setImmediate(Browser.mainLoop.runner)},Browser.mainLoop.method="immediate"}return 0}function _emscripten_set_main_loop(l,n,u,p,v){Module.noExitRuntime=!0,assert(!Browser.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),Browser.mainLoop.func=l,Browser.mainLoop.arg=p;var d=Browser.mainLoop.currentlyRunningMainloop;if(Browser.mainLoop.runner=function(){if(!ABORT){if(Browser.mainLoop.queue.length>0){var _=Date.now(),C=Browser.mainLoop.queue.shift();if(C.func(C.arg),Browser.mainLoop.remainingBlockers){var E=Browser.mainLoop.remainingBlockers,w=E%1==0?E-1:Math.floor(E);C.counted?Browser.mainLoop.remainingBlockers=w:(w=w+.5,Browser.mainLoop.remainingBlockers=(8*E+w)/9)}console.log('main loop blocker "'+C.name+'" took '+(Date.now()-_)+" ms"),Browser.mainLoop.updateStatus(),setTimeout(Browser.mainLoop.runner,0);return}if(!(d<Browser.mainLoop.currentlyRunningMainloop)){if(Browser.mainLoop.currentFrameNumber=Browser.mainLoop.currentFrameNumber+1|0,Browser.mainLoop.timingMode==1&&Browser.mainLoop.timingValue>1&&Browser.mainLoop.currentFrameNumber%Browser.mainLoop.timingValue!=0){Browser.mainLoop.scheduler();return}Browser.mainLoop.method==="timeout"&&Module.ctx&&(Module.printErr("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),Browser.mainLoop.method=""),Browser.mainLoop.runIter(function(){typeof p<"u"?Runtime.dynCall("vi",l,[p]):Runtime.dynCall("v",l)}),!(d<Browser.mainLoop.currentlyRunningMainloop)&&(typeof SDL=="object"&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),Browser.mainLoop.scheduler())}}},v||(n&&n>0?_emscripten_set_main_loop_timing(0,1e3/n):_emscripten_set_main_loop_timing(1,1),Browser.mainLoop.scheduler()),u)throw"SimulateInfiniteLoop"}var Browser={mainLoop:{scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Browser.mainLoop.scheduler=null,Browser.mainLoop.currentlyRunningMainloop++},resume:function(){Browser.mainLoop.currentlyRunningMainloop++;var l=Browser.mainLoop.timingMode,n=Browser.mainLoop.timingValue,u=Browser.mainLoop.func;Browser.mainLoop.func=null,_emscripten_set_main_loop(u,0,!1,Browser.mainLoop.arg,!0),_emscripten_set_main_loop_timing(l,n),Browser.mainLoop.scheduler()},updateStatus:function(){if(Module.setStatus){var l=Module.statusMessage||"Please wait...",n=Browser.mainLoop.remainingBlockers,u=Browser.mainLoop.expectedBlockers;n?n<u?Module.setStatus(l+" ("+(u-n)+"/"+u+")"):Module.setStatus(l):Module.setStatus("")}},runIter:function(l){if(!ABORT){if(Module.preMainLoop){var n=Module.preMainLoop();if(n===!1)return}try{l()}catch(u){if(u instanceof ExitStatus)return;throw u&&typeof u=="object"&&u.stack&&Module.printErr("exception thrown: "+[u,u.stack]),u}Module.postMainLoop&&Module.postMainLoop()}}},isFullScreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(Module.preloadPlugins||(Module.preloadPlugins=[]),Browser.initted)return;Browser.initted=!0;try{new Blob,Browser.hasBlobConstructor=!0}catch{Browser.hasBlobConstructor=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Browser.BlobBuilder=typeof MozBlobBuilder<"u"?MozBlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:Browser.hasBlobConstructor?null:console.log("warning: no BlobBuilder"),Browser.URLObject=typeof window<"u"?window.URL?window.URL:window.webkitURL:void 0,!Module.noImageDecoding&&typeof Browser.URLObject>"u"&&(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),Module.noImageDecoding=!0);var l={};l.canHandle=function(d){return!Module.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(d)},l.handle=function(d,g,_,C){var E=null;if(Browser.hasBlobConstructor)try{E=new Blob([d],{type:Browser.getMimetype(g)}),E.size!==d.length&&(E=new Blob([new Uint8Array(d).buffer],{type:Browser.getMimetype(g)}))}catch(e){Runtime.warnOnce("Blob constructor present but fails: "+e+"; falling back to blob builder")}if(!E){var w=new Browser.BlobBuilder;w.append(new Uint8Array(d).buffer),E=w.getBlob()}var m=Browser.URLObject.createObjectURL(E),y=new Image;y.onload=function(){assert(y.complete,"Image "+g+" could not be decoded");var P=document.createElement("canvas");P.width=y.width,P.height=y.height;var O=P.getContext("2d");O.drawImage(y,0,0),Module.preloadedImages[g]=P,Browser.URLObject.revokeObjectURL(m),_&&_(d)},y.onerror=function(P){console.log("Image "+m+" could not be decoded"),C&&C()},y.src=m},Module.preloadPlugins.push(l);var n={};n.canHandle=function(d){return!Module.noAudioDecoding&&d.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},n.handle=function(d,g,_,C){var E=!1;function w(O){E||(E=!0,Module.preloadedAudios[g]=O,_&&_(d))}function m(){E||(E=!0,Module.preloadedAudios[g]=new Audio,C&&C())}if(Browser.hasBlobConstructor){try{var y=new Blob([d],{type:Browser.getMimetype(g)})}catch{return m()}var e=Browser.URLObject.createObjectURL(y),P=new Audio;P.addEventListener("canplaythrough",function(){w(P)},!1),P.onerror=function(U){if(E)return;console.log("warning: browser could not fully decode audio "+g+", trying slower base64 approach");function W(V){for(var $="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b="=",H="",G=0,Y=0,X=0;X<V.length;X++)for(G=G<<8|V[X],Y+=8;Y>=6;){var j=G>>Y-6&63;Y-=6,H+=$[j]}return Y==2?(H+=$[(G&3)<<4],H+=b+b):Y==4&&(H+=$[(G&15)<<2],H+=b),H}P.src="data:audio/x-"+g.substr(-3)+";base64,"+W(d),w(P)},P.src=e,Browser.safeSetTimeout(function(){w(P)},1e4)}else return m()},Module.preloadPlugins.push(n);var u=Module.canvas;function p(){Browser.pointerLock=document.pointerLockElement===u||document.mozPointerLockElement===u||document.webkitPointerLockElement===u||document.msPointerLockElement===u}u&&(u.requestPointerLock=u.requestPointerLock||u.mozRequestPointerLock||u.webkitRequestPointerLock||u.msRequestPointerLock||function(){},u.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},u.exitPointerLock=u.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",p,!1),document.addEventListener("mozpointerlockchange",p,!1),document.addEventListener("webkitpointerlockchange",p,!1),document.addEventListener("mspointerlockchange",p,!1),Module.elementPointerLock&&u.addEventListener("click",function(v){!Browser.pointerLock&&u.requestPointerLock&&(u.requestPointerLock(),v.preventDefault())},!1))},createContext:function(l,n,u,p){if(n&&Module.ctx&&l==Module.canvas)return Module.ctx;var v,d;if(n){var g={antialias:!1,alpha:!1};if(p)for(var _ in p)g[_]=p[_];d=GL.createContext(l,g),d&&(v=GL.getContext(d).GLctx),l.style.backgroundColor="black"}else v=l.getContext("2d");return v?(u&&(n||assert(typeof GLctx>"u","cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),Module.ctx=v,n&&GL.makeContextCurrent(d),Module.useWebGL=n,Browser.moduleContextCreatedCallbacks.forEach(function(C){C()}),Browser.init()),v):null},destroyContext:function(l,n,u){},fullScreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullScreen:function(l,n,u){Browser.lockPointer=l,Browser.resizeCanvas=n,Browser.vrDevice=u,typeof Browser.lockPointer>"u"&&(Browser.lockPointer=!0),typeof Browser.resizeCanvas>"u"&&(Browser.resizeCanvas=!1),typeof Browser.vrDevice>"u"&&(Browser.vrDevice=null);var p=Module.canvas;function v(){Browser.isFullScreen=!1;var g=p.parentNode;(document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement||document.msFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement)===g?(p.cancelFullScreen=document.cancelFullScreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msExitFullscreen||document.exitFullscreen||function(){},p.cancelFullScreen=p.cancelFullScreen.bind(document),Browser.lockPointer&&p.requestPointerLock(),Browser.isFullScreen=!0,Browser.resizeCanvas&&Browser.setFullScreenCanvasSize()):(g.parentNode.insertBefore(p,g),g.parentNode.removeChild(g),Browser.resizeCanvas&&Browser.setWindowedCanvasSize()),Module.onFullScreen&&Module.onFullScreen(Browser.isFullScreen),Browser.updateCanvasDimensions(p)}Browser.fullScreenHandlersInstalled||(Browser.fullScreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",v,!1),document.addEventListener("mozfullscreenchange",v,!1),document.addEventListener("webkitfullscreenchange",v,!1),document.addEventListener("MSFullscreenChange",v,!1));var d=document.createElement("div");p.parentNode.insertBefore(d,p),d.appendChild(p),d.requestFullScreen=d.requestFullScreen||d.mozRequestFullScreen||d.msRequestFullscreen||(d.webkitRequestFullScreen?function(){d.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),u?d.requestFullScreen({vrDisplay:u}):d.requestFullScreen()},nextRAF:0,fakeRequestAnimationFrame:function(l){var n=Date.now();if(Browser.nextRAF===0)Browser.nextRAF=n+1e3/60;else for(;n+2>=Browser.nextRAF;)Browser.nextRAF+=1e3/60;var u=Math.max(Browser.nextRAF-n,0);setTimeout(l,u)},requestAnimationFrame:function l(n){typeof window>"u"?Browser.fakeRequestAnimationFrame(n):(window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||Browser.fakeRequestAnimationFrame),window.requestAnimationFrame(n))},safeCallback:function(l){return function(){if(!ABORT)return l.apply(null,arguments)}},allowAsyncCallbacks:!0,queuedAsyncCallbacks:[],pauseAsyncCallbacks:function(){Browser.allowAsyncCallbacks=!1},resumeAsyncCallbacks:function(){if(Browser.allowAsyncCallbacks=!0,Browser.queuedAsyncCallbacks.length>0){var l=Browser.queuedAsyncCallbacks;Browser.queuedAsyncCallbacks=[],l.forEach(function(n){n()})}},safeRequestAnimationFrame:function(l){return Browser.requestAnimationFrame(function(){ABORT||(Browser.allowAsyncCallbacks?l():Browser.queuedAsyncCallbacks.push(l))})},safeSetTimeout:function(l,n){return Module.noExitRuntime=!0,setTimeout(function(){ABORT||(Browser.allowAsyncCallbacks?l():Browser.queuedAsyncCallbacks.push(l))},n)},safeSetInterval:function(l,n){return Module.noExitRuntime=!0,setInterval(function(){ABORT||Browser.allowAsyncCallbacks&&l()},n)},getMimetype:function(l){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[l.substr(l.lastIndexOf(".")+1)]},getUserMedia:function(l){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(l)},getMovementX:function(l){return l.movementX||l.mozMovementX||l.webkitMovementX||0},getMovementY:function(l){return l.movementY||l.mozMovementY||l.webkitMovementY||0},getMouseWheelDelta:function(l){var n=0;switch(l.type){case"DOMMouseScroll":n=l.detail;break;case"mousewheel":n=l.wheelDelta;break;case"wheel":n=l.deltaY;break;default:throw"unrecognized mouse wheel event: "+l.type}return n},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(l){if(Browser.pointerLock)l.type!="mousemove"&&"mozMovementX"in l?Browser.mouseMovementX=Browser.mouseMovementY=0:(Browser.mouseMovementX=Browser.getMovementX(l),Browser.mouseMovementY=Browser.getMovementY(l)),typeof SDL<"u"?(Browser.mouseX=SDL.mouseX+Browser.mouseMovementX,Browser.mouseY=SDL.mouseY+Browser.mouseMovementY):(Browser.mouseX+=Browser.mouseMovementX,Browser.mouseY+=Browser.mouseMovementY);else{var n=Module.canvas.getBoundingClientRect(),u=Module.canvas.width,p=Module.canvas.height,v=typeof window.scrollX<"u"?window.scrollX:window.pageXOffset,d=typeof window.scrollY<"u"?window.scrollY:window.pageYOffset;if(l.type==="touchstart"||l.type==="touchend"||l.type==="touchmove"){var g=l.touch;if(g===void 0)return;var _=g.pageX-(v+n.left),C=g.pageY-(d+n.top);_=_*(u/n.width),C=C*(p/n.height);var E={x:_,y:C};if(l.type==="touchstart")Browser.lastTouches[g.identifier]=E,Browser.touches[g.identifier]=E;else if(l.type==="touchend"||l.type==="touchmove"){var w=Browser.touches[g.identifier];w||(w=E),Browser.lastTouches[g.identifier]=w,Browser.touches[g.identifier]=E}return}var m=l.pageX-(v+n.left),y=l.pageY-(d+n.top);m=m*(u/n.width),y=y*(p/n.height),Browser.mouseMovementX=m-Browser.mouseX,Browser.mouseMovementY=y-Browser.mouseY,Browser.mouseX=m,Browser.mouseY=y}},xhrLoad:function(l,n,u){var p=new XMLHttpRequest;p.open("GET",l,!0),p.responseType="arraybuffer",p.onload=function(){p.status==200||p.status==0&&p.response?n(p.response):u()},p.onerror=u,p.send(null)},asyncLoad:function(l,n,u,p){Browser.xhrLoad(l,function(v){assert(v,'Loading data file "'+l+'" failed (no arrayBuffer).'),n(new Uint8Array(v)),p||removeRunDependency()},function(v){if(u)u();else throw'Loading data file "'+l+'" failed.'}),p||addRunDependency()},resizeListeners:[],updateResizeListeners:function(){var l=Module.canvas;Browser.resizeListeners.forEach(function(n){n(l.width,l.height)})},setCanvasSize:function(l,n,u){var p=Module.canvas;Browser.updateCanvasDimensions(p,l,n),u||Browser.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullScreenCanvasSize:function(){if(typeof SDL<"u"){var l=HEAPU32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2];l=l|8388608,HEAP32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2]=l}Browser.updateResizeListeners()},setWindowedCanvasSize:function(){if(typeof SDL<"u"){var l=HEAPU32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2];l=l&-8388609,HEAP32[SDL.screen+Runtime.QUANTUM_SIZE*0>>2]=l}Browser.updateResizeListeners()},updateCanvasDimensions:function(l,n,u){n&&u?(l.widthNative=n,l.heightNative=u):(n=l.widthNative,u=l.heightNative);var p=n,v=u;if(Module.forcedAspectRatio&&Module.forcedAspectRatio>0&&(p/v<Module.forcedAspectRatio?p=Math.round(v*Module.forcedAspectRatio):v=Math.round(p/Module.forcedAspectRatio)),(document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement||document.msFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement)===l.parentNode&&typeof screen<"u"){var d=Math.min(screen.width/p,screen.height/v);p=Math.round(p*d),v=Math.round(v*d)}Browser.resizeCanvas?(l.width!=p&&(l.width=p),l.height!=v&&(l.height=v),typeof l.style<"u"&&(l.style.removeProperty("width"),l.style.removeProperty("height"))):(l.width!=n&&(l.width=n),l.height!=u&&(l.height=u),typeof l.style<"u"&&(p!=n||v!=u?(l.style.setProperty("width",p+"px","important"),l.style.setProperty("height",v+"px","important")):(l.style.removeProperty("width"),l.style.removeProperty("height"))))},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var l=Browser.nextWgetRequestHandle;return Browser.nextWgetRequestHandle++,l}};function _pthread_setspecific(l,n){return l in PTHREAD_SPECIFIC?(PTHREAD_SPECIFIC[l]=n,0):ERRNO_CODES.EINVAL}function _malloc(l){var n=Runtime.dynamicAlloc(l+8);return n+8&4294967288}Module._malloc=_malloc;function ___cxa_allocate_exception(l){return _malloc(l)}var SYSCALLS={varargs:0,get:function(l){SYSCALLS.varargs+=4;var n=HEAP32[SYSCALLS.varargs-4>>2];return n},getStr:function(){var l=Pointer_stringify(SYSCALLS.get());return l},get64:function(){var l=SYSCALLS.get(),n=SYSCALLS.get();return l>=0?assert(n===0):assert(n===-1),l},getZero:function(){assert(SYSCALLS.get()===0)}};function ___syscall54(l,n){SYSCALLS.varargs=n;try{return 0}catch(u){return(typeof FS>"u"||!(u instanceof FS.ErrnoError))&&abort(u),-u.errno}}Module._i64Add=_i64Add,Module._bitshift64Lshr=_bitshift64Lshr;function ___cxa_pure_virtual(){throw ABORT=!0,"Pure virtual function called!"}function _pthread_cleanup_push(l,n){__ATEXIT__.push(function(){Runtime.dynCall("vi",l,[n])}),_pthread_cleanup_push.level=__ATEXIT__.length}function _pthread_cond_broadcast(){return 0}function ___cxa_guard_acquire(l){return HEAP8[l>>0]?0:(HEAP8[l>>0]=1,1)}function _pthread_cleanup_pop(){assert(_pthread_cleanup_push.level==__ATEXIT__.length,"cannot pop if something else added meanwhile!"),__ATEXIT__.pop(),_pthread_cleanup_push.level=__ATEXIT__.length}function ___cxa_guard_release(){}function ___cxa_begin_catch(l){return __ZSt18uncaught_exceptionv.uncaught_exception--,EXCEPTIONS.caught.push(l),EXCEPTIONS.addRef(EXCEPTIONS.deAdjust(l)),l}function _llvm_eh_typeid_for(l){return l}function _emscripten_memcpy_big(l,n,u){return HEAPU8.set(HEAPU8.subarray(n,n+u),l),l}Module._memcpy=_memcpy;function ___syscall6(l,n){SYSCALLS.varargs=n;try{var u=SYSCALLS.getStreamFromFD();return FS.close(u),0}catch(p){return(typeof FS>"u"||!(p instanceof FS.ErrnoError))&&abort(p),-p.errno}}function _pthread_mutex_lock(){}function _sbrk(l){var n=_sbrk;n.called||(DYNAMICTOP=alignMemoryPage(DYNAMICTOP),n.called=!0,assert(Runtime.dynamicAlloc),n.alloc=Runtime.dynamicAlloc,Runtime.dynamicAlloc=function(){abort("cannot dynamically allocate, sbrk now has control")});var u=DYNAMICTOP;if(l!=0){var p=n.alloc(l);if(!p)return 4294967295}return u}Module._bitshift64Shl=_bitshift64Shl;function ___cxa_guard_abort(){}Module._memmove=_memmove;function _pthread_cond_wait(){return 0}function ___cxa_rethrow(){___cxa_end_catch.rethrown=!0;var l=EXCEPTIONS.caught.pop();throw EXCEPTIONS.last=l,l}function _pthread_mutex_unlock(){}function _time(l){var n=Date.now()/1e3|0;return l&&(HEAP32[l>>2]=n),n}function _pthread_self(){return 0}function ___syscall140(l,n){SYSCALLS.varargs=n;try{var u=SYSCALLS.getStreamFromFD(),p=SYSCALLS.get(),v=SYSCALLS.get(),d=SYSCALLS.get(),g=SYSCALLS.get(),_=v;return assert(p===0),FS.llseek(u,_,g),HEAP32[d>>2]=u.position,u.getdents&&_===0&&g===0&&(u.getdents=null),0}catch(C){return(typeof FS>"u"||!(C instanceof FS.ErrnoError))&&abort(C),-C.errno}}function ___syscall146(l,n){SYSCALLS.varargs=n;try{var u=SYSCALLS.get(),p=SYSCALLS.get(),v=SYSCALLS.get(),d=0;___syscall146.buffer||(___syscall146.buffer=[]);for(var g=___syscall146.buffer,_=0;_<v;_++){for(var C=HEAP32[p+_*8>>2],E=HEAP32[p+(_*8+4)>>2],w=0;w<E;w++){var m=HEAPU8[C+w];m===0||m===10?(Module.print(UTF8ArrayToString(g,0)),g.length=0):g.push(m)}d+=E}return d}catch(y){return(typeof FS>"u"||!(y instanceof FS.ErrnoError))&&abort(y),-y.errno}}function ___syscall145(l,n){SYSCALLS.varargs=n;try{var u=SYSCALLS.getStreamFromFD(),p=SYSCALLS.get(),v=SYSCALLS.get();return SYSCALLS.doReadv(u,p,v)}catch(d){return(typeof FS>"u"||!(d instanceof FS.ErrnoError))&&abort(d),-d.errno}}var ___dso_handle=allocate(1,"i32*",ALLOC_STATIC);Module.requestFullScreen=function l(n,u,p){Browser.requestFullScreen(n,u,p)},Module.requestAnimationFrame=function l(n){Browser.requestAnimationFrame(n)},Module.setCanvasSize=function l(n,u,p){Browser.setCanvasSize(n,u,p)},Module.pauseMainLoop=function l(){Browser.mainLoop.pause()},Module.resumeMainLoop=function l(){Browser.mainLoop.resume()},Module.getUserMedia=function l(){Browser.getUserMedia()},Module.createContext=function l(n,u,p,v){return Browser.createContext(n,u,p,v)},STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP),staticSealed=!0,STACK_MAX=STACK_BASE+TOTAL_STACK,DYNAMIC_BASE=DYNAMICTOP=Runtime.alignMemory(STACK_MAX),assert(DYNAMIC_BASE<TOTAL_MEMORY,"TOTAL_MEMORY not big enough for stack");var cttz_i8=allocate([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",ALLOC_DYNAMIC);function invoke_iiiiiiii(l,n,u,p,v,d,g,_){try{return Module.dynCall_iiiiiiii(l,n,u,p,v,d,g,_)}catch(C){if(typeof C!="number"&&C!=="longjmp")throw C;asm.setThrew(1,0)}}function invoke_viiiii(l,n,u,p,v,d){try{Module.dynCall_viiiii(l,n,u,p,v,d)}catch(g){if(typeof g!="number"&&g!=="longjmp")throw g;asm.setThrew(1,0)}}function invoke_iiiiiid(l,n,u,p,v,d,g){try{return Module.dynCall_iiiiiid(l,n,u,p,v,d,g)}catch(_){if(typeof _!="number"&&_!=="longjmp")throw _;asm.setThrew(1,0)}}function invoke_vi(l,n){try{Module.dynCall_vi(l,n)}catch(u){if(typeof u!="number"&&u!=="longjmp")throw u;asm.setThrew(1,0)}}function invoke_vii(l,n,u){try{Module.dynCall_vii(l,n,u)}catch(p){if(typeof p!="number"&&p!=="longjmp")throw p;asm.setThrew(1,0)}}function invoke_iiiiiii(l,n,u,p,v,d,g){try{return Module.dynCall_iiiiiii(l,n,u,p,v,d,g)}catch(_){if(typeof _!="number"&&_!=="longjmp")throw _;asm.setThrew(1,0)}}function invoke_ii(l,n){try{return Module.dynCall_ii(l,n)}catch(u){if(typeof u!="number"&&u!=="longjmp")throw u;asm.setThrew(1,0)}}function invoke_iiiiiiiiiiii(l,n,u,p,v,d,g,_,C,E,w,m){try{return Module.dynCall_iiiiiiiiiiii(l,n,u,p,v,d,g,_,C,E,w,m)}catch(y){if(typeof y!="number"&&y!=="longjmp")throw y;asm.setThrew(1,0)}}function invoke_iiii(l,n,u,p){try{return Module.dynCall_iiii(l,n,u,p)}catch(v){if(typeof v!="number"&&v!=="longjmp")throw v;asm.setThrew(1,0)}}function invoke_viiiiiiiiiiiiiii(l,n,u,p,v,d,g,_,C,E,w,m,y,e,P,O){try{Module.dynCall_viiiiiiiiiiiiiii(l,n,u,p,v,d,g,_,C,E,w,m,y,e,P,O)}catch(U){if(typeof U!="number"&&U!=="longjmp")throw U;asm.setThrew(1,0)}}function invoke_viiiiii(l,n,u,p,v,d,g){try{Module.dynCall_viiiiii(l,n,u,p,v,d,g)}catch(_){if(typeof _!="number"&&_!=="longjmp")throw _;asm.setThrew(1,0)}}function invoke_viiiiiii(l,n,u,p,v,d,g,_){try{Module.dynCall_viiiiiii(l,n,u,p,v,d,g,_)}catch(C){if(typeof C!="number"&&C!=="longjmp")throw C;asm.setThrew(1,0)}}function invoke_viiiiiiiiii(l,n,u,p,v,d,g,_,C,E,w){try{Module.dynCall_viiiiiiiiii(l,n,u,p,v,d,g,_,C,E,w)}catch(m){if(typeof m!="number"&&m!=="longjmp")throw m;asm.setThrew(1,0)}}function invoke_iii(l,n,u){try{return Module.dynCall_iii(l,n,u)}catch(p){if(typeof p!="number"&&p!=="longjmp")throw p;asm.setThrew(1,0)}}function invoke_iiiiii(l,n,u,p,v,d){try{return Module.dynCall_iiiiii(l,n,u,p,v,d)}catch(g){if(typeof g!="number"&&g!=="longjmp")throw g;asm.setThrew(1,0)}}function invoke_diii(l,n,u,p){try{return Module.dynCall_diii(l,n,u,p)}catch(v){if(typeof v!="number"&&v!=="longjmp")throw v;asm.setThrew(1,0)}}function invoke_i(l){try{return Module.dynCall_i(l)}catch(n){if(typeof n!="number"&&n!=="longjmp")throw n;asm.setThrew(1,0)}}function invoke_iiiii(l,n,u,p,v){try{return Module.dynCall_iiiii(l,n,u,p,v)}catch(d){if(typeof d!="number"&&d!=="longjmp")throw d;asm.setThrew(1,0)}}function invoke_viii(l,n,u,p){try{Module.dynCall_viii(l,n,u,p)}catch(v){if(typeof v!="number"&&v!=="longjmp")throw v;asm.setThrew(1,0)}}function invoke_v(l){try{Module.dynCall_v(l)}catch(n){if(typeof n!="number"&&n!=="longjmp")throw n;asm.setThrew(1,0)}}function invoke_iiiiiiiii(l,n,u,p,v,d,g,_,C){try{return Module.dynCall_iiiiiiiii(l,n,u,p,v,d,g,_,C)}catch(E){if(typeof E!="number"&&E!=="longjmp")throw E;asm.setThrew(1,0)}}function invoke_iiiiid(l,n,u,p,v,d){try{return Module.dynCall_iiiiid(l,n,u,p,v,d)}catch(g){if(typeof g!="number"&&g!=="longjmp")throw g;asm.setThrew(1,0)}}function invoke_viiii(l,n,u,p,v){try{Module.dynCall_viiii(l,n,u,p,v)}catch(d){if(typeof d!="number"&&d!=="longjmp")throw d;asm.setThrew(1,0)}}Module.asmGlobalArg={Math,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Float32Array,Float64Array,NaN:NaN,Infinity:1/0,byteLength},Module.asmLibraryArg={abort,assert,invoke_iiiiiiii,invoke_viiiii,invoke_iiiiiid,invoke_vi,invoke_vii,invoke_iiiiiii,invoke_ii,invoke_iiiiiiiiiiii,invoke_iiii,invoke_viiiiiiiiiiiiiii,invoke_viiiiii,invoke_viiiiiii,invoke_viiiiiiiiii,invoke_iii,invoke_iiiiii,invoke_diii,invoke_i,invoke_iiiii,invoke_viii,invoke_v,invoke_iiiiiiiii,invoke_iiiiid,invoke_viiii,_fabs,_strftime,_pthread_cond_wait,___lock,_pthread_key_create,_abort,___cxa_guard_acquire,___setErrNo,___gxx_personality_v0,___assert_fail,___cxa_free_exception,___cxa_allocate_exception,___cxa_find_matching_catch,__isLeapYear,___cxa_guard_release,__addDays,_strftime_l,_emscripten_set_main_loop_timing,_llvm_eh_typeid_for,_sbrk,___cxa_begin_catch,_emscripten_memcpy_big,___cxa_end_catch,___resumeException,__ZSt18uncaught_exceptionv,_sysconf,_pthread_getspecific,__arraySum,_pthread_self,_pthread_mutex_unlock,_pthread_once,___syscall54,___unlock,_pthread_cleanup_pop,_pthread_cond_broadcast,_emscripten_set_main_loop,_pthread_setspecific,___cxa_atexit,___cxa_throw,___cxa_rethrow,___syscall6,_pthread_cleanup_push,___cxa_pure_virtual,_time,_pthread_mutex_lock,___cxa_guard_abort,_atexit,___syscall140,___syscall145,___syscall146,STACKTOP,STACK_MAX,tempDoublePtr,ABORT,cttz_i8,___dso_handle};var asm=function(l,n,u){var p=l.Int8Array,v=l.Int16Array,d=l.Int32Array,g=l.Uint8Array,_=l.Uint16Array,C=l.Uint32Array,E=l.Float32Array,w=l.Float64Array,m=new p(u),y=new v(u),e=new d(u),P=new g(u),O=new _(u),U=new C(u),W=new E(u),V=new w(u),$=l.byteLength,b=n.STACKTOP|0,H=n.STACK_MAX|0,G=n.tempDoublePtr|0,Y=n.ABORT|0,X=n.cttz_i8|0,j=n.___dso_handle|0,h=0,ae=0,le=0,he=0,pe=l.NaN,Ae=l.Infinity,ge=0,ye=0,we=0,be=0,Ve=0,Ne=0,p0=0,k0=0,Ue=0,xe=0,I0=0,O0=0,Q0=0,tt=0,it=0,U0=0,q0=0,Xe=0,ke=0,n0=l.Math.floor,Ie=l.Math.abs,Fe=l.Math.sqrt,m0=l.Math.pow,ze=l.Math.cos,Be=l.Math.sin,qe=l.Math.tan,De=l.Math.acos,Ze=l.Math.asin,je=l.Math.atan,Ge=l.Math.atan2,S0=l.Math.exp,$e=l.Math.log,e0=l.Math.ceil,J=l.Math.imul,Le=l.Math.min,Je=l.Math.clz32,Qe=n.abort,a0=n.assert,c0=n.invoke_iiiiiiii,Ee=n.invoke_viiiii,He=n.invoke_iiiiiid,oe=n.invoke_vi,de=n.invoke_vii,P0=n.invoke_iiiiiii,ce=n.invoke_ii,F0=n.invoke_iiiiiiiiiiii,Oe=n.invoke_iiii,W0=n.invoke_viiiiiiiiiiiiiii,t0=n.invoke_viiiiii,o0=n.invoke_viiiiiii,Tt=n.invoke_viiiiiiiiii,Ce=n.invoke_iii,ie=n.invoke_iiiiii,i0=n.invoke_diii,ve=n.invoke_i,Pe=n.invoke_iiiii,me=n.invoke_viii,_0=n.invoke_v,H0=n.invoke_iiiiiiiii,N0=n.invoke_iiiiid,Re=n.invoke_viiii,ht=n._fabs,Dt=n._strftime,Ht=n._pthread_cond_wait,Pt=n.___lock,ti=n._pthread_key_create,u0=n._abort,w0=n.___cxa_guard_acquire,n8=n.___setErrNo,o8=n.___gxx_personality_v0,Gn=n.___assert_fail,v0=n.___cxa_free_exception,g0=n.___cxa_allocate_exception,Q=n.___cxa_find_matching_catch,s8=n.__isLeapYear,y0=n.___cxa_guard_release,a8=n.__addDays,Js=n._strftime_l,l8=n._emscripten_set_main_loop_timing,qr=n._llvm_eh_typeid_for,Fi=n._sbrk,Wt=n.___cxa_begin_catch,ea=n._emscripten_memcpy_big,Zt=n.___cxa_end_catch,ne=n.___resumeException,$n=n.__ZSt18uncaught_exceptionv,ta=n._sysconf,ia=n._pthread_getspecific,f8=n.__arraySum,Hn=n._pthread_self,Wn=n._pthread_mutex_unlock,ra=n._pthread_once,na=n.___syscall54,oa=n.___unlock,Qn=n._pthread_cleanup_pop,sa=n._pthread_cond_broadcast,c8=n._emscripten_set_main_loop,aa=n._pthread_setspecific,x0=n.___cxa_atexit,V0=n.___cxa_throw,jn=n.___cxa_rethrow,la=n.___syscall6,Yn=n._pthread_cleanup_push,ua=n.___cxa_pure_virtual,fa=n._time,Kn=n._pthread_mutex_lock,Gt=n.___cxa_guard_abort,h8=n._atexit,ca=n.___syscall140,Xn=n.___syscall145,Zn=n.___syscall146,d8=0;function ha(t){return $(t)&16777215||$(t)<=16777215||$(t)>2147483648?!1:(m=new p(t),y=new v(t),e=new d(t),P=new g(t),O=new _(t),U=new C(t),W=new E(t),V=new w(t),u=t,!0)}function da(t){t=t|0;var r=0;return r=b,b=b+t|0,b=b+15&-16,r|0}function pa(){return b|0}function ma(t){t=t|0,b=t}function ga(t,r){t=t|0,r=r|0,b=t,H=r}function va(t,r){t=t|0,r=r|0,h||(h=t,ae=r)}function p8(t){t=t|0,m[G>>0]=m[t>>0],m[G+1>>0]=m[t+1>>0],m[G+2>>0]=m[t+2>>0],m[G+3>>0]=m[t+3>>0]}function m8(t){t=t|0,m[G>>0]=m[t>>0],m[G+1>>0]=m[t+1>>0],m[G+2>>0]=m[t+2>>0],m[G+3>>0]=m[t+3>>0],m[G+4>>0]=m[t+4>>0],m[G+5>>0]=m[t+5>>0],m[G+6>>0]=m[t+6>>0],m[G+7>>0]=m[t+7>>0]}function Sa(t){t=t|0,xe=t}function wa(){return xe|0}function Aa(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0;if(L=b,b=b+128|0,k=L+44|0,N=L+8|0,A=L+4|0,T=L,D=o+4|0,F=o+8|0,h=0,Re(35,e[o>>2]|0,e[D>>2]|0,e[F>>2]|0,s|0),I=h,h=0,I&1)z=5;else{c=k,f=c+84|0;do e[c>>2]=e[s>>2],c=c+4|0,s=s+4|0;while((c|0)<(f|0));if(s=k+12|0,!(e[s>>2]|0)&&(S=J(((e[k+8>>2]|0)+7|0)/8|0,e[k>>2]|0)|0,e[s>>2]=S,(e[k+24>>2]|0)!=0)&&(I=J(e[k+16>>2]|0,S)|0,e[s>>2]=I),h=0,oe(176,N|0),I=h,h=0,I&1)z=5;else{s=k+56|0;do if(e[s>>2]|0)if(h=0,s=ce(66,s|0)|0,I=h,h=0,I&1)z=15;else{if(e[A>>2]=s,f=N+28|0,c=e[f>>2]|0,c>>>0<(e[N+32>>2]|0)>>>0){e[c>>2]=s,e[f>>2]=c+4,e[A>>2]=0,z=19;break}if(h=0,de(57,N+24|0,A|0),I=h,h=0,I&1){if(f=Q(824,0)|0,s=xe,c=e[A>>2]|0,e[A>>2]=0,!c)break;T0[e[(e[c>>2]|0)+4>>2]&255](c);break}else{if(s=e[A>>2]|0,e[A>>2]=0,!s){z=19;break}T0[e[(e[s>>2]|0)+4>>2]&255](s),z=19;break}}else z=19;while(!1);e:do if((z|0)==19)if(c=k+4|0,S=k+8|0,A=k+16|0,h=0,s=Pe(14,e[k>>2]|0,e[c>>2]|0,e[S>>2]|0,e[A>>2]|0)|0,I=h,h=0,I&1)z=15;else{e[T>>2]=s,I=N+28|0,f=e[I>>2]|0;do if(f>>>0>=(e[N+32>>2]|0)>>>0)if(h=0,de(57,N+24|0,T|0),f=h,h=0,f&1){if(f=Q(824,0)|0,s=xe,c=e[T>>2]|0,e[T>>2]=0,!c)break e;T0[e[(e[c>>2]|0)+4>>2]&255](c);break e}else{if(s=e[T>>2]|0,e[T>>2]=0,!s)break;T0[e[(e[s>>2]|0)+4>>2]&255](s);break}else e[f>>2]=s,e[I>>2]=f+4,e[T>>2]=0;while(!1);if(s=e[k+28>>2]|0,s|0&&(h=0,de(58,N|0,s|0),z=h,h=0,z&1)){z=15;break}t:do if(e[k+24>>2]|0){if(h=0,me(4,N|0,o|0,k|0),z=h,h=0,z&1){z=15;break e}}else if(s=J(e[c>>2]|0,e[k>>2]|0)|0,s=J(s,((e[S>>2]|0)+7|0)/8|0)|0,(e[A>>2]|0)>0){for(c=0;h=0,me(4,N|0,o|0,k|0),z=h,h=0,!(z&1);)if(f=e[D>>2]|0,f&&(e[D>>2]=f+s,e[F>>2]=(e[F>>2]|0)-s),c=c+1|0,(c|0)>=(e[A>>2]|0))break t;f=Q(824,0)|0,s=xe,z=16;break e}while(!1);if(h=0,Ce(33,N|0,t|0)|0,z=h,h=0,z&1)z=15;else{if(e[r>>2]=e[N+16>>2],a&&(m[a>>0]=0),c=N+24|0,s=e[c>>2]|0,s){if(f=e[I>>2]|0,(f|0)!=(s|0)){do a=f+-4|0,e[I>>2]=a,f=e[a>>2]|0,e[a>>2]=0,f&&T0[e[(e[f>>2]|0)+4>>2]&255](f),f=e[I>>2]|0;while((f|0)!=(s|0));s=e[c>>2]|0}ue(s)}return a=0,b=L,a|0}}while(!1);if((z|0)==15&&(f=Q(824,0)|0,s=xe,z=16),I=N+24|0,c=e[I>>2]|0,c){if(A=N+28|0,S=e[A>>2]|0,(S|0)!=(c|0)){do N=S+-4|0,e[A>>2]=N,S=e[N>>2]|0,e[N>>2]=0,S&&T0[e[(e[S>>2]|0)+4>>2]&255](S),S=e[A>>2]|0;while((S|0)!=(c|0));c=e[I>>2]|0}ue(c)}}}if((z|0)==5&&(f=Q(824,0)|0,s=xe),N=(s|0)==(qr(824)|0),S=Wt(f|0)|0,s=(a|0)==0,!N)return s||(m[a>>0]=0),Zt(),a=14,b=L,a|0;c=S+12|0;do if(s)z=60;else if(s=e[c>>2]|0,h=0,f=ve(1)|0,N=h,h=0,!(N&1))if((s|0)==(f|0)){Nn(a,A0[e[(e[S>>2]|0)+8>>2]&127](S)|0)|0,z=60;break}else{m[a>>0]=0,z=60;break}while(!1);return(z|0)==60&&(q=e[c>>2]|0,h=0,B=ve(1)|0,a=h,h=0,!(a&1))?(a=(q|0)==(B|0)?e[S+8>>2]|0:13,Zt(),b=L,a|0):(s=Q()|0,h=0,_0(3),L=h,h=0,L&1?(L=Q(0)|0,b0(L)):ne(s|0),0)}function ya(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0;switch(I=b,b=b+112|0,f=I+96|0,A=I+84|0,T=I+72|0,k=I+60|0,D=I+48|0,F=I+36|0,N=I+24|0,z=I+12|0,q=I,S=(r|0)==0,(t|0)==0&S&&(a=g0(16)|0,h=0,me(5,f|0,48504,52),q=h,h=0,q&1?r=Q()|0:(h=0,r=ve(1)|0,q=h,h=0,!(q&1)&&(h=0,Re(36,a|0,1,r|0,f|0),q=h,h=0,!(q&1))?(h=0,me(6,a|0,824,96),h=0,t=0):t=1,r=Q()|0,fe(f),t||(q=r,ne(q|0))),v0(a|0),q=r,ne(q|0)),c=e[s>>2]|0,(c+-1|0)>>>0>65534&&(a=g0(16)|0,h=0,me(5,A|0,48557,41),q=h,h=0,q&1?r=Q()|0:(h=0,r=ve(1)|0,q=h,h=0,!(q&1)&&(h=0,Re(36,a|0,1,r|0,A|0),q=h,h=0,!(q&1))?(h=0,me(6,a|0,824,96),h=0,t=0):t=1,r=Q()|0,fe(A),t||(q=r,ne(q|0))),v0(a|0),q=r,ne(q|0)),f=e[s+4>>2]|0,(f+-1|0)>>>0>65534&&(a=g0(16)|0,h=0,me(5,T|0,48599,42),q=h,h=0,q&1?r=Q()|0:(h=0,r=ve(1)|0,q=h,h=0,!(q&1)&&(h=0,Re(36,a|0,1,r|0,T|0),q=h,h=0,!(q&1))?(h=0,me(6,a|0,824,96),h=0,t=0):t=1,r=Q()|0,fe(T),t||(q=r,ne(q|0))),v0(a|0),q=r,ne(q|0)),a=e[s+8>>2]|0,(a+-2|0)>>>0>14&&(a=g0(16)|0,h=0,me(5,k|0,48642,46),q=h,h=0,q&1?r=Q()|0:(h=0,r=ve(1)|0,q=h,h=0,!(q&1)&&(h=0,Re(36,a|0,1,r|0,k|0),q=h,h=0,!(q&1))?(h=0,me(6,a|0,824,96),h=0,t=0):t=1,r=Q()|0,fe(k),t||(q=r,ne(q|0))),v0(a|0),q=r,ne(q|0)),t=e[s+24>>2]|0,t>>>0>=3&&(a=g0(16)|0,h=0,me(5,D|0,48689,65),q=h,h=0,q&1?r=Q()|0:(h=0,r=ve(1)|0,q=h,h=0,!(q&1)&&(h=0,Re(36,a|0,1,r|0,D|0),q=h,h=0,!(q&1))?(h=0,me(6,a|0,824,96),h=0,t=0):t=1,r=Q()|0,fe(D),t||(q=r,ne(q|0))),v0(a|0),q=r,ne(q|0)),r=e[s+16>>2]|0,(r+-1|0)>>>0>254&&(a=g0(16)|0,h=0,me(5,F|0,48755,44),q=h,h=0,q&1?r=Q()|0:(h=0,r=ve(1)|0,q=h,h=0,!(q&1)&&(h=0,Re(36,a|0,1,r|0,F|0),q=h,h=0,!(q&1))?(h=0,me(6,a|0,824,96),h=0,t=0):t=1,r=Q()|0,fe(F),t||(q=r,ne(q|0))),v0(a|0),q=r,ne(q|0)),!S&&(F=J(f,c)|0,(J(J(F,(a|0)>8?2:1)|0,r)|0)>>>0>o>>>0)&&(a=g0(16)|0,h=0,me(5,N|0,48800,58),q=h,h=0,q&1?r=Q()|0:(h=0,r=ve(1)|0,q=h,h=0,!(q&1)&&(h=0,Re(36,a|0,1,r|0,N|0),q=h,h=0,!(q&1))?(h=0,me(6,a|0,824,96),h=0,t=0):t=1,r=Q()|0,fe(N),t||(q=r,ne(q|0))),v0(a|0),q=r,ne(q|0)),r|0){case 4:{if((t|0)!=2){b=I;return}a=g0(16)|0,h=0,me(5,z|0,48859,73),q=h,h=0,q&1?r=Q()|0:(h=0,r=ve(1)|0,q=h,h=0,!(q&1)&&(h=0,Re(36,a|0,1,r|0,z|0),q=h,h=0,!(q&1))?(h=0,me(6,a|0,824,96),h=0,t=0):t=1,r=Q()|0,fe(z),t||(q=r,ne(q|0))),v0(a|0),q=r,ne(q|0)}case 3:{b=I;return}default:{if(!t){b=I;return}a=g0(16)|0,h=0,me(5,q|0,48933,73),z=h,h=0,z&1?r=Q()|0:(h=0,r=ve(1)|0,z=h,h=0,!(z&1)&&(h=0,Re(36,a|0,1,r|0,q|0),z=h,h=0,!(z&1))?(h=0,me(6,a|0,824,96),h=0,t=0):t=1,r=Q()|0,fe(q),t||(q=r,ne(q|0))),v0(a|0),q=r,ne(q|0)}}}function b0(t){t=t|0,Wt(t|0)|0,N6()}function xa(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0;if(T=b,b=b+128|0,f=T+116|0,c=T,h=0,e[f>>2]=e[r>>2],e[f+4>>2]=e[r+4>>2],e[f+8>>2]=e[r+8>>2],de(59,c|0,f|0),a=h,h=0,!(a&1)){if(o){a=c+16|0,r=a+84|0;do e[a>>2]=e[o>>2],a=a+4|0,o=o+4|0;while((a|0)<(r|0))}if(h=0,e[f>>2]=e[t>>2],e[f+4>>2]=e[t+4>>2],e[f+8>>2]=e[t+8>>2],de(60,c|0,f|0),c=h,h=0,!(c&1))return s&&(m[s>>0]=0),I=0,b=T,I|0}if(t=Q(824,0)|0,c=xe,c=(c|0)==(qr(824)|0),t=Wt(t|0)|0,r=(s|0)==0,!c)return r||(m[s>>0]=0),Zt(),I=14,b=T,I|0;a=t+12|0;do if(r)I=10;else if(r=e[a>>2]|0,h=0,o=ve(1)|0,c=h,h=0,!(c&1))if((r|0)==(o|0)){Nn(s,A0[e[(e[t>>2]|0)+8>>2]&127](t)|0)|0,I=10;break}else{m[s>>0]=0,I=10;break}while(!1);return(I|0)==10&&(S=e[a>>2]|0,h=0,A=ve(1)|0,I=h,h=0,!(I&1))?(I=(S|0)==(A|0)?e[t+8>>2]|0:13,Zt(),b=T,I|0):(r=Q()|0,h=0,_0(3),T=h,h=0,T&1?(T=Q(0)|0,b0(T)):ne(r|0),0)}function Ta(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0;if(A=b,b=b+128|0,a=A+116|0,s=A,h=0,e[a>>2]=e[t>>2],e[a+4>>2]=e[t+4>>2],e[a+8>>2]=e[t+8>>2],de(59,s|0,a|0),a=h,h=0,!(a&1)&&(h=0,oe(177,s|0),a=h,h=0,!(a&1))&&(h=0,de(61,s|0,1),a=h,h=0,!(a&1))){t=s+16|0,s=r+84|0;do e[r>>2]=e[t>>2],r=r+4|0,t=t+4|0;while((r|0)<(s|0));return o&&(m[o>>0]=0),o=0,b=A,o|0}if(a=Q(824,0)|0,r=xe,r=(r|0)==(qr(824)|0),a=Wt(a|0)|0,t=(o|0)==0,!r)return t||(m[o>>0]=0),Zt(),o=14,b=A,o|0;r=a+12|0;do if(t)S=13;else if(t=e[r>>2]|0,h=0,s=ve(1)|0,I=h,h=0,!(I&1))if((t|0)==(s|0)){Nn(o,A0[e[(e[a>>2]|0)+8>>2]&127](a)|0)|0,S=13;break}else{m[o>>0]=0,S=13;break}while(!1);return(S|0)==13&&(f=e[r>>2]|0,h=0,c=ve(1)|0,I=h,h=0,!(I&1))?(I=(f|0)==(c|0)?e[a+8>>2]|0:13,Zt(),b=A,I|0):(t=Q()|0,h=0,_0(3),I=h,h=0,I&1?(I=Q(0)|0,b0(I)):ne(t|0),0)}function Ia(t,r,o,s,a,f,c){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0;var S=0,A=0,I=0,T=0,k=0;return k=b,b=b+48|0,A=k+36|0,S=k+24|0,I=k+12|0,T=k,(t|0)!=0&(o|0)!=0&(s|0)!=0&(f|0)!=0?(e[I>>2]=0,e[I+4>>2]=t,e[I+8>>2]=r,e[T>>2]=0,e[T+4>>2]=s,e[T+8>>2]=a,e[S>>2]=e[I>>2],e[S+4>>2]=e[I+4>>2],e[S+8>>2]=e[I+8>>2],e[A>>2]=e[T>>2],e[A+4>>2]=e[T+4>>2],e[A+8>>2]=e[T+8>>2],a=Aa(S,o,A,f,c)|0,b=k,a|0):(a=1,b=k,a|0)}function Ca(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0;return a=b,b=b+32|0,f=a+12|0,c=a,S=c,e[S>>2]=0,e[S+4>>2]=0,e[c+4>>2]=t,e[c+8>>2]=r,e[f>>2]=e[c>>2],e[f+4>>2]=e[c+4>>2],e[f+8>>2]=e[c+8>>2],o=Ta(f,o,s)|0,b=a,o|0}function Ea(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;return c=b,b=b+48|0,S=c+36|0,A=c+24|0,T=c+12|0,I=c,e[T>>2]=0,e[T+4>>2]=t,e[T+8>>2]=r,e[I>>2]=0,e[I+4>>2]=o,e[I+8>>2]=s,e[A>>2]=e[T>>2],e[A+4>>2]=e[T+4>>2],e[A+8>>2]=e[T+8>>2],e[S>>2]=e[I>>2],e[S+4>>2]=e[I+4>>2],e[S+8>>2]=e[I+8>>2],s=xa(A,S,a,f)|0,b=c,s|0}function ba(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0;if(I=t+4|0,o=e[t>>2]|0,a=((e[I>>2]|0)-o>>2)+1|0,a>>>0>1073741823&&(hi(t),o=e[t>>2]|0),T=t+8|0,s=(e[T>>2]|0)-o|0,s>>2>>>0<536870911?(s=s>>1,s=s>>>0<a>>>0?a:s,o=(e[I>>2]|0)-o>>2,s?S=6:(f=0,c=0)):(s=1073741823,o=(e[I>>2]|0)-o>>2,S=6),(S|0)==6&&(f=s,c=We(s<<2)|0),a=c+(o<<2)|0,s=a,A=c+(f<<2)|0,S=e[r>>2]|0,e[r>>2]=0,e[a>>2]=S,S=c+(o+1<<2)|0,c=e[t>>2]|0,o=e[I>>2]|0,(o|0)==(c|0))a=t,f=I;else{do o=o+-4|0,r=e[o>>2]|0,e[o>>2]=0,e[a+-4>>2]=r,a=s+-4|0,s=a;while((o|0)!=(c|0));o=s,a=t,f=I,s=o,c=e[t>>2]|0,o=e[I>>2]|0}if(e[a>>2]=s,e[f>>2]=S,e[T>>2]=A,a=c,(o|0)!=(a|0))do o=o+-4|0,s=e[o>>2]|0,e[o>>2]=0,s&&T0[e[(e[s>>2]|0)+4>>2]&255](s);while((o|0)!=(a|0));c&&ue(c)}function ka(){return m[8]|0||!(w0(8)|0)||(x0(72,35648,j|0)|0,y0(8)),35648}function cr(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0;T=b,b=b+32|0,A=T,dt(A,(1<<r)+-1|0,0),f=e[A>>2]|0,I=f+1|0,o=I<<1,e[t>>2]=0,c=t+4|0,e[c>>2]=0,e[t+8>>2]=0;e:do if(I){if((f|0)<-1&&(h=0,oe(178,t|0),S=h,h=0,S&1)||(s=4),(s|0)==4&&(h=0,a=ce(67,o|0)|0,S=h,h=0,!(S&1))){for(e[c>>2]=a,e[t>>2]=a,e[t+8>>2]=a+o,r=a;;)if(m[r>>0]=0,r=(e[c>>2]|0)+1|0,e[c>>2]=r,o=o+-1|0,!o)break e}o=Q()|0,r=e[t>>2]|0,r||ne(o|0),(e[c>>2]|0)!=(r|0)&&(e[c>>2]=r),ue(r),ne(o|0)}while(!1);if(r=~f,(f|0)<(r|0)){b=T;return}c=A+12|0,S=A+8|0,f=A+4|0,a=r;do r=e[c>>2]|0,(a|0)>(0-r|0)?(o=e[S>>2]|0,(a|0)>(0-o|0)?(s=e[f>>2]|0,(a|0)>(0-s|0)?(a|0)>=0?(a|0)>0?(s|0)<=(a|0)?(o|0)>(a|0)?r=2:r=(r|0)>(a|0)?3:4:r=1:r=0:r=-1:r=-2):r=-3):r=-4,m[(e[t>>2]|0)+(a+I)>>0]=r,a=a+1|0;while((a|0)<(I|0));b=T}function Da(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;switch(D=e[o+16>>2]|0,D|0){case 64:case 0:{h=0,t=Ce(34,t|0,r|0)|0,r=h,h=0,r&1?F=16:s=t;break}default:{for(a=(1<<e[r+8>>2])+-1|0,k=e[r+20>>2]|0,T=k<<1,T=((T+a|0)/(T|1|0)|0)+1|0,t=0;(1<<t|0)<(T|0);)t=t+1|0;for(s=0;;)if((1<<s|0)<(a|0))s=s+1|0;else{c=s;break}if(a=e[o>>2]|0,h=0,s=ce(67,4624)|0,I=h,h=0,I&1)F=16;else{f=((c|0)<8?8:c)+c<<1,S=s+4|0,A=r,I=S+84|0;do e[S>>2]=e[A>>2],S=S+4|0,A=A+4|0;while((S|0)<(I|0));S=s+88|0,I=S+40|0;do e[S>>2]=0,S=S+4|0;while((S|0)<(I|0));e[s>>2]=35660,e[s+128>>2]=a,e[s+132>>2]=T,e[s+136>>2]=k,e[s+140>>2]=t,e[s+144>>2]=c,e[s+148>>2]=f,e[s+152>>2]=D,t=s+156|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[s+172>>2]=e[r>>2],e[s+176>>2]=0,e[s+180>>2]=0,e[s+184>>2]=0,t=s+4568|0,a=s+188|0;do e[a>>2]=0,e[a+4>>2]=0,y[a+8>>1]=0,y[a+10>>1]=1,a=a+12|0;while((a|0)!=(t|0));e[t>>2]=0,e[t+4>>2]=0,y[t+8>>1]=0,m[t+10>>0]=0,r=s+4580|0,e[r>>2]=0,e[r+4>>2]=0,y[r+8>>1]=0,m[r+10>>0]=0,r=s+4592|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+24>>2]=0,m[r+28>>0]=0,e[s+28>>2]|0||(e[s+20>>2]=1)}}}return(F|0)==16&&(F=Q()|0,ne(F|0)),!s||(h=0,de(e[(e[s>>2]|0)+12>>2]|0,s|0,o|0),F=h,h=0,!(F&1))?s|0:(t=Q()|0,s||(F=t,ne(F|0)),T0[e[(e[s>>2]|0)+4>>2]&255](s),F=t,ne(F|0),0)}function Pa(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0;if(o=(e[r+24>>2]|0)==2,o&&(e[r+16>>2]|0)!=3)return r=0,r|0;T=e[r+20>>2]|0,t=e[r+8>>2]|0;e:do if(!T){if(o){if((t|0)!=8)break;s=We(4600)|0,c=s+4|0,S=r,A=c+84|0;do e[c>>2]=e[S>>2],c=c+4|0,S=S+4|0;while((c|0)<(A|0));c=s+88|0,A=c+40|0;do e[c>>2]=0,c=c+4|0;while((c|0)<(A|0));e[s>>2]=35688,t=s+132|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[s+148>>2]=e[r>>2],e[s+152>>2]=0,e[s+156>>2]=0,e[s+160>>2]=0,t=s+4544|0,o=s+164|0;do e[o>>2]=0,e[o+4>>2]=0,y[o+8>>1]=0,y[o+10>>1]=1,o=o+12|0;while((o|0)!=(t|0));return e[t>>2]=0,e[t+4>>2]=0,y[t+8>>1]=0,m[t+10>>0]=0,r=s+4556|0,e[r>>2]=0,e[r+4>>2]=0,y[r+8>>1]=0,m[r+10>>0]=0,r=s+4568|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+24>>2]=0,m[r+28>>0]=0,e[s+28>>2]|0||(e[s+20>>2]=1),r=s,r|0}switch(t|0){case 8:{s=We(4600)|0,c=s+4|0,S=r,A=c+84|0;do e[c>>2]=e[S>>2],c=c+4|0,S=S+4|0;while((c|0)<(A|0));c=s+88|0,A=c+40|0;do e[c>>2]=0,c=c+4|0;while((c|0)<(A|0));e[s>>2]=35716,t=s+132|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[s+148>>2]=e[r>>2],e[s+152>>2]=0,e[s+156>>2]=0,e[s+160>>2]=0,t=s+4544|0,o=s+164|0;do e[o>>2]=0,e[o+4>>2]=0,y[o+8>>1]=0,y[o+10>>1]=1,o=o+12|0;while((o|0)!=(t|0));return e[t>>2]=0,e[t+4>>2]=0,y[t+8>>1]=0,m[t+10>>0]=0,r=s+4556|0,e[r>>2]=0,e[r+4>>2]=0,y[r+8>>1]=0,m[r+10>>0]=0,r=s+4568|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+24>>2]=0,m[r+28>>0]=0,e[s+28>>2]|0||(e[s+20>>2]=1),r=s,r|0}case 12:{s=We(4600)|0,c=s+4|0,S=r,A=c+84|0;do e[c>>2]=e[S>>2],c=c+4|0,S=S+4|0;while((c|0)<(A|0));c=s+88|0,A=c+40|0;do e[c>>2]=0,c=c+4|0;while((c|0)<(A|0));e[s>>2]=35744,t=s+132|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[s+148>>2]=e[r>>2],e[s+152>>2]=0,e[s+156>>2]=0,e[s+160>>2]=0,t=s+4544|0,o=s+164|0;do e[o>>2]=0,e[o+4>>2]=0,y[o+8>>1]=0,y[o+10>>1]=1,o=o+12|0;while((o|0)!=(t|0));return e[t>>2]=0,e[t+4>>2]=0,y[t+8>>1]=0,m[t+10>>0]=0,r=s+4556|0,e[r>>2]=0,e[r+4>>2]=0,y[r+8>>1]=0,m[r+10>>0]=0,r=s+4568|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+24>>2]=0,m[r+28>>0]=0,e[s+28>>2]|0||(e[s+20>>2]=1),r=s,r|0}case 16:{s=We(4600)|0,c=s+4|0,S=r,A=c+84|0;do e[c>>2]=e[S>>2],c=c+4|0,S=S+4|0;while((c|0)<(A|0));c=s+88|0,A=c+40|0;do e[c>>2]=0,c=c+4|0;while((c|0)<(A|0));e[s>>2]=35772,t=s+132|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[s+148>>2]=e[r>>2],e[s+152>>2]=0,e[s+156>>2]=0,e[s+160>>2]=0,t=s+4544|0,o=s+164|0;do e[o>>2]=0,e[o+4>>2]=0,y[o+8>>1]=0,y[o+10>>1]=1,o=o+12|0;while((o|0)!=(t|0));return e[t>>2]=0,e[t+4>>2]=0,y[t+8>>1]=0,m[t+10>>0]=0,r=s+4556|0,e[r>>2]=0,e[r+4>>2]=0,y[r+8>>1]=0,m[r+10>>0]=0,r=s+4568|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+24>>2]=0,m[r+28>>0]=0,e[s+28>>2]|0||(e[s+20>>2]=1),r=s,r|0}default:break e}}while(!1);if(I=(1<<t)+-1|0,(t|0)<9)if(f=T<<1,f=((f+I|0)/(f|1|0)|0)+1|0,o){for(t=0;(1<<t|0)<(f|0);)t=t+1|0;for(o=0;(1<<o|0)<(I|0);)o=o+1|0;s=((o|0)<8?8:o)+o<<1,a=We(4624)|0,c=a+4|0,S=r,A=c+84|0;do e[c>>2]=e[S>>2],c=c+4|0,S=S+4|0;while((c|0)<(A|0));c=a+88|0,A=c+40|0;do e[c>>2]=0,c=c+4|0;while((c|0)<(A|0));e[a>>2]=35800,e[a+128>>2]=I,e[a+132>>2]=f,e[a+136>>2]=T,e[a+140>>2]=t,e[a+144>>2]=o,e[a+148>>2]=s,e[a+152>>2]=64,t=a+156|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[a+172>>2]=e[r>>2],e[a+176>>2]=0,e[a+180>>2]=0,e[a+184>>2]=0,t=a+4568|0,o=a+188|0;do e[o>>2]=0,e[o+4>>2]=0,y[o+8>>1]=0,y[o+10>>1]=1,o=o+12|0;while((o|0)!=(t|0));return e[t>>2]=0,e[t+4>>2]=0,y[t+8>>1]=0,m[t+10>>0]=0,r=a+4580|0,e[r>>2]=0,e[r+4>>2]=0,y[r+8>>1]=0,m[r+10>>0]=0,r=a+4592|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+24>>2]=0,m[r+28>>0]=0,e[a+28>>2]|0||(e[a+20>>2]=1),r=a,r|0}else{for(t=0;(1<<t|0)<(f|0);)t=t+1|0;for(o=0;(1<<o|0)<(I|0);)o=o+1|0;s=((o|0)<8?8:o)+o<<1,a=We(4624)|0,c=a+4|0,S=r,A=c+84|0;do e[c>>2]=e[S>>2],c=c+4|0,S=S+4|0;while((c|0)<(A|0));c=a+88|0,A=c+40|0;do e[c>>2]=0,c=c+4|0;while((c|0)<(A|0));e[a>>2]=35660,e[a+128>>2]=I,e[a+132>>2]=f,e[a+136>>2]=T,e[a+140>>2]=t,e[a+144>>2]=o,e[a+148>>2]=s,e[a+152>>2]=64,t=a+156|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[a+172>>2]=e[r>>2],e[a+176>>2]=0,e[a+180>>2]=0,e[a+184>>2]=0,t=a+4568|0,o=a+188|0;do e[o>>2]=0,e[o+4>>2]=0,y[o+8>>1]=0,y[o+10>>1]=1,o=o+12|0;while((o|0)!=(t|0));return e[t>>2]=0,e[t+4>>2]=0,y[t+8>>1]=0,m[t+10>>0]=0,r=a+4580|0,e[r>>2]=0,e[r+4>>2]=0,y[r+8>>1]=0,m[r+10>>0]=0,r=a+4592|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+24>>2]=0,m[r+28>>0]=0,e[a+28>>2]|0||(e[a+20>>2]=1),r=a,r|0}if((t|0)>=17)return r=0,r|0;if(f=T<<1,f=((f+I|0)/(f|1|0)|0)+1|0,o){for(t=0;(1<<t|0)<(f|0);)t=t+1|0;for(o=0;(1<<o|0)<(I|0);)o=o+1|0;s=((o|0)<8?8:o)+o<<1,a=We(4624)|0,c=a+4|0,S=r,A=c+84|0;do e[c>>2]=e[S>>2],c=c+4|0,S=S+4|0;while((c|0)<(A|0));c=a+88|0,A=c+40|0;do e[c>>2]=0,c=c+4|0;while((c|0)<(A|0));e[a>>2]=35828,e[a+128>>2]=I,e[a+132>>2]=f,e[a+136>>2]=T,e[a+140>>2]=t,e[a+144>>2]=o,e[a+148>>2]=s,e[a+152>>2]=64,t=a+156|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[a+172>>2]=e[r>>2],e[a+176>>2]=0,e[a+180>>2]=0,e[a+184>>2]=0,t=a+4568|0,o=a+188|0;do e[o>>2]=0,e[o+4>>2]=0,y[o+8>>1]=0,y[o+10>>1]=1,o=o+12|0;while((o|0)!=(t|0));return e[t>>2]=0,e[t+4>>2]=0,y[t+8>>1]=0,m[t+10>>0]=0,r=a+4580|0,e[r>>2]=0,e[r+4>>2]=0,y[r+8>>1]=0,m[r+10>>0]=0,r=a+4592|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+24>>2]=0,m[r+28>>0]=0,e[a+28>>2]|0||(e[a+20>>2]=1),r=a,r|0}else{for(t=0;(1<<t|0)<(f|0);)t=t+1|0;for(o=0;(1<<o|0)<(I|0);)o=o+1|0;s=((o|0)<8?8:o)+o<<1,a=We(4624)|0,c=a+4|0,S=r,A=c+84|0;do e[c>>2]=e[S>>2],c=c+4|0,S=S+4|0;while((c|0)<(A|0));c=a+88|0,A=c+40|0;do e[c>>2]=0,c=c+4|0;while((c|0)<(A|0));e[a>>2]=35856,e[a+128>>2]=I,e[a+132>>2]=f,e[a+136>>2]=T,e[a+140>>2]=t,e[a+144>>2]=o,e[a+148>>2]=s,e[a+152>>2]=64,t=a+156|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[a+172>>2]=e[r>>2],e[a+176>>2]=0,e[a+180>>2]=0,e[a+184>>2]=0,t=a+4568|0,o=a+188|0;do e[o>>2]=0,e[o+4>>2]=0,y[o+8>>1]=0,y[o+10>>1]=1,o=o+12|0;while((o|0)!=(t|0));return e[t>>2]=0,e[t+4>>2]=0,y[t+8>>1]=0,m[t+10>>0]=0,r=a+4580|0,e[r>>2]=0,e[r+4>>2]=0,y[r+8>>1]=0,m[r+10>>0]=0,r=a+4592|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+24>>2]=0,m[r+28>>0]=0,e[a+28>>2]|0||(e[a+20>>2]=1),r=a,r|0}return 0}function Fa(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;switch(D=e[o+16>>2]|0,D|0){case 64:case 0:{h=0,t=Ce(35,t|0,r|0)|0,r=h,h=0,r&1?F=16:s=t;break}default:{for(a=(1<<e[r+8>>2])+-1|0,k=e[r+20>>2]|0,T=k<<1,T=((T+a|0)/(T|1|0)|0)+1|0,t=0;(1<<t|0)<(T|0);)t=t+1|0;for(s=0;;)if((1<<s|0)<(a|0))s=s+1|0;else{c=s;break}if(a=e[o>>2]|0,h=0,s=ce(67,4632)|0,I=h,h=0,I&1)F=16;else{f=((c|0)<8?8:c)+c<<1,e[s+4>>2]=0,S=s+8|0,A=r,I=S+84|0;do e[S>>2]=e[A>>2],S=S+4|0,A=A+4|0;while((S|0)<(I|0));e[s+92>>2]=0,e[s+96>>2]=0,e[s+100>>2]=32,e[s+104>>2]=0,e[s+108>>2]=0,m[s+112>>0]=0,I=s+116|0,e[I>>2]=0,e[I+4>>2]=0,e[I+8>>2]=0,e[I+12>>2]=0,e[I+16>>2]=0,e[s>>2]=35884,e[s+136>>2]=a,e[s+140>>2]=T,e[s+144>>2]=k,e[s+148>>2]=t,e[s+152>>2]=c,e[s+156>>2]=f,e[s+160>>2]=D,t=s+164|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[s+180>>2]=e[r>>2],e[s+184>>2]=0,e[s+188>>2]=0,e[s+192>>2]=0,t=s+4576|0,a=s+196|0;do e[a>>2]=0,e[a+4>>2]=0,y[a+8>>1]=0,y[a+10>>1]=1,a=a+12|0;while((a|0)!=(t|0));e[t>>2]=0,e[t+4>>2]=0,y[t+8>>1]=0,m[t+10>>0]=0,r=s+4588|0,e[r>>2]=0,e[r+4>>2]=0,y[r+8>>1]=0,m[r+10>>0]=0,r=s+4600|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+24>>2]=0,m[r+28>>0]=0,e[s+32>>2]|0||(e[s+24>>2]=1)}}}return(F|0)==16&&(F=Q()|0,ne(F|0)),!s||(h=0,de(e[(e[s>>2]|0)+8>>2]|0,s|0,o|0),F=h,h=0,!(F&1))?s|0:(t=Q()|0,s||(F=t,ne(F|0)),T0[e[(e[s>>2]|0)+4>>2]&255](s),F=t,ne(F|0),0)}function Ma(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0;if(o=(e[r+24>>2]|0)==2,o&&(e[r+16>>2]|0)!=3)return r=0,r|0;T=e[r+20>>2]|0,t=e[r+8>>2]|0;e:do if(!T){if(o){if((t|0)!=8)break;s=We(4608)|0,e[s+4>>2]=0,c=s+8|0,S=r,A=c+84|0;do e[c>>2]=e[S>>2],c=c+4|0,S=S+4|0;while((c|0)<(A|0));e[s+92>>2]=0,e[s+96>>2]=0,e[s+100>>2]=32,e[s+104>>2]=0,e[s+108>>2]=0,m[s+112>>0]=0,t=s+116|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[t+16>>2]=0,e[s>>2]=35912,t=s+140|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[s+156>>2]=e[r>>2],e[s+160>>2]=0,e[s+164>>2]=0,e[s+168>>2]=0,t=s+4552|0,o=s+172|0;do e[o>>2]=0,e[o+4>>2]=0,y[o+8>>1]=0,y[o+10>>1]=1,o=o+12|0;while((o|0)!=(t|0));return e[t>>2]=0,e[t+4>>2]=0,y[t+8>>1]=0,m[t+10>>0]=0,r=s+4564|0,e[r>>2]=0,e[r+4>>2]=0,y[r+8>>1]=0,m[r+10>>0]=0,r=s+4576|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+24>>2]=0,m[r+28>>0]=0,e[s+32>>2]|0||(e[s+24>>2]=1),r=s,r|0}switch(t|0){case 8:{s=We(4608)|0,e[s+4>>2]=0,c=s+8|0,S=r,A=c+84|0;do e[c>>2]=e[S>>2],c=c+4|0,S=S+4|0;while((c|0)<(A|0));e[s+92>>2]=0,e[s+96>>2]=0,e[s+100>>2]=32,e[s+104>>2]=0,e[s+108>>2]=0,m[s+112>>0]=0,t=s+116|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[t+16>>2]=0,e[s>>2]=35940,t=s+140|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[s+156>>2]=e[r>>2],e[s+160>>2]=0,e[s+164>>2]=0,e[s+168>>2]=0,t=s+4552|0,o=s+172|0;do e[o>>2]=0,e[o+4>>2]=0,y[o+8>>1]=0,y[o+10>>1]=1,o=o+12|0;while((o|0)!=(t|0));return e[t>>2]=0,e[t+4>>2]=0,y[t+8>>1]=0,m[t+10>>0]=0,r=s+4564|0,e[r>>2]=0,e[r+4>>2]=0,y[r+8>>1]=0,m[r+10>>0]=0,r=s+4576|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+24>>2]=0,m[r+28>>0]=0,e[s+32>>2]|0||(e[s+24>>2]=1),r=s,r|0}case 12:{s=We(4608)|0,e[s+4>>2]=0,c=s+8|0,S=r,A=c+84|0;do e[c>>2]=e[S>>2],c=c+4|0,S=S+4|0;while((c|0)<(A|0));e[s+92>>2]=0,e[s+96>>2]=0,e[s+100>>2]=32,e[s+104>>2]=0,e[s+108>>2]=0,m[s+112>>0]=0,t=s+116|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[t+16>>2]=0,e[s>>2]=35968,t=s+140|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[s+156>>2]=e[r>>2],e[s+160>>2]=0,e[s+164>>2]=0,e[s+168>>2]=0,t=s+4552|0,o=s+172|0;do e[o>>2]=0,e[o+4>>2]=0,y[o+8>>1]=0,y[o+10>>1]=1,o=o+12|0;while((o|0)!=(t|0));return e[t>>2]=0,e[t+4>>2]=0,y[t+8>>1]=0,m[t+10>>0]=0,r=s+4564|0,e[r>>2]=0,e[r+4>>2]=0,y[r+8>>1]=0,m[r+10>>0]=0,r=s+4576|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+24>>2]=0,m[r+28>>0]=0,e[s+32>>2]|0||(e[s+24>>2]=1),r=s,r|0}case 16:{s=We(4608)|0,e[s+4>>2]=0,c=s+8|0,S=r,A=c+84|0;do e[c>>2]=e[S>>2],c=c+4|0,S=S+4|0;while((c|0)<(A|0));e[s+92>>2]=0,e[s+96>>2]=0,e[s+100>>2]=32,e[s+104>>2]=0,e[s+108>>2]=0,m[s+112>>0]=0,t=s+116|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[t+16>>2]=0,e[s>>2]=35996,t=s+140|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[s+156>>2]=e[r>>2],e[s+160>>2]=0,e[s+164>>2]=0,e[s+168>>2]=0,t=s+4552|0,o=s+172|0;do e[o>>2]=0,e[o+4>>2]=0,y[o+8>>1]=0,y[o+10>>1]=1,o=o+12|0;while((o|0)!=(t|0));return e[t>>2]=0,e[t+4>>2]=0,y[t+8>>1]=0,m[t+10>>0]=0,r=s+4564|0,e[r>>2]=0,e[r+4>>2]=0,y[r+8>>1]=0,m[r+10>>0]=0,r=s+4576|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+24>>2]=0,m[r+28>>0]=0,e[s+32>>2]|0||(e[s+24>>2]=1),r=s,r|0}default:break e}}while(!1);if(I=(1<<t)+-1|0,(t|0)<9)if(f=T<<1,f=((f+I|0)/(f|1|0)|0)+1|0,o){for(t=0;(1<<t|0)<(f|0);)t=t+1|0;for(o=0;(1<<o|0)<(I|0);)o=o+1|0;s=((o|0)<8?8:o)+o<<1,a=We(4632)|0,e[a+4>>2]=0,c=a+8|0,S=r,A=c+84|0;do e[c>>2]=e[S>>2],c=c+4|0,S=S+4|0;while((c|0)<(A|0));e[a+92>>2]=0,e[a+96>>2]=0,e[a+100>>2]=32,e[a+104>>2]=0,e[a+108>>2]=0,m[a+112>>0]=0,A=a+116|0,e[A>>2]=0,e[A+4>>2]=0,e[A+8>>2]=0,e[A+12>>2]=0,e[A+16>>2]=0,e[a>>2]=36024,e[a+136>>2]=I,e[a+140>>2]=f,e[a+144>>2]=T,e[a+148>>2]=t,e[a+152>>2]=o,e[a+156>>2]=s,e[a+160>>2]=64,t=a+164|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[a+180>>2]=e[r>>2],e[a+184>>2]=0,e[a+188>>2]=0,e[a+192>>2]=0,t=a+4576|0,o=a+196|0;do e[o>>2]=0,e[o+4>>2]=0,y[o+8>>1]=0,y[o+10>>1]=1,o=o+12|0;while((o|0)!=(t|0));return e[t>>2]=0,e[t+4>>2]=0,y[t+8>>1]=0,m[t+10>>0]=0,r=a+4588|0,e[r>>2]=0,e[r+4>>2]=0,y[r+8>>1]=0,m[r+10>>0]=0,r=a+4600|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+24>>2]=0,m[r+28>>0]=0,e[a+32>>2]|0||(e[a+24>>2]=1),r=a,r|0}else{for(t=0;(1<<t|0)<(f|0);)t=t+1|0;for(o=0;(1<<o|0)<(I|0);)o=o+1|0;s=((o|0)<8?8:o)+o<<1,a=We(4632)|0,e[a+4>>2]=0,c=a+8|0,S=r,A=c+84|0;do e[c>>2]=e[S>>2],c=c+4|0,S=S+4|0;while((c|0)<(A|0));e[a+92>>2]=0,e[a+96>>2]=0,e[a+100>>2]=32,e[a+104>>2]=0,e[a+108>>2]=0,m[a+112>>0]=0,A=a+116|0,e[A>>2]=0,e[A+4>>2]=0,e[A+8>>2]=0,e[A+12>>2]=0,e[A+16>>2]=0,e[a>>2]=35884,e[a+136>>2]=I,e[a+140>>2]=f,e[a+144>>2]=T,e[a+148>>2]=t,e[a+152>>2]=o,e[a+156>>2]=s,e[a+160>>2]=64,t=a+164|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[a+180>>2]=e[r>>2],e[a+184>>2]=0,e[a+188>>2]=0,e[a+192>>2]=0,t=a+4576|0,o=a+196|0;do e[o>>2]=0,e[o+4>>2]=0,y[o+8>>1]=0,y[o+10>>1]=1,o=o+12|0;while((o|0)!=(t|0));return e[t>>2]=0,e[t+4>>2]=0,y[t+8>>1]=0,m[t+10>>0]=0,r=a+4588|0,e[r>>2]=0,e[r+4>>2]=0,y[r+8>>1]=0,m[r+10>>0]=0,r=a+4600|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+24>>2]=0,m[r+28>>0]=0,e[a+32>>2]|0||(e[a+24>>2]=1),r=a,r|0}if((t|0)>=17)return r=0,r|0;if(f=T<<1,f=((f+I|0)/(f|1|0)|0)+1|0,o){for(t=0;(1<<t|0)<(f|0);)t=t+1|0;for(o=0;(1<<o|0)<(I|0);)o=o+1|0;s=((o|0)<8?8:o)+o<<1,a=We(4632)|0,e[a+4>>2]=0,c=a+8|0,S=r,A=c+84|0;do e[c>>2]=e[S>>2],c=c+4|0,S=S+4|0;while((c|0)<(A|0));e[a+92>>2]=0,e[a+96>>2]=0,e[a+100>>2]=32,e[a+104>>2]=0,e[a+108>>2]=0,m[a+112>>0]=0,A=a+116|0,e[A>>2]=0,e[A+4>>2]=0,e[A+8>>2]=0,e[A+12>>2]=0,e[A+16>>2]=0,e[a>>2]=36052,e[a+136>>2]=I,e[a+140>>2]=f,e[a+144>>2]=T,e[a+148>>2]=t,e[a+152>>2]=o,e[a+156>>2]=s,e[a+160>>2]=64,t=a+164|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[a+180>>2]=e[r>>2],e[a+184>>2]=0,e[a+188>>2]=0,e[a+192>>2]=0,t=a+4576|0,o=a+196|0;do e[o>>2]=0,e[o+4>>2]=0,y[o+8>>1]=0,y[o+10>>1]=1,o=o+12|0;while((o|0)!=(t|0));return e[t>>2]=0,e[t+4>>2]=0,y[t+8>>1]=0,m[t+10>>0]=0,r=a+4588|0,e[r>>2]=0,e[r+4>>2]=0,y[r+8>>1]=0,m[r+10>>0]=0,r=a+4600|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+24>>2]=0,m[r+28>>0]=0,e[a+32>>2]|0||(e[a+24>>2]=1),r=a,r|0}else{for(t=0;(1<<t|0)<(f|0);)t=t+1|0;for(o=0;(1<<o|0)<(I|0);)o=o+1|0;s=((o|0)<8?8:o)+o<<1,a=We(4632)|0,e[a+4>>2]=0,c=a+8|0,S=r,A=c+84|0;do e[c>>2]=e[S>>2],c=c+4|0,S=S+4|0;while((c|0)<(A|0));e[a+92>>2]=0,e[a+96>>2]=0,e[a+100>>2]=32,e[a+104>>2]=0,e[a+108>>2]=0,m[a+112>>0]=0,A=a+116|0,e[A>>2]=0,e[A+4>>2]=0,e[A+8>>2]=0,e[A+12>>2]=0,e[A+16>>2]=0,e[a>>2]=36080,e[a+136>>2]=I,e[a+140>>2]=f,e[a+144>>2]=T,e[a+148>>2]=t,e[a+152>>2]=o,e[a+156>>2]=s,e[a+160>>2]=64,t=a+164|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[a+180>>2]=e[r>>2],e[a+184>>2]=0,e[a+188>>2]=0,e[a+192>>2]=0,t=a+4576|0,o=a+196|0;do e[o>>2]=0,e[o+4>>2]=0,y[o+8>>1]=0,y[o+10>>1]=1,o=o+12|0;while((o|0)!=(t|0));return e[t>>2]=0,e[t+4>>2]=0,y[t+8>>1]=0,m[t+10>>0]=0,r=a+4588|0,e[r>>2]=0,e[r+4>>2]=0,y[r+8>>1]=0,m[r+10>>0]=0,r=a+4600|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+24>>2]=0,m[r+28>>0]=0,e[a+32>>2]|0||(e[a+24>>2]=1),r=a,r|0}return 0}function Ra(){var t=0,r=0,o=0,s=0,a=0,f=0,c=0;t=2832;do e[t>>2]=0,e[t+4>>2]=0,t=t+8|0;while((t|0)!=4880);j0(2832,0,2048)|0,t=0;do c=2832+(t+128<<3)|0,e[c>>2]=0,e[c+4>>2]=1,t=t+1|0;while((t|0)!=128);t=3088,e[t>>2]=1,e[t+4>>2]=3,t=3096,e[t>>2]=1,e[t+4>>2]=3,t=3104,e[t>>2]=1,e[t+4>>2]=3,t=3112,e[t>>2]=1,e[t+4>>2]=3,t=3120,e[t>>2]=1,e[t+4>>2]=3,t=3128,e[t>>2]=1,e[t+4>>2]=3,t=3136,e[t>>2]=1,e[t+4>>2]=3,t=3144,e[t>>2]=1,e[t+4>>2]=3,t=3152,e[t>>2]=1,e[t+4>>2]=3,t=3160,e[t>>2]=1,e[t+4>>2]=3,t=3168,e[t>>2]=1,e[t+4>>2]=3,t=3176,e[t>>2]=1,e[t+4>>2]=3,t=3184,e[t>>2]=1,e[t+4>>2]=3,t=3192,e[t>>2]=1,e[t+4>>2]=3,t=3200,e[t>>2]=1,e[t+4>>2]=3,t=3208,e[t>>2]=1,e[t+4>>2]=3,t=3216,e[t>>2]=1,e[t+4>>2]=3,t=3224,e[t>>2]=1,e[t+4>>2]=3,t=3232,e[t>>2]=1,e[t+4>>2]=3,t=3240,e[t>>2]=1,e[t+4>>2]=3,t=3248,e[t>>2]=1,e[t+4>>2]=3,t=3256,e[t>>2]=1,e[t+4>>2]=3,t=3264,e[t>>2]=1,e[t+4>>2]=3,t=3272,e[t>>2]=1,e[t+4>>2]=3,t=3280,e[t>>2]=1,e[t+4>>2]=3,t=3288,e[t>>2]=1,e[t+4>>2]=3,t=3296,e[t>>2]=1,e[t+4>>2]=3,t=3304,e[t>>2]=1,e[t+4>>2]=3,t=3312,e[t>>2]=1,e[t+4>>2]=3,t=3320,e[t>>2]=1,e[t+4>>2]=3,t=3328,e[t>>2]=1,e[t+4>>2]=3,t=3336,e[t>>2]=1,e[t+4>>2]=3,t=2896,e[t>>2]=2,e[t+4>>2]=5,t=2904,e[t>>2]=2,e[t+4>>2]=5,t=2912,e[t>>2]=2,e[t+4>>2]=5,t=2920,e[t>>2]=2,e[t+4>>2]=5,t=2928,e[t>>2]=2,e[t+4>>2]=5,t=2936,e[t>>2]=2,e[t+4>>2]=5,t=2944,e[t>>2]=2,e[t+4>>2]=5,t=2952,e[t>>2]=2,e[t+4>>2]=5,t=2848,e[t>>2]=3,e[t+4>>2]=7,t=2856,e[t>>2]=3,e[t+4>>2]=7,t=0;do c=2832+(t+64<<3)|0,e[c>>2]=-1,e[c+4>>2]=2,t=t+1|0;while((t|0)!=64);t=2960,e[t>>2]=-2,e[t+4>>2]=4,t=2968,e[t>>2]=-2,e[t+4>>2]=4,t=2976,e[t>>2]=-2,e[t+4>>2]=4,t=2984,e[t>>2]=-2,e[t+4>>2]=4,t=2992,e[t>>2]=-2,e[t+4>>2]=4,t=3e3,e[t>>2]=-2,e[t+4>>2]=4,t=3008,e[t>>2]=-2,e[t+4>>2]=4,t=3016,e[t>>2]=-2,e[t+4>>2]=4,t=3024,e[t>>2]=-2,e[t+4>>2]=4,t=3032,e[t>>2]=-2,e[t+4>>2]=4,t=3040,e[t>>2]=-2,e[t+4>>2]=4,t=3048,e[t>>2]=-2,e[t+4>>2]=4,t=3056,e[t>>2]=-2,e[t+4>>2]=4,t=3064,e[t>>2]=-2,e[t+4>>2]=4,t=3072,e[t>>2]=-2,e[t+4>>2]=4,t=3080,e[t>>2]=-2,e[t+4>>2]=4,t=2864,e[t>>2]=-3,e[t+4>>2]=6,t=2872,e[t>>2]=-3,e[t+4>>2]=6,t=2880,e[t>>2]=-3,e[t+4>>2]=6,t=2888,e[t>>2]=-3,e[t+4>>2]=6,t=2840,e[t>>2]=-4,e[t+4>>2]=8,t=4880;do e[t>>2]=0,e[t+4>>2]=0,t=t+8|0;while((t|0)!=6928);for(j0(4880,0,2048)|0,o=2,t=0,a=0,f=0;;){if(o=o<<16>>16,r=8-o|0,s=1<<r,(r|0)!=31){t=(t&1|2)<<r,r=0;do c=4880+(r+t<<3)|0,e[c>>2]=a,e[c+4>>2]=o,r=r+1|0;while((r|0)<(s|0))}if(r=(f<<16)+65536|0,t=r>>31^r>>15,f=f+1|0,(f|0)==7){r=2,a=1,f=-1,c=-1;break}else o=(t>>1)+2|0,a=r>>16}for(;;){if(o=r<<16>>16,t=8-o|0,s=1<<t,(t|0)!=31){t=(a&1|2)<<t,r=0;do a=4880+(r+t<<3)|0,e[a>>2]=f,e[a+4>>2]=o,r=r+1|0;while((r|0)<(s|0))}if(t=(c<<16)+-65536|0,a=t>>31^t>>15,r=(a>>1)+2|0,(r|0)>8){t=6928;break}else f=t>>16,c=c+-1|0}do e[t>>2]=0,e[t+4>>2]=0,t=t+8|0;while((t|0)!=8976);for(j0(6928,0,2048)|0,a=3,t=0,s=0,f=0;;){if(r=8-a|0,o=1<<r,(r|0)!=31){t=(t&3|4)<<r,r=0;do c=6928+(r+t<<3)|0,e[c>>2]=s,e[c+4>>2]=a,r=r+1|0;while((r|0)<(o|0))}if(r=(f<<16)+65536|0,t=r>>31^r>>15,f=f+1|0,(f|0)==12){a=3,r=1,s=-1,f=-1;break}else a=(t>>2)+3|0,s=r>>16}for(;;){if(t=8-a|0,o=1<<t,(t|0)!=31){t=(r&3|4)<<t,r=0;do c=6928+(r+t<<3)|0,e[c>>2]=s,e[c+4>>2]=a,r=r+1|0;while((r|0)<(o|0))}if(t=(f<<16)+-65536|0,r=t>>31^t>>15,a=(r>>2)+3|0,(a|0)>8){t=8976;break}else s=t>>16,f=f+-1|0}do e[t>>2]=0,e[t+4>>2]=0,t=t+8|0;while((t|0)!=11024);for(j0(8976,0,2048)|0,a=4,t=0,s=0,f=0;;){if(r=8-a|0,o=1<<r,(r|0)!=31){t=(t&7|8)<<r,r=0;do c=8976+(r+t<<3)|0,e[c>>2]=s,e[c+4>>2]=a,r=r+1|0;while((r|0)<(o|0))}if(r=(f<<16)+65536|0,t=r>>31^r>>15,f=f+1|0,(f|0)==20){a=4,r=1,s=-1,f=-1;break}else a=(t>>3)+4|0,s=r>>16}for(;;){if(t=8-a|0,o=1<<t,(t|0)!=31){t=(r&7|8)<<t,r=0;do c=8976+(r+t<<3)|0,e[c>>2]=s,e[c+4>>2]=a,r=r+1|0;while((r|0)<(o|0))}if(t=(f<<16)+-65536|0,r=t>>31^t>>15,a=(r>>3)+4|0,(a|0)>8){t=11024;break}else s=t>>16,f=f+-1|0}do e[t>>2]=0,e[t+4>>2]=0,t=t+8|0;while((t|0)!=13072);for(j0(11024,0,2048)|0,a=5,t=0,s=0,f=0;;){if(r=8-a|0,o=1<<r,(r|0)!=31){t=(t&15|16)<<r,r=0;do c=11024+(r+t<<3)|0,e[c>>2]=s,e[c+4>>2]=a,r=r+1|0;while((r|0)<(o|0))}if(r=(f<<16)+65536|0,t=r>>31^r>>15,f=f+1|0,(f|0)==32){a=5,r=1,s=-1,f=-1;break}else a=(t>>4)+5|0,s=r>>16}for(;;){if(t=8-a|0,o=1<<t,(t|0)!=31){t=(r&15|16)<<t,r=0;do c=11024+(r+t<<3)|0,e[c>>2]=s,e[c+4>>2]=a,r=r+1|0;while((r|0)<(o|0))}if(t=(f<<16)+-65536|0,r=t>>31^t>>15,a=(r>>4)+5|0,(a|0)>8){t=13072;break}else s=t>>16,f=f+-1|0}do e[t>>2]=0,e[t+4>>2]=0,t=t+8|0;while((t|0)!=15120);for(j0(13072,0,2048)|0,a=6,t=0,s=0,f=0;;){if(r=8-a|0,o=1<<r,(r|0)!=31){t=(t&31|32)<<r,r=0;do c=13072+(r+t<<3)|0,e[c>>2]=s,e[c+4>>2]=a,r=r+1|0;while((r|0)<(o|0))}if(r=(f<<16)+65536|0,t=r>>31^r>>15,f=f+1|0,(f|0)==48){a=6,r=1,s=-1,f=-1;break}else a=(t>>5)+6|0,s=r>>16}for(;;){if(t=8-a|0,o=1<<t,(t|0)!=31){t=(r&31|32)<<t,r=0;do c=13072+(r+t<<3)|0,e[c>>2]=s,e[c+4>>2]=a,r=r+1|0;while((r|0)<(o|0))}if(t=(f<<16)+-65536|0,r=t>>31^t>>15,a=(r>>5)+6|0,(a|0)>8){t=15120;break}else s=t>>16,f=f+-1|0}do e[t>>2]=0,e[t+4>>2]=0,t=t+8|0;while((t|0)!=17168);for(j0(15120,0,2048)|0,a=7,t=0,s=0,f=0;;){if(r=8-a|0,o=1<<r,(r|0)!=31){t=(t&63|64)<<r,r=0;do c=15120+(r+t<<3)|0,e[c>>2]=s,e[c+4>>2]=a,r=r+1|0;while((r|0)<(o|0))}if(r=(f<<16)+65536|0,t=r>>31^r>>15,f=f+1|0,(f|0)==64){a=7,r=1,s=-1,f=-1;break}else a=(t>>6)+7|0,s=r>>16}for(;;){if(t=8-a|0,o=1<<t,(t|0)!=31){t=(r&63|64)<<t,r=0;do c=15120+(r+t<<3)|0,e[c>>2]=s,e[c+4>>2]=a,r=r+1|0;while((r|0)<(o|0))}if(t=(f<<16)+-65536|0,r=t>>31^t>>15,a=(r>>6)+7|0,(a|0)>8){t=17168;break}else s=t>>16,f=f+-1|0}do e[t>>2]=0,e[t+4>>2]=0,t=t+8|0;while((t|0)!=19216);for(j0(17168,0,2048)|0,a=8,t=0,s=0,f=0;;){if(r=8-a|0,o=1<<r,(r|0)!=31){t=(t&127|128)<<r,r=0;do c=17168+(r+t<<3)|0,e[c>>2]=s,e[c+4>>2]=a,r=r+1|0;while((r|0)<(o|0))}if(r=(f<<16)+65536|0,t=r>>31^r>>15,f=f+1|0,(f|0)==64){f=8,s=1,a=-1,c=-1;break}else a=(t>>7)+8|0,s=r>>16}for(;;){if(t=8-f|0,o=1<<t,(t|0)!=31){t=(s&127|128)<<t,r=0;do s=17168+(r+t<<3)|0,e[s>>2]=a,e[s+4>>2]=f,r=r+1|0;while((r|0)<(o|0))}if(r=(c<<16)+-65536|0,s=r>>31^r>>15,t=s>>7,(t|0)>0){t=19216;break}else f=t+8|0,a=r>>16,c=c+-1|0}do e[t>>2]=0,e[t+4>>2]=0,t=t+8|0;while((t|0)!=21264);j0(19216,0,2048)|0,t=21264;do e[t>>2]=0,e[t+4>>2]=0,t=t+8|0;while((t|0)!=23312);j0(21264,0,2048)|0,t=23312;do e[t>>2]=0,e[t+4>>2]=0,t=t+8|0;while((t|0)!=25360);j0(23312,0,2048)|0,t=25360;do e[t>>2]=0,e[t+4>>2]=0,t=t+8|0;while((t|0)!=27408);j0(25360,0,2048)|0,t=27408;do e[t>>2]=0,e[t+4>>2]=0,t=t+8|0;while((t|0)!=29456);j0(27408,0,2048)|0,t=29456;do e[t>>2]=0,e[t+4>>2]=0,t=t+8|0;while((t|0)!=31504);j0(29456,0,2048)|0,t=31504;do e[t>>2]=0,e[t+4>>2]=0,t=t+8|0;while((t|0)!=33552);j0(31504,0,2048)|0,t=33552;do e[t>>2]=0,e[t+4>>2]=0,t=t+8|0;while((t|0)!=35600);j0(33552,0,2048)|0,cr(35600,8),x0(179,35600,j|0)|0,cr(35612,10),x0(179,35612,j|0)|0,cr(35624,12),x0(179,35624,j|0)|0,cr(35636,16),x0(179,35636,j|0)|0}function Oa(t){t=t|0;var r=0;r=e[t>>2]|0,r&&(t=t+4|0,(e[t>>2]|0)!=(r|0)&&(e[t>>2]=r),ue(r))}function La(t){t=t|0;var r=0,o=0;e[t>>2]=36080,r=e[t+4616>>2]|0,r&&(o=t+4620|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36612,r=e[t+120>>2]|0,r&&(o=t+124|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+92|0,r=e[o>>2]|0,e[o>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),t=t+4|0,r=e[t>>2]|0,e[t>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r)}function Na(t){t=t|0;var r=0,o=0;if(e[t>>2]=36080,r=e[t+4616>>2]|0,r&&(o=t+4620|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36612,r=e[t+120>>2]|0,r&&(o=t+124|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+92|0,r=e[o>>2]|0,e[o>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),o=t+4|0,r=e[o>>2]|0,e[o>>2]=0,!r){ue(t);return}T0[e[(e[r>>2]|0)+4>>2]&255](r),ue(t)}function Ba(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0;c=b,b=b+32|0,A=c,dt(A,e[t+136>>2]|0,e[t+144>>2]|0),S=e[r+4>>2]|0,f=e[r+8>>2]|0,f=f|0?f:e[A+8>>2]|0,a=e[r+12>>2]|0,a=a|0?a:e[A+12>>2]|0,o=e[r+16>>2]|0,s=e[A+16>>2]|0,e[t+184>>2]=S|0?S:e[A+4>>2]|0,e[t+188>>2]=f,e[t+192>>2]=a,t1(t),a=t+140|0,r=(e[a>>2]|0)+32|0,r=(r|0)<128?2:(r|0)/64|0,f=0;do e[t+196+(f*12|0)>>2]=r,e[t+196+(f*12|0)+4>>2]=0,y[t+196+(f*12|0)+8>>1]=0,y[t+196+(f*12|0)+10>>1]=1,f=f+1|0;while((f|0)!=365);S=(e[a>>2]|0)+32|0,S=(S|0)<128?2:(S|0)/64|0,A=(o|0?o:s)&255,e[t+4576>>2]=S,e[t+4580>>2]=0,m[t+4584>>0]=A,m[t+4585>>0]=1,m[t+4586>>0]=0,e[t+4588>>2]=S,e[t+4592>>2]=1,m[t+4596>>0]=A,m[t+4597>>0]=1,m[t+4598>>0]=0,e[t+4600>>2]=0,b=c}function Ua(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0;if(T=b,b=b+16|0,A=T,S=t+92|0,c=e[r>>2]|0,e[r>>2]=0,r=e[S>>2]|0,e[S>>2]=c,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),e[A>>2]=0,e[A+4>>2]=s,S=o+8|0,e[A+8>>2]=e[S>>2],s){r=We(4624)|0,s=t+8|0,a=r+4|0,f=s,c=a+84|0;do e[a>>2]=e[f>>2],a=a+4|0,f=f+4|0;while((a|0)<(c|0));a=r+88|0,c=a+40|0;do e[a>>2]=0,a=a+4|0;while((a|0)<(c|0));e[r>>2]=35856,e[r+128>>2]=e[t+136>>2],e[r+132>>2]=e[t+140>>2],e[r+136>>2]=e[t+144>>2],e[r+140>>2]=e[t+148>>2],e[r+144>>2]=e[t+152>>2],e[r+148>>2]=e[t+156>>2],e[r+152>>2]=e[t+160>>2],a=r+156|0,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[r+172>>2]=e[s>>2],e[r+176>>2]=0,e[r+180>>2]=0,e[r+184>>2]=0,a=r+4568|0,s=r+188|0;do e[s>>2]=0,e[s+4>>2]=0,y[s+8>>1]=0,y[s+10>>1]=1,s=s+12|0;while((s|0)!=(a|0));f=t+4|0,e[a>>2]=0,e[a+4>>2]=0,y[a+8>>1]=0,m[a+10>>0]=0,c=r+4580|0,e[c>>2]=0,e[c+4>>2]=0,y[c+8>>1]=0,m[c+10>>0]=0,c=r+4592|0,e[c>>2]=0,e[c+4>>2]=0,e[c+8>>2]=0,e[c+12>>2]=0,e[c+16>>2]=0,e[c+20>>2]=0,e[c+24>>2]=0,m[c+28>>0]=0,e[r+28>>2]|0||(e[r+20>>2]=1),s=e[f>>2]|0,e[f>>2]=r,s&&(T0[e[(e[s>>2]|0)+4>>2]&255](s),r=e[f>>2]|0),Qt(r,A)}return A=t+100|0,e[A>>2]=32,e[t+96>>2]=0,r=e[o>>2]|0,r?(e[t+132>>2]=r,a=t+120|0,S=t+124|0,s=e[S>>2]|0,r=e[a>>2]|0,f=r,c=s-f|0,c>>>0>=4e3?c>>>0>4e3&&(I=r+4e3|0,(s|0)!=(I|0))&&(e[S>>2]=I,s=I):(Si(a,4e3-c|0),r=e[a>>2]|0,f=r,s=e[S>>2]|0),e[t+108>>2]=f,e[t+104>>2]=s-r,so(t),I=t+116|0,I=e[I>>2]|0,t=e[A>>2]|0,t=t+-32|0,t=(t|0)/8|0,t=I-t|0,b=T,t|0):(e[t+108>>2]=e[o+4>>2],e[t+104>>2]=e[S>>2],so(t),I=t+116|0,I=e[I>>2]|0,t=e[A>>2]|0,t=t+-32|0,t=(t|0)/8|0,t=I-t|0,b=T,t|0)}function Va(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0;if(B=b,b=b+352|0,L=B+328|0,M=B+192|0,o=B+343|0,s=B+342|0,a=B+341|0,f=B+340|0,D=B+176|0,S=B+168|0,A=B+160|0,I=B+152|0,q=B,N=B+136|0,e[t+32>>2]|0&&(e[t+24>>2]|0)!=1){if(F=t+8|0,z=t+36|0,c=e[z>>2]|0,!c){if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[o>>0]|0,Re(37,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}if(t=e[t+16>>2]|0,(t|0)==16)switch(c|0){case 1:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[s>>0]|0,Re(38,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[a>>0]|0,Re(39,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[f>>0]|0,Re(40,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=M+56|0,a=M+4|0,e[M>>2]=36160,e[c>>2]=36180,h=0,de(62,M+56|0,a|0),B=h,h=0,B&1&&(R=Q()|0,Ye(c),ne(R|0)),e[M+128>>2]=0,e[M+132>>2]=-1,e[M>>2]=36200,e[M+56>>2]=36220,h=0,oe(180,a|0),B=h,h=0;do if(B&1)t=Q()|0;else{if(e[a>>2]=36236,f=M+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[M+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),B=h,h=0,B&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,M|0,49007,21)|0,L=h,h=0;do if(!(L&1)&&(h=0,T=Ce(36,t|0,e[z>>2]|0)|0,L=h,h=0,!(L&1))&&(h=0,Oe(28,T|0,50997,18)|0,L=h,h=0,!(L&1))){if(s=g0(16)|0,h=0,de(64,D|0,a|0),L=h,h=0,L&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,D|0),L=h,h=0,L&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(D),!o)break;v0(s|0)}else R=34;while(!1);(R|0)==34&&(t=Q()|0),e[M>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}switch((t|0)<=8&&(t=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,t|0,8,35648),R=h,h=0,R&1||V0(t|0,824,96),R=Q()|0,v0(t|0),ne(R|0)),o=16-t|0,c|0){case 1:{if(t=We(60)|0,e[S>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[S>>2],e[L+4>>2]=e[S+4>>2],Re(41,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(60)|0,e[A>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[A>>2],e[L+4>>2]=e[A+4>>2],Re(42,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(60)|0,e[I>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[I>>2],e[L+4>>2]=e[I+4>>2],Re(43,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=q+56|0,a=q+4|0,e[q>>2]=36160,e[c>>2]=36180,h=0,de(62,q+56|0,a|0),M=h,h=0,M&1&&(R=Q()|0,Ye(c),ne(R|0)),e[q+128>>2]=0,e[q+132>>2]=-1,e[q>>2]=36200,e[q+56>>2]=36220,h=0,oe(180,a|0),M=h,h=0;do if(M&1)t=Q()|0;else{if(e[a>>2]=36236,f=q+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[q+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),M=h,h=0,M&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,q|0,49007,21)|0,M=h,h=0;do if(!(M&1)&&(h=0,k=Ce(36,t|0,e[z>>2]|0)|0,M=h,h=0,!(M&1))&&(h=0,Oe(28,k|0,50997,18)|0,M=h,h=0,!(M&1))){if(s=g0(16)|0,h=0,de(64,N|0,a|0),M=h,h=0,M&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,N|0),M=h,h=0,M&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(N),!o)break;v0(s|0)}else R=64;while(!1);(R|0)==64&&(t=Q()|0),e[q>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}}return o=e[r+4>>2]|0,s=We(16)|0,t=e[t+20>>2]|0,o?(e[s>>2]=36108,e[s+4>>2]=o,e[s+8>>2]=2,e[s+12>>2]=t,R=s,b=B,R|0):(R=e[r>>2]|0,e[s>>2]=36132,e[s+4>>2]=R,e[s+8>>2]=2,e[s+12>>2]=t,R=s,b=B,R|0)}function za(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;e[t>>2]=36460,e[t+4>>2]=o,k=t+8|0,f=e[o>>2]|0,I=o+16|0,s=e[I>>2]|0,c=J(s,f)|0,e[k>>2]=0,D=t+12|0,e[D>>2]=0,e[t+16>>2]=0;do if(c){if((c|0)<0&&(h=0,oe(178,k|0),f=h,h=0,f&1)||(T=4),(T|0)==4&&(S=c<<1,h=0,A=ce(67,S|0)|0,f=h,h=0,!(f&1))){e[k>>2]=A,f=A+(c<<1)|0,e[t+16>>2]=f,j0(A|0,0,S|0)|0,e[D>>2]=f,f=e[o>>2]|0,s=e[I>>2]|0;break}c=Q()|0,a=e[k>>2]|0,s=a,a&&(f=e[D>>2]|0,(f|0)!=(a|0)&&(e[D>>2]=f+(~((f+-2-s|0)>>>1)<<1)),ue(a)),D=c,ne(D|0)}while(!1);if(c=t+20|0,s=J(f<<1,s)|0,e[c>>2]=0,S=t+24|0,e[S>>2]=0,e[t+28>>2]=0,!s){D=t+36|0,e[D>>2]=e[r>>2],e[D+4>>2]=e[r+4>>2],e[D+8>>2]=e[r+8>>2];return}if((s|0)<0&&(h=0,oe(178,c|0),o=h,h=0,o&1)||(T=13),(T|0)==13&&(h=0,a=ce(67,s|0)|0,T=h,h=0,!(T&1))){e[S>>2]=a,e[c>>2]=a,e[t+28>>2]=a+s;do m[a>>0]=0,a=(e[S>>2]|0)+1|0,e[S>>2]=a,s=s+-1|0;while(s|0);D=t+36|0,e[D>>2]=e[r>>2],e[D+4>>2]=e[r+4>>2],e[D+8>>2]=e[r+8>>2];return}f=Q()|0,a=e[c>>2]|0,a&&((e[S>>2]|0)!=(a|0)&&(e[S>>2]=a),ue(a)),a=e[k>>2]|0,a||(D=f,ne(D|0)),s=e[D>>2]|0,(s|0)!=(a|0)&&(e[D>>2]=s+(~((s+-2-a|0)>>>1)<<1)),ue(a),D=f,ne(D|0)}function qa(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;e[t>>2]=36436,e[t+4>>2]=o,k=t+8|0,f=e[o>>2]|0,I=o+16|0,s=e[I>>2]|0,c=J(s,f)|0,e[k>>2]=0,D=t+12|0,e[D>>2]=0,e[t+16>>2]=0;do if(c){if((c|0)<0&&(h=0,oe(178,k|0),f=h,h=0,f&1)||(T=4),(T|0)==4&&(S=c<<1,h=0,A=ce(67,S|0)|0,f=h,h=0,!(f&1))){e[k>>2]=A,f=A+(c<<1)|0,e[t+16>>2]=f,j0(A|0,0,S|0)|0,e[D>>2]=f,f=e[o>>2]|0,s=e[I>>2]|0;break}c=Q()|0,a=e[k>>2]|0,s=a,a&&(f=e[D>>2]|0,(f|0)!=(a|0)&&(e[D>>2]=f+(~((f+-2-s|0)>>>1)<<1)),ue(a)),D=c,ne(D|0)}while(!1);if(c=t+20|0,s=J(f<<1,s)|0,e[c>>2]=0,S=t+24|0,e[S>>2]=0,e[t+28>>2]=0,!s){D=t+36|0,e[D>>2]=e[r>>2],e[D+4>>2]=e[r+4>>2],e[D+8>>2]=e[r+8>>2];return}if((s|0)<0&&(h=0,oe(178,c|0),o=h,h=0,o&1)||(T=13),(T|0)==13&&(h=0,a=ce(67,s|0)|0,T=h,h=0,!(T&1))){e[S>>2]=a,e[c>>2]=a,e[t+28>>2]=a+s;do m[a>>0]=0,a=(e[S>>2]|0)+1|0,e[S>>2]=a,s=s+-1|0;while(s|0);D=t+36|0,e[D>>2]=e[r>>2],e[D+4>>2]=e[r+4>>2],e[D+8>>2]=e[r+8>>2];return}f=Q()|0,a=e[c>>2]|0,a&&((e[S>>2]|0)!=(a|0)&&(e[S>>2]=a),ue(a)),a=e[k>>2]|0,a||(D=f,ne(D|0)),s=e[D>>2]|0,(s|0)!=(a|0)&&(e[D>>2]=s+(~((s+-2-a|0)>>>1)<<1)),ue(a),D=f,ne(D|0)}function Ga(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;e[t>>2]=36412,e[t+4>>2]=o,k=t+8|0,f=e[o>>2]|0,I=o+16|0,s=e[I>>2]|0,c=J(s,f)|0,e[k>>2]=0,D=t+12|0,e[D>>2]=0,e[t+16>>2]=0;do if(c){if((c|0)<0&&(h=0,oe(178,k|0),f=h,h=0,f&1)||(T=4),(T|0)==4&&(S=c<<1,h=0,A=ce(67,S|0)|0,f=h,h=0,!(f&1))){e[k>>2]=A,f=A+(c<<1)|0,e[t+16>>2]=f,j0(A|0,0,S|0)|0,e[D>>2]=f,f=e[o>>2]|0,s=e[I>>2]|0;break}c=Q()|0,a=e[k>>2]|0,s=a,a&&(f=e[D>>2]|0,(f|0)!=(a|0)&&(e[D>>2]=f+(~((f+-2-s|0)>>>1)<<1)),ue(a)),D=c,ne(D|0)}while(!1);if(c=t+20|0,s=J(f<<1,s)|0,e[c>>2]=0,S=t+24|0,e[S>>2]=0,e[t+28>>2]=0,!s){D=t+36|0,e[D>>2]=e[r>>2],e[D+4>>2]=e[r+4>>2],e[D+8>>2]=e[r+8>>2];return}if((s|0)<0&&(h=0,oe(178,c|0),o=h,h=0,o&1)||(T=13),(T|0)==13&&(h=0,a=ce(67,s|0)|0,T=h,h=0,!(T&1))){e[S>>2]=a,e[c>>2]=a,e[t+28>>2]=a+s;do m[a>>0]=0,a=(e[S>>2]|0)+1|0,e[S>>2]=a,s=s+-1|0;while(s|0);D=t+36|0,e[D>>2]=e[r>>2],e[D+4>>2]=e[r+4>>2],e[D+8>>2]=e[r+8>>2];return}f=Q()|0,a=e[c>>2]|0,a&&((e[S>>2]|0)!=(a|0)&&(e[S>>2]=a),ue(a)),a=e[k>>2]|0,a||(D=f,ne(D|0)),s=e[D>>2]|0,(s|0)!=(a|0)&&(e[D>>2]=s+(~((s+-2-a|0)>>>1)<<1)),ue(a),D=f,ne(D|0)}function $a(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;e[t>>2]=36388,e[t+4>>2]=o,k=t+8|0,f=e[o>>2]|0,I=o+16|0,s=e[I>>2]|0,c=J(s,f)|0,e[k>>2]=0,D=t+12|0,e[D>>2]=0,e[t+16>>2]=0;do if(c){if((c|0)<0&&(h=0,oe(178,k|0),f=h,h=0,f&1)||(T=4),(T|0)==4&&(S=c<<1,h=0,A=ce(67,S|0)|0,f=h,h=0,!(f&1))){e[k>>2]=A,f=A+(c<<1)|0,e[t+16>>2]=f,j0(A|0,0,S|0)|0,e[D>>2]=f,f=e[o>>2]|0,s=e[I>>2]|0;break}c=Q()|0,a=e[k>>2]|0,s=a,a&&(f=e[D>>2]|0,(f|0)!=(a|0)&&(e[D>>2]=f+(~((f+-2-s|0)>>>1)<<1)),ue(a)),D=c,ne(D|0)}while(!1);if(c=t+20|0,s=J(f<<1,s)|0,e[c>>2]=0,S=t+24|0,e[S>>2]=0,e[t+28>>2]=0,!s){D=t+36|0,e[D>>2]=e[r>>2],e[D+4>>2]=e[r+4>>2],e[D+8>>2]=e[r+8>>2];return}if((s|0)<0&&(h=0,oe(178,c|0),o=h,h=0,o&1)||(T=13),(T|0)==13&&(h=0,a=ce(67,s|0)|0,T=h,h=0,!(T&1))){e[S>>2]=a,e[c>>2]=a,e[t+28>>2]=a+s;do m[a>>0]=0,a=(e[S>>2]|0)+1|0,e[S>>2]=a,s=s+-1|0;while(s|0);D=t+36|0,e[D>>2]=e[r>>2],e[D+4>>2]=e[r+4>>2],e[D+8>>2]=e[r+8>>2];return}f=Q()|0,a=e[c>>2]|0,a&&((e[S>>2]|0)!=(a|0)&&(e[S>>2]=a),ue(a)),a=e[k>>2]|0,a||(D=f,ne(D|0)),s=e[D>>2]|0,(s|0)!=(a|0)&&(e[D>>2]=s+(~((s+-2-a|0)>>>1)<<1)),ue(a),D=f,ne(D|0)}function Ha(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0;c=t+32|0,_p(c,r)|0,f=t+44|0,e[f>>2]=0,S=t+48|0,a=e[S>>2]|0,a&8&&(r=m[c>>0]|0,r&1?(r=(e[t+40>>2]|0)+(e[t+36>>2]|0)|0,e[f>>2]=r,s=e[t+40>>2]|0,o=s):(r=((r&255)>>>1)+(c+1)|0,e[f>>2]=r,o=c+1|0,s=c+1|0),e[t+8>>2]=o,e[t+12>>2]=s,e[t+16>>2]=r),a&16&&(r=m[c>>0]|0,r&1?(a=e[t+36>>2]|0,e[f>>2]=(e[t+40>>2]|0)+a,r=(e[c>>2]&-2)+-1|0,f=a):(a=(r&255)>>>1,e[f>>2]=c+1+a,r=10,f=a),Yo(c,r,0),r=m[c>>0]|0,r&1?(o=e[t+40>>2]|0,a=o,s=e[t+36>>2]|0):(a=c+1|0,s=(r&255)>>>1,o=c+1|0),r=t+24|0,e[r>>2]=o,e[t+20>>2]=o,e[t+28>>2]=a+s,e[S>>2]&3&&(e[r>>2]=o+f))}function Wa(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;D=b,b=b+32|0,c=D+16|0,k=D+8|0,S=D,h=0,de(65,k|0,t|0),I=h,h=0;e:do if(I&1)o=Q(0)|0,s=t,a=t;else{do if(m[k>>0]|0){s=e[(e[t>>2]|0)+-12>>2]|0,e[S>>2]=e[t+(s+24)>>2],A=t+s|0,I=e[t+(s+4)>>2]|0,a=r+o|0,s=t+(s+76)|0,o=e[s>>2]|0;do if((o|0)==-1)if(h=0,o=ce(68,A|0)|0,F=h,h=0,F&1)T=13;else{if(e[c>>2]=o,h=0,o=Ce(37,c|0,44220)|0,F=h,h=0,!(F&1)&&(h=0,f=Ce(e[(e[o>>2]|0)+28>>2]|0,o|0,32)|0,F=h,h=0,!(F&1))){Ft(c),o=f<<24>>24,e[s>>2]=o,T=9;break}o=Q(0)|0,Ft(c)}else T=9;while(!1);if((T|0)==9)if(h=0,e[c>>2]=e[S>>2],o=P0(39,c|0,r|0,((I&176|0)==32?a:r)|0,a|0,A|0,o&255|0)|0,F=h,h=0,F&1)T=13;else{if(o)break;if(F=e[(e[t>>2]|0)+-12>>2]|0,h=0,de(66,t+F|0,e[t+(F+16)>>2]|5|0),F=h,h=0,F&1)T=13;else break}(T|0)==13&&(o=Q(0)|0),Ti(k),s=t,a=t;break e}while(!1);return Ti(k),b=D,t|0}while(!1);return Wt(o|0)|0,h=0,oe(181,s+(e[(e[a>>2]|0)+-12>>2]|0)|0),F=h,h=0,F&1?(o=Q()|0,h=0,_0(3),F=h,h=0,F&1?(F=Q(0)|0,b0(F)):ne(o|0),0):(Zt(),b=D,t|0)}function Qa(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0;if(o=e[r+48>>2]|0,o&16){if(o=r+44|0,s=e[o>>2]|0,a=e[r+24>>2]|0,s>>>0<a>>>0?e[o>>2]=a:a=s,s=e[r+20>>2]|0,f=a-s|0,f>>>0>4294967279&&ri(t),f>>>0<11?(m[t>>0]=f<<1,o=t+1|0):(r=f+16&-16,o=We(r)|0,e[t+8>>2]=o,e[t>>2]=r|1,e[t+4>>2]=f),(s|0)!=(a|0)){for(r=o;m[r>>0]=m[s>>0]|0,s=s+1|0,(s|0)!=(a|0);)r=r+1|0;o=o+f|0}m[o>>0]=0;return}if(!(o&8)){e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0;return}if(s=e[r+8>>2]|0,r=e[r+16>>2]|0,f=r-s|0,f>>>0>4294967279&&ri(t),f>>>0<11?(m[t>>0]=f<<1,o=t+1|0):(a=f+16&-16,o=We(a)|0,e[t+8>>2]=o,e[t>>2]=a|1,e[t+4>>2]=f),(s|0)!=(r|0)){for(a=o;m[a>>0]=m[s>>0]|0,s=s+1|0,(s|0)!=(r|0);)a=a+1|0;o=o+f|0}m[o>>0]=0}function ja(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;e[t>>2]=36364,e[t+4>>2]=o,D=t+8|0,c=e[o>>2]|0,T=o+16|0,f=e[T>>2]|0,I=J(f,c)|0,e[D>>2]=0,F=t+12|0,e[F>>2]=0,e[t+16>>2]=0;do if(I){if((I|0)<0&&(h=0,oe(178,D|0),c=h,h=0,c&1)||(k=4),(k|0)==4&&(S=I<<1,h=0,A=ce(67,S|0)|0,c=h,h=0,!(c&1))){e[D>>2]=A,c=A+(I<<1)|0,e[t+16>>2]=c,j0(A|0,0,S|0)|0,e[F>>2]=c,c=e[o>>2]|0,f=e[T>>2]|0;break}S=Q()|0,a=e[D>>2]|0,f=a,a&&(c=e[F>>2]|0,(c|0)!=(a|0)&&(e[F>>2]=c+(~((c+-2-f|0)>>>1)<<1)),ue(a)),F=S,ne(F|0)}while(!1);if(S=t+20|0,f=J(c<<1,f)|0,e[S>>2]=0,A=t+24|0,e[A>>2]=0,e[t+28>>2]=0,!f){F=t+32|0,D=s,D=e[D>>2]|0,s=s+4|0,s=e[s>>2]|0,k=F,e[k>>2]=D,F=F+4|0,e[F>>2]=s,F=t+40|0,e[F>>2]=D,F=t+48|0,e[F>>2]=e[r>>2],e[F+4>>2]=e[r+4>>2],e[F+8>>2]=e[r+8>>2];return}if((f|0)<0&&(h=0,oe(178,S|0),T=h,h=0,T&1)||(k=13),(k|0)==13&&(h=0,a=ce(67,f|0)|0,k=h,h=0,!(k&1))){e[A>>2]=a,e[S>>2]=a,e[t+28>>2]=a+f;do m[a>>0]=0,a=(e[A>>2]|0)+1|0,e[A>>2]=a,f=f+-1|0;while(f|0);F=t+32|0,D=s,D=e[D>>2]|0,s=s+4|0,s=e[s>>2]|0,k=F,e[k>>2]=D,F=F+4|0,e[F>>2]=s,F=t+40|0,e[F>>2]=D,F=t+48|0,e[F>>2]=e[r>>2],e[F+4>>2]=e[r+4>>2],e[F+8>>2]=e[r+8>>2];return}c=Q()|0,a=e[S>>2]|0,a&&((e[A>>2]|0)!=(a|0)&&(e[A>>2]=a),ue(a)),a=e[D>>2]|0,a||(F=c,ne(F|0)),f=e[F>>2]|0,(f|0)!=(a|0)&&(e[F>>2]=f+(~((f+-2-a|0)>>>1)<<1)),ue(a),F=c,ne(F|0)}function Ya(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;e[t>>2]=36340,e[t+4>>2]=o,D=t+8|0,c=e[o>>2]|0,T=o+16|0,f=e[T>>2]|0,I=J(f,c)|0,e[D>>2]=0,F=t+12|0,e[F>>2]=0,e[t+16>>2]=0;do if(I){if((I|0)<0&&(h=0,oe(178,D|0),c=h,h=0,c&1)||(k=4),(k|0)==4&&(S=I<<1,h=0,A=ce(67,S|0)|0,c=h,h=0,!(c&1))){e[D>>2]=A,c=A+(I<<1)|0,e[t+16>>2]=c,j0(A|0,0,S|0)|0,e[F>>2]=c,c=e[o>>2]|0,f=e[T>>2]|0;break}S=Q()|0,a=e[D>>2]|0,f=a,a&&(c=e[F>>2]|0,(c|0)!=(a|0)&&(e[F>>2]=c+(~((c+-2-f|0)>>>1)<<1)),ue(a)),F=S,ne(F|0)}while(!1);if(S=t+20|0,f=J(c<<1,f)|0,e[S>>2]=0,A=t+24|0,e[A>>2]=0,e[t+28>>2]=0,!f){F=t+32|0,D=s,D=e[D>>2]|0,s=s+4|0,s=e[s>>2]|0,k=F,e[k>>2]=D,F=F+4|0,e[F>>2]=s,F=t+40|0,e[F>>2]=D,F=t+48|0,e[F>>2]=e[r>>2],e[F+4>>2]=e[r+4>>2],e[F+8>>2]=e[r+8>>2];return}if((f|0)<0&&(h=0,oe(178,S|0),T=h,h=0,T&1)||(k=13),(k|0)==13&&(h=0,a=ce(67,f|0)|0,k=h,h=0,!(k&1))){e[A>>2]=a,e[S>>2]=a,e[t+28>>2]=a+f;do m[a>>0]=0,a=(e[A>>2]|0)+1|0,e[A>>2]=a,f=f+-1|0;while(f|0);F=t+32|0,D=s,D=e[D>>2]|0,s=s+4|0,s=e[s>>2]|0,k=F,e[k>>2]=D,F=F+4|0,e[F>>2]=s,F=t+40|0,e[F>>2]=D,F=t+48|0,e[F>>2]=e[r>>2],e[F+4>>2]=e[r+4>>2],e[F+8>>2]=e[r+8>>2];return}c=Q()|0,a=e[S>>2]|0,a&&((e[A>>2]|0)!=(a|0)&&(e[A>>2]=a),ue(a)),a=e[D>>2]|0,a||(F=c,ne(F|0)),f=e[F>>2]|0,(f|0)!=(a|0)&&(e[F>>2]=f+(~((f+-2-a|0)>>>1)<<1)),ue(a),F=c,ne(F|0)}function Ka(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;e[t>>2]=36316,e[t+4>>2]=o,D=t+8|0,c=e[o>>2]|0,T=o+16|0,f=e[T>>2]|0,I=J(f,c)|0,e[D>>2]=0,F=t+12|0,e[F>>2]=0,e[t+16>>2]=0;do if(I){if((I|0)<0&&(h=0,oe(178,D|0),c=h,h=0,c&1)||(k=4),(k|0)==4&&(S=I<<1,h=0,A=ce(67,S|0)|0,c=h,h=0,!(c&1))){e[D>>2]=A,c=A+(I<<1)|0,e[t+16>>2]=c,j0(A|0,0,S|0)|0,e[F>>2]=c,c=e[o>>2]|0,f=e[T>>2]|0;break}S=Q()|0,a=e[D>>2]|0,f=a,a&&(c=e[F>>2]|0,(c|0)!=(a|0)&&(e[F>>2]=c+(~((c+-2-f|0)>>>1)<<1)),ue(a)),F=S,ne(F|0)}while(!1);if(S=t+20|0,f=J(c<<1,f)|0,e[S>>2]=0,A=t+24|0,e[A>>2]=0,e[t+28>>2]=0,!f){F=t+32|0,D=s,D=e[D>>2]|0,s=s+4|0,s=e[s>>2]|0,k=F,e[k>>2]=D,F=F+4|0,e[F>>2]=s,F=t+40|0,e[F>>2]=D,F=t+48|0,e[F>>2]=e[r>>2],e[F+4>>2]=e[r+4>>2],e[F+8>>2]=e[r+8>>2];return}if((f|0)<0&&(h=0,oe(178,S|0),T=h,h=0,T&1)||(k=13),(k|0)==13&&(h=0,a=ce(67,f|0)|0,k=h,h=0,!(k&1))){e[A>>2]=a,e[S>>2]=a,e[t+28>>2]=a+f;do m[a>>0]=0,a=(e[A>>2]|0)+1|0,e[A>>2]=a,f=f+-1|0;while(f|0);F=t+32|0,D=s,D=e[D>>2]|0,s=s+4|0,s=e[s>>2]|0,k=F,e[k>>2]=D,F=F+4|0,e[F>>2]=s,F=t+40|0,e[F>>2]=D,F=t+48|0,e[F>>2]=e[r>>2],e[F+4>>2]=e[r+4>>2],e[F+8>>2]=e[r+8>>2];return}c=Q()|0,a=e[S>>2]|0,a&&((e[A>>2]|0)!=(a|0)&&(e[A>>2]=a),ue(a)),a=e[D>>2]|0,a||(F=c,ne(F|0)),f=e[F>>2]|0,(f|0)!=(a|0)&&(e[F>>2]=f+(~((f+-2-a|0)>>>1)<<1)),ue(a),F=c,ne(F|0)}function Xa(t){t=t|0;var r=0,o=0,s=0;e[t>>2]=36316,r=e[t+20>>2]|0,r&&(o=t+24|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),s=e[t+8>>2]|0,s&&(r=t+12|0,o=e[r>>2]|0,(o|0)!=(s|0)&&(e[r>>2]=o+(~((o+-2-s|0)>>>1)<<1)),ue(s))}function Za(t){t=t|0;var r=0,o=0,s=0;if(e[t>>2]=36316,r=e[t+20>>2]|0,r&&(o=t+24|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),s=e[t+8>>2]|0,!s){ue(t);return}r=t+12|0,o=e[r>>2]|0,(o|0)!=(s|0)&&(e[r>>2]=o+(~((o+-2-s|0)>>>1)<<1)),ue(s),ue(t)}function Ja(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0;if(a=t+48|0,!(e[a>>2]|0)){S=t+52|0,Jn(t,r,e[S>>2]|0,o,s),e[S>>2]=(e[S>>2]|0)+(e[(e[t+4>>2]|0)+12>>2]|0);return}A=t+4|0,f=o<<1,c=J(f,e[(e[A>>2]|0)+16>>2]|0)|0,S=t+20|0,Jn(t,r,e[S>>2]|0,o,s),r=e[A>>2]|0,(e[r+28>>2]|0)==536870912&&Jt(e[S>>2]|0,J(f,e[r+16>>2]|0)|0),A=e[a>>2]|0,(G0[e[(e[A>>2]|0)+48>>2]&63](A,e[S>>2]|0,c)|0)!=(c|0)&&(r=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,r|0,3,35648),A=h,h=0,A&1?(A=Q()|0,v0(r|0),ne(A|0)):V0(r|0,824,96))}function el(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0;if(a=e[t+48>>2]|0,a){tl(t,a,r,o,s);return}else{a=t+52|0,Gr(t,e[a>>2]|0,r,o,s),e[a>>2]=(e[a>>2]|0)+(e[(e[t+4>>2]|0)+12>>2]|0);return}}function Gr(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0;A=t+4|0,f=e[A>>2]|0;do if(!(m[f+32>>0]|0))I=r;else{if(c=t+8|0,nt(e[c>>2]|0,r|0,s*6|0)|0,f=e[A>>2]|0,S=e[f+16>>2]|0,(s|0)<=0){I=e[c>>2]|0;break}for(r=e[c>>2]|0,f=r,c=0;I=f+4|0,T=y[f>>1]|0,y[f>>1]=y[I>>1]|0,y[I>>1]=T,c=c+1|0,(c|0)!=(s|0);)f=f+(S<<1)|0;I=r,f=e[A>>2]|0}while(!1);switch(e[f+16>>2]|0){case 3:if((e[f+24>>2]|0)==2){if((s|0)<=0)return;f=t+32|0,r=0;do T=e[f>>2]|0,A=O[I+(r*6|0)+2>>1]<<T,a=32768-A|0,t=a+(O[I+(r*6|0)+4>>1]<<T)&65535,a=a+(O[I+(r*6|0)>>1]<<T)&65535,y[o+(r*6|0)>>1]=(A+49152+((t+a|0)>>>2)&65535)>>>T,y[o+(r*6|0)+2>>1]=t>>>T,y[o+(r*6|0)+4>>1]=a>>>T,r=r+1|0;while((r|0)!=(s|0));return}else{if(c=(a|0)<(s|0)?a:s,(c|0)<=0)return;S=a<<1,f=e[t+32>>2]|0,r=0;do s=O[I+(r*6|0)+2>>1]<<f,T=32768-s|0,t=T+(O[I+(r*6|0)+4>>1]<<f)&65535,T=T+(O[I+(r*6|0)>>1]<<f)&65535,y[o+(r<<1)>>1]=(s+49152+((t+T|0)>>>2)&65535)>>>f,y[o+(r+a<<1)>>1]=t>>>f,y[o+(r+S<<1)>>1]=T>>>f,r=r+1|0;while((r|0)!=(c|0));return}case 4:{if((e[f+24>>2]|0)!=1||(c=(a|0)<(s|0)?a:s,(c|0)<=0))return;S=a<<1,A=a*3|0,f=e[t+32>>2]|0,r=0;do T=y[I+(r<<3)+6>>1]|0,k=O[I+(r<<3)+2>>1]<<f,t=32768-k|0,s=t+(O[I+(r<<3)+4>>1]<<f)&65535,t=t+(O[I+(r<<3)>>1]<<f)&65535,y[o+(r<<1)>>1]=(k+49152+((s+t|0)>>>2)&65535)>>>f,y[o+(r+a<<1)>>1]=s>>>f,y[o+(r+S<<1)>>1]=t>>>f,y[o+(r+A<<1)>>1]=T,r=r+1|0;while((r|0)!=(c|0));return}default:return}}function tl(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;k=b,b=b+176|0,D=k+152|0,N=k+16|0,F=k,A=t+4|0,f=e[A>>2]|0,T=s<<1,c=J(T,e[f+16>>2]|0)|0;do if(c){for(S=t+20|0;f=G0[e[(e[r>>2]|0)+32>>2]&63](r,e[S>>2]|0,c)|0,!!f;)if((c|0)==(f|0)){I=26;break}else c=c-f|0;if((I|0)==26){f=e[A>>2]|0;break}I=N+56|0,A=N+4|0,e[N>>2]=36160,e[I>>2]=36180,h=0,de(62,N+56|0,A|0),k=h,h=0,k&1&&(N=Q()|0,Ye(I),ne(N|0)),e[N+128>>2]=0,e[N+132>>2]=-1,e[N>>2]=36200,e[N+56>>2]=36220,h=0,oe(180,A|0),k=h,h=0;do if(k&1)f=Q()|0;else{if(e[A>>2]=36236,r=N+36|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[N+52>>2]=16,e[D>>2]=0,e[D+4>>2]=0,e[D+8>>2]=0,h=0,de(63,A|0,D|0),k=h,h=0,k&1){f=Q()|0,fe(D),fe(r),h0(A);break}fe(D),h=0,f=Oe(28,N|0,49029,57)|0,D=h,h=0,!(D&1)&&(h=0,Ce(36,f|0,0)|0,D=h,h=0,!(D&1))&&(S=g0(16)|0,h=0,de(64,F|0,A|0),D=h,h=0,D&1?f=Q()|0:(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,S|0,3,35648,F|0),D=h,h=0,D&1?c=1:(h=0,me(6,S|0,824,96),h=0,c=0),f=Q()|0,fe(F),c||(F=f,e[N>>2]=36200,e[I>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(I),ne(F|0))),v0(S|0),F=f,e[N>>2]=36200,e[I>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(I),ne(F|0)),F=Q()|0,e[N>>2]=36200,e[I>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(I),ne(F|0)}while(!1);N=f,Ye(I),ne(N|0)}while(!1);if(c=t+20|0,(e[f+28>>2]|0)!=536870912){N=e[c>>2]|0,Gr(t,N,o,s,a),b=k;return}Jt(e[c>>2]|0,J(T,e[f+16>>2]|0)|0),N=e[c>>2]|0,Gr(t,N,o,s,a),b=k}function Jt(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0;if(a=b,b=b+176|0,o=a+152|0,A=a+16|0,c=a,!(r&1)){if(o=(r|0)/4|0,(r|0)>3){s=0;do A=t+(s<<2)|0,S=e[A>>2]|0,e[A>>2]=S>>>8&16711935|S<<8&-16711936,s=s+1|0;while((s|0)<(o|0))}if(!(r&3)){b=a;return}c=t+(r+-2)|0,A=t+(r+-1)|0,S=m[c>>0]|0,m[c>>0]=m[A>>0]|0,m[A>>0]=S,b=a;return}S=A+56|0,f=A+4|0,e[A>>2]=36160,e[S>>2]=36180,h=0,de(62,A+56|0,f|0),a=h,h=0,a&1&&(A=Q()|0,Ye(S),ne(A|0)),e[A+128>>2]=0,e[A+132>>2]=-1,e[A>>2]=36200,e[A+56>>2]=36220,h=0,oe(180,f|0),a=h,h=0;do if(a&1)o=Q()|0;else{if(e[f>>2]=36236,a=A+36|0,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[A+52>>2]=16,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,h=0,de(63,f|0,o|0),t=h,h=0,t&1){A=Q()|0,fe(o),fe(a),h0(f),o=A;break}fe(o),h=0,o=Oe(28,A|0,49087,24)|0,t=h,h=0,!(t&1)&&(h=0,s=Ce(36,o|0,r|0)|0,r=h,h=0,!(r&1))&&(h=0,Oe(28,s|0,49112,20)|0,r=h,h=0,!(r&1))&&(t=g0(16)|0,h=0,de(64,c|0,f|0),r=h,h=0,r&1?o=Q()|0:(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,t|0,1,35648,c|0),r=h,h=0,r&1?s=1:(h=0,me(6,t|0,824,96),h=0,s=0),o=Q()|0,fe(c),s||(c=o,e[A>>2]=36200,e[S>>2]=36220,e[f>>2]=36236,fe(a),h0(f),Ye(S),ne(c|0))),v0(t|0),c=o,e[A>>2]=36200,e[S>>2]=36220,e[f>>2]=36236,fe(a),h0(f),Ye(S),ne(c|0)),c=Q()|0,e[A>>2]=36200,e[S>>2]=36220,e[f>>2]=36236,fe(a),h0(f),Ye(S),ne(c|0)}while(!1);A=o,Ye(S),ne(A|0)}function Jn(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0;I=t+4|0,f=e[I>>2]|0;e:do switch(e[f+16>>2]|0){case 3:{if((e[f+24>>2]|0)==2){if((s|0)<=0)break e;f=t+40|0,t=0;do a=e[f>>2]|0,S=O[r+(t*6|0)+2>>1]<<a,c=O[r+(t*6|0)+4>>1]<<a,A=(O[r+(t*6|0)>>1]<<a)-(c+S>>2)+16384|0,y[o+(t*6|0)>>1]=(c+32768+A&65535)>>>a,y[o+(t*6|0)+2>>1]=(A&65535)>>>a,y[o+(t*6|0)+4>>1]=(S+32768+A&65535)>>>a,t=t+1|0;while((t|0)!=(s|0))}else{if(c=(s|0)<(a|0)?s:a,(c|0)<=0)break e;S=a<<1,f=t+40|0,t=0;do A=e[f>>2]|0,k=O[r+(t+a<<1)>>1]<<A,D=O[r+(t+S<<1)>>1]<<A,T=(O[r+(t<<1)>>1]<<A)-(D+k>>2)+16384|0,y[o+(t*6|0)>>1]=(D+32768+T&65535)>>>A,y[o+(t*6|0)+2>>1]=(T&65535)>>>A,y[o+(t*6|0)+4>>1]=(k+32768+T&65535)>>>A,t=t+1|0;while((t|0)!=(c|0))}break}case 4:{if((e[f+24>>2]|0)==1&&(A=(s|0)<(a|0)?s:a,(A|0)>0)){S=a<<1,f=t+40|0,t=a*3|0,c=0;do D=e[f>>2]|0,k=O[r+(c+a<<1)>>1]<<D,N=O[r+(c+S<<1)>>1]<<D,T=(O[r+(c<<1)>>1]<<D)-(N+k>>2)+16384|0,F=y[r+(c+t<<1)>>1]|0,z=St((T&65535)>>>D&65535|0,0,16)|0,k=(k+32768+T&65535)>>>D|xe,F=St(F&65535|0,0,48)|0,F=z|(N+32768+T&65535)>>>D&65535|F,k=k&65535|xe,D=o+(c<<3)|0,T=D,y[T>>1]=F,y[T+2>>1]=F>>>16,D=D+4|0,y[D>>1]=k,y[D+2>>1]=k>>>16,c=c+1|0;while((c|0)!=(A|0))}break}default:}while(!1);if(f=e[I>>2]|0,!!(m[f+32>>0]|0)&&(c=e[f+16>>2]|0,!((s|0)<=0)))for(f=o,t=0;z=f+4|0,N=y[f>>1]|0,y[f>>1]=y[z>>1]|0,y[z>>1]=N,t=t+1|0,(t|0)!=(s|0);)f=f+(c<<1)|0}function il(t){t=t|0;var r=0,o=0,s=0;e[t>>2]=36340,r=e[t+20>>2]|0,r&&(o=t+24|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),s=e[t+8>>2]|0,s&&(r=t+12|0,o=e[r>>2]|0,(o|0)!=(s|0)&&(e[r>>2]=o+(~((o+-2-s|0)>>>1)<<1)),ue(s))}function rl(t){t=t|0;var r=0,o=0,s=0;if(e[t>>2]=36340,r=e[t+20>>2]|0,r&&(o=t+24|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),s=e[t+8>>2]|0,!s){ue(t);return}r=t+12|0,o=e[r>>2]|0,(o|0)!=(s|0)&&(e[r>>2]=o+(~((o+-2-s|0)>>>1)<<1)),ue(s),ue(t)}function nl(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0;if(a=t+48|0,!(e[a>>2]|0)){S=t+52|0,eo(t,r,e[S>>2]|0,o,s),e[S>>2]=(e[S>>2]|0)+(e[(e[t+4>>2]|0)+12>>2]|0);return}A=t+4|0,f=o<<1,c=J(f,e[(e[A>>2]|0)+16>>2]|0)|0,S=t+20|0,eo(t,r,e[S>>2]|0,o,s),r=e[A>>2]|0,(e[r+28>>2]|0)==536870912&&Jt(e[S>>2]|0,J(f,e[r+16>>2]|0)|0),A=e[a>>2]|0,(G0[e[(e[A>>2]|0)+48>>2]&63](A,e[S>>2]|0,c)|0)!=(c|0)&&(r=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,r|0,3,35648),A=h,h=0,A&1?(A=Q()|0,v0(r|0),ne(A|0)):V0(r|0,824,96))}function ol(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0;if(a=e[t+48>>2]|0,a){sl(t,a,r,o,s);return}else{a=t+52|0,$r(t,e[a>>2]|0,r,o,s),e[a>>2]=(e[a>>2]|0)+(e[(e[t+4>>2]|0)+12>>2]|0);return}}function $r(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0;A=t+4|0,f=e[A>>2]|0;do if(!(m[f+32>>0]|0))I=r;else{if(c=t+8|0,nt(e[c>>2]|0,r|0,s*6|0)|0,f=e[A>>2]|0,S=e[f+16>>2]|0,(s|0)<=0){I=e[c>>2]|0;break}for(r=e[c>>2]|0,f=r,c=0;I=f+4|0,T=y[f>>1]|0,y[f>>1]=y[I>>1]|0,y[I>>1]=T,c=c+1|0,(c|0)!=(s|0);)f=f+(S<<1)|0;I=r,f=e[A>>2]|0}while(!1);switch(e[f+16>>2]|0){case 3:if((e[f+24>>2]|0)==2){if((s|0)<=0)return;f=t+32|0,r=0;do a=e[f>>2]|0,A=O[I+(r*6|0)>>1]<<a,t=O[I+(r*6|0)+2>>1]<<a,T=((O[I+(r*6|0)+4>>1]<<a)+32768-((t+A|0)>>>1)&65535)>>>a&65535,y[o+(r*6|0)>>1]=(A+32768-t&65535)>>>a,y[o+(r*6|0)+2>>1]=(t&65535)>>>a,y[o+(r*6|0)+4>>1]=T,r=r+1|0;while((r|0)!=(s|0));return}else{if(c=(a|0)<(s|0)?a:s,(c|0)<=0)return;S=a<<1,f=e[t+32>>2]|0,r=0;do s=O[I+(r*6|0)>>1]<<f,t=O[I+(r*6|0)+2>>1]<<f,T=((O[I+(r*6|0)+4>>1]<<f)+32768-((t+s|0)>>>1)&65535)>>>f&65535,y[o+(r<<1)>>1]=(s+32768-t&65535)>>>f,y[o+(r+a<<1)>>1]=(t&65535)>>>f,y[o+(r+S<<1)>>1]=T,r=r+1|0;while((r|0)!=(c|0));return}case 4:{if((e[f+24>>2]|0)!=1||(c=(a|0)<(s|0)?a:s,(c|0)<=0))return;S=a<<1,A=a*3|0,f=e[t+32>>2]|0,r=0;do T=y[I+(r<<3)+6>>1]|0,k=O[I+(r<<3)>>1]<<f,s=O[I+(r<<3)+2>>1]<<f,t=((O[I+(r<<3)+4>>1]<<f)+32768-((s+k|0)>>>1)&65535)>>>f&65535,y[o+(r<<1)>>1]=(k+32768-s&65535)>>>f,y[o+(r+a<<1)>>1]=(s&65535)>>>f,y[o+(r+S<<1)>>1]=t,y[o+(r+A<<1)>>1]=T,r=r+1|0;while((r|0)!=(c|0));return}default:return}}function sl(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;k=b,b=b+176|0,D=k+152|0,N=k+16|0,F=k,A=t+4|0,f=e[A>>2]|0,T=s<<1,c=J(T,e[f+16>>2]|0)|0;do if(c){for(S=t+20|0;f=G0[e[(e[r>>2]|0)+32>>2]&63](r,e[S>>2]|0,c)|0,!!f;)if((c|0)==(f|0)){I=26;break}else c=c-f|0;if((I|0)==26){f=e[A>>2]|0;break}I=N+56|0,A=N+4|0,e[N>>2]=36160,e[I>>2]=36180,h=0,de(62,N+56|0,A|0),k=h,h=0,k&1&&(N=Q()|0,Ye(I),ne(N|0)),e[N+128>>2]=0,e[N+132>>2]=-1,e[N>>2]=36200,e[N+56>>2]=36220,h=0,oe(180,A|0),k=h,h=0;do if(k&1)f=Q()|0;else{if(e[A>>2]=36236,r=N+36|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[N+52>>2]=16,e[D>>2]=0,e[D+4>>2]=0,e[D+8>>2]=0,h=0,de(63,A|0,D|0),k=h,h=0,k&1){f=Q()|0,fe(D),fe(r),h0(A);break}fe(D),h=0,f=Oe(28,N|0,49029,57)|0,D=h,h=0,!(D&1)&&(h=0,Ce(36,f|0,0)|0,D=h,h=0,!(D&1))&&(S=g0(16)|0,h=0,de(64,F|0,A|0),D=h,h=0,D&1?f=Q()|0:(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,S|0,3,35648,F|0),D=h,h=0,D&1?c=1:(h=0,me(6,S|0,824,96),h=0,c=0),f=Q()|0,fe(F),c||(F=f,e[N>>2]=36200,e[I>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(I),ne(F|0))),v0(S|0),F=f,e[N>>2]=36200,e[I>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(I),ne(F|0)),F=Q()|0,e[N>>2]=36200,e[I>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(I),ne(F|0)}while(!1);N=f,Ye(I),ne(N|0)}while(!1);if(c=t+20|0,(e[f+28>>2]|0)!=536870912){N=e[c>>2]|0,$r(t,N,o,s,a),b=k;return}Jt(e[c>>2]|0,J(T,e[f+16>>2]|0)|0),N=e[c>>2]|0,$r(t,N,o,s,a),b=k}function eo(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;I=t+4|0,f=e[I>>2]|0;e:do switch(e[f+16>>2]|0){case 3:{if((e[f+24>>2]|0)==2){if((s|0)<=0)break e;f=t+40|0,t=0;do A=e[f>>2]|0,S=O[r+(t*6|0)+2>>1]<<A,c=(O[r+(t*6|0)>>1]<<A)+32768+S&65535,S=S&65535,a=((O[r+(t*6|0)+4>>1]<<A)+32768+((c+S|0)>>>1)&65535)>>>A&65535,y[o+(t*6|0)>>1]=c>>>A,y[o+(t*6|0)+2>>1]=S>>>A,y[o+(t*6|0)+4>>1]=a,t=t+1|0;while((t|0)!=(s|0))}else{if(c=(s|0)<(a|0)?s:a,(c|0)<=0)break e;S=a<<1,f=t+40|0,t=0;do T=e[f>>2]|0,k=O[r+(t+a<<1)>>1]<<T,D=(O[r+(t<<1)>>1]<<T)+32768+k&65535,k=k&65535,A=((O[r+(t+S<<1)>>1]<<T)+32768+((D+k|0)>>>1)&65535)>>>T&65535,y[o+(t*6|0)>>1]=D>>>T,y[o+(t*6|0)+2>>1]=k>>>T,y[o+(t*6|0)+4>>1]=A,t=t+1|0;while((t|0)!=(c|0))}break}case 4:{if((e[f+24>>2]|0)==1&&(A=(s|0)<(a|0)?s:a,(A|0)>0)){S=a<<1,f=t+40|0,t=a*3|0,c=0;do T=e[f>>2]|0,D=O[r+(c+a<<1)>>1]<<T,N=(O[r+(c<<1)>>1]<<T)+32768+D&65535,D=D&65535,k=((O[r+(c+S<<1)>>1]<<T)+32768+((N+D|0)>>>1)&65535)>>>T,F=y[r+(c+t<<1)>>1]|0,D=St(D>>>T&65535|0,0,16)|0,k=xe|k,F=St(F&65535|0,0,48)|0,F=N>>>T&65535|D|F,k=k&65535|xe,D=o+(c<<3)|0,T=D,y[T>>1]=F,y[T+2>>1]=F>>>16,D=D+4|0,y[D>>1]=k,y[D+2>>1]=k>>>16,c=c+1|0;while((c|0)!=(A|0))}break}default:}while(!1);if(f=e[I>>2]|0,!!(m[f+32>>0]|0)&&(c=e[f+16>>2]|0,!((s|0)<=0)))for(f=o,t=0;N=f+4|0,F=y[f>>1]|0,y[f>>1]=y[N>>1]|0,y[N>>1]=F,t=t+1|0,(t|0)!=(s|0);)f=f+(c<<1)|0}function al(t){t=t|0;var r=0,o=0,s=0;e[t>>2]=36364,r=e[t+20>>2]|0,r&&(o=t+24|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),s=e[t+8>>2]|0,s&&(r=t+12|0,o=e[r>>2]|0,(o|0)!=(s|0)&&(e[r>>2]=o+(~((o+-2-s|0)>>>1)<<1)),ue(s))}function ll(t){t=t|0;var r=0,o=0,s=0;if(e[t>>2]=36364,r=e[t+20>>2]|0,r&&(o=t+24|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),s=e[t+8>>2]|0,!s){ue(t);return}r=t+12|0,o=e[r>>2]|0,(o|0)!=(s|0)&&(e[r>>2]=o+(~((o+-2-s|0)>>>1)<<1)),ue(s),ue(t)}function ul(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0;if(a=t+48|0,!(e[a>>2]|0)){S=t+52|0,to(t,r,e[S>>2]|0,o,s),e[S>>2]=(e[S>>2]|0)+(e[(e[t+4>>2]|0)+12>>2]|0);return}A=t+4|0,f=o<<1,c=J(f,e[(e[A>>2]|0)+16>>2]|0)|0,S=t+20|0,to(t,r,e[S>>2]|0,o,s),r=e[A>>2]|0,(e[r+28>>2]|0)==536870912&&Jt(e[S>>2]|0,J(f,e[r+16>>2]|0)|0),A=e[a>>2]|0,(G0[e[(e[A>>2]|0)+48>>2]&63](A,e[S>>2]|0,c)|0)!=(c|0)&&(r=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,r|0,3,35648),A=h,h=0,A&1?(A=Q()|0,v0(r|0),ne(A|0)):V0(r|0,824,96))}function cl(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0;if(a=e[t+48>>2]|0,a){hl(t,a,r,o,s);return}else{a=t+52|0,Hr(t,e[a>>2]|0,r,o,s),e[a>>2]=(e[a>>2]|0)+(e[(e[t+4>>2]|0)+12>>2]|0);return}}function Hr(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0;A=t+4|0,f=e[A>>2]|0;do if(!(m[f+32>>0]|0))I=r;else{if(c=t+8|0,nt(e[c>>2]|0,r|0,s*6|0)|0,f=e[A>>2]|0,S=e[f+16>>2]|0,(s|0)<=0){I=e[c>>2]|0;break}for(r=e[c>>2]|0,f=r,c=0;I=f+4|0,T=y[f>>1]|0,y[f>>1]=y[I>>1]|0,y[I>>1]=T,c=c+1|0,(c|0)!=(s|0);)f=f+(S<<1)|0;I=r,f=e[A>>2]|0}while(!1);switch(e[f+16>>2]|0){case 3:if((e[f+24>>2]|0)==2){if((s|0)<=0)return;f=t+32|0,r=0;do a=e[f>>2]|0,t=O[I+(r*6|0)+2>>1]<<a,T=(32768-t+(O[I+(r*6|0)+4>>1]<<a)&65535)>>>a&65535,y[o+(r*6|0)>>1]=((O[I+(r*6|0)>>1]<<a)+32768-t&65535)>>>a,y[o+(r*6|0)+2>>1]=(t&65535)>>>a,y[o+(r*6|0)+4>>1]=T,r=r+1|0;while((r|0)!=(s|0));return}else{if(c=(a|0)<(s|0)?a:s,(c|0)<=0)return;S=a<<1,f=e[t+32>>2]|0,r=0;do t=O[I+(r*6|0)+2>>1]<<f,T=(32768-t+(O[I+(r*6|0)+4>>1]<<f)&65535)>>>f&65535,y[o+(r<<1)>>1]=((O[I+(r*6|0)>>1]<<f)+32768-t&65535)>>>f,y[o+(r+a<<1)>>1]=(t&65535)>>>f,y[o+(r+S<<1)>>1]=T,r=r+1|0;while((r|0)!=(c|0));return}case 4:{if((e[f+24>>2]|0)!=1||(S=(a|0)<(s|0)?a:s,(S|0)<=0))return;A=a<<1,c=a*3|0,f=e[t+32>>2]|0,r=0;do T=y[I+(r<<3)+6>>1]|0,s=O[I+(r<<3)+2>>1]<<f,t=(32768-s+(O[I+(r<<3)+4>>1]<<f)&65535)>>>f&65535,y[o+(r<<1)>>1]=((O[I+(r<<3)>>1]<<f)+32768-s&65535)>>>f,y[o+(r+a<<1)>>1]=(s&65535)>>>f,y[o+(r+A<<1)>>1]=t,y[o+(r+c<<1)>>1]=T,r=r+1|0;while((r|0)!=(S|0));return}default:return}}function hl(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;k=b,b=b+176|0,D=k+152|0,N=k+16|0,F=k,A=t+4|0,f=e[A>>2]|0,T=s<<1,c=J(T,e[f+16>>2]|0)|0;do if(c){for(S=t+20|0;f=G0[e[(e[r>>2]|0)+32>>2]&63](r,e[S>>2]|0,c)|0,!!f;)if((c|0)==(f|0)){I=26;break}else c=c-f|0;if((I|0)==26){f=e[A>>2]|0;break}I=N+56|0,A=N+4|0,e[N>>2]=36160,e[I>>2]=36180,h=0,de(62,N+56|0,A|0),k=h,h=0,k&1&&(N=Q()|0,Ye(I),ne(N|0)),e[N+128>>2]=0,e[N+132>>2]=-1,e[N>>2]=36200,e[N+56>>2]=36220,h=0,oe(180,A|0),k=h,h=0;do if(k&1)f=Q()|0;else{if(e[A>>2]=36236,r=N+36|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[N+52>>2]=16,e[D>>2]=0,e[D+4>>2]=0,e[D+8>>2]=0,h=0,de(63,A|0,D|0),k=h,h=0,k&1){f=Q()|0,fe(D),fe(r),h0(A);break}fe(D),h=0,f=Oe(28,N|0,49029,57)|0,D=h,h=0,!(D&1)&&(h=0,Ce(36,f|0,0)|0,D=h,h=0,!(D&1))&&(S=g0(16)|0,h=0,de(64,F|0,A|0),D=h,h=0,D&1?f=Q()|0:(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,S|0,3,35648,F|0),D=h,h=0,D&1?c=1:(h=0,me(6,S|0,824,96),h=0,c=0),f=Q()|0,fe(F),c||(F=f,e[N>>2]=36200,e[I>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(I),ne(F|0))),v0(S|0),F=f,e[N>>2]=36200,e[I>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(I),ne(F|0)),F=Q()|0,e[N>>2]=36200,e[I>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(I),ne(F|0)}while(!1);N=f,Ye(I),ne(N|0)}while(!1);if(c=t+20|0,(e[f+28>>2]|0)!=536870912){N=e[c>>2]|0,Hr(t,N,o,s,a),b=k;return}Jt(e[c>>2]|0,J(T,e[f+16>>2]|0)|0),N=e[c>>2]|0,Hr(t,N,o,s,a),b=k}function to(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;I=t+4|0,f=e[I>>2]|0;e:do switch(e[f+16>>2]|0){case 3:{if((e[f+24>>2]|0)==2){if((s|0)<=0)break e;f=t+40|0,t=0;do A=e[f>>2]|0,S=O[r+(t*6|0)+2>>1]<<A,a=(S+32768+(O[r+(t*6|0)+4>>1]<<A)&65535)>>>A&65535,y[o+(t*6|0)>>1]=((O[r+(t*6|0)>>1]<<A)+32768+S&65535)>>>A,y[o+(t*6|0)+2>>1]=(S&65535)>>>A,y[o+(t*6|0)+4>>1]=a,t=t+1|0;while((t|0)!=(s|0))}else{if(c=(s|0)<(a|0)?s:a,(c|0)<=0)break e;S=a<<1,f=t+40|0,t=0;do T=e[f>>2]|0,k=O[r+(t+a<<1)>>1]<<T,A=(k+32768+(O[r+(t+S<<1)>>1]<<T)&65535)>>>T&65535,y[o+(t*6|0)>>1]=((O[r+(t<<1)>>1]<<T)+32768+k&65535)>>>T,y[o+(t*6|0)+2>>1]=(k&65535)>>>T,y[o+(t*6|0)+4>>1]=A,t=t+1|0;while((t|0)!=(c|0))}break}case 4:{if((e[f+24>>2]|0)==1&&(A=(s|0)<(a|0)?s:a,(A|0)>0)){S=a<<1,f=t+40|0,t=a*3|0,c=0;do D=e[f>>2]|0,N=O[r+(c+a<<1)>>1]<<D,k=((O[r+(c<<1)>>1]<<D)+32768+N&65535)>>>D,T=(N+32768+(O[r+(c+S<<1)>>1]<<D)&65535)>>>D,F=y[r+(c+t<<1)>>1]|0,D=St((N&65535)>>>D&65535|0,0,16)|0,T=T|xe,F=St(F&65535|0,0,48)|0,F=D|k&65535|F,T=T&65535|xe,k=o+(c<<3)|0,D=k,y[D>>1]=F,y[D+2>>1]=F>>>16,k=k+4|0,y[k>>1]=T,y[k+2>>1]=T>>>16,c=c+1|0;while((c|0)!=(A|0))}break}default:}while(!1);if(f=e[I>>2]|0,!!(m[f+32>>0]|0)&&(c=e[f+16>>2]|0,!((s|0)<=0)))for(f=o,t=0;N=f+4|0,F=y[f>>1]|0,y[f>>1]=y[N>>1]|0,y[N>>1]=F,t=t+1|0,(t|0)!=(s|0);)f=f+(c<<1)|0}function Vi(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0;if(k=b,b=b+16|0,I=k,T=e[t>>2]|0,!T)return t=0,b=k,t|0;if(D=r,S=s-D|0,A=a+12|0,c=e[A>>2]|0,S=(c|0)>(S|0)?c-S|0:0,c=o,a=c-D|0,(a|0)>0&&(G0[e[(e[T>>2]|0)+48>>2]&63](T,r,a)|0)!=(a|0))return e[t>>2]=0,D=0,b=k,D|0;do if((S|0)>0){if(Sn(I,S,f),h=0,a=Oe(e[(e[T>>2]|0)+48>>2]|0,T|0,(m[I>>0]&1?e[I+8>>2]|0:I+1|0)|0,S|0)|0,D=h,h=0,D&1&&(D=Q()|0,fe(I),ne(D|0)),(a|0)==(S|0)){fe(I);break}return e[t>>2]=0,fe(I),D=0,b=k,D|0}while(!1);return s=s-c|0,(s|0)>0&&(G0[e[(e[T>>2]|0)+48>>2]&63](T,o,s)|0)!=(s|0)?(e[t>>2]=0,D=0,b=k,D|0):(e[A>>2]=0,D=T,b=k,D|0)}function dl(t){t=t|0,e[t>>2]=36236,fe(t+32|0),h0(t)}function pl(t){t=t|0,e[t>>2]=36236,fe(t+32|0),h0(t),ue(t)}function ml(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;if(c=r+44|0,S=e[c>>2]|0,I=r+24|0,T=e[I>>2]|0,S>>>0<T>>>0&&(e[c>>2]=T,S=T),A=S,c=f&24,!c){r=t,e[r>>2]=0,e[r+4>>2]=0,r=t+8|0,e[r>>2]=-1,e[r+4>>2]=-1;return}if((a|0)==1&(c|0)==24){r=t,e[r>>2]=0,e[r+4>>2]=0,r=t+8|0,e[r>>2]=-1,e[r+4>>2]=-1;return}e:do switch(a|0){case 0:{c=0,a=0;break}case 1:if(f&8){a=(e[r+12>>2]|0)-(e[r+8>>2]|0)|0,c=a,a=((a|0)<0)<<31>>31;break e}else{a=T-(e[r+20>>2]|0)|0,c=a,a=((a|0)<0)<<31>>31;break e}case 2:{c=r+32|0,m[c>>0]&1?c=e[r+40>>2]|0:c=c+1|0,a=S-c|0,c=a,a=((a|0)<0)<<31>>31;break}default:{r=t,e[r>>2]=0,e[r+4>>2]=0,r=t+8|0,e[r>>2]=-1,e[r+4>>2]=-1;return}}while(!1);if(a=Lt(c|0,a|0,o|0,s|0)|0,o=xe,(o|0)>=0&&(c=r+32|0,m[c>>0]&1?c=e[r+40>>2]|0:c=c+1|0,s=S-c|0,S=((s|0)<0)<<31>>31,!((S|0)<(o|0)|(S|0)==(o|0)&s>>>0<a>>>0))){if(c=f&8,!((a|0)==0&(o|0)==0)){if(c|0&&!(e[r+12>>2]|0)){r=t,e[r>>2]=0,e[r+4>>2]=0,r=t+8|0,e[r>>2]=-1,e[r+4>>2]=-1;return}if((f&16|0)!=0&(T|0)==0){r=t,e[r>>2]=0,e[r+4>>2]=0,r=t+8|0,e[r>>2]=-1,e[r+4>>2]=-1;return}}c&&(e[r+12>>2]=(e[r+8>>2]|0)+a,e[r+16>>2]=A),f&16&&(e[I>>2]=(e[r+20>>2]|0)+a),r=t,e[r>>2]=0,e[r+4>>2]=0,r=t+8|0,e[r>>2]=a,e[r+4>>2]=o;return}r=t,e[r>>2]=0,e[r+4>>2]=0,r=t+8|0,e[r>>2]=-1,e[r+4>>2]=-1}function gl(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0,o=o+8|0,Ui[e[(e[r>>2]|0)+16>>2]&15](t,r,e[o>>2]|0,e[o+4>>2]|0,0,s)}function vl(t){t=t|0;var r=0,o=0,s=0,a=0;return r=t+44|0,o=e[r>>2]|0,s=e[t+24>>2]|0,o>>>0<s>>>0&&(e[r>>2]=s,o=s),!(e[t+48>>2]&8)||(a=t+16|0,r=e[a>>2]|0,s=t+12|0,r>>>0<o>>>0?(s=e[s>>2]|0,e[a>>2]=o,r=o):s=e[s>>2]|0,s>>>0>=r>>>0)?(t=-1,t|0):(t=P[s>>0]|0,t|0)}function Sl(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0;if(s=t+44|0,o=e[s>>2]|0,a=e[t+24>>2]|0,o>>>0<a>>>0&&(e[s>>2]=a,o=a),S=t+8|0,s=e[S>>2]|0,A=t+12|0,f=e[A>>2]|0,c=s,s>>>0>=f>>>0)return t=-1,t|0;if((r|0)==-1)return e[S>>2]=s,e[A>>2]=f+-1,e[t+16>>2]=o,t=0,t|0;if(e[t+48>>2]&16)a=r&255,s=f+-1|0;else if(a=r&255,s=f+-1|0,a<<24>>24!=(m[s>>0]|0))return t=-1,t|0;return e[S>>2]=c,e[A>>2]=s,e[t+16>>2]=o,m[s>>0]=a,t=r,t|0}function wl(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0;if(z=b,b=b+16|0,T=z,(r|0)==-1)return t=0,b=z,t|0;k=t+12|0,D=t+8|0,F=(e[k>>2]|0)-(e[D>>2]|0)|0,N=t+24|0,o=e[N>>2]|0,I=t+28|0,s=e[I>>2]|0;do if((o|0)==(s|0)){if(S=t+48|0,!(e[S>>2]&16))return t=-1,b=z,t|0;if(A=t+20|0,c=e[A>>2]|0,a=o-c|0,f=t+44|0,c=(e[f>>2]|0)-c|0,s=t+32|0,h=0,de(67,s|0,0),o=h,h=0,!(o&1)&&(m[s>>0]&1?o=(e[s>>2]&-2)+-1|0:o=10,h=0,me(8,s|0,o|0,0),o=h,h=0,!(o&1))){o=m[s>>0]|0,o&1?(s=e[t+40>>2]|0,o=e[t+36>>2]|0):(s=s+1|0,o=(o&255)>>>1),q=s+o|0,e[A>>2]=s,e[I>>2]=q,A=s+a|0,e[N>>2]=A,o=s+c|0,e[f>>2]=o,s=q;break}return q=Q(0)|0,Wt(q|0)|0,Zt(),q=-1,b=z,q|0}else q=t+44|0,S=t+48|0,f=q,A=o,o=e[q>>2]|0;while(!1);return c=A+1|0,e[T>>2]=c,a=e[(c>>>0<o>>>0?f:T)>>2]|0,e[f>>2]=a,e[S>>2]&8&&(o=t+32|0,m[o>>0]&1?o=e[t+40>>2]|0:o=o+1|0,e[D>>2]=o,e[k>>2]=o+F,e[t+16>>2]=a),(A|0)==(s|0)?(q=Ut[e[(e[t>>2]|0)+52>>2]&63](t,r&255)|0,b=z,q|0):(e[N>>2]=c,m[A>>0]=r,q=r&255,b=z,q|0)}function Al(t){t=t|0;var r=0,o=0;e[t>>2]=36200,r=t+56|0,e[r>>2]=36220,o=t+4|0,e[o>>2]=36236,fe(t+36|0),h0(o),Ye(r)}function yl(t){t=t|0;var r=0,o=0;e[t>>2]=36200,r=t+56|0,e[r>>2]=36220,o=t+4|0,e[o>>2]=36236,fe(t+36|0),h0(o),Ye(r),ue(t)}function _l(t){t=t|0;var r=0,o=0,s=0,a=0;a=e[(e[t>>2]|0)+-12>>2]|0,r=t+a|0,e[r>>2]=36200,o=t+(a+56)|0,e[o>>2]=36220,s=t+(a+4)|0,e[s>>2]=36236,fe(t+(a+36)|0),h0(s),Ye(o),ue(r)}function xl(t){t=t|0;var r=0,o=0,s=0;e[t>>2]=36388,r=e[t+20>>2]|0,r&&(o=t+24|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),s=e[t+8>>2]|0,s&&(r=t+12|0,o=e[r>>2]|0,(o|0)!=(s|0)&&(e[r>>2]=o+(~((o+-2-s|0)>>>1)<<1)),ue(s))}function Tl(t){t=t|0;var r=0,o=0,s=0;if(e[t>>2]=36388,r=e[t+20>>2]|0,r&&(o=t+24|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),s=e[t+8>>2]|0,!s){ue(t);return}r=t+12|0,o=e[r>>2]|0,(o|0)!=(s|0)&&(e[r>>2]=o+(~((o+-2-s|0)>>>1)<<1)),ue(s),ue(t)}function Il(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0;if(a=t+36|0,!(e[a>>2]|0)){S=t+40|0,io(t,r,e[S>>2]|0,o,s),e[S>>2]=(e[S>>2]|0)+(e[(e[t+4>>2]|0)+12>>2]|0);return}A=t+4|0,f=o<<1,c=J(f,e[(e[A>>2]|0)+16>>2]|0)|0,S=t+20|0,io(t,r,e[S>>2]|0,o,s),r=e[A>>2]|0,(e[r+28>>2]|0)==536870912&&Jt(e[S>>2]|0,J(f,e[r+16>>2]|0)|0),A=e[a>>2]|0,(G0[e[(e[A>>2]|0)+48>>2]&63](A,e[S>>2]|0,c)|0)!=(c|0)&&(r=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,r|0,3,35648),A=h,h=0,A&1?(A=Q()|0,v0(r|0),ne(A|0)):V0(r|0,824,96))}function Cl(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0;if(a=e[t+36>>2]|0,a){El(t,a,r,o,s);return}else{a=t+40|0,Wr(t,e[a>>2]|0,r,o,s),e[a>>2]=(e[a>>2]|0)+(e[(e[t+4>>2]|0)+12>>2]|0);return}}function Wr(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0;S=t+4|0,f=e[S>>2]|0;do if(!(m[f+32>>0]|0))A=r;else{if(t=t+8|0,nt(e[t>>2]|0,r|0,s*6|0)|0,f=e[S>>2]|0,c=e[f+16>>2]|0,(s|0)<=0){A=e[t>>2]|0;break}for(t=e[t>>2]|0,f=t,r=0;A=f+4|0,I=y[f>>1]|0,y[f>>1]=y[A>>1]|0,y[A>>1]=I,r=r+1|0,(r|0)!=(s|0);)f=f+(c<<1)|0;A=t,f=e[S>>2]|0}while(!1);switch(e[f+16>>2]|0){case 3:{if((e[f+24>>2]|0)==2){if((s|0)>0)f=0;else return;do S=O[A+(f*6|0)+2>>1]|0,a=32768-S+(O[A+(f*6|0)+4>>1]|0)|0,I=(O[A+(f*6|0)>>1]|0)-S+32768|0,y[o+(f*6|0)>>1]=S+49152+(((a&65535)+(I&65535)|0)>>>2),y[o+(f*6|0)+2>>1]=a,y[o+(f*6|0)+4>>1]=I,f=f+1|0;while((f|0)!=(s|0));return}if(f=(a|0)<(s|0)?a:s,(f|0)<=0)return;t=a<<1,r=0;do S=O[A+(r*6|0)+2>>1]|0,s=32768-S+(O[A+(r*6|0)+4>>1]|0)|0,I=(O[A+(r*6|0)>>1]|0)-S+32768|0,y[o+(r<<1)>>1]=S+49152+(((s&65535)+(I&65535)|0)>>>2),y[o+(r+a<<1)>>1]=s,y[o+(r+t<<1)>>1]=I,r=r+1|0;while((r|0)!=(f|0));return}case 4:{if((e[f+24>>2]|0)!=1||(f=(a|0)<(s|0)?a:s,(f|0)<=0))return;t=a<<1,r=a*3|0,c=0;do I=y[A+(c<<3)+6>>1]|0,T=O[A+(c<<3)+2>>1]|0,S=32768-T+(O[A+(c<<3)+4>>1]|0)|0,s=(O[A+(c<<3)>>1]|0)-T+32768|0,y[o+(c<<1)>>1]=T+49152+(((S&65535)+(s&65535)|0)>>>2),y[o+(c+a<<1)>>1]=S,y[o+(c+t<<1)>>1]=s,y[o+(c+r<<1)>>1]=I,c=c+1|0;while((c|0)!=(f|0));return}default:return}}function El(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;k=b,b=b+176|0,D=k+152|0,N=k+16|0,F=k,A=t+4|0,f=e[A>>2]|0,T=s<<1,c=J(T,e[f+16>>2]|0)|0;do if(c){for(S=t+20|0;f=G0[e[(e[r>>2]|0)+32>>2]&63](r,e[S>>2]|0,c)|0,!!f;)if((c|0)==(f|0)){I=26;break}else c=c-f|0;if((I|0)==26){f=e[A>>2]|0;break}I=N+56|0,A=N+4|0,e[N>>2]=36160,e[I>>2]=36180,h=0,de(62,N+56|0,A|0),k=h,h=0,k&1&&(N=Q()|0,Ye(I),ne(N|0)),e[N+128>>2]=0,e[N+132>>2]=-1,e[N>>2]=36200,e[N+56>>2]=36220,h=0,oe(180,A|0),k=h,h=0;do if(k&1)f=Q()|0;else{if(e[A>>2]=36236,r=N+36|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[N+52>>2]=16,e[D>>2]=0,e[D+4>>2]=0,e[D+8>>2]=0,h=0,de(63,A|0,D|0),k=h,h=0,k&1){f=Q()|0,fe(D),fe(r),h0(A);break}fe(D),h=0,f=Oe(28,N|0,49029,57)|0,D=h,h=0,!(D&1)&&(h=0,Ce(36,f|0,0)|0,D=h,h=0,!(D&1))&&(S=g0(16)|0,h=0,de(64,F|0,A|0),D=h,h=0,D&1?f=Q()|0:(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,S|0,3,35648,F|0),D=h,h=0,D&1?c=1:(h=0,me(6,S|0,824,96),h=0,c=0),f=Q()|0,fe(F),c||(F=f,e[N>>2]=36200,e[I>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(I),ne(F|0))),v0(S|0),F=f,e[N>>2]=36200,e[I>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(I),ne(F|0)),F=Q()|0,e[N>>2]=36200,e[I>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(I),ne(F|0)}while(!1);N=f,Ye(I),ne(N|0)}while(!1);if(c=t+20|0,(e[f+28>>2]|0)!=536870912){N=e[c>>2]|0,Wr(t,N,o,s,a),b=k;return}Jt(e[c>>2]|0,J(T,e[f+16>>2]|0)|0),N=e[c>>2]|0,Wr(t,N,o,s,a),b=k}function io(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;A=t+4|0,t=e[A>>2]|0;e:do switch(e[t+16>>2]|0){case 3:{if((e[t+24>>2]|0)==2){if((s|0)>0)t=0;else break e;for(;;)if(S=O[r+(t*6|0)+2>>1]|0,c=O[r+(t*6|0)+4>>1]|0,a=(O[r+(t*6|0)>>1]|0)-((c+S|0)>>>2)+16384|0,y[o+(t*6|0)>>1]=c+32768+a,y[o+(t*6|0)+2>>1]=a,y[o+(t*6|0)+4>>1]=S+32768+a,t=t+1|0,(t|0)==(s|0))break e}if(t=(s|0)<(a|0)?s:a,(t|0)>0){f=a<<1,c=0;do I=O[r+(c+a<<1)>>1]|0,T=O[r+(c+f<<1)>>1]|0,S=(O[r+(c<<1)>>1]|0)-((T+I|0)>>>2)+16384|0,y[o+(c*6|0)>>1]=T+32768+S,y[o+(c*6|0)+2>>1]=S,y[o+(c*6|0)+4>>1]=I+32768+S,c=c+1|0;while((c|0)!=(t|0))}break}case 4:{if((e[t+24>>2]|0)==1&&(S=(s|0)<(a|0)?s:a,(S|0)>0)){t=a<<1,f=a*3|0,c=0;do I=O[r+(c+a<<1)>>1]|0,k=O[r+(c+t<<1)>>1]|0,T=(O[r+(c<<1)>>1]|0)-((k+I|0)>>>2)+16384|0,D=y[r+(c+f<<1)>>1]|0,F=St(T&65535|0,0,16)|0,I=I+32768+T|xe,D=St(D&65535|0,0,48)|0,D=F|k+32768+T&65535|D,I=I&65535|xe,T=o+(c<<3)|0,k=T,y[k>>1]=D,y[k+2>>1]=D>>>16,T=T+4|0,y[T>>1]=I,y[T+2>>1]=I>>>16,c=c+1|0;while((c|0)!=(S|0))}break}default:}while(!1);if(t=e[A>>2]|0,!!(m[t+32>>0]|0)&&(c=e[t+16>>2]|0,!((s|0)<=0)))for(t=o,f=0;F=t+4|0,D=y[t>>1]|0,y[t>>1]=y[F>>1]|0,y[F>>1]=D,f=f+1|0,(f|0)!=(s|0);)t=t+(c<<1)|0}function bl(t){t=t|0;var r=0,o=0,s=0;e[t>>2]=36412,r=e[t+20>>2]|0,r&&(o=t+24|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),s=e[t+8>>2]|0,s&&(r=t+12|0,o=e[r>>2]|0,(o|0)!=(s|0)&&(e[r>>2]=o+(~((o+-2-s|0)>>>1)<<1)),ue(s))}function kl(t){t=t|0;var r=0,o=0,s=0;if(e[t>>2]=36412,r=e[t+20>>2]|0,r&&(o=t+24|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),s=e[t+8>>2]|0,!s){ue(t);return}r=t+12|0,o=e[r>>2]|0,(o|0)!=(s|0)&&(e[r>>2]=o+(~((o+-2-s|0)>>>1)<<1)),ue(s),ue(t)}function Dl(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0;if(a=t+36|0,!(e[a>>2]|0)){S=t+40|0,ro(t,r,e[S>>2]|0,o,s),e[S>>2]=(e[S>>2]|0)+(e[(e[t+4>>2]|0)+12>>2]|0);return}A=t+4|0,f=o<<1,c=J(f,e[(e[A>>2]|0)+16>>2]|0)|0,S=t+20|0,ro(t,r,e[S>>2]|0,o,s),r=e[A>>2]|0,(e[r+28>>2]|0)==536870912&&Jt(e[S>>2]|0,J(f,e[r+16>>2]|0)|0),A=e[a>>2]|0,(G0[e[(e[A>>2]|0)+48>>2]&63](A,e[S>>2]|0,c)|0)!=(c|0)&&(r=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,r|0,3,35648),A=h,h=0,A&1?(A=Q()|0,v0(r|0),ne(A|0)):V0(r|0,824,96))}function Pl(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0;if(a=e[t+36>>2]|0,a){Fl(t,a,r,o,s);return}else{a=t+40|0,Qr(t,e[a>>2]|0,r,o,s),e[a>>2]=(e[a>>2]|0)+(e[(e[t+4>>2]|0)+12>>2]|0);return}}function Qr(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0;S=t+4|0,f=e[S>>2]|0;do if(!(m[f+32>>0]|0))A=r;else{if(t=t+8|0,nt(e[t>>2]|0,r|0,s*6|0)|0,f=e[S>>2]|0,c=e[f+16>>2]|0,(s|0)<=0){A=e[t>>2]|0;break}for(t=e[t>>2]|0,f=t,r=0;A=f+4|0,I=y[f>>1]|0,y[f>>1]=y[A>>1]|0,y[A>>1]=I,r=r+1|0,(r|0)!=(s|0);)f=f+(c<<1)|0;A=t,f=e[S>>2]|0}while(!1);switch(e[f+16>>2]|0){case 3:{if((e[f+24>>2]|0)==2){if((s|0)>0)f=0;else return;do c=O[A+(f*6|0)>>1]|0,a=y[A+(f*6|0)+2>>1]|0,S=a&65535,I=(O[A+(f*6|0)+4>>1]|0)+32768-((S+c|0)>>>1)&65535,y[o+(f*6|0)>>1]=c+32768-S,y[o+(f*6|0)+2>>1]=a,y[o+(f*6|0)+4>>1]=I,f=f+1|0;while((f|0)!=(s|0));return}if(f=(a|0)<(s|0)?a:s,(f|0)<=0)return;t=a<<1,r=0;do s=y[A+(r*6|0)+2>>1]|0,c=O[A+(r*6|0)>>1]|0,S=s&65535,I=(O[A+(r*6|0)+4>>1]|0)+32768-((S+c|0)>>>1)&65535,y[o+(r<<1)>>1]=c+32768-S,y[o+(r+a<<1)>>1]=s,y[o+(r+t<<1)>>1]=I,r=r+1|0;while((r|0)!=(f|0));return}case 4:{if((e[f+24>>2]|0)!=1||(f=(a|0)<(s|0)?a:s,(f|0)<=0))return;t=a<<1,r=a*3|0,c=0;do S=y[A+(c<<3)+2>>1]|0,I=y[A+(c<<3)+6>>1]|0,k=O[A+(c<<3)>>1]|0,T=S&65535,s=(O[A+(c<<3)+4>>1]|0)+32768-((T+k|0)>>>1)&65535,y[o+(c<<1)>>1]=k+32768-T,y[o+(c+a<<1)>>1]=S,y[o+(c+t<<1)>>1]=s,y[o+(c+r<<1)>>1]=I,c=c+1|0;while((c|0)!=(f|0));return}default:return}}function Fl(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;k=b,b=b+176|0,D=k+152|0,N=k+16|0,F=k,A=t+4|0,f=e[A>>2]|0,T=s<<1,c=J(T,e[f+16>>2]|0)|0;do if(c){for(S=t+20|0;f=G0[e[(e[r>>2]|0)+32>>2]&63](r,e[S>>2]|0,c)|0,!!f;)if((c|0)==(f|0)){I=26;break}else c=c-f|0;if((I|0)==26){f=e[A>>2]|0;break}I=N+56|0,A=N+4|0,e[N>>2]=36160,e[I>>2]=36180,h=0,de(62,N+56|0,A|0),k=h,h=0,k&1&&(N=Q()|0,Ye(I),ne(N|0)),e[N+128>>2]=0,e[N+132>>2]=-1,e[N>>2]=36200,e[N+56>>2]=36220,h=0,oe(180,A|0),k=h,h=0;do if(k&1)f=Q()|0;else{if(e[A>>2]=36236,r=N+36|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[N+52>>2]=16,e[D>>2]=0,e[D+4>>2]=0,e[D+8>>2]=0,h=0,de(63,A|0,D|0),k=h,h=0,k&1){f=Q()|0,fe(D),fe(r),h0(A);break}fe(D),h=0,f=Oe(28,N|0,49029,57)|0,D=h,h=0,!(D&1)&&(h=0,Ce(36,f|0,0)|0,D=h,h=0,!(D&1))&&(S=g0(16)|0,h=0,de(64,F|0,A|0),D=h,h=0,D&1?f=Q()|0:(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,S|0,3,35648,F|0),D=h,h=0,D&1?c=1:(h=0,me(6,S|0,824,96),h=0,c=0),f=Q()|0,fe(F),c||(F=f,e[N>>2]=36200,e[I>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(I),ne(F|0))),v0(S|0),F=f,e[N>>2]=36200,e[I>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(I),ne(F|0)),F=Q()|0,e[N>>2]=36200,e[I>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(I),ne(F|0)}while(!1);N=f,Ye(I),ne(N|0)}while(!1);if(c=t+20|0,(e[f+28>>2]|0)!=536870912){N=e[c>>2]|0,Qr(t,N,o,s,a),b=k;return}Jt(e[c>>2]|0,J(T,e[f+16>>2]|0)|0),N=e[c>>2]|0,Qr(t,N,o,s,a),b=k}function ro(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;A=t+4|0,t=e[A>>2]|0;e:do switch(e[t+16>>2]|0){case 3:{if((e[t+24>>2]|0)==2){if((s|0)>0)t=0;else break e;for(;;)if(S=y[r+(t*6|0)+2>>1]|0,a=S&65535,c=(O[r+(t*6|0)>>1]|0)+32768+a|0,a=(O[r+(t*6|0)+4>>1]|0)+32768+(((c&65535)+a|0)>>>1)&65535,y[o+(t*6|0)>>1]=c,y[o+(t*6|0)+2>>1]=S,y[o+(t*6|0)+4>>1]=a,t=t+1|0,(t|0)==(s|0))break e}if(t=(s|0)<(a|0)?s:a,(t|0)>0){f=a<<1,c=0;do I=y[r+(c+a<<1)>>1]|0,S=I&65535,T=(O[r+(c<<1)>>1]|0)+32768+S|0,S=(O[r+(c+f<<1)>>1]|0)+32768+(((T&65535)+S|0)>>>1)&65535,y[o+(c*6|0)>>1]=T,y[o+(c*6|0)+2>>1]=I,y[o+(c*6|0)+4>>1]=S,c=c+1|0;while((c|0)!=(t|0))}break}case 4:{if((e[t+24>>2]|0)==1&&(S=(s|0)<(a|0)?s:a,(S|0)>0)){t=a<<1,f=a*3|0,c=0;do T=y[r+(c+a<<1)>>1]|0,I=T&65535,k=(O[r+(c<<1)>>1]|0)+32768+I&65535,I=(O[r+(c+t<<1)>>1]|0)+32768+((k+I|0)>>>1)|0,D=y[r+(c+f<<1)>>1]|0,T=St(T&65535|0,0,16)|0,I=xe|I,D=St(D&65535|0,0,48)|0,D=k|T|D,I=I&65535|xe,T=o+(c<<3)|0,k=T,y[k>>1]=D,y[k+2>>1]=D>>>16,T=T+4|0,y[T>>1]=I,y[T+2>>1]=I>>>16,c=c+1|0;while((c|0)!=(S|0))}break}default:}while(!1);if(t=e[A>>2]|0,!!(m[t+32>>0]|0)&&(c=e[t+16>>2]|0,!((s|0)<=0)))for(t=o,f=0;D=t+4|0,k=y[t>>1]|0,y[t>>1]=y[D>>1]|0,y[D>>1]=k,f=f+1|0,(f|0)!=(s|0);)t=t+(c<<1)|0}function Ml(t){t=t|0;var r=0,o=0,s=0;e[t>>2]=36436,r=e[t+20>>2]|0,r&&(o=t+24|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),s=e[t+8>>2]|0,s&&(r=t+12|0,o=e[r>>2]|0,(o|0)!=(s|0)&&(e[r>>2]=o+(~((o+-2-s|0)>>>1)<<1)),ue(s))}function Rl(t){t=t|0;var r=0,o=0,s=0;if(e[t>>2]=36436,r=e[t+20>>2]|0,r&&(o=t+24|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),s=e[t+8>>2]|0,!s){ue(t);return}r=t+12|0,o=e[r>>2]|0,(o|0)!=(s|0)&&(e[r>>2]=o+(~((o+-2-s|0)>>>1)<<1)),ue(s),ue(t)}function Ol(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0;if(a=t+36|0,!(e[a>>2]|0)){S=t+40|0,no(t,r,e[S>>2]|0,o,s),e[S>>2]=(e[S>>2]|0)+(e[(e[t+4>>2]|0)+12>>2]|0);return}A=t+4|0,f=o<<1,c=J(f,e[(e[A>>2]|0)+16>>2]|0)|0,S=t+20|0,no(t,r,e[S>>2]|0,o,s),r=e[A>>2]|0,(e[r+28>>2]|0)==536870912&&Jt(e[S>>2]|0,J(f,e[r+16>>2]|0)|0),A=e[a>>2]|0,(G0[e[(e[A>>2]|0)+48>>2]&63](A,e[S>>2]|0,c)|0)!=(c|0)&&(r=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,r|0,3,35648),A=h,h=0,A&1?(A=Q()|0,v0(r|0),ne(A|0)):V0(r|0,824,96))}function Ll(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0;if(a=e[t+36>>2]|0,a){Nl(t,a,r,o,s);return}else{a=t+40|0,jr(t,e[a>>2]|0,r,o,s),e[a>>2]=(e[a>>2]|0)+(e[(e[t+4>>2]|0)+12>>2]|0);return}}function jr(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0;S=t+4|0,f=e[S>>2]|0;do if(!(m[f+32>>0]|0))A=r;else{if(t=t+8|0,nt(e[t>>2]|0,r|0,s*6|0)|0,f=e[S>>2]|0,c=e[f+16>>2]|0,(s|0)<=0){A=e[t>>2]|0;break}for(t=e[t>>2]|0,f=t,r=0;A=f+4|0,I=y[f>>1]|0,y[f>>1]=y[A>>1]|0,y[A>>1]=I,r=r+1|0,(r|0)!=(s|0);)f=f+(c<<1)|0;A=t,f=e[S>>2]|0}while(!1);switch(e[f+16>>2]|0){case 3:{if((e[f+24>>2]|0)==2){if((s|0)>0)f=0;else return;do a=y[A+(f*6|0)+2>>1]|0,S=a&65535,I=32768-S+(O[A+(f*6|0)+4>>1]|0)&65535,y[o+(f*6|0)>>1]=(O[A+(f*6|0)>>1]|0)+32768-S,y[o+(f*6|0)+2>>1]=a,y[o+(f*6|0)+4>>1]=I,f=f+1|0;while((f|0)!=(s|0));return}if(f=(a|0)<(s|0)?a:s,(f|0)<=0)return;t=a<<1,r=0;do s=y[A+(r*6|0)+2>>1]|0,S=s&65535,I=32768-S+(O[A+(r*6|0)+4>>1]|0)&65535,y[o+(r<<1)>>1]=(O[A+(r*6|0)>>1]|0)+32768-S,y[o+(r+a<<1)>>1]=s,y[o+(r+t<<1)>>1]=I,r=r+1|0;while((r|0)!=(f|0));return}case 4:{if((e[f+24>>2]|0)!=1||(f=(a|0)<(s|0)?a:s,(f|0)<=0))return;t=a<<1,r=a*3|0,c=0;do S=y[A+(c<<3)+2>>1]|0,I=y[A+(c<<3)+6>>1]|0,T=S&65535,s=32768-T+(O[A+(c<<3)+4>>1]|0)&65535,y[o+(c<<1)>>1]=(O[A+(c<<3)>>1]|0)+32768-T,y[o+(c+a<<1)>>1]=S,y[o+(c+t<<1)>>1]=s,y[o+(c+r<<1)>>1]=I,c=c+1|0;while((c|0)!=(f|0));return}default:return}}function Nl(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;k=b,b=b+176|0,D=k+152|0,N=k+16|0,F=k,A=t+4|0,f=e[A>>2]|0,T=s<<1,c=J(T,e[f+16>>2]|0)|0;do if(c){for(S=t+20|0;f=G0[e[(e[r>>2]|0)+32>>2]&63](r,e[S>>2]|0,c)|0,!!f;)if((c|0)==(f|0)){I=26;break}else c=c-f|0;if((I|0)==26){f=e[A>>2]|0;break}I=N+56|0,A=N+4|0,e[N>>2]=36160,e[I>>2]=36180,h=0,de(62,N+56|0,A|0),k=h,h=0,k&1&&(N=Q()|0,Ye(I),ne(N|0)),e[N+128>>2]=0,e[N+132>>2]=-1,e[N>>2]=36200,e[N+56>>2]=36220,h=0,oe(180,A|0),k=h,h=0;do if(k&1)f=Q()|0;else{if(e[A>>2]=36236,r=N+36|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[N+52>>2]=16,e[D>>2]=0,e[D+4>>2]=0,e[D+8>>2]=0,h=0,de(63,A|0,D|0),k=h,h=0,k&1){f=Q()|0,fe(D),fe(r),h0(A);break}fe(D),h=0,f=Oe(28,N|0,49029,57)|0,D=h,h=0,!(D&1)&&(h=0,Ce(36,f|0,0)|0,D=h,h=0,!(D&1))&&(S=g0(16)|0,h=0,de(64,F|0,A|0),D=h,h=0,D&1?f=Q()|0:(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,S|0,3,35648,F|0),D=h,h=0,D&1?c=1:(h=0,me(6,S|0,824,96),h=0,c=0),f=Q()|0,fe(F),c||(F=f,e[N>>2]=36200,e[I>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(I),ne(F|0))),v0(S|0),F=f,e[N>>2]=36200,e[I>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(I),ne(F|0)),F=Q()|0,e[N>>2]=36200,e[I>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(I),ne(F|0)}while(!1);N=f,Ye(I),ne(N|0)}while(!1);if(c=t+20|0,(e[f+28>>2]|0)!=536870912){N=e[c>>2]|0,jr(t,N,o,s,a),b=k;return}Jt(e[c>>2]|0,J(T,e[f+16>>2]|0)|0),N=e[c>>2]|0,jr(t,N,o,s,a),b=k}function no(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;A=t+4|0,t=e[A>>2]|0;e:do switch(e[t+16>>2]|0){case 3:{if((e[t+24>>2]|0)==2){if((s|0)>0)t=0;else break e;for(;;)if(S=y[r+(t*6|0)+2>>1]|0,c=S&65535,a=c+32768+(O[r+(t*6|0)+4>>1]|0)&65535,y[o+(t*6|0)>>1]=(O[r+(t*6|0)>>1]|0)+32768+c,y[o+(t*6|0)+2>>1]=S,y[o+(t*6|0)+4>>1]=a,t=t+1|0,(t|0)==(s|0))break e}if(t=(s|0)<(a|0)?s:a,(t|0)>0){f=a<<1,c=0;do I=y[r+(c+a<<1)>>1]|0,T=I&65535,S=T+32768+(O[r+(c+f<<1)>>1]|0)&65535,y[o+(c*6|0)>>1]=(O[r+(c<<1)>>1]|0)+32768+T,y[o+(c*6|0)+2>>1]=I,y[o+(c*6|0)+4>>1]=S,c=c+1|0;while((c|0)!=(t|0))}break}case 4:{if((e[t+24>>2]|0)==1&&(S=(s|0)<(a|0)?s:a,(S|0)>0)){t=a<<1,f=a*3|0,c=0;do T=y[r+(c+a<<1)>>1]|0,I=T&65535,k=(O[r+(c<<1)>>1]|0)+32768+I|0,I=I+32768+(O[r+(c+t<<1)>>1]|0)|0,D=y[r+(c+f<<1)>>1]|0,T=St(T&65535|0,0,16)|0,I=xe|I,D=St(D&65535|0,0,48)|0,D=k&65535|T|D,I=I&65535|xe,T=o+(c<<3)|0,k=T,y[k>>1]=D,y[k+2>>1]=D>>>16,T=T+4|0,y[T>>1]=I,y[T+2>>1]=I>>>16,c=c+1|0;while((c|0)!=(S|0))}break}default:}while(!1);if(t=e[A>>2]|0,!!(m[t+32>>0]|0)&&(c=e[t+16>>2]|0,!((s|0)<=0)))for(t=o,f=0;D=t+4|0,k=y[t>>1]|0,y[t>>1]=y[D>>1]|0,y[D>>1]=k,f=f+1|0,(f|0)!=(s|0);)t=t+(c<<1)|0}function Bl(t){t=t|0;var r=0,o=0,s=0;e[t>>2]=36460,r=e[t+20>>2]|0,r&&(o=t+24|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),s=e[t+8>>2]|0,s&&(r=t+12|0,o=e[r>>2]|0,(o|0)!=(s|0)&&(e[r>>2]=o+(~((o+-2-s|0)>>>1)<<1)),ue(s))}function Ul(t){t=t|0;var r=0,o=0,s=0;if(e[t>>2]=36460,r=e[t+20>>2]|0,r&&(o=t+24|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),s=e[t+8>>2]|0,!s){ue(t);return}r=t+12|0,o=e[r>>2]|0,(o|0)!=(s|0)&&(e[r>>2]=o+(~((o+-2-s|0)>>>1)<<1)),ue(s),ue(t)}function Vl(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0;if(a=t+36|0,!(e[a>>2]|0)){S=t+40|0,oo(t,r,e[S>>2]|0,o,s),e[S>>2]=(e[S>>2]|0)+(e[(e[t+4>>2]|0)+12>>2]|0);return}A=t+4|0,f=o<<1,c=J(f,e[(e[A>>2]|0)+16>>2]|0)|0,S=t+20|0,oo(t,r,e[S>>2]|0,o,s),r=e[A>>2]|0,(e[r+28>>2]|0)==536870912&&Jt(e[S>>2]|0,J(f,e[r+16>>2]|0)|0),A=e[a>>2]|0,(G0[e[(e[A>>2]|0)+48>>2]&63](A,e[S>>2]|0,c)|0)!=(c|0)&&(r=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,r|0,3,35648),A=h,h=0,A&1?(A=Q()|0,v0(r|0),ne(A|0)):V0(r|0,824,96))}function zl(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0;if(a=e[t+36>>2]|0,a){ql(t,a,r,o,s);return}else{a=t+40|0,Yr(t,e[a>>2]|0,r,o,s),e[a>>2]=(e[a>>2]|0)+(e[(e[t+4>>2]|0)+12>>2]|0);return}}function Yr(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0;S=t+4|0,f=e[S>>2]|0;do if(!(m[f+32>>0]|0))A=r;else{if(t=t+8|0,nt(e[t>>2]|0,r|0,s*6|0)|0,f=e[S>>2]|0,c=e[f+16>>2]|0,(s|0)<=0){A=e[t>>2]|0;break}for(t=e[t>>2]|0,f=t,r=0;A=f+4|0,I=y[f>>1]|0,y[f>>1]=y[A>>1]|0,y[A>>1]=I,r=r+1|0,(r|0)!=(s|0);)f=f+(c<<1)|0;A=t,f=e[S>>2]|0}while(!1);switch(e[f+16>>2]|0){case 3:{if((e[f+24>>2]|0)==2){if((s|0)>0)f=0;else return;do a=y[A+(f*6|0)+2>>1]|0,I=y[A+(f*6|0)+4>>1]|0,y[o+(f*6|0)>>1]=y[A+(f*6|0)>>1]|0,y[o+(f*6|0)+2>>1]=a,y[o+(f*6|0)+4>>1]=I,f=f+1|0;while((f|0)!=(s|0));return}if(f=(a|0)<(s|0)?a:s,(f|0)<=0)return;t=a<<1,r=0;do s=y[A+(r*6|0)+2>>1]|0,I=y[A+(r*6|0)+4>>1]|0,y[o+(r<<1)>>1]=y[A+(r*6|0)>>1]|0,y[o+(r+a<<1)>>1]=s,y[o+(r+t<<1)>>1]=I,r=r+1|0;while((r|0)!=(f|0));return}case 4:{if((e[f+24>>2]|0)!=1||(f=(a|0)<(s|0)?a:s,(f|0)<=0))return;t=a<<1,r=a*3|0,c=0;do S=y[A+(c<<3)+2>>1]|0,s=y[A+(c<<3)+4>>1]|0,I=y[A+(c<<3)+6>>1]|0,y[o+(c<<1)>>1]=y[A+(c<<3)>>1]|0,y[o+(c+a<<1)>>1]=S,y[o+(c+t<<1)>>1]=s,y[o+(c+r<<1)>>1]=I,c=c+1|0;while((c|0)!=(f|0));return}default:return}}function ql(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;k=b,b=b+176|0,D=k+152|0,N=k+16|0,F=k,A=t+4|0,f=e[A>>2]|0,T=s<<1,c=J(T,e[f+16>>2]|0)|0;do if(c){for(S=t+20|0;f=G0[e[(e[r>>2]|0)+32>>2]&63](r,e[S>>2]|0,c)|0,!!f;)if((c|0)==(f|0)){I=26;break}else c=c-f|0;if((I|0)==26){f=e[A>>2]|0;break}I=N+56|0,A=N+4|0,e[N>>2]=36160,e[I>>2]=36180,h=0,de(62,N+56|0,A|0),k=h,h=0,k&1&&(N=Q()|0,Ye(I),ne(N|0)),e[N+128>>2]=0,e[N+132>>2]=-1,e[N>>2]=36200,e[N+56>>2]=36220,h=0,oe(180,A|0),k=h,h=0;do if(k&1)f=Q()|0;else{if(e[A>>2]=36236,r=N+36|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[N+52>>2]=16,e[D>>2]=0,e[D+4>>2]=0,e[D+8>>2]=0,h=0,de(63,A|0,D|0),k=h,h=0,k&1){f=Q()|0,fe(D),fe(r),h0(A);break}fe(D),h=0,f=Oe(28,N|0,49029,57)|0,D=h,h=0,!(D&1)&&(h=0,Ce(36,f|0,0)|0,D=h,h=0,!(D&1))&&(S=g0(16)|0,h=0,de(64,F|0,A|0),D=h,h=0,D&1?f=Q()|0:(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,S|0,3,35648,F|0),D=h,h=0,D&1?c=1:(h=0,me(6,S|0,824,96),h=0,c=0),f=Q()|0,fe(F),c||(F=f,e[N>>2]=36200,e[I>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(I),ne(F|0))),v0(S|0),F=f,e[N>>2]=36200,e[I>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(I),ne(F|0)),F=Q()|0,e[N>>2]=36200,e[I>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(I),ne(F|0)}while(!1);N=f,Ye(I),ne(N|0)}while(!1);if(c=t+20|0,(e[f+28>>2]|0)!=536870912){N=e[c>>2]|0,Yr(t,N,o,s,a),b=k;return}Jt(e[c>>2]|0,J(T,e[f+16>>2]|0)|0),N=e[c>>2]|0,Yr(t,N,o,s,a),b=k}function oo(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;A=t+4|0,t=e[A>>2]|0;e:do switch(e[t+16>>2]|0){case 3:{if((e[t+24>>2]|0)==2){if((s|0)>0)t=0;else break e;for(;;)if(S=y[r+(t*6|0)+2>>1]|0,a=y[r+(t*6|0)+4>>1]|0,y[o+(t*6|0)>>1]=y[r+(t*6|0)>>1]|0,y[o+(t*6|0)+2>>1]=S,y[o+(t*6|0)+4>>1]=a,t=t+1|0,(t|0)==(s|0))break e}if(t=(s|0)<(a|0)?s:a,(t|0)>0){f=a<<1,c=0;do I=y[r+(c+a<<1)>>1]|0,S=y[r+(c+f<<1)>>1]|0,y[o+(c*6|0)>>1]=y[r+(c<<1)>>1]|0,y[o+(c*6|0)+2>>1]=I,y[o+(c*6|0)+4>>1]=S,c=c+1|0;while((c|0)!=(t|0))}break}case 4:{if((e[t+24>>2]|0)==1&&(S=(s|0)<(a|0)?s:a,(S|0)>0)){t=a<<1,f=a*3|0,c=0;do I=y[r+(c<<1)>>1]|0,D=y[r+(c+f<<1)>>1]|0,T=O[r+(c+t<<1)>>1]|0,k=St(O[r+(c+a<<1)>>1]|0,0,16)|0,T=xe|T,D=St(D&65535|0,0,48)|0,D=k|I&65535|D,T=T&65535|xe,I=o+(c<<3)|0,k=I,y[k>>1]=D,y[k+2>>1]=D>>>16,I=I+4|0,y[I>>1]=T,y[I+2>>1]=T>>>16,c=c+1|0;while((c|0)!=(S|0))}break}default:}while(!1);if(t=e[A>>2]|0,!!(m[t+32>>0]|0)&&(c=e[t+16>>2]|0,!((s|0)<=0)))for(t=o,f=0;D=t+4|0,k=y[t>>1]|0,y[t>>1]=y[D>>1]|0,y[D>>1]=k,f=f+1|0,(f|0)!=(s|0);)t=t+(c<<1)|0}function Gl(t){t=t|0}function $l(t){t=t|0,ue(t)}function Hl(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0,o=J(e[t+8>>2]|0,o)|0,t=e[t+4>>2]|0,(G0[e[(e[t>>2]|0)+48>>2]&63](t,r,o)|0)!=(o|0)&&(s=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,s|0,3,35648),t=h,h=0,t&1?(t=Q()|0,v0(s|0),ne(t|0)):V0(s|0,824,96))}function Wl(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0;T=b,b=b+16|0,I=T,A=t+8|0,a=e[A>>2]|0,s=J(a,o)|0;do if(s){for(c=t+4|0,f=s;a=e[c>>2]|0,a=G0[e[(e[a>>2]|0)+32>>2]&63](a,r,f)|0,!!a;)if(s=f-a|0,(f|0)==(a|0)){S=11;break}else f=s;if((S|0)==11){a=e[A>>2]|0,f=s;break}s=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,s|0,3,35648),t=h,h=0,t&1?(t=Q()|0,v0(s|0),ne(t|0)):V0(s|0,824,96)}else f=0;while(!1);if((a|0)==2&&(Jt(r,o<<1),a=e[A>>2]|0),s=e[t+12>>2]|0,(s|0)<=(J(a,o)|0)){b=T;return}t=e[t+4>>2]|0,Ui[e[(e[t>>2]|0)+16>>2]&15](I,t,s-f|0,0,1,24),b=T}function Ql(t){t=t|0,ue(t)}function jl(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0,s=t+4|0,nt(e[s>>2]|0,r|0,J(e[t+8>>2]|0,o)|0)|0,e[s>>2]=(e[s>>2]|0)+(e[t+12>>2]|0)}function Yl(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0,s=t+4|0,nt(r|0,e[s>>2]|0,J(e[t+8>>2]|0,o)|0)|0,e[s>>2]=(e[s>>2]|0)+(e[t+12>>2]|0)}function Qt(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0;e[t+112>>2]=0,e[t+108>>2]=0,I=e[r>>2]|0,a=I;do if(I)if(c=t+92|0,I=t+96|0,S=e[I>>2]|0,A=e[c>>2]|0,o=A,s=S-o|0,s>>>0>=4e4?(s>>>0>4e4&&(f=A+4e4|0,(S|0)!=(f|0))&&(e[I>>2]=f),f=o):(Si(c,4e4-s|0),f=e[c>>2]|0,a=e[r>>2]|0),o=t+116|0,e[o>>2]=f,S=t+124|0,e[S>>2]=f,A=t+104|0,e[A>>2]=a,s=a,a){if((e[s+12>>2]|0)==(e[s+16>>2]|0)){if(r=(A0[e[(e[a>>2]|0)+36>>2]&127](s)|0)==-1,s=e[S>>2]|0,r)break;a=e[o>>2]|0}else s=f,a=f;if(c=s-a|0,c>>>0<=64){if(f=t+92|0,(s|0)==(a|0))s=a;else{s=a,a=0;do m[(e[f>>2]|0)+a>>0]=m[s+a>>0]|0,a=a+1|0,s=e[o>>2]|0;while(a>>>0<c>>>0);a=e[S>>2]|0}f=e[f>>2]|0,r=f,T=r-s|0,e[o>>2]=f,s=a+T|0,e[S>>2]=s,f=t+120|0,e[f>>2]=(e[f>>2]|0)+T,A=e[A>>2]|0,s=G0[e[(e[A>>2]|0)+32>>2]&63](A,s,(e[I>>2]|0)-(r+c)|0)|0,s=(e[S>>2]|0)+s|0,e[S>>2]=s}}else s=f;else e[t+104>>2]=0,s=e[r+4>>2]|0,o=t+116|0,e[o>>2]=s,s=s+(e[r+8>>2]|0)|0,e[t+124>>2]=s;while(!1);if(o=e[o>>2]|0,o>>>0>=s>>>0){I=o,T=t+120|0,e[T>>2]=I,Mt(t);return}for(;;){if((m[o>>0]|0)==-1){s=20;break}if(o=o+1|0,o>>>0>=s>>>0){s=20;break}}if((s|0)==20){T=t+120|0,e[T>>2]=o,Mt(t);return}}function Si(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0;if(A=t+8|0,a=e[A>>2]|0,I=t+4|0,o=e[I>>2]|0,s=o,(a-s|0)>>>0>=r>>>0){do m[o>>0]=0,o=(e[I>>2]|0)+1|0,e[I>>2]=o,r=r+-1|0;while(r|0);return}o=e[t>>2]|0,f=s-o+r|0,(f|0)<0&&(hi(t),a=e[A>>2]|0,o=e[t>>2]|0),s=a-o|0,s>>>0<1073741823?(s=s<<1,s=s>>>0<f>>>0?f:s,o=(e[I>>2]|0)-o|0,s?S=8:(a=0,c=0,f=o)):(s=2147483647,o=(e[I>>2]|0)-o|0,S=8),(S|0)==8&&(a=s,c=We(s)|0,f=o),o=c+f|0,a=c+a|0,s=o;do m[s>>0]=0,s=o+1|0,o=s,r=r+-1|0;while(r|0);r=e[t>>2]|0,s=(e[I>>2]|0)-r|0,S=c+(f-s)|0,nt(S|0,r|0,s|0)|0,e[t>>2]=S,e[I>>2]=o,e[A>>2]=a,r&&ue(r)}function so(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0;B=b,b=b+32|0,M=B+12|0,q=B,F=t+180|0,N=(e[F>>2]|0)+4|0,(e[t+32>>2]|0)==1?z=e[t+24>>2]|0:z=1,r=J(z<<1,N)|0,e[M>>2]=0,R=M+4|0,e[R>>2]=0,e[M+8>>2]=0;do if(r){if((r|0)<0&&(h=0,oe(178,M|0),L=h,h=0,L&1)||(c=6),(c|0)==6&&(o=r<<1,h=0,s=ce(67,o|0)|0,L=h,h=0,!(L&1))){e[M>>2]=s,L=s+(r<<1)|0,e[M+8>>2]=L,j0(s|0,0,o|0)|0,e[R>>2]=L;break}s=Q()|0,r=e[M>>2]|0,r||ne(s|0),o=e[R>>2]|0,(o|0)!=(r|0)&&(e[R>>2]=o+(~((o+-2-r|0)>>>1)<<1)),ue(r),ne(s|0)}while(!1);e[q>>2]=0,L=q+4|0,e[L>>2]=0,e[q+8>>2]=0;do if(!z)c=18;else{if(z>>>0>1073741823&&(h=0,oe(178,q|0),D=h,h=0,D&1)||(c=16),(c|0)==16&&(a=z<<2,h=0,f=ce(67,a|0)|0,D=h,h=0,!(D&1))){e[q>>2]=f,c=f+(z<<2)|0,e[q+8>>2]=c,j0(f|0,0,a|0)|0,e[L>>2]=c,c=18;break}s=Q()|0,r=e[q>>2]|0,o=r,r&&(a=e[L>>2]|0,(a|0)!=(r|0)&&(e[L>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ue(r))}while(!1);if((c|0)==18){f=t+12|0;e:do if((e[f>>2]|0)>0){c=t+4604|0,S=(J(z,N)|0)+1|0,A=t+4608|0,I=t+92|0,T=(z|0)>0,k=t+4600|0,D=0;t:for(;;){if(o=e[M>>2]|0,r=o+2|0,e[c>>2]=r,o=o+(S<<1)|0,e[A>>2]=o,D&1?(e[c>>2]=o,e[A>>2]=r):r=o,a=e[I>>2]|0,h=0,Re(e[(e[a>>2]|0)+12>>2]|0,a|0,r|0,e[F>>2]|0,N|0),a=h,h=0,a&1){c=28;break}if(T){r=e[c>>2]|0,o=e[A>>2]|0,s=e[q>>2]|0,a=0;do{if(e[k>>2]=e[s+(a<<2)>>2],s=e[F>>2]|0,y[r+(s<<1)>>1]=y[r+(s+-1<<1)>>1]|0,y[o+-2>>1]=y[r>>1]|0,h=0,de(68,t|0,0),s=h,h=0,s&1){c=27;break t}s=e[q>>2]|0,e[s+(a<<2)>>2]=e[k>>2],r=(e[c>>2]|0)+(N<<1)|0,e[c>>2]=r,o=(e[A>>2]|0)+(N<<1)|0,e[A>>2]=o,a=a+1|0}while((a|0)<(z|0))}if(D=D+1|0,(D|0)>=(e[f>>2]|0)){c=40;break e}}if((c|0)==27){s=Q()|0;break}else if((c|0)==28){s=Q()|0;break}}else c=40;while(!1);do if((c|0)==40){if(h=0,oe(182,t|0),t=h,h=0,t&1){s=Q()|0;break}if(r=e[q>>2]|0,o=r,r&&(s=e[L>>2]|0,(s|0)!=(r|0)&&(e[L>>2]=s+(~((s+-4-o|0)>>>2)<<2)),ue(r)),r=e[M>>2]|0,!r){b=B;return}o=e[R>>2]|0,(o|0)!=(r|0)&&(e[R>>2]=o+(~((o+-2-r|0)>>>1)<<1)),ue(r),b=B;return}while(!1);r=e[q>>2]|0,o=r,r&&(a=e[L>>2]|0,(a|0)!=(r|0)&&(e[L>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ue(r))}r=e[M>>2]|0,r||ne(s|0),o=e[R>>2]|0,(o|0)!=(r|0)&&(e[R>>2]=o+(~((o+-2-r|0)>>>1)<<1)),ue(r),ne(s|0)}function Kl(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;if(k=t+4604|0,r=e[k>>2]|0,N=t+180|0,!((e[N>>2]|0)<=0))for(D=t+4608|0,F=t+4612|0,a=r,f=O[r+-2>>1]|0,r=O[r>>1]|0,T=0;I=e[D>>2]|0,A=O[I+(T+-1<<1)>>1]|0,s=T+1|0,o=O[a+(s<<1)>>1]|0,S=e[F>>2]|0,c=r-f|0,a=f-A|0,S=((((m[S+(o-r)>>0]|0)*9|0)+(m[S+c>>0]|0)|0)*9|0)+(m[S+a>>0]|0)|0,S?(f=r-A>>31,(f^a|0)<0?a=r:a=A+((f^c|0)<0?0:c)|0,I=Zl(t,S,O[I+(T<<1)>>1]|0,a,0)|0,y[(e[D>>2]|0)+(T<<1)>>1]=I):(s=(Jl(t,T,0)|0)+T|0,o=e[k>>2]|0,r=O[o+(s+-1<<1)>>1]|0,o=O[o+(s<<1)>>1]|0),!((s|0)>=(e[N>>2]|0));)a=e[k>>2]|0,f=r,r=o,T=s}function Xl(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0;a=t+104|0,(e[a>>2]|0)>>>0<4&&Ji(t),f=t+100|0,c=t+112|0,S=t+96|0,A=t+108|0,I=t+116|0,r=e[f>>2]|0,s=0;do{if(o=m[c>>0]|0,(r|0)>31)break;r=e[S>>2]|0,o<<24>>24?(m[e[A>>2]>>0]=r>>>25,e[S>>2]=e[S>>2]<<7,r=(e[f>>2]|0)+7|0):(m[e[A>>2]>>0]=r>>>24,e[S>>2]=e[S>>2]<<8,r=(e[f>>2]|0)+8|0),e[f>>2]=r,T=e[A>>2]|0,o=(m[T>>0]|0)==-1&1,m[c>>0]=o,e[A>>2]=T+1,e[a>>2]=(e[a>>2]|0)+-1,e[I>>2]=(e[I>>2]|0)+1,s=s+1|0}while((s|0)<4);o<<24>>24?C0(t,0,(r+-1|0)%8|0):C0(t,0,(r|0)%8|0),(e[a>>2]|0)>>>0<4&&Ji(t),r=e[f>>2]|0,o=0;do{if((r|0)>31)break;r=e[S>>2]|0,m[c>>0]|0?(m[e[A>>2]>>0]=r>>>25,e[S>>2]=e[S>>2]<<7,r=(e[f>>2]|0)+7|0):(m[e[A>>2]>>0]=r>>>24,e[S>>2]=e[S>>2]<<8,r=(e[f>>2]|0)+8|0),e[f>>2]=r,T=e[A>>2]|0,m[c>>0]=(m[T>>0]|0)==-1&1,e[A>>2]=T+1,e[a>>2]=(e[a>>2]|0)+-1,e[I>>2]=(e[I>>2]|0)+1,o=o+1|0}while((o|0)<4);e[t+132>>2]|0&&Ji(t)}function Ji(t){t=t|0;var r=0,o=0,s=0,a=0,f=0;if(r=e[t+132>>2]|0,r||(r=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,r|0,4,35648),t=h,h=0,t&1||V0(r|0,824,96),t=Q()|0,v0(r|0),ne(t|0)),o=t+108|0,s=t+120|0,f=e[s>>2]|0,a=(e[o>>2]|0)-f|0,(G0[e[(e[r>>2]|0)+48>>2]&63](r,f,a)|0)==(a|0)){f=e[s>>2]|0,e[o>>2]=f,e[t+104>>2]=(e[t+124>>2]|0)-f;return}r=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,r|0,4,35648),f=h,h=0,f&1||V0(r|0,824,96),f=Q()|0,v0(r|0),ne(f|0)}function C0(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0;if(I=t+100|0,o=(e[I>>2]|0)-o|0,e[I>>2]=o,(o|0)>-1){T=t+96|0,e[T>>2]=e[T>>2]|r<<o;return}for(T=t+96|0,e[T>>2]=e[T>>2]|r>>0-o,A=t+104|0,(e[A>>2]|0)>>>0<4&&(Ji(t),o=e[I>>2]|0),f=t+112|0,c=t+108|0,S=t+116|0,s=0;!((o|0)>31);)if(o=e[T>>2]|0,m[f>>0]|0?(m[e[c>>2]>>0]=o>>>25,e[T>>2]=e[T>>2]<<7,o=(e[I>>2]|0)+7|0):(m[e[c>>2]>>0]=o>>>24,e[T>>2]=e[T>>2]<<8,o=(e[I>>2]|0)+8|0),e[I>>2]=o,k=e[c>>2]|0,m[f>>0]=(m[k>>0]|0)==-1&1,e[c>>2]=k+1,e[A>>2]=(e[A>>2]|0)+-1,e[S>>2]=(e[S>>2]|0)+1,s=s+1|0,(s|0)>=4){a=11;break}e:do if((a|0)==11&&(o|0)<0){e[T>>2]=e[T>>2]|r>>0-o,(e[A>>2]|0)>>>0<4&&(Ji(t),o=e[I>>2]|0),s=0;do{if((o|0)>31)break e;o=e[T>>2]|0,m[f>>0]|0?(m[e[c>>2]>>0]=o>>>25,e[T>>2]=e[T>>2]<<7,o=(e[I>>2]|0)+7|0):(m[e[c>>2]>>0]=o>>>24,e[T>>2]=e[T>>2]<<8,o=(e[I>>2]|0)+8|0),e[I>>2]=o,k=e[c>>2]|0,m[f>>0]=(m[k>>0]|0)==-1&1,e[c>>2]=k+1,e[A>>2]=(e[A>>2]|0)+-1,e[S>>2]=(e[S>>2]|0)+1,s=s+1|0}while((s|0)<4)}while(!1);e[T>>2]=e[T>>2]|r<<o}function Zl(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0;if(z=r>>31,f=(z^r)-z|0,F=t+196+(f*12|0)+10|0,c=y[F>>1]|0,D=t+196+(f*12|0)|0,a=e[D>>2]|0,(c|0)<(a|0))if((c<<1|0)<(a|0))if((c<<2|0)<(a|0))if((c<<3|0)<(a|0))if((c<<4|0)<(a|0))for(r=5;(c<<r|0)<(a|0);)r=r+1|0;else r=4;else r=3;else r=2;else r=1;else r=0;return T=t+196+(f*12|0)+8|0,a=(y[T>>1]^z)-z+s|0,N=t+136|0,s=e[N>>2]|0,(a&s|0)==(a|0)?I=a:I=s&~(a>>31),a=(o-I^z)-z|0,A=t+144|0,s=e[A>>2]|0,(a|0)>0?a=(a+s|0)/(s<<1|1|0)|0:a=(a-s|0)/(s<<1|1|0)|0,k=t+140|0,S=e[k>>2]|0,o=((a|0)<0?S:0)+a|0,S=o-((o|0)<((S+1|0)/2|0|0)?0:S)|0,f=t+196+(f*12|0)+4|0,s|r?a=0:a=(e[f>>2]<<1)+-1+c>>31,s=a^S,lo(t,r,s>>30^s<<1,e[t+156>>2]|0),s=e[t+160>>2]|0,r=(e[D>>2]|0)+((S|0)>-1?S:0-S|0)|0,a=(e[f>>2]|0)+(J(e[A>>2]<<1|1,S)|0)|0,o=y[F>>1]|0,(o|0)==(s|0)&&(r=r>>1,a=a>>1,o=s>>1),e[D>>2]=r,s=o+1|0,y[F>>1]=s,r=s+a|0,(r|0)>=1?(a|0)>0&&(a=a-s|0,F=y[T>>1]|0,y[T>>1]=(F<<16>>16<127&1)+(F&65535),a=(a|0)>0?0:a):(a=y[T>>1]|0,y[T>>1]=(a&65535)-(a<<16>>16>-128&1),a=(r|0)>(~o|0)?r:0-o|0),e[f>>2]=a,s=e[A>>2]|0,o=s<<1|1,r=(J(o,(S^z)-z|0)|0)+I|0,(r|0)>=(0-s|0)?(a=e[N>>2]|0,(a+s|0)<(r|0)&&(r=r-(J(e[k>>2]|0,o)|0)|0)):(r=(J(e[k>>2]|0,o)|0)+r|0,a=e[N>>2]|0),(r&a|0)==(r|0)?(z=r,z=z&65535,z|0):(z=a&~(r>>31),z=z&65535,z|0)}function Jl(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0;for(A=(e[t+180>>2]|0)-r|0,I=e[t+4608>>2]|0,T=e[t+4604>>2]|0,a=y[I+(r+-1<<1)>>1]|0,S=a&65535,o=e[t+144>>2]|0,f=0;s=I+(f+r<<1)|0,c=(O[s>>1]|0)-S|0,!((((c|0)>-1?c:0-c|0)|0)>(o|0));)if(y[s>>1]=a,f=f+1|0,(f|0)==(A|0)){f=A;break}if(a=(f|0)==(A|0),c=t+4600|0,s=e[36476+(e[c>>2]<<2)>>2]|0,(1<<s|0)>(f|0))o=f;else{o=f;do C0(t,1,1),s=e[c>>2]|0,o=o-(1<<e[36476+(s<<2)>>2])|0,s=(s|0)>30?31:s+1|0,e[c>>2]=s,s=e[36476+(s<<2)>>2]|0;while((o|0)>=(1<<s|0))}return a?o?(C0(t,1,1),t=A,t|0):(t=A,t|0):(C0(t,o,s+1|0),A=f+r|0,r=I+(A<<1)|0,t=e1(t,O[r>>1]|0,S,O[T+(A<<1)>>1]|0)|0,y[r>>1]=t,t=e[c>>2]|0,e[c>>2]=(t|0)<1?0:t+-1|0,t=f+1|0,t|0)}function e1(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0;return S=o-s|0,A=t+136|0,c=t+144|0,a=e[c>>2]|0,(((S|0)>-1?S:0-S|0)|0)>(a|0)?(f=s-o>>31|1,r=J(f,r-s|0)|0,(r|0)>0?r=(a+r|0)/(a<<1|1|0)|0:r=(r-a|0)/(a<<1|1|0)|0,S=t+140|0,a=e[S>>2]|0,o=((r|0)<0?a:0)+r|0,a=o-((o|0)<((a+1|0)/2|0|0)?0:a)|0,ao(t,t+4576|0,a),a=J(a,f)|0,f=e[c>>2]|0,c=f<<1|1,a=(J(a,c)|0)+s|0,(a|0)>=(0-f|0)?(r=e[A>>2]|0,(r+f|0)<(a|0)&&(a=a-(J(e[S>>2]|0,c)|0)|0)):(a=(J(e[S>>2]|0,c)|0)+a|0,r=e[A>>2]|0),(a&r|0)==(a|0)?(A=a,A=A&65535,A|0):(A=r&~(a>>31),A=A&65535,A|0)):(r=r-o|0,(r|0)>0?r=(a+r|0)/(a<<1|1|0)|0:r=(r-a|0)/(a<<1|1|0)|0,S=t+140|0,a=e[S>>2]|0,f=((r|0)<0?a:0)+r|0,a=f-((f|0)<((a+1|0)/2|0|0)?0:a)|0,ao(t,t+4588|0,a),f=e[c>>2]|0,c=f<<1|1,a=(J(c,a)|0)+o|0,(a|0)>=(0-f|0)?(r=e[A>>2]|0,(r+f|0)<(a|0)&&(a=a-(J(e[S>>2]|0,c)|0)|0)):(a=(J(e[S>>2]|0,c)|0)+a|0,r=e[A>>2]|0),(a&r|0)==(a|0)?(A=a,A=A&65535,A|0):(A=r&~(a>>31),A=A&65535,A|0))}function ao(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0;if(T=r+9|0,c=P[T>>0]|0,I=r+4|0,A=e[I>>2]|0,a=(J(c>>>1,A)|0)+(e[r>>2]|0)|0,(c|0)<(a|0)){f=c,s=0;do f=f<<1,s=s+1|0;while((f|0)<(a|0));a=s}else a=0;(o|0)>0&(a|0)==0&&P[r+10>>0]<<1>>>0<c>>>0?s=1:S=5;do if((S|0)==5){if(s=(o|0)<0,s&&P[r+10>>0]<<1>>>0>=c>>>0){s=1;break}s=s&(a|0)!=0}while(!1);if(s=(((o|0)>-1?o:0-o|0)<<1)-A+(s<<31>>31)|0,lo(t,a,s,(e[t+156>>2]|0)+-1-(e[36476+(e[t+4600>>2]<<2)>>2]|0)|0),(o|0)<0&&(t=r+10|0,m[t>>0]=(P[t>>0]|0)+1),s=(s+1-(e[I>>2]|0)>>1)+(e[r>>2]|0)|0,e[r>>2]=s,a=m[T>>0]|0,a<<24>>24!=(m[r+8>>0]|0)){r=a,r=r&255,r=r+1|0,r=r&255,m[T>>0]=r;return}e[r>>2]=s>>1,t=(a&255)>>>1,m[T>>0]=t,r=r+10|0,m[r>>0]=(P[r>>0]|0)>>>1,r=t,r=r&255,r=r+1|0,r=r&255,m[T>>0]=r}function lo(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0;if(a=o>>r,f=t+148|0,c=s-(e[f>>2]|0)|0,(a|0)<(c+-1|0)){(a|0)>30&&(s=(a|0)/2|0,C0(t,0,s),a=a-s|0),C0(t,1,a+1|0),C0(t,(1<<r)+-1&o,r);return}(c|0)>31?(C0(t,0,31),C0(t,1,s+-31-(e[f>>2]|0)|0)):C0(t,1,c),r=e[f>>2]|0,C0(t,(1<<r)+-1&o+-1,r)}function Mt(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0;if(S=t+116|0,r=e[S>>2]|0,A=t+120|0,r>>>0<((e[A>>2]|0)+-3|0)>>>0){A=t+112|0,c=e[A>>2]|0,t=t+108|0,e[t>>2]=(P[r+1>>0]<<16|P[r>>0]<<24|P[r+2>>0]<<8|P[r+3>>0])>>>c|e[t>>2],t=32-c>>3,e[S>>2]=r+t,e[A>>2]=(t<<3)+c;return}c=t+104|0,o=e[c>>2]|0;do if(o){if((e[o+12>>2]|0)==(e[o+16>>2]|0)){if((A0[e[(e[o>>2]|0)+36>>2]&127](o)|0)==-1)break;r=e[S>>2]|0}if(a=t+124|0,o=e[a>>2]|0,f=o-r|0,f>>>0<=64){if(s=t+92|0,(o|0)==(r|0))o=r;else{o=0;do m[(e[s>>2]|0)+o>>0]=m[r+o>>0]|0,o=o+1|0,r=e[S>>2]|0;while(o>>>0<f>>>0);o=r,r=e[a>>2]|0}T=e[s>>2]|0,s=T,I=s-o|0,e[S>>2]=T,o=r+I|0,e[a>>2]=o,e[A>>2]=(e[A>>2]|0)+I,c=e[c>>2]|0,c=G0[e[(e[c>>2]|0)+32>>2]&63](c,o,(e[t+96>>2]|0)-(s+f)|0)|0,e[a>>2]=(e[a>>2]|0)+c}}while(!1);for(c=t+112|0,f=t+108|0,t=e[t+124>>2]|0,a=t+-1|0,r=e[S>>2]|0;;){if(r>>>0>=t>>>0){o=14;break}if(s=m[r>>0]|0,o=s&255,s=s<<24>>24==-1,s){if((r|0)==(a|0)){o=25;break}if(r=r+1|0,(m[r>>0]|0)<0){o=25;break}}else r=r+1|0;if(T=e[c>>2]|0,e[f>>2]=o<<24-T|e[f>>2],e[S>>2]=r,T=T+(s?7:8)|0,e[c>>2]=T,(T|0)>=24){o=33;break}}if((o|0)==14){if((e[c>>2]|0)>=1)return;r=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,r|0,5,35648),T=h,h=0,T&1||V0(r|0,824,96),T=Q()|0,v0(r|0),ne(T|0)}else if((o|0)==25){if((e[c>>2]|0)>=1)return;r=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,r|0,5,35648),T=h,h=0,T&1||V0(r|0,824,96),T=Q()|0,v0(r|0),ne(T|0)}else if((o|0)==33){e:do if(r>>>0<t>>>0)do{if((m[r>>0]|0)==-1)break e;r=r+1|0}while(r>>>0<t>>>0);while(!1);e[A>>2]=r;return}}function t1(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;D=b,b=b+32|0,s=D,k=t+144|0;e:do if(e[k>>2]|0)r=t+152|0;else if(o=e[t+136>>2]|0,r=t+152|0,(o|0)==((1<<e[r>>2])+-1|0)&&(dt(s,o,0),(e[s+4>>2]|0)==(e[t+184>>2]|0))&&(e[s+8>>2]|0)==(e[t+188>>2]|0)&&(e[s+12>>2]|0)==(e[t+192>>2]|0))switch(e[r>>2]|0){case 8:{k=e[8900]|0,e[t+4612>>2]=k+(((e[8901]|0)-k|0)>>>1),b=D;return}case 10:{k=e[8903]|0,e[t+4612>>2]=k+(((e[8904]|0)-k|0)>>>1),b=D;return}case 12:{k=e[8906]|0,e[t+4612>>2]=k+(((e[8907]|0)-k|0)>>>1),b=D;return}case 16:{k=e[8909]|0,e[t+4612>>2]=k+(((e[8910]|0)-k|0)>>>1),b=D;return}default:break e}while(!1);if(T=1<<e[r>>2],o=t+4616|0,s=T<<1,a=t+4620|0,f=e[a>>2]|0,r=e[o>>2]|0,c=f-r|0,s>>>0<=c>>>0?s>>>0<c>>>0&&(S=r+s|0,(f|0)!=(S|0))&&(e[a>>2]=S):(jt(o,s-c|0),r=e[o>>2]|0),I=t+4612|0,e[I>>2]=r+T,r=0-T|0,(T|0)<=(r|0)){b=D;return}S=t+192|0,A=t+188|0,c=t+184|0,f=r;do r=e[S>>2]|0,(f|0)>(0-r|0)?(o=e[A>>2]|0,(f|0)>(0-o|0)?(s=e[c>>2]|0,(f|0)>(0-s|0)?(a=e[k>>2]|0,(f|0)>=(0-a|0)?(a|0)<(f|0)?(s|0)<=(f|0)?(o|0)>(f|0)?r=2:r=(r|0)>(f|0)?3:4:r=1:r=0:r=-1):r=-2):r=-3):r=-4,m[(e[I>>2]|0)+f>>0]=r,f=f+1|0;while((f|0)!=(T|0));b=D}function jt(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0;if(A=t+8|0,a=e[A>>2]|0,I=t+4|0,o=e[I>>2]|0,s=o,(a-s|0)>>>0>=r>>>0){do m[o>>0]=0,o=(e[I>>2]|0)+1|0,e[I>>2]=o,r=r+-1|0;while(r|0);return}o=e[t>>2]|0,f=s-o+r|0,(f|0)<0&&(hi(t),a=e[A>>2]|0,o=e[t>>2]|0),s=a-o|0,s>>>0<1073741823?(s=s<<1,s=s>>>0<f>>>0?f:s,o=(e[I>>2]|0)-o|0,s?S=8:(a=0,c=0,f=o)):(s=2147483647,o=(e[I>>2]|0)-o|0,S=8),(S|0)==8&&(a=s,c=We(s)|0,f=o),o=c+f|0,a=c+a|0,s=o;do m[s>>0]=0,s=o+1|0,o=s,r=r+-1|0;while(r|0);r=e[t>>2]|0,s=(e[I>>2]|0)-r|0,S=c+(f-s)|0,nt(S|0,r|0,s|0)|0,e[t>>2]=S,e[I>>2]=o,e[A>>2]=a,r&&ue(r)}function i1(t){t=t|0;var r=0,o=0;e[t>>2]=36612,r=e[t+120>>2]|0,r&&(o=t+124|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+92|0,r=e[o>>2]|0,e[o>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),t=t+4|0,r=e[t>>2]|0,e[t>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r)}function r1(t){t=t|0;var r=0,o=0;if(e[t>>2]=36612,r=e[t+120>>2]|0,r&&(o=t+124|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+92|0,r=e[o>>2]|0,e[o>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),o=t+4|0,r=e[o>>2]|0,e[o>>2]=0,!r){ue(t);return}T0[e[(e[r>>2]|0)+4>>2]&255](r),ue(t)}function n1(t){t=t|0;var r=0,o=0;e[t>>2]=36052,r=e[t+4616>>2]|0,r&&(o=t+4620|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36612,r=e[t+120>>2]|0,r&&(o=t+124|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+92|0,r=e[o>>2]|0,e[o>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),t=t+4|0,r=e[t>>2]|0,e[t>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r)}function o1(t){t=t|0;var r=0,o=0;if(e[t>>2]=36052,r=e[t+4616>>2]|0,r&&(o=t+4620|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36612,r=e[t+120>>2]|0,r&&(o=t+124|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+92|0,r=e[o>>2]|0,e[o>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),o=t+4|0,r=e[o>>2]|0,e[o>>2]=0,!r){ue(t);return}T0[e[(e[r>>2]|0)+4>>2]&255](r),ue(t)}function s1(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0;c=b,b=b+32|0,A=c,dt(A,e[t+136>>2]|0,e[t+144>>2]|0),S=e[r+4>>2]|0,f=e[r+8>>2]|0,f=f|0?f:e[A+8>>2]|0,a=e[r+12>>2]|0,a=a|0?a:e[A+12>>2]|0,o=e[r+16>>2]|0,s=e[A+16>>2]|0,e[t+184>>2]=S|0?S:e[A+4>>2]|0,e[t+188>>2]=f,e[t+192>>2]=a,h1(t),a=t+140|0,r=(e[a>>2]|0)+32|0,r=(r|0)<128?2:(r|0)/64|0,f=0;do e[t+196+(f*12|0)>>2]=r,e[t+196+(f*12|0)+4>>2]=0,y[t+196+(f*12|0)+8>>1]=0,y[t+196+(f*12|0)+10>>1]=1,f=f+1|0;while((f|0)!=365);S=(e[a>>2]|0)+32|0,S=(S|0)<128?2:(S|0)/64|0,A=(o|0?o:s)&255,e[t+4576>>2]=S,e[t+4580>>2]=0,m[t+4584>>0]=A,m[t+4585>>0]=1,m[t+4586>>0]=0,e[t+4588>>2]=S,e[t+4592>>2]=1,m[t+4596>>0]=A,m[t+4597>>0]=1,m[t+4598>>0]=0,e[t+4600>>2]=0,b=c}function a1(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0;if(T=b,b=b+16|0,A=T,S=t+92|0,c=e[r>>2]|0,e[r>>2]=0,r=e[S>>2]|0,e[S>>2]=c,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),e[A>>2]=0,e[A+4>>2]=s,S=o+8|0,e[A+8>>2]=e[S>>2],s){r=We(4624)|0,s=t+8|0,a=r+4|0,f=s,c=a+84|0;do e[a>>2]=e[f>>2],a=a+4|0,f=f+4|0;while((a|0)<(c|0));a=r+88|0,c=a+40|0;do e[a>>2]=0,a=a+4|0;while((a|0)<(c|0));e[r>>2]=35828,e[r+128>>2]=e[t+136>>2],e[r+132>>2]=e[t+140>>2],e[r+136>>2]=e[t+144>>2],e[r+140>>2]=e[t+148>>2],e[r+144>>2]=e[t+152>>2],e[r+148>>2]=e[t+156>>2],e[r+152>>2]=e[t+160>>2],a=r+156|0,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[r+172>>2]=e[s>>2],e[r+176>>2]=0,e[r+180>>2]=0,e[r+184>>2]=0,a=r+4568|0,s=r+188|0;do e[s>>2]=0,e[s+4>>2]=0,y[s+8>>1]=0,y[s+10>>1]=1,s=s+12|0;while((s|0)!=(a|0));f=t+4|0,e[a>>2]=0,e[a+4>>2]=0,y[a+8>>1]=0,m[a+10>>0]=0,c=r+4580|0,e[c>>2]=0,e[c+4>>2]=0,y[c+8>>1]=0,m[c+10>>0]=0,c=r+4592|0,e[c>>2]=0,e[c+4>>2]=0,e[c+8>>2]=0,e[c+12>>2]=0,e[c+16>>2]=0,e[c+20>>2]=0,e[c+24>>2]=0,m[c+28>>0]=0,e[r+28>>2]|0||(e[r+20>>2]=1),s=e[f>>2]|0,e[f>>2]=r,s&&(T0[e[(e[s>>2]|0)+4>>2]&255](s),r=e[f>>2]|0),Qt(r,A)}return A=t+100|0,e[A>>2]=32,e[t+96>>2]=0,r=e[o>>2]|0,r?(e[t+132>>2]=r,a=t+120|0,S=t+124|0,s=e[S>>2]|0,r=e[a>>2]|0,f=r,c=s-f|0,c>>>0>=4e3?c>>>0>4e3&&(I=r+4e3|0,(s|0)!=(I|0))&&(e[S>>2]=I,s=I):(Si(a,4e3-c|0),r=e[a>>2]|0,f=r,s=e[S>>2]|0),e[t+108>>2]=f,e[t+104>>2]=s-r,uo(t),I=t+116|0,I=e[I>>2]|0,t=e[A>>2]|0,t=t+-32|0,t=(t|0)/8|0,t=I-t|0,b=T,t|0):(e[t+108>>2]=e[o+4>>2],e[t+104>>2]=e[S>>2],uo(t),I=t+116|0,I=e[I>>2]|0,t=e[A>>2]|0,t=t+-32|0,t=(t|0)/8|0,t=I-t|0,b=T,t|0)}function l1(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0;if(B=b,b=b+352|0,L=B+328|0,M=B+192|0,o=B+343|0,s=B+342|0,a=B+341|0,f=B+340|0,D=B+176|0,S=B+168|0,A=B+160|0,I=B+152|0,q=B,N=B+136|0,e[t+32>>2]|0&&(e[t+24>>2]|0)!=1){if(F=t+8|0,z=t+36|0,c=e[z>>2]|0,!c){if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[o>>0]|0,Re(37,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}if(t=e[t+16>>2]|0,(t|0)==16)switch(c|0){case 1:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[s>>0]|0,Re(38,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[a>>0]|0,Re(39,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[f>>0]|0,Re(40,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=M+56|0,a=M+4|0,e[M>>2]=36160,e[c>>2]=36180,h=0,de(62,M+56|0,a|0),B=h,h=0,B&1&&(R=Q()|0,Ye(c),ne(R|0)),e[M+128>>2]=0,e[M+132>>2]=-1,e[M>>2]=36200,e[M+56>>2]=36220,h=0,oe(180,a|0),B=h,h=0;do if(B&1)t=Q()|0;else{if(e[a>>2]=36236,f=M+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[M+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),B=h,h=0,B&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,M|0,49007,21)|0,L=h,h=0;do if(!(L&1)&&(h=0,T=Ce(36,t|0,e[z>>2]|0)|0,L=h,h=0,!(L&1))&&(h=0,Oe(28,T|0,50997,18)|0,L=h,h=0,!(L&1))){if(s=g0(16)|0,h=0,de(64,D|0,a|0),L=h,h=0,L&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,D|0),L=h,h=0,L&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(D),!o)break;v0(s|0)}else R=34;while(!1);(R|0)==34&&(t=Q()|0),e[M>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}switch((t|0)<=8&&(t=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,t|0,8,35648),R=h,h=0,R&1||V0(t|0,824,96),R=Q()|0,v0(t|0),ne(R|0)),o=16-t|0,c|0){case 1:{if(t=We(60)|0,e[S>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[S>>2],e[L+4>>2]=e[S+4>>2],Re(41,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(60)|0,e[A>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[A>>2],e[L+4>>2]=e[A+4>>2],Re(42,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(60)|0,e[I>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[I>>2],e[L+4>>2]=e[I+4>>2],Re(43,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=q+56|0,a=q+4|0,e[q>>2]=36160,e[c>>2]=36180,h=0,de(62,q+56|0,a|0),M=h,h=0,M&1&&(R=Q()|0,Ye(c),ne(R|0)),e[q+128>>2]=0,e[q+132>>2]=-1,e[q>>2]=36200,e[q+56>>2]=36220,h=0,oe(180,a|0),M=h,h=0;do if(M&1)t=Q()|0;else{if(e[a>>2]=36236,f=q+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[q+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),M=h,h=0,M&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,q|0,49007,21)|0,M=h,h=0;do if(!(M&1)&&(h=0,k=Ce(36,t|0,e[z>>2]|0)|0,M=h,h=0,!(M&1))&&(h=0,Oe(28,k|0,50997,18)|0,M=h,h=0,!(M&1))){if(s=g0(16)|0,h=0,de(64,N|0,a|0),M=h,h=0,M&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,N|0),M=h,h=0,M&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(N),!o)break;v0(s|0)}else R=64;while(!1);(R|0)==64&&(t=Q()|0),e[q>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}}return o=e[r+4>>2]|0,s=We(16)|0,t=e[t+20>>2]|0,o?(e[s>>2]=36108,e[s+4>>2]=o,e[s+8>>2]=6,e[s+12>>2]=t,R=s,b=B,R|0):(R=e[r>>2]|0,e[s>>2]=36132,e[s+4>>2]=R,e[s+8>>2]=6,e[s+12>>2]=t,R=s,b=B,R|0)}function uo(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0;q=b,b=b+32|0,L=q+12|0,z=q,D=t+180|0,F=(e[D>>2]|0)+4|0,(e[t+32>>2]|0)==1?N=e[t+24>>2]|0:N=1,r=J(N<<1,F)|0,e[L>>2]=0,M=L+4|0,e[M>>2]=0,e[L+8>>2]=0;do if(r){if(r>>>0>715827882&&(h=0,oe(178,L|0),B=h,h=0,B&1)||(c=6),(c|0)==6&&(h=0,o=ce(67,r*6|0)|0,B=h,h=0,!(B&1))){for(e[M>>2]=o,e[L>>2]=o,s=o+(r*6|0)|0,e[L+8>>2]=s;y[o>>1]=0,y[o+2>>1]=0,y[o+4>>1]=0,r=r+-1|0,r;)o=o+6|0;e[M>>2]=s;break}s=Q()|0,r=e[L>>2]|0,r||ne(s|0),o=e[M>>2]|0,(o|0)!=(r|0)&&(e[M>>2]=o+(~(((o+-6-r|0)>>>0)/6|0)*6|0)),ue(r),ne(s|0)}while(!1);e[z>>2]=0,B=z+4|0,e[B>>2]=0,e[z+8>>2]=0;do if(!N)c=20;else{if(N>>>0>1073741823&&(h=0,oe(178,z|0),k=h,h=0,k&1)||(c=18),(c|0)==18&&(a=N<<2,h=0,f=ce(67,a|0)|0,k=h,h=0,!(k&1))){e[z>>2]=f,c=f+(N<<2)|0,e[z+8>>2]=c,j0(f|0,0,a|0)|0,e[B>>2]=c,c=20;break}s=Q()|0,r=e[z>>2]|0,o=r,r&&(a=e[B>>2]|0,(a|0)!=(r|0)&&(e[B>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ue(r))}while(!1);if((c|0)==20){a=t+12|0;e:do if((e[a>>2]|0)>0){f=t+4604|0,c=(J(N,F)|0)+1|0,S=t+4608|0,A=t+92|0,I=(N|0)>0,T=t+4600|0,k=0;t:for(;;){if(o=e[L>>2]|0,r=o+6|0,e[f>>2]=r,o=o+(c*6|0)|0,e[S>>2]=o,k&1?(e[f>>2]=o,e[S>>2]=r):r=o,s=e[A>>2]|0,h=0,Re(e[(e[s>>2]|0)+12>>2]|0,s|0,r|0,e[D>>2]|0,F|0),s=h,h=0,s&1){c=30;break}if(I){r=e[z>>2]|0,o=e[f>>2]|0,s=0;do{if(e[T>>2]=e[r+(s<<2)>>2],R=e[D>>2]|0,r=o+(R*6|0)|0,o=o+((R+-1|0)*6|0)|0,y[r>>1]=y[o>>1]|0,y[r+2>>1]=y[o+2>>1]|0,y[r+4>>1]=y[o+4>>1]|0,o=(e[S>>2]|0)+-6|0,r=e[f>>2]|0,y[o>>1]=y[r>>1]|0,y[o+2>>1]=y[r+2>>1]|0,y[o+4>>1]=y[r+4>>1]|0,h=0,de(69,t|0,0),o=h,h=0,o&1){c=29;break t}r=e[z>>2]|0,e[r+(s<<2)>>2]=e[T>>2],o=(e[f>>2]|0)+(F*6|0)|0,e[f>>2]=o,e[S>>2]=(e[S>>2]|0)+(F*6|0),s=s+1|0}while((s|0)<(N|0))}if(k=k+1|0,(k|0)>=(e[a>>2]|0)){c=42;break e}}if((c|0)==29){s=Q()|0;break}else if((c|0)==30){s=Q()|0;break}}else c=42;while(!1);do if((c|0)==42){if(h=0,oe(182,t|0),R=h,h=0,R&1){s=Q()|0;break}if(r=e[z>>2]|0,o=r,r&&(s=e[B>>2]|0,(s|0)!=(r|0)&&(e[B>>2]=s+(~((s+-4-o|0)>>>2)<<2)),ue(r)),r=e[L>>2]|0,!r){b=q;return}o=e[M>>2]|0,(o|0)!=(r|0)&&(e[M>>2]=o+(~(((o+-6-r|0)>>>0)/6|0)*6|0)),ue(r),b=q;return}while(!1);r=e[z>>2]|0,o=r,r&&(a=e[B>>2]|0,(a|0)!=(r|0)&&(e[B>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ue(r))}r=e[L>>2]|0,r||ne(s|0),o=e[M>>2]|0,(o|0)!=(r|0)&&(e[M>>2]=o+(~(((o+-6-r|0)>>>0)/6|0)*6|0)),ue(r),ne(s|0)}function u1(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0;if(re=t+180|0,!((e[re>>2]|0)<=0))for(ee=t+4608|0,se=t+4604|0,Te=t+4612|0,Z=0;M=Z+-1|0,f=e[ee>>2]|0,c=e[se>>2]|0,r=Z+1|0,a=O[c+(Z*6|0)>>1]|0,K=e[Te>>2]|0,S=O[c+(M*6|0)>>1]|0,A=a-S|0,I=O[f+(M*6|0)>>1]|0,T=S-I|0,k=((((m[K+((O[c+(r*6|0)>>1]|0)-a)>>0]|0)*9|0)+(m[K+A>>0]|0)|0)*9|0)+(m[K+T>>0]|0)|0,s=O[c+(Z*6|0)+2>>1]|0,D=O[c+(M*6|0)+2>>1]|0,F=s-D|0,N=O[f+(M*6|0)+2>>1]|0,z=D-N|0,q=((((m[K+((O[c+(r*6|0)+2>>1]|0)-s)>>0]|0)*9|0)+(m[K+F>>0]|0)|0)*9|0)+(m[K+z>>0]|0)|0,o=O[c+(Z*6|0)+4>>1]|0,B=O[c+(M*6|0)+4>>1]|0,L=o-B|0,M=O[f+(M*6|0)+4>>1]|0,R=B-M|0,K=((((m[K+((O[c+(r*6|0)+4>>1]|0)-o)>>0]|0)*9|0)+(m[K+L>>0]|0)|0)*9|0)+(m[K+R>>0]|0)|0,q|k|K?(c=O[f+(Z*6|0)>>1]|0,f=a-I>>31,(f^T|0)>=0&&((f^A|0)<0?a=I:a=I-S+a|0),c=Kr(t,k,c,a,0)|0,f=O[(e[ee>>2]|0)+(Z*6|0)+2>>1]|0,a=s-N>>31,(a^z|0)>=0&&((a^F|0)<0?s=N:s=N-D+s|0),a=Kr(t,q,f,s,0)|0,f=O[(e[ee>>2]|0)+(Z*6|0)+4>>1]|0,s=o-M>>31,(s^R|0)>=0&&((s^L|0)<0?o=M:o=M-B+o|0),R=Kr(t,K,f,o,0)|0,K=e[ee>>2]|0,y[K+(Z*6|0)>>1]=c,y[K+(Z*6|0)+2>>1]=a,y[K+(Z*6|0)+4>>1]=R):r=(f1(t,Z,0)|0)+Z|0,(r|0)<(e[re>>2]|0);)Z=r}function f1(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0;for(re=b,b=b+48|0,F=re+30|0,D=re+24|0,k=re+18|0,N=re+12|0,M=re+6|0,R=re,K=(e[t+180>>2]|0)-r|0,Z=e[t+4608>>2]|0,z=e[t+4604>>2]|0,L=r+-1|0,q=y[Z+(L*6|0)>>1]|0,B=y[Z+(L*6|0)+2>>1]|0,L=y[Z+(L*6|0)+4>>1]|0,o=q&65535,s=t+144|0,a=B&65535,f=L&65535,T=0;A=T+r|0,c=Z+(A*6|0)|0,S=Z+(A*6|0)+2|0,A=Z+(A*6|0)+4|0,ee=(O[c>>1]|0)-o|0,I=e[s>>2]|0,!((((ee|0)>-1?ee:0-ee|0)|0)>(I|0)||(ee=(O[S>>1]|0)-a|0,(((ee|0)>-1?ee:0-ee|0)|0)>(I|0))||(ee=(O[A>>1]|0)-f|0,(((ee|0)>-1?ee:0-ee|0)|0)>(I|0)));)if(y[c>>1]=q,y[S>>1]=B,y[A>>1]=L,T=T+1|0,(T|0)==(K|0)){T=K;break}if(a=(T|0)==(K|0),f=t+4600|0,s=e[36476+(e[f>>2]<<2)>>2]|0,(1<<s|0)>(T|0))o=T;else{o=T;do C0(t,1,1),s=e[f>>2]|0,o=o-(1<<e[36476+(s<<2)>>2])|0,s=(s|0)>30?31:s+1|0,e[f>>2]=s,s=e[36476+(s<<2)>>2]|0;while((o|0)>=(1<<s|0))}return a?o?(C0(t,1,1),ee=K,b=re,ee|0):(ee=K,b=re,ee|0):(C0(t,o,s+1|0),r=T+r|0,ee=Z+(r*6|0)|0,y[M>>1]=y[ee>>1]|0,y[M+2>>1]=y[ee+2>>1]|0,y[M+4>>1]=y[ee+4>>1]|0,y[R>>1]=q,y[R+2>>1]=B,y[R+4>>1]=L,r=z+(r*6|0)|0,y[k>>1]=y[M>>1]|0,y[k+2>>1]=y[M+2>>1]|0,y[k+4>>1]=y[M+4>>1]|0,y[D>>1]=y[R>>1]|0,y[D+2>>1]=y[R+2>>1]|0,y[D+4>>1]=y[R+4>>1]|0,y[F>>1]=y[r>>1]|0,y[F+2>>1]=y[r+2>>1]|0,y[F+4>>1]=y[r+4>>1]|0,c1(N,t,k,D,F),y[ee>>1]=y[N>>1]|0,y[ee+2>>1]=y[N+2>>1]|0,y[ee+4>>1]=y[N+4>>1]|0,ee=e[f>>2]|0,e[f>>2]=(ee|0)<1?0:ee+-1|0,ee=T+1|0,b=re,ee|0)}function Kr(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0;if(z=r>>31,f=(z^r)-z|0,F=t+196+(f*12|0)+10|0,c=y[F>>1]|0,D=t+196+(f*12|0)|0,a=e[D>>2]|0,(c|0)<(a|0))if((c<<1|0)<(a|0))if((c<<2|0)<(a|0))if((c<<3|0)<(a|0))if((c<<4|0)<(a|0))for(r=5;(c<<r|0)<(a|0);)r=r+1|0;else r=4;else r=3;else r=2;else r=1;else r=0;return T=t+196+(f*12|0)+8|0,a=(y[T>>1]^z)-z+s|0,N=t+136|0,s=e[N>>2]|0,(a&s|0)==(a|0)?I=a:I=s&~(a>>31),a=(o-I^z)-z|0,A=t+144|0,s=e[A>>2]|0,(a|0)>0?a=(a+s|0)/(s<<1|1|0)|0:a=(a-s|0)/(s<<1|1|0)|0,k=t+140|0,S=e[k>>2]|0,o=((a|0)<0?S:0)+a|0,S=o-((o|0)<((S+1|0)/2|0|0)?0:S)|0,f=t+196+(f*12|0)+4|0,s|r?a=0:a=(e[f>>2]<<1)+-1+c>>31,s=a^S,fo(t,r,s>>30^s<<1,e[t+156>>2]|0),s=e[t+160>>2]|0,r=(e[D>>2]|0)+((S|0)>-1?S:0-S|0)|0,a=(e[f>>2]|0)+(J(e[A>>2]<<1|1,S)|0)|0,o=y[F>>1]|0,(o|0)==(s|0)&&(r=r>>1,a=a>>1,o=s>>1),e[D>>2]=r,s=o+1|0,y[F>>1]=s,r=s+a|0,(r|0)>=1?(a|0)>0&&(a=a-s|0,F=y[T>>1]|0,y[T>>1]=(F<<16>>16<127&1)+(F&65535),a=(a|0)>0?0:a):(a=y[T>>1]|0,y[T>>1]=(a&65535)-(a<<16>>16>-128&1),a=(r|0)>(~o|0)?r:0-o|0),e[f>>2]=a,s=e[A>>2]|0,o=s<<1|1,r=(J(o,(S^z)-z|0)|0)+I|0,(r|0)>=(0-s|0)?(a=e[N>>2]|0,(a+s|0)<(r|0)&&(r=r-(J(e[k>>2]|0,o)|0)|0)):(r=(J(e[k>>2]|0,o)|0)+r|0,a=e[N>>2]|0),(r&a|0)==(r|0)?(z=r,z=z&65535,z|0):(z=a&~(r>>31),z=z&65535,z|0)}function fo(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0;if(a=o>>r,f=t+148|0,c=s-(e[f>>2]|0)|0,(a|0)<(c+-1|0)){(a|0)>30&&(s=(a|0)/2|0,C0(t,0,s),a=a-s|0),C0(t,1,a+1|0),C0(t,(1<<r)+-1&o,r);return}(c|0)>31?(C0(t,0,31),C0(t,1,s+-31-(e[f>>2]|0)|0)):C0(t,1,c),r=e[f>>2]|0,C0(t,(1<<r)+-1&o+-1,r)}function c1(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0;if(N=r+136|0,k=O[a>>1]|0,D=k-(O[s>>1]|0)>>31|1,f=J(D,(O[o>>1]|0)-k|0)|0,I=r+144|0,c=e[I>>2]|0,(f|0)>0?f=(f+c|0)/(c<<1|1|0)|0:f=(f-c|0)/(c<<1|1|0)|0,M=r+140|0,A=e[M>>2]|0,S=((f|0)<0?A:0)+f|0,A=S-((S|0)<((A+1|0)/2|0|0)?0:A)|0,S=r+4576|0,Xr(r,S,A),q=O[a+2>>1]|0,B=q-(O[s+2>>1]|0)>>31|1,f=J(B,(O[o+2>>1]|0)-q|0)|0,c=e[I>>2]|0,(f|0)>0?f=(f+c|0)/(c<<1|1|0)|0:f=(f-c|0)/(c<<1|1|0)|0,F=e[M>>2]|0,L=((f|0)<0?F:0)+f|0,F=L-((L|0)<((F+1|0)/2|0|0)?0:F)|0,Xr(r,S,F),L=O[a+4>>1]|0,z=L-(O[s+4>>1]|0)>>31|1,f=J(z,(O[o+4>>1]|0)-L|0)|0,c=e[I>>2]|0,(f|0)>0?f=(f+c|0)/(c<<1|1|0)|0:f=(f-c|0)/(c<<1|1|0)|0,T=e[M>>2]|0,f=((f|0)<0?T:0)+f|0,T=f-((f|0)<((T+1|0)/2|0|0)?0:T)|0,Xr(r,S,T),S=e[I>>2]|0,I=S<<1|1,f=(J(J(I,A)|0,D)|0)+k|0,o=0-S|0,(f|0)>=(o|0)?(c=e[N>>2]|0,(c+S|0)<(f|0)&&(f=f-(J(e[M>>2]|0,I)|0)|0),s=c):(f=(J(e[M>>2]|0,I)|0)+f|0,s=e[N>>2]|0),(f&s|0)!=(f|0)&&(f=s&~(f>>31)),a=f&65535,f=(J(J(I,F)|0,B)|0)+q|0,(f|0)>=(o|0)?(s+S|0)<(f|0)&&(f=f-(J(e[M>>2]|0,I)|0)|0):f=(J(e[M>>2]|0,I)|0)+f|0,(f&s|0)!=(f|0)&&(f=s&~(f>>31)),c=f&65535,f=(J(J(I,T)|0,z)|0)+L|0,(f|0)>=(o|0)?(s+S|0)<(f|0)&&(f=f-(J(e[M>>2]|0,I)|0)|0):f=(J(e[M>>2]|0,I)|0)+f|0,(f&s|0)==(f|0)){M=f,M=M&65535,y[t>>1]=a,L=t+2|0,y[L>>1]=c,t=t+4|0,y[t>>1]=M;return}M=s&~(f>>31),M=M&65535,y[t>>1]=a,L=t+2|0,y[L>>1]=c,t=t+4|0,y[t>>1]=M}function Xr(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0;if(T=r+9|0,c=P[T>>0]|0,I=r+4|0,A=e[I>>2]|0,a=(J(c>>>1,A)|0)+(e[r>>2]|0)|0,(c|0)<(a|0)){f=c,s=0;do f=f<<1,s=s+1|0;while((f|0)<(a|0));a=s}else a=0;(o|0)>0&(a|0)==0&&P[r+10>>0]<<1>>>0<c>>>0?s=1:S=5;do if((S|0)==5){if(s=(o|0)<0,s&&P[r+10>>0]<<1>>>0>=c>>>0){s=1;break}s=s&(a|0)!=0}while(!1);if(s=(((o|0)>-1?o:0-o|0)<<1)-A+(s<<31>>31)|0,fo(t,a,s,(e[t+156>>2]|0)+-1-(e[36476+(e[t+4600>>2]<<2)>>2]|0)|0),(o|0)<0&&(t=r+10|0,m[t>>0]=(P[t>>0]|0)+1),s=(s+1-(e[I>>2]|0)>>1)+(e[r>>2]|0)|0,e[r>>2]=s,a=m[T>>0]|0,a<<24>>24!=(m[r+8>>0]|0)){r=a,r=r&255,r=r+1|0,r=r&255,m[T>>0]=r;return}e[r>>2]=s>>1,t=(a&255)>>>1,m[T>>0]=t,r=r+10|0,m[r>>0]=(P[r>>0]|0)>>>1,r=t,r=r&255,r=r+1|0,r=r&255,m[T>>0]=r}function h1(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;D=b,b=b+32|0,s=D,k=t+144|0;e:do if(e[k>>2]|0)r=t+152|0;else if(o=e[t+136>>2]|0,r=t+152|0,(o|0)==((1<<e[r>>2])+-1|0)&&(dt(s,o,0),(e[s+4>>2]|0)==(e[t+184>>2]|0))&&(e[s+8>>2]|0)==(e[t+188>>2]|0)&&(e[s+12>>2]|0)==(e[t+192>>2]|0))switch(e[r>>2]|0){case 8:{k=e[8900]|0,e[t+4612>>2]=k+(((e[8901]|0)-k|0)>>>1),b=D;return}case 10:{k=e[8903]|0,e[t+4612>>2]=k+(((e[8904]|0)-k|0)>>>1),b=D;return}case 12:{k=e[8906]|0,e[t+4612>>2]=k+(((e[8907]|0)-k|0)>>>1),b=D;return}case 16:{k=e[8909]|0,e[t+4612>>2]=k+(((e[8910]|0)-k|0)>>>1),b=D;return}default:break e}while(!1);if(T=1<<e[r>>2],o=t+4616|0,s=T<<1,a=t+4620|0,f=e[a>>2]|0,r=e[o>>2]|0,c=f-r|0,s>>>0<=c>>>0?s>>>0<c>>>0&&(S=r+s|0,(f|0)!=(S|0))&&(e[a>>2]=S):(jt(o,s-c|0),r=e[o>>2]|0),I=t+4612|0,e[I>>2]=r+T,r=0-T|0,(T|0)<=(r|0)){b=D;return}S=t+192|0,A=t+188|0,c=t+184|0,f=r;do r=e[S>>2]|0,(f|0)>(0-r|0)?(o=e[A>>2]|0,(f|0)>(0-o|0)?(s=e[c>>2]|0,(f|0)>(0-s|0)?(a=e[k>>2]|0,(f|0)>=(0-a|0)?(a|0)<(f|0)?(s|0)<=(f|0)?(o|0)>(f|0)?r=2:r=(r|0)>(f|0)?3:4:r=1:r=0:r=-1):r=-2):r=-3):r=-4,m[(e[I>>2]|0)+f>>0]=r,f=f+1|0;while((f|0)!=(T|0));b=D}function d1(t){t=t|0;var r=0,o=0;e[t>>2]=36024,r=e[t+4616>>2]|0,r&&(o=t+4620|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36612,r=e[t+120>>2]|0,r&&(o=t+124|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+92|0,r=e[o>>2]|0,e[o>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),t=t+4|0,r=e[t>>2]|0,e[t>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r)}function p1(t){t=t|0;var r=0,o=0;if(e[t>>2]=36024,r=e[t+4616>>2]|0,r&&(o=t+4620|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36612,r=e[t+120>>2]|0,r&&(o=t+124|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+92|0,r=e[o>>2]|0,e[o>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),o=t+4|0,r=e[o>>2]|0,e[o>>2]=0,!r){ue(t);return}T0[e[(e[r>>2]|0)+4>>2]&255](r),ue(t)}function m1(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0;c=b,b=b+32|0,A=c,dt(A,e[t+136>>2]|0,e[t+144>>2]|0),S=e[r+4>>2]|0,f=e[r+8>>2]|0,f=f|0?f:e[A+8>>2]|0,a=e[r+12>>2]|0,a=a|0?a:e[A+12>>2]|0,o=e[r+16>>2]|0,s=e[A+16>>2]|0,e[t+184>>2]=S|0?S:e[A+4>>2]|0,e[t+188>>2]=f,e[t+192>>2]=a,H1(t),a=t+140|0,r=(e[a>>2]|0)+32|0,r=(r|0)<128?2:(r|0)/64|0,f=0;do e[t+196+(f*12|0)>>2]=r,e[t+196+(f*12|0)+4>>2]=0,y[t+196+(f*12|0)+8>>1]=0,y[t+196+(f*12|0)+10>>1]=1,f=f+1|0;while((f|0)!=365);S=(e[a>>2]|0)+32|0,S=(S|0)<128?2:(S|0)/64|0,A=(o|0?o:s)&255,e[t+4576>>2]=S,e[t+4580>>2]=0,m[t+4584>>0]=A,m[t+4585>>0]=1,m[t+4586>>0]=0,e[t+4588>>2]=S,e[t+4592>>2]=1,m[t+4596>>0]=A,m[t+4597>>0]=1,m[t+4598>>0]=0,e[t+4600>>2]=0,b=c}function g1(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0;if(T=b,b=b+16|0,A=T,S=t+92|0,c=e[r>>2]|0,e[r>>2]=0,r=e[S>>2]|0,e[S>>2]=c,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),e[A>>2]=0,e[A+4>>2]=s,S=o+8|0,e[A+8>>2]=e[S>>2],s){r=We(4624)|0,s=t+8|0,a=r+4|0,f=s,c=a+84|0;do e[a>>2]=e[f>>2],a=a+4|0,f=f+4|0;while((a|0)<(c|0));a=r+88|0,c=a+40|0;do e[a>>2]=0,a=a+4|0;while((a|0)<(c|0));e[r>>2]=35800,e[r+128>>2]=e[t+136>>2],e[r+132>>2]=e[t+140>>2],e[r+136>>2]=e[t+144>>2],e[r+140>>2]=e[t+148>>2],e[r+144>>2]=e[t+152>>2],e[r+148>>2]=e[t+156>>2],e[r+152>>2]=e[t+160>>2],a=r+156|0,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[r+172>>2]=e[s>>2],e[r+176>>2]=0,e[r+180>>2]=0,e[r+184>>2]=0,a=r+4568|0,s=r+188|0;do e[s>>2]=0,e[s+4>>2]=0,y[s+8>>1]=0,y[s+10>>1]=1,s=s+12|0;while((s|0)!=(a|0));f=t+4|0,e[a>>2]=0,e[a+4>>2]=0,y[a+8>>1]=0,m[a+10>>0]=0,c=r+4580|0,e[c>>2]=0,e[c+4>>2]=0,y[c+8>>1]=0,m[c+10>>0]=0,c=r+4592|0,e[c>>2]=0,e[c+4>>2]=0,e[c+8>>2]=0,e[c+12>>2]=0,e[c+16>>2]=0,e[c+20>>2]=0,e[c+24>>2]=0,m[c+28>>0]=0,e[r+28>>2]|0||(e[r+20>>2]=1),s=e[f>>2]|0,e[f>>2]=r,s&&(T0[e[(e[s>>2]|0)+4>>2]&255](s),r=e[f>>2]|0),Qt(r,A)}return A=t+100|0,e[A>>2]=32,e[t+96>>2]=0,r=e[o>>2]|0,r?(e[t+132>>2]=r,a=t+120|0,S=t+124|0,s=e[S>>2]|0,r=e[a>>2]|0,f=r,c=s-f|0,c>>>0>=4e3?c>>>0>4e3&&(I=r+4e3|0,(s|0)!=(I|0))&&(e[S>>2]=I,s=I):(Si(a,4e3-c|0),r=e[a>>2]|0,f=r,s=e[S>>2]|0),e[t+108>>2]=f,e[t+104>>2]=s-r,go(t),I=t+116|0,I=e[I>>2]|0,t=e[A>>2]|0,t=t+-32|0,t=(t|0)/8|0,t=I-t|0,b=T,t|0):(e[t+108>>2]=e[o+4>>2],e[t+104>>2]=e[S>>2],go(t),I=t+116|0,I=e[I>>2]|0,t=e[A>>2]|0,t=t+-32|0,t=(t|0)/8|0,t=I-t|0,b=T,t|0)}function v1(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0;if(B=b,b=b+352|0,L=B+328|0,M=B+192|0,o=B+343|0,s=B+342|0,a=B+341|0,f=B+340|0,D=B+176|0,S=B+168|0,A=B+160|0,I=B+152|0,q=B,N=B+136|0,e[t+32>>2]|0&&(e[t+24>>2]|0)!=1){if(F=t+8|0,z=t+36|0,c=e[z>>2]|0,!c){if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[o>>0]|0,Re(44,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}if(t=e[t+16>>2]|0,(t|0)==8)switch(c|0){case 1:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[s>>0]|0,Re(45,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[a>>0]|0,Re(46,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[f>>0]|0,Re(47,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=M+56|0,a=M+4|0,e[M>>2]=36160,e[c>>2]=36180,h=0,de(62,M+56|0,a|0),B=h,h=0,B&1&&(R=Q()|0,Ye(c),ne(R|0)),e[M+128>>2]=0,e[M+132>>2]=-1,e[M>>2]=36200,e[M+56>>2]=36220,h=0,oe(180,a|0),B=h,h=0;do if(B&1)t=Q()|0;else{if(e[a>>2]=36236,f=M+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[M+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),B=h,h=0,B&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,M|0,49007,21)|0,L=h,h=0;do if(!(L&1)&&(h=0,T=Ce(36,t|0,e[z>>2]|0)|0,L=h,h=0,!(L&1))&&(h=0,Oe(28,T|0,50997,18)|0,L=h,h=0,!(L&1))){if(s=g0(16)|0,h=0,de(64,D|0,a|0),L=h,h=0,L&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,D|0),L=h,h=0,L&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(D),!o)break;v0(s|0)}else R=34;while(!1);(R|0)==34&&(t=Q()|0),e[M>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}switch((t|0)<=8&&(t=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,t|0,8,35648),R=h,h=0,R&1||V0(t|0,824,96),R=Q()|0,v0(t|0),ne(R|0)),o=16-t|0,c|0){case 1:{if(t=We(60)|0,e[S>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[S>>2],e[L+4>>2]=e[S+4>>2],Re(41,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(60)|0,e[A>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[A>>2],e[L+4>>2]=e[A+4>>2],Re(42,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(60)|0,e[I>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[I>>2],e[L+4>>2]=e[I+4>>2],Re(43,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=q+56|0,a=q+4|0,e[q>>2]=36160,e[c>>2]=36180,h=0,de(62,q+56|0,a|0),M=h,h=0,M&1&&(R=Q()|0,Ye(c),ne(R|0)),e[q+128>>2]=0,e[q+132>>2]=-1,e[q>>2]=36200,e[q+56>>2]=36220,h=0,oe(180,a|0),M=h,h=0;do if(M&1)t=Q()|0;else{if(e[a>>2]=36236,f=q+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[q+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),M=h,h=0,M&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,q|0,49007,21)|0,M=h,h=0;do if(!(M&1)&&(h=0,k=Ce(36,t|0,e[z>>2]|0)|0,M=h,h=0,!(M&1))&&(h=0,Oe(28,k|0,50997,18)|0,M=h,h=0,!(M&1))){if(s=g0(16)|0,h=0,de(64,N|0,a|0),M=h,h=0,M&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,N|0),M=h,h=0,M&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(N),!o)break;v0(s|0)}else R=64;while(!1);(R|0)==64&&(t=Q()|0),e[q>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}}return o=e[r+4>>2]|0,s=We(16)|0,t=e[t+20>>2]|0,o?(e[s>>2]=36108,e[s+4>>2]=o,e[s+8>>2]=3,e[s+12>>2]=t,R=s,b=B,R|0):(R=e[r>>2]|0,e[s>>2]=36132,e[s+4>>2]=R,e[s+8>>2]=3,e[s+12>>2]=t,R=s,b=B,R|0)}function S1(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0;e[t>>2]=36712,e[t+4>>2]=o,T=t+8|0,s=e[o>>2]|0,A=o+16|0,c=e[A>>2]|0,f=J(c,s)|0,e[T>>2]=0,k=t+12|0,e[k>>2]=0,e[t+16>>2]=0;do if(!f)f=c;else{if((f|0)<0&&(h=0,oe(178,T|0),c=h,h=0,c&1)||(I=4),(I|0)==4&&(h=0,S=ce(67,f|0)|0,c=h,h=0,!(c&1))){e[k>>2]=S,e[T>>2]=S,e[t+16>>2]=S+f,s=S;do m[s>>0]=0,s=(e[k>>2]|0)+1|0,e[k>>2]=s,f=f+-1|0;while(f|0);f=e[A>>2]|0,s=e[o>>2]|0;break}s=Q()|0,a=e[T>>2]|0,a&&((e[k>>2]|0)!=(a|0)&&(e[k>>2]=a),ue(a)),k=s,ne(k|0)}while(!1);if(c=t+20|0,s=J(f,s)|0,e[c>>2]=0,f=t+24|0,e[f>>2]=0,e[t+28>>2]=0,!s){k=t+36|0,e[k>>2]=e[r>>2],e[k+4>>2]=e[r+4>>2],e[k+8>>2]=e[r+8>>2];return}if((s|0)<0&&(h=0,oe(178,c|0),o=h,h=0,o&1)||(I=15),(I|0)==15&&(h=0,a=ce(67,s|0)|0,I=h,h=0,!(I&1))){e[f>>2]=a,e[c>>2]=a,e[t+28>>2]=a+s;do m[a>>0]=0,a=(e[f>>2]|0)+1|0,e[f>>2]=a,s=s+-1|0;while(s|0);k=t+36|0,e[k>>2]=e[r>>2],e[k+4>>2]=e[r+4>>2],e[k+8>>2]=e[r+8>>2];return}s=Q()|0,a=e[c>>2]|0,a&&((e[f>>2]|0)!=(a|0)&&(e[f>>2]=a),ue(a)),a=e[T>>2]|0,a||(k=s,ne(k|0)),(e[k>>2]|0)!=(a|0)&&(e[k>>2]=a),ue(a),k=s,ne(k|0)}function w1(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0;e[t>>2]=36688,e[t+4>>2]=o,T=t+8|0,s=e[o>>2]|0,A=o+16|0,c=e[A>>2]|0,f=J(c,s)|0,e[T>>2]=0,k=t+12|0,e[k>>2]=0,e[t+16>>2]=0;do if(!f)f=c;else{if((f|0)<0&&(h=0,oe(178,T|0),c=h,h=0,c&1)||(I=4),(I|0)==4&&(h=0,S=ce(67,f|0)|0,c=h,h=0,!(c&1))){e[k>>2]=S,e[T>>2]=S,e[t+16>>2]=S+f,s=S;do m[s>>0]=0,s=(e[k>>2]|0)+1|0,e[k>>2]=s,f=f+-1|0;while(f|0);f=e[A>>2]|0,s=e[o>>2]|0;break}s=Q()|0,a=e[T>>2]|0,a&&((e[k>>2]|0)!=(a|0)&&(e[k>>2]=a),ue(a)),k=s,ne(k|0)}while(!1);if(c=t+20|0,s=J(f,s)|0,e[c>>2]=0,f=t+24|0,e[f>>2]=0,e[t+28>>2]=0,!s){k=t+36|0,e[k>>2]=e[r>>2],e[k+4>>2]=e[r+4>>2],e[k+8>>2]=e[r+8>>2];return}if((s|0)<0&&(h=0,oe(178,c|0),o=h,h=0,o&1)||(I=15),(I|0)==15&&(h=0,a=ce(67,s|0)|0,I=h,h=0,!(I&1))){e[f>>2]=a,e[c>>2]=a,e[t+28>>2]=a+s;do m[a>>0]=0,a=(e[f>>2]|0)+1|0,e[f>>2]=a,s=s+-1|0;while(s|0);k=t+36|0,e[k>>2]=e[r>>2],e[k+4>>2]=e[r+4>>2],e[k+8>>2]=e[r+8>>2];return}s=Q()|0,a=e[c>>2]|0,a&&((e[f>>2]|0)!=(a|0)&&(e[f>>2]=a),ue(a)),a=e[T>>2]|0,a||(k=s,ne(k|0)),(e[k>>2]|0)!=(a|0)&&(e[k>>2]=a),ue(a),k=s,ne(k|0)}function A1(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0;e[t>>2]=36664,e[t+4>>2]=o,T=t+8|0,s=e[o>>2]|0,A=o+16|0,c=e[A>>2]|0,f=J(c,s)|0,e[T>>2]=0,k=t+12|0,e[k>>2]=0,e[t+16>>2]=0;do if(!f)f=c;else{if((f|0)<0&&(h=0,oe(178,T|0),c=h,h=0,c&1)||(I=4),(I|0)==4&&(h=0,S=ce(67,f|0)|0,c=h,h=0,!(c&1))){e[k>>2]=S,e[T>>2]=S,e[t+16>>2]=S+f,s=S;do m[s>>0]=0,s=(e[k>>2]|0)+1|0,e[k>>2]=s,f=f+-1|0;while(f|0);f=e[A>>2]|0,s=e[o>>2]|0;break}s=Q()|0,a=e[T>>2]|0,a&&((e[k>>2]|0)!=(a|0)&&(e[k>>2]=a),ue(a)),k=s,ne(k|0)}while(!1);if(c=t+20|0,s=J(f,s)|0,e[c>>2]=0,f=t+24|0,e[f>>2]=0,e[t+28>>2]=0,!s){k=t+36|0,e[k>>2]=e[r>>2],e[k+4>>2]=e[r+4>>2],e[k+8>>2]=e[r+8>>2];return}if((s|0)<0&&(h=0,oe(178,c|0),o=h,h=0,o&1)||(I=15),(I|0)==15&&(h=0,a=ce(67,s|0)|0,I=h,h=0,!(I&1))){e[f>>2]=a,e[c>>2]=a,e[t+28>>2]=a+s;do m[a>>0]=0,a=(e[f>>2]|0)+1|0,e[f>>2]=a,s=s+-1|0;while(s|0);k=t+36|0,e[k>>2]=e[r>>2],e[k+4>>2]=e[r+4>>2],e[k+8>>2]=e[r+8>>2];return}s=Q()|0,a=e[c>>2]|0,a&&((e[f>>2]|0)!=(a|0)&&(e[f>>2]=a),ue(a)),a=e[T>>2]|0,a||(k=s,ne(k|0)),(e[k>>2]|0)!=(a|0)&&(e[k>>2]=a),ue(a),k=s,ne(k|0)}function y1(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0;e[t>>2]=36640,e[t+4>>2]=o,T=t+8|0,s=e[o>>2]|0,A=o+16|0,c=e[A>>2]|0,f=J(c,s)|0,e[T>>2]=0,k=t+12|0,e[k>>2]=0,e[t+16>>2]=0;do if(!f)f=c;else{if((f|0)<0&&(h=0,oe(178,T|0),c=h,h=0,c&1)||(I=4),(I|0)==4&&(h=0,S=ce(67,f|0)|0,c=h,h=0,!(c&1))){e[k>>2]=S,e[T>>2]=S,e[t+16>>2]=S+f,s=S;do m[s>>0]=0,s=(e[k>>2]|0)+1|0,e[k>>2]=s,f=f+-1|0;while(f|0);f=e[A>>2]|0,s=e[o>>2]|0;break}s=Q()|0,a=e[T>>2]|0,a&&((e[k>>2]|0)!=(a|0)&&(e[k>>2]=a),ue(a)),k=s,ne(k|0)}while(!1);if(c=t+20|0,s=J(f,s)|0,e[c>>2]=0,f=t+24|0,e[f>>2]=0,e[t+28>>2]=0,!s){k=t+36|0,e[k>>2]=e[r>>2],e[k+4>>2]=e[r+4>>2],e[k+8>>2]=e[r+8>>2];return}if((s|0)<0&&(h=0,oe(178,c|0),o=h,h=0,o&1)||(I=15),(I|0)==15&&(h=0,a=ce(67,s|0)|0,I=h,h=0,!(I&1))){e[f>>2]=a,e[c>>2]=a,e[t+28>>2]=a+s;do m[a>>0]=0,a=(e[f>>2]|0)+1|0,e[f>>2]=a,s=s+-1|0;while(s|0);k=t+36|0,e[k>>2]=e[r>>2],e[k+4>>2]=e[r+4>>2],e[k+8>>2]=e[r+8>>2];return}s=Q()|0,a=e[c>>2]|0,a&&((e[f>>2]|0)!=(a|0)&&(e[f>>2]=a),ue(a)),a=e[T>>2]|0,a||(k=s,ne(k|0)),(e[k>>2]|0)!=(a|0)&&(e[k>>2]=a),ue(a),k=s,ne(k|0)}function _1(t){t=t|0;var r=0,o=0;e[t>>2]=36640,r=e[t+20>>2]|0,r&&(o=t+24|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=e[t+8>>2]|0,o&&(r=t+12|0,(e[r>>2]|0)!=(o|0)&&(e[r>>2]=o),ue(o))}function x1(t){t=t|0;var r=0,o=0;if(e[t>>2]=36640,r=e[t+20>>2]|0,r&&(o=t+24|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),r=e[t+8>>2]|0,!r){ue(t);return}o=t+12|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r),ue(t)}function T1(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0;if(a=t+36|0,!(e[a>>2]|0)){a=t+40|0,co(t,r,e[a>>2]|0,o,s),e[a>>2]=(e[a>>2]|0)+(e[(e[t+4>>2]|0)+12>>2]|0);return}f=J(e[(e[t+4>>2]|0)+16>>2]|0,o)|0,c=t+20|0,co(t,r,e[c>>2]|0,o,s),t=e[a>>2]|0,(G0[e[(e[t>>2]|0)+48>>2]&63](t,e[c>>2]|0,f)|0)!=(f|0)&&(a=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,a|0,3,35648),c=h,h=0,c&1?(c=Q()|0,v0(a|0),ne(c|0)):V0(a|0,824,96))}function I1(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0;if(a=e[t+36>>2]|0,a){C1(t,a,r,o,s);return}else{a=t+40|0,Zr(t,e[a>>2]|0,r,o,s),e[a>>2]=(e[a>>2]|0)+(e[(e[t+4>>2]|0)+12>>2]|0);return}}function Zr(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0;if(S=t+4|0,f=e[S>>2]|0,!(m[f+32>>0]|0))S=r;else{if(c=t+8|0,nt(e[c>>2]|0,r|0,s*3|0)|0,f=e[S>>2]|0,r=e[f+16>>2]|0,(s|0)>0){for(f=e[c>>2]|0,t=0;A=f+2|0,I=m[f>>0]|0,m[f>>0]=m[A>>0]|0,m[A>>0]=I,t=t+1|0,(t|0)!=(s|0);)f=f+r|0;f=e[S>>2]|0}S=e[c>>2]|0}switch(e[f+16>>2]|0){case 3:{if((e[f+24>>2]|0)==2){if((s|0)>0)f=0;else return;do c=P[S+(f*3|0)+1>>0]|0,a=128-c+(P[S+(f*3|0)+2>>0]|0)|0,A=(P[S+(f*3|0)>>0]|0)-c+128|0,I=o+(f*3|0)|0,m[I>>0]=c+192+(((a&255)+(A&255)|0)>>>2),m[I+1>>0]=a,m[I+2>>0]=A,f=f+1|0;while((f|0)!=(s|0));return}if(f=(a|0)<(s|0)?a:s,(f|0)<=0)return;t=a<<1,r=0;do s=P[S+(r*3|0)+1>>0]|0,A=128-s+(P[S+(r*3|0)+2>>0]|0)|0,I=(P[S+(r*3|0)>>0]|0)-s+128|0,m[o+r>>0]=s+192+(((A&255)+(I&255)|0)>>>2),m[o+(r+a)>>0]=A,m[o+(r+t)>>0]=I,r=r+1|0;while((r|0)!=(f|0));return}case 4:{if((e[f+24>>2]|0)!=1||(f=(a|0)<(s|0)?a:s,(f|0)<=0))return;t=a<<1,r=a*3|0,c=0;do I=m[S+(c<<2)+3>>0]|0,T=P[S+(c<<2)+1>>0]|0,s=128-T+(P[S+(c<<2)+2>>0]|0)|0,A=(P[S+(c<<2)>>0]|0)-T+128|0,m[o+c>>0]=T+192+(((s&255)+(A&255)|0)>>>2),m[o+(c+a)>>0]=s,m[o+(c+t)>>0]=A,m[o+(c+r)>>0]=I,c=c+1|0;while((c|0)!=(f|0));return}default:return}}function C1(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;if(T=b,b=b+176|0,k=T+152|0,F=T+16|0,D=T,c=J(e[(e[t+4>>2]|0)+16>>2]|0,s)|0,A=t+20|0,f=e[A>>2]|0,!c){F=f,Zr(t,F,o,s,a),b=T;return}for(;S=G0[e[(e[r>>2]|0)+32>>2]&63](r,f,c)|0,!!S;)if(f=e[A>>2]|0,(c|0)==(S|0)){I=26;break}else c=c-S|0;if((I|0)==26){Zr(t,f,o,s,a),b=T;return}o=F+56|0,A=F+4|0,e[F>>2]=36160,e[o>>2]=36180,h=0,de(62,F+56|0,A|0),T=h,h=0,T&1&&(F=Q()|0,Ye(o),ne(F|0)),e[F+128>>2]=0,e[F+132>>2]=-1,e[F>>2]=36200,e[F+56>>2]=36220,h=0,oe(180,A|0),T=h,h=0;do if(T&1)f=Q()|0;else{if(e[A>>2]=36236,r=F+36|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[F+52>>2]=16,e[k>>2]=0,e[k+4>>2]=0,e[k+8>>2]=0,h=0,de(63,A|0,k|0),T=h,h=0,T&1){f=Q()|0,fe(k),fe(r),h0(A);break}fe(k),h=0,f=Oe(28,F|0,49029,57)|0,k=h,h=0,!(k&1)&&(h=0,Ce(36,f|0,0)|0,k=h,h=0,!(k&1))&&(S=g0(16)|0,h=0,de(64,D|0,A|0),k=h,h=0,k&1?f=Q()|0:(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,S|0,3,35648,D|0),k=h,h=0,k&1?c=1:(h=0,me(6,S|0,824,96),h=0,c=0),f=Q()|0,fe(D),c||(D=f,e[F>>2]=36200,e[o>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(o),ne(D|0))),v0(S|0),D=f,e[F>>2]=36200,e[o>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(o),ne(D|0)),D=Q()|0,e[F>>2]=36200,e[o>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(o),ne(D|0)}while(!1);F=f,Ye(o),ne(F|0)}function co(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;A=t+4|0,t=e[A>>2]|0;e:do switch(e[t+16>>2]|0){case 3:{if((e[t+24>>2]|0)==2){if((s|0)>0)t=0;else break e;for(;;)if(c=P[r+(t*3|0)+1>>0]|0,f=P[r+(t*3|0)+2>>0]|0,S=(P[r+(t*3|0)>>0]|0)-((f+c|0)>>>2)+64|0,a=o+(t*3|0)|0,m[a>>0]=f+128+S,m[a+1>>0]=S,m[a+2>>0]=c+128+S,t=t+1|0,(t|0)==(s|0))break e}if(t=(s|0)<(a|0)?s:a,(t|0)>0){f=a<<1,c=0;do T=P[r+(c+a)>>0]|0,k=P[r+(c+f)>>0]|0,I=(P[r+c>>0]|0)-((k+T|0)>>>2)+64|0,S=o+(c*3|0)|0,m[S>>0]=k+128+I,m[S+1>>0]=I,m[S+2>>0]=T+128+I,c=c+1|0;while((c|0)!=(t|0))}break}case 4:{if((e[t+24>>2]|0)==1&&(S=(s|0)<(a|0)?s:a,(S|0)>0)){t=a<<1,f=a*3|0,c=0;do I=P[r+(c+a)>>0]|0,D=P[r+(c+t)>>0]|0,T=(P[r+c>>0]|0)-((D+I|0)>>>2)+64|0,k=o+(c<<2)|0,T=T<<8&65280|P[r+(c+f)>>0]<<24|D+128+T&255|I+128+T<<16&16711680,m[k>>0]=T,m[k+1>>0]=T>>8,m[k+2>>0]=T>>16,m[k+3>>0]=T>>24,c=c+1|0;while((c|0)!=(S|0))}break}default:}while(!1);if(t=e[A>>2]|0,!!(m[t+32>>0]|0)){if(c=e[t+16>>2]|0,(s|0)>0)t=o,f=0;else return;for(;D=t+2|0,k=m[t>>0]|0,m[t>>0]=m[D>>0]|0,m[D>>0]=k,f=f+1|0,(f|0)!=(s|0);)t=t+c|0}}function E1(t){t=t|0;var r=0,o=0;e[t>>2]=36664,r=e[t+20>>2]|0,r&&(o=t+24|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=e[t+8>>2]|0,o&&(r=t+12|0,(e[r>>2]|0)!=(o|0)&&(e[r>>2]=o),ue(o))}function b1(t){t=t|0;var r=0,o=0;if(e[t>>2]=36664,r=e[t+20>>2]|0,r&&(o=t+24|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),r=e[t+8>>2]|0,!r){ue(t);return}o=t+12|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r),ue(t)}function k1(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0;if(a=t+36|0,!(e[a>>2]|0)){a=t+40|0,ho(t,r,e[a>>2]|0,o,s),e[a>>2]=(e[a>>2]|0)+(e[(e[t+4>>2]|0)+12>>2]|0);return}f=J(e[(e[t+4>>2]|0)+16>>2]|0,o)|0,c=t+20|0,ho(t,r,e[c>>2]|0,o,s),t=e[a>>2]|0,(G0[e[(e[t>>2]|0)+48>>2]&63](t,e[c>>2]|0,f)|0)!=(f|0)&&(a=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,a|0,3,35648),c=h,h=0,c&1?(c=Q()|0,v0(a|0),ne(c|0)):V0(a|0,824,96))}function D1(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0;if(a=e[t+36>>2]|0,a){P1(t,a,r,o,s);return}else{a=t+40|0,Jr(t,e[a>>2]|0,r,o,s),e[a>>2]=(e[a>>2]|0)+(e[(e[t+4>>2]|0)+12>>2]|0);return}}function Jr(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0;if(S=t+4|0,f=e[S>>2]|0,!(m[f+32>>0]|0))S=r;else{if(c=t+8|0,nt(e[c>>2]|0,r|0,s*3|0)|0,f=e[S>>2]|0,r=e[f+16>>2]|0,(s|0)>0){for(f=e[c>>2]|0,t=0;A=f+2|0,I=m[f>>0]|0,m[f>>0]=m[A>>0]|0,m[A>>0]=I,t=t+1|0,(t|0)!=(s|0);)f=f+r|0;f=e[S>>2]|0}S=e[c>>2]|0}switch(e[f+16>>2]|0){case 3:{if((e[f+24>>2]|0)==2){if((s|0)>0)f=0;else return;do r=P[S+(f*3|0)>>0]|0,a=m[S+(f*3|0)+1>>0]|0,c=a&255,A=(P[S+(f*3|0)+2>>0]|0)+128-((c+r|0)>>>1)&255,I=o+(f*3|0)|0,m[I>>0]=r+128-c,m[I+1>>0]=a,m[I+2>>0]=A,f=f+1|0;while((f|0)!=(s|0));return}if(f=(a|0)<(s|0)?a:s,(f|0)<=0)return;t=a<<1,r=0;do A=m[S+(r*3|0)+1>>0]|0,c=P[S+(r*3|0)>>0]|0,s=A&255,I=(P[S+(r*3|0)+2>>0]|0)+128-((s+c|0)>>>1)&255,m[o+r>>0]=c+128-s,m[o+(r+a)>>0]=A,m[o+(r+t)>>0]=I,r=r+1|0;while((r|0)!=(f|0));return}case 4:{if((e[f+24>>2]|0)!=1||(f=(a|0)<(s|0)?a:s,(f|0)<=0))return;t=a<<1,r=a*3|0,c=0;do s=m[S+(c<<2)+1>>0]|0,I=m[S+(c<<2)+3>>0]|0,k=P[S+(c<<2)>>0]|0,T=s&255,A=(P[S+(c<<2)+2>>0]|0)+128-((T+k|0)>>>1)&255,m[o+c>>0]=k+128-T,m[o+(c+a)>>0]=s,m[o+(c+t)>>0]=A,m[o+(c+r)>>0]=I,c=c+1|0;while((c|0)!=(f|0));return}default:return}}function P1(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;if(T=b,b=b+176|0,k=T+152|0,F=T+16|0,D=T,c=J(e[(e[t+4>>2]|0)+16>>2]|0,s)|0,A=t+20|0,f=e[A>>2]|0,!c){F=f,Jr(t,F,o,s,a),b=T;return}for(;S=G0[e[(e[r>>2]|0)+32>>2]&63](r,f,c)|0,!!S;)if(f=e[A>>2]|0,(c|0)==(S|0)){I=26;break}else c=c-S|0;if((I|0)==26){Jr(t,f,o,s,a),b=T;return}o=F+56|0,A=F+4|0,e[F>>2]=36160,e[o>>2]=36180,h=0,de(62,F+56|0,A|0),T=h,h=0,T&1&&(F=Q()|0,Ye(o),ne(F|0)),e[F+128>>2]=0,e[F+132>>2]=-1,e[F>>2]=36200,e[F+56>>2]=36220,h=0,oe(180,A|0),T=h,h=0;do if(T&1)f=Q()|0;else{if(e[A>>2]=36236,r=F+36|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[F+52>>2]=16,e[k>>2]=0,e[k+4>>2]=0,e[k+8>>2]=0,h=0,de(63,A|0,k|0),T=h,h=0,T&1){f=Q()|0,fe(k),fe(r),h0(A);break}fe(k),h=0,f=Oe(28,F|0,49029,57)|0,k=h,h=0,!(k&1)&&(h=0,Ce(36,f|0,0)|0,k=h,h=0,!(k&1))&&(S=g0(16)|0,h=0,de(64,D|0,A|0),k=h,h=0,k&1?f=Q()|0:(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,S|0,3,35648,D|0),k=h,h=0,k&1?c=1:(h=0,me(6,S|0,824,96),h=0,c=0),f=Q()|0,fe(D),c||(D=f,e[F>>2]=36200,e[o>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(o),ne(D|0))),v0(S|0),D=f,e[F>>2]=36200,e[o>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(o),ne(D|0)),D=Q()|0,e[F>>2]=36200,e[o>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(o),ne(D|0)}while(!1);F=f,Ye(o),ne(F|0)}function ho(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0;A=t+4|0,t=e[A>>2]|0;e:do switch(e[t+16>>2]|0){case 3:{if((e[t+24>>2]|0)==2){if((s|0)>0)t=0;else break e;for(;;)if(c=m[r+(t*3|0)+1>>0]|0,S=c&255,f=(P[r+(t*3|0)>>0]|0)+128+S|0,S=(P[r+(t*3|0)+2>>0]|0)+128+(((f&255)+S|0)>>>1)&255,a=o+(t*3|0)|0,m[a>>0]=f,m[a+1>>0]=c,m[a+2>>0]=S,t=t+1|0,(t|0)==(s|0))break e}if(t=(s|0)<(a|0)?s:a,(t|0)>0){f=a<<1,c=0;do T=m[r+(c+a)>>0]|0,I=T&255,k=(P[r+c>>0]|0)+128+I|0,I=(P[r+(c+f)>>0]|0)+128+(((k&255)+I|0)>>>1)&255,S=o+(c*3|0)|0,m[S>>0]=k,m[S+1>>0]=T,m[S+2>>0]=I,c=c+1|0;while((c|0)!=(t|0))}break}case 4:{if((e[t+24>>2]|0)==1&&(S=(s|0)<(a|0)?s:a,(S|0)>0)){t=a<<1,f=a*3|0,c=0;do T=P[r+(c+a)>>0]|0,I=(P[r+c>>0]|0)+128+T&255,k=o+(c<<2)|0,T=I|T<<8|P[r+(c+f)>>0]<<24|(P[r+(c+t)>>0]|0)+128+((I+T|0)>>>1)<<16&16711680,m[k>>0]=T,m[k+1>>0]=T>>8,m[k+2>>0]=T>>16,m[k+3>>0]=T>>24,c=c+1|0;while((c|0)!=(S|0))}break}default:}while(!1);if(t=e[A>>2]|0,!!(m[t+32>>0]|0)){if(c=e[t+16>>2]|0,(s|0)>0)t=o,f=0;else return;for(;k=t+2|0,T=m[t>>0]|0,m[t>>0]=m[k>>0]|0,m[k>>0]=T,f=f+1|0,(f|0)!=(s|0);)t=t+c|0}}function F1(t){t=t|0;var r=0,o=0;e[t>>2]=36688,r=e[t+20>>2]|0,r&&(o=t+24|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=e[t+8>>2]|0,o&&(r=t+12|0,(e[r>>2]|0)!=(o|0)&&(e[r>>2]=o),ue(o))}function M1(t){t=t|0;var r=0,o=0;if(e[t>>2]=36688,r=e[t+20>>2]|0,r&&(o=t+24|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),r=e[t+8>>2]|0,!r){ue(t);return}o=t+12|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r),ue(t)}function R1(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0;if(a=t+36|0,!(e[a>>2]|0)){a=t+40|0,po(t,r,e[a>>2]|0,o,s),e[a>>2]=(e[a>>2]|0)+(e[(e[t+4>>2]|0)+12>>2]|0);return}f=J(e[(e[t+4>>2]|0)+16>>2]|0,o)|0,c=t+20|0,po(t,r,e[c>>2]|0,o,s),t=e[a>>2]|0,(G0[e[(e[t>>2]|0)+48>>2]&63](t,e[c>>2]|0,f)|0)!=(f|0)&&(a=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,a|0,3,35648),c=h,h=0,c&1?(c=Q()|0,v0(a|0),ne(c|0)):V0(a|0,824,96))}function O1(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0;if(a=e[t+36>>2]|0,a){L1(t,a,r,o,s);return}else{a=t+40|0,en(t,e[a>>2]|0,r,o,s),e[a>>2]=(e[a>>2]|0)+(e[(e[t+4>>2]|0)+12>>2]|0);return}}function en(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0;if(S=t+4|0,f=e[S>>2]|0,!(m[f+32>>0]|0))S=r;else{if(c=t+8|0,nt(e[c>>2]|0,r|0,s*3|0)|0,f=e[S>>2]|0,r=e[f+16>>2]|0,(s|0)>0){for(f=e[c>>2]|0,t=0;A=f+2|0,I=m[f>>0]|0,m[f>>0]=m[A>>0]|0,m[A>>0]=I,t=t+1|0,(t|0)!=(s|0);)f=f+r|0;f=e[S>>2]|0}S=e[c>>2]|0}switch(e[f+16>>2]|0){case 3:{if((e[f+24>>2]|0)==2){if((s|0)>0)f=0;else return;do a=m[S+(f*3|0)+1>>0]|0,c=a&255,A=128-c+(P[S+(f*3|0)+2>>0]|0)&255,I=o+(f*3|0)|0,m[I>>0]=(P[S+(f*3|0)>>0]|0)+128-c,m[I+1>>0]=a,m[I+2>>0]=A,f=f+1|0;while((f|0)!=(s|0));return}if(f=(a|0)<(s|0)?a:s,(f|0)<=0)return;t=a<<1,r=0;do A=m[S+(r*3|0)+1>>0]|0,s=A&255,I=128-s+(P[S+(r*3|0)+2>>0]|0)&255,m[o+r>>0]=(P[S+(r*3|0)>>0]|0)+128-s,m[o+(r+a)>>0]=A,m[o+(r+t)>>0]=I,r=r+1|0;while((r|0)!=(f|0));return}case 4:{if((e[f+24>>2]|0)!=1||(f=(a|0)<(s|0)?a:s,(f|0)<=0))return;t=a<<1,r=a*3|0,c=0;do s=m[S+(c<<2)+1>>0]|0,I=m[S+(c<<2)+3>>0]|0,T=s&255,A=128-T+(P[S+(c<<2)+2>>0]|0)&255,m[o+c>>0]=(P[S+(c<<2)>>0]|0)+128-T,m[o+(c+a)>>0]=s,m[o+(c+t)>>0]=A,m[o+(c+r)>>0]=I,c=c+1|0;while((c|0)!=(f|0));return}default:return}}function L1(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;if(T=b,b=b+176|0,k=T+152|0,F=T+16|0,D=T,c=J(e[(e[t+4>>2]|0)+16>>2]|0,s)|0,A=t+20|0,f=e[A>>2]|0,!c){F=f,en(t,F,o,s,a),b=T;return}for(;S=G0[e[(e[r>>2]|0)+32>>2]&63](r,f,c)|0,!!S;)if(f=e[A>>2]|0,(c|0)==(S|0)){I=26;break}else c=c-S|0;if((I|0)==26){en(t,f,o,s,a),b=T;return}o=F+56|0,A=F+4|0,e[F>>2]=36160,e[o>>2]=36180,h=0,de(62,F+56|0,A|0),T=h,h=0,T&1&&(F=Q()|0,Ye(o),ne(F|0)),e[F+128>>2]=0,e[F+132>>2]=-1,e[F>>2]=36200,e[F+56>>2]=36220,h=0,oe(180,A|0),T=h,h=0;do if(T&1)f=Q()|0;else{if(e[A>>2]=36236,r=F+36|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[F+52>>2]=16,e[k>>2]=0,e[k+4>>2]=0,e[k+8>>2]=0,h=0,de(63,A|0,k|0),T=h,h=0,T&1){f=Q()|0,fe(k),fe(r),h0(A);break}fe(k),h=0,f=Oe(28,F|0,49029,57)|0,k=h,h=0,!(k&1)&&(h=0,Ce(36,f|0,0)|0,k=h,h=0,!(k&1))&&(S=g0(16)|0,h=0,de(64,D|0,A|0),k=h,h=0,k&1?f=Q()|0:(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,S|0,3,35648,D|0),k=h,h=0,k&1?c=1:(h=0,me(6,S|0,824,96),h=0,c=0),f=Q()|0,fe(D),c||(D=f,e[F>>2]=36200,e[o>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(o),ne(D|0))),v0(S|0),D=f,e[F>>2]=36200,e[o>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(o),ne(D|0)),D=Q()|0,e[F>>2]=36200,e[o>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(o),ne(D|0)}while(!1);F=f,Ye(o),ne(F|0)}function po(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0;A=t+4|0,t=e[A>>2]|0;e:do switch(e[t+16>>2]|0){case 3:{if((e[t+24>>2]|0)==2){if((s|0)>0)t=0;else break e;for(;;)if(c=m[r+(t*3|0)+1>>0]|0,f=c&255,S=f+128+(P[r+(t*3|0)+2>>0]|0)&255,a=o+(t*3|0)|0,m[a>>0]=(P[r+(t*3|0)>>0]|0)+128+f,m[a+1>>0]=c,m[a+2>>0]=S,t=t+1|0,(t|0)==(s|0))break e}if(t=(s|0)<(a|0)?s:a,(t|0)>0){f=a<<1,c=0;do T=m[r+(c+a)>>0]|0,k=T&255,I=k+128+(P[r+(c+f)>>0]|0)&255,S=o+(c*3|0)|0,m[S>>0]=(P[r+c>>0]|0)+128+k,m[S+1>>0]=T,m[S+2>>0]=I,c=c+1|0;while((c|0)!=(t|0))}break}case 4:{if((e[t+24>>2]|0)==1&&(S=(s|0)<(a|0)?s:a,(S|0)>0)){t=a<<1,f=a*3|0,c=0;do T=P[r+(c+a)>>0]|0,k=o+(c<<2)|0,T=(P[r+c>>0]|0)+128+T&255|T<<8|P[r+(c+f)>>0]<<24|T+128+(P[r+(c+t)>>0]|0)<<16&16711680,m[k>>0]=T,m[k+1>>0]=T>>8,m[k+2>>0]=T>>16,m[k+3>>0]=T>>24,c=c+1|0;while((c|0)!=(S|0))}break}default:}while(!1);if(t=e[A>>2]|0,!!(m[t+32>>0]|0)){if(c=e[t+16>>2]|0,(s|0)>0)t=o,f=0;else return;for(;k=t+2|0,T=m[t>>0]|0,m[t>>0]=m[k>>0]|0,m[k>>0]=T,f=f+1|0,(f|0)!=(s|0);)t=t+c|0}}function N1(t){t=t|0;var r=0,o=0;e[t>>2]=36712,r=e[t+20>>2]|0,r&&(o=t+24|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=e[t+8>>2]|0,o&&(r=t+12|0,(e[r>>2]|0)!=(o|0)&&(e[r>>2]=o),ue(o))}function B1(t){t=t|0;var r=0,o=0;if(e[t>>2]=36712,r=e[t+20>>2]|0,r&&(o=t+24|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),r=e[t+8>>2]|0,!r){ue(t);return}o=t+12|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r),ue(t)}function U1(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0;if(a=t+36|0,!(e[a>>2]|0)){a=t+40|0,mo(t,r,e[a>>2]|0,o,s),e[a>>2]=(e[a>>2]|0)+(e[(e[t+4>>2]|0)+12>>2]|0);return}f=J(e[(e[t+4>>2]|0)+16>>2]|0,o)|0,c=t+20|0,mo(t,r,e[c>>2]|0,o,s),t=e[a>>2]|0,(G0[e[(e[t>>2]|0)+48>>2]&63](t,e[c>>2]|0,f)|0)!=(f|0)&&(a=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,a|0,3,35648),c=h,h=0,c&1?(c=Q()|0,v0(a|0),ne(c|0)):V0(a|0,824,96))}function V1(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0;if(a=e[t+36>>2]|0,a){z1(t,a,r,o,s);return}else{a=t+40|0,tn(t,e[a>>2]|0,r,o,s),e[a>>2]=(e[a>>2]|0)+(e[(e[t+4>>2]|0)+12>>2]|0);return}}function tn(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0;if(S=t+4|0,f=e[S>>2]|0,!(m[f+32>>0]|0))S=r;else{if(c=t+8|0,nt(e[c>>2]|0,r|0,s*3|0)|0,f=e[S>>2]|0,r=e[f+16>>2]|0,(s|0)>0){for(f=e[c>>2]|0,t=0;A=f+2|0,I=m[f>>0]|0,m[f>>0]=m[A>>0]|0,m[A>>0]=I,t=t+1|0,(t|0)!=(s|0);)f=f+r|0;f=e[S>>2]|0}S=e[c>>2]|0}switch(e[f+16>>2]|0){case 3:{if((e[f+24>>2]|0)==2){if((s|0)>0)f=0;else return;do a=m[S+(f*3|0)+1>>0]|0,A=m[S+(f*3|0)+2>>0]|0,I=o+(f*3|0)|0,m[I>>0]=m[S+(f*3|0)>>0]|0,m[I+1>>0]=a,m[I+2>>0]=A,f=f+1|0;while((f|0)!=(s|0));return}if(f=(a|0)<(s|0)?a:s,(f|0)<=0)return;t=a<<1,r=0;do A=m[S+(r*3|0)+1>>0]|0,I=m[S+(r*3|0)+2>>0]|0,m[o+r>>0]=m[S+(r*3|0)>>0]|0,m[o+(r+a)>>0]=A,m[o+(r+t)>>0]=I,r=r+1|0;while((r|0)!=(f|0));return}case 4:{if((e[f+24>>2]|0)!=1||(f=(a|0)<(s|0)?a:s,(f|0)<=0))return;t=a<<1,r=a*3|0,c=0;do s=m[S+(c<<2)+1>>0]|0,A=m[S+(c<<2)+2>>0]|0,I=m[S+(c<<2)+3>>0]|0,m[o+c>>0]=m[S+(c<<2)>>0]|0,m[o+(c+a)>>0]=s,m[o+(c+t)>>0]=A,m[o+(c+r)>>0]=I,c=c+1|0;while((c|0)!=(f|0));return}default:return}}function z1(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;if(T=b,b=b+176|0,k=T+152|0,F=T+16|0,D=T,c=J(e[(e[t+4>>2]|0)+16>>2]|0,s)|0,A=t+20|0,f=e[A>>2]|0,!c){F=f,tn(t,F,o,s,a),b=T;return}for(;S=G0[e[(e[r>>2]|0)+32>>2]&63](r,f,c)|0,!!S;)if(f=e[A>>2]|0,(c|0)==(S|0)){I=26;break}else c=c-S|0;if((I|0)==26){tn(t,f,o,s,a),b=T;return}o=F+56|0,A=F+4|0,e[F>>2]=36160,e[o>>2]=36180,h=0,de(62,F+56|0,A|0),T=h,h=0,T&1&&(F=Q()|0,Ye(o),ne(F|0)),e[F+128>>2]=0,e[F+132>>2]=-1,e[F>>2]=36200,e[F+56>>2]=36220,h=0,oe(180,A|0),T=h,h=0;do if(T&1)f=Q()|0;else{if(e[A>>2]=36236,r=F+36|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[F+52>>2]=16,e[k>>2]=0,e[k+4>>2]=0,e[k+8>>2]=0,h=0,de(63,A|0,k|0),T=h,h=0,T&1){f=Q()|0,fe(k),fe(r),h0(A);break}fe(k),h=0,f=Oe(28,F|0,49029,57)|0,k=h,h=0,!(k&1)&&(h=0,Ce(36,f|0,0)|0,k=h,h=0,!(k&1))&&(S=g0(16)|0,h=0,de(64,D|0,A|0),k=h,h=0,k&1?f=Q()|0:(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,S|0,3,35648,D|0),k=h,h=0,k&1?c=1:(h=0,me(6,S|0,824,96),h=0,c=0),f=Q()|0,fe(D),c||(D=f,e[F>>2]=36200,e[o>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(o),ne(D|0))),v0(S|0),D=f,e[F>>2]=36200,e[o>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(o),ne(D|0)),D=Q()|0,e[F>>2]=36200,e[o>>2]=36220,e[A>>2]=36236,fe(r),h0(A),Ye(o),ne(D|0)}while(!1);F=f,Ye(o),ne(F|0)}function mo(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0;A=t+4|0,t=e[A>>2]|0;e:do switch(e[t+16>>2]|0){case 3:{if((e[t+24>>2]|0)==2){if((s|0)>0)t=0;else break e;for(;;)if(c=m[r+(t*3|0)+1>>0]|0,S=m[r+(t*3|0)+2>>0]|0,a=o+(t*3|0)|0,m[a>>0]=m[r+(t*3|0)>>0]|0,m[a+1>>0]=c,m[a+2>>0]=S,t=t+1|0,(t|0)==(s|0))break e}if(t=(s|0)<(a|0)?s:a,(t|0)>0){f=a<<1,c=0;do T=m[r+(c+a)>>0]|0,I=m[r+(c+f)>>0]|0,S=o+(c*3|0)|0,m[S>>0]=m[r+c>>0]|0,m[S+1>>0]=T,m[S+2>>0]=I,c=c+1|0;while((c|0)!=(t|0))}break}case 4:{if((e[t+24>>2]|0)==1&&(S=(s|0)<(a|0)?s:a,(S|0)>0)){t=a<<1,f=a*3|0,c=0;do T=o+(c<<2)|0,I=P[r+(c+a)>>0]<<8|P[r+c>>0]|P[r+(c+t)>>0]<<16|P[r+(c+f)>>0]<<24,m[T>>0]=I,m[T+1>>0]=I>>8,m[T+2>>0]=I>>16,m[T+3>>0]=I>>24,c=c+1|0;while((c|0)!=(S|0))}break}default:}while(!1);if(t=e[A>>2]|0,!!(m[t+32>>0]|0)){if(c=e[t+16>>2]|0,(s|0)>0)t=o,f=0;else return;for(;T=t+2|0,I=m[t>>0]|0,m[t>>0]=m[T>>0]|0,m[T>>0]=I,f=f+1|0,(f|0)!=(s|0);)t=t+c|0}}function go(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0;q=b,b=b+32|0,L=q+12|0,z=q,D=t+180|0,F=(e[D>>2]|0)+4|0,(e[t+32>>2]|0)==1?N=e[t+24>>2]|0:N=1,r=J(N<<1,F)|0,e[L>>2]=0,M=L+4|0,e[M>>2]=0,e[L+8>>2]=0;e:do if(r){if(r>>>0>1431655765&&(h=0,oe(178,L|0),B=h,h=0,B&1)||(f=6),(f|0)==6&&(h=0,o=ce(67,r*3|0)|0,B=h,h=0,!(B&1))){for(e[M>>2]=o,e[L>>2]=o,e[L+8>>2]=o+(r*3|0);;)if(m[o>>0]=0,m[o+1>>0]=0,m[o+2>>0]=0,o=(e[M>>2]|0)+3|0,e[M>>2]=o,r=r+-1|0,!r)break e}s=Q()|0,r=e[L>>2]|0,r||ne(s|0),o=e[M>>2]|0,(o|0)!=(r|0)&&(e[M>>2]=o+(~(((o+-3-r|0)>>>0)/3|0)*3|0)),ue(r),ne(s|0)}while(!1);e[z>>2]=0,B=z+4|0,e[B>>2]=0,e[z+8>>2]=0;do if(!N)f=19;else{if(N>>>0>1073741823&&(h=0,oe(178,z|0),k=h,h=0,k&1)||(f=17),(f|0)==17&&(s=N<<2,h=0,a=ce(67,s|0)|0,k=h,h=0,!(k&1))){e[z>>2]=a,f=a+(N<<2)|0,e[z+8>>2]=f,j0(a|0,0,s|0)|0,e[B>>2]=f,f=19;break}s=Q()|0,r=e[z>>2]|0,o=r,r&&(a=e[B>>2]|0,(a|0)!=(r|0)&&(e[B>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ue(r))}while(!1);if((f|0)==19){a=t+12|0;e:do if((e[a>>2]|0)>0){f=t+4604|0,c=(J(N,F)|0)+1|0,S=t+4608|0,A=t+92|0,I=(N|0)>0,T=t+4600|0,k=0;t:for(;;){if(s=e[L>>2]|0,r=s+3|0,e[f>>2]=r,o=s+(c*3|0)|0,e[S>>2]=o,k&1?(e[f>>2]=o,e[S>>2]=r,r=1):r=c,o=e[A>>2]|0,h=0,Re(e[(e[o>>2]|0)+12>>2]|0,o|0,s+(r*3|0)|0,e[D>>2]|0,F|0),s=h,h=0,s&1){f=29;break}if(I){r=e[z>>2]|0,o=e[f>>2]|0,s=0;do{if(e[T>>2]=e[r+(s<<2)>>2],R=e[D>>2]|0,r=o+(R*3|0)|0,o=o+((R+-1|0)*3|0)|0,m[r>>0]=m[o>>0]|0,m[r+1>>0]=m[o+1>>0]|0,m[r+2>>0]=m[o+2>>0]|0,r=e[f>>2]|0,o=(e[S>>2]|0)+-3|0,m[o>>0]=m[r>>0]|0,m[o+1>>0]=m[r+1>>0]|0,m[o+2>>0]=m[r+2>>0]|0,h=0,de(70,t|0,0),o=h,h=0,o&1){f=28;break t}r=e[z>>2]|0,e[r+(s<<2)>>2]=e[T>>2],o=(e[f>>2]|0)+(F*3|0)|0,e[f>>2]=o,e[S>>2]=(e[S>>2]|0)+(F*3|0),s=s+1|0}while((s|0)<(N|0))}if(k=k+1|0,(k|0)>=(e[a>>2]|0)){f=41;break e}}if((f|0)==28){s=Q()|0;break}else if((f|0)==29){s=Q()|0;break}}else f=41;while(!1);do if((f|0)==41){if(h=0,oe(182,t|0),R=h,h=0,R&1){s=Q()|0;break}if(r=e[z>>2]|0,o=r,r&&(s=e[B>>2]|0,(s|0)!=(r|0)&&(e[B>>2]=s+(~((s+-4-o|0)>>>2)<<2)),ue(r)),r=e[L>>2]|0,!r){b=q;return}o=e[M>>2]|0,(o|0)!=(r|0)&&(e[M>>2]=o+(~(((o+-3-r|0)>>>0)/3|0)*3|0)),ue(r),b=q;return}while(!1);r=e[z>>2]|0,o=r,r&&(a=e[B>>2]|0,(a|0)!=(r|0)&&(e[B>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ue(r))}r=e[L>>2]|0,r||ne(s|0),o=e[M>>2]|0,(o|0)!=(r|0)&&(e[M>>2]=o+(~(((o+-3-r|0)>>>0)/3|0)*3|0)),ue(r),ne(s|0)}function q1(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0;if(re=t+180|0,!((e[re>>2]|0)<=0))for(ee=t+4608|0,se=t+4604|0,Te=t+4612|0,Z=0;M=Z+-1|0,f=e[ee>>2]|0,c=e[se>>2]|0,r=Z+1|0,a=P[c+(Z*3|0)>>0]|0,K=e[Te>>2]|0,S=P[c+(M*3|0)>>0]|0,A=a-S|0,I=P[f+(M*3|0)>>0]|0,T=S-I|0,k=((((m[K+((P[c+(r*3|0)>>0]|0)-a)>>0]|0)*9|0)+(m[K+A>>0]|0)|0)*9|0)+(m[K+T>>0]|0)|0,s=P[c+(Z*3|0)+1>>0]|0,D=P[c+(M*3|0)+1>>0]|0,F=s-D|0,N=P[f+(M*3|0)+1>>0]|0,z=D-N|0,q=((((m[K+((P[c+(r*3|0)+1>>0]|0)-s)>>0]|0)*9|0)+(m[K+F>>0]|0)|0)*9|0)+(m[K+z>>0]|0)|0,o=P[c+(Z*3|0)+2>>0]|0,B=P[c+(M*3|0)+2>>0]|0,L=o-B|0,M=P[f+(M*3|0)+2>>0]|0,R=B-M|0,K=((((m[K+((P[c+(r*3|0)+2>>0]|0)-o)>>0]|0)*9|0)+(m[K+L>>0]|0)|0)*9|0)+(m[K+R>>0]|0)|0,q|k|K?(c=P[f+(Z*3|0)>>0]|0,f=a-I>>31,(f^T|0)>=0&&((f^A|0)<0?a=I:a=I-S+a|0),c=rn(t,k,c,a,0)|0,f=P[(e[ee>>2]|0)+(Z*3|0)+1>>0]|0,a=s-N>>31,(a^z|0)>=0&&((a^F|0)<0?s=N:s=N-D+s|0),a=rn(t,q,f,s,0)|0,f=P[(e[ee>>2]|0)+(Z*3|0)+2>>0]|0,s=o-M>>31,(s^R|0)>=0&&((s^L|0)<0?o=M:o=M-B+o|0),K=rn(t,K,f,o,0)|0,Z=(e[ee>>2]|0)+(Z*3|0)|0,m[Z>>0]=c,m[Z+1>>0]=a,m[Z+2>>0]=K):r=(G1(t,Z,0)|0)+Z|0,(r|0)<(e[re>>2]|0);)Z=r}function G1(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0;for(re=b,b=b+32|0,Z=re+15|0,D=re+12|0,k=re+9|0,F=re+6|0,L=re+3|0,M=re,R=(e[t+180>>2]|0)-r|0,K=e[t+4608>>2]|0,N=e[t+4604>>2]|0,B=K+((r+-1|0)*3|0)|0,z=m[B>>0]|0,q=m[B+1>>0]|0,B=m[B+2>>0]|0,o=z&255,s=t+144|0,a=q&255,f=B&255,T=0;c=K+((T+r|0)*3|0)|0,S=c+1|0,A=c+2|0,ee=(P[c>>0]|0)-o|0,I=e[s>>2]|0,!((((ee|0)>-1?ee:0-ee|0)|0)>(I|0)||(ee=(P[S>>0]|0)-a|0,(((ee|0)>-1?ee:0-ee|0)|0)>(I|0))||(ee=(P[A>>0]|0)-f|0,(((ee|0)>-1?ee:0-ee|0)|0)>(I|0)));)if(m[c>>0]=z,m[S>>0]=q,m[A>>0]=B,T=T+1|0,(T|0)==(R|0)){T=R;break}if(a=(T|0)==(R|0),f=t+4600|0,s=e[36476+(e[f>>2]<<2)>>2]|0,(1<<s|0)>(T|0))o=T;else{o=T;do C0(t,1,1),s=e[f>>2]|0,o=o-(1<<e[36476+(s<<2)>>2])|0,s=(s|0)>30?31:s+1|0,e[f>>2]=s,s=e[36476+(s<<2)>>2]|0;while((o|0)>=(1<<s|0))}return a?o?(C0(t,1,1),ee=R,b=re,ee|0):(ee=R,b=re,ee|0):(C0(t,o,s+1|0),r=T+r|0,ee=K+(r*3|0)|0,m[L>>0]=m[ee>>0]|0,m[L+1>>0]=m[ee+1>>0]|0,m[L+2>>0]=m[ee+2>>0]|0,m[M>>0]=z,m[M+1>>0]=q,m[M+2>>0]=B,r=N+(r*3|0)|0,m[k>>0]=m[L>>0]|0,m[k+1>>0]=m[L+1>>0]|0,m[k+2>>0]=m[L+2>>0]|0,m[D>>0]=m[M>>0]|0,m[D+1>>0]=m[M+1>>0]|0,m[D+2>>0]=m[M+2>>0]|0,m[Z>>0]=m[r>>0]|0,m[Z+1>>0]=m[r+1>>0]|0,m[Z+2>>0]=m[r+2>>0]|0,$1(F,t,k,D,Z),m[ee>>0]=m[F>>0]|0,m[ee+1>>0]=m[F+1>>0]|0,m[ee+2>>0]=m[F+2>>0]|0,ee=e[f>>2]|0,e[f>>2]=(ee|0)<1?0:ee+-1|0,ee=T+1|0,b=re,ee|0)}function rn(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0;if(z=r>>31,f=(z^r)-z|0,F=t+196+(f*12|0)+10|0,c=y[F>>1]|0,D=t+196+(f*12|0)|0,a=e[D>>2]|0,(c|0)<(a|0))if((c<<1|0)<(a|0))if((c<<2|0)<(a|0))if((c<<3|0)<(a|0))if((c<<4|0)<(a|0))for(r=5;(c<<r|0)<(a|0);)r=r+1|0;else r=4;else r=3;else r=2;else r=1;else r=0;return T=t+196+(f*12|0)+8|0,a=(y[T>>1]^z)-z+s|0,N=t+136|0,s=e[N>>2]|0,(a&s|0)==(a|0)?I=a:I=s&~(a>>31),a=(o-I^z)-z|0,A=t+144|0,s=e[A>>2]|0,(a|0)>0?a=(a+s|0)/(s<<1|1|0)|0:a=(a-s|0)/(s<<1|1|0)|0,k=t+140|0,S=e[k>>2]|0,o=((a|0)<0?S:0)+a|0,S=o-((o|0)<((S+1|0)/2|0|0)?0:S)|0,f=t+196+(f*12|0)+4|0,s|r?a=0:a=(e[f>>2]<<1)+-1+c>>31,s=a^S,vo(t,r,s>>30^s<<1,e[t+156>>2]|0),s=e[t+160>>2]|0,r=(e[D>>2]|0)+((S|0)>-1?S:0-S|0)|0,a=(e[f>>2]|0)+(J(e[A>>2]<<1|1,S)|0)|0,o=y[F>>1]|0,(o|0)==(s|0)&&(r=r>>1,a=a>>1,o=s>>1),e[D>>2]=r,s=o+1|0,y[F>>1]=s,r=s+a|0,(r|0)>=1?(a|0)>0&&(a=a-s|0,F=y[T>>1]|0,y[T>>1]=(F<<16>>16<127&1)+(F&65535),a=(a|0)>0?0:a):(a=y[T>>1]|0,y[T>>1]=(a&65535)-(a<<16>>16>-128&1),a=(r|0)>(~o|0)?r:0-o|0),e[f>>2]=a,s=e[A>>2]|0,o=s<<1|1,r=(J(o,(S^z)-z|0)|0)+I|0,(r|0)>=(0-s|0)?(a=e[N>>2]|0,(a+s|0)<(r|0)&&(r=r-(J(e[k>>2]|0,o)|0)|0)):(r=(J(e[k>>2]|0,o)|0)+r|0,a=e[N>>2]|0),(r&a|0)==(r|0)?(z=r,z=z&255,z|0):(z=a&~(r>>31),z=z&255,z|0)}function vo(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0;if(a=o>>r,f=t+148|0,c=s-(e[f>>2]|0)|0,(a|0)<(c+-1|0)){(a|0)>30&&(s=(a|0)/2|0,C0(t,0,s),a=a-s|0),C0(t,1,a+1|0),C0(t,(1<<r)+-1&o,r);return}(c|0)>31?(C0(t,0,31),C0(t,1,s+-31-(e[f>>2]|0)|0)):C0(t,1,c),r=e[f>>2]|0,C0(t,(1<<r)+-1&o+-1,r)}function $1(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0;if(N=r+136|0,k=P[a>>0]|0,D=k-(P[s>>0]|0)>>31|1,f=J(D,(P[o>>0]|0)-k|0)|0,I=r+144|0,c=e[I>>2]|0,(f|0)>0?f=(f+c|0)/(c<<1|1|0)|0:f=(f-c|0)/(c<<1|1|0)|0,M=r+140|0,A=e[M>>2]|0,S=((f|0)<0?A:0)+f|0,A=S-((S|0)<((A+1|0)/2|0|0)?0:A)|0,S=r+4576|0,nn(r,S,A),q=P[a+1>>0]|0,B=q-(P[s+1>>0]|0)>>31|1,f=J(B,(P[o+1>>0]|0)-q|0)|0,c=e[I>>2]|0,(f|0)>0?f=(f+c|0)/(c<<1|1|0)|0:f=(f-c|0)/(c<<1|1|0)|0,F=e[M>>2]|0,L=((f|0)<0?F:0)+f|0,F=L-((L|0)<((F+1|0)/2|0|0)?0:F)|0,nn(r,S,F),L=P[a+2>>0]|0,z=L-(P[s+2>>0]|0)>>31|1,f=J(z,(P[o+2>>0]|0)-L|0)|0,c=e[I>>2]|0,(f|0)>0?f=(f+c|0)/(c<<1|1|0)|0:f=(f-c|0)/(c<<1|1|0)|0,T=e[M>>2]|0,f=((f|0)<0?T:0)+f|0,T=f-((f|0)<((T+1|0)/2|0|0)?0:T)|0,nn(r,S,T),S=e[I>>2]|0,I=S<<1|1,f=(J(J(I,A)|0,D)|0)+k|0,o=0-S|0,(f|0)>=(o|0)?(c=e[N>>2]|0,(c+S|0)<(f|0)&&(f=f-(J(e[M>>2]|0,I)|0)|0),s=c):(f=(J(e[M>>2]|0,I)|0)+f|0,s=e[N>>2]|0),(f&s|0)!=(f|0)&&(f=s&~(f>>31)),a=f&255,f=(J(J(I,F)|0,B)|0)+q|0,(f|0)>=(o|0)?(s+S|0)<(f|0)&&(f=f-(J(e[M>>2]|0,I)|0)|0):f=(J(e[M>>2]|0,I)|0)+f|0,(f&s|0)!=(f|0)&&(f=s&~(f>>31)),c=f&255,f=(J(J(I,T)|0,z)|0)+L|0,(f|0)>=(o|0)?(s+S|0)<(f|0)&&(f=f-(J(e[M>>2]|0,I)|0)|0):f=(J(e[M>>2]|0,I)|0)+f|0,(f&s|0)==(f|0)){M=f,M=M&255,m[t>>0]=a,L=t+1|0,m[L>>0]=c,t=t+2|0,m[t>>0]=M;return}M=s&~(f>>31),M=M&255,m[t>>0]=a,L=t+1|0,m[L>>0]=c,t=t+2|0,m[t>>0]=M}function nn(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0;if(T=r+9|0,c=P[T>>0]|0,I=r+4|0,A=e[I>>2]|0,a=(J(c>>>1,A)|0)+(e[r>>2]|0)|0,(c|0)<(a|0)){f=c,s=0;do f=f<<1,s=s+1|0;while((f|0)<(a|0));a=s}else a=0;(o|0)>0&(a|0)==0&&P[r+10>>0]<<1>>>0<c>>>0?s=1:S=5;do if((S|0)==5){if(s=(o|0)<0,s&&P[r+10>>0]<<1>>>0>=c>>>0){s=1;break}s=s&(a|0)!=0}while(!1);if(s=(((o|0)>-1?o:0-o|0)<<1)-A+(s<<31>>31)|0,vo(t,a,s,(e[t+156>>2]|0)+-1-(e[36476+(e[t+4600>>2]<<2)>>2]|0)|0),(o|0)<0&&(t=r+10|0,m[t>>0]=(P[t>>0]|0)+1),s=(s+1-(e[I>>2]|0)>>1)+(e[r>>2]|0)|0,e[r>>2]=s,a=m[T>>0]|0,a<<24>>24!=(m[r+8>>0]|0)){r=a,r=r&255,r=r+1|0,r=r&255,m[T>>0]=r;return}e[r>>2]=s>>1,t=(a&255)>>>1,m[T>>0]=t,r=r+10|0,m[r>>0]=(P[r>>0]|0)>>>1,r=t,r=r&255,r=r+1|0,r=r&255,m[T>>0]=r}function H1(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;D=b,b=b+32|0,s=D,k=t+144|0;e:do if(e[k>>2]|0)r=t+152|0;else if(o=e[t+136>>2]|0,r=t+152|0,(o|0)==((1<<e[r>>2])+-1|0)&&(dt(s,o,0),(e[s+4>>2]|0)==(e[t+184>>2]|0))&&(e[s+8>>2]|0)==(e[t+188>>2]|0)&&(e[s+12>>2]|0)==(e[t+192>>2]|0))switch(e[r>>2]|0){case 8:{k=e[8900]|0,e[t+4612>>2]=k+(((e[8901]|0)-k|0)>>>1),b=D;return}case 10:{k=e[8903]|0,e[t+4612>>2]=k+(((e[8904]|0)-k|0)>>>1),b=D;return}case 12:{k=e[8906]|0,e[t+4612>>2]=k+(((e[8907]|0)-k|0)>>>1),b=D;return}case 16:{k=e[8909]|0,e[t+4612>>2]=k+(((e[8910]|0)-k|0)>>>1),b=D;return}default:break e}while(!1);if(T=1<<e[r>>2],o=t+4616|0,s=T<<1,a=t+4620|0,f=e[a>>2]|0,r=e[o>>2]|0,c=f-r|0,s>>>0<=c>>>0?s>>>0<c>>>0&&(S=r+s|0,(f|0)!=(S|0))&&(e[a>>2]=S):(jt(o,s-c|0),r=e[o>>2]|0),I=t+4612|0,e[I>>2]=r+T,r=0-T|0,(T|0)<=(r|0)){b=D;return}S=t+192|0,A=t+188|0,c=t+184|0,f=r;do r=e[S>>2]|0,(f|0)>(0-r|0)?(o=e[A>>2]|0,(f|0)>(0-o|0)?(s=e[c>>2]|0,(f|0)>(0-s|0)?(a=e[k>>2]|0,(f|0)>=(0-a|0)?(a|0)<(f|0)?(s|0)<=(f|0)?(o|0)>(f|0)?r=2:r=(r|0)>(f|0)?3:4:r=1:r=0:r=-1):r=-2):r=-3):r=-4,m[(e[I>>2]|0)+f>>0]=r,f=f+1|0;while((f|0)!=(T|0));b=D}function W1(t){t=t|0;var r=0,o=0;e[t>>2]=35996,r=e[t+4592>>2]|0,r&&(o=t+4596|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36612,r=e[t+120>>2]|0,r&&(o=t+124|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+92|0,r=e[o>>2]|0,e[o>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),t=t+4|0,r=e[t>>2]|0,e[t>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r)}function Q1(t){t=t|0;var r=0,o=0;if(e[t>>2]=35996,r=e[t+4592>>2]|0,r&&(o=t+4596|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36612,r=e[t+120>>2]|0,r&&(o=t+124|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+92|0,r=e[o>>2]|0,e[o>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),o=t+4|0,r=e[o>>2]|0,e[o>>2]=0,!r){ue(t);return}T0[e[(e[r>>2]|0)+4>>2]&255](r),ue(t)}function j1(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0;a=b,b=b+32|0,S=a,dt(S,65535,0),c=e[r+4>>2]|0,f=e[r+8>>2]|0,f=f|0?f:e[S+8>>2]|0,s=e[r+12>>2]|0,s=s|0?s:e[S+12>>2]|0,r=e[r+16>>2]|0,o=e[S+16>>2]|0,e[t+160>>2]=c|0?c:e[S+4>>2]|0,e[t+164>>2]=f,e[t+168>>2]=s,t2(t),s=0;do e[t+172+(s*12|0)>>2]=1024,e[t+172+(s*12|0)+4>>2]=0,y[t+172+(s*12|0)+8>>1]=0,y[t+172+(s*12|0)+10>>1]=1,s=s+1|0;while((s|0)!=365);S=(r|0?r:o)&255,e[t+4552>>2]=1024,e[t+4556>>2]=0,m[t+4560>>0]=S,m[t+4561>>0]=1,m[t+4562>>0]=0,e[t+4564>>2]=1024,e[t+4568>>2]=1,m[t+4572>>0]=S,m[t+4573>>0]=1,m[t+4574>>0]=0,e[t+4576>>2]=0,b=a}function Y1(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0;if(T=b,b=b+16|0,A=T,S=t+92|0,c=e[r>>2]|0,e[r>>2]=0,r=e[S>>2]|0,e[S>>2]=c,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),e[A>>2]=0,e[A+4>>2]=s,S=o+8|0,e[A+8>>2]=e[S>>2],s){r=We(4600)|0,s=t+8|0,a=r+4|0,f=s,c=a+84|0;do e[a>>2]=e[f>>2],a=a+4|0,f=f+4|0;while((a|0)<(c|0));a=r+88|0,c=a+40|0;do e[a>>2]=0,a=a+4|0;while((a|0)<(c|0));e[r>>2]=35772,a=r+132|0,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[r+148>>2]=e[s>>2],e[r+152>>2]=0,e[r+156>>2]=0,e[r+160>>2]=0,a=r+4544|0,s=r+164|0;do e[s>>2]=0,e[s+4>>2]=0,y[s+8>>1]=0,y[s+10>>1]=1,s=s+12|0;while((s|0)!=(a|0));f=t+4|0,e[a>>2]=0,e[a+4>>2]=0,y[a+8>>1]=0,m[a+10>>0]=0,c=r+4556|0,e[c>>2]=0,e[c+4>>2]=0,y[c+8>>1]=0,m[c+10>>0]=0,c=r+4568|0,e[c>>2]=0,e[c+4>>2]=0,e[c+8>>2]=0,e[c+12>>2]=0,e[c+16>>2]=0,e[c+20>>2]=0,e[c+24>>2]=0,m[c+28>>0]=0,e[r+28>>2]|0||(e[r+20>>2]=1),s=e[f>>2]|0,e[f>>2]=r,s&&(T0[e[(e[s>>2]|0)+4>>2]&255](s),r=e[f>>2]|0),Qt(r,A)}return A=t+100|0,e[A>>2]=32,e[t+96>>2]=0,r=e[o>>2]|0,r?(e[t+132>>2]=r,a=t+120|0,S=t+124|0,s=e[S>>2]|0,r=e[a>>2]|0,f=r,c=s-f|0,c>>>0>=4e3?c>>>0>4e3&&(I=r+4e3|0,(s|0)!=(I|0))&&(e[S>>2]=I,s=I):(Si(a,4e3-c|0),r=e[a>>2]|0,f=r,s=e[S>>2]|0),e[t+108>>2]=f,e[t+104>>2]=s-r,So(t),I=t+116|0,I=e[I>>2]|0,t=e[A>>2]|0,t=t+-32|0,t=(t|0)/8|0,t=I-t|0,b=T,t|0):(e[t+108>>2]=e[o+4>>2],e[t+104>>2]=e[S>>2],So(t),I=t+116|0,I=e[I>>2]|0,t=e[A>>2]|0,t=t+-32|0,t=(t|0)/8|0,t=I-t|0,b=T,t|0)}function K1(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0;if(B=b,b=b+352|0,L=B+328|0,M=B+192|0,o=B+343|0,s=B+342|0,a=B+341|0,f=B+340|0,D=B+176|0,S=B+168|0,A=B+160|0,I=B+152|0,q=B,N=B+136|0,e[t+32>>2]|0&&(e[t+24>>2]|0)!=1){if(F=t+8|0,z=t+36|0,c=e[z>>2]|0,!c){if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[o>>0]|0,Re(37,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}if(t=e[t+16>>2]|0,(t|0)==16)switch(c|0){case 1:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[s>>0]|0,Re(38,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[a>>0]|0,Re(39,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[f>>0]|0,Re(40,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=M+56|0,a=M+4|0,e[M>>2]=36160,e[c>>2]=36180,h=0,de(62,M+56|0,a|0),B=h,h=0,B&1&&(R=Q()|0,Ye(c),ne(R|0)),e[M+128>>2]=0,e[M+132>>2]=-1,e[M>>2]=36200,e[M+56>>2]=36220,h=0,oe(180,a|0),B=h,h=0;do if(B&1)t=Q()|0;else{if(e[a>>2]=36236,f=M+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[M+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),B=h,h=0,B&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,M|0,49007,21)|0,L=h,h=0;do if(!(L&1)&&(h=0,T=Ce(36,t|0,e[z>>2]|0)|0,L=h,h=0,!(L&1))&&(h=0,Oe(28,T|0,50997,18)|0,L=h,h=0,!(L&1))){if(s=g0(16)|0,h=0,de(64,D|0,a|0),L=h,h=0,L&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,D|0),L=h,h=0,L&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(D),!o)break;v0(s|0)}else R=34;while(!1);(R|0)==34&&(t=Q()|0),e[M>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}switch((t|0)<=8&&(t=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,t|0,8,35648),R=h,h=0,R&1||V0(t|0,824,96),R=Q()|0,v0(t|0),ne(R|0)),o=16-t|0,c|0){case 1:{if(t=We(60)|0,e[S>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[S>>2],e[L+4>>2]=e[S+4>>2],Re(41,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(60)|0,e[A>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[A>>2],e[L+4>>2]=e[A+4>>2],Re(42,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(60)|0,e[I>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[I>>2],e[L+4>>2]=e[I+4>>2],Re(43,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=q+56|0,a=q+4|0,e[q>>2]=36160,e[c>>2]=36180,h=0,de(62,q+56|0,a|0),M=h,h=0,M&1&&(R=Q()|0,Ye(c),ne(R|0)),e[q+128>>2]=0,e[q+132>>2]=-1,e[q>>2]=36200,e[q+56>>2]=36220,h=0,oe(180,a|0),M=h,h=0;do if(M&1)t=Q()|0;else{if(e[a>>2]=36236,f=q+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[q+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),M=h,h=0,M&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,q|0,49007,21)|0,M=h,h=0;do if(!(M&1)&&(h=0,k=Ce(36,t|0,e[z>>2]|0)|0,M=h,h=0,!(M&1))&&(h=0,Oe(28,k|0,50997,18)|0,M=h,h=0,!(M&1))){if(s=g0(16)|0,h=0,de(64,N|0,a|0),M=h,h=0,M&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,N|0),M=h,h=0,M&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(N),!o)break;v0(s|0)}else R=64;while(!1);(R|0)==64&&(t=Q()|0),e[q>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}}return o=e[r+4>>2]|0,s=We(16)|0,t=e[t+20>>2]|0,o?(e[s>>2]=36108,e[s+4>>2]=o,e[s+8>>2]=2,e[s+12>>2]=t,R=s,b=B,R|0):(R=e[r>>2]|0,e[s>>2]=36132,e[s+4>>2]=R,e[s+8>>2]=2,e[s+12>>2]=t,R=s,b=B,R|0)}function So(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0;B=b,b=b+32|0,M=B+12|0,q=B,F=t+156|0,N=(e[F>>2]|0)+4|0,(e[t+32>>2]|0)==1?z=e[t+24>>2]|0:z=1,r=J(z<<1,N)|0,e[M>>2]=0,R=M+4|0,e[R>>2]=0,e[M+8>>2]=0;do if(r){if((r|0)<0&&(h=0,oe(178,M|0),L=h,h=0,L&1)||(c=6),(c|0)==6&&(o=r<<1,h=0,s=ce(67,o|0)|0,L=h,h=0,!(L&1))){e[M>>2]=s,L=s+(r<<1)|0,e[M+8>>2]=L,j0(s|0,0,o|0)|0,e[R>>2]=L;break}s=Q()|0,r=e[M>>2]|0,r||ne(s|0),o=e[R>>2]|0,(o|0)!=(r|0)&&(e[R>>2]=o+(~((o+-2-r|0)>>>1)<<1)),ue(r),ne(s|0)}while(!1);e[q>>2]=0,L=q+4|0,e[L>>2]=0,e[q+8>>2]=0;do if(!z)c=18;else{if(z>>>0>1073741823&&(h=0,oe(178,q|0),D=h,h=0,D&1)||(c=16),(c|0)==16&&(a=z<<2,h=0,f=ce(67,a|0)|0,D=h,h=0,!(D&1))){e[q>>2]=f,c=f+(z<<2)|0,e[q+8>>2]=c,j0(f|0,0,a|0)|0,e[L>>2]=c,c=18;break}s=Q()|0,r=e[q>>2]|0,o=r,r&&(a=e[L>>2]|0,(a|0)!=(r|0)&&(e[L>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ue(r))}while(!1);if((c|0)==18){f=t+12|0;e:do if((e[f>>2]|0)>0){c=t+4580|0,S=(J(z,N)|0)+1|0,A=t+4584|0,I=t+92|0,T=(z|0)>0,k=t+4576|0,D=0;t:for(;;){if(o=e[M>>2]|0,r=o+2|0,e[c>>2]=r,o=o+(S<<1)|0,e[A>>2]=o,D&1?(e[c>>2]=o,e[A>>2]=r):r=o,a=e[I>>2]|0,h=0,Re(e[(e[a>>2]|0)+12>>2]|0,a|0,r|0,e[F>>2]|0,N|0),a=h,h=0,a&1){c=28;break}if(T){r=e[c>>2]|0,o=e[A>>2]|0,s=e[q>>2]|0,a=0;do{if(e[k>>2]=e[s+(a<<2)>>2],s=e[F>>2]|0,y[r+(s<<1)>>1]=y[r+(s+-1<<1)>>1]|0,y[o+-2>>1]=y[r>>1]|0,h=0,de(71,t|0,0),s=h,h=0,s&1){c=27;break t}s=e[q>>2]|0,e[s+(a<<2)>>2]=e[k>>2],r=(e[c>>2]|0)+(N<<1)|0,e[c>>2]=r,o=(e[A>>2]|0)+(N<<1)|0,e[A>>2]=o,a=a+1|0}while((a|0)<(z|0))}if(D=D+1|0,(D|0)>=(e[f>>2]|0)){c=40;break e}}if((c|0)==27){s=Q()|0;break}else if((c|0)==28){s=Q()|0;break}}else c=40;while(!1);do if((c|0)==40){if(h=0,oe(182,t|0),t=h,h=0,t&1){s=Q()|0;break}if(r=e[q>>2]|0,o=r,r&&(s=e[L>>2]|0,(s|0)!=(r|0)&&(e[L>>2]=s+(~((s+-4-o|0)>>>2)<<2)),ue(r)),r=e[M>>2]|0,!r){b=B;return}o=e[R>>2]|0,(o|0)!=(r|0)&&(e[R>>2]=o+(~((o+-2-r|0)>>>1)<<1)),ue(r),b=B;return}while(!1);r=e[q>>2]|0,o=r,r&&(a=e[L>>2]|0,(a|0)!=(r|0)&&(e[L>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ue(r))}r=e[M>>2]|0,r||ne(s|0),o=e[R>>2]|0,(o|0)!=(r|0)&&(e[R>>2]=o+(~((o+-2-r|0)>>>1)<<1)),ue(r),ne(s|0)}function X1(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;if(k=t+4580|0,r=e[k>>2]|0,N=t+156|0,!((e[N>>2]|0)<=0))for(D=t+4584|0,F=t+4588|0,a=r,f=O[r+-2>>1]|0,r=O[r>>1]|0,T=0;I=e[D>>2]|0,A=O[I+(T+-1<<1)>>1]|0,s=T+1|0,o=O[a+(s<<1)>>1]|0,S=e[F>>2]|0,c=r-f|0,a=f-A|0,S=((((m[S+(o-r)>>0]|0)*9|0)+(m[S+c>>0]|0)|0)*9|0)+(m[S+a>>0]|0)|0,S?(f=r-A>>31,(f^a|0)<0?a=r:a=A+((f^c|0)<0?0:c)|0,I=Z1(t,S,O[I+(T<<1)>>1]|0,a,0)|0,y[(e[D>>2]|0)+(T<<1)>>1]=I):(s=(J1(t,T,0)|0)+T|0,o=e[k>>2]|0,r=O[o+(s+-1<<1)>>1]|0,o=O[o+(s<<1)>>1]|0),!((s|0)>=(e[N>>2]|0));)a=e[k>>2]|0,f=r,r=o,T=s}function Z1(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;if(N=r>>31,A=(N^r)-N|0,F=t+172+(A*12|0)+10|0,c=y[F>>1]|0,D=t+172+(A*12|0)|0,a=e[D>>2]|0,(c|0)<(a|0))if((c<<1|0)<(a|0))if((c<<2|0)<(a|0))if((c<<3|0)<(a|0))if((c<<4|0)<(a|0))for(f=5;(c<<f|0)<(a|0);)f=f+1|0;else f=4;else f=3;else f=2;else f=1;else f=0;return k=t+172+(A*12|0)+8|0,a=(y[k>>1]^N)-N+s|0,(a&65535|0)==(a|0)?T=a:T=a>>31&65535^65535,S=(o-T^N)-N<<16,I=S>>16,f?a=0:a=(e[t+172+(A*12|0)+4>>2]<<1)+-1+c>>31,s=a^I,s=s>>30^s<<1,a=s>>f,(a|0)<47?((a|0)>30&&(c=(a|0)/2|0,C0(t,0,c),a=a-c|0),C0(t,1,a+1|0),C0(t,s&(1<<f)+-1,f)):(C0(t,0,31),C0(t,1,17),C0(t,s+65535&65535,16)),s=t+172+(A*12|0)+4|0,c=y[F>>1]|0,a=c<<16>>16==64,f=a&1,o=(e[s>>2]|0)+I>>f,c=a?32:c<<16>>16,e[D>>2]=(e[D>>2]|0)+((S|0)>-65536?I:0-I|0)>>f,f=c+1|0,y[F>>1]=f,a=f+o|0,(a|0)<1?(F=y[k>>1]|0,y[k>>1]=(F&65535)-(F<<16>>16>-128&1),F=(a|0)>(~c|0)?a:0-c|0,e[s>>2]=F,N=I^N,r=r>>>31,r=T+r|0,r=r+N|0,r=r&65535,r|0):(o|0)<=0?(F=o,e[s>>2]=F,N=I^N,r=r>>>31,r=T+r|0,r=r+N|0,r=r&65535,r|0):(F=o-f|0,D=y[k>>1]|0,y[k>>1]=(D<<16>>16<127&1)+(D&65535),F=(F|0)>0?0:F,e[s>>2]=F,N=I^N,r=r>>>31,r=T+r|0,r=r+N|0,r=r&65535,r|0)}function J1(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0;for(c=(e[t+156>>2]|0)-r|0,S=e[t+4584>>2]|0,I=e[t+4580>>2]|0,a=y[S+(r+-1<<1)>>1]|0,s=0;;){if(o=S+(s+r<<1)|0,(y[o>>1]|0)!=a<<16>>16){T=s;break}if(y[o>>1]=a,s=s+1|0,(s|0)==(c|0)){T=c;break}}if(f=a&65535,a=(T|0)==(c|0),A=t+4576|0,s=e[36476+(e[A>>2]<<2)>>2]|0,(1<<s|0)>(T|0))o=T;else{o=T;do C0(t,1,1),s=e[A>>2]|0,o=o-(1<<e[36476+(s<<2)>>2])|0,s=(s|0)>30?31:s+1|0,e[A>>2]=s,s=e[36476+(s<<2)>>2]|0;while((o|0)>=(1<<s|0))}return a?o?(C0(t,1,1),t=c,t|0):(t=c,t|0):(C0(t,o,s+1|0),o=T+r|0,a=S+(o<<1)|0,s=O[a>>1]|0,o=O[I+(o<<1)>>1]|0,I=f-o|0,(((I|0)>-1?I:0-I|0)|0)<1?(o=s-f<<16>>16,wo(t,t+4564|0,o),o=o+f|0):(I=o-f>>31|1,r=(J(s-o<<16,I)|0)>>16,wo(t,t+4552|0,r),o=(J(r,I)|0)+o|0),y[a>>1]=o,t=e[A>>2]|0,e[A>>2]=(t|0)<1?0:t+-1|0,t=T+1|0,t|0)}function wo(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0;if(T=r+9|0,c=P[T>>0]|0,I=r+4|0,A=e[I>>2]|0,a=(J(c>>>1,A)|0)+(e[r>>2]|0)|0,(c|0)<(a|0)){f=c,s=0;do f=f<<1,s=s+1|0;while((f|0)<(a|0));a=s}else a=0;(o|0)>0&(a|0)==0&&P[r+10>>0]<<1>>>0<c>>>0?s=1:S=5;do if((S|0)==5){if(s=(o|0)<0,s&&P[r+10>>0]<<1>>>0>=c>>>0){s=1;break}s=s&(a|0)!=0}while(!1);if(s=(((o|0)>-1?o:0-o|0)<<1)-A+(s<<31>>31)|0,e2(t,a,s,63-(e[36476+(e[t+4576>>2]<<2)>>2]|0)|0),(o|0)<0&&(t=r+10|0,m[t>>0]=(P[t>>0]|0)+1),s=(s+1-(e[I>>2]|0)>>1)+(e[r>>2]|0)|0,e[r>>2]=s,a=m[T>>0]|0,a<<24>>24!=(m[r+8>>0]|0)){r=a,r=r&255,r=r+1|0,r=r&255,m[T>>0]=r;return}e[r>>2]=s>>1,t=(a&255)>>>1,m[T>>0]=t,r=r+10|0,m[r>>0]=(P[r>>0]|0)>>>1,r=t,r=r&255,r=r+1|0,r=r&255,m[T>>0]=r}function e2(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0;if(a=o>>r,f=s+-16|0,(a|0)<(s+-17|0)){(a|0)>30&&(s=(a|0)/2|0,C0(t,0,s),a=a-s|0),C0(t,1,a+1|0),C0(t,(1<<r)+-1&o,r);return}(f|0)>31?(C0(t,0,31),C0(t,1,s+-47|0)):C0(t,1,f),C0(t,o+65535&65535,16)}function t2(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0;if(I=b,b=b+32|0,S=I,dt(S,65535,0),A=t+160|0,(e[S+4>>2]|0)==(e[A>>2]|0)&&(e[S+8>>2]|0)==(e[t+164>>2]|0)&&(e[S+12>>2]|0)==(e[t+168>>2]|0)){A=e[8909]|0,e[t+4588>>2]=A+(((e[8910]|0)-A|0)>>>1),b=I;return}for(o=t+4592|0,s=t+4596|0,a=e[s>>2]|0,r=e[o>>2]|0,f=a-r|0,f>>>0>=131072?f>>>0>131072&&(c=r+131072|0,(a|0)!=(c|0))&&(e[s>>2]=c):(jt(o,131072-f|0),r=e[o>>2]|0),S=t+4588|0,e[S>>2]=r+65536,c=t+168|0,a=t+164|0,f=-65536;;){if(r=e[c>>2]|0,(f|0)>(0-r|0))if(o=e[a>>2]|0,(f|0)>(0-o|0))if(s=e[A>>2]|0,(f|0)>(0-s|0))if((f|0)>=0){if((f|0)<1){m[(e[S>>2]|0)+f>>0]=0,f=1;continue}(s|0)<=(f|0)?(o|0)>(f|0)?r=2:r=(r|0)>(f|0)?3:4:r=1}else r=-1;else r=-2;else r=-3;else r=-4;if(m[(e[S>>2]|0)+f>>0]=r,f=f+1|0,(f|0)==65536)break}b=I}function i2(t){t=t|0;var r=0,o=0;e[t>>2]=35968,r=e[t+4592>>2]|0,r&&(o=t+4596|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36612,r=e[t+120>>2]|0,r&&(o=t+124|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+92|0,r=e[o>>2]|0,e[o>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),t=t+4|0,r=e[t>>2]|0,e[t>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r)}function r2(t){t=t|0;var r=0,o=0;if(e[t>>2]=35968,r=e[t+4592>>2]|0,r&&(o=t+4596|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36612,r=e[t+120>>2]|0,r&&(o=t+124|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+92|0,r=e[o>>2]|0,e[o>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),o=t+4|0,r=e[o>>2]|0,e[o>>2]=0,!r){ue(t);return}T0[e[(e[r>>2]|0)+4>>2]&255](r),ue(t)}function n2(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0;a=b,b=b+32|0,S=a,dt(S,4095,0),c=e[r+4>>2]|0,f=e[r+8>>2]|0,f=f|0?f:e[S+8>>2]|0,s=e[r+12>>2]|0,s=s|0?s:e[S+12>>2]|0,r=e[r+16>>2]|0,o=e[S+16>>2]|0,e[t+160>>2]=c|0?c:e[S+4>>2]|0,e[t+164>>2]=f,e[t+168>>2]=s,c2(t),s=0;do e[t+172+(s*12|0)>>2]=64,e[t+172+(s*12|0)+4>>2]=0,y[t+172+(s*12|0)+8>>1]=0,y[t+172+(s*12|0)+10>>1]=1,s=s+1|0;while((s|0)!=365);S=(r|0?r:o)&255,e[t+4552>>2]=64,e[t+4556>>2]=0,m[t+4560>>0]=S,m[t+4561>>0]=1,m[t+4562>>0]=0,e[t+4564>>2]=64,e[t+4568>>2]=1,m[t+4572>>0]=S,m[t+4573>>0]=1,m[t+4574>>0]=0,e[t+4576>>2]=0,b=a}function o2(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0;if(T=b,b=b+16|0,A=T,S=t+92|0,c=e[r>>2]|0,e[r>>2]=0,r=e[S>>2]|0,e[S>>2]=c,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),e[A>>2]=0,e[A+4>>2]=s,S=o+8|0,e[A+8>>2]=e[S>>2],s){r=We(4600)|0,s=t+8|0,a=r+4|0,f=s,c=a+84|0;do e[a>>2]=e[f>>2],a=a+4|0,f=f+4|0;while((a|0)<(c|0));a=r+88|0,c=a+40|0;do e[a>>2]=0,a=a+4|0;while((a|0)<(c|0));e[r>>2]=35744,a=r+132|0,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[r+148>>2]=e[s>>2],e[r+152>>2]=0,e[r+156>>2]=0,e[r+160>>2]=0,a=r+4544|0,s=r+164|0;do e[s>>2]=0,e[s+4>>2]=0,y[s+8>>1]=0,y[s+10>>1]=1,s=s+12|0;while((s|0)!=(a|0));f=t+4|0,e[a>>2]=0,e[a+4>>2]=0,y[a+8>>1]=0,m[a+10>>0]=0,c=r+4556|0,e[c>>2]=0,e[c+4>>2]=0,y[c+8>>1]=0,m[c+10>>0]=0,c=r+4568|0,e[c>>2]=0,e[c+4>>2]=0,e[c+8>>2]=0,e[c+12>>2]=0,e[c+16>>2]=0,e[c+20>>2]=0,e[c+24>>2]=0,m[c+28>>0]=0,e[r+28>>2]|0||(e[r+20>>2]=1),s=e[f>>2]|0,e[f>>2]=r,s&&(T0[e[(e[s>>2]|0)+4>>2]&255](s),r=e[f>>2]|0),Qt(r,A)}return A=t+100|0,e[A>>2]=32,e[t+96>>2]=0,r=e[o>>2]|0,r?(e[t+132>>2]=r,a=t+120|0,S=t+124|0,s=e[S>>2]|0,r=e[a>>2]|0,f=r,c=s-f|0,c>>>0>=4e3?c>>>0>4e3&&(I=r+4e3|0,(s|0)!=(I|0))&&(e[S>>2]=I,s=I):(Si(a,4e3-c|0),r=e[a>>2]|0,f=r,s=e[S>>2]|0),e[t+108>>2]=f,e[t+104>>2]=s-r,Ao(t),I=t+116|0,I=e[I>>2]|0,t=e[A>>2]|0,t=t+-32|0,t=(t|0)/8|0,t=I-t|0,b=T,t|0):(e[t+108>>2]=e[o+4>>2],e[t+104>>2]=e[S>>2],Ao(t),I=t+116|0,I=e[I>>2]|0,t=e[A>>2]|0,t=t+-32|0,t=(t|0)/8|0,t=I-t|0,b=T,t|0)}function s2(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0;if(B=b,b=b+352|0,L=B+328|0,M=B+192|0,o=B+343|0,s=B+342|0,a=B+341|0,f=B+340|0,D=B+176|0,S=B+168|0,A=B+160|0,I=B+152|0,q=B,N=B+136|0,e[t+32>>2]|0&&(e[t+24>>2]|0)!=1){if(F=t+8|0,z=t+36|0,c=e[z>>2]|0,!c){if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[o>>0]|0,Re(37,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}if(t=e[t+16>>2]|0,(t|0)==16)switch(c|0){case 1:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[s>>0]|0,Re(38,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[a>>0]|0,Re(39,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[f>>0]|0,Re(40,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=M+56|0,a=M+4|0,e[M>>2]=36160,e[c>>2]=36180,h=0,de(62,M+56|0,a|0),B=h,h=0,B&1&&(R=Q()|0,Ye(c),ne(R|0)),e[M+128>>2]=0,e[M+132>>2]=-1,e[M>>2]=36200,e[M+56>>2]=36220,h=0,oe(180,a|0),B=h,h=0;do if(B&1)t=Q()|0;else{if(e[a>>2]=36236,f=M+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[M+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),B=h,h=0,B&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,M|0,49007,21)|0,L=h,h=0;do if(!(L&1)&&(h=0,T=Ce(36,t|0,e[z>>2]|0)|0,L=h,h=0,!(L&1))&&(h=0,Oe(28,T|0,50997,18)|0,L=h,h=0,!(L&1))){if(s=g0(16)|0,h=0,de(64,D|0,a|0),L=h,h=0,L&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,D|0),L=h,h=0,L&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(D),!o)break;v0(s|0)}else R=34;while(!1);(R|0)==34&&(t=Q()|0),e[M>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}switch((t|0)<=8&&(t=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,t|0,8,35648),R=h,h=0,R&1||V0(t|0,824,96),R=Q()|0,v0(t|0),ne(R|0)),o=16-t|0,c|0){case 1:{if(t=We(60)|0,e[S>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[S>>2],e[L+4>>2]=e[S+4>>2],Re(41,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(60)|0,e[A>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[A>>2],e[L+4>>2]=e[A+4>>2],Re(42,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(60)|0,e[I>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[I>>2],e[L+4>>2]=e[I+4>>2],Re(43,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=q+56|0,a=q+4|0,e[q>>2]=36160,e[c>>2]=36180,h=0,de(62,q+56|0,a|0),M=h,h=0,M&1&&(R=Q()|0,Ye(c),ne(R|0)),e[q+128>>2]=0,e[q+132>>2]=-1,e[q>>2]=36200,e[q+56>>2]=36220,h=0,oe(180,a|0),M=h,h=0;do if(M&1)t=Q()|0;else{if(e[a>>2]=36236,f=q+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[q+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),M=h,h=0,M&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,q|0,49007,21)|0,M=h,h=0;do if(!(M&1)&&(h=0,k=Ce(36,t|0,e[z>>2]|0)|0,M=h,h=0,!(M&1))&&(h=0,Oe(28,k|0,50997,18)|0,M=h,h=0,!(M&1))){if(s=g0(16)|0,h=0,de(64,N|0,a|0),M=h,h=0,M&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,N|0),M=h,h=0,M&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(N),!o)break;v0(s|0)}else R=64;while(!1);(R|0)==64&&(t=Q()|0),e[q>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}}return o=e[r+4>>2]|0,s=We(16)|0,t=e[t+20>>2]|0,o?(e[s>>2]=36108,e[s+4>>2]=o,e[s+8>>2]=2,e[s+12>>2]=t,R=s,b=B,R|0):(R=e[r>>2]|0,e[s>>2]=36132,e[s+4>>2]=R,e[s+8>>2]=2,e[s+12>>2]=t,R=s,b=B,R|0)}function Ao(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0;B=b,b=b+32|0,M=B+12|0,q=B,F=t+156|0,N=(e[F>>2]|0)+4|0,(e[t+32>>2]|0)==1?z=e[t+24>>2]|0:z=1,r=J(z<<1,N)|0,e[M>>2]=0,R=M+4|0,e[R>>2]=0,e[M+8>>2]=0;do if(r){if((r|0)<0&&(h=0,oe(178,M|0),L=h,h=0,L&1)||(c=6),(c|0)==6&&(o=r<<1,h=0,s=ce(67,o|0)|0,L=h,h=0,!(L&1))){e[M>>2]=s,L=s+(r<<1)|0,e[M+8>>2]=L,j0(s|0,0,o|0)|0,e[R>>2]=L;break}s=Q()|0,r=e[M>>2]|0,r||ne(s|0),o=e[R>>2]|0,(o|0)!=(r|0)&&(e[R>>2]=o+(~((o+-2-r|0)>>>1)<<1)),ue(r),ne(s|0)}while(!1);e[q>>2]=0,L=q+4|0,e[L>>2]=0,e[q+8>>2]=0;do if(!z)c=18;else{if(z>>>0>1073741823&&(h=0,oe(178,q|0),D=h,h=0,D&1)||(c=16),(c|0)==16&&(a=z<<2,h=0,f=ce(67,a|0)|0,D=h,h=0,!(D&1))){e[q>>2]=f,c=f+(z<<2)|0,e[q+8>>2]=c,j0(f|0,0,a|0)|0,e[L>>2]=c,c=18;break}s=Q()|0,r=e[q>>2]|0,o=r,r&&(a=e[L>>2]|0,(a|0)!=(r|0)&&(e[L>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ue(r))}while(!1);if((c|0)==18){f=t+12|0;e:do if((e[f>>2]|0)>0){c=t+4580|0,S=(J(z,N)|0)+1|0,A=t+4584|0,I=t+92|0,T=(z|0)>0,k=t+4576|0,D=0;t:for(;;){if(o=e[M>>2]|0,r=o+2|0,e[c>>2]=r,o=o+(S<<1)|0,e[A>>2]=o,D&1?(e[c>>2]=o,e[A>>2]=r):r=o,a=e[I>>2]|0,h=0,Re(e[(e[a>>2]|0)+12>>2]|0,a|0,r|0,e[F>>2]|0,N|0),a=h,h=0,a&1){c=28;break}if(T){r=e[c>>2]|0,o=e[A>>2]|0,s=e[q>>2]|0,a=0;do{if(e[k>>2]=e[s+(a<<2)>>2],s=e[F>>2]|0,y[r+(s<<1)>>1]=y[r+(s+-1<<1)>>1]|0,y[o+-2>>1]=y[r>>1]|0,h=0,de(72,t|0,0),s=h,h=0,s&1){c=27;break t}s=e[q>>2]|0,e[s+(a<<2)>>2]=e[k>>2],r=(e[c>>2]|0)+(N<<1)|0,e[c>>2]=r,o=(e[A>>2]|0)+(N<<1)|0,e[A>>2]=o,a=a+1|0}while((a|0)<(z|0))}if(D=D+1|0,(D|0)>=(e[f>>2]|0)){c=40;break e}}if((c|0)==27){s=Q()|0;break}else if((c|0)==28){s=Q()|0;break}}else c=40;while(!1);do if((c|0)==40){if(h=0,oe(182,t|0),t=h,h=0,t&1){s=Q()|0;break}if(r=e[q>>2]|0,o=r,r&&(s=e[L>>2]|0,(s|0)!=(r|0)&&(e[L>>2]=s+(~((s+-4-o|0)>>>2)<<2)),ue(r)),r=e[M>>2]|0,!r){b=B;return}o=e[R>>2]|0,(o|0)!=(r|0)&&(e[R>>2]=o+(~((o+-2-r|0)>>>1)<<1)),ue(r),b=B;return}while(!1);r=e[q>>2]|0,o=r,r&&(a=e[L>>2]|0,(a|0)!=(r|0)&&(e[L>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ue(r))}r=e[M>>2]|0,r||ne(s|0),o=e[R>>2]|0,(o|0)!=(r|0)&&(e[R>>2]=o+(~((o+-2-r|0)>>>1)<<1)),ue(r),ne(s|0)}function a2(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;if(k=t+4580|0,r=e[k>>2]|0,N=t+156|0,!((e[N>>2]|0)<=0))for(D=t+4584|0,F=t+4588|0,a=r,f=O[r+-2>>1]|0,r=O[r>>1]|0,T=0;I=e[D>>2]|0,A=O[I+(T+-1<<1)>>1]|0,s=T+1|0,o=O[a+(s<<1)>>1]|0,S=e[F>>2]|0,c=r-f|0,a=f-A|0,S=((((m[S+(o-r)>>0]|0)*9|0)+(m[S+c>>0]|0)|0)*9|0)+(m[S+a>>0]|0)|0,S?(f=r-A>>31,(f^a|0)<0?a=r:a=A+((f^c|0)<0?0:c)|0,I=l2(t,S,O[I+(T<<1)>>1]|0,a,0)|0,y[(e[D>>2]|0)+(T<<1)>>1]=I):(s=(u2(t,T,0)|0)+T|0,o=e[k>>2]|0,r=O[o+(s+-1<<1)>>1]|0,o=O[o+(s<<1)>>1]|0),!((s|0)>=(e[N>>2]|0));)a=e[k>>2]|0,f=r,r=o,T=s}function l2(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;if(N=r>>31,A=(N^r)-N|0,F=t+172+(A*12|0)+10|0,c=y[F>>1]|0,D=t+172+(A*12|0)|0,a=e[D>>2]|0,(c|0)<(a|0))if((c<<1|0)<(a|0))if((c<<2|0)<(a|0))if((c<<3|0)<(a|0))if((c<<4|0)<(a|0))for(f=5;(c<<f|0)<(a|0);)f=f+1|0;else f=4;else f=3;else f=2;else f=1;else f=0;return k=t+172+(A*12|0)+8|0,a=(y[k>>1]^N)-N+s|0,(a&4095|0)==(a|0)?T=a:T=a>>31&4095^4095,S=(o-T^N)-N<<20,I=S>>20,f?a=0:a=(e[t+172+(A*12|0)+4>>2]<<1)+-1+c>>31,s=a^I,s=s>>30^s<<1,a=s>>f,(a|0)<35?((a|0)>30&&(c=(a|0)/2|0,C0(t,0,c),a=a-c|0),C0(t,1,a+1|0),C0(t,s&(1<<f)+-1,f)):(C0(t,0,31),C0(t,1,5),C0(t,s+4095&4095,12)),s=t+172+(A*12|0)+4|0,c=y[F>>1]|0,a=c<<16>>16==64,f=a&1,o=(e[s>>2]|0)+I>>f,c=a?32:c<<16>>16,e[D>>2]=(e[D>>2]|0)+((S|0)>-1048576?I:0-I|0)>>f,f=c+1|0,y[F>>1]=f,a=f+o|0,(a|0)<1?(F=y[k>>1]|0,y[k>>1]=(F&65535)-(F<<16>>16>-128&1),F=(a|0)>(~c|0)?a:0-c|0,e[s>>2]=F,N=I^N,r=r>>>31,r=T+r|0,r=r+N|0,r=r&4095,r=r&65535,r|0):(o|0)<=0?(F=o,e[s>>2]=F,N=I^N,r=r>>>31,r=T+r|0,r=r+N|0,r=r&4095,r=r&65535,r|0):(F=o-f|0,D=y[k>>1]|0,y[k>>1]=(D<<16>>16<127&1)+(D&65535),F=(F|0)>0?0:F,e[s>>2]=F,N=I^N,r=r>>>31,r=T+r|0,r=r+N|0,r=r&4095,r=r&65535,r|0)}function u2(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0;for(c=(e[t+156>>2]|0)-r|0,S=e[t+4584>>2]|0,I=e[t+4580>>2]|0,a=y[S+(r+-1<<1)>>1]|0,s=0;;){if(o=S+(s+r<<1)|0,(y[o>>1]|0)!=a<<16>>16){T=s;break}if(y[o>>1]=a,s=s+1|0,(s|0)==(c|0)){T=c;break}}if(f=a&65535,a=(T|0)==(c|0),A=t+4576|0,s=e[36476+(e[A>>2]<<2)>>2]|0,(1<<s|0)>(T|0))o=T;else{o=T;do C0(t,1,1),s=e[A>>2]|0,o=o-(1<<e[36476+(s<<2)>>2])|0,s=(s|0)>30?31:s+1|0,e[A>>2]=s,s=e[36476+(s<<2)>>2]|0;while((o|0)>=(1<<s|0))}return a?o?(C0(t,1,1),t=c,t|0):(t=c,t|0):(C0(t,o,s+1|0),o=T+r|0,a=S+(o<<1)|0,s=O[a>>1]|0,o=O[I+(o<<1)>>1]|0,I=f-o|0,(((I|0)>-1?I:0-I|0)|0)<1?(o=s-f<<20>>20,yo(t,t+4564|0,o),o=o+f|0):(I=o-f>>31|1,r=(J(s-o<<20,I)|0)>>20,yo(t,t+4552|0,r),o=(J(r,I)|0)+o|0),y[a>>1]=o&4095,t=e[A>>2]|0,e[A>>2]=(t|0)<1?0:t+-1|0,t=T+1|0,t|0)}function yo(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0;if(T=r+9|0,c=P[T>>0]|0,I=r+4|0,A=e[I>>2]|0,a=(J(c>>>1,A)|0)+(e[r>>2]|0)|0,(c|0)<(a|0)){f=c,s=0;do f=f<<1,s=s+1|0;while((f|0)<(a|0));a=s}else a=0;(o|0)>0&(a|0)==0&&P[r+10>>0]<<1>>>0<c>>>0?s=1:S=5;do if((S|0)==5){if(s=(o|0)<0,s&&P[r+10>>0]<<1>>>0>=c>>>0){s=1;break}s=s&(a|0)!=0}while(!1);if(s=(((o|0)>-1?o:0-o|0)<<1)-A+(s<<31>>31)|0,f2(t,a,s,47-(e[36476+(e[t+4576>>2]<<2)>>2]|0)|0),(o|0)<0&&(t=r+10|0,m[t>>0]=(P[t>>0]|0)+1),s=(s+1-(e[I>>2]|0)>>1)+(e[r>>2]|0)|0,e[r>>2]=s,a=m[T>>0]|0,a<<24>>24!=(m[r+8>>0]|0)){r=a,r=r&255,r=r+1|0,r=r&255,m[T>>0]=r;return}e[r>>2]=s>>1,t=(a&255)>>>1,m[T>>0]=t,r=r+10|0,m[r>>0]=(P[r>>0]|0)>>>1,r=t,r=r&255,r=r+1|0,r=r&255,m[T>>0]=r}function f2(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0;if(a=o>>r,f=s+-12|0,(a|0)<(s+-13|0)){(a|0)>30&&(s=(a|0)/2|0,C0(t,0,s),a=a-s|0),C0(t,1,a+1|0),C0(t,(1<<r)+-1&o,r);return}(f|0)>31?(C0(t,0,31),C0(t,1,s+-43|0)):C0(t,1,f),C0(t,o+4095&4095,12)}function c2(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0;if(I=b,b=b+32|0,S=I,dt(S,4095,0),A=t+160|0,(e[S+4>>2]|0)==(e[A>>2]|0)&&(e[S+8>>2]|0)==(e[t+164>>2]|0)&&(e[S+12>>2]|0)==(e[t+168>>2]|0)){A=e[8906]|0,e[t+4588>>2]=A+(((e[8907]|0)-A|0)>>>1),b=I;return}for(o=t+4592|0,s=t+4596|0,a=e[s>>2]|0,r=e[o>>2]|0,f=a-r|0,f>>>0>=8192?f>>>0>8192&&(c=r+8192|0,(a|0)!=(c|0))&&(e[s>>2]=c):(jt(o,8192-f|0),r=e[o>>2]|0),S=t+4588|0,e[S>>2]=r+4096,c=t+168|0,a=t+164|0,f=-4096;;){if(r=e[c>>2]|0,(f|0)>(0-r|0))if(o=e[a>>2]|0,(f|0)>(0-o|0))if(s=e[A>>2]|0,(f|0)>(0-s|0))if((f|0)>=0){if((f|0)<1){m[(e[S>>2]|0)+f>>0]=0,f=1;continue}(s|0)<=(f|0)?(o|0)>(f|0)?r=2:r=(r|0)>(f|0)?3:4:r=1}else r=-1;else r=-2;else r=-3;else r=-4;if(m[(e[S>>2]|0)+f>>0]=r,f=f+1|0,(f|0)==4096)break}b=I}function h2(t){t=t|0;var r=0,o=0;e[t>>2]=35940,r=e[t+4592>>2]|0,r&&(o=t+4596|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36612,r=e[t+120>>2]|0,r&&(o=t+124|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+92|0,r=e[o>>2]|0,e[o>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),t=t+4|0,r=e[t>>2]|0,e[t>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r)}function d2(t){t=t|0;var r=0,o=0;if(e[t>>2]=35940,r=e[t+4592>>2]|0,r&&(o=t+4596|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36612,r=e[t+120>>2]|0,r&&(o=t+124|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+92|0,r=e[o>>2]|0,e[o>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),o=t+4|0,r=e[o>>2]|0,e[o>>2]=0,!r){ue(t);return}T0[e[(e[r>>2]|0)+4>>2]&255](r),ue(t)}function p2(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0;a=b,b=b+32|0,S=a,dt(S,255,0),c=e[r+4>>2]|0,f=e[r+8>>2]|0,f=f|0?f:e[S+8>>2]|0,s=e[r+12>>2]|0,s=s|0?s:e[S+12>>2]|0,r=e[r+16>>2]|0,o=e[S+16>>2]|0,e[t+160>>2]=c|0?c:e[S+4>>2]|0,e[t+164>>2]=f,e[t+168>>2]=s,y2(t),s=0;do e[t+172+(s*12|0)>>2]=4,e[t+172+(s*12|0)+4>>2]=0,y[t+172+(s*12|0)+8>>1]=0,y[t+172+(s*12|0)+10>>1]=1,s=s+1|0;while((s|0)!=365);S=(r|0?r:o)&255,e[t+4552>>2]=4,e[t+4556>>2]=0,m[t+4560>>0]=S,m[t+4561>>0]=1,m[t+4562>>0]=0,e[t+4564>>2]=4,e[t+4568>>2]=1,m[t+4572>>0]=S,m[t+4573>>0]=1,m[t+4574>>0]=0,e[t+4576>>2]=0,b=a}function m2(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0;if(T=b,b=b+16|0,A=T,S=t+92|0,c=e[r>>2]|0,e[r>>2]=0,r=e[S>>2]|0,e[S>>2]=c,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),e[A>>2]=0,e[A+4>>2]=s,S=o+8|0,e[A+8>>2]=e[S>>2],s){r=We(4600)|0,s=t+8|0,a=r+4|0,f=s,c=a+84|0;do e[a>>2]=e[f>>2],a=a+4|0,f=f+4|0;while((a|0)<(c|0));a=r+88|0,c=a+40|0;do e[a>>2]=0,a=a+4|0;while((a|0)<(c|0));e[r>>2]=35716,a=r+132|0,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[r+148>>2]=e[s>>2],e[r+152>>2]=0,e[r+156>>2]=0,e[r+160>>2]=0,a=r+4544|0,s=r+164|0;do e[s>>2]=0,e[s+4>>2]=0,y[s+8>>1]=0,y[s+10>>1]=1,s=s+12|0;while((s|0)!=(a|0));f=t+4|0,e[a>>2]=0,e[a+4>>2]=0,y[a+8>>1]=0,m[a+10>>0]=0,c=r+4556|0,e[c>>2]=0,e[c+4>>2]=0,y[c+8>>1]=0,m[c+10>>0]=0,c=r+4568|0,e[c>>2]=0,e[c+4>>2]=0,e[c+8>>2]=0,e[c+12>>2]=0,e[c+16>>2]=0,e[c+20>>2]=0,e[c+24>>2]=0,m[c+28>>0]=0,e[r+28>>2]|0||(e[r+20>>2]=1),s=e[f>>2]|0,e[f>>2]=r,s&&(T0[e[(e[s>>2]|0)+4>>2]&255](s),r=e[f>>2]|0),Qt(r,A)}return A=t+100|0,e[A>>2]=32,e[t+96>>2]=0,r=e[o>>2]|0,r?(e[t+132>>2]=r,a=t+120|0,S=t+124|0,s=e[S>>2]|0,r=e[a>>2]|0,f=r,c=s-f|0,c>>>0>=4e3?c>>>0>4e3&&(I=r+4e3|0,(s|0)!=(I|0))&&(e[S>>2]=I,s=I):(Si(a,4e3-c|0),r=e[a>>2]|0,f=r,s=e[S>>2]|0),e[t+108>>2]=f,e[t+104>>2]=s-r,_o(t),I=t+116|0,I=e[I>>2]|0,t=e[A>>2]|0,t=t+-32|0,t=(t|0)/8|0,t=I-t|0,b=T,t|0):(e[t+108>>2]=e[o+4>>2],e[t+104>>2]=e[S>>2],_o(t),I=t+116|0,I=e[I>>2]|0,t=e[A>>2]|0,t=t+-32|0,t=(t|0)/8|0,t=I-t|0,b=T,t|0)}function g2(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0;if(B=b,b=b+352|0,L=B+328|0,M=B+192|0,o=B+343|0,s=B+342|0,a=B+341|0,f=B+340|0,D=B+176|0,S=B+168|0,A=B+160|0,I=B+152|0,q=B,N=B+136|0,e[t+32>>2]|0&&(e[t+24>>2]|0)!=1){if(F=t+8|0,z=t+36|0,c=e[z>>2]|0,!c){if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[o>>0]|0,Re(44,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}if(t=e[t+16>>2]|0,(t|0)==8)switch(c|0){case 1:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[s>>0]|0,Re(45,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[a>>0]|0,Re(46,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[f>>0]|0,Re(47,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=M+56|0,a=M+4|0,e[M>>2]=36160,e[c>>2]=36180,h=0,de(62,M+56|0,a|0),B=h,h=0,B&1&&(R=Q()|0,Ye(c),ne(R|0)),e[M+128>>2]=0,e[M+132>>2]=-1,e[M>>2]=36200,e[M+56>>2]=36220,h=0,oe(180,a|0),B=h,h=0;do if(B&1)t=Q()|0;else{if(e[a>>2]=36236,f=M+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[M+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),B=h,h=0,B&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,M|0,49007,21)|0,L=h,h=0;do if(!(L&1)&&(h=0,T=Ce(36,t|0,e[z>>2]|0)|0,L=h,h=0,!(L&1))&&(h=0,Oe(28,T|0,50997,18)|0,L=h,h=0,!(L&1))){if(s=g0(16)|0,h=0,de(64,D|0,a|0),L=h,h=0,L&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,D|0),L=h,h=0,L&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(D),!o)break;v0(s|0)}else R=34;while(!1);(R|0)==34&&(t=Q()|0),e[M>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}switch((t|0)<=8&&(t=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,t|0,8,35648),R=h,h=0,R&1||V0(t|0,824,96),R=Q()|0,v0(t|0),ne(R|0)),o=16-t|0,c|0){case 1:{if(t=We(60)|0,e[S>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[S>>2],e[L+4>>2]=e[S+4>>2],Re(41,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(60)|0,e[A>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[A>>2],e[L+4>>2]=e[A+4>>2],Re(42,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(60)|0,e[I>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[I>>2],e[L+4>>2]=e[I+4>>2],Re(43,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=q+56|0,a=q+4|0,e[q>>2]=36160,e[c>>2]=36180,h=0,de(62,q+56|0,a|0),M=h,h=0,M&1&&(R=Q()|0,Ye(c),ne(R|0)),e[q+128>>2]=0,e[q+132>>2]=-1,e[q>>2]=36200,e[q+56>>2]=36220,h=0,oe(180,a|0),M=h,h=0;do if(M&1)t=Q()|0;else{if(e[a>>2]=36236,f=q+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[q+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),M=h,h=0,M&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,q|0,49007,21)|0,M=h,h=0;do if(!(M&1)&&(h=0,k=Ce(36,t|0,e[z>>2]|0)|0,M=h,h=0,!(M&1))&&(h=0,Oe(28,k|0,50997,18)|0,M=h,h=0,!(M&1))){if(s=g0(16)|0,h=0,de(64,N|0,a|0),M=h,h=0,M&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,N|0),M=h,h=0,M&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(N),!o)break;v0(s|0)}else R=64;while(!1);(R|0)==64&&(t=Q()|0),e[q>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}}return o=e[r+4>>2]|0,s=We(16)|0,t=e[t+20>>2]|0,o?(e[s>>2]=36108,e[s+4>>2]=o,e[s+8>>2]=1,e[s+12>>2]=t,R=s,b=B,R|0):(R=e[r>>2]|0,e[s>>2]=36132,e[s+4>>2]=R,e[s+8>>2]=1,e[s+12>>2]=t,R=s,b=B,R|0)}function _o(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0;q=b,b=b+32|0,L=q+12|0,z=q,D=t+156|0,F=(e[D>>2]|0)+4|0,(e[t+32>>2]|0)==1?N=e[t+24>>2]|0:N=1,r=J(N<<1,F)|0,e[L>>2]=0,M=L+4|0,e[M>>2]=0,e[L+8>>2]=0;e:do if(r){if((r|0)<0&&(h=0,oe(178,L|0),B=h,h=0,B&1)||(f=6),(f|0)==6&&(h=0,o=ce(67,r|0)|0,B=h,h=0,!(B&1))){for(e[M>>2]=o,e[L>>2]=o,e[L+8>>2]=o+r;;)if(m[o>>0]=0,o=(e[M>>2]|0)+1|0,e[M>>2]=o,r=r+-1|0,!r)break e}o=Q()|0,r=e[L>>2]|0,r||ne(o|0),(e[M>>2]|0)!=(r|0)&&(e[M>>2]=r),ue(r),ne(o|0)}while(!1);e[z>>2]=0,B=z+4|0,e[B>>2]=0,e[z+8>>2]=0;do if(!N)f=19;else{if(N>>>0>1073741823&&(h=0,oe(178,z|0),k=h,h=0,k&1)||(f=17),(f|0)==17&&(s=N<<2,h=0,a=ce(67,s|0)|0,k=h,h=0,!(k&1))){e[z>>2]=a,f=a+(N<<2)|0,e[z+8>>2]=f,j0(a|0,0,s|0)|0,e[B>>2]=f,f=19;break}o=Q()|0,r=e[z>>2]|0,s=r,r&&(a=e[B>>2]|0,(a|0)!=(r|0)&&(e[B>>2]=a+(~((a+-4-s|0)>>>2)<<2)),ue(r))}while(!1);if((f|0)==19){a=t+12|0;e:do if((e[a>>2]|0)>0){f=t+4580|0,c=(J(N,F)|0)+1|0,S=t+4584|0,A=t+92|0,I=(N|0)>0,T=t+4576|0,k=0;t:for(;;){if(o=e[L>>2]|0,r=o+1|0,e[f>>2]=r,o=o+c|0,e[S>>2]=o,k&1?(e[f>>2]=o,e[S>>2]=r):r=o,s=e[A>>2]|0,h=0,Re(e[(e[s>>2]|0)+12>>2]|0,s|0,r|0,e[D>>2]|0,F|0),s=h,h=0,s&1){f=29;break}if(I){r=e[f>>2]|0,o=e[z>>2]|0,s=0;do{if(e[T>>2]=e[o+(s<<2)>>2],o=e[D>>2]|0,m[r+o>>0]=m[r+(o+-1)>>0]|0,m[(e[S>>2]|0)+-1>>0]=m[e[f>>2]>>0]|0,h=0,de(73,t|0,0),o=h,h=0,o&1){f=28;break t}o=e[z>>2]|0,e[o+(s<<2)>>2]=e[T>>2],r=(e[f>>2]|0)+F|0,e[f>>2]=r,e[S>>2]=(e[S>>2]|0)+F,s=s+1|0}while((s|0)<(N|0))}if(k=k+1|0,(k|0)>=(e[a>>2]|0)){f=41;break e}}if((f|0)==28){o=Q()|0;break}else if((f|0)==29){o=Q()|0;break}}else f=41;while(!1);do if((f|0)==41){if(h=0,oe(182,t|0),t=h,h=0,t&1){o=Q()|0;break}if(r=e[z>>2]|0,o=r,r&&(s=e[B>>2]|0,(s|0)!=(r|0)&&(e[B>>2]=s+(~((s+-4-o|0)>>>2)<<2)),ue(r)),r=e[L>>2]|0,!r){b=q;return}(e[M>>2]|0)!=(r|0)&&(e[M>>2]=r),ue(r),b=q;return}while(!1);r=e[z>>2]|0,s=r,r&&(a=e[B>>2]|0,(a|0)!=(r|0)&&(e[B>>2]=a+(~((a+-4-s|0)>>>2)<<2)),ue(r))}r=e[L>>2]|0,r||ne(o|0),(e[M>>2]|0)!=(r|0)&&(e[M>>2]=r),ue(r),ne(o|0)}function v2(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;if(k=t+4580|0,r=e[k>>2]|0,N=t+156|0,!((e[N>>2]|0)<=0))for(D=t+4584|0,F=t+4588|0,a=r,f=P[r+-1>>0]|0,r=P[r>>0]|0,T=0;I=e[D>>2]|0,A=P[I+(T+-1)>>0]|0,s=T+1|0,o=P[a+s>>0]|0,S=e[F>>2]|0,c=r-f|0,a=f-A|0,S=((((m[S+(o-r)>>0]|0)*9|0)+(m[S+c>>0]|0)|0)*9|0)+(m[S+a>>0]|0)|0,S?(f=r-A>>31,(f^a|0)<0?a=r:a=A+((f^c|0)<0?0:c)|0,I=S2(t,S,P[I+T>>0]|0,a,0)|0,m[(e[D>>2]|0)+T>>0]=I):(s=(w2(t,T,0)|0)+T|0,o=e[k>>2]|0,r=P[o+(s+-1)>>0]|0,o=P[o+s>>0]|0),!((s|0)>=(e[N>>2]|0));)a=e[k>>2]|0,f=r,r=o,T=s}function S2(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;if(N=r>>31,A=(N^r)-N|0,F=t+172+(A*12|0)+10|0,c=y[F>>1]|0,D=t+172+(A*12|0)|0,a=e[D>>2]|0,(c|0)<(a|0))if((c<<1|0)<(a|0))if((c<<2|0)<(a|0))if((c<<3|0)<(a|0))if((c<<4|0)<(a|0))for(f=5;(c<<f|0)<(a|0);)f=f+1|0;else f=4;else f=3;else f=2;else f=1;else f=0;return k=t+172+(A*12|0)+8|0,a=(y[k>>1]^N)-N+s|0,(a&255|0)==(a|0)?T=a:T=a>>31&255^255,S=(o-T^N)-N<<24,I=S>>24,f?a=0:a=(e[t+172+(A*12|0)+4>>2]<<1)+-1+c>>31,a=a^I,a=a>>30^a<<1,s=a>>f,(s|0)<23?(C0(t,1,s+1|0),C0(t,a&(1<<f)+-1,f)):(C0(t,1,24),C0(t,a+255&255,8)),s=t+172+(A*12|0)+4|0,c=y[F>>1]|0,a=c<<16>>16==64,f=a&1,o=(e[s>>2]|0)+I>>f,c=a?32:c<<16>>16,e[D>>2]=(e[D>>2]|0)+((S|0)>-16777216?I:0-I|0)>>f,f=c+1|0,y[F>>1]=f,a=f+o|0,(a|0)<1?(F=y[k>>1]|0,y[k>>1]=(F&65535)-(F<<16>>16>-128&1),F=(a|0)>(~c|0)?a:0-c|0,e[s>>2]=F,N=I^N,r=r>>>31,r=T+r|0,r=r+N|0,r=r&255,r|0):(o|0)<=0?(F=o,e[s>>2]=F,N=I^N,r=r>>>31,r=T+r|0,r=r+N|0,r=r&255,r|0):(F=o-f|0,D=y[k>>1]|0,y[k>>1]=(D<<16>>16<127&1)+(D&65535),F=(F|0)>0?0:F,e[s>>2]=F,N=I^N,r=r>>>31,r=T+r|0,r=r+N|0,r=r&255,r|0)}function w2(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0;for(c=(e[t+156>>2]|0)-r|0,S=e[t+4584>>2]|0,I=e[t+4580>>2]|0,a=m[S+(r+-1)>>0]|0,s=0;;){if(o=S+(s+r)|0,(m[o>>0]|0)!=a<<24>>24){T=s;break}if(m[o>>0]=a,s=s+1|0,(s|0)==(c|0)){T=c;break}}if(f=a&255,a=(T|0)==(c|0),A=t+4576|0,s=e[36476+(e[A>>2]<<2)>>2]|0,(1<<s|0)>(T|0))o=T;else{o=T;do C0(t,1,1),s=e[A>>2]|0,o=o-(1<<e[36476+(s<<2)>>2])|0,s=(s|0)>30?31:s+1|0,e[A>>2]=s,s=e[36476+(s<<2)>>2]|0;while((o|0)>=(1<<s|0))}return a?o?(C0(t,1,1),t=c,t|0):(t=c,t|0):(C0(t,o,s+1|0),o=T+r|0,a=S+o|0,s=P[a>>0]|0,o=P[I+o>>0]|0,I=f-o|0,(((I|0)>-1?I:0-I|0)|0)<1?(o=s-f<<24>>24,xo(t,t+4564|0,o),o=o+f|0):(I=o-f>>31|1,r=(J(s-o<<24,I)|0)>>24,xo(t,t+4552|0,r),o=(J(r,I)|0)+o|0),m[a>>0]=o,t=e[A>>2]|0,e[A>>2]=(t|0)<1?0:t+-1|0,t=T+1|0,t|0)}function xo(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0;if(T=r+9|0,c=P[T>>0]|0,I=r+4|0,A=e[I>>2]|0,a=(J(c>>>1,A)|0)+(e[r>>2]|0)|0,(c|0)<(a|0)){f=c,s=0;do f=f<<1,s=s+1|0;while((f|0)<(a|0));a=s}else a=0;(o|0)>0&(a|0)==0&&P[r+10>>0]<<1>>>0<c>>>0?s=1:S=5;do if((S|0)==5){if(s=(o|0)<0,s&&P[r+10>>0]<<1>>>0>=c>>>0){s=1;break}s=s&(a|0)!=0}while(!1);if(s=(((o|0)>-1?o:0-o|0)<<1)-A+(s<<31>>31)|0,A2(t,a,s,31-(e[36476+(e[t+4576>>2]<<2)>>2]|0)|0),(o|0)<0&&(t=r+10|0,m[t>>0]=(P[t>>0]|0)+1),s=(s+1-(e[I>>2]|0)>>1)+(e[r>>2]|0)|0,e[r>>2]=s,a=m[T>>0]|0,a<<24>>24!=(m[r+8>>0]|0)){r=a,r=r&255,r=r+1|0,r=r&255,m[T>>0]=r;return}e[r>>2]=s>>1,t=(a&255)>>>1,m[T>>0]=t,r=r+10|0,m[r>>0]=(P[r>>0]|0)>>>1,r=t,r=r&255,r=r+1|0,r=r&255,m[T>>0]=r}function A2(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0;if(a=o>>r,f=s+-8|0,(a|0)<(s+-9|0)){(a|0)>30&&(s=(a|0)/2|0,C0(t,0,s),a=a-s|0),C0(t,1,a+1|0),C0(t,(1<<r)+-1&o,r);return}(f|0)>31?(C0(t,0,31),C0(t,1,s+-39|0)):C0(t,1,f),C0(t,o+255&255,8)}function y2(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0;if(I=b,b=b+32|0,S=I,dt(S,255,0),A=t+160|0,(e[S+4>>2]|0)==(e[A>>2]|0)&&(e[S+8>>2]|0)==(e[t+164>>2]|0)&&(e[S+12>>2]|0)==(e[t+168>>2]|0)){A=e[8900]|0,e[t+4588>>2]=A+(((e[8901]|0)-A|0)>>>1),b=I;return}for(o=t+4592|0,s=t+4596|0,a=e[s>>2]|0,r=e[o>>2]|0,f=a-r|0,f>>>0>=512?f>>>0>512&&(c=r+512|0,(a|0)!=(c|0))&&(e[s>>2]=c):(jt(o,512-f|0),r=e[o>>2]|0),S=t+4588|0,e[S>>2]=r+256,c=t+168|0,a=t+164|0,f=-256;;){if(r=e[c>>2]|0,(f|0)>(0-r|0))if(o=e[a>>2]|0,(f|0)>(0-o|0))if(s=e[A>>2]|0,(f|0)>(0-s|0))if((f|0)>=0){if((f|0)<1){m[(e[S>>2]|0)+f>>0]=0,f=1;continue}(s|0)<=(f|0)?(o|0)>(f|0)?r=2:r=(r|0)>(f|0)?3:4:r=1}else r=-1;else r=-2;else r=-3;else r=-4;if(m[(e[S>>2]|0)+f>>0]=r,f=f+1|0,(f|0)==256)break}b=I}function _2(t){t=t|0;var r=0,o=0;e[t>>2]=35912,r=e[t+4592>>2]|0,r&&(o=t+4596|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36612,r=e[t+120>>2]|0,r&&(o=t+124|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+92|0,r=e[o>>2]|0,e[o>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),t=t+4|0,r=e[t>>2]|0,e[t>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r)}function x2(t){t=t|0;var r=0,o=0;if(e[t>>2]=35912,r=e[t+4592>>2]|0,r&&(o=t+4596|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36612,r=e[t+120>>2]|0,r&&(o=t+124|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+92|0,r=e[o>>2]|0,e[o>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),o=t+4|0,r=e[o>>2]|0,e[o>>2]=0,!r){ue(t);return}T0[e[(e[r>>2]|0)+4>>2]&255](r),ue(t)}function T2(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0;a=b,b=b+32|0,S=a,dt(S,255,0),c=e[r+4>>2]|0,f=e[r+8>>2]|0,f=f|0?f:e[S+8>>2]|0,s=e[r+12>>2]|0,s=s|0?s:e[S+12>>2]|0,r=e[r+16>>2]|0,o=e[S+16>>2]|0,e[t+160>>2]=c|0?c:e[S+4>>2]|0,e[t+164>>2]=f,e[t+168>>2]=s,P2(t),s=0;do e[t+172+(s*12|0)>>2]=4,e[t+172+(s*12|0)+4>>2]=0,y[t+172+(s*12|0)+8>>1]=0,y[t+172+(s*12|0)+10>>1]=1,s=s+1|0;while((s|0)!=365);S=(r|0?r:o)&255,e[t+4552>>2]=4,e[t+4556>>2]=0,m[t+4560>>0]=S,m[t+4561>>0]=1,m[t+4562>>0]=0,e[t+4564>>2]=4,e[t+4568>>2]=1,m[t+4572>>0]=S,m[t+4573>>0]=1,m[t+4574>>0]=0,e[t+4576>>2]=0,b=a}function I2(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0;if(T=b,b=b+16|0,A=T,S=t+92|0,c=e[r>>2]|0,e[r>>2]=0,r=e[S>>2]|0,e[S>>2]=c,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),e[A>>2]=0,e[A+4>>2]=s,S=o+8|0,e[A+8>>2]=e[S>>2],s){r=We(4600)|0,s=t+8|0,a=r+4|0,f=s,c=a+84|0;do e[a>>2]=e[f>>2],a=a+4|0,f=f+4|0;while((a|0)<(c|0));a=r+88|0,c=a+40|0;do e[a>>2]=0,a=a+4|0;while((a|0)<(c|0));e[r>>2]=35688,a=r+132|0,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[r+148>>2]=e[s>>2],e[r+152>>2]=0,e[r+156>>2]=0,e[r+160>>2]=0,a=r+4544|0,s=r+164|0;do e[s>>2]=0,e[s+4>>2]=0,y[s+8>>1]=0,y[s+10>>1]=1,s=s+12|0;while((s|0)!=(a|0));f=t+4|0,e[a>>2]=0,e[a+4>>2]=0,y[a+8>>1]=0,m[a+10>>0]=0,c=r+4556|0,e[c>>2]=0,e[c+4>>2]=0,y[c+8>>1]=0,m[c+10>>0]=0,c=r+4568|0,e[c>>2]=0,e[c+4>>2]=0,e[c+8>>2]=0,e[c+12>>2]=0,e[c+16>>2]=0,e[c+20>>2]=0,e[c+24>>2]=0,m[c+28>>0]=0,e[r+28>>2]|0||(e[r+20>>2]=1),s=e[f>>2]|0,e[f>>2]=r,s&&(T0[e[(e[s>>2]|0)+4>>2]&255](s),r=e[f>>2]|0),Qt(r,A)}return A=t+100|0,e[A>>2]=32,e[t+96>>2]=0,r=e[o>>2]|0,r?(e[t+132>>2]=r,a=t+120|0,S=t+124|0,s=e[S>>2]|0,r=e[a>>2]|0,f=r,c=s-f|0,c>>>0>=4e3?c>>>0>4e3&&(I=r+4e3|0,(s|0)!=(I|0))&&(e[S>>2]=I,s=I):(Si(a,4e3-c|0),r=e[a>>2]|0,f=r,s=e[S>>2]|0),e[t+108>>2]=f,e[t+104>>2]=s-r,To(t),I=t+116|0,I=e[I>>2]|0,t=e[A>>2]|0,t=t+-32|0,t=(t|0)/8|0,t=I-t|0,b=T,t|0):(e[t+108>>2]=e[o+4>>2],e[t+104>>2]=e[S>>2],To(t),I=t+116|0,I=e[I>>2]|0,t=e[A>>2]|0,t=t+-32|0,t=(t|0)/8|0,t=I-t|0,b=T,t|0)}function C2(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0;if(B=b,b=b+352|0,L=B+328|0,M=B+192|0,o=B+343|0,s=B+342|0,a=B+341|0,f=B+340|0,D=B+176|0,S=B+168|0,A=B+160|0,I=B+152|0,q=B,N=B+136|0,e[t+32>>2]|0&&(e[t+24>>2]|0)!=1){if(F=t+8|0,z=t+36|0,c=e[z>>2]|0,!c){if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[o>>0]|0,Re(44,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}if(t=e[t+16>>2]|0,(t|0)==8)switch(c|0){case 1:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[s>>0]|0,Re(45,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[a>>0]|0,Re(46,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[f>>0]|0,Re(47,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=M+56|0,a=M+4|0,e[M>>2]=36160,e[c>>2]=36180,h=0,de(62,M+56|0,a|0),B=h,h=0,B&1&&(R=Q()|0,Ye(c),ne(R|0)),e[M+128>>2]=0,e[M+132>>2]=-1,e[M>>2]=36200,e[M+56>>2]=36220,h=0,oe(180,a|0),B=h,h=0;do if(B&1)t=Q()|0;else{if(e[a>>2]=36236,f=M+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[M+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),B=h,h=0,B&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,M|0,49007,21)|0,L=h,h=0;do if(!(L&1)&&(h=0,T=Ce(36,t|0,e[z>>2]|0)|0,L=h,h=0,!(L&1))&&(h=0,Oe(28,T|0,50997,18)|0,L=h,h=0,!(L&1))){if(s=g0(16)|0,h=0,de(64,D|0,a|0),L=h,h=0,L&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,D|0),L=h,h=0,L&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(D),!o)break;v0(s|0)}else R=34;while(!1);(R|0)==34&&(t=Q()|0),e[M>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}switch((t|0)<=8&&(t=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,t|0,8,35648),R=h,h=0,R&1||V0(t|0,824,96),R=Q()|0,v0(t|0),ne(R|0)),o=16-t|0,c|0){case 1:{if(t=We(60)|0,e[S>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[S>>2],e[L+4>>2]=e[S+4>>2],Re(41,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(60)|0,e[A>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[A>>2],e[L+4>>2]=e[A+4>>2],Re(42,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(60)|0,e[I>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[I>>2],e[L+4>>2]=e[I+4>>2],Re(43,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=q+56|0,a=q+4|0,e[q>>2]=36160,e[c>>2]=36180,h=0,de(62,q+56|0,a|0),M=h,h=0,M&1&&(R=Q()|0,Ye(c),ne(R|0)),e[q+128>>2]=0,e[q+132>>2]=-1,e[q>>2]=36200,e[q+56>>2]=36220,h=0,oe(180,a|0),M=h,h=0;do if(M&1)t=Q()|0;else{if(e[a>>2]=36236,f=q+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[q+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),M=h,h=0,M&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,q|0,49007,21)|0,M=h,h=0;do if(!(M&1)&&(h=0,k=Ce(36,t|0,e[z>>2]|0)|0,M=h,h=0,!(M&1))&&(h=0,Oe(28,k|0,50997,18)|0,M=h,h=0,!(M&1))){if(s=g0(16)|0,h=0,de(64,N|0,a|0),M=h,h=0,M&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,N|0),M=h,h=0,M&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(N),!o)break;v0(s|0)}else R=64;while(!1);(R|0)==64&&(t=Q()|0),e[q>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}}return o=e[r+4>>2]|0,s=We(16)|0,t=e[t+20>>2]|0,o?(e[s>>2]=36108,e[s+4>>2]=o,e[s+8>>2]=3,e[s+12>>2]=t,R=s,b=B,R|0):(R=e[r>>2]|0,e[s>>2]=36132,e[s+4>>2]=R,e[s+8>>2]=3,e[s+12>>2]=t,R=s,b=B,R|0)}function To(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0;q=b,b=b+32|0,L=q+12|0,z=q,D=t+156|0,F=(e[D>>2]|0)+4|0,(e[t+32>>2]|0)==1?N=e[t+24>>2]|0:N=1,r=J(N<<1,F)|0,e[L>>2]=0,M=L+4|0,e[M>>2]=0,e[L+8>>2]=0;e:do if(r){if(r>>>0>1431655765&&(h=0,oe(178,L|0),B=h,h=0,B&1)||(f=6),(f|0)==6&&(h=0,o=ce(67,r*3|0)|0,B=h,h=0,!(B&1))){for(e[M>>2]=o,e[L>>2]=o,e[L+8>>2]=o+(r*3|0);;)if(m[o>>0]=0,m[o+1>>0]=0,m[o+2>>0]=0,o=(e[M>>2]|0)+3|0,e[M>>2]=o,r=r+-1|0,!r)break e}s=Q()|0,r=e[L>>2]|0,r||ne(s|0),o=e[M>>2]|0,(o|0)!=(r|0)&&(e[M>>2]=o+(~(((o+-3-r|0)>>>0)/3|0)*3|0)),ue(r),ne(s|0)}while(!1);e[z>>2]=0,B=z+4|0,e[B>>2]=0,e[z+8>>2]=0;do if(!N)f=19;else{if(N>>>0>1073741823&&(h=0,oe(178,z|0),k=h,h=0,k&1)||(f=17),(f|0)==17&&(s=N<<2,h=0,a=ce(67,s|0)|0,k=h,h=0,!(k&1))){e[z>>2]=a,f=a+(N<<2)|0,e[z+8>>2]=f,j0(a|0,0,s|0)|0,e[B>>2]=f,f=19;break}s=Q()|0,r=e[z>>2]|0,o=r,r&&(a=e[B>>2]|0,(a|0)!=(r|0)&&(e[B>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ue(r))}while(!1);if((f|0)==19){a=t+12|0;e:do if((e[a>>2]|0)>0){f=t+4580|0,c=(J(N,F)|0)+1|0,S=t+4584|0,A=t+92|0,I=(N|0)>0,T=t+4576|0,k=0;t:for(;;){if(s=e[L>>2]|0,r=s+3|0,e[f>>2]=r,o=s+(c*3|0)|0,e[S>>2]=o,k&1?(e[f>>2]=o,e[S>>2]=r,r=1):r=c,o=e[A>>2]|0,h=0,Re(e[(e[o>>2]|0)+12>>2]|0,o|0,s+(r*3|0)|0,e[D>>2]|0,F|0),s=h,h=0,s&1){f=29;break}if(I){r=e[z>>2]|0,o=e[f>>2]|0,s=0;do{if(e[T>>2]=e[r+(s<<2)>>2],R=e[D>>2]|0,r=o+(R*3|0)|0,o=o+((R+-1|0)*3|0)|0,m[r>>0]=m[o>>0]|0,m[r+1>>0]=m[o+1>>0]|0,m[r+2>>0]=m[o+2>>0]|0,r=e[f>>2]|0,o=(e[S>>2]|0)+-3|0,m[o>>0]=m[r>>0]|0,m[o+1>>0]=m[r+1>>0]|0,m[o+2>>0]=m[r+2>>0]|0,h=0,de(74,t|0,0),o=h,h=0,o&1){f=28;break t}r=e[z>>2]|0,e[r+(s<<2)>>2]=e[T>>2],o=(e[f>>2]|0)+(F*3|0)|0,e[f>>2]=o,e[S>>2]=(e[S>>2]|0)+(F*3|0),s=s+1|0}while((s|0)<(N|0))}if(k=k+1|0,(k|0)>=(e[a>>2]|0)){f=41;break e}}if((f|0)==28){s=Q()|0;break}else if((f|0)==29){s=Q()|0;break}}else f=41;while(!1);do if((f|0)==41){if(h=0,oe(182,t|0),R=h,h=0,R&1){s=Q()|0;break}if(r=e[z>>2]|0,o=r,r&&(s=e[B>>2]|0,(s|0)!=(r|0)&&(e[B>>2]=s+(~((s+-4-o|0)>>>2)<<2)),ue(r)),r=e[L>>2]|0,!r){b=q;return}o=e[M>>2]|0,(o|0)!=(r|0)&&(e[M>>2]=o+(~(((o+-3-r|0)>>>0)/3|0)*3|0)),ue(r),b=q;return}while(!1);r=e[z>>2]|0,o=r,r&&(a=e[B>>2]|0,(a|0)!=(r|0)&&(e[B>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ue(r))}r=e[L>>2]|0,r||ne(s|0),o=e[M>>2]|0,(o|0)!=(r|0)&&(e[M>>2]=o+(~(((o+-3-r|0)>>>0)/3|0)*3|0)),ue(r),ne(s|0)}function E2(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0;if(re=t+156|0,!((e[re>>2]|0)<=0))for(ee=t+4584|0,se=t+4580|0,Te=t+4588|0,Z=0;M=Z+-1|0,f=e[ee>>2]|0,c=e[se>>2]|0,r=Z+1|0,a=P[c+(Z*3|0)>>0]|0,K=e[Te>>2]|0,S=P[c+(M*3|0)>>0]|0,A=a-S|0,I=P[f+(M*3|0)>>0]|0,T=S-I|0,k=((((m[K+((P[c+(r*3|0)>>0]|0)-a)>>0]|0)*9|0)+(m[K+A>>0]|0)|0)*9|0)+(m[K+T>>0]|0)|0,s=P[c+(Z*3|0)+1>>0]|0,D=P[c+(M*3|0)+1>>0]|0,F=s-D|0,N=P[f+(M*3|0)+1>>0]|0,z=D-N|0,q=((((m[K+((P[c+(r*3|0)+1>>0]|0)-s)>>0]|0)*9|0)+(m[K+F>>0]|0)|0)*9|0)+(m[K+z>>0]|0)|0,o=P[c+(Z*3|0)+2>>0]|0,B=P[c+(M*3|0)+2>>0]|0,L=o-B|0,M=P[f+(M*3|0)+2>>0]|0,R=B-M|0,K=((((m[K+((P[c+(r*3|0)+2>>0]|0)-o)>>0]|0)*9|0)+(m[K+L>>0]|0)|0)*9|0)+(m[K+R>>0]|0)|0,q|k|K?(c=P[f+(Z*3|0)>>0]|0,f=a-I>>31,(f^T|0)>=0&&((f^A|0)<0?a=I:a=I-S+a|0),c=on(t,k,c,a,0)|0,f=P[(e[ee>>2]|0)+(Z*3|0)+1>>0]|0,a=s-N>>31,(a^z|0)>=0&&((a^F|0)<0?s=N:s=N-D+s|0),a=on(t,q,f,s,0)|0,f=P[(e[ee>>2]|0)+(Z*3|0)+2>>0]|0,s=o-M>>31,(s^R|0)>=0&&((s^L|0)<0?o=M:o=M-B+o|0),K=on(t,K,f,o,0)|0,Z=(e[ee>>2]|0)+(Z*3|0)|0,m[Z>>0]=c,m[Z+1>>0]=a,m[Z+2>>0]=K):r=(k2(t,Z,0)|0)+Z|0,(r|0)<(e[re>>2]|0);)Z=r}function k2(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0;for(I=(e[t+156>>2]|0)-r|0,T=e[t+4584>>2]|0,k=e[t+4580>>2]|0,A=T+((r+-1|0)*3|0)|0,D=m[A>>0]|0,S=m[A+1>>0]|0,A=m[A+2>>0]|0,f=0;o=T+((f+r|0)*3|0)|0,s=o+1|0,a=o+2|0,!!(((m[o>>0]|0)==D<<24>>24?(m[s>>0]|0)==S<<24>>24:0)&(m[a>>0]|0)==A<<24>>24);)if(m[o>>0]=D,m[s>>0]=S,m[a>>0]=A,f=f+1|0,(f|0)==(I|0)){f=I;break}if(a=(f|0)==(I|0),c=t+4576|0,s=e[36476+(e[c>>2]<<2)>>2]|0,(1<<s|0)>(f|0))o=f;else{o=f;do C0(t,1,1),s=e[c>>2]|0,o=o-(1<<e[36476+(s<<2)>>2])|0,s=(s|0)>30?31:s+1|0,e[c>>2]=s,s=e[36476+(s<<2)>>2]|0;while((o|0)>=(1<<s|0))}return a?o?(C0(t,1,1),q=I,q|0):(q=I,q|0):(C0(t,o,s+1|0),s=f+r|0,I=T+(s*3|0)|0,T=I+1|0,o=m[T>>0]|0,r=I+2|0,a=m[r>>0]|0,k=k+(s*3|0)|0,s=m[k+1>>0]|0,q=m[k+2>>0]|0,k=P[k>>0]|0,F=k-(D&255)>>31|1,N=(J((P[I>>0]|0)-k<<24,F)|0)>>24,z=t+4552|0,sn(t,z,N),D=s&255,s=D-(S&255)>>31|1,o=(J((o&255)-D<<24,s)|0)>>24,sn(t,z,o),S=q&255,A=S-(A&255)>>31|1,a=(J((a&255)-S<<24,A)|0)>>24,sn(t,z,a),k=(J(N,F)|0)+k&255,D=(J(o,s)|0)+D&255,t=(J(a,A)|0)+S&255,m[I>>0]=k,m[T>>0]=D,m[r>>0]=t,t=e[c>>2]|0,e[c>>2]=(t|0)<1?0:t+-1|0,t=f+1|0,t|0)}function on(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;if(N=r>>31,A=(N^r)-N|0,F=t+172+(A*12|0)+10|0,c=y[F>>1]|0,D=t+172+(A*12|0)|0,a=e[D>>2]|0,(c|0)<(a|0))if((c<<1|0)<(a|0))if((c<<2|0)<(a|0))if((c<<3|0)<(a|0))if((c<<4|0)<(a|0))for(f=5;(c<<f|0)<(a|0);)f=f+1|0;else f=4;else f=3;else f=2;else f=1;else f=0;return k=t+172+(A*12|0)+8|0,a=(y[k>>1]^N)-N+s|0,(a&255|0)==(a|0)?T=a:T=a>>31&255^255,S=(o-T^N)-N<<24,I=S>>24,f?a=0:a=(e[t+172+(A*12|0)+4>>2]<<1)+-1+c>>31,a=a^I,a=a>>30^a<<1,s=a>>f,(s|0)<23?(C0(t,1,s+1|0),C0(t,a&(1<<f)+-1,f)):(C0(t,1,24),C0(t,a+255&255,8)),s=t+172+(A*12|0)+4|0,c=y[F>>1]|0,a=c<<16>>16==64,f=a&1,o=(e[s>>2]|0)+I>>f,c=a?32:c<<16>>16,e[D>>2]=(e[D>>2]|0)+((S|0)>-16777216?I:0-I|0)>>f,f=c+1|0,y[F>>1]=f,a=f+o|0,(a|0)<1?(F=y[k>>1]|0,y[k>>1]=(F&65535)-(F<<16>>16>-128&1),F=(a|0)>(~c|0)?a:0-c|0,e[s>>2]=F,N=I^N,r=r>>>31,r=T+r|0,r=r+N|0,r=r&255,r|0):(o|0)<=0?(F=o,e[s>>2]=F,N=I^N,r=r>>>31,r=T+r|0,r=r+N|0,r=r&255,r|0):(F=o-f|0,D=y[k>>1]|0,y[k>>1]=(D<<16>>16<127&1)+(D&65535),F=(F|0)>0?0:F,e[s>>2]=F,N=I^N,r=r>>>31,r=T+r|0,r=r+N|0,r=r&255,r|0)}function sn(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0;if(T=r+9|0,c=P[T>>0]|0,I=r+4|0,A=e[I>>2]|0,a=(J(c>>>1,A)|0)+(e[r>>2]|0)|0,(c|0)<(a|0)){f=c,s=0;do f=f<<1,s=s+1|0;while((f|0)<(a|0));a=s}else a=0;(o|0)>0&(a|0)==0&&P[r+10>>0]<<1>>>0<c>>>0?s=1:S=5;do if((S|0)==5){if(s=(o|0)<0,s&&P[r+10>>0]<<1>>>0>=c>>>0){s=1;break}s=s&(a|0)!=0}while(!1);if(s=(((o|0)>-1?o:0-o|0)<<1)-A+(s<<31>>31)|0,D2(t,a,s,31-(e[36476+(e[t+4576>>2]<<2)>>2]|0)|0),(o|0)<0&&(t=r+10|0,m[t>>0]=(P[t>>0]|0)+1),s=(s+1-(e[I>>2]|0)>>1)+(e[r>>2]|0)|0,e[r>>2]=s,a=m[T>>0]|0,a<<24>>24!=(m[r+8>>0]|0)){r=a,r=r&255,r=r+1|0,r=r&255,m[T>>0]=r;return}e[r>>2]=s>>1,t=(a&255)>>>1,m[T>>0]=t,r=r+10|0,m[r>>0]=(P[r>>0]|0)>>>1,r=t,r=r&255,r=r+1|0,r=r&255,m[T>>0]=r}function D2(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0;if(a=o>>r,f=s+-8|0,(a|0)<(s+-9|0)){(a|0)>30&&(s=(a|0)/2|0,C0(t,0,s),a=a-s|0),C0(t,1,a+1|0),C0(t,(1<<r)+-1&o,r);return}(f|0)>31?(C0(t,0,31),C0(t,1,s+-39|0)):C0(t,1,f),C0(t,o+255&255,8)}function P2(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0;if(I=b,b=b+32|0,S=I,dt(S,255,0),A=t+160|0,(e[S+4>>2]|0)==(e[A>>2]|0)&&(e[S+8>>2]|0)==(e[t+164>>2]|0)&&(e[S+12>>2]|0)==(e[t+168>>2]|0)){A=e[8900]|0,e[t+4588>>2]=A+(((e[8901]|0)-A|0)>>>1),b=I;return}for(o=t+4592|0,s=t+4596|0,a=e[s>>2]|0,r=e[o>>2]|0,f=a-r|0,f>>>0>=512?f>>>0>512&&(c=r+512|0,(a|0)!=(c|0))&&(e[s>>2]=c):(jt(o,512-f|0),r=e[o>>2]|0),S=t+4588|0,e[S>>2]=r+256,c=t+168|0,a=t+164|0,f=-256;;){if(r=e[c>>2]|0,(f|0)>(0-r|0))if(o=e[a>>2]|0,(f|0)>(0-o|0))if(s=e[A>>2]|0,(f|0)>(0-s|0))if((f|0)>=0){if((f|0)<1){m[(e[S>>2]|0)+f>>0]=0,f=1;continue}(s|0)<=(f|0)?(o|0)>(f|0)?r=2:r=(r|0)>(f|0)?3:4:r=1}else r=-1;else r=-2;else r=-3;else r=-4;if(m[(e[S>>2]|0)+f>>0]=r,f=f+1|0,(f|0)==256)break}b=I}function F2(t){t=t|0;var r=0,o=0;e[t>>2]=35884,r=e[t+4616>>2]|0,r&&(o=t+4620|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36612,r=e[t+120>>2]|0,r&&(o=t+124|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+92|0,r=e[o>>2]|0,e[o>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),t=t+4|0,r=e[t>>2]|0,e[t>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r)}function M2(t){t=t|0;var r=0,o=0;if(e[t>>2]=35884,r=e[t+4616>>2]|0,r&&(o=t+4620|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36612,r=e[t+120>>2]|0,r&&(o=t+124|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+92|0,r=e[o>>2]|0,e[o>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),o=t+4|0,r=e[o>>2]|0,e[o>>2]=0,!r){ue(t);return}T0[e[(e[r>>2]|0)+4>>2]&255](r),ue(t)}function R2(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0;c=b,b=b+32|0,A=c,dt(A,e[t+136>>2]|0,e[t+144>>2]|0),S=e[r+4>>2]|0,f=e[r+8>>2]|0,f=f|0?f:e[A+8>>2]|0,a=e[r+12>>2]|0,a=a|0?a:e[A+12>>2]|0,o=e[r+16>>2]|0,s=e[A+16>>2]|0,e[t+184>>2]=S|0?S:e[A+4>>2]|0,e[t+188>>2]=f,e[t+192>>2]=a,z2(t),a=t+140|0,r=(e[a>>2]|0)+32|0,r=(r|0)<128?2:(r|0)/64|0,f=0;do e[t+196+(f*12|0)>>2]=r,e[t+196+(f*12|0)+4>>2]=0,y[t+196+(f*12|0)+8>>1]=0,y[t+196+(f*12|0)+10>>1]=1,f=f+1|0;while((f|0)!=365);S=(e[a>>2]|0)+32|0,S=(S|0)<128?2:(S|0)/64|0,A=(o|0?o:s)&255,e[t+4576>>2]=S,e[t+4580>>2]=0,m[t+4584>>0]=A,m[t+4585>>0]=1,m[t+4586>>0]=0,e[t+4588>>2]=S,e[t+4592>>2]=1,m[t+4596>>0]=A,m[t+4597>>0]=1,m[t+4598>>0]=0,e[t+4600>>2]=0,b=c}function O2(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0;if(T=b,b=b+16|0,A=T,S=t+92|0,c=e[r>>2]|0,e[r>>2]=0,r=e[S>>2]|0,e[S>>2]=c,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),e[A>>2]=0,e[A+4>>2]=s,S=o+8|0,e[A+8>>2]=e[S>>2],s){r=We(4624)|0,s=t+8|0,a=r+4|0,f=s,c=a+84|0;do e[a>>2]=e[f>>2],a=a+4|0,f=f+4|0;while((a|0)<(c|0));a=r+88|0,c=a+40|0;do e[a>>2]=0,a=a+4|0;while((a|0)<(c|0));e[r>>2]=35660,e[r+128>>2]=e[t+136>>2],e[r+132>>2]=e[t+140>>2],e[r+136>>2]=e[t+144>>2],e[r+140>>2]=e[t+148>>2],e[r+144>>2]=e[t+152>>2],e[r+148>>2]=e[t+156>>2],e[r+152>>2]=e[t+160>>2],a=r+156|0,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[r+172>>2]=e[s>>2],e[r+176>>2]=0,e[r+180>>2]=0,e[r+184>>2]=0,a=r+4568|0,s=r+188|0;do e[s>>2]=0,e[s+4>>2]=0,y[s+8>>1]=0,y[s+10>>1]=1,s=s+12|0;while((s|0)!=(a|0));f=t+4|0,e[a>>2]=0,e[a+4>>2]=0,y[a+8>>1]=0,m[a+10>>0]=0,c=r+4580|0,e[c>>2]=0,e[c+4>>2]=0,y[c+8>>1]=0,m[c+10>>0]=0,c=r+4592|0,e[c>>2]=0,e[c+4>>2]=0,e[c+8>>2]=0,e[c+12>>2]=0,e[c+16>>2]=0,e[c+20>>2]=0,e[c+24>>2]=0,m[c+28>>0]=0,e[r+28>>2]|0||(e[r+20>>2]=1),s=e[f>>2]|0,e[f>>2]=r,s&&(T0[e[(e[s>>2]|0)+4>>2]&255](s),r=e[f>>2]|0),Qt(r,A)}return A=t+100|0,e[A>>2]=32,e[t+96>>2]=0,r=e[o>>2]|0,r?(e[t+132>>2]=r,a=t+120|0,S=t+124|0,s=e[S>>2]|0,r=e[a>>2]|0,f=r,c=s-f|0,c>>>0>=4e3?c>>>0>4e3&&(I=r+4e3|0,(s|0)!=(I|0))&&(e[S>>2]=I,s=I):(Si(a,4e3-c|0),r=e[a>>2]|0,f=r,s=e[S>>2]|0),e[t+108>>2]=f,e[t+104>>2]=s-r,Io(t),I=t+116|0,I=e[I>>2]|0,t=e[A>>2]|0,t=t+-32|0,t=(t|0)/8|0,t=I-t|0,b=T,t|0):(e[t+108>>2]=e[o+4>>2],e[t+104>>2]=e[S>>2],Io(t),I=t+116|0,I=e[I>>2]|0,t=e[A>>2]|0,t=t+-32|0,t=(t|0)/8|0,t=I-t|0,b=T,t|0)}function L2(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0;if(B=b,b=b+352|0,L=B+328|0,M=B+192|0,o=B+343|0,s=B+342|0,a=B+341|0,f=B+340|0,D=B+176|0,S=B+168|0,A=B+160|0,I=B+152|0,q=B,N=B+136|0,e[t+32>>2]|0&&(e[t+24>>2]|0)!=1){if(F=t+8|0,z=t+36|0,c=e[z>>2]|0,!c){if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[o>>0]|0,Re(44,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}if(t=e[t+16>>2]|0,(t|0)==8)switch(c|0){case 1:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[s>>0]|0,Re(45,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[a>>0]|0,Re(46,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[f>>0]|0,Re(47,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=M+56|0,a=M+4|0,e[M>>2]=36160,e[c>>2]=36180,h=0,de(62,M+56|0,a|0),B=h,h=0,B&1&&(R=Q()|0,Ye(c),ne(R|0)),e[M+128>>2]=0,e[M+132>>2]=-1,e[M>>2]=36200,e[M+56>>2]=36220,h=0,oe(180,a|0),B=h,h=0;do if(B&1)t=Q()|0;else{if(e[a>>2]=36236,f=M+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[M+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),B=h,h=0,B&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,M|0,49007,21)|0,L=h,h=0;do if(!(L&1)&&(h=0,T=Ce(36,t|0,e[z>>2]|0)|0,L=h,h=0,!(L&1))&&(h=0,Oe(28,T|0,50997,18)|0,L=h,h=0,!(L&1))){if(s=g0(16)|0,h=0,de(64,D|0,a|0),L=h,h=0,L&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,D|0),L=h,h=0,L&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(D),!o)break;v0(s|0)}else R=34;while(!1);(R|0)==34&&(t=Q()|0),e[M>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}switch((t|0)<=8&&(t=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,t|0,8,35648),R=h,h=0,R&1||V0(t|0,824,96),R=Q()|0,v0(t|0),ne(R|0)),o=16-t|0,c|0){case 1:{if(t=We(60)|0,e[S>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[S>>2],e[L+4>>2]=e[S+4>>2],Re(41,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(60)|0,e[A>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[A>>2],e[L+4>>2]=e[A+4>>2],Re(42,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(60)|0,e[I>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[I>>2],e[L+4>>2]=e[I+4>>2],Re(43,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=q+56|0,a=q+4|0,e[q>>2]=36160,e[c>>2]=36180,h=0,de(62,q+56|0,a|0),M=h,h=0,M&1&&(R=Q()|0,Ye(c),ne(R|0)),e[q+128>>2]=0,e[q+132>>2]=-1,e[q>>2]=36200,e[q+56>>2]=36220,h=0,oe(180,a|0),M=h,h=0;do if(M&1)t=Q()|0;else{if(e[a>>2]=36236,f=q+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[q+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),M=h,h=0,M&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,q|0,49007,21)|0,M=h,h=0;do if(!(M&1)&&(h=0,k=Ce(36,t|0,e[z>>2]|0)|0,M=h,h=0,!(M&1))&&(h=0,Oe(28,k|0,50997,18)|0,M=h,h=0,!(M&1))){if(s=g0(16)|0,h=0,de(64,N|0,a|0),M=h,h=0,M&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,N|0),M=h,h=0,M&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(N),!o)break;v0(s|0)}else R=64;while(!1);(R|0)==64&&(t=Q()|0),e[q>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}}return o=e[r+4>>2]|0,s=We(16)|0,t=e[t+20>>2]|0,o?(e[s>>2]=36108,e[s+4>>2]=o,e[s+8>>2]=1,e[s+12>>2]=t,R=s,b=B,R|0):(R=e[r>>2]|0,e[s>>2]=36132,e[s+4>>2]=R,e[s+8>>2]=1,e[s+12>>2]=t,R=s,b=B,R|0)}function Io(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0;q=b,b=b+32|0,L=q+12|0,z=q,F=t+180|0,N=(e[F>>2]|0)+4|0,(e[t+32>>2]|0)==1?k=e[t+24>>2]|0:k=1,r=J(k<<1,N)|0,e[L>>2]=0,M=L+4|0,e[M>>2]=0,e[L+8>>2]=0;e:do if(r){if((r|0)<0&&(h=0,oe(178,L|0),B=h,h=0,B&1)||(D=6),(D|0)==6&&(h=0,o=ce(67,r|0)|0,B=h,h=0,!(B&1))){for(e[M>>2]=o,e[L>>2]=o,e[L+8>>2]=o+r;;)if(m[o>>0]=0,o=(e[M>>2]|0)+1|0,e[M>>2]=o,r=r+-1|0,!r)break e}o=Q()|0,r=e[L>>2]|0,r||ne(o|0),(e[M>>2]|0)!=(r|0)&&(e[M>>2]=r),ue(r),ne(o|0)}while(!1);e[z>>2]=0,B=z+4|0,e[B>>2]=0,e[z+8>>2]=0;do if(!k)D=19;else{if(k>>>0>1073741823&&(h=0,oe(178,z|0),T=h,h=0,T&1)||(D=17),(D|0)==17&&(s=k<<2,h=0,a=ce(67,s|0)|0,T=h,h=0,!(T&1))){e[z>>2]=a,D=a+(k<<2)|0,e[z+8>>2]=D,j0(a|0,0,s|0)|0,e[B>>2]=D,D=19;break}o=Q()|0,r=e[z>>2]|0,s=r,r&&(a=e[B>>2]|0,(a|0)!=(r|0)&&(e[B>>2]=a+(~((a+-4-s|0)>>>2)<<2)),ue(r))}while(!1);if((D|0)==19){c=t+12|0;e:do if((e[c>>2]|0)>0){if(S=t+4604|0,A=(J(k,N)|0)+1|0,I=t+4608|0,T=t+92|0,f=t+4600|0,(k|0)>0)a=0;else{for(s=0;o=e[L>>2]|0,r=o+1|0,e[S>>2]=r,o=o+A|0,e[I>>2]=o,s&1?(e[S>>2]=o,e[I>>2]=r):r=o,k=e[T>>2]|0,h=0,Re(e[(e[k>>2]|0)+12>>2]|0,k|0,r|0,e[F>>2]|0,N|0),k=h,h=0,!(k&1);)if(s=s+1|0,(s|0)>=(e[c>>2]|0)){D=45;break e}o=Q()|0;break}t:for(;;){if(o=e[L>>2]|0,r=o+1|0,e[S>>2]=r,o=o+A|0,e[I>>2]=o,a&1?(e[S>>2]=o,e[I>>2]=r):r=o,D=e[T>>2]|0,h=0,Re(e[(e[D>>2]|0)+12>>2]|0,D|0,r|0,e[F>>2]|0,N|0),D=h,h=0,D&1){D=28;break}r=e[z>>2]|0,o=e[S>>2]|0,s=0;do{if(e[f>>2]=e[r+(s<<2)>>2],D=e[F>>2]|0,m[o+D>>0]=m[o+(D+-1)>>0]|0,m[(e[I>>2]|0)+-1>>0]=m[e[S>>2]>>0]|0,h=0,de(75,t|0,0),D=h,h=0,D&1){D=36;break t}r=e[z>>2]|0,e[r+(s<<2)>>2]=e[f>>2],o=(e[S>>2]|0)+N|0,e[S>>2]=o,e[I>>2]=(e[I>>2]|0)+N,s=s+1|0}while((s|0)<(k|0));if(a=a+1|0,(a|0)>=(e[c>>2]|0)){D=45;break e}}if((D|0)==28){o=Q()|0;break}else if((D|0)==36){o=Q()|0;break}}else D=45;while(!1);do if((D|0)==45){if(h=0,oe(182,t|0),t=h,h=0,t&1){o=Q()|0;break}if(r=e[z>>2]|0,o=r,r&&(s=e[B>>2]|0,(s|0)!=(r|0)&&(e[B>>2]=s+(~((s+-4-o|0)>>>2)<<2)),ue(r)),r=e[L>>2]|0,!r){b=q;return}(e[M>>2]|0)!=(r|0)&&(e[M>>2]=r),ue(r),b=q;return}while(!1);r=e[z>>2]|0,s=r,r&&(a=e[B>>2]|0,(a|0)!=(r|0)&&(e[B>>2]=a+(~((a+-4-s|0)>>>2)<<2)),ue(r))}r=e[L>>2]|0,r||ne(o|0),(e[M>>2]|0)!=(r|0)&&(e[M>>2]=r),ue(r),ne(o|0)}function N2(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;if(k=t+4604|0,r=e[k>>2]|0,N=t+180|0,!((e[N>>2]|0)<=0))for(D=t+4608|0,F=t+4612|0,a=r,f=P[r+-1>>0]|0,r=P[r>>0]|0,T=0;I=e[D>>2]|0,A=P[I+(T+-1)>>0]|0,s=T+1|0,o=P[a+s>>0]|0,S=e[F>>2]|0,c=r-f|0,a=f-A|0,S=((((m[S+(o-r)>>0]|0)*9|0)+(m[S+c>>0]|0)|0)*9|0)+(m[S+a>>0]|0)|0,S?(f=r-A>>31,(f^a|0)<0?a=r:a=A+((f^c|0)<0?0:c)|0,I=B2(t,S,P[I+T>>0]|0,a,0)|0,m[(e[D>>2]|0)+T>>0]=I):(s=(U2(t,T,0)|0)+T|0,o=e[k>>2]|0,r=P[o+(s+-1)>>0]|0,o=P[o+s>>0]|0),!((s|0)>=(e[N>>2]|0));)a=e[k>>2]|0,f=r,r=o,T=s}function B2(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0;if(z=r>>31,f=(z^r)-z|0,F=t+196+(f*12|0)+10|0,c=y[F>>1]|0,D=t+196+(f*12|0)|0,a=e[D>>2]|0,(c|0)<(a|0))if((c<<1|0)<(a|0))if((c<<2|0)<(a|0))if((c<<3|0)<(a|0))if((c<<4|0)<(a|0))for(r=5;(c<<r|0)<(a|0);)r=r+1|0;else r=4;else r=3;else r=2;else r=1;else r=0;return T=t+196+(f*12|0)+8|0,a=(y[T>>1]^z)-z+s|0,N=t+136|0,s=e[N>>2]|0,(a&s|0)==(a|0)?I=a:I=s&~(a>>31),a=(o-I^z)-z|0,A=t+144|0,s=e[A>>2]|0,(a|0)>0?a=(a+s|0)/(s<<1|1|0)|0:a=(a-s|0)/(s<<1|1|0)|0,k=t+140|0,S=e[k>>2]|0,o=((a|0)<0?S:0)+a|0,S=o-((o|0)<((S+1|0)/2|0|0)?0:S)|0,f=t+196+(f*12|0)+4|0,s|r?a=0:a=(e[f>>2]<<1)+-1+c>>31,s=a^S,Eo(t,r,s>>30^s<<1,e[t+156>>2]|0),s=e[t+160>>2]|0,r=(e[D>>2]|0)+((S|0)>-1?S:0-S|0)|0,a=(e[f>>2]|0)+(J(e[A>>2]<<1|1,S)|0)|0,o=y[F>>1]|0,(o|0)==(s|0)&&(r=r>>1,a=a>>1,o=s>>1),e[D>>2]=r,s=o+1|0,y[F>>1]=s,r=s+a|0,(r|0)>=1?(a|0)>0&&(a=a-s|0,F=y[T>>1]|0,y[T>>1]=(F<<16>>16<127&1)+(F&65535),a=(a|0)>0?0:a):(a=y[T>>1]|0,y[T>>1]=(a&65535)-(a<<16>>16>-128&1),a=(r|0)>(~o|0)?r:0-o|0),e[f>>2]=a,s=e[A>>2]|0,o=s<<1|1,r=(J(o,(S^z)-z|0)|0)+I|0,(r|0)>=(0-s|0)?(a=e[N>>2]|0,(a+s|0)<(r|0)&&(r=r-(J(e[k>>2]|0,o)|0)|0)):(r=(J(e[k>>2]|0,o)|0)+r|0,a=e[N>>2]|0),(r&a|0)==(r|0)?(z=r,z=z&255,z|0):(z=a&~(r>>31),z=z&255,z|0)}function U2(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0;for(A=(e[t+180>>2]|0)-r|0,I=e[t+4608>>2]|0,T=e[t+4604>>2]|0,a=m[I+(r+-1)>>0]|0,S=a&255,o=t+144|0,f=0;s=I+(f+r)|0,c=(P[s>>0]|0)-S|0,!((((c|0)>-1?c:0-c|0)|0)>(e[o>>2]|0));)if(m[s>>0]=a,f=f+1|0,(f|0)==(A|0)){f=A;break}if(a=(f|0)==(A|0),c=t+4600|0,s=e[36476+(e[c>>2]<<2)>>2]|0,(1<<s|0)>(f|0))o=f;else{o=f;do C0(t,1,1),s=e[c>>2]|0,o=o-(1<<e[36476+(s<<2)>>2])|0,s=(s|0)>30?31:s+1|0,e[c>>2]=s,s=e[36476+(s<<2)>>2]|0;while((o|0)>=(1<<s|0))}return a?o?(C0(t,1,1),t=A,t|0):(t=A,t|0):(C0(t,o,s+1|0),A=f+r|0,r=I+A|0,t=V2(t,P[r>>0]|0,S,P[T+A>>0]|0)|0,m[r>>0]=t,t=e[c>>2]|0,e[c>>2]=(t|0)<1?0:t+-1|0,t=f+1|0,t|0)}function V2(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0;return S=o-s|0,A=t+136|0,c=t+144|0,a=e[c>>2]|0,(((S|0)>-1?S:0-S|0)|0)>(a|0)?(f=s-o>>31|1,r=J(f,r-s|0)|0,(r|0)>0?r=(a+r|0)/(a<<1|1|0)|0:r=(r-a|0)/(a<<1|1|0)|0,S=t+140|0,a=e[S>>2]|0,o=((r|0)<0?a:0)+r|0,a=o-((o|0)<((a+1|0)/2|0|0)?0:a)|0,Co(t,t+4576|0,a),a=J(a,f)|0,f=e[c>>2]|0,c=f<<1|1,a=(J(a,c)|0)+s|0,(a|0)>=(0-f|0)?(r=e[A>>2]|0,(r+f|0)<(a|0)&&(a=a-(J(e[S>>2]|0,c)|0)|0)):(a=(J(e[S>>2]|0,c)|0)+a|0,r=e[A>>2]|0),(a&r|0)==(a|0)?(A=a,A=A&255,A|0):(A=r&~(a>>31),A=A&255,A|0)):(r=r-o|0,(r|0)>0?r=(a+r|0)/(a<<1|1|0)|0:r=(r-a|0)/(a<<1|1|0)|0,S=t+140|0,a=e[S>>2]|0,f=((r|0)<0?a:0)+r|0,a=f-((f|0)<((a+1|0)/2|0|0)?0:a)|0,Co(t,t+4588|0,a),f=e[c>>2]|0,c=f<<1|1,a=(J(c,a)|0)+o|0,(a|0)>=(0-f|0)?(r=e[A>>2]|0,(r+f|0)<(a|0)&&(a=a-(J(e[S>>2]|0,c)|0)|0)):(a=(J(e[S>>2]|0,c)|0)+a|0,r=e[A>>2]|0),(a&r|0)==(a|0)?(A=a,A=A&255,A|0):(A=r&~(a>>31),A=A&255,A|0))}function Co(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0;if(T=r+9|0,c=P[T>>0]|0,I=r+4|0,A=e[I>>2]|0,a=(J(c>>>1,A)|0)+(e[r>>2]|0)|0,(c|0)<(a|0)){f=c,s=0;do f=f<<1,s=s+1|0;while((f|0)<(a|0));a=s}else a=0;(o|0)>0&(a|0)==0&&P[r+10>>0]<<1>>>0<c>>>0?s=1:S=5;do if((S|0)==5){if(s=(o|0)<0,s&&P[r+10>>0]<<1>>>0>=c>>>0){s=1;break}s=s&(a|0)!=0}while(!1);if(s=(((o|0)>-1?o:0-o|0)<<1)-A+(s<<31>>31)|0,Eo(t,a,s,(e[t+156>>2]|0)+-1-(e[36476+(e[t+4600>>2]<<2)>>2]|0)|0),(o|0)<0&&(t=r+10|0,m[t>>0]=(P[t>>0]|0)+1),s=(s+1-(e[I>>2]|0)>>1)+(e[r>>2]|0)|0,e[r>>2]=s,a=m[T>>0]|0,a<<24>>24!=(m[r+8>>0]|0)){r=a,r=r&255,r=r+1|0,r=r&255,m[T>>0]=r;return}e[r>>2]=s>>1,t=(a&255)>>>1,m[T>>0]=t,r=r+10|0,m[r>>0]=(P[r>>0]|0)>>>1,r=t,r=r&255,r=r+1|0,r=r&255,m[T>>0]=r}function Eo(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0;if(a=o>>r,f=t+148|0,c=s-(e[f>>2]|0)|0,(a|0)<(c+-1|0)){(a|0)>30&&(s=(a|0)/2|0,C0(t,0,s),a=a-s|0),C0(t,1,a+1|0),C0(t,(1<<r)+-1&o,r);return}(c|0)>31?(C0(t,0,31),C0(t,1,s+-31-(e[f>>2]|0)|0)):C0(t,1,c),r=e[f>>2]|0,C0(t,(1<<r)+-1&o+-1,r)}function z2(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;D=b,b=b+32|0,s=D,k=t+144|0;e:do if(e[k>>2]|0)r=t+152|0;else if(o=e[t+136>>2]|0,r=t+152|0,(o|0)==((1<<e[r>>2])+-1|0)&&(dt(s,o,0),(e[s+4>>2]|0)==(e[t+184>>2]|0))&&(e[s+8>>2]|0)==(e[t+188>>2]|0)&&(e[s+12>>2]|0)==(e[t+192>>2]|0))switch(e[r>>2]|0){case 8:{k=e[8900]|0,e[t+4612>>2]=k+(((e[8901]|0)-k|0)>>>1),b=D;return}case 10:{k=e[8903]|0,e[t+4612>>2]=k+(((e[8904]|0)-k|0)>>>1),b=D;return}case 12:{k=e[8906]|0,e[t+4612>>2]=k+(((e[8907]|0)-k|0)>>>1),b=D;return}case 16:{k=e[8909]|0,e[t+4612>>2]=k+(((e[8910]|0)-k|0)>>>1),b=D;return}default:break e}while(!1);if(T=1<<e[r>>2],o=t+4616|0,s=T<<1,a=t+4620|0,f=e[a>>2]|0,r=e[o>>2]|0,c=f-r|0,s>>>0<=c>>>0?s>>>0<c>>>0&&(S=r+s|0,(f|0)!=(S|0))&&(e[a>>2]=S):(jt(o,s-c|0),r=e[o>>2]|0),I=t+4612|0,e[I>>2]=r+T,r=0-T|0,(T|0)<=(r|0)){b=D;return}S=t+192|0,A=t+188|0,c=t+184|0,f=r;do r=e[S>>2]|0,(f|0)>(0-r|0)?(o=e[A>>2]|0,(f|0)>(0-o|0)?(s=e[c>>2]|0,(f|0)>(0-s|0)?(a=e[k>>2]|0,(f|0)>=(0-a|0)?(a|0)<(f|0)?(s|0)<=(f|0)?(o|0)>(f|0)?r=2:r=(r|0)>(f|0)?3:4:r=1:r=0:r=-1):r=-2):r=-3):r=-4,m[(e[I>>2]|0)+f>>0]=r,f=f+1|0;while((f|0)!=(T|0));b=D}function q2(t){t=t|0;var r=0,o=0;e[t>>2]=35856,r=e[t+4608>>2]|0,r&&(o=t+4612|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36736,r=e[t+92>>2]|0,r&&(o=t+96|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),t=t+88|0,r=e[t>>2]|0,e[t>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r)}function G2(t){t=t|0;var r=0,o=0;if(e[t>>2]=35856,r=e[t+4608>>2]|0,r&&(o=t+4612|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36736,r=e[t+92>>2]|0,r&&(o=t+96|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+88|0,r=e[o>>2]|0,e[o>>2]=0,!r){ue(t);return}T0[e[(e[r>>2]|0)+4>>2]&255](r),ue(t)}function $2(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0;if(B=b,b=b+352|0,L=B+328|0,M=B+192|0,o=B+343|0,s=B+342|0,a=B+341|0,f=B+340|0,D=B+176|0,S=B+168|0,A=B+160|0,I=B+152|0,q=B,N=B+136|0,e[t+28>>2]|0&&(e[t+20>>2]|0)!=1){if(F=t+4|0,z=t+32|0,c=e[z>>2]|0,!c){if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[o>>0]|0,Re(37,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}if(t=e[t+12>>2]|0,(t|0)==16)switch(c|0){case 1:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[s>>0]|0,Re(38,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[a>>0]|0,Re(39,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[f>>0]|0,Re(40,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=M+56|0,a=M+4|0,e[M>>2]=36160,e[c>>2]=36180,h=0,de(62,M+56|0,a|0),B=h,h=0,B&1&&(R=Q()|0,Ye(c),ne(R|0)),e[M+128>>2]=0,e[M+132>>2]=-1,e[M>>2]=36200,e[M+56>>2]=36220,h=0,oe(180,a|0),B=h,h=0;do if(B&1)t=Q()|0;else{if(e[a>>2]=36236,f=M+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[M+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),B=h,h=0,B&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,M|0,49007,21)|0,L=h,h=0;do if(!(L&1)&&(h=0,T=Ce(36,t|0,e[z>>2]|0)|0,L=h,h=0,!(L&1))&&(h=0,Oe(28,T|0,50997,18)|0,L=h,h=0,!(L&1))){if(s=g0(16)|0,h=0,de(64,D|0,a|0),L=h,h=0,L&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,D|0),L=h,h=0,L&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(D),!o)break;v0(s|0)}else R=34;while(!1);(R|0)==34&&(t=Q()|0),e[M>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}switch((t|0)<=8&&(t=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,t|0,8,35648),R=h,h=0,R&1||V0(t|0,824,96),R=Q()|0,v0(t|0),ne(R|0)),o=16-t|0,c|0){case 1:{if(t=We(60)|0,e[S>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[S>>2],e[L+4>>2]=e[S+4>>2],Re(41,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(60)|0,e[A>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[A>>2],e[L+4>>2]=e[A+4>>2],Re(42,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(60)|0,e[I>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[I>>2],e[L+4>>2]=e[I+4>>2],Re(43,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=q+56|0,a=q+4|0,e[q>>2]=36160,e[c>>2]=36180,h=0,de(62,q+56|0,a|0),M=h,h=0,M&1&&(R=Q()|0,Ye(c),ne(R|0)),e[q+128>>2]=0,e[q+132>>2]=-1,e[q>>2]=36200,e[q+56>>2]=36220,h=0,oe(180,a|0),M=h,h=0;do if(M&1)t=Q()|0;else{if(e[a>>2]=36236,f=q+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[q+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),M=h,h=0,M&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,q|0,49007,21)|0,M=h,h=0;do if(!(M&1)&&(h=0,k=Ce(36,t|0,e[z>>2]|0)|0,M=h,h=0,!(M&1))&&(h=0,Oe(28,k|0,50997,18)|0,M=h,h=0,!(M&1))){if(s=g0(16)|0,h=0,de(64,N|0,a|0),M=h,h=0,M&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,N|0),M=h,h=0,M&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(N),!o)break;v0(s|0)}else R=64;while(!1);(R|0)==64&&(t=Q()|0),e[q>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}}return o=e[r+4>>2]|0,s=We(16)|0,t=e[t+16>>2]|0,o?(e[s>>2]=36108,e[s+4>>2]=o,e[s+8>>2]=2,e[s+12>>2]=t,R=s,b=B,R|0):(R=e[r>>2]|0,e[s>>2]=36132,e[s+4>>2]=R,e[s+8>>2]=2,e[s+12>>2]=t,R=s,b=B,R|0)}function H2(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0;c=b,b=b+32|0,A=c,dt(A,e[t+128>>2]|0,e[t+136>>2]|0),S=e[r+4>>2]|0,f=e[r+8>>2]|0,f=f|0?f:e[A+8>>2]|0,a=e[r+12>>2]|0,a=a|0?a:e[A+12>>2]|0,o=e[r+16>>2]|0,s=e[A+16>>2]|0,e[t+176>>2]=S|0?S:e[A+4>>2]|0,e[t+180>>2]=f,e[t+184>>2]=a,J2(t),a=t+132|0,r=(e[a>>2]|0)+32|0,r=(r|0)<128?2:(r|0)/64|0,f=0;do e[t+188+(f*12|0)>>2]=r,e[t+188+(f*12|0)+4>>2]=0,y[t+188+(f*12|0)+8>>1]=0,y[t+188+(f*12|0)+10>>1]=1,f=f+1|0;while((f|0)!=365);S=(e[a>>2]|0)+32|0,S=(S|0)<128?2:(S|0)/64|0,A=(o|0?o:s)&255,e[t+4568>>2]=S,e[t+4572>>2]=0,m[t+4576>>0]=A,m[t+4577>>0]=1,m[t+4578>>0]=0,e[t+4580>>2]=S,e[t+4584>>2]=1,m[t+4588>>0]=A,m[t+4589>>0]=1,m[t+4590>>0]=0,e[t+4592>>2]=0,b=c}function W2(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0;for(c=t+88|0,f=e[r>>2]|0,e[r>>2]=0,r=e[c>>2]|0,e[c>>2]=f,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),c=s+4|0,f=e[c>>2]|0,m[t+4620>>0]=a&1,r=t+156|0,e[r>>2]=e[o>>2],e[r+4>>2]=e[o+4>>2],e[r+8>>2]=e[o+8>>2],e[r+12>>2]=e[o+12>>2],Qt(t,s),Q2(t),r=e[t+116>>2]|0,t=e[t+112>>2]|0;a=r+-1|0,o=(m[a>>0]|0)==-1?7:8,!((t|0)<(o|0));)r=a,t=t-o|0;r=r-f|0,a=e[c>>2]|0,a&&(e[c>>2]=a+r,s=s+8|0,e[s>>2]=(e[s>>2]|0)-r)}function Q2(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0;Z=b,b=b+32|0,ee=Z+12|0,K=Z,L=t+172|0,M=(e[L>>2]|0)+4|0,(e[t+28>>2]|0)==1?R=e[t+20>>2]|0:R=1,r=J(R<<1,M)|0,e[ee>>2]=0,se=ee+4|0,e[se>>2]=0,e[ee+8>>2]=0;do if(r){if((r|0)<0&&(h=0,oe(178,ee|0),re=h,h=0,re&1)||(c=6),(c|0)==6&&(o=r<<1,h=0,s=ce(67,o|0)|0,re=h,h=0,!(re&1))){e[ee>>2]=s,re=s+(r<<1)|0,e[ee+8>>2]=re,j0(s|0,0,o|0)|0,e[se>>2]=re;break}s=Q()|0,r=e[ee>>2]|0,r||ne(s|0),o=e[se>>2]|0,(o|0)!=(r|0)&&(e[se>>2]=o+(~((o+-2-r|0)>>>1)<<1)),ue(r),ne(s|0)}while(!1);e[K>>2]=0,re=K+4|0,e[re>>2]=0,e[K+8>>2]=0;do if(!R)c=18;else{if(R>>>0>1073741823&&(h=0,oe(178,K|0),B=h,h=0,B&1)||(c=16),(c|0)==16&&(a=R<<2,h=0,f=ce(67,a|0)|0,B=h,h=0,!(B&1))){e[K>>2]=f,c=f+(R<<2)|0,e[K+8>>2]=c,j0(f|0,0,a|0)|0,e[re>>2]=c,c=18;break}s=Q()|0,r=e[K>>2]|0,o=r,r&&(a=e[re>>2]|0,(a|0)!=(r|0)&&(e[re>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ue(r))}while(!1);if((c|0)==18){f=t+8|0;e:do if((e[f>>2]|0)>0){c=t+4596|0,S=J(R,M)|0,A=S+1|0,I=t+4600|0,T=(R|0)>0,k=t+160|0,D=t+168|0,F=t+164|0,N=t+156|0,z=t+88|0,q=t+4592|0,B=0;t:for(;;){if(s=e[ee>>2]|0,o=s+2|0,e[c>>2]=o,s=s+(A<<1)|0,e[I>>2]=s,B&1?(e[c>>2]=s,e[I>>2]=o,r=o,o=s):r=s,T){a=e[K>>2]|0,s=0;do{if(e[q>>2]=e[a+(s<<2)>>2],a=e[L>>2]|0,y[o+(a<<1)>>1]=y[o+(a+-1<<1)>>1]|0,y[r+-2>>1]=y[o>>1]|0,h=0,de(76,t|0,0),a=h,h=0,a&1){c=29;break t}a=e[K>>2]|0,e[a+(s<<2)>>2]=e[q>>2],o=(e[c>>2]|0)+(M<<1)|0,e[c>>2]=o,r=(e[I>>2]|0)+(M<<1)|0,e[I>>2]=r,s=s+1|0}while((s|0)<(R|0))}if(a=e[k>>2]|0,(a|0)<=(B|0)&&(B|0)<((e[D>>2]|0)+a|0)&&(a=e[z>>2]|0,h=0,Re(e[(e[a>>2]|0)+8>>2]|0,a|0,r+((e[N>>2]|0)-S<<1)|0,e[F>>2]|0,M|0),a=h,h=0,a&1)){c=30;break}if(B=B+1|0,(B|0)>=(e[f>>2]|0)){c=42;break e}}if((c|0)==29){s=Q()|0;break}else if((c|0)==30){s=Q()|0;break}}else c=42;while(!1);do if((c|0)==42){if(h=0,oe(183,t|0),t=h,h=0,t&1){s=Q()|0;break}if(r=e[K>>2]|0,o=r,r&&(s=e[re>>2]|0,(s|0)!=(r|0)&&(e[re>>2]=s+(~((s+-4-o|0)>>>2)<<2)),ue(r)),r=e[ee>>2]|0,!r){b=Z;return}o=e[se>>2]|0,(o|0)!=(r|0)&&(e[se>>2]=o+(~((o+-2-r|0)>>>1)<<1)),ue(r),b=Z;return}while(!1);r=e[K>>2]|0,o=r,r&&(a=e[re>>2]|0,(a|0)!=(r|0)&&(e[re>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ue(r))}r=e[ee>>2]|0,r||ne(s|0),o=e[se>>2]|0,(o|0)!=(r|0)&&(e[se>>2]=o+(~((o+-2-r|0)>>>1)<<1)),ue(r),ne(s|0)}function j2(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0;if(D=t+4596|0,o=e[D>>2]|0,q=t+172|0,r=e[q>>2]|0,!((r|0)<=0))for(F=t+4600|0,N=t+4604|0,z=t+4592|0,S=o,f=O[o+-2>>1]|0,o=O[o>>1]|0,k=0;I=e[F>>2]|0,c=y[I+(k+-1<<1)>>1]|0,T=c&65535,a=k+1|0,s=O[S+(a<<1)>>1]|0,A=e[N>>2]|0,S=o-f|0,f=f-T|0,A=((((m[A+(s-o)>>0]|0)*9|0)+(m[A+S>>0]|0)|0)*9|0)+(m[A+f>>0]|0)|0,I=I+(k<<1)|0,A?(r=o-T>>31,(r^f|0)<0?r=o:r=T+((r^S|0)<0?0:S)|0,T=K2(t,A,O[I>>1]|0,r,0)|0,y[(e[F>>2]|0)+(k<<1)>>1]=T):(r=X2(t,c,I,r-k|0)|0,o=r+k|0,(o|0)!=(e[q>>2]|0)&&(T=Z2(t,T,O[(e[D>>2]|0)+(o<<1)>>1]|0)|0,y[(e[F>>2]|0)+(o<<1)>>1]=T,T=e[z>>2]|0,e[z>>2]=(T|0)<1?0:T+-1|0,r=r+1|0),a=r+k|0,s=e[D>>2]|0,o=O[s+(a+-1<<1)>>1]|0,s=O[s+(a<<1)>>1]|0),r=e[q>>2]|0,!((r|0)<=(a|0));)S=e[D>>2]|0,f=o,o=s,k=a}function Y2(t){t=t|0;var r=0,o=0,s=0,a=0;s=t+116|0,o=e[s>>2]|0,(m[o>>0]|0)!=-1?(a=t+112|0,r=e[a>>2]|0,(r|0)<1&&(Mt(t),r=e[a>>2]|0,o=e[s>>2]|0),t=t+108|0,s=e[t>>2]|0,e[a>>2]=r+-1,r=s<<1,e[t>>2]=r,(m[o>>0]|0)!=-1&&(r=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,r|0,6,35648),t=h,h=0,t&1||V0(r|0,824,96),t=Q()|0,v0(r|0),ne(t|0))):r=e[t+108>>2]|0,r&&(r=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,r|0,6,35648),t=h,h=0,t&1||V0(r|0,824,96),t=Q()|0,v0(r|0),ne(t|0))}function K2(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;if(N=r>>31,A=(N^r)-N|0,D=t+188+(A*12|0)+10|0,o=y[D>>1]|0,k=t+188+(A*12|0)|0,a=e[k>>2]|0,(o|0)<(a|0))if((o<<1|0)<(a|0))if((o<<2|0)<(a|0))if((o<<3|0)<(a|0))if((o<<4|0)<(a|0))for(r=5;(o<<r|0)<(a|0);)r=r+1|0;else r=4;else r=3;else r=2;else r=1;else r=0;return T=t+188+(A*12|0)+8|0,o=(y[T>>1]^N)-N+s|0,F=t+128|0,a=e[F>>2]|0,(o&a|0)==(o|0)?I=o:I=a&~(o>>31),o=t+112|0,(e[o>>2]|0)<8&&Mt(t),a=t+108|0,s=e[a>>2]|0,f=s>>>24,c=e[2832+(r<<11)+(f<<3)+4>>2]|0,c?(e[o>>2]=(e[o>>2]|0)-c,e[a>>2]=s<<c,o=e[2832+(r<<11)+(f<<3)>>2]|0):(S=e[t+148>>2]|0,a=e[t+140>>2]|0,o=Yt(t)|0,(o|0)<(S+-1-a|0)?r&&(o=(st(t,r)|0)+(o<<r)|0):o=(st(t,a)|0)+1|0,o=o<<31>>31^o>>1,(((o|0)>-1?o:0-o|0)|0)>65535&&(o=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,o|0,5,35648),t=h,h=0,t&1?(t=Q()|0,v0(o|0),ne(t|0)):V0(o|0,824,96))),S=t+136|0,s=e[S>>2]|0,r?c=o:(s?a=0:a=(e[t+188+(A*12|0)+4>>2]<<1)+-1+(y[D>>1]|0)>>31,c=a^o),r=e[t+152>>2]|0,a=(e[k>>2]|0)+((c|0)>-1?c:0-c|0)|0,f=t+188+(A*12|0)+4|0,o=(e[f>>2]|0)+(J(s<<1|1,c)|0)|0,s=y[D>>1]|0,(s|0)==(r|0)&&(a=a>>1,o=o>>1,s=r>>1),e[k>>2]=a,r=s+1|0,y[D>>1]=r,a=r+o|0,(a|0)>=1?(o|0)>0&&(o=o-r|0,D=y[T>>1]|0,y[T>>1]=(D<<16>>16<127&1)+(D&65535),o=(o|0)>0?0:o):(o=y[T>>1]|0,y[T>>1]=(o&65535)-(o<<16>>16>-128&1),o=(a|0)>(~s|0)?a:0-s|0),e[f>>2]=o,r=e[S>>2]|0,s=r<<1|1,a=(J(s,(c^N)-N|0)|0)+I|0,(a|0)>=(0-r|0)?(o=e[F>>2]|0,(o+r|0)<(a|0)&&(a=a-(J(e[t+132>>2]|0,s)|0)|0)):(a=(J(e[t+132>>2]|0,s)|0)+a|0,o=e[F>>2]|0),(a&o|0)==(a|0)?(t=a,t=t&65535,t|0):(t=o&~(a>>31),t=t&65535,t|0)}function X2(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;for(S=t+112|0,A=t+108|0,I=t+4592|0,a=e[S>>2]|0,f=0;;){if((a|0)<1&&(Mt(t),a=e[S>>2]|0),c=e[A>>2]|0,a=a+-1|0,e[S>>2]=a,e[A>>2]=c<<1,(c|0)>=0){T=8;break}if(c=e[I>>2]|0,k=1<<e[36476+(c<<2)>>2],D=s-f|0,D=(k|0)<(D|0)?k:D,f=D+f|0,(D|0)==(k|0)&&(e[I>>2]=(c|0)>30?31:c+1|0),(f|0)==(s|0)){a=s;break}}if((T|0)==8&&((f|0)!=(s|0)?(a=e[I>>2]|0,(a+-4|0)>>>0<28?a=st(t,e[36476+(a<<2)>>2]|0)|0:a=0,a=a+f|0,(a|0)>(s|0)&&(a=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,a|0,5,35648),D=h,h=0,D&1?(D=Q()|0,v0(a|0),ne(D|0)):V0(a|0,824,96))):a=s),(a|0)>0)f=0;else return a|0;do y[o+(f<<1)>>1]=r,f=f+1|0;while((f|0)!=(a|0));return a|0}function Z2(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0;return f=r-o|0,c=t+128|0,s=t+136|0,(((f|0)>-1?f:0-f|0)|0)>(e[s>>2]|0)?(r=J(bo(t,t+4568|0)|0,o-r>>31|1)|0,a=e[s>>2]|0,f=a<<1|1,r=(J(r,f)|0)+o|0,(r|0)>=(0-a|0)?(s=e[c>>2]|0,(s+a|0)<(r|0)&&(r=r-(J(e[t+132>>2]|0,f)|0)|0)):(r=(J(e[t+132>>2]|0,f)|0)+r|0,s=e[c>>2]|0),(r&s|0)==(r|0)?(t=r,t=t&65535,t|0):(t=s&~(r>>31),t=t&65535,t|0)):(o=bo(t,t+4580|0)|0,f=e[s>>2]|0,a=f<<1|1,r=(J(a,o)|0)+r|0,(r|0)>=(0-f|0)?(s=e[c>>2]|0,(s+f|0)<(r|0)&&(r=r-(J(e[t+132>>2]|0,a)|0)|0)):(r=(J(e[t+132>>2]|0,a)|0)+r|0,s=e[c>>2]|0),(r&s|0)==(r|0)?(t=r,t=t&65535,t|0):(t=s&~(r>>31),t=t&65535,t|0))}function bo(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0;if(I=r+9|0,o=P[I>>0]|0,f=r+4|0,a=(J(o>>>1,e[f>>2]|0)|0)+(e[r>>2]|0)|0,(o|0)<(a|0)){s=0;do o=o<<1,s=s+1|0;while((o|0)<(a|0))}else s=0;c=e[t+148>>2]|0,S=e[36476+(e[t+4592>>2]<<2)>>2]|0,o=e[t+140>>2]|0,a=Yt(t)|0;do if((a|0)<(c+-2-S-o|0))if(s){S=(st(t,s)|0)+(a<<s)|0,s=e[f>>2]|0,a=S+s|0,c=a&1,o=c,f=1,a=(c+a|0)/2|0;break}else{s=e[f>>2]|0,t=s+a|0,o=t&1,t=(o+t|0)/2|0,A=8;break}else a=(st(t,o)|0)+1|0,c=e[f>>2]|0,t=a+c|0,o=t&1,t=(o+t|0)/2|0,s?(S=a,f=1,a=t,s=c):(s=c,A=8);while(!1);return(A|0)==8&&(S=a,f=P[r+10>>0]<<1>>>0>=(P[I>>0]|0)>>>0,a=t),a=(o|0)!=0^f?a:0-a|0,(a|0)<0&&(A=r+10|0,m[A>>0]=(P[A>>0]|0)+1),o=(S+1-s>>1)+(e[r>>2]|0)|0,e[r>>2]=o,s=m[I>>0]|0,s<<24>>24!=(m[r+8>>0]|0)?(r=s,r=r&255,r=r+1|0,r=r&255,m[I>>0]=r,a|0):(e[r>>2]=o>>1,A=(s&255)>>>1,m[I>>0]=A,r=r+10|0,m[r>>0]=(P[r>>0]|0)>>>1,r=A,r=r&255,r=r+1|0,r=r&255,m[I>>0]=r,a|0)}function Yt(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0;if(f=t+112|0,(e[f>>2]|0)<16&&Mt(t),c=t+108|0,o=e[c>>2]|0,(o|0)>=0){if(o&1073741824)r=1;else if(o&536870912)r=2;else if(o&268435456)r=3;else if(o&134217728)r=4;else if(o&67108864)r=5;else if(o&33554432)r=6;else if(o&16777216)r=7;else if(o&8388608)r=8;else if(o&4194304)r=9;else if(o&2097152)r=10;else if(o&1048576)r=11;else if(o&524288)r=12;else if(o&262144)r=13;else if(o&131072)r=14;else if(a=o>>>12&16,r=a+-1|0,!a){for(r=(e[f>>2]|0)+-15|0,e[f>>2]=r,s=o<<15,e[c>>2]=s,o=r,r=15;(o|0)<1?(Mt(t),a=e[c>>2]|0,o=e[f>>2]|0):a=s,o=o+-1|0,e[f>>2]=o,s=a<<1,e[c>>2]=s,!((a|0)<0);)r=r+1|0;return r|0}}else r=0;return t=r+1|0,e[f>>2]=(e[f>>2]|0)-t,e[c>>2]=o<<t,c=r,c|0}function st(t,r){t=t|0,r=r|0;var o=0,s=0,a=0;return s=t+112|0,o=e[s>>2]|0,(o|0)<(r|0)&&(Mt(t),o=e[s>>2]|0,(o|0)<(r|0)&&(o=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,o|0,5,35648),t=h,h=0,t&1?(t=Q()|0,v0(o|0),ne(t|0)):V0(o|0,824,96))),a=t+108|0,t=e[a>>2]|0,e[s>>2]=o-r,e[a>>2]=t<<r,t>>>(32-r|0)|0}function J2(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;D=b,b=b+32|0,s=D,k=t+136|0;e:do if(e[k>>2]|0)r=t+144|0;else if(o=e[t+128>>2]|0,r=t+144|0,(o|0)==((1<<e[r>>2])+-1|0)&&(dt(s,o,0),(e[s+4>>2]|0)==(e[t+176>>2]|0))&&(e[s+8>>2]|0)==(e[t+180>>2]|0)&&(e[s+12>>2]|0)==(e[t+184>>2]|0))switch(e[r>>2]|0){case 8:{k=e[8900]|0,e[t+4604>>2]=k+(((e[8901]|0)-k|0)>>>1),b=D;return}case 10:{k=e[8903]|0,e[t+4604>>2]=k+(((e[8904]|0)-k|0)>>>1),b=D;return}case 12:{k=e[8906]|0,e[t+4604>>2]=k+(((e[8907]|0)-k|0)>>>1),b=D;return}case 16:{k=e[8909]|0,e[t+4604>>2]=k+(((e[8910]|0)-k|0)>>>1),b=D;return}default:break e}while(!1);if(T=1<<e[r>>2],o=t+4608|0,s=T<<1,a=t+4612|0,f=e[a>>2]|0,r=e[o>>2]|0,c=f-r|0,s>>>0<=c>>>0?s>>>0<c>>>0&&(S=r+s|0,(f|0)!=(S|0))&&(e[a>>2]=S):(jt(o,s-c|0),r=e[o>>2]|0),I=t+4604|0,e[I>>2]=r+T,r=0-T|0,(T|0)<=(r|0)){b=D;return}S=t+184|0,A=t+180|0,c=t+176|0,f=r;do r=e[S>>2]|0,(f|0)>(0-r|0)?(o=e[A>>2]|0,(f|0)>(0-o|0)?(s=e[c>>2]|0,(f|0)>(0-s|0)?(a=e[k>>2]|0,(f|0)>=(0-a|0)?(a|0)<(f|0)?(s|0)<=(f|0)?(o|0)>(f|0)?r=2:r=(r|0)>(f|0)?3:4:r=1:r=0:r=-1):r=-2):r=-3):r=-4,m[(e[I>>2]|0)+f>>0]=r,f=f+1|0;while((f|0)!=(T|0));b=D}function eu(t){t=t|0;var r=0,o=0;e[t>>2]=36736,r=e[t+92>>2]|0,r&&(o=t+96|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),t=t+88|0,r=e[t>>2]|0,e[t>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r)}function tu(t){t=t|0;var r=0,o=0;if(e[t>>2]=36736,r=e[t+92>>2]|0,r&&(o=t+96|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+88|0,r=e[o>>2]|0,e[o>>2]=0,!r){ue(t);return}T0[e[(e[r>>2]|0)+4>>2]&255](r),ue(t)}function iu(t){t=t|0;var r=0,o=0;e[t>>2]=35828,r=e[t+4608>>2]|0,r&&(o=t+4612|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36736,r=e[t+92>>2]|0,r&&(o=t+96|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),t=t+88|0,r=e[t>>2]|0,e[t>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r)}function ru(t){t=t|0;var r=0,o=0;if(e[t>>2]=35828,r=e[t+4608>>2]|0,r&&(o=t+4612|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36736,r=e[t+92>>2]|0,r&&(o=t+96|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+88|0,r=e[o>>2]|0,e[o>>2]=0,!r){ue(t);return}T0[e[(e[r>>2]|0)+4>>2]&255](r),ue(t)}function nu(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0;if(B=b,b=b+352|0,L=B+328|0,M=B+192|0,o=B+343|0,s=B+342|0,a=B+341|0,f=B+340|0,D=B+176|0,S=B+168|0,A=B+160|0,I=B+152|0,q=B,N=B+136|0,e[t+28>>2]|0&&(e[t+20>>2]|0)!=1){if(F=t+4|0,z=t+32|0,c=e[z>>2]|0,!c){if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[o>>0]|0,Re(37,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}if(t=e[t+12>>2]|0,(t|0)==16)switch(c|0){case 1:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[s>>0]|0,Re(38,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[a>>0]|0,Re(39,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[f>>0]|0,Re(40,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=M+56|0,a=M+4|0,e[M>>2]=36160,e[c>>2]=36180,h=0,de(62,M+56|0,a|0),B=h,h=0,B&1&&(R=Q()|0,Ye(c),ne(R|0)),e[M+128>>2]=0,e[M+132>>2]=-1,e[M>>2]=36200,e[M+56>>2]=36220,h=0,oe(180,a|0),B=h,h=0;do if(B&1)t=Q()|0;else{if(e[a>>2]=36236,f=M+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[M+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),B=h,h=0,B&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,M|0,49007,21)|0,L=h,h=0;do if(!(L&1)&&(h=0,T=Ce(36,t|0,e[z>>2]|0)|0,L=h,h=0,!(L&1))&&(h=0,Oe(28,T|0,50997,18)|0,L=h,h=0,!(L&1))){if(s=g0(16)|0,h=0,de(64,D|0,a|0),L=h,h=0,L&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,D|0),L=h,h=0,L&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(D),!o)break;v0(s|0)}else R=34;while(!1);(R|0)==34&&(t=Q()|0),e[M>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}switch((t|0)<=8&&(t=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,t|0,8,35648),R=h,h=0,R&1||V0(t|0,824,96),R=Q()|0,v0(t|0),ne(R|0)),o=16-t|0,c|0){case 1:{if(t=We(60)|0,e[S>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[S>>2],e[L+4>>2]=e[S+4>>2],Re(41,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(60)|0,e[A>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[A>>2],e[L+4>>2]=e[A+4>>2],Re(42,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(60)|0,e[I>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[I>>2],e[L+4>>2]=e[I+4>>2],Re(43,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=q+56|0,a=q+4|0,e[q>>2]=36160,e[c>>2]=36180,h=0,de(62,q+56|0,a|0),M=h,h=0,M&1&&(R=Q()|0,Ye(c),ne(R|0)),e[q+128>>2]=0,e[q+132>>2]=-1,e[q>>2]=36200,e[q+56>>2]=36220,h=0,oe(180,a|0),M=h,h=0;do if(M&1)t=Q()|0;else{if(e[a>>2]=36236,f=q+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[q+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),M=h,h=0,M&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,q|0,49007,21)|0,M=h,h=0;do if(!(M&1)&&(h=0,k=Ce(36,t|0,e[z>>2]|0)|0,M=h,h=0,!(M&1))&&(h=0,Oe(28,k|0,50997,18)|0,M=h,h=0,!(M&1))){if(s=g0(16)|0,h=0,de(64,N|0,a|0),M=h,h=0,M&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,N|0),M=h,h=0,M&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(N),!o)break;v0(s|0)}else R=64;while(!1);(R|0)==64&&(t=Q()|0),e[q>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}}return o=e[r+4>>2]|0,s=We(16)|0,t=e[t+16>>2]|0,o?(e[s>>2]=36108,e[s+4>>2]=o,e[s+8>>2]=6,e[s+12>>2]=t,R=s,b=B,R|0):(R=e[r>>2]|0,e[s>>2]=36132,e[s+4>>2]=R,e[s+8>>2]=6,e[s+12>>2]=t,R=s,b=B,R|0)}function ou(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0;c=b,b=b+32|0,A=c,dt(A,e[t+128>>2]|0,e[t+136>>2]|0),S=e[r+4>>2]|0,f=e[r+8>>2]|0,f=f|0?f:e[A+8>>2]|0,a=e[r+12>>2]|0,a=a|0?a:e[A+12>>2]|0,o=e[r+16>>2]|0,s=e[A+16>>2]|0,e[t+176>>2]=S|0?S:e[A+4>>2]|0,e[t+180>>2]=f,e[t+184>>2]=a,cu(t),a=t+132|0,r=(e[a>>2]|0)+32|0,r=(r|0)<128?2:(r|0)/64|0,f=0;do e[t+188+(f*12|0)>>2]=r,e[t+188+(f*12|0)+4>>2]=0,y[t+188+(f*12|0)+8>>1]=0,y[t+188+(f*12|0)+10>>1]=1,f=f+1|0;while((f|0)!=365);S=(e[a>>2]|0)+32|0,S=(S|0)<128?2:(S|0)/64|0,A=(o|0?o:s)&255,e[t+4568>>2]=S,e[t+4572>>2]=0,m[t+4576>>0]=A,m[t+4577>>0]=1,m[t+4578>>0]=0,e[t+4580>>2]=S,e[t+4584>>2]=1,m[t+4588>>0]=A,m[t+4589>>0]=1,m[t+4590>>0]=0,e[t+4592>>2]=0,b=c}function su(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0;for(c=t+88|0,f=e[r>>2]|0,e[r>>2]=0,r=e[c>>2]|0,e[c>>2]=f,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),c=s+4|0,f=e[c>>2]|0,m[t+4620>>0]=a&1,r=t+156|0,e[r>>2]=e[o>>2],e[r+4>>2]=e[o+4>>2],e[r+8>>2]=e[o+8>>2],e[r+12>>2]=e[o+12>>2],Qt(t,s),au(t),r=e[t+116>>2]|0,t=e[t+112>>2]|0;a=r+-1|0,o=(m[a>>0]|0)==-1?7:8,!((t|0)<(o|0));)r=a,t=t-o|0;r=r-f|0,a=e[c>>2]|0,a&&(e[c>>2]=a+r,s=s+8|0,e[s>>2]=(e[s>>2]|0)-r)}function au(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0;Z=b,b=b+32|0,ee=Z+12|0,K=Z,L=t+172|0,M=(e[L>>2]|0)+4|0,(e[t+28>>2]|0)==1?R=e[t+20>>2]|0:R=1,r=J(R<<1,M)|0,e[ee>>2]=0,se=ee+4|0,e[se>>2]=0,e[ee+8>>2]=0;do if(r){if(r>>>0>715827882&&(h=0,oe(178,ee|0),re=h,h=0,re&1)||(c=6),(c|0)==6&&(h=0,o=ce(67,r*6|0)|0,re=h,h=0,!(re&1))){for(e[se>>2]=o,e[ee>>2]=o,s=o+(r*6|0)|0,e[ee+8>>2]=s;y[o>>1]=0,y[o+2>>1]=0,y[o+4>>1]=0,r=r+-1|0,r;)o=o+6|0;e[se>>2]=s;break}s=Q()|0,r=e[ee>>2]|0,r||ne(s|0),o=e[se>>2]|0,(o|0)!=(r|0)&&(e[se>>2]=o+(~(((o+-6-r|0)>>>0)/6|0)*6|0)),ue(r),ne(s|0)}while(!1);e[K>>2]=0,re=K+4|0,e[re>>2]=0,e[K+8>>2]=0;do if(!R)c=20;else{if(R>>>0>1073741823&&(h=0,oe(178,K|0),B=h,h=0,B&1)||(c=18),(c|0)==18&&(a=R<<2,h=0,f=ce(67,a|0)|0,B=h,h=0,!(B&1))){e[K>>2]=f,c=f+(R<<2)|0,e[K+8>>2]=c,j0(f|0,0,a|0)|0,e[re>>2]=c,c=20;break}s=Q()|0,r=e[K>>2]|0,o=r,r&&(a=e[re>>2]|0,(a|0)!=(r|0)&&(e[re>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ue(r))}while(!1);if((c|0)==20){f=t+8|0;e:do if((e[f>>2]|0)>0){c=t+4596|0,S=J(R,M)|0,A=S+1|0,I=t+4600|0,T=(R|0)>0,k=t+160|0,D=t+168|0,F=t+164|0,N=t+156|0,z=t+88|0,q=t+4592|0,B=0;t:for(;;){if(s=e[ee>>2]|0,o=s+6|0,e[c>>2]=o,s=s+(A*6|0)|0,e[I>>2]=s,B&1?(e[c>>2]=s,e[I>>2]=o,r=o,o=s):r=s,T){a=e[K>>2]|0,s=0;do{if(e[q>>2]=e[a+(s<<2)>>2],r=e[L>>2]|0,a=o+(r*6|0)|0,o=o+((r+-1|0)*6|0)|0,y[a>>1]=y[o>>1]|0,y[a+2>>1]=y[o+2>>1]|0,y[a+4>>1]=y[o+4>>1]|0,a=(e[I>>2]|0)+-6|0,o=e[c>>2]|0,y[a>>1]=y[o>>1]|0,y[a+2>>1]=y[o+2>>1]|0,y[a+4>>1]=y[o+4>>1]|0,h=0,de(77,t|0,0),a=h,h=0,a&1){c=31;break t}a=e[K>>2]|0,e[a+(s<<2)>>2]=e[q>>2],o=(e[c>>2]|0)+(M*6|0)|0,e[c>>2]=o,r=(e[I>>2]|0)+(M*6|0)|0,e[I>>2]=r,s=s+1|0}while((s|0)<(R|0))}if(a=e[k>>2]|0,(a|0)<=(B|0)&&(B|0)<((e[D>>2]|0)+a|0)&&(a=e[z>>2]|0,h=0,Re(e[(e[a>>2]|0)+8>>2]|0,a|0,r+(((e[N>>2]|0)-S|0)*6|0)|0,e[F>>2]|0,M|0),a=h,h=0,a&1)){c=32;break}if(B=B+1|0,(B|0)>=(e[f>>2]|0)){c=44;break e}}if((c|0)==31){s=Q()|0;break}else if((c|0)==32){s=Q()|0;break}}else c=44;while(!1);do if((c|0)==44){if(h=0,oe(183,t|0),t=h,h=0,t&1){s=Q()|0;break}if(r=e[K>>2]|0,o=r,r&&(s=e[re>>2]|0,(s|0)!=(r|0)&&(e[re>>2]=s+(~((s+-4-o|0)>>>2)<<2)),ue(r)),r=e[ee>>2]|0,!r){b=Z;return}o=e[se>>2]|0,(o|0)!=(r|0)&&(e[se>>2]=o+(~(((o+-6-r|0)>>>0)/6|0)*6|0)),ue(r),b=Z;return}while(!1);r=e[K>>2]|0,o=r,r&&(a=e[re>>2]|0,(a|0)!=(r|0)&&(e[re>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ue(r))}r=e[ee>>2]|0,r||ne(s|0),o=e[se>>2]|0,(o|0)!=(r|0)&&(e[se>>2]=o+(~(((o+-6-r|0)>>>0)/6|0)*6|0)),ue(r),ne(s|0)}function lu(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0,_e=0,Se=0,Ke=0,$0=0,R0=0,rt=0,X0=0,M0=0,l0=0;if(M0=b,b=b+32|0,ee=M0+24|0,X0=M0+18|0,rt=M0+12|0,se=M0+6|0,Te=M0,_e=t+172|0,r=e[_e>>2]|0,(r|0)<=0){b=M0;return}for(Se=t+4600|0,Ke=t+4596|0,$0=t+4604|0,R0=t+4592|0,re=0;s=re+-1|0,a=e[Se>>2]|0,l0=e[Ke>>2]|0,o=re+1|0,f=O[l0+(re*6|0)>>1]|0,Z=e[$0>>2]|0,c=O[l0+(s*6|0)>>1]|0,S=f-c|0,A=O[a+(s*6|0)>>1]|0,I=c-A|0,T=((((m[Z+((O[l0+(o*6|0)>>1]|0)-f)>>0]|0)*9|0)+(m[Z+S>>0]|0)|0)*9|0)+(m[Z+I>>0]|0)|0,k=O[l0+(re*6|0)+2>>1]|0,D=O[l0+(s*6|0)+2>>1]|0,F=k-D|0,N=O[a+(s*6|0)+2>>1]|0,z=D-N|0,q=((((m[Z+((O[l0+(o*6|0)+2>>1]|0)-k)>>0]|0)*9|0)+(m[Z+F>>0]|0)|0)*9|0)+(m[Z+z>>0]|0)|0,B=O[l0+(re*6|0)+4>>1]|0,L=O[l0+(s*6|0)+4>>1]|0,M=B-L|0,R=O[a+(s*6|0)+4>>1]|0,K=L-R|0,Z=((((m[Z+((O[l0+(o*6|0)+4>>1]|0)-B)>>0]|0)*9|0)+(m[Z+M>>0]|0)|0)*9|0)+(m[Z+K>>0]|0)|0,q|T|Z?(s=O[a+(re*6|0)>>1]|0,r=f-A>>31,(r^I|0)>=0?(r^S|0)<0?r=A:r=A-c+f|0:r=f,f=an(t,T,s,r,0)|0,s=O[(e[Se>>2]|0)+(re*6|0)+2>>1]|0,r=k-N>>31,(r^z|0)>=0?(r^F|0)<0?r=N:r=N-D+k|0:r=k,s=an(t,q,s,r,0)|0,a=O[(e[Se>>2]|0)+(re*6|0)+4>>1]|0,r=B-R>>31,(r^K|0)>=0?(r^M|0)<0?r=R:r=R-L+B|0:r=B,Z=an(t,Z,a,r,0)|0,l0=e[Se>>2]|0,y[l0+(re*6|0)>>1]=f,y[l0+(re*6|0)+2>>1]=s,y[l0+(re*6|0)+4>>1]=Z):(o=a+(s*6|0)|0,y[rt>>1]=y[o>>1]|0,y[rt+2>>1]=y[o+2>>1]|0,y[rt+4>>1]=y[o+4>>1]|0,y[ee>>1]=y[o>>1]|0,y[ee+2>>1]=y[o+2>>1]|0,y[ee+4>>1]=y[o+4>>1]|0,r=uu(t,ee,a+(re*6|0)|0,r-re|0)|0,o=r+re|0,(o|0)!=(e[_e>>2]|0)&&(l0=(e[Ke>>2]|0)+(o*6|0)|0,y[Te>>1]=y[l0>>1]|0,y[Te+2>>1]=y[l0+2>>1]|0,y[Te+4>>1]=y[l0+4>>1]|0,l0=(e[Se>>2]|0)+(o*6|0)|0,y[X0>>1]=y[rt>>1]|0,y[X0+2>>1]=y[rt+2>>1]|0,y[X0+4>>1]=y[rt+4>>1]|0,y[ee>>1]=y[Te>>1]|0,y[ee+2>>1]=y[Te+2>>1]|0,y[ee+4>>1]=y[Te+4>>1]|0,fu(se,t,X0,ee),y[l0>>1]=y[se>>1]|0,y[l0+2>>1]=y[se+2>>1]|0,y[l0+4>>1]=y[se+4>>1]|0,l0=e[R0>>2]|0,e[R0>>2]=(l0|0)<1?0:l0+-1|0,r=r+1|0),o=r+re|0),r=e[_e>>2]|0,!((o|0)>=(r|0));)re=o;b=M0}function uu(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;for(S=t+112|0,A=t+108|0,I=t+4592|0,a=e[S>>2]|0,f=0;;){if((a|0)<1&&(Mt(t),a=e[S>>2]|0),c=e[A>>2]|0,a=a+-1|0,e[S>>2]=a,e[A>>2]=c<<1,(c|0)>=0){T=8;break}if(c=e[I>>2]|0,k=1<<e[36476+(c<<2)>>2],D=s-f|0,D=(k|0)<(D|0)?k:D,f=D+f|0,(D|0)==(k|0)&&(e[I>>2]=(c|0)>30?31:c+1|0),(f|0)==(s|0)){a=s;break}}if((T|0)==8&&((f|0)!=(s|0)?(a=e[I>>2]|0,(a+-4|0)>>>0<28?a=st(t,e[36476+(a<<2)>>2]|0)|0:a=0,a=a+f|0,(a|0)>(s|0)&&(a=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,a|0,5,35648),D=h,h=0,D&1?(D=Q()|0,v0(a|0),ne(D|0)):V0(a|0,824,96))):a=s),(a|0)<=0)return a|0;f=0;do D=o+(f*6|0)|0,y[D>>1]=y[r>>1]|0,y[D+2>>1]=y[r+2>>1]|0,y[D+4>>1]=y[r+4>>1]|0,f=f+1|0;while((f|0)!=(a|0));return a|0}function fu(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0;if(A=r+4568|0,k=un(r,A)|0,c=un(r,A)|0,A=un(r,A)|0,f=r+128|0,a=O[s>>1]|0,I=e[r+136>>2]|0,T=I<<1|1,a=(J(J(T,k)|0,a-(O[o>>1]|0)>>31|1)|0)+a|0,k=0-I|0,(a|0)>=(k|0)?(f=e[f>>2]|0,(f+I|0)<(a|0)&&(a=a-(J(e[r+132>>2]|0,T)|0)|0)):(a=(J(e[r+132>>2]|0,T)|0)+a|0,f=e[f>>2]|0),(a&f|0)!=(a|0)&&(a=f&~(a>>31)),S=a&65535,a=O[s+2>>1]|0,a=(J(J(T,c)|0,a-(O[o+2>>1]|0)>>31|1)|0)+a|0,(a|0)>=(k|0)?(f+I|0)<(a|0)&&(a=a-(J(e[r+132>>2]|0,T)|0)|0):a=(J(e[r+132>>2]|0,T)|0)+a|0,(a&f|0)!=(a|0)&&(a=f&~(a>>31)),c=a&65535,a=O[s+4>>1]|0,a=(J(J(T,A)|0,a-(O[o+4>>1]|0)>>31|1)|0)+a|0,(a|0)>=(k|0)?(f+I|0)<(a|0)&&(a=a-(J(e[r+132>>2]|0,T)|0)|0):a=(J(e[r+132>>2]|0,T)|0)+a|0,(a&f|0)==(a|0)){r=a,r=r&65535,y[t>>1]=S,k=t+2|0,y[k>>1]=c,t=t+4|0,y[t>>1]=r;return}r=f&~(a>>31),r=r&65535,y[t>>1]=S,k=t+2|0,y[k>>1]=c,t=t+4|0,y[t>>1]=r}function an(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;if(N=r>>31,A=(N^r)-N|0,D=t+188+(A*12|0)+10|0,o=y[D>>1]|0,k=t+188+(A*12|0)|0,a=e[k>>2]|0,(o|0)<(a|0))if((o<<1|0)<(a|0))if((o<<2|0)<(a|0))if((o<<3|0)<(a|0))if((o<<4|0)<(a|0))for(r=5;(o<<r|0)<(a|0);)r=r+1|0;else r=4;else r=3;else r=2;else r=1;else r=0;return T=t+188+(A*12|0)+8|0,o=(y[T>>1]^N)-N+s|0,F=t+128|0,a=e[F>>2]|0,(o&a|0)==(o|0)?I=o:I=a&~(o>>31),o=t+112|0,(e[o>>2]|0)<8&&Mt(t),a=t+108|0,s=e[a>>2]|0,f=s>>>24,c=e[2832+(r<<11)+(f<<3)+4>>2]|0,c?(e[o>>2]=(e[o>>2]|0)-c,e[a>>2]=s<<c,o=e[2832+(r<<11)+(f<<3)>>2]|0):(S=e[t+148>>2]|0,a=e[t+140>>2]|0,o=Yt(t)|0,(o|0)<(S+-1-a|0)?r&&(o=(st(t,r)|0)+(o<<r)|0):o=(st(t,a)|0)+1|0,o=o<<31>>31^o>>1,(((o|0)>-1?o:0-o|0)|0)>65535&&(o=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,o|0,5,35648),t=h,h=0,t&1?(t=Q()|0,v0(o|0),ne(t|0)):V0(o|0,824,96))),S=t+136|0,s=e[S>>2]|0,r?c=o:(s?a=0:a=(e[t+188+(A*12|0)+4>>2]<<1)+-1+(y[D>>1]|0)>>31,c=a^o),r=e[t+152>>2]|0,a=(e[k>>2]|0)+((c|0)>-1?c:0-c|0)|0,f=t+188+(A*12|0)+4|0,o=(e[f>>2]|0)+(J(s<<1|1,c)|0)|0,s=y[D>>1]|0,(s|0)==(r|0)&&(a=a>>1,o=o>>1,s=r>>1),e[k>>2]=a,r=s+1|0,y[D>>1]=r,a=r+o|0,(a|0)>=1?(o|0)>0&&(o=o-r|0,D=y[T>>1]|0,y[T>>1]=(D<<16>>16<127&1)+(D&65535),o=(o|0)>0?0:o):(o=y[T>>1]|0,y[T>>1]=(o&65535)-(o<<16>>16>-128&1),o=(a|0)>(~s|0)?a:0-s|0),e[f>>2]=o,r=e[S>>2]|0,s=r<<1|1,a=(J(s,(c^N)-N|0)|0)+I|0,(a|0)>=(0-r|0)?(o=e[F>>2]|0,(o+r|0)<(a|0)&&(a=a-(J(e[t+132>>2]|0,s)|0)|0)):(a=(J(e[t+132>>2]|0,s)|0)+a|0,o=e[F>>2]|0),(a&o|0)==(a|0)?(t=a,t=t&65535,t|0):(t=o&~(a>>31),t=t&65535,t|0)}function un(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0;if(I=r+9|0,o=P[I>>0]|0,f=r+4|0,a=(J(o>>>1,e[f>>2]|0)|0)+(e[r>>2]|0)|0,(o|0)<(a|0)){s=0;do o=o<<1,s=s+1|0;while((o|0)<(a|0))}else s=0;c=e[t+148>>2]|0,S=e[36476+(e[t+4592>>2]<<2)>>2]|0,o=e[t+140>>2]|0,a=Yt(t)|0;do if((a|0)<(c+-2-S-o|0))if(s){S=(st(t,s)|0)+(a<<s)|0,s=e[f>>2]|0,a=S+s|0,c=a&1,o=c,f=1,a=(c+a|0)/2|0;break}else{s=e[f>>2]|0,t=s+a|0,o=t&1,t=(o+t|0)/2|0,A=8;break}else a=(st(t,o)|0)+1|0,c=e[f>>2]|0,t=a+c|0,o=t&1,t=(o+t|0)/2|0,s?(S=a,f=1,a=t,s=c):(s=c,A=8);while(!1);return(A|0)==8&&(S=a,f=P[r+10>>0]<<1>>>0>=(P[I>>0]|0)>>>0,a=t),a=(o|0)!=0^f?a:0-a|0,(a|0)<0&&(A=r+10|0,m[A>>0]=(P[A>>0]|0)+1),o=(S+1-s>>1)+(e[r>>2]|0)|0,e[r>>2]=o,s=m[I>>0]|0,s<<24>>24!=(m[r+8>>0]|0)?(r=s,r=r&255,r=r+1|0,r=r&255,m[I>>0]=r,a|0):(e[r>>2]=o>>1,A=(s&255)>>>1,m[I>>0]=A,r=r+10|0,m[r>>0]=(P[r>>0]|0)>>>1,r=A,r=r&255,r=r+1|0,r=r&255,m[I>>0]=r,a|0)}function cu(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;D=b,b=b+32|0,s=D,k=t+136|0;e:do if(e[k>>2]|0)r=t+144|0;else if(o=e[t+128>>2]|0,r=t+144|0,(o|0)==((1<<e[r>>2])+-1|0)&&(dt(s,o,0),(e[s+4>>2]|0)==(e[t+176>>2]|0))&&(e[s+8>>2]|0)==(e[t+180>>2]|0)&&(e[s+12>>2]|0)==(e[t+184>>2]|0))switch(e[r>>2]|0){case 8:{k=e[8900]|0,e[t+4604>>2]=k+(((e[8901]|0)-k|0)>>>1),b=D;return}case 10:{k=e[8903]|0,e[t+4604>>2]=k+(((e[8904]|0)-k|0)>>>1),b=D;return}case 12:{k=e[8906]|0,e[t+4604>>2]=k+(((e[8907]|0)-k|0)>>>1),b=D;return}case 16:{k=e[8909]|0,e[t+4604>>2]=k+(((e[8910]|0)-k|0)>>>1),b=D;return}default:break e}while(!1);if(T=1<<e[r>>2],o=t+4608|0,s=T<<1,a=t+4612|0,f=e[a>>2]|0,r=e[o>>2]|0,c=f-r|0,s>>>0<=c>>>0?s>>>0<c>>>0&&(S=r+s|0,(f|0)!=(S|0))&&(e[a>>2]=S):(jt(o,s-c|0),r=e[o>>2]|0),I=t+4604|0,e[I>>2]=r+T,r=0-T|0,(T|0)<=(r|0)){b=D;return}S=t+184|0,A=t+180|0,c=t+176|0,f=r;do r=e[S>>2]|0,(f|0)>(0-r|0)?(o=e[A>>2]|0,(f|0)>(0-o|0)?(s=e[c>>2]|0,(f|0)>(0-s|0)?(a=e[k>>2]|0,(f|0)>=(0-a|0)?(a|0)<(f|0)?(s|0)<=(f|0)?(o|0)>(f|0)?r=2:r=(r|0)>(f|0)?3:4:r=1:r=0:r=-1):r=-2):r=-3):r=-4,m[(e[I>>2]|0)+f>>0]=r,f=f+1|0;while((f|0)!=(T|0));b=D}function hu(t){t=t|0;var r=0,o=0;e[t>>2]=35800,r=e[t+4608>>2]|0,r&&(o=t+4612|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36736,r=e[t+92>>2]|0,r&&(o=t+96|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),t=t+88|0,r=e[t>>2]|0,e[t>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r)}function du(t){t=t|0;var r=0,o=0;if(e[t>>2]=35800,r=e[t+4608>>2]|0,r&&(o=t+4612|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36736,r=e[t+92>>2]|0,r&&(o=t+96|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+88|0,r=e[o>>2]|0,e[o>>2]=0,!r){ue(t);return}T0[e[(e[r>>2]|0)+4>>2]&255](r),ue(t)}function pu(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0;if(B=b,b=b+352|0,L=B+328|0,M=B+192|0,o=B+343|0,s=B+342|0,a=B+341|0,f=B+340|0,D=B+176|0,S=B+168|0,A=B+160|0,I=B+152|0,q=B,N=B+136|0,e[t+28>>2]|0&&(e[t+20>>2]|0)!=1){if(F=t+4|0,z=t+32|0,c=e[z>>2]|0,!c){if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[o>>0]|0,Re(44,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}if(t=e[t+12>>2]|0,(t|0)==8)switch(c|0){case 1:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[s>>0]|0,Re(45,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[a>>0]|0,Re(46,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[f>>0]|0,Re(47,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=M+56|0,a=M+4|0,e[M>>2]=36160,e[c>>2]=36180,h=0,de(62,M+56|0,a|0),B=h,h=0,B&1&&(R=Q()|0,Ye(c),ne(R|0)),e[M+128>>2]=0,e[M+132>>2]=-1,e[M>>2]=36200,e[M+56>>2]=36220,h=0,oe(180,a|0),B=h,h=0;do if(B&1)t=Q()|0;else{if(e[a>>2]=36236,f=M+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[M+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),B=h,h=0,B&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,M|0,49007,21)|0,L=h,h=0;do if(!(L&1)&&(h=0,T=Ce(36,t|0,e[z>>2]|0)|0,L=h,h=0,!(L&1))&&(h=0,Oe(28,T|0,50997,18)|0,L=h,h=0,!(L&1))){if(s=g0(16)|0,h=0,de(64,D|0,a|0),L=h,h=0,L&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,D|0),L=h,h=0,L&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(D),!o)break;v0(s|0)}else R=34;while(!1);(R|0)==34&&(t=Q()|0),e[M>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}switch((t|0)<=8&&(t=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,t|0,8,35648),R=h,h=0,R&1||V0(t|0,824,96),R=Q()|0,v0(t|0),ne(R|0)),o=16-t|0,c|0){case 1:{if(t=We(60)|0,e[S>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[S>>2],e[L+4>>2]=e[S+4>>2],Re(41,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(60)|0,e[A>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[A>>2],e[L+4>>2]=e[A+4>>2],Re(42,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(60)|0,e[I>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[I>>2],e[L+4>>2]=e[I+4>>2],Re(43,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=q+56|0,a=q+4|0,e[q>>2]=36160,e[c>>2]=36180,h=0,de(62,q+56|0,a|0),M=h,h=0,M&1&&(R=Q()|0,Ye(c),ne(R|0)),e[q+128>>2]=0,e[q+132>>2]=-1,e[q>>2]=36200,e[q+56>>2]=36220,h=0,oe(180,a|0),M=h,h=0;do if(M&1)t=Q()|0;else{if(e[a>>2]=36236,f=q+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[q+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),M=h,h=0,M&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,q|0,49007,21)|0,M=h,h=0;do if(!(M&1)&&(h=0,k=Ce(36,t|0,e[z>>2]|0)|0,M=h,h=0,!(M&1))&&(h=0,Oe(28,k|0,50997,18)|0,M=h,h=0,!(M&1))){if(s=g0(16)|0,h=0,de(64,N|0,a|0),M=h,h=0,M&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,N|0),M=h,h=0,M&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(N),!o)break;v0(s|0)}else R=64;while(!1);(R|0)==64&&(t=Q()|0),e[q>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}}return o=e[r+4>>2]|0,s=We(16)|0,t=e[t+16>>2]|0,o?(e[s>>2]=36108,e[s+4>>2]=o,e[s+8>>2]=3,e[s+12>>2]=t,R=s,b=B,R|0):(R=e[r>>2]|0,e[s>>2]=36132,e[s+4>>2]=R,e[s+8>>2]=3,e[s+12>>2]=t,R=s,b=B,R|0)}function mu(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0;c=b,b=b+32|0,A=c,dt(A,e[t+128>>2]|0,e[t+136>>2]|0),S=e[r+4>>2]|0,f=e[r+8>>2]|0,f=f|0?f:e[A+8>>2]|0,a=e[r+12>>2]|0,a=a|0?a:e[A+12>>2]|0,o=e[r+16>>2]|0,s=e[A+16>>2]|0,e[t+176>>2]=S|0?S:e[A+4>>2]|0,e[t+180>>2]=f,e[t+184>>2]=a,yu(t),a=t+132|0,r=(e[a>>2]|0)+32|0,r=(r|0)<128?2:(r|0)/64|0,f=0;do e[t+188+(f*12|0)>>2]=r,e[t+188+(f*12|0)+4>>2]=0,y[t+188+(f*12|0)+8>>1]=0,y[t+188+(f*12|0)+10>>1]=1,f=f+1|0;while((f|0)!=365);S=(e[a>>2]|0)+32|0,S=(S|0)<128?2:(S|0)/64|0,A=(o|0?o:s)&255,e[t+4568>>2]=S,e[t+4572>>2]=0,m[t+4576>>0]=A,m[t+4577>>0]=1,m[t+4578>>0]=0,e[t+4580>>2]=S,e[t+4584>>2]=1,m[t+4588>>0]=A,m[t+4589>>0]=1,m[t+4590>>0]=0,e[t+4592>>2]=0,b=c}function gu(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0;for(c=t+88|0,f=e[r>>2]|0,e[r>>2]=0,r=e[c>>2]|0,e[c>>2]=f,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),c=s+4|0,f=e[c>>2]|0,m[t+4620>>0]=a&1,r=t+156|0,e[r>>2]=e[o>>2],e[r+4>>2]=e[o+4>>2],e[r+8>>2]=e[o+8>>2],e[r+12>>2]=e[o+12>>2],Qt(t,s),vu(t),r=e[t+116>>2]|0,t=e[t+112>>2]|0;a=r+-1|0,o=(m[a>>0]|0)==-1?7:8,!((t|0)<(o|0));)r=a,t=t-o|0;r=r-f|0,a=e[c>>2]|0,a&&(e[c>>2]=a+r,s=s+8|0,e[s>>2]=(e[s>>2]|0)-r)}function vu(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0;Z=b,b=b+32|0,ee=Z+12|0,K=Z,L=t+172|0,M=(e[L>>2]|0)+4|0,(e[t+28>>2]|0)==1?R=e[t+20>>2]|0:R=1,r=J(R<<1,M)|0,e[ee>>2]=0,se=ee+4|0,e[se>>2]=0,e[ee+8>>2]=0;e:do if(r){if(r>>>0>1431655765&&(h=0,oe(178,ee|0),re=h,h=0,re&1)||(f=6),(f|0)==6&&(h=0,o=ce(67,r*3|0)|0,re=h,h=0,!(re&1))){for(e[se>>2]=o,e[ee>>2]=o,e[ee+8>>2]=o+(r*3|0);;)if(m[o>>0]=0,m[o+1>>0]=0,m[o+2>>0]=0,o=(e[se>>2]|0)+3|0,e[se>>2]=o,r=r+-1|0,!r)break e}s=Q()|0,r=e[ee>>2]|0,r||ne(s|0),o=e[se>>2]|0,(o|0)!=(r|0)&&(e[se>>2]=o+(~(((o+-3-r|0)>>>0)/3|0)*3|0)),ue(r),ne(s|0)}while(!1);e[K>>2]=0,re=K+4|0,e[re>>2]=0,e[K+8>>2]=0;do if(!R)f=19;else{if(R>>>0>1073741823&&(h=0,oe(178,K|0),B=h,h=0,B&1)||(f=17),(f|0)==17&&(s=R<<2,h=0,a=ce(67,s|0)|0,B=h,h=0,!(B&1))){e[K>>2]=a,f=a+(R<<2)|0,e[K+8>>2]=f,j0(a|0,0,s|0)|0,e[re>>2]=f,f=19;break}s=Q()|0,r=e[K>>2]|0,o=r,r&&(a=e[re>>2]|0,(a|0)!=(r|0)&&(e[re>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ue(r))}while(!1);if((f|0)==19){f=t+8|0;e:do if((e[f>>2]|0)>0){c=t+4596|0,S=J(R,M)|0,A=S+1|0,I=t+4600|0,T=(R|0)>0,k=t+160|0,D=t+168|0,F=t+164|0,N=t+156|0,z=t+88|0,q=t+4592|0,B=0;t:for(;;){if(s=e[ee>>2]|0,o=s+3|0,e[c>>2]=o,s=s+(A*3|0)|0,e[I>>2]=s,B&1?(e[c>>2]=s,e[I>>2]=o,r=o,o=s):r=s,T){a=e[K>>2]|0,s=0;do{if(e[q>>2]=e[a+(s<<2)>>2],r=e[L>>2]|0,a=o+(r*3|0)|0,o=o+((r+-1|0)*3|0)|0,m[a>>0]=m[o>>0]|0,m[a+1>>0]=m[o+1>>0]|0,m[a+2>>0]=m[o+2>>0]|0,o=e[c>>2]|0,a=(e[I>>2]|0)+-3|0,m[a>>0]=m[o>>0]|0,m[a+1>>0]=m[o+1>>0]|0,m[a+2>>0]=m[o+2>>0]|0,h=0,de(78,t|0,0),a=h,h=0,a&1){f=30;break t}a=e[K>>2]|0,e[a+(s<<2)>>2]=e[q>>2],o=(e[c>>2]|0)+(M*3|0)|0,e[c>>2]=o,r=(e[I>>2]|0)+(M*3|0)|0,e[I>>2]=r,s=s+1|0}while((s|0)<(R|0))}if(a=e[k>>2]|0,(a|0)<=(B|0)&&(B|0)<((e[D>>2]|0)+a|0)&&(a=e[z>>2]|0,h=0,Re(e[(e[a>>2]|0)+8>>2]|0,a|0,r+(((e[N>>2]|0)-S|0)*3|0)|0,e[F>>2]|0,M|0),a=h,h=0,a&1)){f=31;break}if(B=B+1|0,(B|0)>=(e[f>>2]|0)){f=43;break e}}if((f|0)==30){s=Q()|0;break}else if((f|0)==31){s=Q()|0;break}}else f=43;while(!1);do if((f|0)==43){if(h=0,oe(183,t|0),t=h,h=0,t&1){s=Q()|0;break}if(r=e[K>>2]|0,o=r,r&&(s=e[re>>2]|0,(s|0)!=(r|0)&&(e[re>>2]=s+(~((s+-4-o|0)>>>2)<<2)),ue(r)),r=e[ee>>2]|0,!r){b=Z;return}o=e[se>>2]|0,(o|0)!=(r|0)&&(e[se>>2]=o+(~(((o+-3-r|0)>>>0)/3|0)*3|0)),ue(r),b=Z;return}while(!1);r=e[K>>2]|0,o=r,r&&(a=e[re>>2]|0,(a|0)!=(r|0)&&(e[re>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ue(r))}r=e[ee>>2]|0,r||ne(s|0),o=e[se>>2]|0,(o|0)!=(r|0)&&(e[se>>2]=o+(~(((o+-3-r|0)>>>0)/3|0)*3|0)),ue(r),ne(s|0)}function Su(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0,_e=0,Se=0,Ke=0,$0=0,R0=0,rt=0,X0=0,M0=0,l0=0;if(M0=b,b=b+16|0,ee=M0+12|0,X0=M0+9|0,rt=M0+6|0,se=M0+3|0,Te=M0,_e=t+172|0,r=e[_e>>2]|0,(r|0)<=0){b=M0;return}for(Se=t+4600|0,Ke=t+4596|0,$0=t+4604|0,R0=t+4592|0,re=0;R=re+-1|0,s=e[Se>>2]|0,a=s+(R*3|0)|0,l0=e[Ke>>2]|0,o=re+1|0,f=P[l0+(re*3|0)>>0]|0,Z=e[$0>>2]|0,c=P[l0+(R*3|0)>>0]|0,S=f-c|0,A=P[a>>0]|0,I=c-A|0,T=((((m[Z+((P[l0+(o*3|0)>>0]|0)-f)>>0]|0)*9|0)+(m[Z+S>>0]|0)|0)*9|0)+(m[Z+I>>0]|0)|0,k=P[l0+(re*3|0)+1>>0]|0,D=P[l0+(R*3|0)+1>>0]|0,F=k-D|0,N=P[s+(R*3|0)+1>>0]|0,z=D-N|0,q=((((m[Z+((P[l0+(o*3|0)+1>>0]|0)-k)>>0]|0)*9|0)+(m[Z+F>>0]|0)|0)*9|0)+(m[Z+z>>0]|0)|0,B=P[l0+(re*3|0)+2>>0]|0,L=P[l0+(R*3|0)+2>>0]|0,M=B-L|0,R=P[s+(R*3|0)+2>>0]|0,K=L-R|0,Z=((((m[Z+((P[l0+(o*3|0)+2>>0]|0)-B)>>0]|0)*9|0)+(m[Z+M>>0]|0)|0)*9|0)+(m[Z+K>>0]|0)|0,q|T|Z?(s=P[s+(re*3|0)>>0]|0,r=f-A>>31,(r^I|0)>=0?(r^S|0)<0?r=A:r=A-c+f|0:r=f,f=fn(t,T,s,r,0)|0,s=P[(e[Se>>2]|0)+(re*3|0)+1>>0]|0,r=k-N>>31,(r^z|0)>=0?(r^F|0)<0?r=N:r=N-D+k|0:r=k,s=fn(t,q,s,r,0)|0,a=P[(e[Se>>2]|0)+(re*3|0)+2>>0]|0,r=B-R>>31,(r^K|0)>=0?(r^M|0)<0?r=R:r=R-L+B|0:r=B,Z=fn(t,Z,a,r,0)|0,l0=(e[Se>>2]|0)+(re*3|0)|0,m[l0>>0]=f,m[l0+1>>0]=s,m[l0+2>>0]=Z):(m[rt>>0]=m[a>>0]|0,m[rt+1>>0]=m[a+1>>0]|0,m[rt+2>>0]=m[a+2>>0]|0,m[ee>>0]=m[a>>0]|0,m[ee+1>>0]=m[a+1>>0]|0,m[ee+2>>0]=m[a+2>>0]|0,r=wu(t,ee,s+(re*3|0)|0,r-re|0)|0,o=r+re|0,(o|0)!=(e[_e>>2]|0)&&(l0=(e[Ke>>2]|0)+(o*3|0)|0,m[Te>>0]=m[l0>>0]|0,m[Te+1>>0]=m[l0+1>>0]|0,m[Te+2>>0]=m[l0+2>>0]|0,l0=e[Se>>2]|0,m[X0>>0]=m[rt>>0]|0,m[X0+1>>0]=m[rt+1>>0]|0,m[X0+2>>0]=m[rt+2>>0]|0,m[ee>>0]=m[Te>>0]|0,m[ee+1>>0]=m[Te+1>>0]|0,m[ee+2>>0]=m[Te+2>>0]|0,Au(se,t,X0,ee),l0=l0+(o*3|0)|0,m[l0>>0]=m[se>>0]|0,m[l0+1>>0]=m[se+1>>0]|0,m[l0+2>>0]=m[se+2>>0]|0,l0=e[R0>>2]|0,e[R0>>2]=(l0|0)<1?0:l0+-1|0,r=r+1|0),o=r+re|0),r=e[_e>>2]|0,!((o|0)>=(r|0));)re=o;b=M0}function wu(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;for(S=t+112|0,A=t+108|0,I=t+4592|0,a=e[S>>2]|0,f=0;;){if((a|0)<1&&(Mt(t),a=e[S>>2]|0),c=e[A>>2]|0,a=a+-1|0,e[S>>2]=a,e[A>>2]=c<<1,(c|0)>=0){T=8;break}if(c=e[I>>2]|0,k=1<<e[36476+(c<<2)>>2],D=s-f|0,D=(k|0)<(D|0)?k:D,f=D+f|0,(D|0)==(k|0)&&(e[I>>2]=(c|0)>30?31:c+1|0),(f|0)==(s|0)){a=s;break}}if((T|0)==8&&((f|0)!=(s|0)?(a=e[I>>2]|0,(a+-4|0)>>>0<28?a=st(t,e[36476+(a<<2)>>2]|0)|0:a=0,a=a+f|0,(a|0)>(s|0)&&(a=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,a|0,5,35648),D=h,h=0,D&1?(D=Q()|0,v0(a|0),ne(D|0)):V0(a|0,824,96))):a=s),(a|0)<=0)return a|0;f=0;do D=o+(f*3|0)|0,m[D>>0]=m[r>>0]|0,m[D+1>>0]=m[r+1>>0]|0,m[D+2>>0]=m[r+2>>0]|0,f=f+1|0;while((f|0)!=(a|0));return a|0}function Au(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0;if(A=r+4568|0,k=cn(r,A)|0,c=cn(r,A)|0,A=cn(r,A)|0,f=r+128|0,a=P[s>>0]|0,I=e[r+136>>2]|0,T=I<<1|1,a=(J(J(T,k)|0,a-(P[o>>0]|0)>>31|1)|0)+a|0,k=0-I|0,(a|0)>=(k|0)?(f=e[f>>2]|0,(f+I|0)<(a|0)&&(a=a-(J(e[r+132>>2]|0,T)|0)|0)):(a=(J(e[r+132>>2]|0,T)|0)+a|0,f=e[f>>2]|0),(a&f|0)!=(a|0)&&(a=f&~(a>>31)),S=a&255,a=P[s+1>>0]|0,a=(J(J(T,c)|0,a-(P[o+1>>0]|0)>>31|1)|0)+a|0,(a|0)>=(k|0)?(f+I|0)<(a|0)&&(a=a-(J(e[r+132>>2]|0,T)|0)|0):a=(J(e[r+132>>2]|0,T)|0)+a|0,(a&f|0)!=(a|0)&&(a=f&~(a>>31)),c=a&255,a=P[s+2>>0]|0,a=(J(J(T,A)|0,a-(P[o+2>>0]|0)>>31|1)|0)+a|0,(a|0)>=(k|0)?(f+I|0)<(a|0)&&(a=a-(J(e[r+132>>2]|0,T)|0)|0):a=(J(e[r+132>>2]|0,T)|0)+a|0,(a&f|0)==(a|0)){r=a,r=r&255,m[t>>0]=S,k=t+1|0,m[k>>0]=c,t=t+2|0,m[t>>0]=r;return}r=f&~(a>>31),r=r&255,m[t>>0]=S,k=t+1|0,m[k>>0]=c,t=t+2|0,m[t>>0]=r}function fn(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;if(N=r>>31,A=(N^r)-N|0,D=t+188+(A*12|0)+10|0,o=y[D>>1]|0,k=t+188+(A*12|0)|0,a=e[k>>2]|0,(o|0)<(a|0))if((o<<1|0)<(a|0))if((o<<2|0)<(a|0))if((o<<3|0)<(a|0))if((o<<4|0)<(a|0))for(r=5;(o<<r|0)<(a|0);)r=r+1|0;else r=4;else r=3;else r=2;else r=1;else r=0;return T=t+188+(A*12|0)+8|0,o=(y[T>>1]^N)-N+s|0,F=t+128|0,a=e[F>>2]|0,(o&a|0)==(o|0)?I=o:I=a&~(o>>31),o=t+112|0,(e[o>>2]|0)<8&&Mt(t),a=t+108|0,s=e[a>>2]|0,f=s>>>24,c=e[2832+(r<<11)+(f<<3)+4>>2]|0,c?(e[o>>2]=(e[o>>2]|0)-c,e[a>>2]=s<<c,o=e[2832+(r<<11)+(f<<3)>>2]|0):(S=e[t+148>>2]|0,a=e[t+140>>2]|0,o=Yt(t)|0,(o|0)<(S+-1-a|0)?r&&(o=(st(t,r)|0)+(o<<r)|0):o=(st(t,a)|0)+1|0,o=o<<31>>31^o>>1,(((o|0)>-1?o:0-o|0)|0)>65535&&(o=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,o|0,5,35648),t=h,h=0,t&1?(t=Q()|0,v0(o|0),ne(t|0)):V0(o|0,824,96))),S=t+136|0,s=e[S>>2]|0,r?c=o:(s?a=0:a=(e[t+188+(A*12|0)+4>>2]<<1)+-1+(y[D>>1]|0)>>31,c=a^o),r=e[t+152>>2]|0,a=(e[k>>2]|0)+((c|0)>-1?c:0-c|0)|0,f=t+188+(A*12|0)+4|0,o=(e[f>>2]|0)+(J(s<<1|1,c)|0)|0,s=y[D>>1]|0,(s|0)==(r|0)&&(a=a>>1,o=o>>1,s=r>>1),e[k>>2]=a,r=s+1|0,y[D>>1]=r,a=r+o|0,(a|0)>=1?(o|0)>0&&(o=o-r|0,D=y[T>>1]|0,y[T>>1]=(D<<16>>16<127&1)+(D&65535),o=(o|0)>0?0:o):(o=y[T>>1]|0,y[T>>1]=(o&65535)-(o<<16>>16>-128&1),o=(a|0)>(~s|0)?a:0-s|0),e[f>>2]=o,r=e[S>>2]|0,s=r<<1|1,a=(J(s,(c^N)-N|0)|0)+I|0,(a|0)>=(0-r|0)?(o=e[F>>2]|0,(o+r|0)<(a|0)&&(a=a-(J(e[t+132>>2]|0,s)|0)|0)):(a=(J(e[t+132>>2]|0,s)|0)+a|0,o=e[F>>2]|0),(a&o|0)==(a|0)?(t=a,t=t&255,t|0):(t=o&~(a>>31),t=t&255,t|0)}function cn(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0;if(I=r+9|0,o=P[I>>0]|0,f=r+4|0,a=(J(o>>>1,e[f>>2]|0)|0)+(e[r>>2]|0)|0,(o|0)<(a|0)){s=0;do o=o<<1,s=s+1|0;while((o|0)<(a|0))}else s=0;c=e[t+148>>2]|0,S=e[36476+(e[t+4592>>2]<<2)>>2]|0,o=e[t+140>>2]|0,a=Yt(t)|0;do if((a|0)<(c+-2-S-o|0))if(s){S=(st(t,s)|0)+(a<<s)|0,s=e[f>>2]|0,a=S+s|0,c=a&1,o=c,f=1,a=(c+a|0)/2|0;break}else{s=e[f>>2]|0,t=s+a|0,o=t&1,t=(o+t|0)/2|0,A=8;break}else a=(st(t,o)|0)+1|0,c=e[f>>2]|0,t=a+c|0,o=t&1,t=(o+t|0)/2|0,s?(S=a,f=1,a=t,s=c):(s=c,A=8);while(!1);return(A|0)==8&&(S=a,f=P[r+10>>0]<<1>>>0>=(P[I>>0]|0)>>>0,a=t),a=(o|0)!=0^f?a:0-a|0,(a|0)<0&&(A=r+10|0,m[A>>0]=(P[A>>0]|0)+1),o=(S+1-s>>1)+(e[r>>2]|0)|0,e[r>>2]=o,s=m[I>>0]|0,s<<24>>24!=(m[r+8>>0]|0)?(r=s,r=r&255,r=r+1|0,r=r&255,m[I>>0]=r,a|0):(e[r>>2]=o>>1,A=(s&255)>>>1,m[I>>0]=A,r=r+10|0,m[r>>0]=(P[r>>0]|0)>>>1,r=A,r=r&255,r=r+1|0,r=r&255,m[I>>0]=r,a|0)}function yu(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;D=b,b=b+32|0,s=D,k=t+136|0;e:do if(e[k>>2]|0)r=t+144|0;else if(o=e[t+128>>2]|0,r=t+144|0,(o|0)==((1<<e[r>>2])+-1|0)&&(dt(s,o,0),(e[s+4>>2]|0)==(e[t+176>>2]|0))&&(e[s+8>>2]|0)==(e[t+180>>2]|0)&&(e[s+12>>2]|0)==(e[t+184>>2]|0))switch(e[r>>2]|0){case 8:{k=e[8900]|0,e[t+4604>>2]=k+(((e[8901]|0)-k|0)>>>1),b=D;return}case 10:{k=e[8903]|0,e[t+4604>>2]=k+(((e[8904]|0)-k|0)>>>1),b=D;return}case 12:{k=e[8906]|0,e[t+4604>>2]=k+(((e[8907]|0)-k|0)>>>1),b=D;return}case 16:{k=e[8909]|0,e[t+4604>>2]=k+(((e[8910]|0)-k|0)>>>1),b=D;return}default:break e}while(!1);if(T=1<<e[r>>2],o=t+4608|0,s=T<<1,a=t+4612|0,f=e[a>>2]|0,r=e[o>>2]|0,c=f-r|0,s>>>0<=c>>>0?s>>>0<c>>>0&&(S=r+s|0,(f|0)!=(S|0))&&(e[a>>2]=S):(jt(o,s-c|0),r=e[o>>2]|0),I=t+4604|0,e[I>>2]=r+T,r=0-T|0,(T|0)<=(r|0)){b=D;return}S=t+184|0,A=t+180|0,c=t+176|0,f=r;do r=e[S>>2]|0,(f|0)>(0-r|0)?(o=e[A>>2]|0,(f|0)>(0-o|0)?(s=e[c>>2]|0,(f|0)>(0-s|0)?(a=e[k>>2]|0,(f|0)>=(0-a|0)?(a|0)<(f|0)?(s|0)<=(f|0)?(o|0)>(f|0)?r=2:r=(r|0)>(f|0)?3:4:r=1:r=0:r=-1):r=-2):r=-3):r=-4,m[(e[I>>2]|0)+f>>0]=r,f=f+1|0;while((f|0)!=(T|0));b=D}function _u(t){t=t|0;var r=0,o=0;e[t>>2]=35772,r=e[t+4584>>2]|0,r&&(o=t+4588|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36736,r=e[t+92>>2]|0,r&&(o=t+96|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),t=t+88|0,r=e[t>>2]|0,e[t>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r)}function xu(t){t=t|0;var r=0,o=0;if(e[t>>2]=35772,r=e[t+4584>>2]|0,r&&(o=t+4588|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36736,r=e[t+92>>2]|0,r&&(o=t+96|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+88|0,r=e[o>>2]|0,e[o>>2]=0,!r){ue(t);return}T0[e[(e[r>>2]|0)+4>>2]&255](r),ue(t)}function Tu(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0;if(B=b,b=b+352|0,L=B+328|0,M=B+192|0,o=B+343|0,s=B+342|0,a=B+341|0,f=B+340|0,D=B+176|0,S=B+168|0,A=B+160|0,I=B+152|0,q=B,N=B+136|0,e[t+28>>2]|0&&(e[t+20>>2]|0)!=1){if(F=t+4|0,z=t+32|0,c=e[z>>2]|0,!c){if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[o>>0]|0,Re(37,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}if(t=e[t+12>>2]|0,(t|0)==16)switch(c|0){case 1:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[s>>0]|0,Re(38,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[a>>0]|0,Re(39,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[f>>0]|0,Re(40,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=M+56|0,a=M+4|0,e[M>>2]=36160,e[c>>2]=36180,h=0,de(62,M+56|0,a|0),B=h,h=0,B&1&&(R=Q()|0,Ye(c),ne(R|0)),e[M+128>>2]=0,e[M+132>>2]=-1,e[M>>2]=36200,e[M+56>>2]=36220,h=0,oe(180,a|0),B=h,h=0;do if(B&1)t=Q()|0;else{if(e[a>>2]=36236,f=M+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[M+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),B=h,h=0,B&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,M|0,49007,21)|0,L=h,h=0;do if(!(L&1)&&(h=0,T=Ce(36,t|0,e[z>>2]|0)|0,L=h,h=0,!(L&1))&&(h=0,Oe(28,T|0,50997,18)|0,L=h,h=0,!(L&1))){if(s=g0(16)|0,h=0,de(64,D|0,a|0),L=h,h=0,L&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,D|0),L=h,h=0,L&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(D),!o)break;v0(s|0)}else R=34;while(!1);(R|0)==34&&(t=Q()|0),e[M>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}switch((t|0)<=8&&(t=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,t|0,8,35648),R=h,h=0,R&1||V0(t|0,824,96),R=Q()|0,v0(t|0),ne(R|0)),o=16-t|0,c|0){case 1:{if(t=We(60)|0,e[S>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[S>>2],e[L+4>>2]=e[S+4>>2],Re(41,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(60)|0,e[A>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[A>>2],e[L+4>>2]=e[A+4>>2],Re(42,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(60)|0,e[I>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[I>>2],e[L+4>>2]=e[I+4>>2],Re(43,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=q+56|0,a=q+4|0,e[q>>2]=36160,e[c>>2]=36180,h=0,de(62,q+56|0,a|0),M=h,h=0,M&1&&(R=Q()|0,Ye(c),ne(R|0)),e[q+128>>2]=0,e[q+132>>2]=-1,e[q>>2]=36200,e[q+56>>2]=36220,h=0,oe(180,a|0),M=h,h=0;do if(M&1)t=Q()|0;else{if(e[a>>2]=36236,f=q+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[q+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),M=h,h=0,M&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,q|0,49007,21)|0,M=h,h=0;do if(!(M&1)&&(h=0,k=Ce(36,t|0,e[z>>2]|0)|0,M=h,h=0,!(M&1))&&(h=0,Oe(28,k|0,50997,18)|0,M=h,h=0,!(M&1))){if(s=g0(16)|0,h=0,de(64,N|0,a|0),M=h,h=0,M&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,N|0),M=h,h=0,M&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(N),!o)break;v0(s|0)}else R=64;while(!1);(R|0)==64&&(t=Q()|0),e[q>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}}return o=e[r+4>>2]|0,s=We(16)|0,t=e[t+16>>2]|0,o?(e[s>>2]=36108,e[s+4>>2]=o,e[s+8>>2]=2,e[s+12>>2]=t,R=s,b=B,R|0):(R=e[r>>2]|0,e[s>>2]=36132,e[s+4>>2]=R,e[s+8>>2]=2,e[s+12>>2]=t,R=s,b=B,R|0)}function Iu(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0;a=b,b=b+32|0,S=a,dt(S,65535,0),c=e[r+4>>2]|0,f=e[r+8>>2]|0,f=f|0?f:e[S+8>>2]|0,s=e[r+12>>2]|0,s=s|0?s:e[S+12>>2]|0,r=e[r+16>>2]|0,o=e[S+16>>2]|0,e[t+152>>2]=c|0?c:e[S+4>>2]|0,e[t+156>>2]=f,e[t+160>>2]=s,Fu(t),s=0;do e[t+164+(s*12|0)>>2]=1024,e[t+164+(s*12|0)+4>>2]=0,y[t+164+(s*12|0)+8>>1]=0,y[t+164+(s*12|0)+10>>1]=1,s=s+1|0;while((s|0)!=365);S=(r|0?r:o)&255,e[t+4544>>2]=1024,e[t+4548>>2]=0,m[t+4552>>0]=S,m[t+4553>>0]=1,m[t+4554>>0]=0,e[t+4556>>2]=1024,e[t+4560>>2]=1,m[t+4564>>0]=S,m[t+4565>>0]=1,m[t+4566>>0]=0,e[t+4568>>2]=0,b=a}function Cu(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0;for(c=t+88|0,f=e[r>>2]|0,e[r>>2]=0,r=e[c>>2]|0,e[c>>2]=f,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),c=s+4|0,f=e[c>>2]|0,m[t+4596>>0]=a&1,r=t+132|0,e[r>>2]=e[o>>2],e[r+4>>2]=e[o+4>>2],e[r+8>>2]=e[o+8>>2],e[r+12>>2]=e[o+12>>2],Qt(t,s),Eu(t),r=e[t+116>>2]|0,t=e[t+112>>2]|0;a=r+-1|0,o=(m[a>>0]|0)==-1?7:8,!((t|0)<(o|0));)r=a,t=t-o|0;r=r-f|0,a=e[c>>2]|0,a&&(e[c>>2]=a+r,s=s+8|0,e[s>>2]=(e[s>>2]|0)-r)}function Eu(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0;Z=b,b=b+32|0,ee=Z+12|0,K=Z,L=t+148|0,M=(e[L>>2]|0)+4|0,(e[t+28>>2]|0)==1?R=e[t+20>>2]|0:R=1,r=J(R<<1,M)|0,e[ee>>2]=0,se=ee+4|0,e[se>>2]=0,e[ee+8>>2]=0;do if(r){if((r|0)<0&&(h=0,oe(178,ee|0),re=h,h=0,re&1)||(c=6),(c|0)==6&&(o=r<<1,h=0,s=ce(67,o|0)|0,re=h,h=0,!(re&1))){e[ee>>2]=s,re=s+(r<<1)|0,e[ee+8>>2]=re,j0(s|0,0,o|0)|0,e[se>>2]=re;break}s=Q()|0,r=e[ee>>2]|0,r||ne(s|0),o=e[se>>2]|0,(o|0)!=(r|0)&&(e[se>>2]=o+(~((o+-2-r|0)>>>1)<<1)),ue(r),ne(s|0)}while(!1);e[K>>2]=0,re=K+4|0,e[re>>2]=0,e[K+8>>2]=0;do if(!R)c=18;else{if(R>>>0>1073741823&&(h=0,oe(178,K|0),B=h,h=0,B&1)||(c=16),(c|0)==16&&(a=R<<2,h=0,f=ce(67,a|0)|0,B=h,h=0,!(B&1))){e[K>>2]=f,c=f+(R<<2)|0,e[K+8>>2]=c,j0(f|0,0,a|0)|0,e[re>>2]=c,c=18;break}s=Q()|0,r=e[K>>2]|0,o=r,r&&(a=e[re>>2]|0,(a|0)!=(r|0)&&(e[re>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ue(r))}while(!1);if((c|0)==18){f=t+8|0;e:do if((e[f>>2]|0)>0){c=t+4572|0,S=J(R,M)|0,A=S+1|0,I=t+4576|0,T=(R|0)>0,k=t+136|0,D=t+144|0,F=t+140|0,N=t+132|0,z=t+88|0,q=t+4568|0,B=0;t:for(;;){if(s=e[ee>>2]|0,o=s+2|0,e[c>>2]=o,s=s+(A<<1)|0,e[I>>2]=s,B&1?(e[c>>2]=s,e[I>>2]=o,r=o,o=s):r=s,T){a=e[K>>2]|0,s=0;do{if(e[q>>2]=e[a+(s<<2)>>2],a=e[L>>2]|0,y[o+(a<<1)>>1]=y[o+(a+-1<<1)>>1]|0,y[r+-2>>1]=y[o>>1]|0,h=0,de(79,t|0,0),a=h,h=0,a&1){c=29;break t}a=e[K>>2]|0,e[a+(s<<2)>>2]=e[q>>2],o=(e[c>>2]|0)+(M<<1)|0,e[c>>2]=o,r=(e[I>>2]|0)+(M<<1)|0,e[I>>2]=r,s=s+1|0}while((s|0)<(R|0))}if(a=e[k>>2]|0,(a|0)<=(B|0)&&(B|0)<((e[D>>2]|0)+a|0)&&(a=e[z>>2]|0,h=0,Re(e[(e[a>>2]|0)+8>>2]|0,a|0,r+((e[N>>2]|0)-S<<1)|0,e[F>>2]|0,M|0),a=h,h=0,a&1)){c=30;break}if(B=B+1|0,(B|0)>=(e[f>>2]|0)){c=42;break e}}if((c|0)==29){s=Q()|0;break}else if((c|0)==30){s=Q()|0;break}}else c=42;while(!1);do if((c|0)==42){if(h=0,oe(183,t|0),t=h,h=0,t&1){s=Q()|0;break}if(r=e[K>>2]|0,o=r,r&&(s=e[re>>2]|0,(s|0)!=(r|0)&&(e[re>>2]=s+(~((s+-4-o|0)>>>2)<<2)),ue(r)),r=e[ee>>2]|0,!r){b=Z;return}o=e[se>>2]|0,(o|0)!=(r|0)&&(e[se>>2]=o+(~((o+-2-r|0)>>>1)<<1)),ue(r),b=Z;return}while(!1);r=e[K>>2]|0,o=r,r&&(a=e[re>>2]|0,(a|0)!=(r|0)&&(e[re>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ue(r))}r=e[ee>>2]|0,r||ne(s|0),o=e[se>>2]|0,(o|0)!=(r|0)&&(e[se>>2]=o+(~((o+-2-r|0)>>>1)<<1)),ue(r),ne(s|0)}function bu(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;if(k=t+4572|0,r=e[k>>2]|0,N=t+148|0,!((e[N>>2]|0)<=0))for(D=t+4576|0,F=t+4580|0,a=r,f=O[r+-2>>1]|0,r=O[r>>1]|0,T=0;I=e[D>>2]|0,A=O[I+(T+-1<<1)>>1]|0,s=T+1|0,o=O[a+(s<<1)>>1]|0,S=e[F>>2]|0,c=r-f|0,a=f-A|0,S=((((m[S+(o-r)>>0]|0)*9|0)+(m[S+c>>0]|0)|0)*9|0)+(m[S+a>>0]|0)|0,S?(f=r-A>>31,(f^a|0)<0?a=r:a=A+((f^c|0)<0?0:c)|0,I=ku(t,S,O[I+(T<<1)>>1]|0,a,0)|0,y[(e[D>>2]|0)+(T<<1)>>1]=I):(s=(Du(t,T,0)|0)+T|0,o=e[k>>2]|0,r=O[o+(s+-1<<1)>>1]|0,o=O[o+(s<<1)>>1]|0),!((s|0)>=(e[N>>2]|0));)a=e[k>>2]|0,f=r,r=o,T=s}function ku(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;if(F=r>>31,I=(F^r)-F|0,D=t+164+(I*12|0)+10|0,o=y[D>>1]|0,k=t+164+(I*12|0)|0,a=e[k>>2]|0,(o|0)<(a|0))if((o<<1|0)<(a|0))if((o<<2|0)<(a|0))if((o<<3|0)<(a|0))if((o<<4|0)<(a|0))for(f=5;(o<<f|0)<(a|0);)f=f+1|0;else f=4;else f=3;else f=2;else f=1;else f=0;return T=t+164+(I*12|0)+8|0,o=(y[T>>1]^F)-F+s|0,(o&65535|0)!=(o|0)&&(o=o>>31&65535^65535),a=t+112|0,(e[a>>2]|0)<8&&Mt(t),s=t+108|0,c=e[s>>2]|0,S=c>>>24,A=e[2832+(f<<11)+(S<<3)+4>>2]|0,A?(e[a>>2]=(e[a>>2]|0)-A,e[s>>2]=c<<A,a=e[2832+(f<<11)+(S<<3)>>2]|0):(a=Yt(t)|0,(a|0)<47?f&&(a=(st(t,f)|0)+(a<<f)|0):a=(st(t,16)|0)+1|0,a=a<<31>>31^a>>1,(((a|0)>-1?a:0-a|0)|0)>65535&&(o=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,o|0,5,35648),r=h,h=0,r&1?(r=Q()|0,v0(o|0),ne(r|0)):V0(o|0,824,96))),A=t+164+(I*12|0)+4|0,s=e[A>>2]|0,f?f=y[D>>1]|0:(t=y[D>>1]|0,f=t,a=(s<<1)+-1+(t<<16>>16)>>31^a),c=f<<16>>16==64,t=c&1,S=s+a>>t,c=c?32:f<<16>>16,e[k>>2]=((a|0)>-1?a:0-a|0)+(e[k>>2]|0)>>t,s=c+1|0,y[D>>1]=s,f=s+S|0,(f|0)<1?(D=y[T>>1]|0,y[T>>1]=(D&65535)-(D<<16>>16>-128&1),D=(f|0)>(~c|0)?f:0-c|0,e[A>>2]=D,F=a^F,r=r>>>31,r=o+r|0,r=r+F|0,r=r&65535,r|0):(S|0)<=0?(D=S,e[A>>2]=D,F=a^F,r=r>>>31,r=o+r|0,r=r+F|0,r=r&65535,r|0):(D=S-s|0,k=y[T>>1]|0,y[T>>1]=(k<<16>>16<127&1)+(k&65535),D=(D|0)>0?0:D,e[A>>2]=D,F=a^F,r=r>>>31,r=o+r|0,r=r+F|0,r=r&65535,r|0)}function Du(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0;return f=t+4576|0,a=e[f>>2]|0,o=y[a+(r+-1<<1)>>1]|0,c=t+148|0,a=Pu(t,o,a+(r<<1)|0,(e[c>>2]|0)-r|0)|0,s=a+r|0,(s|0)==(e[c>>2]|0)?(c=a,c|0):(o=o&65535,r=O[(e[t+4572>>2]|0)+(s<<1)>>1]|0,c=o-r|0,(((c|0)>-1?c:0-c|0)|0)<1?o=(ko(t,t+4556|0)|0)+o|0:o=(J(ko(t,t+4544|0)|0,r-o>>31|1)|0)+r|0,y[(e[f>>2]|0)+(s<<1)>>1]=o,c=t+4568|0,t=e[c>>2]|0,e[c>>2]=(t|0)<1?0:t+-1|0,c=a+1|0,c|0)}function Pu(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;for(S=t+112|0,A=t+108|0,I=t+4568|0,a=e[S>>2]|0,f=0;;){if((a|0)<1&&(Mt(t),a=e[S>>2]|0),c=e[A>>2]|0,a=a+-1|0,e[S>>2]=a,e[A>>2]=c<<1,(c|0)>=0){T=8;break}if(c=e[I>>2]|0,k=1<<e[36476+(c<<2)>>2],D=s-f|0,D=(k|0)<(D|0)?k:D,f=D+f|0,(D|0)==(k|0)&&(e[I>>2]=(c|0)>30?31:c+1|0),(f|0)==(s|0)){a=s;break}}if((T|0)==8&&((f|0)!=(s|0)?(a=e[I>>2]|0,(a+-4|0)>>>0<28?a=st(t,e[36476+(a<<2)>>2]|0)|0:a=0,a=a+f|0,(a|0)>(s|0)&&(a=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,a|0,5,35648),D=h,h=0,D&1?(D=Q()|0,v0(a|0),ne(D|0)):V0(a|0,824,96))):a=s),(a|0)>0)f=0;else return a|0;do y[o+(f<<1)>>1]=r,f=f+1|0;while((f|0)!=(a|0));return a|0}function ko(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0;if(S=r+9|0,o=P[S>>0]|0,f=r+4|0,a=(J(o>>>1,e[f>>2]|0)|0)+(e[r>>2]|0)|0,(o|0)<(a|0)){s=0;do o=o<<1,s=s+1|0;while((o|0)<(a|0))}else s=0;a=e[36476+(e[t+4568>>2]<<2)>>2]|0,o=Yt(t)|0;do if((o|0)<(46-a|0))if(s){o=(st(t,s)|0)+(o<<s)|0,t=e[f>>2]|0,a=o+t|0,A=a&1,s=A,f=1,a=(A+a|0)/2|0;break}else{t=e[f>>2]|0,a=t+o|0,s=a&1,a=(s+a|0)/2|0,c=8;break}else o=(st(t,16)|0)+1|0,t=e[f>>2]|0,a=o+t|0,f=a&1,a=(f+a|0)/2|0,s?(s=f,f=1):(s=f,c=8);while(!1);return(c|0)==8&&(f=P[r+10>>0]<<1>>>0>=(P[S>>0]|0)>>>0),a=(s|0)!=0^f?a:0-a|0,(a|0)<0&&(A=r+10|0,m[A>>0]=(P[A>>0]|0)+1),o=(o+1-t>>1)+(e[r>>2]|0)|0,e[r>>2]=o,s=m[S>>0]|0,s<<24>>24!=(m[r+8>>0]|0)?(A=s,A=A&255,A=A+1|0,A=A&255,m[S>>0]=A,a|0):(e[r>>2]=o>>1,A=(s&255)>>>1,m[S>>0]=A,r=r+10|0,m[r>>0]=(P[r>>0]|0)>>>1,A=A&255,A=A+1|0,A=A&255,m[S>>0]=A,a|0)}function Fu(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0;if(I=b,b=b+32|0,S=I,dt(S,65535,0),A=t+152|0,(e[S+4>>2]|0)==(e[A>>2]|0)&&(e[S+8>>2]|0)==(e[t+156>>2]|0)&&(e[S+12>>2]|0)==(e[t+160>>2]|0)){A=e[8909]|0,e[t+4580>>2]=A+(((e[8910]|0)-A|0)>>>1),b=I;return}for(o=t+4584|0,s=t+4588|0,a=e[s>>2]|0,r=e[o>>2]|0,f=a-r|0,f>>>0>=131072?f>>>0>131072&&(c=r+131072|0,(a|0)!=(c|0))&&(e[s>>2]=c):(jt(o,131072-f|0),r=e[o>>2]|0),S=t+4580|0,e[S>>2]=r+65536,c=t+160|0,a=t+156|0,f=-65536;;){if(r=e[c>>2]|0,(f|0)>(0-r|0))if(o=e[a>>2]|0,(f|0)>(0-o|0))if(s=e[A>>2]|0,(f|0)>(0-s|0))if((f|0)>=0){if((f|0)<1){m[(e[S>>2]|0)+f>>0]=0,f=1;continue}(s|0)<=(f|0)?(o|0)>(f|0)?r=2:r=(r|0)>(f|0)?3:4:r=1}else r=-1;else r=-2;else r=-3;else r=-4;if(m[(e[S>>2]|0)+f>>0]=r,f=f+1|0,(f|0)==65536)break}b=I}function Mu(t){t=t|0;var r=0,o=0;e[t>>2]=35744,r=e[t+4584>>2]|0,r&&(o=t+4588|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36736,r=e[t+92>>2]|0,r&&(o=t+96|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),t=t+88|0,r=e[t>>2]|0,e[t>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r)}function Ru(t){t=t|0;var r=0,o=0;if(e[t>>2]=35744,r=e[t+4584>>2]|0,r&&(o=t+4588|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36736,r=e[t+92>>2]|0,r&&(o=t+96|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+88|0,r=e[o>>2]|0,e[o>>2]=0,!r){ue(t);return}T0[e[(e[r>>2]|0)+4>>2]&255](r),ue(t)}function Ou(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0;if(B=b,b=b+352|0,L=B+328|0,M=B+192|0,o=B+343|0,s=B+342|0,a=B+341|0,f=B+340|0,D=B+176|0,S=B+168|0,A=B+160|0,I=B+152|0,q=B,N=B+136|0,e[t+28>>2]|0&&(e[t+20>>2]|0)!=1){if(F=t+4|0,z=t+32|0,c=e[z>>2]|0,!c){if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[o>>0]|0,Re(37,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}if(t=e[t+12>>2]|0,(t|0)==16)switch(c|0){case 1:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[s>>0]|0,Re(38,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[a>>0]|0,Re(39,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[f>>0]|0,Re(40,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=M+56|0,a=M+4|0,e[M>>2]=36160,e[c>>2]=36180,h=0,de(62,M+56|0,a|0),B=h,h=0,B&1&&(R=Q()|0,Ye(c),ne(R|0)),e[M+128>>2]=0,e[M+132>>2]=-1,e[M>>2]=36200,e[M+56>>2]=36220,h=0,oe(180,a|0),B=h,h=0;do if(B&1)t=Q()|0;else{if(e[a>>2]=36236,f=M+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[M+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),B=h,h=0,B&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,M|0,49007,21)|0,L=h,h=0;do if(!(L&1)&&(h=0,T=Ce(36,t|0,e[z>>2]|0)|0,L=h,h=0,!(L&1))&&(h=0,Oe(28,T|0,50997,18)|0,L=h,h=0,!(L&1))){if(s=g0(16)|0,h=0,de(64,D|0,a|0),L=h,h=0,L&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,D|0),L=h,h=0,L&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(D),!o)break;v0(s|0)}else R=34;while(!1);(R|0)==34&&(t=Q()|0),e[M>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}switch((t|0)<=8&&(t=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,t|0,8,35648),R=h,h=0,R&1||V0(t|0,824,96),R=Q()|0,v0(t|0),ne(R|0)),o=16-t|0,c|0){case 1:{if(t=We(60)|0,e[S>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[S>>2],e[L+4>>2]=e[S+4>>2],Re(41,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(60)|0,e[A>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[A>>2],e[L+4>>2]=e[A+4>>2],Re(42,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(60)|0,e[I>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[I>>2],e[L+4>>2]=e[I+4>>2],Re(43,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=q+56|0,a=q+4|0,e[q>>2]=36160,e[c>>2]=36180,h=0,de(62,q+56|0,a|0),M=h,h=0,M&1&&(R=Q()|0,Ye(c),ne(R|0)),e[q+128>>2]=0,e[q+132>>2]=-1,e[q>>2]=36200,e[q+56>>2]=36220,h=0,oe(180,a|0),M=h,h=0;do if(M&1)t=Q()|0;else{if(e[a>>2]=36236,f=q+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[q+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),M=h,h=0,M&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,q|0,49007,21)|0,M=h,h=0;do if(!(M&1)&&(h=0,k=Ce(36,t|0,e[z>>2]|0)|0,M=h,h=0,!(M&1))&&(h=0,Oe(28,k|0,50997,18)|0,M=h,h=0,!(M&1))){if(s=g0(16)|0,h=0,de(64,N|0,a|0),M=h,h=0,M&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,N|0),M=h,h=0,M&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(N),!o)break;v0(s|0)}else R=64;while(!1);(R|0)==64&&(t=Q()|0),e[q>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}}return o=e[r+4>>2]|0,s=We(16)|0,t=e[t+16>>2]|0,o?(e[s>>2]=36108,e[s+4>>2]=o,e[s+8>>2]=2,e[s+12>>2]=t,R=s,b=B,R|0):(R=e[r>>2]|0,e[s>>2]=36132,e[s+4>>2]=R,e[s+8>>2]=2,e[s+12>>2]=t,R=s,b=B,R|0)}function Lu(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0;a=b,b=b+32|0,S=a,dt(S,4095,0),c=e[r+4>>2]|0,f=e[r+8>>2]|0,f=f|0?f:e[S+8>>2]|0,s=e[r+12>>2]|0,s=s|0?s:e[S+12>>2]|0,r=e[r+16>>2]|0,o=e[S+16>>2]|0,e[t+152>>2]=c|0?c:e[S+4>>2]|0,e[t+156>>2]=f,e[t+160>>2]=s,Gu(t),s=0;do e[t+164+(s*12|0)>>2]=64,e[t+164+(s*12|0)+4>>2]=0,y[t+164+(s*12|0)+8>>1]=0,y[t+164+(s*12|0)+10>>1]=1,s=s+1|0;while((s|0)!=365);S=(r|0?r:o)&255,e[t+4544>>2]=64,e[t+4548>>2]=0,m[t+4552>>0]=S,m[t+4553>>0]=1,m[t+4554>>0]=0,e[t+4556>>2]=64,e[t+4560>>2]=1,m[t+4564>>0]=S,m[t+4565>>0]=1,m[t+4566>>0]=0,e[t+4568>>2]=0,b=a}function Nu(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0;for(c=t+88|0,f=e[r>>2]|0,e[r>>2]=0,r=e[c>>2]|0,e[c>>2]=f,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),c=s+4|0,f=e[c>>2]|0,m[t+4596>>0]=a&1,r=t+132|0,e[r>>2]=e[o>>2],e[r+4>>2]=e[o+4>>2],e[r+8>>2]=e[o+8>>2],e[r+12>>2]=e[o+12>>2],Qt(t,s),Bu(t),r=e[t+116>>2]|0,t=e[t+112>>2]|0;a=r+-1|0,o=(m[a>>0]|0)==-1?7:8,!((t|0)<(o|0));)r=a,t=t-o|0;r=r-f|0,a=e[c>>2]|0,a&&(e[c>>2]=a+r,s=s+8|0,e[s>>2]=(e[s>>2]|0)-r)}function Bu(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0;Z=b,b=b+32|0,ee=Z+12|0,K=Z,L=t+148|0,M=(e[L>>2]|0)+4|0,(e[t+28>>2]|0)==1?R=e[t+20>>2]|0:R=1,r=J(R<<1,M)|0,e[ee>>2]=0,se=ee+4|0,e[se>>2]=0,e[ee+8>>2]=0;do if(r){if((r|0)<0&&(h=0,oe(178,ee|0),re=h,h=0,re&1)||(c=6),(c|0)==6&&(o=r<<1,h=0,s=ce(67,o|0)|0,re=h,h=0,!(re&1))){e[ee>>2]=s,re=s+(r<<1)|0,e[ee+8>>2]=re,j0(s|0,0,o|0)|0,e[se>>2]=re;break}s=Q()|0,r=e[ee>>2]|0,r||ne(s|0),o=e[se>>2]|0,(o|0)!=(r|0)&&(e[se>>2]=o+(~((o+-2-r|0)>>>1)<<1)),ue(r),ne(s|0)}while(!1);e[K>>2]=0,re=K+4|0,e[re>>2]=0,e[K+8>>2]=0;do if(!R)c=18;else{if(R>>>0>1073741823&&(h=0,oe(178,K|0),B=h,h=0,B&1)||(c=16),(c|0)==16&&(a=R<<2,h=0,f=ce(67,a|0)|0,B=h,h=0,!(B&1))){e[K>>2]=f,c=f+(R<<2)|0,e[K+8>>2]=c,j0(f|0,0,a|0)|0,e[re>>2]=c,c=18;break}s=Q()|0,r=e[K>>2]|0,o=r,r&&(a=e[re>>2]|0,(a|0)!=(r|0)&&(e[re>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ue(r))}while(!1);if((c|0)==18){f=t+8|0;e:do if((e[f>>2]|0)>0){c=t+4572|0,S=J(R,M)|0,A=S+1|0,I=t+4576|0,T=(R|0)>0,k=t+136|0,D=t+144|0,F=t+140|0,N=t+132|0,z=t+88|0,q=t+4568|0,B=0;t:for(;;){if(s=e[ee>>2]|0,o=s+2|0,e[c>>2]=o,s=s+(A<<1)|0,e[I>>2]=s,B&1?(e[c>>2]=s,e[I>>2]=o,r=o,o=s):r=s,T){a=e[K>>2]|0,s=0;do{if(e[q>>2]=e[a+(s<<2)>>2],a=e[L>>2]|0,y[o+(a<<1)>>1]=y[o+(a+-1<<1)>>1]|0,y[r+-2>>1]=y[o>>1]|0,h=0,de(80,t|0,0),a=h,h=0,a&1){c=29;break t}a=e[K>>2]|0,e[a+(s<<2)>>2]=e[q>>2],o=(e[c>>2]|0)+(M<<1)|0,e[c>>2]=o,r=(e[I>>2]|0)+(M<<1)|0,e[I>>2]=r,s=s+1|0}while((s|0)<(R|0))}if(a=e[k>>2]|0,(a|0)<=(B|0)&&(B|0)<((e[D>>2]|0)+a|0)&&(a=e[z>>2]|0,h=0,Re(e[(e[a>>2]|0)+8>>2]|0,a|0,r+((e[N>>2]|0)-S<<1)|0,e[F>>2]|0,M|0),a=h,h=0,a&1)){c=30;break}if(B=B+1|0,(B|0)>=(e[f>>2]|0)){c=42;break e}}if((c|0)==29){s=Q()|0;break}else if((c|0)==30){s=Q()|0;break}}else c=42;while(!1);do if((c|0)==42){if(h=0,oe(183,t|0),t=h,h=0,t&1){s=Q()|0;break}if(r=e[K>>2]|0,o=r,r&&(s=e[re>>2]|0,(s|0)!=(r|0)&&(e[re>>2]=s+(~((s+-4-o|0)>>>2)<<2)),ue(r)),r=e[ee>>2]|0,!r){b=Z;return}o=e[se>>2]|0,(o|0)!=(r|0)&&(e[se>>2]=o+(~((o+-2-r|0)>>>1)<<1)),ue(r),b=Z;return}while(!1);r=e[K>>2]|0,o=r,r&&(a=e[re>>2]|0,(a|0)!=(r|0)&&(e[re>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ue(r))}r=e[ee>>2]|0,r||ne(s|0),o=e[se>>2]|0,(o|0)!=(r|0)&&(e[se>>2]=o+(~((o+-2-r|0)>>>1)<<1)),ue(r),ne(s|0)}function Uu(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;if(k=t+4572|0,r=e[k>>2]|0,N=t+148|0,!((e[N>>2]|0)<=0))for(D=t+4576|0,F=t+4580|0,a=r,f=O[r+-2>>1]|0,r=O[r>>1]|0,T=0;I=e[D>>2]|0,A=O[I+(T+-1<<1)>>1]|0,s=T+1|0,o=O[a+(s<<1)>>1]|0,S=e[F>>2]|0,c=r-f|0,a=f-A|0,S=((((m[S+(o-r)>>0]|0)*9|0)+(m[S+c>>0]|0)|0)*9|0)+(m[S+a>>0]|0)|0,S?(f=r-A>>31,(f^a|0)<0?a=r:a=A+((f^c|0)<0?0:c)|0,I=Vu(t,S,O[I+(T<<1)>>1]|0,a,0)|0,y[(e[D>>2]|0)+(T<<1)>>1]=I):(s=(zu(t,T,0)|0)+T|0,o=e[k>>2]|0,r=O[o+(s+-1<<1)>>1]|0,o=O[o+(s<<1)>>1]|0),!((s|0)>=(e[N>>2]|0));)a=e[k>>2]|0,f=r,r=o,T=s}function Vu(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;if(F=r>>31,I=(F^r)-F|0,D=t+164+(I*12|0)+10|0,o=y[D>>1]|0,k=t+164+(I*12|0)|0,a=e[k>>2]|0,(o|0)<(a|0))if((o<<1|0)<(a|0))if((o<<2|0)<(a|0))if((o<<3|0)<(a|0))if((o<<4|0)<(a|0))for(f=5;(o<<f|0)<(a|0);)f=f+1|0;else f=4;else f=3;else f=2;else f=1;else f=0;return T=t+164+(I*12|0)+8|0,o=(y[T>>1]^F)-F+s|0,(o&4095|0)!=(o|0)&&(o=o>>31&4095^4095),a=t+112|0,(e[a>>2]|0)<8&&Mt(t),s=t+108|0,c=e[s>>2]|0,S=c>>>24,A=e[2832+(f<<11)+(S<<3)+4>>2]|0,A?(e[a>>2]=(e[a>>2]|0)-A,e[s>>2]=c<<A,a=e[2832+(f<<11)+(S<<3)>>2]|0):(a=Yt(t)|0,(a|0)<35?f&&(a=(st(t,f)|0)+(a<<f)|0):a=(st(t,12)|0)+1|0,a=a<<31>>31^a>>1,(((a|0)>-1?a:0-a|0)|0)>65535&&(o=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,o|0,5,35648),r=h,h=0,r&1?(r=Q()|0,v0(o|0),ne(r|0)):V0(o|0,824,96))),A=t+164+(I*12|0)+4|0,s=e[A>>2]|0,f?f=y[D>>1]|0:(t=y[D>>1]|0,f=t,a=(s<<1)+-1+(t<<16>>16)>>31^a),c=f<<16>>16==64,t=c&1,S=s+a>>t,c=c?32:f<<16>>16,e[k>>2]=((a|0)>-1?a:0-a|0)+(e[k>>2]|0)>>t,s=c+1|0,y[D>>1]=s,f=s+S|0,(f|0)<1?(D=y[T>>1]|0,y[T>>1]=(D&65535)-(D<<16>>16>-128&1),D=(f|0)>(~c|0)?f:0-c|0,e[A>>2]=D,F=a^F,r=r>>>31,r=o+r|0,r=r+F|0,r=r&4095,r=r&65535,r|0):(S|0)<=0?(D=S,e[A>>2]=D,F=a^F,r=r>>>31,r=o+r|0,r=r+F|0,r=r&4095,r=r&65535,r|0):(D=S-s|0,k=y[T>>1]|0,y[T>>1]=(k<<16>>16<127&1)+(k&65535),D=(D|0)>0?0:D,e[A>>2]=D,F=a^F,r=r>>>31,r=o+r|0,r=r+F|0,r=r&4095,r=r&65535,r|0)}function zu(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0;return f=t+4576|0,a=e[f>>2]|0,o=y[a+(r+-1<<1)>>1]|0,c=t+148|0,a=qu(t,o,a+(r<<1)|0,(e[c>>2]|0)-r|0)|0,s=a+r|0,(s|0)==(e[c>>2]|0)?(c=a,c|0):(o=o&65535,r=O[(e[t+4572>>2]|0)+(s<<1)>>1]|0,c=o-r|0,(((c|0)>-1?c:0-c|0)|0)<1?o=(Do(t,t+4556|0)|0)+o|0:o=(J(Do(t,t+4544|0)|0,r-o>>31|1)|0)+r|0,y[(e[f>>2]|0)+(s<<1)>>1]=o&4095,c=t+4568|0,t=e[c>>2]|0,e[c>>2]=(t|0)<1?0:t+-1|0,c=a+1|0,c|0)}function qu(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;for(S=t+112|0,A=t+108|0,I=t+4568|0,a=e[S>>2]|0,f=0;;){if((a|0)<1&&(Mt(t),a=e[S>>2]|0),c=e[A>>2]|0,a=a+-1|0,e[S>>2]=a,e[A>>2]=c<<1,(c|0)>=0){T=8;break}if(c=e[I>>2]|0,k=1<<e[36476+(c<<2)>>2],D=s-f|0,D=(k|0)<(D|0)?k:D,f=D+f|0,(D|0)==(k|0)&&(e[I>>2]=(c|0)>30?31:c+1|0),(f|0)==(s|0)){a=s;break}}if((T|0)==8&&((f|0)!=(s|0)?(a=e[I>>2]|0,(a+-4|0)>>>0<28?a=st(t,e[36476+(a<<2)>>2]|0)|0:a=0,a=a+f|0,(a|0)>(s|0)&&(a=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,a|0,5,35648),D=h,h=0,D&1?(D=Q()|0,v0(a|0),ne(D|0)):V0(a|0,824,96))):a=s),(a|0)>0)f=0;else return a|0;do y[o+(f<<1)>>1]=r,f=f+1|0;while((f|0)!=(a|0));return a|0}function Do(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0;if(S=r+9|0,o=P[S>>0]|0,f=r+4|0,a=(J(o>>>1,e[f>>2]|0)|0)+(e[r>>2]|0)|0,(o|0)<(a|0)){s=0;do o=o<<1,s=s+1|0;while((o|0)<(a|0))}else s=0;a=e[36476+(e[t+4568>>2]<<2)>>2]|0,o=Yt(t)|0;do if((o|0)<(34-a|0))if(s){o=(st(t,s)|0)+(o<<s)|0,t=e[f>>2]|0,a=o+t|0,A=a&1,s=A,f=1,a=(A+a|0)/2|0;break}else{t=e[f>>2]|0,a=t+o|0,s=a&1,a=(s+a|0)/2|0,c=8;break}else o=(st(t,12)|0)+1|0,t=e[f>>2]|0,a=o+t|0,f=a&1,a=(f+a|0)/2|0,s?(s=f,f=1):(s=f,c=8);while(!1);return(c|0)==8&&(f=P[r+10>>0]<<1>>>0>=(P[S>>0]|0)>>>0),a=(s|0)!=0^f?a:0-a|0,(a|0)<0&&(A=r+10|0,m[A>>0]=(P[A>>0]|0)+1),o=(o+1-t>>1)+(e[r>>2]|0)|0,e[r>>2]=o,s=m[S>>0]|0,s<<24>>24!=(m[r+8>>0]|0)?(A=s,A=A&255,A=A+1|0,A=A&255,m[S>>0]=A,a|0):(e[r>>2]=o>>1,A=(s&255)>>>1,m[S>>0]=A,r=r+10|0,m[r>>0]=(P[r>>0]|0)>>>1,A=A&255,A=A+1|0,A=A&255,m[S>>0]=A,a|0)}function Gu(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0;if(I=b,b=b+32|0,S=I,dt(S,4095,0),A=t+152|0,(e[S+4>>2]|0)==(e[A>>2]|0)&&(e[S+8>>2]|0)==(e[t+156>>2]|0)&&(e[S+12>>2]|0)==(e[t+160>>2]|0)){A=e[8906]|0,e[t+4580>>2]=A+(((e[8907]|0)-A|0)>>>1),b=I;return}for(o=t+4584|0,s=t+4588|0,a=e[s>>2]|0,r=e[o>>2]|0,f=a-r|0,f>>>0>=8192?f>>>0>8192&&(c=r+8192|0,(a|0)!=(c|0))&&(e[s>>2]=c):(jt(o,8192-f|0),r=e[o>>2]|0),S=t+4580|0,e[S>>2]=r+4096,c=t+160|0,a=t+156|0,f=-4096;;){if(r=e[c>>2]|0,(f|0)>(0-r|0))if(o=e[a>>2]|0,(f|0)>(0-o|0))if(s=e[A>>2]|0,(f|0)>(0-s|0))if((f|0)>=0){if((f|0)<1){m[(e[S>>2]|0)+f>>0]=0,f=1;continue}(s|0)<=(f|0)?(o|0)>(f|0)?r=2:r=(r|0)>(f|0)?3:4:r=1}else r=-1;else r=-2;else r=-3;else r=-4;if(m[(e[S>>2]|0)+f>>0]=r,f=f+1|0,(f|0)==4096)break}b=I}function $u(t){t=t|0;var r=0,o=0;e[t>>2]=35716,r=e[t+4584>>2]|0,r&&(o=t+4588|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36736,r=e[t+92>>2]|0,r&&(o=t+96|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),t=t+88|0,r=e[t>>2]|0,e[t>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r)}function Hu(t){t=t|0;var r=0,o=0;if(e[t>>2]=35716,r=e[t+4584>>2]|0,r&&(o=t+4588|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36736,r=e[t+92>>2]|0,r&&(o=t+96|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+88|0,r=e[o>>2]|0,e[o>>2]=0,!r){ue(t);return}T0[e[(e[r>>2]|0)+4>>2]&255](r),ue(t)}function Wu(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0;if(B=b,b=b+352|0,L=B+328|0,M=B+192|0,o=B+343|0,s=B+342|0,a=B+341|0,f=B+340|0,D=B+176|0,S=B+168|0,A=B+160|0,I=B+152|0,q=B,N=B+136|0,e[t+28>>2]|0&&(e[t+20>>2]|0)!=1){if(F=t+4|0,z=t+32|0,c=e[z>>2]|0,!c){if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[o>>0]|0,Re(44,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}if(t=e[t+12>>2]|0,(t|0)==8)switch(c|0){case 1:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[s>>0]|0,Re(45,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[a>>0]|0,Re(46,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[f>>0]|0,Re(47,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=M+56|0,a=M+4|0,e[M>>2]=36160,e[c>>2]=36180,h=0,de(62,M+56|0,a|0),B=h,h=0,B&1&&(R=Q()|0,Ye(c),ne(R|0)),e[M+128>>2]=0,e[M+132>>2]=-1,e[M>>2]=36200,e[M+56>>2]=36220,h=0,oe(180,a|0),B=h,h=0;do if(B&1)t=Q()|0;else{if(e[a>>2]=36236,f=M+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[M+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),B=h,h=0,B&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,M|0,49007,21)|0,L=h,h=0;do if(!(L&1)&&(h=0,T=Ce(36,t|0,e[z>>2]|0)|0,L=h,h=0,!(L&1))&&(h=0,Oe(28,T|0,50997,18)|0,L=h,h=0,!(L&1))){if(s=g0(16)|0,h=0,de(64,D|0,a|0),L=h,h=0,L&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,D|0),L=h,h=0,L&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(D),!o)break;v0(s|0)}else R=34;while(!1);(R|0)==34&&(t=Q()|0),e[M>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}switch((t|0)<=8&&(t=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,t|0,8,35648),R=h,h=0,R&1||V0(t|0,824,96),R=Q()|0,v0(t|0),ne(R|0)),o=16-t|0,c|0){case 1:{if(t=We(60)|0,e[S>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[S>>2],e[L+4>>2]=e[S+4>>2],Re(41,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(60)|0,e[A>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[A>>2],e[L+4>>2]=e[A+4>>2],Re(42,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(60)|0,e[I>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[I>>2],e[L+4>>2]=e[I+4>>2],Re(43,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=q+56|0,a=q+4|0,e[q>>2]=36160,e[c>>2]=36180,h=0,de(62,q+56|0,a|0),M=h,h=0,M&1&&(R=Q()|0,Ye(c),ne(R|0)),e[q+128>>2]=0,e[q+132>>2]=-1,e[q>>2]=36200,e[q+56>>2]=36220,h=0,oe(180,a|0),M=h,h=0;do if(M&1)t=Q()|0;else{if(e[a>>2]=36236,f=q+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[q+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),M=h,h=0,M&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,q|0,49007,21)|0,M=h,h=0;do if(!(M&1)&&(h=0,k=Ce(36,t|0,e[z>>2]|0)|0,M=h,h=0,!(M&1))&&(h=0,Oe(28,k|0,50997,18)|0,M=h,h=0,!(M&1))){if(s=g0(16)|0,h=0,de(64,N|0,a|0),M=h,h=0,M&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,N|0),M=h,h=0,M&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(N),!o)break;v0(s|0)}else R=64;while(!1);(R|0)==64&&(t=Q()|0),e[q>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}}return o=e[r+4>>2]|0,s=We(16)|0,t=e[t+16>>2]|0,o?(e[s>>2]=36108,e[s+4>>2]=o,e[s+8>>2]=1,e[s+12>>2]=t,R=s,b=B,R|0):(R=e[r>>2]|0,e[s>>2]=36132,e[s+4>>2]=R,e[s+8>>2]=1,e[s+12>>2]=t,R=s,b=B,R|0)}function Qu(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0;a=b,b=b+32|0,S=a,dt(S,255,0),c=e[r+4>>2]|0,f=e[r+8>>2]|0,f=f|0?f:e[S+8>>2]|0,s=e[r+12>>2]|0,s=s|0?s:e[S+12>>2]|0,r=e[r+16>>2]|0,o=e[S+16>>2]|0,e[t+152>>2]=c|0?c:e[S+4>>2]|0,e[t+156>>2]=f,e[t+160>>2]=s,ef(t),s=0;do e[t+164+(s*12|0)>>2]=4,e[t+164+(s*12|0)+4>>2]=0,y[t+164+(s*12|0)+8>>1]=0,y[t+164+(s*12|0)+10>>1]=1,s=s+1|0;while((s|0)!=365);S=(r|0?r:o)&255,e[t+4544>>2]=4,e[t+4548>>2]=0,m[t+4552>>0]=S,m[t+4553>>0]=1,m[t+4554>>0]=0,e[t+4556>>2]=4,e[t+4560>>2]=1,m[t+4564>>0]=S,m[t+4565>>0]=1,m[t+4566>>0]=0,e[t+4568>>2]=0,b=a}function ju(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0;for(c=t+88|0,f=e[r>>2]|0,e[r>>2]=0,r=e[c>>2]|0,e[c>>2]=f,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),c=s+4|0,f=e[c>>2]|0,m[t+4596>>0]=a&1,r=t+132|0,e[r>>2]=e[o>>2],e[r+4>>2]=e[o+4>>2],e[r+8>>2]=e[o+8>>2],e[r+12>>2]=e[o+12>>2],Qt(t,s),Yu(t),r=e[t+116>>2]|0,t=e[t+112>>2]|0;a=r+-1|0,o=(m[a>>0]|0)==-1?7:8,!((t|0)<(o|0));)r=a,t=t-o|0;r=r-f|0,a=e[c>>2]|0,a&&(e[c>>2]=a+r,s=s+8|0,e[s>>2]=(e[s>>2]|0)-r)}function Yu(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0;Z=b,b=b+32|0,ee=Z+12|0,K=Z,L=t+148|0,M=(e[L>>2]|0)+4|0,(e[t+28>>2]|0)==1?R=e[t+20>>2]|0:R=1,r=J(R<<1,M)|0,e[ee>>2]=0,se=ee+4|0,e[se>>2]=0,e[ee+8>>2]=0;e:do if(r){if((r|0)<0&&(h=0,oe(178,ee|0),re=h,h=0,re&1)||(f=6),(f|0)==6&&(h=0,o=ce(67,r|0)|0,re=h,h=0,!(re&1))){for(e[se>>2]=o,e[ee>>2]=o,e[ee+8>>2]=o+r;;)if(m[o>>0]=0,o=(e[se>>2]|0)+1|0,e[se>>2]=o,r=r+-1|0,!r)break e}o=Q()|0,r=e[ee>>2]|0,r||ne(o|0),(e[se>>2]|0)!=(r|0)&&(e[se>>2]=r),ue(r),ne(o|0)}while(!1);e[K>>2]=0,re=K+4|0,e[re>>2]=0,e[K+8>>2]=0;do if(!R)f=19;else{if(R>>>0>1073741823&&(h=0,oe(178,K|0),B=h,h=0,B&1)||(f=17),(f|0)==17&&(s=R<<2,h=0,a=ce(67,s|0)|0,B=h,h=0,!(B&1))){e[K>>2]=a,f=a+(R<<2)|0,e[K+8>>2]=f,j0(a|0,0,s|0)|0,e[re>>2]=f,f=19;break}o=Q()|0,r=e[K>>2]|0,s=r,r&&(a=e[re>>2]|0,(a|0)!=(r|0)&&(e[re>>2]=a+(~((a+-4-s|0)>>>2)<<2)),ue(r))}while(!1);if((f|0)==19){f=t+8|0;e:do if((e[f>>2]|0)>0){c=t+4572|0,S=J(R,M)|0,A=S+1|0,I=t+4576|0,T=(R|0)>0,k=t+136|0,D=t+144|0,F=t+140|0,N=t+132|0,z=t+88|0,q=t+4568|0,B=0;t:for(;;){if(s=e[ee>>2]|0,o=s+1|0,e[c>>2]=o,s=s+A|0,e[I>>2]=s,B&1?(e[c>>2]=s,e[I>>2]=o,r=o,o=s):r=s,T){a=e[K>>2]|0,s=0;do{if(e[q>>2]=e[a+(s<<2)>>2],a=e[L>>2]|0,m[o+a>>0]=m[o+(a+-1)>>0]|0,m[(e[I>>2]|0)+-1>>0]=m[e[c>>2]>>0]|0,h=0,de(81,t|0,0),a=h,h=0,a&1){f=30;break t}a=e[K>>2]|0,e[a+(s<<2)>>2]=e[q>>2],o=(e[c>>2]|0)+M|0,e[c>>2]=o,r=(e[I>>2]|0)+M|0,e[I>>2]=r,s=s+1|0}while((s|0)<(R|0))}if(a=e[k>>2]|0,(a|0)<=(B|0)&&(B|0)<((e[D>>2]|0)+a|0)&&(a=e[z>>2]|0,h=0,Re(e[(e[a>>2]|0)+8>>2]|0,a|0,r+((e[N>>2]|0)-S)|0,e[F>>2]|0,M|0),a=h,h=0,a&1)){f=31;break}if(B=B+1|0,(B|0)>=(e[f>>2]|0)){f=43;break e}}if((f|0)==30){o=Q()|0;break}else if((f|0)==31){o=Q()|0;break}}else f=43;while(!1);do if((f|0)==43){if(h=0,oe(183,t|0),t=h,h=0,t&1){o=Q()|0;break}if(r=e[K>>2]|0,o=r,r&&(s=e[re>>2]|0,(s|0)!=(r|0)&&(e[re>>2]=s+(~((s+-4-o|0)>>>2)<<2)),ue(r)),r=e[ee>>2]|0,!r){b=Z;return}(e[se>>2]|0)!=(r|0)&&(e[se>>2]=r),ue(r),b=Z;return}while(!1);r=e[K>>2]|0,s=r,r&&(a=e[re>>2]|0,(a|0)!=(r|0)&&(e[re>>2]=a+(~((a+-4-s|0)>>>2)<<2)),ue(r))}r=e[ee>>2]|0,r||ne(o|0),(e[se>>2]|0)!=(r|0)&&(e[se>>2]=r),ue(r),ne(o|0)}function Ku(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;if(k=t+4572|0,r=e[k>>2]|0,N=t+148|0,!((e[N>>2]|0)<=0))for(D=t+4576|0,F=t+4580|0,a=r,f=P[r+-1>>0]|0,r=P[r>>0]|0,T=0;I=e[D>>2]|0,A=P[I+(T+-1)>>0]|0,s=T+1|0,o=P[a+s>>0]|0,S=e[F>>2]|0,c=r-f|0,a=f-A|0,S=((((m[S+(o-r)>>0]|0)*9|0)+(m[S+c>>0]|0)|0)*9|0)+(m[S+a>>0]|0)|0,S?(f=r-A>>31,(f^a|0)<0?a=r:a=A+((f^c|0)<0?0:c)|0,I=Xu(t,S,P[I+T>>0]|0,a,0)|0,m[(e[D>>2]|0)+T>>0]=I):(s=(Zu(t,T,0)|0)+T|0,o=e[k>>2]|0,r=P[o+(s+-1)>>0]|0,o=P[o+s>>0]|0),!((s|0)>=(e[N>>2]|0));)a=e[k>>2]|0,f=r,r=o,T=s}function Xu(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;if(F=r>>31,I=(F^r)-F|0,D=t+164+(I*12|0)+10|0,o=y[D>>1]|0,k=t+164+(I*12|0)|0,a=e[k>>2]|0,(o|0)<(a|0))if((o<<1|0)<(a|0))if((o<<2|0)<(a|0))if((o<<3|0)<(a|0))if((o<<4|0)<(a|0))for(f=5;(o<<f|0)<(a|0);)f=f+1|0;else f=4;else f=3;else f=2;else f=1;else f=0;return T=t+164+(I*12|0)+8|0,o=(y[T>>1]^F)-F+s|0,(o&255|0)!=(o|0)&&(o=o>>31&255^255),a=t+112|0,(e[a>>2]|0)<8&&Mt(t),s=t+108|0,c=e[s>>2]|0,S=c>>>24,A=e[2832+(f<<11)+(S<<3)+4>>2]|0,A?(e[a>>2]=(e[a>>2]|0)-A,e[s>>2]=c<<A,a=e[2832+(f<<11)+(S<<3)>>2]|0):(a=Yt(t)|0,(a|0)<23?f&&(a=(st(t,f)|0)+(a<<f)|0):a=(st(t,8)|0)+1|0,a=a<<31>>31^a>>1,(((a|0)>-1?a:0-a|0)|0)>65535&&(o=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,o|0,5,35648),r=h,h=0,r&1?(r=Q()|0,v0(o|0),ne(r|0)):V0(o|0,824,96))),A=t+164+(I*12|0)+4|0,s=e[A>>2]|0,f?f=y[D>>1]|0:(t=y[D>>1]|0,f=t,a=(s<<1)+-1+(t<<16>>16)>>31^a),c=f<<16>>16==64,t=c&1,S=s+a>>t,c=c?32:f<<16>>16,e[k>>2]=((a|0)>-1?a:0-a|0)+(e[k>>2]|0)>>t,s=c+1|0,y[D>>1]=s,f=s+S|0,(f|0)<1?(D=y[T>>1]|0,y[T>>1]=(D&65535)-(D<<16>>16>-128&1),D=(f|0)>(~c|0)?f:0-c|0,e[A>>2]=D,F=a^F,r=r>>>31,r=o+r|0,r=r+F|0,r=r&255,r|0):(S|0)<=0?(D=S,e[A>>2]=D,F=a^F,r=r>>>31,r=o+r|0,r=r+F|0,r=r&255,r|0):(D=S-s|0,k=y[T>>1]|0,y[T>>1]=(k<<16>>16<127&1)+(k&65535),D=(D|0)>0?0:D,e[A>>2]=D,F=a^F,r=r>>>31,r=o+r|0,r=r+F|0,r=r&255,r|0)}function Zu(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0;return f=t+4576|0,a=e[f>>2]|0,o=m[a+(r+-1)>>0]|0,c=t+148|0,a=Ju(t,o,a+r|0,(e[c>>2]|0)-r|0)|0,s=a+r|0,(s|0)==(e[c>>2]|0)?(c=a,c|0):(o=o&255,r=P[(e[t+4572>>2]|0)+s>>0]|0,c=o-r|0,(((c|0)>-1?c:0-c|0)|0)<1?o=(Po(t,t+4556|0)|0)+o|0:o=(J(Po(t,t+4544|0)|0,r-o>>31|1)|0)+r|0,m[(e[f>>2]|0)+s>>0]=o,c=t+4568|0,t=e[c>>2]|0,e[c>>2]=(t|0)<1?0:t+-1|0,c=a+1|0,c|0)}function Ju(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;for(S=t+112|0,A=t+108|0,I=t+4568|0,a=e[S>>2]|0,f=0;;){if((a|0)<1&&(Mt(t),a=e[S>>2]|0),c=e[A>>2]|0,a=a+-1|0,e[S>>2]=a,e[A>>2]=c<<1,(c|0)>=0){T=8;break}if(c=e[I>>2]|0,k=1<<e[36476+(c<<2)>>2],D=s-f|0,D=(k|0)<(D|0)?k:D,f=D+f|0,(D|0)==(k|0)&&(e[I>>2]=(c|0)>30?31:c+1|0),(f|0)==(s|0)){a=s;break}}return(T|0)==8&&((f|0)!=(s|0)?(a=e[I>>2]|0,(a+-4|0)>>>0<28?a=st(t,e[36476+(a<<2)>>2]|0)|0:a=0,a=a+f|0,(a|0)>(s|0)&&(a=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,a|0,5,35648),D=h,h=0,D&1?(D=Q()|0,v0(a|0),ne(D|0)):V0(a|0,824,96))):a=s),(a|0)<=0||j0(o|0,r|0,a|0)|0,a|0}function Po(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0;if(S=r+9|0,o=P[S>>0]|0,f=r+4|0,a=(J(o>>>1,e[f>>2]|0)|0)+(e[r>>2]|0)|0,(o|0)<(a|0)){s=0;do o=o<<1,s=s+1|0;while((o|0)<(a|0))}else s=0;a=e[36476+(e[t+4568>>2]<<2)>>2]|0,o=Yt(t)|0;do if((o|0)<(22-a|0))if(s){o=(st(t,s)|0)+(o<<s)|0,t=e[f>>2]|0,a=o+t|0,A=a&1,s=A,f=1,a=(A+a|0)/2|0;break}else{t=e[f>>2]|0,a=t+o|0,s=a&1,a=(s+a|0)/2|0,c=8;break}else o=(st(t,8)|0)+1|0,t=e[f>>2]|0,a=o+t|0,f=a&1,a=(f+a|0)/2|0,s?(s=f,f=1):(s=f,c=8);while(!1);return(c|0)==8&&(f=P[r+10>>0]<<1>>>0>=(P[S>>0]|0)>>>0),a=(s|0)!=0^f?a:0-a|0,(a|0)<0&&(A=r+10|0,m[A>>0]=(P[A>>0]|0)+1),o=(o+1-t>>1)+(e[r>>2]|0)|0,e[r>>2]=o,s=m[S>>0]|0,s<<24>>24!=(m[r+8>>0]|0)?(A=s,A=A&255,A=A+1|0,A=A&255,m[S>>0]=A,a|0):(e[r>>2]=o>>1,A=(s&255)>>>1,m[S>>0]=A,r=r+10|0,m[r>>0]=(P[r>>0]|0)>>>1,A=A&255,A=A+1|0,A=A&255,m[S>>0]=A,a|0)}function ef(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0;if(I=b,b=b+32|0,S=I,dt(S,255,0),A=t+152|0,(e[S+4>>2]|0)==(e[A>>2]|0)&&(e[S+8>>2]|0)==(e[t+156>>2]|0)&&(e[S+12>>2]|0)==(e[t+160>>2]|0)){A=e[8900]|0,e[t+4580>>2]=A+(((e[8901]|0)-A|0)>>>1),b=I;return}for(o=t+4584|0,s=t+4588|0,a=e[s>>2]|0,r=e[o>>2]|0,f=a-r|0,f>>>0>=512?f>>>0>512&&(c=r+512|0,(a|0)!=(c|0))&&(e[s>>2]=c):(jt(o,512-f|0),r=e[o>>2]|0),S=t+4580|0,e[S>>2]=r+256,c=t+160|0,a=t+156|0,f=-256;;){if(r=e[c>>2]|0,(f|0)>(0-r|0))if(o=e[a>>2]|0,(f|0)>(0-o|0))if(s=e[A>>2]|0,(f|0)>(0-s|0))if((f|0)>=0){if((f|0)<1){m[(e[S>>2]|0)+f>>0]=0,f=1;continue}(s|0)<=(f|0)?(o|0)>(f|0)?r=2:r=(r|0)>(f|0)?3:4:r=1}else r=-1;else r=-2;else r=-3;else r=-4;if(m[(e[S>>2]|0)+f>>0]=r,f=f+1|0,(f|0)==256)break}b=I}function tf(t){t=t|0;var r=0,o=0;e[t>>2]=35688,r=e[t+4584>>2]|0,r&&(o=t+4588|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36736,r=e[t+92>>2]|0,r&&(o=t+96|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),t=t+88|0,r=e[t>>2]|0,e[t>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r)}function rf(t){t=t|0;var r=0,o=0;if(e[t>>2]=35688,r=e[t+4584>>2]|0,r&&(o=t+4588|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36736,r=e[t+92>>2]|0,r&&(o=t+96|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+88|0,r=e[o>>2]|0,e[o>>2]=0,!r){ue(t);return}T0[e[(e[r>>2]|0)+4>>2]&255](r),ue(t)}function nf(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0;if(B=b,b=b+352|0,L=B+328|0,M=B+192|0,o=B+343|0,s=B+342|0,a=B+341|0,f=B+340|0,D=B+176|0,S=B+168|0,A=B+160|0,I=B+152|0,q=B,N=B+136|0,e[t+28>>2]|0&&(e[t+20>>2]|0)!=1){if(F=t+4|0,z=t+32|0,c=e[z>>2]|0,!c){if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[o>>0]|0,Re(44,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}if(t=e[t+12>>2]|0,(t|0)==8)switch(c|0){case 1:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[s>>0]|0,Re(45,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[a>>0]|0,Re(46,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[f>>0]|0,Re(47,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=M+56|0,a=M+4|0,e[M>>2]=36160,e[c>>2]=36180,h=0,de(62,M+56|0,a|0),B=h,h=0,B&1&&(R=Q()|0,Ye(c),ne(R|0)),e[M+128>>2]=0,e[M+132>>2]=-1,e[M>>2]=36200,e[M+56>>2]=36220,h=0,oe(180,a|0),B=h,h=0;do if(B&1)t=Q()|0;else{if(e[a>>2]=36236,f=M+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[M+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),B=h,h=0,B&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,M|0,49007,21)|0,L=h,h=0;do if(!(L&1)&&(h=0,T=Ce(36,t|0,e[z>>2]|0)|0,L=h,h=0,!(L&1))&&(h=0,Oe(28,T|0,50997,18)|0,L=h,h=0,!(L&1))){if(s=g0(16)|0,h=0,de(64,D|0,a|0),L=h,h=0,L&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,D|0),L=h,h=0,L&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(D),!o)break;v0(s|0)}else R=34;while(!1);(R|0)==34&&(t=Q()|0),e[M>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}switch((t|0)<=8&&(t=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,t|0,8,35648),R=h,h=0,R&1||V0(t|0,824,96),R=Q()|0,v0(t|0),ne(R|0)),o=16-t|0,c|0){case 1:{if(t=We(60)|0,e[S>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[S>>2],e[L+4>>2]=e[S+4>>2],Re(41,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(60)|0,e[A>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[A>>2],e[L+4>>2]=e[A+4>>2],Re(42,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(60)|0,e[I>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[I>>2],e[L+4>>2]=e[I+4>>2],Re(43,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=q+56|0,a=q+4|0,e[q>>2]=36160,e[c>>2]=36180,h=0,de(62,q+56|0,a|0),M=h,h=0,M&1&&(R=Q()|0,Ye(c),ne(R|0)),e[q+128>>2]=0,e[q+132>>2]=-1,e[q>>2]=36200,e[q+56>>2]=36220,h=0,oe(180,a|0),M=h,h=0;do if(M&1)t=Q()|0;else{if(e[a>>2]=36236,f=q+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[q+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),M=h,h=0,M&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,q|0,49007,21)|0,M=h,h=0;do if(!(M&1)&&(h=0,k=Ce(36,t|0,e[z>>2]|0)|0,M=h,h=0,!(M&1))&&(h=0,Oe(28,k|0,50997,18)|0,M=h,h=0,!(M&1))){if(s=g0(16)|0,h=0,de(64,N|0,a|0),M=h,h=0,M&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,N|0),M=h,h=0,M&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(N),!o)break;v0(s|0)}else R=64;while(!1);(R|0)==64&&(t=Q()|0),e[q>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}}return o=e[r+4>>2]|0,s=We(16)|0,t=e[t+16>>2]|0,o?(e[s>>2]=36108,e[s+4>>2]=o,e[s+8>>2]=3,e[s+12>>2]=t,R=s,b=B,R|0):(R=e[r>>2]|0,e[s>>2]=36132,e[s+4>>2]=R,e[s+8>>2]=3,e[s+12>>2]=t,R=s,b=B,R|0)}function of(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0;a=b,b=b+32|0,S=a,dt(S,255,0),c=e[r+4>>2]|0,f=e[r+8>>2]|0,f=f|0?f:e[S+8>>2]|0,s=e[r+12>>2]|0,s=s|0?s:e[S+12>>2]|0,r=e[r+16>>2]|0,o=e[S+16>>2]|0,e[t+152>>2]=c|0?c:e[S+4>>2]|0,e[t+156>>2]=f,e[t+160>>2]=s,W5(t),s=0;do e[t+164+(s*12|0)>>2]=4,e[t+164+(s*12|0)+4>>2]=0,y[t+164+(s*12|0)+8>>1]=0,y[t+164+(s*12|0)+10>>1]=1,s=s+1|0;while((s|0)!=365);S=(r|0?r:o)&255,e[t+4544>>2]=4,e[t+4548>>2]=0,m[t+4552>>0]=S,m[t+4553>>0]=1,m[t+4554>>0]=0,e[t+4556>>2]=4,e[t+4560>>2]=1,m[t+4564>>0]=S,m[t+4565>>0]=1,m[t+4566>>0]=0,e[t+4568>>2]=0,b=a}function sf(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0;for(c=t+88|0,f=e[r>>2]|0,e[r>>2]=0,r=e[c>>2]|0,e[c>>2]=f,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),c=s+4|0,f=e[c>>2]|0,m[t+4596>>0]=a&1,r=t+132|0,e[r>>2]=e[o>>2],e[r+4>>2]=e[o+4>>2],e[r+8>>2]=e[o+8>>2],e[r+12>>2]=e[o+12>>2],Qt(t,s),af(t),r=e[t+116>>2]|0,t=e[t+112>>2]|0;a=r+-1|0,o=(m[a>>0]|0)==-1?7:8,!((t|0)<(o|0));)r=a,t=t-o|0;r=r-f|0,a=e[c>>2]|0,a&&(e[c>>2]=a+r,s=s+8|0,e[s>>2]=(e[s>>2]|0)-r)}function af(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0;Z=b,b=b+32|0,ee=Z+12|0,K=Z,L=t+148|0,M=(e[L>>2]|0)+4|0,(e[t+28>>2]|0)==1?R=e[t+20>>2]|0:R=1,r=J(R<<1,M)|0,e[ee>>2]=0,se=ee+4|0,e[se>>2]=0,e[ee+8>>2]=0;e:do if(r){if(r>>>0>1431655765&&(h=0,oe(178,ee|0),re=h,h=0,re&1)||(f=6),(f|0)==6&&(h=0,o=ce(67,r*3|0)|0,re=h,h=0,!(re&1))){for(e[se>>2]=o,e[ee>>2]=o,e[ee+8>>2]=o+(r*3|0);;)if(m[o>>0]=0,m[o+1>>0]=0,m[o+2>>0]=0,o=(e[se>>2]|0)+3|0,e[se>>2]=o,r=r+-1|0,!r)break e}s=Q()|0,r=e[ee>>2]|0,r||ne(s|0),o=e[se>>2]|0,(o|0)!=(r|0)&&(e[se>>2]=o+(~(((o+-3-r|0)>>>0)/3|0)*3|0)),ue(r),ne(s|0)}while(!1);e[K>>2]=0,re=K+4|0,e[re>>2]=0,e[K+8>>2]=0;do if(!R)f=19;else{if(R>>>0>1073741823&&(h=0,oe(178,K|0),B=h,h=0,B&1)||(f=17),(f|0)==17&&(s=R<<2,h=0,a=ce(67,s|0)|0,B=h,h=0,!(B&1))){e[K>>2]=a,f=a+(R<<2)|0,e[K+8>>2]=f,j0(a|0,0,s|0)|0,e[re>>2]=f,f=19;break}s=Q()|0,r=e[K>>2]|0,o=r,r&&(a=e[re>>2]|0,(a|0)!=(r|0)&&(e[re>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ue(r))}while(!1);if((f|0)==19){f=t+8|0;e:do if((e[f>>2]|0)>0){c=t+4572|0,S=J(R,M)|0,A=S+1|0,I=t+4576|0,T=(R|0)>0,k=t+136|0,D=t+144|0,F=t+140|0,N=t+132|0,z=t+88|0,q=t+4568|0,B=0;t:for(;;){if(s=e[ee>>2]|0,o=s+3|0,e[c>>2]=o,s=s+(A*3|0)|0,e[I>>2]=s,B&1?(e[c>>2]=s,e[I>>2]=o,r=o,o=s):r=s,T){a=e[K>>2]|0,s=0;do{if(e[q>>2]=e[a+(s<<2)>>2],r=e[L>>2]|0,a=o+(r*3|0)|0,o=o+((r+-1|0)*3|0)|0,m[a>>0]=m[o>>0]|0,m[a+1>>0]=m[o+1>>0]|0,m[a+2>>0]=m[o+2>>0]|0,o=e[c>>2]|0,a=(e[I>>2]|0)+-3|0,m[a>>0]=m[o>>0]|0,m[a+1>>0]=m[o+1>>0]|0,m[a+2>>0]=m[o+2>>0]|0,h=0,de(82,t|0,0),a=h,h=0,a&1){f=30;break t}a=e[K>>2]|0,e[a+(s<<2)>>2]=e[q>>2],o=(e[c>>2]|0)+(M*3|0)|0,e[c>>2]=o,r=(e[I>>2]|0)+(M*3|0)|0,e[I>>2]=r,s=s+1|0}while((s|0)<(R|0))}if(a=e[k>>2]|0,(a|0)<=(B|0)&&(B|0)<((e[D>>2]|0)+a|0)&&(a=e[z>>2]|0,h=0,Re(e[(e[a>>2]|0)+8>>2]|0,a|0,r+(((e[N>>2]|0)-S|0)*3|0)|0,e[F>>2]|0,M|0),a=h,h=0,a&1)){f=31;break}if(B=B+1|0,(B|0)>=(e[f>>2]|0)){f=43;break e}}if((f|0)==30){s=Q()|0;break}else if((f|0)==31){s=Q()|0;break}}else f=43;while(!1);do if((f|0)==43){if(h=0,oe(183,t|0),t=h,h=0,t&1){s=Q()|0;break}if(r=e[K>>2]|0,o=r,r&&(s=e[re>>2]|0,(s|0)!=(r|0)&&(e[re>>2]=s+(~((s+-4-o|0)>>>2)<<2)),ue(r)),r=e[ee>>2]|0,!r){b=Z;return}o=e[se>>2]|0,(o|0)!=(r|0)&&(e[se>>2]=o+(~(((o+-3-r|0)>>>0)/3|0)*3|0)),ue(r),b=Z;return}while(!1);r=e[K>>2]|0,o=r,r&&(a=e[re>>2]|0,(a|0)!=(r|0)&&(e[re>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ue(r))}r=e[ee>>2]|0,r||ne(s|0),o=e[se>>2]|0,(o|0)!=(r|0)&&(e[se>>2]=o+(~(((o+-3-r|0)>>>0)/3|0)*3|0)),ue(r),ne(s|0)}function lf(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0;if(re=t+148|0,!((e[re>>2]|0)<=0))for(ee=t+4576|0,se=t+4572|0,Te=t+4580|0,Z=0;M=Z+-1|0,f=e[ee>>2]|0,c=e[se>>2]|0,r=Z+1|0,a=P[c+(Z*3|0)>>0]|0,K=e[Te>>2]|0,S=P[c+(M*3|0)>>0]|0,A=a-S|0,I=P[f+(M*3|0)>>0]|0,T=S-I|0,k=((((m[K+((P[c+(r*3|0)>>0]|0)-a)>>0]|0)*9|0)+(m[K+A>>0]|0)|0)*9|0)+(m[K+T>>0]|0)|0,s=P[c+(Z*3|0)+1>>0]|0,D=P[c+(M*3|0)+1>>0]|0,F=s-D|0,N=P[f+(M*3|0)+1>>0]|0,z=D-N|0,q=((((m[K+((P[c+(r*3|0)+1>>0]|0)-s)>>0]|0)*9|0)+(m[K+F>>0]|0)|0)*9|0)+(m[K+z>>0]|0)|0,o=P[c+(Z*3|0)+2>>0]|0,B=P[c+(M*3|0)+2>>0]|0,L=o-B|0,M=P[f+(M*3|0)+2>>0]|0,R=B-M|0,K=((((m[K+((P[c+(r*3|0)+2>>0]|0)-o)>>0]|0)*9|0)+(m[K+L>>0]|0)|0)*9|0)+(m[K+R>>0]|0)|0,q|k|K?(c=P[f+(Z*3|0)>>0]|0,f=a-I>>31,(f^T|0)>=0&&((f^A|0)<0?a=I:a=I-S+a|0),c=hn(t,k,c,a,0)|0,f=P[(e[ee>>2]|0)+(Z*3|0)+1>>0]|0,a=s-N>>31,(a^z|0)>=0&&((a^F|0)<0?s=N:s=N-D+s|0),a=hn(t,q,f,s,0)|0,f=P[(e[ee>>2]|0)+(Z*3|0)+2>>0]|0,s=o-M>>31,(s^R|0)>=0&&((s^L|0)<0?o=M:o=M-B+o|0),K=hn(t,K,f,o,0)|0,Z=(e[ee>>2]|0)+(Z*3|0)|0,m[Z>>0]=c,m[Z+1>>0]=a,m[Z+2>>0]=K):r=(uf(t,Z,0)|0)+Z|0,(r|0)<(e[re>>2]|0);)Z=r}function uf(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;return A=b,b=b+16|0,T=A+3|0,k=A,f=t+4576|0,o=e[f>>2]|0,s=o+((r+-1|0)*3|0)|0,c=m[s>>0]|0,S=m[s+1>>0]|0,s=m[s+2>>0]|0,m[k>>0]=c,m[k+1>>0]=S,m[k+2>>0]=s,I=t+148|0,a=(e[I>>2]|0)-r|0,m[T>>0]=m[k>>0]|0,m[T+1>>0]=m[k+1>>0]|0,m[T+2>>0]=m[k+2>>0]|0,a=ff(t,T,o+(r*3|0)|0,a)|0,o=a+r|0,(o|0)==(e[I>>2]|0)?(k=a,b=A,k|0):(T=(e[t+4572>>2]|0)+(o*3|0)|0,r=m[T>>0]|0,I=m[T+1>>0]|0,T=m[T+2>>0]|0,k=e[f>>2]|0,f=t+4544|0,F=dn(t,f)|0,D=dn(t,f)|0,r=r&255,r=(J(r-(c&255)>>31|1,F)|0)+r&255,I=I&255,I=(J(I-(S&255)>>31|1,D)|0)+I&255,T=T&255,T=(J(T-(s&255)>>31|1,dn(t,f)|0)|0)+T&255,k=k+(o*3|0)|0,m[k>>0]=r,m[k+1>>0]=I,m[k+2>>0]=T,k=t+4568|0,T=e[k>>2]|0,e[k>>2]=(T|0)<1?0:T+-1|0,k=a+1|0,b=A,k|0)}function hn(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;if(F=r>>31,I=(F^r)-F|0,D=t+164+(I*12|0)+10|0,o=y[D>>1]|0,k=t+164+(I*12|0)|0,a=e[k>>2]|0,(o|0)<(a|0))if((o<<1|0)<(a|0))if((o<<2|0)<(a|0))if((o<<3|0)<(a|0))if((o<<4|0)<(a|0))for(f=5;(o<<f|0)<(a|0);)f=f+1|0;else f=4;else f=3;else f=2;else f=1;else f=0;return T=t+164+(I*12|0)+8|0,o=(y[T>>1]^F)-F+s|0,(o&255|0)!=(o|0)&&(o=o>>31&255^255),a=t+112|0,(e[a>>2]|0)<8&&Mt(t),s=t+108|0,c=e[s>>2]|0,S=c>>>24,A=e[2832+(f<<11)+(S<<3)+4>>2]|0,A?(e[a>>2]=(e[a>>2]|0)-A,e[s>>2]=c<<A,a=e[2832+(f<<11)+(S<<3)>>2]|0):(a=Yt(t)|0,(a|0)<23?f&&(a=(st(t,f)|0)+(a<<f)|0):a=(st(t,8)|0)+1|0,a=a<<31>>31^a>>1,(((a|0)>-1?a:0-a|0)|0)>65535&&(o=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,o|0,5,35648),r=h,h=0,r&1?(r=Q()|0,v0(o|0),ne(r|0)):V0(o|0,824,96))),A=t+164+(I*12|0)+4|0,s=e[A>>2]|0,f?f=y[D>>1]|0:(t=y[D>>1]|0,f=t,a=(s<<1)+-1+(t<<16>>16)>>31^a),c=f<<16>>16==64,t=c&1,S=s+a>>t,c=c?32:f<<16>>16,e[k>>2]=((a|0)>-1?a:0-a|0)+(e[k>>2]|0)>>t,s=c+1|0,y[D>>1]=s,f=s+S|0,(f|0)<1?(D=y[T>>1]|0,y[T>>1]=(D&65535)-(D<<16>>16>-128&1),D=(f|0)>(~c|0)?f:0-c|0,e[A>>2]=D,F=a^F,r=r>>>31,r=o+r|0,r=r+F|0,r=r&255,r|0):(S|0)<=0?(D=S,e[A>>2]=D,F=a^F,r=r>>>31,r=o+r|0,r=r+F|0,r=r&255,r|0):(D=S-s|0,k=y[T>>1]|0,y[T>>1]=(k<<16>>16<127&1)+(k&65535),D=(D|0)>0?0:D,e[A>>2]=D,F=a^F,r=r>>>31,r=o+r|0,r=r+F|0,r=r&255,r|0)}function ff(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;for(S=t+112|0,A=t+108|0,I=t+4568|0,a=e[S>>2]|0,f=0;;){if((a|0)<1&&(Mt(t),a=e[S>>2]|0),c=e[A>>2]|0,a=a+-1|0,e[S>>2]=a,e[A>>2]=c<<1,(c|0)>=0){T=8;break}if(c=e[I>>2]|0,k=1<<e[36476+(c<<2)>>2],D=s-f|0,D=(k|0)<(D|0)?k:D,f=D+f|0,(D|0)==(k|0)&&(e[I>>2]=(c|0)>30?31:c+1|0),(f|0)==(s|0)){a=s;break}}if((T|0)==8&&((f|0)!=(s|0)?(a=e[I>>2]|0,(a+-4|0)>>>0<28?a=st(t,e[36476+(a<<2)>>2]|0)|0:a=0,a=a+f|0,(a|0)>(s|0)&&(a=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,a|0,5,35648),D=h,h=0,D&1?(D=Q()|0,v0(a|0),ne(D|0)):V0(a|0,824,96))):a=s),(a|0)<=0)return a|0;f=0;do D=o+(f*3|0)|0,m[D>>0]=m[r>>0]|0,m[D+1>>0]=m[r+1>>0]|0,m[D+2>>0]=m[r+2>>0]|0,f=f+1|0;while((f|0)!=(a|0));return a|0}function dn(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0;if(S=r+9|0,o=P[S>>0]|0,f=r+4|0,a=(J(o>>>1,e[f>>2]|0)|0)+(e[r>>2]|0)|0,(o|0)<(a|0)){s=0;do o=o<<1,s=s+1|0;while((o|0)<(a|0))}else s=0;a=e[36476+(e[t+4568>>2]<<2)>>2]|0,o=Yt(t)|0;do if((o|0)<(22-a|0))if(s){o=(st(t,s)|0)+(o<<s)|0,t=e[f>>2]|0,a=o+t|0,A=a&1,s=A,f=1,a=(A+a|0)/2|0;break}else{t=e[f>>2]|0,a=t+o|0,s=a&1,a=(s+a|0)/2|0,c=8;break}else o=(st(t,8)|0)+1|0,t=e[f>>2]|0,a=o+t|0,f=a&1,a=(f+a|0)/2|0,s?(s=f,f=1):(s=f,c=8);while(!1);return(c|0)==8&&(f=P[r+10>>0]<<1>>>0>=(P[S>>0]|0)>>>0),a=(s|0)!=0^f?a:0-a|0,(a|0)<0&&(A=r+10|0,m[A>>0]=(P[A>>0]|0)+1),o=(o+1-t>>1)+(e[r>>2]|0)|0,e[r>>2]=o,s=m[S>>0]|0,s<<24>>24!=(m[r+8>>0]|0)?(A=s,A=A&255,A=A+1|0,A=A&255,m[S>>0]=A,a|0):(e[r>>2]=o>>1,A=(s&255)>>>1,m[S>>0]=A,r=r+10|0,m[r>>0]=(P[r>>0]|0)>>>1,A=A&255,A=A+1|0,A=A&255,m[S>>0]=A,a|0)}function cf(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;if(T=b,b=b+128|0,f=T,D=T+116|0,F=T+104|0,S=T+20|0,I=T+16|0,A=T+12|0,k=T+8|0,c=T+4|0,m[D>>0]=m[58887]|0,m[D+1>>0]=m[58888]|0,m[D+2>>0]=m[58889]|0,m[D+3>>0]=m[58890]|0,m[D+4>>0]=m[58891]|0,m[D+5>>0]=m[58892]|0,Ii(D+1|0,58893,0,e[o+4>>2]|0),t=Et()|0,e[f>>2]=a,a=F+(qt(F,12,t,D,f)|0)|0,D=ii(F,a,o)|0,t=ut(o)|0,e[k>>2]=t,h=0,o0(3,F|0,D|0,a|0,S|0,I|0,A|0,k|0),a=h,h=0,a&1)F=Q()|0,D0(t)|0,ne(F|0);else return D0(t)|0,e[c>>2]=e[r>>2],D=e[I>>2]|0,F=e[A>>2]|0,e[f>>2]=e[c>>2],F=Hi(f,S,D,F,o,s)|0,b=T,F|0;return 0}function hf(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0;if(k=b,b=b+240|0,c=k+8|0,t=k,F=k+204|0,A=k+32|0,T=k+28|0,I=k+24|0,D=k+20|0,S=k+16|0,N=t,e[N>>2]=37,e[N+4>>2]=0,Ii(t+1|0,58895,0,e[o+4>>2]|0),N=Et()|0,z=c,e[z>>2]=a,e[z+4>>2]=f,f=F+(qt(F,23,N,t,c)|0)|0,a=ii(F,f,o)|0,t=ut(o)|0,e[D>>2]=t,h=0,o0(3,F|0,a|0,f|0,A|0,T|0,I|0,D|0),f=h,h=0,f&1)z=Q()|0,D0(t)|0,ne(z|0);else return D0(t)|0,e[S>>2]=e[r>>2],N=e[T>>2]|0,z=e[I>>2]|0,e[c>>2]=e[S>>2],z=Hi(c,A,N,z,o,s)|0,b=k,z|0;return 0}function df(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=+a;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0;K=b,b=b+352|0,q=K+312|0,D=K+48|0,k=K+32|0,A=K+24|0,f=K+8|0,T=K,N=K+316|0,z=K+80|0,S=K+84|0,R=K+76|0,M=K+72|0,B=K+68|0,L=K+64|0,I=T,e[I>>2]=37,e[I+4>>2]=0,I=Sr(T+1|0,58898,e[o+4>>2]|0)|0,e[z>>2]=N,t=Et()|0,I?(e[f>>2]=e[o+8>>2],V[f+8>>3]=a,f=qt(N,30,t,T,f)|0):(V[A>>3]=a,f=qt(N,30,t,T,A)|0);e:do if((f|0)>29){h=0,t=ve(3)|0,f=h,h=0,f=f&1,I?!f&&(h=0,e[k>>2]=e[o+8>>2],V[k+8>>3]=a,c=Pe(17,z|0,t|0,T|0,k|0)|0,F=h,h=0,!(F&1))&&(Z=12):!f&&(h=0,e[D>>2]=e[o+8>>2],V[D+8>>3]=a,F=Pe(17,z|0,t|0,T|0,D|0)|0,D=h,h=0,!(D&1))&&(c=F,Z=12);do if((Z|0)==12){if(t=e[z>>2]|0,t)f=t;else{if(h=0,_0(6),F=h,h=0,F&1)break;f=e[z>>2]|0}t=f,T=f,Z=16;break e}while(!1);t=Q()|0}else t=e[z>>2]|0,T=0,c=f,Z=16;while(!1);if((Z|0)==16){A=t+c|0,I=ii(t,A,o)|0;do if((t|0)==(N|0))t=N,f=0,Z=22;else{if(c=It(c<<3)|0,!c){if(h=0,_0(6),Z=h,h=0,Z&1){f=0,Z=20;break}t=e[z>>2]|0}f=c,S=c,Z=22}while(!1);do if((Z|0)==22)if(h=0,c=ce(68,o|0)|0,z=h,h=0,z&1)Z=20;else{if(e[B>>2]=c,h=0,o0(4,t|0,I|0,A|0,S|0,R|0,M|0,B|0),B=h,h=0,B&1){t=Q()|0,D0(c)|0;break}if(D0(c)|0,e[L>>2]=e[r>>2],Z=e[R>>2]|0,t=e[M>>2]|0,h=0,e[q>>2]=e[L>>2],t=P0(40,q|0,S|0,Z|0,t|0,o|0,s|0)|0,Z=h,h=0,Z&1)Z=20;else return e[r>>2]=t,f&&Z0(f),T&&Z0(T),b=K,t|0}while(!1);(Z|0)==20&&(t=Q()|0),f&&Z0(f),T&&Z0(T)}return ne(t|0),0}function pf(t,r,o,s,a,f,c){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0;var S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0;switch(R=b,b=b+16|0,K=R,M=Ot(c,44212)|0,B=Ot(c,44368)|0,K0[e[(e[B>>2]|0)+20>>2]&127](K,B),e[f>>2]=s,c=m[t>>0]|0,c<<24>>24){case 43:case 45:{h=0,c=Ce(e[(e[M>>2]|0)+44>>2]|0,M|0,c|0)|0,L=h,h=0,L&1?q=8:(I=e[f>>2]|0,e[f>>2]=I+4,e[I>>2]=c,I=t+1|0,q=10);break}default:I=t,q=10}e:do if((q|0)==10){L=o;t:do if((L-I|0)>1&&(m[I>>0]|0)==48){switch(S=I+1|0,m[S>>0]|0){case 88:case 120:break;default:{q=11;break t}}if(h=0,c=Ce(e[(e[M>>2]|0)+44>>2]|0,M|0,48)|0,z=h,h=0,z&1){q=8;break e}if(z=e[f>>2]|0,e[f>>2]=z+4,e[z>>2]=c,I=I+2|0,h=0,c=Ce(e[(e[M>>2]|0)+44>>2]|0,M|0,m[S>>0]|0)|0,z=h,h=0,z&1){q=8;break e}if(z=e[f>>2]|0,e[f>>2]=z+4,e[z>>2]=c,I>>>0<o>>>0){for(c=I;S=m[c>>0]|0,h=0,A=ve(3)|0,z=h,h=0,!(z&1||(h=0,S=Ce(39,S<<24>>24|0,A|0)|0,z=h,h=0,z&1));){if(!S){z=I;break t}if(c=c+1|0,c>>>0>=o>>>0){z=I;break t}}c=Q()|0;break e}else z=I,c=I}else q=11;while(!1);t:do if((q|0)==11)if(I>>>0<o>>>0){for(c=I;S=m[c>>0]|0,h=0,A=ve(3)|0,z=h,h=0,!(z&1||(h=0,S=Ce(40,S<<24>>24|0,A|0)|0,z=h,h=0,z&1));){if(!S){z=I;break t}if(c=c+1|0,c>>>0>=o>>>0){z=I;break t}}c=Q()|0;break e}else z=I,c=I;while(!1);if(F=m[K>>0]|0,N=K+4|0,(F&1?e[N>>2]|0:(F&255)>>>1)|0){if((z|0)!=(c|0)&&(T=c+-1|0,z>>>0<T>>>0)){A=z,S=T;do F=m[A>>0]|0,m[A>>0]=m[S>>0]|0,m[S>>0]=F,A=A+1|0,S=S+-1|0;while(A>>>0<S>>>0)}if(h=0,T=ce(e[(e[B>>2]|0)+16>>2]|0,B|0)|0,F=h,h=0,F&1){q=8;break}k=K+8|0,D=K+1|0;t:do if(z>>>0<c>>>0){for(S=0,A=0,F=z;I=m[(m[K>>0]&1?e[k>>2]|0:D)+A>>0]|0,I<<24>>24>0&(S|0)==(I<<24>>24|0)?(S=e[f>>2]|0,e[f>>2]=S+4,e[S>>2]=T,S=m[K>>0]|0,I=0,A=(A>>>0<((S&1?e[N>>2]|0:(S&255)>>>1)+-1|0)>>>0&1)+A|0):I=S,h=0,S=Ce(e[(e[M>>2]|0)+44>>2]|0,M|0,m[F>>0]|0)|0,Z=h,h=0,!(Z&1);){if(Z=e[f>>2]|0,e[f>>2]=Z+4,e[Z>>2]=S,F=F+1|0,F>>>0>=c>>>0)break t;S=I+1|0}c=Q()|0;break e}while(!1);if(S=s+(z-t<<2)|0,I=e[f>>2]|0,(S|0)!=(I|0))if(A=I+-4|0,S>>>0<A>>>0){do Z=e[S>>2]|0,e[S>>2]=e[A>>2],e[A>>2]=Z,S=S+4|0,A=A+-4|0;while(S>>>0<A>>>0);T=M,S=I}else T=M,S=I;else T=M}else{if(h=0,Pe(e[(e[M>>2]|0)+48>>2]|0,M|0,z|0,c|0,e[f>>2]|0)|0,Z=h,h=0,Z&1){q=8;break}S=(e[f>>2]|0)+(c-z<<2)|0,e[f>>2]=S,T=M}t:do if(c>>>0<o>>>0){for(;;){if(S=m[c>>0]|0,S<<24>>24==46){A=c;break}if(h=0,A=Ce(e[(e[T>>2]|0)+44>>2]|0,M|0,S|0)|0,Z=h,h=0,Z&1){q=4;break}if(Z=e[f>>2]|0,S=Z+4|0,e[f>>2]=S,e[Z>>2]=A,c=c+1|0,c>>>0>=o>>>0)break t}if((q|0)==4){c=Q()|0;break e}if(h=0,c=ce(e[(e[B>>2]|0)+12>>2]|0,B|0)|0,Z=h,h=0,Z&1){q=8;break e}Z=e[f>>2]|0,S=Z+4|0,e[f>>2]=S,e[Z>>2]=c,c=A+1|0}while(!1);if(h=0,Pe(e[(e[M>>2]|0)+48>>2]|0,M|0,c|0,o|0,S|0)|0,Z=h,h=0,Z&1)q=8;else{Z=(e[f>>2]|0)+(L-c<<2)|0,e[f>>2]=Z,e[a>>2]=(r|0)==(o|0)?Z:s+(r-t<<2)|0,fe(K),b=R;return}}while(!1);(q|0)==8&&(c=Q()|0),fe(K),ne(c|0)}function mf(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=+a;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0;K=b,b=b+352|0,q=K+304|0,D=K+48|0,k=K+32|0,A=K+24|0,f=K+8|0,T=K,N=K+308|0,z=K+72|0,S=K+76|0,R=K+68|0,M=K+64|0,B=K+60|0,L=K+56|0,I=T,e[I>>2]=37,e[I+4>>2]=0,I=Sr(T+1|0,58899,e[o+4>>2]|0)|0,e[z>>2]=N,t=Et()|0,I?(e[f>>2]=e[o+8>>2],V[f+8>>3]=a,f=qt(N,30,t,T,f)|0):(V[A>>3]=a,f=qt(N,30,t,T,A)|0);e:do if((f|0)>29){h=0,t=ve(3)|0,f=h,h=0,f=f&1,I?!f&&(h=0,e[k>>2]=e[o+8>>2],V[k+8>>3]=a,c=Pe(17,z|0,t|0,T|0,k|0)|0,F=h,h=0,!(F&1))&&(Z=12):!f&&(h=0,V[D>>3]=a,F=Pe(17,z|0,t|0,T|0,D|0)|0,D=h,h=0,!(D&1))&&(c=F,Z=12);do if((Z|0)==12){if(t=e[z>>2]|0,t)f=t;else{if(h=0,_0(6),F=h,h=0,F&1)break;f=e[z>>2]|0}t=f,T=f,Z=16;break e}while(!1);t=Q()|0}else t=e[z>>2]|0,T=0,c=f,Z=16;while(!1);if((Z|0)==16){A=t+c|0,I=ii(t,A,o)|0;do if((t|0)==(N|0))t=N,f=0,Z=22;else{if(c=It(c<<3)|0,!c){if(h=0,_0(6),Z=h,h=0,Z&1){f=0,Z=20;break}t=e[z>>2]|0}f=c,S=c,Z=22}while(!1);do if((Z|0)==22)if(h=0,c=ce(68,o|0)|0,z=h,h=0,z&1)Z=20;else{if(e[B>>2]=c,h=0,o0(4,t|0,I|0,A|0,S|0,R|0,M|0,B|0),B=h,h=0,B&1){t=Q()|0,D0(c)|0;break}if(D0(c)|0,e[L>>2]=e[r>>2],Z=e[R>>2]|0,t=e[M>>2]|0,h=0,e[q>>2]=e[L>>2],t=P0(40,q|0,S|0,Z|0,t|0,o|0,s|0)|0,Z=h,h=0,Z&1)Z=20;else return e[r>>2]=t,f&&Z0(f),T&&Z0(T),b=K,t|0}while(!1);(Z|0)==20&&(t=Q()|0),f&&Z0(f),T&&Z0(T)}return ne(t|0),0}function gf(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;if(D=b,b=b+192|0,A=D,t=D+180|0,T=D+160|0,k=D+12|0,S=D+8|0,I=D+4|0,m[t>>0]=m[58901]|0,m[t+1>>0]=m[58902]|0,m[t+2>>0]=m[58903]|0,m[t+3>>0]=m[58904]|0,m[t+4>>0]=m[58905]|0,m[t+5>>0]=m[58906]|0,f=Et()|0,e[A>>2]=a,t=qt(T,20,f,t,A)|0,a=T+t|0,f=ii(T,a,o)|0,c=ut(o)|0,e[S>>2]=c,h=0,S=Ce(37,S|0,44212)|0,F=h,h=0,F&1)F=Q()|0,D0(c)|0,ne(F|0);else return D0(c)|0,Un[e[(e[S>>2]|0)+48>>2]&31](S,T,a,k)|0,F=k+(t<<2)|0,e[I>>2]=e[r>>2],e[A>>2]=e[I>>2],F=Hi(A,k,(f|0)==(a|0)?F:k+(f-T<<2)|0,F,o,s)|0,b=D,F|0;return 0}function wi(t,r,o,s,a,f,c,S){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0;var A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0;Z=b,b=b+32|0,q=Z+16|0,z=Z+12|0,M=Z+8|0,B=Z+4|0,L=Z,A=ut(s)|0,e[M>>2]=A,h=0,M=Ce(37,M|0,44220)|0,N=h,h=0,N&1&&(Z=Q()|0,D0(A)|0,ne(Z|0)),D0(A)|0,e[a>>2]=0,N=M+8|0,A=e[r>>2]|0;e:do if((c|0)!=(S|0)){t:for(;;){I=A,A?(e[A+12>>2]|0)==(e[A+16>>2]|0)&&(A0[e[(e[A>>2]|0)+36>>2]&127](A)|0)==-1&&(e[r>>2]=0,A=0,I=0):A=0,D=(A|0)==0,k=e[o>>2]|0,T=k;do if(k){if((e[k+12>>2]|0)==(e[k+16>>2]|0)&&(A0[e[(e[k>>2]|0)+36>>2]&127](k)|0)==-1){e[o>>2]=0,T=0,K=12;break}if(!D){K=13;break t}}else K=12;while(!1);if((K|0)==12)if(K=0,D){K=13;break}else k=0;i:do if((G0[e[(e[M>>2]|0)+36>>2]&63](M,m[c>>0]|0,0)|0)<<24>>24==37){if(k=c+1|0,(k|0)==(S|0)){K=17;break t}switch(F=G0[e[(e[M>>2]|0)+36>>2]&63](M,m[k>>0]|0,0)|0,F<<24>>24){case 48:case 69:{if(D=c+2|0,(D|0)==(S|0)){K=20;break t}c=k,k=G0[e[(e[M>>2]|0)+36>>2]&63](M,m[D>>0]|0,0)|0,A=F;break}default:k=F,A=0}F=e[(e[t>>2]|0)+36>>2]|0,e[B>>2]=I,e[L>>2]=T,e[z>>2]=e[B>>2],e[q>>2]=e[L>>2],F=_i[F&15](t,z,q,s,a,f,k,A)|0,e[r>>2]=F,c=c+2|0}else{if(I=m[c>>0]|0,I<<24>>24>-1&&(R=e[N>>2]|0,(y[R+(I<<24>>24<<1)>>1]&8192)!=0)){do{if(c=c+1|0,(c|0)==(S|0)){c=S;break}if(I=m[c>>0]|0,I<<24>>24<=-1)break}while(y[R+(I<<24>>24<<1)>>1]&8192);for(I=k;;){A?(e[A+12>>2]|0)==(e[A+16>>2]|0)&&(A0[e[(e[A>>2]|0)+36>>2]&127](A)|0)==-1&&(e[r>>2]=0,A=0):A=0,T=(A|0)==0;do if(k){if((e[k+12>>2]|0)!=(e[k+16>>2]|0))if(T){F=I;break}else break i;if((A0[e[(e[k>>2]|0)+36>>2]&127](k)|0)!=-1)if(T^(I|0)==0){F=I,k=I;break}else break i;else{e[o>>2]=0,I=0,K=39;break}}else K=39;while(!1);if((K|0)==39){if(K=0,T)break i;F=I,k=0}if(T=A+12|0,I=e[T>>2]|0,D=A+16|0,(I|0)==(e[D>>2]|0)?I=A0[e[(e[A>>2]|0)+36>>2]&127](A)|0:I=P[I>>0]|0,(I&255)<<24>>24<=-1||!(y[(e[N>>2]|0)+(I<<24>>24<<1)>>1]&8192))break i;if(I=e[T>>2]|0,(I|0)==(e[D>>2]|0)){A0[e[(e[A>>2]|0)+40>>2]&127](A)|0,I=F;continue}else{e[T>>2]=I+1,I=F;continue}}}if(T=A+12|0,I=e[T>>2]|0,k=A+16|0,(I|0)==(e[k>>2]|0)?I=A0[e[(e[A>>2]|0)+36>>2]&127](A)|0:I=P[I>>0]|0,F=Ut[e[(e[M>>2]|0)+12>>2]&63](M,I&255)|0,F<<24>>24!=(Ut[e[(e[M>>2]|0)+12>>2]&63](M,m[c>>0]|0)|0)<<24>>24){K=57;break t}I=e[T>>2]|0,(I|0)==(e[k>>2]|0)?A0[e[(e[A>>2]|0)+40>>2]&127](A)|0:e[T>>2]=I+1,c=c+1|0}while(!1);if(A=e[r>>2]|0,!((c|0)!=(S|0)&(e[a>>2]|0)==0))break e}if((K|0)==13){e[a>>2]=4;break}else if((K|0)==17){e[a>>2]=4;break}else if((K|0)==20){e[a>>2]=4;break}else if((K|0)==57){e[a>>2]=4,A=e[r>>2]|0;break}}while(!1);A?(e[A+12>>2]|0)==(e[A+16>>2]|0)&&(A0[e[(e[A>>2]|0)+36>>2]&127](A)|0)==-1&&(e[r>>2]=0,A=0):A=0,c=(A|0)==0,I=e[o>>2]|0;do if(I){if((e[I+12>>2]|0)==(e[I+16>>2]|0)&&(A0[e[(e[I>>2]|0)+36>>2]&127](I)|0)==-1){e[o>>2]=0,K=67;break}c||(K=68)}else K=67;while(!1);return(K|0)==67&&c&&(K=68),(K|0)==68&&(e[a>>2]=e[a>>2]|2),b=Z,A|0}function vf(t){t=t|0}function Sf(t){t=t|0,ue(t)}function wf(t){return t=t|0,2}function Af(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;return c=b,b=b+16|0,S=c+12|0,A=c+8|0,T=c+4|0,I=c,e[T>>2]=e[r>>2],e[I>>2]=e[o>>2],e[A>>2]=e[T>>2],e[S>>2]=e[I>>2],t=wi(t,A,S,s,a,f,58907,58915)|0,b=c,t|0}function yf(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0;return c=b,b=b+16|0,S=c+12|0,A=c+8|0,T=c+4|0,I=c,k=t+8|0,k=A0[e[(e[k>>2]|0)+20>>2]&127](k)|0,e[T>>2]=e[r>>2],e[I>>2]=e[o>>2],o=m[k>>0]|0,D=(o&1)==0,r=D?k+1|0:e[k+8>>2]|0,o=r+(D?(o&255)>>>1:e[k+4>>2]|0)|0,e[A>>2]=e[T>>2],e[S>>2]=e[I>>2],t=wi(t,A,S,s,a,f,r,o)|0,b=c,t|0}function _f(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;if(I=b,b=b+16|0,S=I+8|0,c=I+4|0,A=I,s=ut(s)|0,e[c>>2]=s,h=0,c=Ce(37,c|0,44220)|0,T=h,h=0,T&1)T=Q()|0,D0(s)|0,ne(T|0);else return D0(s)|0,e[A>>2]=e[o>>2],e[S>>2]=e[A>>2],Fo(t,f+24|0,r,S,a,c),b=I,e[r>>2]|0;return 0}function Fo(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0;c=b,b=b+16|0,S=c+4|0,A=c,t=t+8|0,t=A0[e[e[t>>2]>>2]&127](t)|0,e[A>>2]=e[s>>2],e[S>>2]=e[A>>2],o=(wr(o,S,t,t+168|0,f,a,0)|0)-t|0,(o|0)<168&&(e[r>>2]=((o|0)/12|0|0)%7|0),b=c}function xf(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;if(I=b,b=b+16|0,S=I+8|0,c=I+4|0,A=I,s=ut(s)|0,e[c>>2]=s,h=0,c=Ce(37,c|0,44220)|0,T=h,h=0,T&1)T=Q()|0,D0(s)|0,ne(T|0);else return D0(s)|0,e[A>>2]=e[o>>2],e[S>>2]=e[A>>2],Mo(t,f+16|0,r,S,a,c),b=I,e[r>>2]|0;return 0}function Mo(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0;c=b,b=b+16|0,S=c+4|0,A=c,t=t+8|0,t=A0[e[(e[t>>2]|0)+4>>2]&127](t)|0,e[A>>2]=e[s>>2],e[S>>2]=e[A>>2],o=(wr(o,S,t,t+288|0,f,a,0)|0)-t|0,(o|0)<288&&(e[r>>2]=((o|0)/12|0|0)%12|0),b=c}function Tf(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;if(I=b,b=b+16|0,S=I+8|0,c=I+4|0,A=I,s=ut(s)|0,e[c>>2]=s,h=0,c=Ce(37,c|0,44220)|0,T=h,h=0,T&1)T=Q()|0,D0(s)|0,ne(T|0);else return D0(s)|0,e[A>>2]=e[o>>2],e[S>>2]=e[A>>2],Ro(t,f+20|0,r,S,a,c),b=I,e[r>>2]|0;return 0}function Ro(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0;c=b,b=b+16|0,t=c+4|0,S=c,e[S>>2]=e[s>>2],e[t>>2]=e[S>>2],t=ui(o,t,a,f,4)|0,e[a>>2]&4||((t|0)<69?t=t+2e3|0:t=(t+-69|0)>>>0<31?t+1900|0:t,e[r>>2]=t+-1900),b=c}function If(t,r,o,s,a,f,c,S){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0;var A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0,_e=0,Se=0,Ke=0,$0=0,R0=0,rt=0,X0=0,M0=0,l0=0,z0=0,s0=0,f0=0,yt=0,xt=0,pt=0,Me=0,d0=0,L0=0;Me=b,b=b+144|0,A=Me+132|0,S=Me+116|0,l0=Me+128|0,M=Me+124|0,$0=Me+120|0,z0=Me+112|0,s0=Me+108|0,f0=Me+104|0,yt=Me+100|0,xt=Me+96|0,pt=Me+92|0,I=Me+88|0,T=Me+84|0,k=Me+80|0,D=Me+76|0,F=Me+72|0,N=Me+68|0,z=Me+64|0,q=Me+60|0,B=Me+56|0,L=Me+52|0,R=Me+48|0,K=Me+44|0,Z=Me+40|0,re=Me+36|0,ee=Me+32|0,se=Me+28|0,Te=Me+24|0,_e=Me+20|0,Se=Me+16|0,Ke=Me+12|0,R0=Me+8|0,rt=Me+4|0,X0=Me,e[a>>2]=0,M0=ut(s)|0,e[l0>>2]=M0,h=0,l0=Ce(37,l0|0,44220)|0,L0=h,h=0,L0&1&&(L0=Q()|0,D0(M0)|0,ne(L0|0)),D0(M0)|0;do switch(c<<24>>24|0){case 65:case 97:{e[M>>2]=e[o>>2],e[A>>2]=e[M>>2],Fo(t,f+24|0,r,A,a,l0),d0=28;break}case 104:case 66:case 98:{e[$0>>2]=e[o>>2],e[A>>2]=e[$0>>2],Mo(t,f+16|0,r,A,a,l0),d0=28;break}case 99:{d0=t+8|0,d0=A0[e[(e[d0>>2]|0)+12>>2]&127](d0)|0,e[z0>>2]=e[r>>2],e[s0>>2]=e[o>>2],c=m[d0>>0]|0,o=(c&1)==0,L0=o?d0+1|0:e[d0+8>>2]|0,d0=L0+(o?(c&255)>>>1:e[d0+4>>2]|0)|0,e[S>>2]=e[z0>>2],e[A>>2]=e[s0>>2],d0=wi(t,S,A,s,a,f,L0,d0)|0,e[r>>2]=d0,d0=28;break}case 101:case 100:{e[f0>>2]=e[o>>2],e[A>>2]=e[f0>>2],Cf(t,f+12|0,r,A,a,l0),d0=28;break}case 68:{e[yt>>2]=e[r>>2],e[xt>>2]=e[o>>2],e[S>>2]=e[yt>>2],e[A>>2]=e[xt>>2],d0=wi(t,S,A,s,a,f,58915,58923)|0,e[r>>2]=d0,d0=28;break}case 70:{e[pt>>2]=e[r>>2],e[I>>2]=e[o>>2],e[S>>2]=e[pt>>2],e[A>>2]=e[I>>2],d0=wi(t,S,A,s,a,f,58923,58931)|0,e[r>>2]=d0,d0=28;break}case 72:{e[T>>2]=e[o>>2],e[A>>2]=e[T>>2],Ef(t,f+8|0,r,A,a,l0),d0=28;break}case 73:{e[k>>2]=e[o>>2],e[A>>2]=e[k>>2],bf(t,f+8|0,r,A,a,l0),d0=28;break}case 106:{e[D>>2]=e[o>>2],e[A>>2]=e[D>>2],kf(t,f+28|0,r,A,a,l0),d0=28;break}case 109:{e[F>>2]=e[o>>2],e[A>>2]=e[F>>2],Df(t,f+16|0,r,A,a,l0),d0=28;break}case 77:{e[N>>2]=e[o>>2],e[A>>2]=e[N>>2],Pf(t,f+4|0,r,A,a,l0),d0=28;break}case 116:case 110:{e[z>>2]=e[o>>2],e[A>>2]=e[z>>2],Ff(t,r,A,a,l0),d0=28;break}case 112:{e[q>>2]=e[o>>2],e[A>>2]=e[q>>2],Mf(t,f+8|0,r,A,a,l0),d0=28;break}case 114:{e[B>>2]=e[r>>2],e[L>>2]=e[o>>2],e[S>>2]=e[B>>2],e[A>>2]=e[L>>2],d0=wi(t,S,A,s,a,f,58931,58942)|0,e[r>>2]=d0,d0=28;break}case 82:{e[R>>2]=e[r>>2],e[K>>2]=e[o>>2],e[S>>2]=e[R>>2],e[A>>2]=e[K>>2],d0=wi(t,S,A,s,a,f,58942,58947)|0,e[r>>2]=d0,d0=28;break}case 83:{e[Z>>2]=e[o>>2],e[A>>2]=e[Z>>2],Rf(t,f,r,A,a,l0),d0=28;break}case 84:{e[re>>2]=e[r>>2],e[ee>>2]=e[o>>2],e[S>>2]=e[re>>2],e[A>>2]=e[ee>>2],d0=wi(t,S,A,s,a,f,58947,58955)|0,e[r>>2]=d0,d0=28;break}case 119:{e[se>>2]=e[o>>2],e[A>>2]=e[se>>2],Of(t,f+24|0,r,A,a,l0),d0=28;break}case 120:{L0=e[(e[t>>2]|0)+20>>2]|0,e[Te>>2]=e[r>>2],e[_e>>2]=e[o>>2],e[S>>2]=e[Te>>2],e[A>>2]=e[_e>>2],S=nr[L0&63](t,S,A,s,a,f)|0;break}case 88:{d0=t+8|0,d0=A0[e[(e[d0>>2]|0)+24>>2]&127](d0)|0,e[Se>>2]=e[r>>2],e[Ke>>2]=e[o>>2],c=m[d0>>0]|0,o=(c&1)==0,L0=o?d0+1|0:e[d0+8>>2]|0,d0=L0+(o?(c&255)>>>1:e[d0+4>>2]|0)|0,e[S>>2]=e[Se>>2],e[A>>2]=e[Ke>>2],d0=wi(t,S,A,s,a,f,L0,d0)|0,e[r>>2]=d0,d0=28;break}case 121:{e[R0>>2]=e[o>>2],e[A>>2]=e[R0>>2],Ro(t,f+20|0,r,A,a,l0),d0=28;break}case 89:{e[rt>>2]=e[o>>2],e[A>>2]=e[rt>>2],Lf(t,f+20|0,r,A,a,l0),d0=28;break}case 37:{e[X0>>2]=e[o>>2],e[A>>2]=e[X0>>2],Nf(t,r,A,a,l0),d0=28;break}default:e[a>>2]=e[a>>2]|4,d0=28}while(!1);return(d0|0)==28&&(S=e[r>>2]|0),b=Me,S|0}function Cf(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0;c=b,b=b+16|0,t=c+4|0,S=c,e[S>>2]=e[s>>2],e[t>>2]=e[S>>2],t=ui(o,t,a,f,2)|0,o=e[a>>2]|0,(t+-1|0)>>>0<31&(o&4|0)==0?e[r>>2]=t:e[a>>2]=o|4,b=c}function Ef(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0;c=b,b=b+16|0,t=c+4|0,S=c,e[S>>2]=e[s>>2],e[t>>2]=e[S>>2],t=ui(o,t,a,f,2)|0,o=e[a>>2]|0,(t|0)<24&(o&4|0)==0?e[r>>2]=t:e[a>>2]=o|4,b=c}function bf(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0;c=b,b=b+16|0,t=c+4|0,S=c,e[S>>2]=e[s>>2],e[t>>2]=e[S>>2],t=ui(o,t,a,f,2)|0,o=e[a>>2]|0,(t+-1|0)>>>0<12&(o&4|0)==0?e[r>>2]=t:e[a>>2]=o|4,b=c}function kf(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0;c=b,b=b+16|0,t=c+4|0,S=c,e[S>>2]=e[s>>2],e[t>>2]=e[S>>2],t=ui(o,t,a,f,3)|0,o=e[a>>2]|0,(t|0)<366&(o&4|0)==0?e[r>>2]=t:e[a>>2]=o|4,b=c}function Df(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0;c=b,b=b+16|0,t=c+4|0,S=c,e[S>>2]=e[s>>2],e[t>>2]=e[S>>2],t=ui(o,t,a,f,2)|0,o=e[a>>2]|0,(t|0)<13&(o&4|0)==0?e[r>>2]=t+-1:e[a>>2]=o|4,b=c}function Pf(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0;c=b,b=b+16|0,t=c+4|0,S=c,e[S>>2]=e[s>>2],e[t>>2]=e[S>>2],t=ui(o,t,a,f,2)|0,o=e[a>>2]|0,(t|0)<60&(o&4|0)==0?e[r>>2]=t:e[a>>2]=o|4,b=c}function Ff(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0;c=a+8|0;e:for(;;){a=e[r>>2]|0;do if(a){if((e[a+12>>2]|0)==(e[a+16>>2]|0))if((A0[e[(e[a>>2]|0)+36>>2]&127](a)|0)==-1){e[r>>2]=0,a=0;break}else{a=e[r>>2]|0;break}}else a=0;while(!1);a=(a|0)==0,t=e[o>>2]|0;do if(t){if((e[t+12>>2]|0)!=(e[t+16>>2]|0)){if(a)break;break e}if((A0[e[(e[t>>2]|0)+36>>2]&127](t)|0)!=-1){if(a)break;break e}else{e[o>>2]=0,S=12;break}}else S=12;while(!1);if((S|0)==12)if(S=0,a){t=0;break}else t=0;if(a=e[r>>2]|0,f=e[a+12>>2]|0,(f|0)==(e[a+16>>2]|0)?a=A0[e[(e[a>>2]|0)+36>>2]&127](a)|0:a=P[f>>0]|0,(a&255)<<24>>24<=-1||!(y[(e[c>>2]|0)+(a<<24>>24<<1)>>1]&8192))break;if(a=e[r>>2]|0,t=a+12|0,f=e[t>>2]|0,(f|0)==(e[a+16>>2]|0)){A0[e[(e[a>>2]|0)+40>>2]&127](a)|0;continue}else{e[t>>2]=f+1;continue}}a=e[r>>2]|0;do if(a){if((e[a+12>>2]|0)==(e[a+16>>2]|0))if((A0[e[(e[a>>2]|0)+36>>2]&127](a)|0)==-1){e[r>>2]=0,a=0;break}else{a=e[r>>2]|0;break}}else a=0;while(!1);a=(a|0)==0;do if(t){if((e[t+12>>2]|0)==(e[t+16>>2]|0)&&(A0[e[(e[t>>2]|0)+36>>2]&127](t)|0)==-1){e[o>>2]=0,S=32;break}a||(S=33)}else S=32;while(!1);(S|0)==32&&a&&(S=33),(S|0)==33&&(e[s>>2]=e[s>>2]|2)}function Mf(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;T=b,b=b+16|0,S=T+4|0,A=T,I=t+8|0,I=A0[e[(e[I>>2]|0)+8>>2]&127](I)|0,t=m[I>>0]|0,t&1?c=e[I+4>>2]|0:c=(t&255)>>>1,t=m[I+12>>0]|0,t&1?t=e[I+16>>2]|0:t=(t&255)>>>1;do if((c|0)!=(0-t|0)){if(e[A>>2]=e[s>>2],e[S>>2]=e[A>>2],t=wr(o,S,I,I+24|0,f,a,0)|0,c=e[r>>2]|0,(t|0)==(I|0)&(c|0)==12){e[r>>2]=0;break}(c|0)<12&(t-I|0)==12&&(e[r>>2]=c+12)}else e[a>>2]=e[a>>2]|4;while(!1);b=T}function Rf(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0;c=b,b=b+16|0,t=c+4|0,S=c,e[S>>2]=e[s>>2],e[t>>2]=e[S>>2],t=ui(o,t,a,f,2)|0,o=e[a>>2]|0,(t|0)<61&(o&4|0)==0?e[r>>2]=t:e[a>>2]=o|4,b=c}function Of(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0;c=b,b=b+16|0,t=c+4|0,S=c,e[S>>2]=e[s>>2],e[t>>2]=e[S>>2],t=ui(o,t,a,f,1)|0,o=e[a>>2]|0,(t|0)<7&(o&4|0)==0?e[r>>2]=t:e[a>>2]=o|4,b=c}function Lf(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0;c=b,b=b+16|0,t=c+4|0,S=c,e[S>>2]=e[s>>2],e[t>>2]=e[S>>2],t=ui(o,t,a,f,4)|0,e[a>>2]&4||(e[r>>2]=t+-1900),b=c}function Nf(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0;t=e[r>>2]|0;do if(t){if((e[t+12>>2]|0)==(e[t+16>>2]|0))if((A0[e[(e[t>>2]|0)+36>>2]&127](t)|0)==-1){e[r>>2]=0,t=0;break}else{t=e[r>>2]|0;break}}else t=0;while(!1);f=(t|0)==0,t=e[o>>2]|0;do if(t){if((e[t+12>>2]|0)==(e[t+16>>2]|0)&&(A0[e[(e[t>>2]|0)+36>>2]&127](t)|0)==-1){e[o>>2]=0,S=11;break}f?(c=t,S=13):S=12}else S=11;while(!1);(S|0)==11&&(f?S=12:(c=0,S=13));e:do if((S|0)==12)e[s>>2]=e[s>>2]|6;else if((S|0)==13){if(t=e[r>>2]|0,f=e[t+12>>2]|0,(f|0)==(e[t+16>>2]|0)?t=A0[e[(e[t>>2]|0)+36>>2]&127](t)|0:t=P[f>>0]|0,(G0[e[(e[a>>2]|0)+36>>2]&63](a,t&255,0)|0)<<24>>24!=37){e[s>>2]=e[s>>2]|4;break}t=e[r>>2]|0,f=t+12|0,a=e[f>>2]|0,(a|0)==(e[t+16>>2]|0)?(A0[e[(e[t>>2]|0)+40>>2]&127](t)|0,t=e[r>>2]|0,t?S=21:t=0):(e[f>>2]=a+1,S=21);do if((S|0)==21&&(e[t+12>>2]|0)==(e[t+16>>2]|0))if((A0[e[(e[t>>2]|0)+36>>2]&127](t)|0)==-1){e[r>>2]=0,t=0;break}else{t=e[r>>2]|0;break}while(!1);t=(t|0)==0;do if(c){if((e[c+12>>2]|0)==(e[c+16>>2]|0)&&(A0[e[(e[c>>2]|0)+36>>2]&127](c)|0)==-1){e[o>>2]=0,S=30;break}if(t)break e}else S=30;while(!1);if((S|0)==30&&!t)break;e[s>>2]=e[s>>2]|2}while(!1)}function Ai(t,r,o,s,a,f,c,S){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0;var A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0;R=b,b=b+32|0,z=R+16|0,N=R+12|0,L=R+8|0,q=R+4|0,B=R,A=ut(s)|0,e[L>>2]=A,h=0,L=Ce(37,L|0,44212)|0,F=h,h=0,F&1&&(R=Q()|0,D0(A)|0,ne(R|0)),D0(A)|0,e[a>>2]=0,A=e[r>>2]|0;e:do if((c|0)!=(S|0)){t:for(;;){T=A,A?(I=e[A+12>>2]|0,(I|0)==(e[A+16>>2]|0)?I=A0[e[(e[A>>2]|0)+36>>2]&127](A)|0:I=e[I>>2]|0,(I|0)==-1?(e[r>>2]=0,A=0,D=1,F=0):(D=0,F=T)):(A=0,D=1,F=T),k=e[o>>2]|0,I=k;do if(k)if(T=e[k+12>>2]|0,(T|0)==(e[k+16>>2]|0)?T=A0[e[(e[k>>2]|0)+36>>2]&127](k)|0:T=e[T>>2]|0,(T|0)!=-1){if(D)break;M=17;break t}else{e[o>>2]=0,I=0,M=15;break}else M=15;while(!1);if((M|0)==15)if(M=0,D){M=17;break}else k=0;i:do if((G0[e[(e[L>>2]|0)+52>>2]&63](L,e[c>>2]|0,0)|0)<<24>>24==37){if(T=c+4|0,(T|0)==(S|0)){M=21;break t}switch(D=G0[e[(e[L>>2]|0)+52>>2]&63](L,e[T>>2]|0,0)|0,D<<24>>24){case 48:case 69:{if(k=c+8|0,(k|0)==(S|0)){M=24;break t}c=T,T=G0[e[(e[L>>2]|0)+52>>2]&63](L,e[k>>2]|0,0)|0,A=D;break}default:T=D,A=0}D=e[(e[t>>2]|0)+36>>2]|0,e[q>>2]=F,e[B>>2]=I,e[N>>2]=e[q>>2],e[z>>2]=e[B>>2],F=_i[D&15](t,N,z,s,a,f,T,A)|0,e[r>>2]=F,c=c+8|0}else{if(!(G0[e[(e[L>>2]|0)+12>>2]&63](L,8192,e[c>>2]|0)|0)){if(T=A+12|0,I=e[T>>2]|0,k=A+16|0,(I|0)==(e[k>>2]|0)?I=A0[e[(e[A>>2]|0)+36>>2]&127](A)|0:I=e[I>>2]|0,F=Ut[e[(e[L>>2]|0)+28>>2]&63](L,I)|0,(F|0)!=(Ut[e[(e[L>>2]|0)+28>>2]&63](L,e[c>>2]|0)|0)){M=61;break t}I=e[T>>2]|0,(I|0)==(e[k>>2]|0)?A0[e[(e[A>>2]|0)+40>>2]&127](A)|0:e[T>>2]=I+4,c=c+4|0;break}do if(c=c+4|0,(c|0)==(S|0)){c=S;break}while(G0[e[(e[L>>2]|0)+12>>2]&63](L,8192,e[c>>2]|0)|0);for(I=k,D=k;;){A?(T=e[A+12>>2]|0,(T|0)==(e[A+16>>2]|0)?T=A0[e[(e[A>>2]|0)+36>>2]&127](A)|0:T=e[T>>2]|0,(T|0)==-1?(e[r>>2]=0,k=1,A=0):k=0):(k=1,A=0);do if(D)if(T=e[D+12>>2]|0,(T|0)==(e[D+16>>2]|0)?T=A0[e[(e[D>>2]|0)+36>>2]&127](D)|0:T=e[T>>2]|0,(T|0)!=-1)if(k^(I|0)==0){F=I,D=I;break}else break i;else{e[o>>2]=0,I=0,M=44;break}else M=44;while(!1);if((M|0)==44){if(M=0,k)break i;F=I,D=0}if(T=A+12|0,I=e[T>>2]|0,k=A+16|0,(I|0)==(e[k>>2]|0)?I=A0[e[(e[A>>2]|0)+36>>2]&127](A)|0:I=e[I>>2]|0,!(G0[e[(e[L>>2]|0)+12>>2]&63](L,8192,I)|0))break i;if(I=e[T>>2]|0,(I|0)==(e[k>>2]|0)){A0[e[(e[A>>2]|0)+40>>2]&127](A)|0,I=F;continue}else{e[T>>2]=I+4,I=F;continue}}}while(!1);if(A=e[r>>2]|0,!((c|0)!=(S|0)&(e[a>>2]|0)==0))break e}if((M|0)==17){e[a>>2]=4;break}else if((M|0)==21){e[a>>2]=4;break}else if((M|0)==24){e[a>>2]=4;break}else if((M|0)==61){e[a>>2]=4,A=e[r>>2]|0;break}}while(!1);A?(c=e[A+12>>2]|0,(c|0)==(e[A+16>>2]|0)?c=A0[e[(e[A>>2]|0)+36>>2]&127](A)|0:c=e[c>>2]|0,(c|0)==-1?(e[r>>2]=0,A=0,T=1):T=0):(A=0,T=1),c=e[o>>2]|0;do if(c)if(I=e[c+12>>2]|0,(I|0)==(e[c+16>>2]|0)?c=A0[e[(e[c>>2]|0)+36>>2]&127](c)|0:c=e[I>>2]|0,(c|0)!=-1){if(T)break;M=76;break}else{e[o>>2]=0,M=74;break}else M=74;while(!1);return(M|0)==74&&T&&(M=76),(M|0)==76&&(e[a>>2]=e[a>>2]|2),b=R,A|0}function Bf(t){t=t|0}function Uf(t){t=t|0,ue(t)}function Vf(t){return t=t|0,2}function zf(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;return c=b,b=b+16|0,S=c+12|0,A=c+8|0,T=c+4|0,I=c,e[T>>2]=e[r>>2],e[I>>2]=e[o>>2],e[A>>2]=e[T>>2],e[S>>2]=e[I>>2],t=Ai(t,A,S,s,a,f,44788,44820)|0,b=c,t|0}function qf(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;return c=b,b=b+16|0,S=c+12|0,A=c+8|0,T=c+4|0,I=c,F=t+8|0,F=A0[e[(e[F>>2]|0)+20>>2]&127](F)|0,e[T>>2]=e[r>>2],e[I>>2]=e[o>>2],k=m[F>>0]|0,D=(k&1)==0,o=F+4|0,r=D?o:e[F+8>>2]|0,o=r+((D?(k&255)>>>1:e[o>>2]|0)<<2)|0,e[A>>2]=e[T>>2],e[S>>2]=e[I>>2],t=Ai(t,A,S,s,a,f,r,o)|0,b=c,t|0}function Gf(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;if(I=b,b=b+16|0,S=I+8|0,c=I+4|0,A=I,s=ut(s)|0,e[c>>2]=s,h=0,c=Ce(37,c|0,44212)|0,T=h,h=0,T&1)T=Q()|0,D0(s)|0,ne(T|0);else return D0(s)|0,e[A>>2]=e[o>>2],e[S>>2]=e[A>>2],Oo(t,f+24|0,r,S,a,c),b=I,e[r>>2]|0;return 0}function Oo(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0;c=b,b=b+16|0,S=c+4|0,A=c,t=t+8|0,t=A0[e[e[t>>2]>>2]&127](t)|0,e[A>>2]=e[s>>2],e[S>>2]=e[A>>2],o=(Ar(o,S,t,t+168|0,f,a,0)|0)-t|0,(o|0)<168&&(e[r>>2]=((o|0)/12|0|0)%7|0),b=c}function $f(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;if(I=b,b=b+16|0,S=I+8|0,c=I+4|0,A=I,s=ut(s)|0,e[c>>2]=s,h=0,c=Ce(37,c|0,44212)|0,T=h,h=0,T&1)T=Q()|0,D0(s)|0,ne(T|0);else return D0(s)|0,e[A>>2]=e[o>>2],e[S>>2]=e[A>>2],Lo(t,f+16|0,r,S,a,c),b=I,e[r>>2]|0;return 0}function Lo(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0;c=b,b=b+16|0,S=c+4|0,A=c,t=t+8|0,t=A0[e[(e[t>>2]|0)+4>>2]&127](t)|0,e[A>>2]=e[s>>2],e[S>>2]=e[A>>2],o=(Ar(o,S,t,t+288|0,f,a,0)|0)-t|0,(o|0)<288&&(e[r>>2]=((o|0)/12|0|0)%12|0),b=c}function Hf(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;if(I=b,b=b+16|0,S=I+8|0,c=I+4|0,A=I,s=ut(s)|0,e[c>>2]=s,h=0,c=Ce(37,c|0,44212)|0,T=h,h=0,T&1)T=Q()|0,D0(s)|0,ne(T|0);else return D0(s)|0,e[A>>2]=e[o>>2],e[S>>2]=e[A>>2],No(t,f+20|0,r,S,a,c),b=I,e[r>>2]|0;return 0}function No(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0;c=b,b=b+16|0,t=c+4|0,S=c,e[S>>2]=e[s>>2],e[t>>2]=e[S>>2],t=fi(o,t,a,f,4)|0,e[a>>2]&4||((t|0)<69?t=t+2e3|0:t=(t+-69|0)>>>0<31?t+1900|0:t,e[r>>2]=t+-1900),b=c}function Wf(t,r,o,s,a,f,c,S){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0;var A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0,_e=0,Se=0,Ke=0,$0=0,R0=0,rt=0,X0=0,M0=0,l0=0,z0=0,s0=0,f0=0,yt=0,xt=0,pt=0,Me=0,d0=0,L0=0;Me=b,b=b+144|0,A=Me+132|0,S=Me+116|0,l0=Me+128|0,M=Me+124|0,$0=Me+120|0,z0=Me+112|0,s0=Me+108|0,f0=Me+104|0,yt=Me+100|0,xt=Me+96|0,pt=Me+92|0,I=Me+88|0,T=Me+84|0,k=Me+80|0,D=Me+76|0,F=Me+72|0,N=Me+68|0,z=Me+64|0,q=Me+60|0,B=Me+56|0,L=Me+52|0,R=Me+48|0,K=Me+44|0,Z=Me+40|0,re=Me+36|0,ee=Me+32|0,se=Me+28|0,Te=Me+24|0,_e=Me+20|0,Se=Me+16|0,Ke=Me+12|0,R0=Me+8|0,rt=Me+4|0,X0=Me,e[a>>2]=0,M0=ut(s)|0,e[l0>>2]=M0,h=0,l0=Ce(37,l0|0,44212)|0,L0=h,h=0,L0&1&&(L0=Q()|0,D0(M0)|0,ne(L0|0)),D0(M0)|0;do switch(c<<24>>24|0){case 65:case 97:{e[M>>2]=e[o>>2],e[A>>2]=e[M>>2],Oo(t,f+24|0,r,A,a,l0),d0=28;break}case 104:case 66:case 98:{e[$0>>2]=e[o>>2],e[A>>2]=e[$0>>2],Lo(t,f+16|0,r,A,a,l0),d0=28;break}case 99:{L0=t+8|0,L0=A0[e[(e[L0>>2]|0)+12>>2]&127](L0)|0,e[z0>>2]=e[r>>2],e[s0>>2]=e[o>>2],c=m[L0>>0]|0,o=(c&1)==0,d0=L0+4|0,L0=o?d0:e[L0+8>>2]|0,d0=L0+((o?(c&255)>>>1:e[d0>>2]|0)<<2)|0,e[S>>2]=e[z0>>2],e[A>>2]=e[s0>>2],d0=Ai(t,S,A,s,a,f,L0,d0)|0,e[r>>2]=d0,d0=28;break}case 101:case 100:{e[f0>>2]=e[o>>2],e[A>>2]=e[f0>>2],Qf(t,f+12|0,r,A,a,l0),d0=28;break}case 68:{e[yt>>2]=e[r>>2],e[xt>>2]=e[o>>2],e[S>>2]=e[yt>>2],e[A>>2]=e[xt>>2],d0=Ai(t,S,A,s,a,f,44820,44852)|0,e[r>>2]=d0,d0=28;break}case 70:{e[pt>>2]=e[r>>2],e[I>>2]=e[o>>2],e[S>>2]=e[pt>>2],e[A>>2]=e[I>>2],d0=Ai(t,S,A,s,a,f,44852,44884)|0,e[r>>2]=d0,d0=28;break}case 72:{e[T>>2]=e[o>>2],e[A>>2]=e[T>>2],jf(t,f+8|0,r,A,a,l0),d0=28;break}case 73:{e[k>>2]=e[o>>2],e[A>>2]=e[k>>2],Yf(t,f+8|0,r,A,a,l0),d0=28;break}case 106:{e[D>>2]=e[o>>2],e[A>>2]=e[D>>2],Kf(t,f+28|0,r,A,a,l0),d0=28;break}case 109:{e[F>>2]=e[o>>2],e[A>>2]=e[F>>2],Xf(t,f+16|0,r,A,a,l0),d0=28;break}case 77:{e[N>>2]=e[o>>2],e[A>>2]=e[N>>2],Zf(t,f+4|0,r,A,a,l0),d0=28;break}case 116:case 110:{e[z>>2]=e[o>>2],e[A>>2]=e[z>>2],Jf(t,r,A,a,l0),d0=28;break}case 112:{e[q>>2]=e[o>>2],e[A>>2]=e[q>>2],tc(t,f+8|0,r,A,a,l0),d0=28;break}case 114:{e[B>>2]=e[r>>2],e[L>>2]=e[o>>2],e[S>>2]=e[B>>2],e[A>>2]=e[L>>2],d0=Ai(t,S,A,s,a,f,44884,44928)|0,e[r>>2]=d0,d0=28;break}case 82:{e[R>>2]=e[r>>2],e[K>>2]=e[o>>2],e[S>>2]=e[R>>2],e[A>>2]=e[K>>2],d0=Ai(t,S,A,s,a,f,44928,44948)|0,e[r>>2]=d0,d0=28;break}case 83:{e[Z>>2]=e[o>>2],e[A>>2]=e[Z>>2],ic(t,f,r,A,a,l0),d0=28;break}case 84:{e[re>>2]=e[r>>2],e[ee>>2]=e[o>>2],e[S>>2]=e[re>>2],e[A>>2]=e[ee>>2],d0=Ai(t,S,A,s,a,f,44948,44980)|0,e[r>>2]=d0,d0=28;break}case 119:{e[se>>2]=e[o>>2],e[A>>2]=e[se>>2],rc(t,f+24|0,r,A,a,l0),d0=28;break}case 120:{L0=e[(e[t>>2]|0)+20>>2]|0,e[Te>>2]=e[r>>2],e[_e>>2]=e[o>>2],e[S>>2]=e[Te>>2],e[A>>2]=e[_e>>2],S=nr[L0&63](t,S,A,s,a,f)|0;break}case 88:{L0=t+8|0,L0=A0[e[(e[L0>>2]|0)+24>>2]&127](L0)|0,e[Se>>2]=e[r>>2],e[Ke>>2]=e[o>>2],c=m[L0>>0]|0,o=(c&1)==0,d0=L0+4|0,L0=o?d0:e[L0+8>>2]|0,d0=L0+((o?(c&255)>>>1:e[d0>>2]|0)<<2)|0,e[S>>2]=e[Se>>2],e[A>>2]=e[Ke>>2],d0=Ai(t,S,A,s,a,f,L0,d0)|0,e[r>>2]=d0,d0=28;break}case 121:{e[R0>>2]=e[o>>2],e[A>>2]=e[R0>>2],No(t,f+20|0,r,A,a,l0),d0=28;break}case 89:{e[rt>>2]=e[o>>2],e[A>>2]=e[rt>>2],nc(t,f+20|0,r,A,a,l0),d0=28;break}case 37:{e[X0>>2]=e[o>>2],e[A>>2]=e[X0>>2],oc(t,r,A,a,l0),d0=28;break}default:e[a>>2]=e[a>>2]|4,d0=28}while(!1);return(d0|0)==28&&(S=e[r>>2]|0),b=Me,S|0}function Qf(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0;c=b,b=b+16|0,t=c+4|0,S=c,e[S>>2]=e[s>>2],e[t>>2]=e[S>>2],t=fi(o,t,a,f,2)|0,o=e[a>>2]|0,(t+-1|0)>>>0<31&(o&4|0)==0?e[r>>2]=t:e[a>>2]=o|4,b=c}function jf(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0;c=b,b=b+16|0,t=c+4|0,S=c,e[S>>2]=e[s>>2],e[t>>2]=e[S>>2],t=fi(o,t,a,f,2)|0,o=e[a>>2]|0,(t|0)<24&(o&4|0)==0?e[r>>2]=t:e[a>>2]=o|4,b=c}function Yf(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0;c=b,b=b+16|0,t=c+4|0,S=c,e[S>>2]=e[s>>2],e[t>>2]=e[S>>2],t=fi(o,t,a,f,2)|0,o=e[a>>2]|0,(t+-1|0)>>>0<12&(o&4|0)==0?e[r>>2]=t:e[a>>2]=o|4,b=c}function Kf(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0;c=b,b=b+16|0,t=c+4|0,S=c,e[S>>2]=e[s>>2],e[t>>2]=e[S>>2],t=fi(o,t,a,f,3)|0,o=e[a>>2]|0,(t|0)<366&(o&4|0)==0?e[r>>2]=t:e[a>>2]=o|4,b=c}function Xf(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0;c=b,b=b+16|0,t=c+4|0,S=c,e[S>>2]=e[s>>2],e[t>>2]=e[S>>2],t=fi(o,t,a,f,2)|0,o=e[a>>2]|0,(t|0)<13&(o&4|0)==0?e[r>>2]=t+-1:e[a>>2]=o|4,b=c}function Zf(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0;c=b,b=b+16|0,t=c+4|0,S=c,e[S>>2]=e[s>>2],e[t>>2]=e[S>>2],t=fi(o,t,a,f,2)|0,o=e[a>>2]|0,(t|0)<60&(o&4|0)==0?e[r>>2]=t:e[a>>2]=o|4,b=c}function Jf(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0;e:for(;;){t=e[r>>2]|0;do if(t)if(f=e[t+12>>2]|0,(f|0)==(e[t+16>>2]|0)?t=A0[e[(e[t>>2]|0)+36>>2]&127](t)|0:t=e[f>>2]|0,(t|0)==-1){e[r>>2]=0,c=1;break}else{c=(e[r>>2]|0)==0;break}else c=1;while(!1);f=e[o>>2]|0;do if(f)if(t=e[f+12>>2]|0,(t|0)==(e[f+16>>2]|0)?t=A0[e[(e[f>>2]|0)+36>>2]&127](f)|0:t=e[t>>2]|0,(t|0)!=-1)if(c){c=f;break}else{c=f;break e}else{e[o>>2]=0,S=15;break}else S=15;while(!1);if((S|0)==15)if(S=0,c){c=0;break}else c=0;if(t=e[r>>2]|0,f=e[t+12>>2]|0,(f|0)==(e[t+16>>2]|0)?t=A0[e[(e[t>>2]|0)+36>>2]&127](t)|0:t=e[f>>2]|0,!(G0[e[(e[a>>2]|0)+12>>2]&63](a,8192,t)|0))break;if(t=e[r>>2]|0,f=t+12|0,c=e[f>>2]|0,(c|0)==(e[t+16>>2]|0)){A0[e[(e[t>>2]|0)+40>>2]&127](t)|0;continue}else{e[f>>2]=c+4;continue}}t=e[r>>2]|0;do if(t)if(f=e[t+12>>2]|0,(f|0)==(e[t+16>>2]|0)?t=A0[e[(e[t>>2]|0)+36>>2]&127](t)|0:t=e[f>>2]|0,(t|0)==-1){e[r>>2]=0,f=1;break}else{f=(e[r>>2]|0)==0;break}else f=1;while(!1);do if(c)if(t=e[c+12>>2]|0,(t|0)==(e[c+16>>2]|0)?t=A0[e[(e[c>>2]|0)+36>>2]&127](c)|0:t=e[t>>2]|0,(t|0)!=-1){if(f)break;S=39;break}else{e[o>>2]=0,S=37;break}else S=37;while(!1);(S|0)==37&&f&&(S=39),(S|0)==39&&(e[s>>2]=e[s>>2]|2)}function tc(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;T=b,b=b+16|0,S=T+4|0,A=T,I=t+8|0,I=A0[e[(e[I>>2]|0)+8>>2]&127](I)|0,t=m[I>>0]|0,t&1?c=e[I+4>>2]|0:c=(t&255)>>>1,t=m[I+12>>0]|0,t&1?t=e[I+16>>2]|0:t=(t&255)>>>1;do if((c|0)!=(0-t|0)){if(e[A>>2]=e[s>>2],e[S>>2]=e[A>>2],t=Ar(o,S,I,I+24|0,f,a,0)|0,c=e[r>>2]|0,(t|0)==(I|0)&(c|0)==12){e[r>>2]=0;break}(c|0)<12&(t-I|0)==12&&(e[r>>2]=c+12)}else e[a>>2]=e[a>>2]|4;while(!1);b=T}function ic(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0;c=b,b=b+16|0,t=c+4|0,S=c,e[S>>2]=e[s>>2],e[t>>2]=e[S>>2],t=fi(o,t,a,f,2)|0,o=e[a>>2]|0,(t|0)<61&(o&4|0)==0?e[r>>2]=t:e[a>>2]=o|4,b=c}function rc(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0;c=b,b=b+16|0,t=c+4|0,S=c,e[S>>2]=e[s>>2],e[t>>2]=e[S>>2],t=fi(o,t,a,f,1)|0,o=e[a>>2]|0,(t|0)<7&(o&4|0)==0?e[r>>2]=t:e[a>>2]=o|4,b=c}function nc(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0;c=b,b=b+16|0,t=c+4|0,S=c,e[S>>2]=e[s>>2],e[t>>2]=e[S>>2],t=fi(o,t,a,f,4)|0,e[a>>2]&4||(e[r>>2]=t+-1900),b=c}function oc(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0;t=e[r>>2]|0;do if(t)if(f=e[t+12>>2]|0,(f|0)==(e[t+16>>2]|0)?t=A0[e[(e[t>>2]|0)+36>>2]&127](t)|0:t=e[f>>2]|0,(t|0)==-1){e[r>>2]=0,c=1;break}else{c=(e[r>>2]|0)==0;break}else c=1;while(!1);f=e[o>>2]|0;do if(f)if(t=e[f+12>>2]|0,(t|0)==(e[f+16>>2]|0)?t=A0[e[(e[f>>2]|0)+36>>2]&127](f)|0:t=e[t>>2]|0,(t|0)!=-1)if(c){S=f,A=17;break}else{A=16;break}else{e[o>>2]=0,A=14;break}else A=14;while(!1);(A|0)==14&&(c?A=16:(S=0,A=17));e:do if((A|0)==16)e[s>>2]=e[s>>2]|6;else if((A|0)==17){if(t=e[r>>2]|0,f=e[t+12>>2]|0,(f|0)==(e[t+16>>2]|0)?t=A0[e[(e[t>>2]|0)+36>>2]&127](t)|0:t=e[f>>2]|0,(G0[e[(e[a>>2]|0)+52>>2]&63](a,t,0)|0)<<24>>24!=37){e[s>>2]=e[s>>2]|4;break}t=e[r>>2]|0,f=t+12|0,c=e[f>>2]|0,(c|0)==(e[t+16>>2]|0)?(A0[e[(e[t>>2]|0)+40>>2]&127](t)|0,t=e[r>>2]|0,t?A=25:f=1):(e[f>>2]=c+4,A=25);do if((A|0)==25)if(f=e[t+12>>2]|0,(f|0)==(e[t+16>>2]|0)?t=A0[e[(e[t>>2]|0)+36>>2]&127](t)|0:t=e[f>>2]|0,(t|0)==-1){e[r>>2]=0,f=1;break}else{f=(e[r>>2]|0)==0;break}while(!1);do if(S)if(t=e[S+12>>2]|0,(t|0)==(e[S+16>>2]|0)?t=A0[e[(e[S>>2]|0)+36>>2]&127](S)|0:t=e[t>>2]|0,(t|0)!=-1){if(f)break e;break}else{e[o>>2]=0,A=37;break}else A=37;while(!1);if((A|0)==37&&!f)break;e[s>>2]=e[s>>2]|2}while(!1)}function sc(t){t=t|0,hr(t+8|0)}function hr(t){t=t|0;var r=0,o=0,s=0;r=e[t>>2]|0,h=0,o=ve(3)|0,s=h,h=0;do if(!(s&1)){if((r|0)!=(o|0)&&(h=0,oe(188,e[t>>2]|0),s=h,h=0,s&1))break;return}while(!1);s=Q(0)|0,b0(s)}function ac(t){t=t|0,hr(t+8|0),ue(t)}function uc(t,r,o,s,a,f,c){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0;var S=0,A=0;if(A=b,b=b+112|0,S=A+4|0,o=A,e[o>>2]=S+100,Bo(t+8|0,S,o,a,f,c),a=e[o>>2]|0,o=e[r>>2]|0,(S|0)!=(a|0))do{c=m[S>>0]|0;do if(o)if(s=o+24|0,f=e[s>>2]|0,(f|0)==(e[o+28>>2]|0)){r=(Ut[e[(e[o>>2]|0)+52>>2]&63](o,c&255)|0)==-1,o=r?0:o;break}else{e[s>>2]=f+1,m[f>>0]=c;break}else o=0;while(!1);S=S+1|0}while((S|0)!=(a|0));return b=A,o|0}function Bo(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0;I=b,b=b+16|0,A=I,m[A>>0]=37,c=A+1|0,m[c>>0]=a,S=A+2|0,m[S>>0]=f,m[A+3>>0]=0,f<<24>>24&&(m[c>>0]=f,m[S>>0]=a),t=r+(Js(r|0,(e[o>>2]|0)-r|0,A|0,s|0,e[t>>2]|0)|0)|0,e[o>>2]=t,b=I}function fc(t){t=t|0,hr(t+8|0)}function cc(t){t=t|0,hr(t+8|0),ue(t)}function hc(t,r,o,s,a,f,c){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0;var S=0;if(S=b,b=b+416|0,s=S+8|0,o=S,e[o>>2]=s+400,dc(t+8|0,s,o,a,f,c),t=e[o>>2]|0,o=e[r>>2]|0,(s|0)!=(t|0)){a=s;do s=e[a>>2]|0,o?(f=o+24|0,c=e[f>>2]|0,(c|0)==(e[o+28>>2]|0)?s=Ut[e[(e[o>>2]|0)+52>>2]&63](o,s)|0:(e[f>>2]=c+4,e[c>>2]=s),o=(s|0)==-1?0:o):o=0,a=a+4|0;while((a|0)!=(t|0))}return b=S,o|0}function dc(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;if(c=b,b=b+128|0,I=c+16|0,T=c+12|0,S=c,A=c+8|0,e[T>>2]=I+100,Bo(t,I,T,s,a,f),a=S,e[a>>2]=0,e[a+4>>2]=0,e[A>>2]=I,a=(e[o>>2]|0)-r>>2,f=oi(e[t>>2]|0)|0,h=0,a=Pe(18,r|0,A|0,a|0,S|0)|0,t=h,h=0,t&1&&(a=Q()|0,f|0&&(h=0,ce(75,f|0)|0,T=h,h=0,T&1)&&(T=Q(0)|0,b0(T)),ne(a|0)),f|0&&(h=0,ce(75,f|0)|0,T=h,h=0,T&1)&&(T=Q(0)|0,b0(T)),(a|0)==-1)dr(58955);else{e[o>>2]=r+(a<<2),b=c;return}}function pc(t){t=t|0}function mc(t){t=t|0,ue(t)}function gc(t){return t=t|0,127}function vc(t){return t=t|0,127}function Sc(t,r){t=t|0,r=r|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0}function wc(t,r){t=t|0,r=r|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0}function Ac(t,r){t=t|0,r=r|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0}function yc(t,r){t=t|0,r=r|0,Sn(t,1,45)}function _c(t){return t=t|0,0}function xc(t,r){t=t|0,r=r|0,m[t>>0]=2,m[t+1>>0]=3,m[t+2>>0]=0,m[t+3>>0]=4}function Tc(t,r){t=t|0,r=r|0,m[t>>0]=2,m[t+1>>0]=3,m[t+2>>0]=0,m[t+3>>0]=4}function Ic(t){t=t|0}function Cc(t){t=t|0,ue(t)}function Ec(t){return t=t|0,127}function bc(t){return t=t|0,127}function kc(t,r){t=t|0,r=r|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0}function Dc(t,r){t=t|0,r=r|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0}function Pc(t,r){t=t|0,r=r|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0}function Fc(t,r){t=t|0,r=r|0,Sn(t,1,45)}function Mc(t){return t=t|0,0}function Rc(t,r){t=t|0,r=r|0,m[t>>0]=2,m[t+1>>0]=3,m[t+2>>0]=0,m[t+3>>0]=4}function Oc(t,r){t=t|0,r=r|0,m[t>>0]=2,m[t+1>>0]=3,m[t+2>>0]=0,m[t+3>>0]=4}function Lc(t){t=t|0}function Nc(t){t=t|0,ue(t)}function Bc(t){return t=t|0,2147483647}function Uc(t){return t=t|0,2147483647}function Vc(t,r){t=t|0,r=r|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0}function zc(t,r){t=t|0,r=r|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0}function qc(t,r){t=t|0,r=r|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0}function Gc(t,r){t=t|0,r=r|0,yn(t,1,45)}function $c(t){return t=t|0,0}function Hc(t,r){t=t|0,r=r|0,m[t>>0]=2,m[t+1>>0]=3,m[t+2>>0]=0,m[t+3>>0]=4}function Wc(t,r){t=t|0,r=r|0,m[t>>0]=2,m[t+1>>0]=3,m[t+2>>0]=0,m[t+3>>0]=4}function Qc(t){t=t|0}function jc(t){t=t|0,ue(t)}function Yc(t){return t=t|0,2147483647}function Kc(t){return t=t|0,2147483647}function Xc(t,r){t=t|0,r=r|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0}function Zc(t,r){t=t|0,r=r|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0}function Jc(t,r){t=t|0,r=r|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0}function eh(t,r){t=t|0,r=r|0,yn(t,1,45)}function th(t){return t=t|0,0}function ih(t,r){t=t|0,r=r|0,m[t>>0]=2,m[t+1>>0]=3,m[t+2>>0]=0,m[t+3>>0]=4}function rh(t,r){t=t|0,r=r|0,m[t>>0]=2,m[t+1>>0]=3,m[t+2>>0]=0,m[t+3>>0]=4}function nh(t){t=t|0}function oh(t){t=t|0,ue(t)}function sh(t,r,o,s,a,f,c){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0;var S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0,_e=0,Se=0;if(re=b,b=b+240|0,K=re+24|0,Z=re,t=re+136|0,se=re+16|0,R=re+12|0,ee=re+8|0,k=re+134|0,A=re+4|0,M=re+124|0,e[se>>2]=t,Te=se+4|0,e[Te>>2]=189,I=t+100|0,h=0,S=ce(68,a|0)|0,L=h,h=0,L&1)A=Q()|0,e[se>>2]=0,S=189,Se=45;else{e[ee>>2]=S,h=0,t=Ce(37,ee|0,44220)|0,L=h,h=0;e:do if(!(L&1)&&(m[k>>0]=0,e[A>>2]=e[o>>2],T=e[a+4>>2]|0,h=0,e[K>>2]=e[A>>2],T=F0(1,r|0,K|0,s|0,ee|0,T|0,f|0,k|0,t|0,se|0,R|0,I|0)|0,L=h,h=0,!(L&1))){t:do if(T){if(h=0,Pe(e[(e[t>>2]|0)+32>>2]|0,t|0,58976,58986,M|0)|0,L=h,h=0,L&1){Se=10;break e}A=e[R>>2]|0,I=e[se>>2]|0,t=A-I|0,(t|0)>98?(t=It(t+2|0)|0,S=t,t?Se=13:(h=0,_0(6),L=h,h=0,L&1||(t=0,Se=13))):(S=0,t=K,Se=13);do if((Se|0)==13){if(m[k>>0]|0&&(m[t>>0]=45,t=t+1|0),B=M+10|0,L=M,I>>>0<A>>>0){T=M+1|0,s=T+1|0,a=s+1|0,k=a+1|0,D=k+1|0,F=D+1|0,N=F+1|0,z=N+1|0,q=z+1|0;do{A=m[I>>0]|0;do if((m[M>>0]|0)!=A<<24>>24)if((m[T>>0]|0)!=A<<24>>24)if((m[s>>0]|0)!=A<<24>>24)if((m[a>>0]|0)!=A<<24>>24)if((m[k>>0]|0)==A<<24>>24)A=k;else{if((m[D>>0]|0)==A<<24>>24){A=D;break}if((m[F>>0]|0)==A<<24>>24){A=F;break}if((m[N>>0]|0)==A<<24>>24){A=N;break}if((m[z>>0]|0)==A<<24>>24){A=z;break}A=(m[q>>0]|0)==A<<24>>24?q:B}else A=a;else A=s;else A=T;else A=M;while(!1);m[t>>0]=m[58976+(A-L)>>0]|0,I=I+1|0,t=t+1|0}while(I>>>0<(e[R>>2]|0)>>>0)}if(m[t>>0]=0,e[Z>>2]=c,(Vs(K,58987,Z)|0)!=1&&(h=0,oe(190,58991),c=h,h=0,c&1))break;S&&Z0(S);break t}while(!1);if(t=Q()|0,!S){A=t,S=se;break e}Z0(S),A=t,S=se;break e}while(!1);t=e[r>>2]|0;do if(t){if((e[t+12>>2]|0)==(e[t+16>>2]|0)){if(h=0,t=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,c=h,h=0,c&1){Se=10;break e}if((t|0)==-1){e[r>>2]=0,t=0;break}else{t=e[r>>2]|0;break}}}else t=0;while(!1);S=(t|0)==0,t=e[o>>2]|0;do if(t){if((e[t+12>>2]|0)==(e[t+16>>2]|0)){if(h=0,t=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,c=h,h=0,c&1){Se=10;break e}if((t|0)==-1){e[o>>2]=0,Se=37;break}}S||(Se=38)}else Se=37;while(!1);return(Se|0)==37&&S&&(Se=38),(Se|0)==38&&(e[f>>2]=e[f>>2]|2),S=e[r>>2]|0,D0(e[ee>>2]|0)|0,t=e[se>>2]|0,e[se>>2]=0,t|0&&(h=0,oe(e[Te>>2]|0,t|0),Se=h,h=0,Se&1)&&(Se=Q(0)|0,b0(Se)),b=re,S|0}else Se=10;while(!1);(Se|0)==10&&(A=Q()|0,S=se),D0(e[ee>>2]|0)|0,t=e[S>>2]|0,e[S>>2]=0,t?(S=e[Te>>2]|0,Se=45):_e=A}return(Se|0)==45&&(h=0,oe(S|0,t|0),Se=h,h=0,Se&1?(Se=Q(0)|0,b0(Se)):_e=A),ne(_e|0),0}function ah(t){t=t|0}function lh(t,r,o,s,a,f,c,S,A,I,T){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0,A=A|0,I=I|0,T=T|0;var k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0,_e=0,Se=0,Ke=0,$0=0,R0=0,rt=0,X0=0,M0=0,l0=0,z0=0,s0=0,f0=0,yt=0,xt=0,pt=0,Me=0,d0=0,L0=0,lt=0,ot=0,ft=0,Ct=0,vt=0,xi=0,kt=0;vt=b,b=b+512|0,l0=vt+88|0,N=vt+96|0,kt=vt+80|0,yt=vt+72|0,f0=vt+68|0,xt=vt+500|0,z0=vt+497|0,pt=vt+496|0,L0=vt+56|0,Ct=vt+44|0,ot=vt+32|0,lt=vt+20|0,ft=vt+8|0,s0=vt+4|0,d0=vt,e[l0>>2]=T,e[kt>>2]=N,xi=kt+4|0,e[xi>>2]=189,e[yt>>2]=N,e[f0>>2]=N+400,e[L0>>2]=0,e[L0+4>>2]=0,e[L0+8>>2]=0,e[Ct>>2]=0,e[Ct+4>>2]=0,e[Ct+8>>2]=0,e[ot>>2]=0,e[ot+4>>2]=0,e[ot+8>>2]=0,e[lt>>2]=0,e[lt+4>>2]=0,e[lt+8>>2]=0,e[ft>>2]=0,e[ft+4>>2]=0,e[ft+8>>2]=0,h=0,Tt(1,o|0,s|0,xt|0,z0|0,pt|0,L0|0,Ct|0,ot|0,lt|0,s0|0),M0=h,h=0;e:do if(M0&1)S=Q()|0;else{e[I>>2]=e[A>>2],Se=S+8|0,Ke=ot+4|0,$0=lt+4|0,R0=lt+8|0,rt=lt+1|0,X0=ot+8|0,M0=ot+1|0,M=(a&512|0)!=0,R=Ct+8|0,K=Ct+1|0,Z=Ct+4|0,re=ft+4|0,ee=ft+8|0,se=ft+1|0,Te=xt+3|0,_e=L0+4|0,L=0,F=0;t:for(;;){T=e[t>>2]|0;do if(T){if((e[T+12>>2]|0)==(e[T+16>>2]|0)){if(h=0,T=ce(e[(e[T>>2]|0)+36>>2]|0,T|0)|0,B=h,h=0,B&1){Me=24;break t}if((T|0)==-1){e[t>>2]=0,T=0;break}else{T=e[t>>2]|0;break}}}else T=0;while(!1);T=(T|0)==0,S=e[r>>2]|0;do if(S){if((e[S+12>>2]|0)!=(e[S+16>>2]|0))if(T){B=S;break}else{Me=235;break t}if(h=0,o=ce(e[(e[S>>2]|0)+36>>2]|0,S|0)|0,B=h,h=0,B&1){Me=24;break t}if((o|0)!=-1)if(T){B=S;break}else{Me=235;break t}else{e[r>>2]=0,Me=15;break}}else Me=15;while(!1);if((Me|0)==15)if(Me=0,T){Me=235;break}else B=0;i:do switch(m[xt+L>>0]|0){case 1:{if((L|0)!=3){if(T=e[t>>2]|0,S=e[T+12>>2]|0,(S|0)==(e[T+16>>2]|0)){if(h=0,T=ce(e[(e[T>>2]|0)+36>>2]|0,T|0)|0,Me=h,h=0,Me&1){Me=24;break t}}else T=P[S>>0]|0;if((T&255)<<24>>24<=-1){Me=40;break t}if(!(y[(e[Se>>2]|0)+(T<<24>>24<<1)>>1]&8192)){Me=40;break t}if(T=e[t>>2]|0,S=T+12|0,o=e[S>>2]|0,(o|0)==(e[T+16>>2]|0)){if(h=0,T=ce(e[(e[T>>2]|0)+40>>2]|0,T|0)|0,Me=h,h=0,Me&1){Me=24;break t}}else e[S>>2]=o+1,T=P[o>>0]|0;if(h=0,de(67,ft|0,T&255|0),Me=h,h=0,Me&1){Me=24;break t}else T=B,s=B,Me=42}break}case 0:{(L|0)!=3&&(T=B,s=B,Me=42);break}case 3:{if(S=m[ot>>0]|0,T=S&1?e[Ke>>2]|0:(S&255)>>>1,o=m[lt>>0]|0,s=o&1?e[$0>>2]|0:(o&255)>>>1,(T|0)!=(0-s|0)){if(!T){if(T=e[t>>2]|0,S=e[T+12>>2]|0,(S|0)==(e[T+16>>2]|0)){if(h=0,T=ce(e[(e[T>>2]|0)+36>>2]|0,T|0)|0,B=h,h=0,B&1){Me=24;break t}S=m[lt>>0]|0}else T=P[S>>0]|0,S=o;if((T&255)<<24>>24!=(m[(S&1?e[R0>>2]|0:rt)>>0]|0))break i;if(T=e[t>>2]|0,S=T+12|0,o=e[S>>2]|0,(o|0)==(e[T+16>>2]|0)){if(h=0,ce(e[(e[T>>2]|0)+40>>2]|0,T|0)|0,B=h,h=0,B&1){Me=24;break t}}else e[S>>2]=o+1;m[c>>0]=1,B=m[lt>>0]|0,F=(B&1?e[$0>>2]|0:(B&255)>>>1)>>>0>1?lt:F;break i}if(a=e[t>>2]|0,k=e[a+12>>2]|0,o=e[a+16>>2]|0,T=(k|0)==(o|0),!s){if(T){if(h=0,T=ce(e[(e[a>>2]|0)+36>>2]|0,a|0)|0,B=h,h=0,B&1){Me=24;break t}S=m[ot>>0]|0}else T=P[k>>0]|0;if((T&255)<<24>>24!=(m[(S&1?e[X0>>2]|0:M0)>>0]|0)){m[c>>0]=1;break i}if(T=e[t>>2]|0,S=T+12|0,o=e[S>>2]|0,(o|0)==(e[T+16>>2]|0)){if(h=0,ce(e[(e[T>>2]|0)+40>>2]|0,T|0)|0,B=h,h=0,B&1){Me=24;break t}}else e[S>>2]=o+1;B=m[ot>>0]|0,F=(B&1?e[Ke>>2]|0:(B&255)>>>1)>>>0>1?ot:F;break i}if(T){if(h=0,T=ce(e[(e[a>>2]|0)+36>>2]|0,a|0)|0,B=h,h=0,B&1){Me=24;break t}o=e[t>>2]|0,S=m[ot>>0]|0,a=o,k=e[o+12>>2]|0,o=e[o+16>>2]|0}else T=P[k>>0]|0;if(s=a+12|0,o=(k|0)==(o|0),(T&255)<<24>>24==(m[(S&1?e[X0>>2]|0:M0)>>0]|0)){if(o){if(h=0,ce(e[(e[a>>2]|0)+40>>2]|0,a|0)|0,B=h,h=0,B&1){Me=24;break t}}else e[s>>2]=k+1;B=m[ot>>0]|0,F=(B&1?e[Ke>>2]|0:(B&255)>>>1)>>>0>1?ot:F;break i}if(o){if(h=0,T=ce(e[(e[a>>2]|0)+36>>2]|0,a|0)|0,B=h,h=0,B&1){Me=24;break t}}else T=P[k>>0]|0;if((T&255)<<24>>24!=(m[(m[lt>>0]&1?e[R0>>2]|0:rt)>>0]|0)){Me=104;break t}if(T=e[t>>2]|0,S=T+12|0,o=e[S>>2]|0,(o|0)==(e[T+16>>2]|0)){if(h=0,ce(e[(e[T>>2]|0)+40>>2]|0,T|0)|0,B=h,h=0,B&1){Me=24;break t}}else e[S>>2]=o+1;m[c>>0]=1,B=m[lt>>0]|0,F=(B&1?e[$0>>2]|0:(B&255)>>>1)>>>0>1?lt:F}break}case 2:{if(!(L>>>0<2|(F|0)!=0)&&!(M|(L|0)==2&(m[Te>>0]|0)!=0)){F=0;break i}z=m[Ct>>0]|0,T=(z&1)==0,q=e[R>>2]|0,o=T?K:q,D=o;r:do if(L|0&&(P[xt+(L+-1)>>0]|0)<2){k=T?(z&255)>>>1:e[Z>>2]|0,s=o+k|0,a=e[Se>>2]|0;n:do if(!k)S=D;else{k=o,S=D;do{if(T=m[k>>0]|0,T<<24>>24<=-1||!(y[a+(T<<24>>24<<1)>>1]&8192))break n;k=k+1|0,S=k}while((k|0)!=(s|0))}while(!1);if(s=S-D|0,a=m[ft>>0]|0,T=(a&1)==0,a=T?(a&255)>>>1:e[re>>2]|0,a>>>0>=s>>>0){if(T=T?se:e[ee>>2]|0,k=T+a|0,(S|0)!=(D|0))for(T=T+(a-s)|0;;){if((m[T>>0]|0)!=(m[o>>0]|0)){S=D;break r}if(T=T+1|0,(T|0)==(k|0))break;o=o+1|0}}else S=D}else S=D;while(!1);T=(z&1)==0,T=(T?K:q)+(T?(z&255)>>>1:e[Z>>2]|0)|0;r:do if((S|0)!=(T|0))for(a=B,s=B,T=S;;){S=e[t>>2]|0;do if(S){if((e[S+12>>2]|0)==(e[S+16>>2]|0)){if(h=0,S=ce(e[(e[S>>2]|0)+36>>2]|0,S|0)|0,B=h,h=0,B&1){Me=21;break t}if((S|0)==-1){e[t>>2]=0,S=0;break}else{S=e[t>>2]|0;break}}}else S=0;while(!1);o=(S|0)==0;do if(s){if((e[s+12>>2]|0)!=(e[s+16>>2]|0))if(o){S=a,k=s;break}else break r;if(h=0,S=ce(e[(e[s>>2]|0)+36>>2]|0,s|0)|0,B=h,h=0,B&1){Me=21;break t}if((S|0)!=-1)if(o^(a|0)==0){S=a,k=a;break}else break r;else{e[r>>2]=0,S=0,Me=131;break}}else S=a,Me=131;while(!1);if((Me|0)==131){if(Me=0,o)break r;k=0}if(o=e[t>>2]|0,s=e[o+12>>2]|0,(s|0)==(e[o+16>>2]|0)){if(h=0,o=ce(e[(e[o>>2]|0)+36>>2]|0,o|0)|0,B=h,h=0,B&1){Me=21;break t}}else o=P[s>>0]|0;if((o&255)<<24>>24!=(m[T>>0]|0))break r;if(o=e[t>>2]|0,s=o+12|0,a=e[s>>2]|0,(a|0)==(e[o+16>>2]|0)){if(h=0,ce(e[(e[o>>2]|0)+40>>2]|0,o|0)|0,B=h,h=0,B&1){Me=21;break t}}else e[s>>2]=a+1;if(T=T+1|0,o=m[Ct>>0]|0,B=(o&1)==0,o=(B?K:e[R>>2]|0)+(B?(o&255)>>>1:e[Z>>2]|0)|0,(T|0)==(o|0)){T=o;break}else a=S,s=k}while(!1);if(M&&(B=m[Ct>>0]|0,q=(B&1)==0,(T|0)!=((q?K:e[R>>2]|0)+(q?(B&255)>>>1:e[Z>>2]|0)|0))){Me=143;break t}break}case 4:{D=m[pt>>0]|0,S=B,a=B,T=0;r:for(;;){o=e[t>>2]|0;do if(o){if((e[o+12>>2]|0)==(e[o+16>>2]|0)){if(h=0,o=ce(e[(e[o>>2]|0)+36>>2]|0,o|0)|0,B=h,h=0,B&1){Me=23;break t}if((o|0)==-1){e[t>>2]=0,o=0;break}else{o=e[t>>2]|0;break}}}else o=0;while(!1);s=(o|0)==0;do if(a){if((e[a+12>>2]|0)!=(e[a+16>>2]|0))if(s){k=S;break}else{s=S;break r}if(h=0,o=ce(e[(e[a>>2]|0)+36>>2]|0,a|0)|0,B=h,h=0,B&1){Me=23;break t}if((o|0)!=-1)if(s^(S|0)==0){k=S,a=S;break}else{s=S;break r}else{e[r>>2]=0,S=0,Me=156;break}}else Me=156;while(!1);if((Me|0)==156)if(Me=0,s){s=S;break}else k=S,a=0;if(S=e[t>>2]|0,o=e[S+12>>2]|0,(o|0)==(e[S+16>>2]|0)){if(h=0,S=ce(e[(e[S>>2]|0)+36>>2]|0,S|0)|0,B=h,h=0,B&1){Me=23;break t}}else S=P[o>>0]|0;if(o=S&255,o<<24>>24>-1&&y[(e[Se>>2]|0)+(S<<24>>24<<1)>>1]&2048){if(S=e[I>>2]|0,(S|0)==(e[l0>>2]|0)){if(h=0,me(12,A|0,I|0,l0|0),B=h,h=0,B&1){Me=23;break t}S=e[I>>2]|0}e[I>>2]=S+1,m[S>>0]=o,T=T+1|0}else{if(B=m[L0>>0]|0,!(o<<24>>24==D<<24>>24&(T|0?((B&1?e[_e>>2]|0:(B&255)>>>1)|0)!=0:0))){s=k;break}if((N|0)==(e[f0>>2]|0)){if(h=0,me(13,kt|0,yt|0,f0|0),B=h,h=0,B&1){Me=23;break t}N=e[yt>>2]|0}B=N+4|0,e[yt>>2]=B,e[N>>2]=T,N=B,T=0}if(S=e[t>>2]|0,o=S+12|0,s=e[o>>2]|0,(s|0)==(e[S+16>>2]|0))if(h=0,ce(e[(e[S>>2]|0)+40>>2]|0,S|0)|0,B=h,h=0,B&1){Me=23;break t}else{S=k;continue}else{e[o>>2]=s+1,S=k;continue}}if(T|0&&(e[kt>>2]|0)!=(N|0)){if((N|0)==(e[f0>>2]|0)){if(h=0,me(13,kt|0,yt|0,f0|0),B=h,h=0,B&1){Me=24;break t}N=e[yt>>2]|0}B=N+4|0,e[yt>>2]=B,e[N>>2]=T,N=B}if(k=e[s0>>2]|0,(k|0)>0){T=e[t>>2]|0;do if(T){if((e[T+12>>2]|0)==(e[T+16>>2]|0)){if(h=0,T=ce(e[(e[T>>2]|0)+36>>2]|0,T|0)|0,B=h,h=0,B&1){Me=24;break t}if((T|0)==-1){e[t>>2]=0,T=0;break}else{T=e[t>>2]|0;break}}}else T=0;while(!1);T=(T|0)==0;do if(s){if((e[s+12>>2]|0)==(e[s+16>>2]|0)){if(h=0,S=ce(e[(e[s>>2]|0)+36>>2]|0,s|0)|0,B=h,h=0,B&1){Me=24;break t}if((S|0)==-1){e[r>>2]=0,Me=193;break}}if(!T){Me=198;break t}}else Me=193;while(!1);if((Me|0)==193)if(Me=0,T){Me=198;break t}else s=0;if(T=e[t>>2]|0,S=e[T+12>>2]|0,(S|0)==(e[T+16>>2]|0)){if(h=0,T=ce(e[(e[T>>2]|0)+36>>2]|0,T|0)|0,B=h,h=0,B&1){Me=24;break t}}else T=P[S>>0]|0;if((T&255)<<24>>24!=(m[z0>>0]|0)){Me=198;break t}if(T=e[t>>2]|0,S=T+12|0,o=e[S>>2]|0,(o|0)==(e[T+16>>2]|0)){if(h=0,ce(e[(e[T>>2]|0)+40>>2]|0,T|0)|0,B=h,h=0,B&1){Me=24;break t}}else e[S>>2]=o+1;if((k|0)>0)for(a=s,o=s,D=k;;){T=e[t>>2]|0;do if(T){if((e[T+12>>2]|0)==(e[T+16>>2]|0)){if(h=0,T=ce(e[(e[T>>2]|0)+36>>2]|0,T|0)|0,B=h,h=0,B&1){Me=22;break t}if((T|0)==-1){e[t>>2]=0,T=0;break}else{T=e[t>>2]|0;break}}}else T=0;while(!1);S=(T|0)==0;do if(o){if((e[o+12>>2]|0)!=(e[o+16>>2]|0))if(S){T=a,k=o;break}else{Me=222;break t}if(h=0,T=ce(e[(e[o>>2]|0)+36>>2]|0,o|0)|0,B=h,h=0,B&1){Me=22;break t}if((T|0)!=-1)if(S^(a|0)==0){T=a,k=a;break}else{Me=222;break t}else{e[r>>2]=0,T=0,Me=215;break}}else T=a,Me=215;while(!1);if((Me|0)==215)if(Me=0,S){Me=222;break t}else k=0;if(S=e[t>>2]|0,o=e[S+12>>2]|0,(o|0)==(e[S+16>>2]|0)){if(h=0,S=ce(e[(e[S>>2]|0)+36>>2]|0,S|0)|0,B=h,h=0,B&1){Me=22;break t}}else S=P[o>>0]|0;if((S&255)<<24>>24<=-1){Me=222;break t}if(!(y[(e[Se>>2]|0)+(S<<24>>24<<1)>>1]&2048)){Me=222;break t}if((e[I>>2]|0)==(e[l0>>2]|0)&&(h=0,me(12,A|0,I|0,l0|0),B=h,h=0,B&1)){Me=22;break t}if(S=e[t>>2]|0,o=e[S+12>>2]|0,(o|0)==(e[S+16>>2]|0)){if(h=0,S=ce(e[(e[S>>2]|0)+36>>2]|0,S|0)|0,B=h,h=0,B&1){Me=22;break t}}else S=P[o>>0]|0;if(o=e[I>>2]|0,e[I>>2]=o+1,m[o>>0]=S,S=D,D=D+-1|0,e[s0>>2]=D,o=e[t>>2]|0,s=o+12|0,a=e[s>>2]|0,(a|0)==(e[o+16>>2]|0)){if(h=0,ce(e[(e[o>>2]|0)+40>>2]|0,o|0)|0,B=h,h=0,B&1){Me=22;break t}}else e[s>>2]=a+1;if((S|0)<=1)break;a=T,o=k}}if((e[I>>2]|0)==(e[A>>2]|0)){Me=233;break t}break}default:}while(!1);i:do if((Me|0)==42)for(;;){Me=0,S=e[t>>2]|0;do if(S){if((e[S+12>>2]|0)==(e[S+16>>2]|0)){if(h=0,S=ce(e[(e[S>>2]|0)+36>>2]|0,S|0)|0,B=h,h=0,B&1){Me=20;break t}if((S|0)==-1){e[t>>2]=0,S=0;break}else{S=e[t>>2]|0;break}}}else S=0;while(!1);o=(S|0)==0;do if(s){if((e[s+12>>2]|0)!=(e[s+16>>2]|0))if(o){a=T;break}else break i;if(h=0,S=ce(e[(e[s>>2]|0)+36>>2]|0,s|0)|0,B=h,h=0,B&1){Me=20;break t}if((S|0)!=-1)if(o^(T|0)==0){a=T,s=T;break}else break i;else{e[r>>2]=0,T=0,Me=54;break}}else Me=54;while(!1);if((Me|0)==54){if(Me=0,o)break i;a=T,s=0}if(T=e[t>>2]|0,S=e[T+12>>2]|0,(S|0)==(e[T+16>>2]|0)){if(h=0,T=ce(e[(e[T>>2]|0)+36>>2]|0,T|0)|0,B=h,h=0,B&1){Me=20;break t}}else T=P[S>>0]|0;if((T&255)<<24>>24<=-1||!(y[(e[Se>>2]|0)+(T<<24>>24<<1)>>1]&8192))break i;if(T=e[t>>2]|0,S=T+12|0,o=e[S>>2]|0,(o|0)==(e[T+16>>2]|0)){if(h=0,T=ce(e[(e[T>>2]|0)+40>>2]|0,T|0)|0,Me=h,h=0,Me&1){Me=20;break t}}else e[S>>2]=o+1,T=P[o>>0]|0;if(h=0,de(67,ft|0,T&255|0),Me=h,h=0,Me&1){Me=20;break t}else T=a,Me=42}while(!1);if(L=L+1|0,L>>>0>=4){Me=235;break}}t:switch(Me|0){case 20:{S=Q()|0;break e}case 21:{S=Q()|0;break e}case 22:{S=Q()|0;break e}case 23:{S=Q()|0;break e}case 24:{S=Q()|0;break e}case 40:{e[f>>2]=e[f>>2]|4,S=0;break}case 104:{e[f>>2]=e[f>>2]|4,S=0;break}case 143:{e[f>>2]=e[f>>2]|4,S=0;break}case 198:{e[f>>2]=e[f>>2]|4,S=0;break}case 222:{e[f>>2]=e[f>>2]|4,S=0;break}case 233:{e[f>>2]=e[f>>2]|4,S=0;break}case 235:{i:do if(F){a=F+1|0,k=F+8|0,D=F+4|0,o=1;r:for(;;){if(T=m[F>>0]|0,T&1?T=e[D>>2]|0:T=(T&255)>>>1,o>>>0>=T>>>0)break i;T=e[t>>2]|0;do if(T){if((e[T+12>>2]|0)==(e[T+16>>2]|0)){if(h=0,T=ce(e[(e[T>>2]|0)+36>>2]|0,T|0)|0,I=h,h=0,I&1){Me=19;break r}if((T|0)==-1){e[t>>2]=0,T=0;break}else{T=e[t>>2]|0;break}}}else T=0;while(!1);S=(T|0)==0,T=e[r>>2]|0;do if(T){if((e[T+12>>2]|0)==(e[T+16>>2]|0)){if(h=0,T=ce(e[(e[T>>2]|0)+36>>2]|0,T|0)|0,I=h,h=0,I&1){Me=19;break r}if((T|0)==-1){e[r>>2]=0,Me=253;break}}if(!S){Me=260;break r}}else Me=253;while(!1);if((Me|0)==253&&(Me=0,S)){Me=260;break}if(T=e[t>>2]|0,S=e[T+12>>2]|0,(S|0)==(e[T+16>>2]|0)){if(h=0,T=ce(e[(e[T>>2]|0)+36>>2]|0,T|0)|0,I=h,h=0,I&1){Me=19;break}}else T=P[S>>0]|0;if(m[F>>0]&1?S=e[k>>2]|0:S=a,(T&255)<<24>>24!=(m[S+o>>0]|0)){Me=260;break}if(T=o+1|0,S=e[t>>2]|0,o=S+12|0,s=e[o>>2]|0,(s|0)==(e[S+16>>2]|0))if(h=0,ce(e[(e[S>>2]|0)+40>>2]|0,S|0)|0,I=h,h=0,I&1){Me=19;break}else{o=T;continue}else{e[o>>2]=s+1,o=T;continue}}if((Me|0)==19){S=Q()|0;break e}else if((Me|0)==260){e[f>>2]=e[f>>2]|4,S=0;break t}}while(!1);T=e[kt>>2]|0,(T|0)!=(N|0)&&(e[d0>>2]=0,Bt(L0,T,N,d0),(e[d0>>2]|0)!=0)?(e[f>>2]=e[f>>2]|4,S=0):S=1;break}}return fe(ft),fe(lt),fe(ot),fe(Ct),fe(L0),T=e[kt>>2]|0,e[kt>>2]=0,T|0&&(h=0,oe(e[xi>>2]|0,T|0),kt=h,h=0,kt&1)&&(kt=Q(0)|0,b0(kt)),b=vt,S|0}while(!1);return fe(ft),fe(lt),fe(ot),fe(Ct),fe(L0),T=e[kt>>2]|0,e[kt>>2]=0,T|0&&(h=0,oe(e[xi>>2]|0,T|0),kt=h,h=0,kt&1)&&(kt=Q(0)|0,b0(kt)),ne(S|0),0}function dr(t){t=t|0;var r=0;r=g0(8)|0,h=0,de(90,r|0,t|0),t=h,h=0,t&1?(t=Q()|0,v0(r|0),ne(t|0)):V0(r|0,616,80)}function uh(t,r,o,s,a,f,c){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0;var S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0;if(L=b,b=b+144|0,S=L+24|0,t=L+32|0,M=L+16|0,N=L+8|0,k=L+4|0,D=L+28|0,A=L,e[M>>2]=t,Z=M+4|0,e[Z>>2]=189,I=t+100|0,h=0,B=ce(68,a|0)|0,T=h,h=0,T&1)S=Q()|0,e[M>>2]=0,K=36;else{e[k>>2]=B,h=0,T=Ce(37,k|0,44220)|0,t=h,h=0;e:do if(!(t&1)&&(m[D>>0]=0,z=e[o>>2]|0,e[A>>2]=z,F=e[a+4>>2]|0,q=z,h=0,e[S>>2]=e[A>>2],F=F0(1,r|0,S|0,s|0,k|0,F|0,f|0,D|0,T|0,M|0,N|0,I|0)|0,a=h,h=0,!(a&1))){if(F){if(m[c>>0]&1?(m[e[c+8>>2]>>0]=0,e[c+4>>2]=0):(m[c+1>>0]=0,m[c>>0]=0),m[D>>0]|0&&(h=0,t=Ce(e[(e[T>>2]|0)+28>>2]|0,T|0,45)|0,a=h,h=0,a&1||(h=0,de(67,c|0,t|0),a=h,h=0,a&1))||(h=0,A=Ce(e[(e[T>>2]|0)+28>>2]|0,T|0,48)|0,a=h,h=0,a&1))break;t=e[M>>2]|0,I=e[N>>2]|0,S=I+-1|0;t:do if(t>>>0<S>>>0)do{if((m[t>>0]|0)!=A<<24>>24)break t;t=t+1|0}while(t>>>0<S>>>0);while(!1);if(h=0,Oe(32,c|0,t|0,I|0)|0,c=h,h=0,c&1)break}t=e[r>>2]|0;do if(t){if((e[t+12>>2]|0)==(e[t+16>>2]|0)){if(h=0,t=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,c=h,h=0,c&1)break e;if((t|0)==-1){e[r>>2]=0,t=0;break}else{t=e[r>>2]|0;break}}}else t=0;while(!1);S=(t|0)==0;do if(z){if((e[q+12>>2]|0)==(e[q+16>>2]|0)){if(h=0,t=ce(e[(e[z>>2]|0)+36>>2]|0,q|0)|0,q=h,h=0,q&1)break e;if((t|0)==-1){e[o>>2]=0,K=29;break}}S||(K=30)}else K=29;while(!1);return(K|0)==29&&S&&(K=30),(K|0)==30&&(e[f>>2]=e[f>>2]|2),S=e[r>>2]|0,D0(B)|0,t=e[M>>2]|0,e[M>>2]=0,t|0&&(h=0,oe(e[Z>>2]|0,t|0),Z=h,h=0,Z&1)&&(Z=Q(0)|0,b0(Z)),b=L,S|0}while(!1);S=Q()|0,D0(B)|0,t=e[M>>2]|0,e[M>>2]=0,t?K=36:R=S}return(K|0)==36&&(h=0,oe(e[Z>>2]|0,t|0),Z=h,h=0,Z&1?(Z=Q(0)|0,b0(Z)):R=S),ne(R|0),0}function fh(t,r,o,s,a,f,c,S,A,I){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0,A=A|0,I=I|0;var T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0;K=b,b=b+112|0,T=K+100|0,k=K+88|0,D=K+76|0,F=K+64|0,N=K+52|0,z=K+48|0,q=K+36|0,B=K+24|0,L=K+12|0,M=K;do if(t)if(t=Ot(r,43828)|0,K0[e[(e[t>>2]|0)+44>>2]&127](T,t),M=e[T>>2]|0,m[o>>0]=M,m[o+1>>0]=M>>8,m[o+2>>0]=M>>16,m[o+3>>0]=M>>24,K0[e[(e[t>>2]|0)+32>>2]&127](k,t),m[A>>0]&1?(m[e[A+8>>2]>>0]=0,e[A+4>>2]=0):(m[A+1>>0]=0,m[A>>0]=0),h=0,de(91,A|0,0),o=h,h=0,o&1&&(o=Q(0)|0,b0(o)),e[A>>2]=e[k>>2],e[A+4>>2]=e[k+4>>2],e[A+8>>2]=e[k+8>>2],e[k>>2]=0,e[k+4>>2]=0,e[k+8>>2]=0,fe(k),K0[e[(e[t>>2]|0)+28>>2]&127](D,t),m[S>>0]&1?(m[e[S+8>>2]>>0]=0,e[S+4>>2]=0):(m[S+1>>0]=0,m[S>>0]=0),h=0,de(91,S|0,0),o=h,h=0,o&1&&(o=Q(0)|0,b0(o)),e[S>>2]=e[D>>2],e[S+4>>2]=e[D+4>>2],e[S+8>>2]=e[D+8>>2],e[D>>2]=0,e[D+4>>2]=0,e[D+8>>2]=0,fe(D),S=A0[e[(e[t>>2]|0)+12>>2]&127](t)|0,m[s>>0]=S,S=A0[e[(e[t>>2]|0)+16>>2]&127](t)|0,m[a>>0]=S,K0[e[(e[t>>2]|0)+20>>2]&127](F,t),m[f>>0]&1?(m[e[f+8>>2]>>0]=0,e[f+4>>2]=0):(m[f+1>>0]=0,m[f>>0]=0),h=0,de(91,f|0,0),a=h,h=0,a&1&&(a=Q(0)|0,b0(a)),e[f>>2]=e[F>>2],e[f+4>>2]=e[F+4>>2],e[f+8>>2]=e[F+8>>2],e[F>>2]=0,e[F+4>>2]=0,e[F+8>>2]=0,fe(F),K0[e[(e[t>>2]|0)+24>>2]&127](N,t),m[c>>0]&1?(m[e[c+8>>2]>>0]=0,e[c+4>>2]=0):(m[c+1>>0]=0,m[c>>0]=0),h=0,de(91,c|0,0),a=h,h=0,a&1)a=Q(0)|0,b0(a);else{e[c>>2]=e[N>>2],e[c+4>>2]=e[N+4>>2],e[c+8>>2]=e[N+8>>2],e[N>>2]=0,e[N+4>>2]=0,e[N+8>>2]=0,fe(N),R=A0[e[(e[t>>2]|0)+36>>2]&127](t)|0;break}else if(t=Ot(r,43764)|0,K0[e[(e[t>>2]|0)+44>>2]&127](z,t),z=e[z>>2]|0,m[o>>0]=z,m[o+1>>0]=z>>8,m[o+2>>0]=z>>16,m[o+3>>0]=z>>24,K0[e[(e[t>>2]|0)+32>>2]&127](q,t),m[A>>0]&1?(m[e[A+8>>2]>>0]=0,e[A+4>>2]=0):(m[A+1>>0]=0,m[A>>0]=0),h=0,de(91,A|0,0),o=h,h=0,o&1&&(o=Q(0)|0,b0(o)),e[A>>2]=e[q>>2],e[A+4>>2]=e[q+4>>2],e[A+8>>2]=e[q+8>>2],e[q>>2]=0,e[q+4>>2]=0,e[q+8>>2]=0,fe(q),K0[e[(e[t>>2]|0)+28>>2]&127](B,t),m[S>>0]&1?(m[e[S+8>>2]>>0]=0,e[S+4>>2]=0):(m[S+1>>0]=0,m[S>>0]=0),h=0,de(91,S|0,0),o=h,h=0,o&1&&(o=Q(0)|0,b0(o)),e[S>>2]=e[B>>2],e[S+4>>2]=e[B+4>>2],e[S+8>>2]=e[B+8>>2],e[B>>2]=0,e[B+4>>2]=0,e[B+8>>2]=0,fe(B),S=A0[e[(e[t>>2]|0)+12>>2]&127](t)|0,m[s>>0]=S,S=A0[e[(e[t>>2]|0)+16>>2]&127](t)|0,m[a>>0]=S,K0[e[(e[t>>2]|0)+20>>2]&127](L,t),m[f>>0]&1?(m[e[f+8>>2]>>0]=0,e[f+4>>2]=0):(m[f+1>>0]=0,m[f>>0]=0),h=0,de(91,f|0,0),a=h,h=0,a&1&&(a=Q(0)|0,b0(a)),e[f>>2]=e[L>>2],e[f+4>>2]=e[L+4>>2],e[f+8>>2]=e[L+8>>2],e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,fe(L),K0[e[(e[t>>2]|0)+24>>2]&127](M,t),m[c>>0]&1?(m[e[c+8>>2]>>0]=0,e[c+4>>2]=0):(m[c+1>>0]=0,m[c>>0]=0),h=0,de(91,c|0,0),a=h,h=0,a&1)a=Q(0)|0,b0(a);else{e[c>>2]=e[M>>2],e[c+4>>2]=e[M+4>>2],e[c+8>>2]=e[M+8>>2],e[M>>2]=0,e[M+4>>2]=0,e[M+8>>2]=0,fe(M),R=A0[e[(e[t>>2]|0)+36>>2]&127](t)|0;break}while(!1);e[I>>2]=R,b=K}function Bt(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0;a=m[t>>0]|0,c=t+4|0,f=e[c>>2]|0;e:do if((a&1?f:(a&255)>>>1)|0){if((r|0)!=(o|0)){if(a=o+-4|0,a>>>0>r>>>0){f=r;do S=e[f>>2]|0,e[f>>2]=e[a>>2],e[a>>2]=S,f=f+4|0,a=a+-4|0;while(f>>>0<a>>>0)}a=m[t>>0]|0,f=e[c>>2]|0}S=(a&1)==0,c=S?t+1|0:e[t+8>>2]|0,o=o+-4|0,t=c+(S?(a&255)>>>1:f)|0,f=m[c>>0]|0,a=f<<24>>24<1|f<<24>>24==127;t:do if(o>>>0>r>>>0){for(;!(!a&&(f<<24>>24|0)!=(e[r>>2]|0));)if(c=(t-c|0)>1?c+1|0:c,r=r+4|0,f=m[c>>0]|0,a=f<<24>>24<1|f<<24>>24==127,r>>>0>=o>>>0)break t;e[s>>2]=4;break e}while(!1);!a&&((e[o>>2]|0)+-1|0)>>>0>=f<<24>>24>>>0&&(e[s>>2]=4)}while(!1)}function hh(t){t=t|0}function dh(t){t=t|0,ue(t)}function ph(t,r,o,s,a,f,c){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0;var S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0,_e=0,Se=0;if(re=b,b=b+576|0,M=re+424|0,Z=re,t=re+24|0,se=re+16|0,R=re+12|0,ee=re+8|0,k=re+464|0,A=re+4|0,K=re+468|0,e[se>>2]=t,_e=se+4|0,e[_e>>2]=189,I=t+400|0,h=0,S=ce(68,a|0)|0,L=h,h=0,L&1)A=Q()|0,e[se>>2]=0,S=189,Se=47;else{e[ee>>2]=S,h=0,t=Ce(37,ee|0,44212)|0,L=h,h=0;e:do if(!(L&1)&&(m[k>>0]=0,e[A>>2]=e[o>>2],T=e[a+4>>2]|0,h=0,e[M>>2]=e[A>>2],T=F0(2,r|0,M|0,s|0,ee|0,T|0,f|0,k|0,t|0,se|0,R|0,I|0)|0,L=h,h=0,!(L&1))){t:do if(T){if(h=0,Pe(e[(e[t>>2]|0)+48>>2]|0,t|0,59007,59017,M|0)|0,L=h,h=0,L&1){Se=10;break e}A=e[R>>2]|0,I=e[se>>2]|0,t=A-I|0,(t|0)>392?(t=It((t>>2)+2|0)|0,S=t,t?Se=13:(h=0,_0(6),L=h,h=0,L&1||(t=0,Se=13))):(S=0,t=K,Se=13);do if((Se|0)==13){if(m[k>>0]|0&&(m[t>>0]=45,t=t+1|0),B=M+40|0,L=M,I>>>0<A>>>0){T=M+4|0,s=T+4|0,a=s+4|0,k=a+4|0,D=k+4|0,F=D+4|0,N=F+4|0,z=N+4|0,q=z+4|0;do{A=e[I>>2]|0;do if((e[M>>2]|0)!=(A|0))if((e[T>>2]|0)!=(A|0))if((e[s>>2]|0)!=(A|0))if((e[a>>2]|0)!=(A|0))if((e[k>>2]|0)==(A|0))A=k;else{if((e[D>>2]|0)==(A|0)){A=D;break}if((e[F>>2]|0)==(A|0)){A=F;break}if((e[N>>2]|0)==(A|0)){A=N;break}if((e[z>>2]|0)==(A|0)){A=z;break}A=(e[q>>2]|0)==(A|0)?q:B}else A=a;else A=s;else A=T;else A=M;while(!1);m[t>>0]=m[59007+(A-L>>2)>>0]|0,I=I+4|0,t=t+1|0}while(I>>>0<(e[R>>2]|0)>>>0)}if(m[t>>0]=0,e[Z>>2]=c,(Vs(K,58987,Z)|0)!=1&&(h=0,oe(190,58991),c=h,h=0,c&1))break;S&&Z0(S);break t}while(!1);if(t=Q()|0,!S){A=t,S=se;break e}Z0(S),A=t,S=se;break e}while(!1);t=e[r>>2]|0;do if(t){if(S=e[t+12>>2]|0,(S|0)==(e[t+16>>2]|0)){if(h=0,t=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,c=h,h=0,c&1){Se=10;break e}}else t=e[S>>2]|0;if((t|0)==-1){e[r>>2]=0,A=1;break}else{A=(e[r>>2]|0)==0;break}}else A=1;while(!1);t=e[o>>2]|0;do if(t){if(S=e[t+12>>2]|0,(S|0)==(e[t+16>>2]|0)){if(h=0,t=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,c=h,h=0,c&1){Se=10;break e}}else t=e[S>>2]|0;if((t|0)!=-1){if(A)break;Se=40;break}else{e[o>>2]=0,Se=38;break}}else Se=38;while(!1);return(Se|0)==38&&A&&(Se=40),(Se|0)==40&&(e[f>>2]=e[f>>2]|2),S=e[r>>2]|0,D0(e[ee>>2]|0)|0,t=e[se>>2]|0,e[se>>2]=0,t|0&&(h=0,oe(e[_e>>2]|0,t|0),Se=h,h=0,Se&1)&&(Se=Q(0)|0,b0(Se)),b=re,S|0}else Se=10;while(!1);(Se|0)==10&&(A=Q()|0,S=se),D0(e[ee>>2]|0)|0,t=e[S>>2]|0,e[S>>2]=0,t?(S=e[_e>>2]|0,Se=47):Te=A}return(Se|0)==47&&(h=0,oe(S|0,t|0),Se=h,h=0,Se&1?(Se=Q(0)|0,b0(Se)):Te=A),ne(Te|0),0}function mh(t,r,o,s,a,f,c,S,A,I,T){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0,A=A|0,I=I|0,T=T|0;var k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0,_e=0,Se=0,Ke=0,$0=0,R0=0,rt=0,X0=0,M0=0,l0=0,z0=0,s0=0,f0=0,yt=0,xt=0,pt=0,Me=0,d0=0,L0=0,lt=0,ot=0,ft=0;lt=b,b=b+512|0,R0=lt+96|0,k=lt+104|0,ft=lt+88|0,l0=lt+80|0,M0=lt+76|0,z0=lt+504|0,rt=lt+72|0,s0=lt+68|0,xt=lt+56|0,L0=lt+44|0,Me=lt+32|0,pt=lt+20|0,d0=lt+8|0,X0=lt+4|0,yt=lt,e[R0>>2]=T,e[ft>>2]=k,ot=ft+4|0,e[ot>>2]=189,e[l0>>2]=k,e[M0>>2]=k+400,e[xt>>2]=0,e[xt+4>>2]=0,e[xt+8>>2]=0,e[L0>>2]=0,e[L0+4>>2]=0,e[L0+8>>2]=0,e[Me>>2]=0,e[Me+4>>2]=0,e[Me+8>>2]=0,e[pt>>2]=0,e[pt+4>>2]=0,e[pt+8>>2]=0,e[d0>>2]=0,e[d0+4>>2]=0,e[d0+8>>2]=0,h=0,Tt(2,o|0,s|0,z0|0,rt|0,s0|0,xt|0,L0|0,Me|0,pt|0,X0|0),$0=h,h=0;e:do if($0&1)o=Q()|0;else{e[I>>2]=e[A>>2],_e=Me+4|0,Se=pt+4|0,Ke=pt+8|0,$0=Me+8|0,R=(a&512|0)!=0,K=L0+8|0,Z=L0+4|0,re=d0+4|0,ee=d0+8|0,se=z0+3|0,Te=xt+4|0,M=0,F=0;t:for(;;){T=e[t>>2]|0;do if(T){if(o=e[T+12>>2]|0,(o|0)==(e[T+16>>2]|0)){if(h=0,T=ce(e[(e[T>>2]|0)+36>>2]|0,T|0)|0,L=h,h=0,L&1){f0=26;break t}}else T=e[o>>2]|0;if((T|0)==-1){e[t>>2]=0,s=1;break}else{s=(e[t>>2]|0)==0;break}}else s=1;while(!1);o=e[r>>2]|0;do if(o){if(T=e[o+12>>2]|0,(T|0)==(e[o+16>>2]|0)){if(h=0,T=ce(e[(e[o>>2]|0)+36>>2]|0,o|0)|0,L=h,h=0,L&1){f0=26;break t}}else T=e[T>>2]|0;if((T|0)!=-1)if(s){L=o;break}else{N=k,f0=244;break t}else{e[r>>2]=0,f0=16;break}}else f0=16;while(!1);if((f0|0)==16)if(f0=0,s){N=k,f0=244;break}else L=0;i:do switch(m[z0+M>>0]|0){case 1:{if((M|0)!=3){if(T=e[t>>2]|0,o=e[T+12>>2]|0,(o|0)==(e[T+16>>2]|0)){if(h=0,T=ce(e[(e[T>>2]|0)+36>>2]|0,T|0)|0,f0=h,h=0,f0&1){f0=26;break t}}else T=e[o>>2]|0;if(h=0,T=Oe(e[(e[S>>2]|0)+12>>2]|0,S|0,8192,T|0)|0,f0=h,h=0,f0&1){f0=26;break t}if(!T){f0=42;break t}if(T=e[t>>2]|0,o=T+12|0,s=e[o>>2]|0,(s|0)==(e[T+16>>2]|0)){if(h=0,T=ce(e[(e[T>>2]|0)+40>>2]|0,T|0)|0,f0=h,h=0,f0&1){f0=26;break t}}else e[o>>2]=s+4,T=e[s>>2]|0;if(h=0,de(92,d0|0,T|0),f0=h,h=0,f0&1){f0=26;break t}else T=L,a=L,f0=44}else T=k;break}case 0:{(M|0)==3?T=k:(T=L,a=L,f0=44);break}case 3:{if(o=m[Me>>0]|0,T=o&1?e[_e>>2]|0:(o&255)>>>1,s=m[pt>>0]|0,a=s&1?e[Se>>2]|0:(s&255)>>>1,(T|0)==(0-a|0))T=k;else{if(!T){if(T=e[t>>2]|0,o=e[T+12>>2]|0,(o|0)==(e[T+16>>2]|0)){if(h=0,T=ce(e[(e[T>>2]|0)+36>>2]|0,T|0)|0,L=h,h=0,L&1){f0=26;break t}o=m[pt>>0]|0}else T=e[o>>2]|0,o=s;if((T|0)!=(e[(o&1?e[Ke>>2]|0:Se)>>2]|0)){T=k;break i}if(T=e[t>>2]|0,o=T+12|0,s=e[o>>2]|0,(s|0)==(e[T+16>>2]|0)){if(h=0,ce(e[(e[T>>2]|0)+40>>2]|0,T|0)|0,L=h,h=0,L&1){f0=26;break t}}else e[o>>2]=s+4;m[c>>0]=1,L=m[pt>>0]|0,T=k,F=(L&1?e[Se>>2]|0:(L&255)>>>1)>>>0>1?pt:F;break i}if(D=e[t>>2]|0,N=e[D+12>>2]|0,s=e[D+16>>2]|0,T=(N|0)==(s|0),!a){if(T){if(h=0,T=ce(e[(e[D>>2]|0)+36>>2]|0,D|0)|0,L=h,h=0,L&1){f0=26;break t}o=m[Me>>0]|0}else T=e[N>>2]|0;if((T|0)!=(e[(o&1?e[$0>>2]|0:_e)>>2]|0)){m[c>>0]=1,T=k;break i}if(T=e[t>>2]|0,o=T+12|0,s=e[o>>2]|0,(s|0)==(e[T+16>>2]|0)){if(h=0,ce(e[(e[T>>2]|0)+40>>2]|0,T|0)|0,L=h,h=0,L&1){f0=26;break t}}else e[o>>2]=s+4;L=m[Me>>0]|0,T=k,F=(L&1?e[_e>>2]|0:(L&255)>>>1)>>>0>1?Me:F;break i}if(T){if(h=0,T=ce(e[(e[D>>2]|0)+36>>2]|0,D|0)|0,L=h,h=0,L&1){f0=26;break t}s=e[t>>2]|0,o=m[Me>>0]|0,D=s,N=e[s+12>>2]|0,s=e[s+16>>2]|0}else T=e[N>>2]|0;if(a=D+12|0,s=(N|0)==(s|0),(T|0)==(e[(o&1?e[$0>>2]|0:_e)>>2]|0)){if(s){if(h=0,ce(e[(e[D>>2]|0)+40>>2]|0,D|0)|0,L=h,h=0,L&1){f0=26;break t}}else e[a>>2]=N+4;L=m[Me>>0]|0,T=k,F=(L&1?e[_e>>2]|0:(L&255)>>>1)>>>0>1?Me:F;break i}if(s){if(h=0,T=ce(e[(e[D>>2]|0)+36>>2]|0,D|0)|0,L=h,h=0,L&1){f0=26;break t}}else T=e[N>>2]|0;if((T|0)!=(e[(m[pt>>0]&1?e[Ke>>2]|0:Se)>>2]|0)){f0=107;break t}if(T=e[t>>2]|0,o=T+12|0,s=e[o>>2]|0,(s|0)==(e[T+16>>2]|0)){if(h=0,ce(e[(e[T>>2]|0)+40>>2]|0,T|0)|0,L=h,h=0,L&1){f0=26;break t}}else e[o>>2]=s+4;m[c>>0]=1,L=m[pt>>0]|0,T=k,F=(L&1?e[Se>>2]|0:(L&255)>>>1)>>>0>1?pt:F}break}case 2:{if(!(M>>>0<2|(F|0)!=0)&&!(R|(M|0)==2&(m[se>>0]|0)!=0)){T=k,F=0;break i}a=m[L0>>0]|0,s=e[K>>2]|0,o=a&1?s:Z,T=o;r:do if(M|0&&(P[z0+(M+-1)>>0]|0)<2){B=(a&1)==0;n:do if((o|0)!=((B?Z:s)+((B?(a&255)>>>1:e[Z>>2]|0)<<2)|0)){for(a=o;;){if(h=0,o=Oe(e[(e[S>>2]|0)+12>>2]|0,S|0,8192,e[a>>2]|0)|0,B=h,h=0,B&1){f0=23;break t}if(!o)break;if(a=a+4|0,T=a,o=m[L0>>0]|0,s=e[K>>2]|0,B=(o&1)==0,(a|0)==((B?Z:s)+((B?(o&255)>>>1:e[Z>>2]|0)<<2)|0)){a=o;break n}}a=m[L0>>0]|0,s=e[K>>2]|0}while(!1);if(N=a&1?s:Z,o=N,z=T-o>>2,q=m[d0>>0]|0,D=(q&1)==0,q=D?(q&255)>>>1:e[re>>2]|0,q>>>0>=z>>>0)if(D=D?re:e[ee>>2]|0,B=D+(q<<2)|0,!z)o=T;else for(D=D+(q-z<<2)|0;;){if((e[D>>2]|0)!=(e[N>>2]|0))break r;if(D=D+4|0,(D|0)==(B|0)){o=T;break}else N=N+4|0}}else o=T;while(!1);T=(a&1)==0,T=(T?Z:s)+((T?(a&255)>>>1:e[Z>>2]|0)<<2)|0;r:do if((o|0)!=(T|0))for(D=L,a=L,T=o;;){o=e[t>>2]|0;do if(o){if(s=e[o+12>>2]|0,(s|0)==(e[o+16>>2]|0)){if(h=0,o=ce(e[(e[o>>2]|0)+36>>2]|0,o|0)|0,L=h,h=0,L&1){f0=22;break t}}else o=e[s>>2]|0;if((o|0)==-1){e[t>>2]=0,s=1;break}else{s=(e[t>>2]|0)==0;break}}else s=1;while(!1);do if(a){if(o=e[a+12>>2]|0,(o|0)==(e[a+16>>2]|0)){if(h=0,o=ce(e[(e[a>>2]|0)+36>>2]|0,a|0)|0,L=h,h=0,L&1){f0=22;break t}}else o=e[o>>2]|0;if((o|0)!=-1)if(s^(D|0)==0){o=D,N=D;break}else break r;else{e[r>>2]=0,o=0,f0=136;break}}else o=D,f0=136;while(!1);if((f0|0)==136){if(f0=0,s)break r;N=0}if(s=e[t>>2]|0,a=e[s+12>>2]|0,(a|0)==(e[s+16>>2]|0)){if(h=0,s=ce(e[(e[s>>2]|0)+36>>2]|0,s|0)|0,L=h,h=0,L&1){f0=22;break t}}else s=e[a>>2]|0;if((s|0)!=(e[T>>2]|0))break r;if(s=e[t>>2]|0,a=s+12|0,D=e[a>>2]|0,(D|0)==(e[s+16>>2]|0)){if(h=0,ce(e[(e[s>>2]|0)+40>>2]|0,s|0)|0,L=h,h=0,L&1){f0=22;break t}}else e[a>>2]=D+4;if(T=T+4|0,s=m[L0>>0]|0,L=(s&1)==0,s=(L?Z:e[K>>2]|0)+((L?(s&255)>>>1:e[Z>>2]|0)<<2)|0,(T|0)==(s|0)){T=s;break}else D=o,a=N}while(!1);if(R&&(L=m[L0>>0]|0,B=(L&1)==0,(T|0)!=((B?Z:e[K>>2]|0)+((B?(L&255)>>>1:e[Z>>2]|0)<<2)|0))){f0=148;break t}else T=k;break}case 4:{q=e[s0>>2]|0,z=L,D=L,T=k,o=0;r:for(;;){s=e[t>>2]|0;do if(s){if(a=e[s+12>>2]|0,(a|0)==(e[s+16>>2]|0)){if(h=0,s=ce(e[(e[s>>2]|0)+36>>2]|0,s|0)|0,L=h,h=0,L&1){f0=25;break t}}else s=e[a>>2]|0;if((s|0)==-1){e[t>>2]=0,a=1;break}else{a=(e[t>>2]|0)==0;break}}else a=1;while(!1);do if(D){if(s=e[D+12>>2]|0,(s|0)==(e[D+16>>2]|0)){if(h=0,s=ce(e[(e[D>>2]|0)+36>>2]|0,D|0)|0,L=h,h=0,L&1){f0=25;break t}}else s=e[s>>2]|0;if((s|0)!=-1)if(a^(z|0)==0){s=z,N=z;break}else{k=z;break r}else{e[r>>2]=0,s=0,f0=162;break}}else s=z,f0=162;while(!1);if((f0|0)==162)if(f0=0,a){k=s;break}else N=0;if(a=e[t>>2]|0,k=e[a+12>>2]|0,(k|0)==(e[a+16>>2]|0)){if(h=0,a=ce(e[(e[a>>2]|0)+36>>2]|0,a|0)|0,L=h,h=0,L&1){f0=25;break t}}else a=e[k>>2]|0;if(h=0,k=Oe(e[(e[S>>2]|0)+12>>2]|0,S|0,2048,a|0)|0,L=h,h=0,L&1){f0=25;break t}if(k){if(k=e[I>>2]|0,(k|0)==(e[R0>>2]|0)){if(h=0,me(14,A|0,I|0,R0|0),L=h,h=0,L&1){f0=25;break t}k=e[I>>2]|0}e[I>>2]=k+4,e[k>>2]=a,o=o+1|0}else{if(L=m[xt>>0]|0,!((a|0)==(q|0)&(o|0?((L&1?e[Te>>2]|0:(L&255)>>>1)|0)!=0:0))){k=s;break}if((T|0)==(e[M0>>2]|0)){if(h=0,me(13,ft|0,l0|0,M0|0),L=h,h=0,L&1){f0=25;break t}T=e[l0>>2]|0}L=T+4|0,e[l0>>2]=L,e[T>>2]=o,T=L,o=0}if(a=e[t>>2]|0,k=a+12|0,D=e[k>>2]|0,(D|0)==(e[a+16>>2]|0))if(h=0,ce(e[(e[a>>2]|0)+40>>2]|0,a|0)|0,L=h,h=0,L&1){f0=25;break t}else{z=s,D=N;continue}else{e[k>>2]=D+4,z=s,D=N;continue}}if(o|0&&(e[ft>>2]|0)!=(T|0)){if((T|0)==(e[M0>>2]|0)){if(h=0,me(13,ft|0,l0|0,M0|0),L=h,h=0,L&1){f0=26;break t}T=e[l0>>2]|0}L=T+4|0,e[l0>>2]=L,e[T>>2]=o,T=L}if(N=e[X0>>2]|0,(N|0)>0){o=e[t>>2]|0;do if(o){if(s=e[o+12>>2]|0,(s|0)==(e[o+16>>2]|0)){if(h=0,o=ce(e[(e[o>>2]|0)+36>>2]|0,o|0)|0,L=h,h=0,L&1){f0=26;break t}}else o=e[s>>2]|0;if((o|0)==-1){e[t>>2]=0,s=1;break}else{s=(e[t>>2]|0)==0;break}}else s=1;while(!1);do if(k){if(o=e[k+12>>2]|0,(o|0)==(e[k+16>>2]|0)){if(h=0,o=ce(e[(e[k>>2]|0)+36>>2]|0,k|0)|0,L=h,h=0,L&1){f0=26;break t}}else o=e[o>>2]|0;if((o|0)!=-1){if(s)break;f0=206;break t}else{e[r>>2]=0,f0=200;break}}else f0=200;while(!1);if((f0|0)==200)if(f0=0,s){f0=206;break t}else k=0;if(o=e[t>>2]|0,s=e[o+12>>2]|0,(s|0)==(e[o+16>>2]|0)){if(h=0,o=ce(e[(e[o>>2]|0)+36>>2]|0,o|0)|0,L=h,h=0,L&1){f0=26;break t}}else o=e[s>>2]|0;if((o|0)!=(e[rt>>2]|0)){f0=206;break t}if(o=e[t>>2]|0,s=o+12|0,a=e[s>>2]|0,(a|0)==(e[o+16>>2]|0)){if(h=0,ce(e[(e[o>>2]|0)+40>>2]|0,o|0)|0,L=h,h=0,L&1){f0=26;break t}}else e[s>>2]=a+4;if((N|0)>0)for(D=k,a=k,z=N;;){o=e[t>>2]|0;do if(o){if(s=e[o+12>>2]|0,(s|0)==(e[o+16>>2]|0)){if(h=0,o=ce(e[(e[o>>2]|0)+36>>2]|0,o|0)|0,L=h,h=0,L&1){f0=24;break t}}else o=e[s>>2]|0;if((o|0)==-1){e[t>>2]=0,s=1;break}else{s=(e[t>>2]|0)==0;break}}else s=1;while(!1);do if(a){if(o=e[a+12>>2]|0,(o|0)==(e[a+16>>2]|0)){if(h=0,o=ce(e[(e[a>>2]|0)+36>>2]|0,a|0)|0,L=h,h=0,L&1){f0=24;break t}}else o=e[o>>2]|0;if((o|0)!=-1)if(s^(D|0)==0){o=D,N=D;break}else{f0=231;break t}else{e[r>>2]=0,o=0,f0=224;break}}else o=D,f0=224;while(!1);if((f0|0)==224)if(f0=0,s){f0=231;break t}else N=0;if(s=e[t>>2]|0,a=e[s+12>>2]|0,(a|0)==(e[s+16>>2]|0)){if(h=0,s=ce(e[(e[s>>2]|0)+36>>2]|0,s|0)|0,L=h,h=0,L&1){f0=24;break t}}else s=e[a>>2]|0;if(h=0,s=Oe(e[(e[S>>2]|0)+12>>2]|0,S|0,2048,s|0)|0,L=h,h=0,L&1){f0=24;break t}if(!s){f0=231;break t}if((e[I>>2]|0)==(e[R0>>2]|0)&&(h=0,me(14,A|0,I|0,R0|0),L=h,h=0,L&1)){f0=24;break t}if(s=e[t>>2]|0,a=e[s+12>>2]|0,(a|0)==(e[s+16>>2]|0)){if(h=0,s=ce(e[(e[s>>2]|0)+36>>2]|0,s|0)|0,L=h,h=0,L&1){f0=24;break t}}else s=e[a>>2]|0;if(a=e[I>>2]|0,e[I>>2]=a+4,e[a>>2]=s,s=z,z=z+-1|0,e[X0>>2]=z,a=e[t>>2]|0,k=a+12|0,D=e[k>>2]|0,(D|0)==(e[a+16>>2]|0)){if(h=0,ce(e[(e[a>>2]|0)+40>>2]|0,a|0)|0,L=h,h=0,L&1){f0=24;break t}}else e[k>>2]=D+4;if((s|0)<=1)break;D=o,a=N}}if((e[I>>2]|0)==(e[A>>2]|0)){f0=242;break t}break}default:T=k}while(!1);i:do if((f0|0)==44)for(;;){f0=0,o=e[t>>2]|0;do if(o){if(s=e[o+12>>2]|0,(s|0)==(e[o+16>>2]|0)){if(h=0,o=ce(e[(e[o>>2]|0)+36>>2]|0,o|0)|0,L=h,h=0,L&1){f0=21;break t}}else o=e[s>>2]|0;if((o|0)==-1){e[t>>2]=0,s=1;break}else{s=(e[t>>2]|0)==0;break}}else s=1;while(!1);do if(a){if(o=e[a+12>>2]|0,(o|0)==(e[a+16>>2]|0)){if(h=0,o=ce(e[(e[a>>2]|0)+36>>2]|0,a|0)|0,L=h,h=0,L&1){f0=21;break t}}else o=e[o>>2]|0;if((o|0)!=-1)if(s^(T|0)==0){D=T,a=T;break}else{T=k;break i}else{e[r>>2]=0,T=0,f0=57;break}}else f0=57;while(!1);if((f0|0)==57)if(f0=0,s){T=k;break i}else D=T,a=0;if(T=e[t>>2]|0,o=e[T+12>>2]|0,(o|0)==(e[T+16>>2]|0)){if(h=0,T=ce(e[(e[T>>2]|0)+36>>2]|0,T|0)|0,L=h,h=0,L&1){f0=21;break t}}else T=e[o>>2]|0;if(h=0,T=Oe(e[(e[S>>2]|0)+12>>2]|0,S|0,8192,T|0)|0,L=h,h=0,L&1){f0=21;break t}if(!T){T=k;break i}if(T=e[t>>2]|0,o=T+12|0,s=e[o>>2]|0,(s|0)==(e[T+16>>2]|0)){if(h=0,T=ce(e[(e[T>>2]|0)+40>>2]|0,T|0)|0,f0=h,h=0,f0&1){f0=21;break t}}else e[o>>2]=s+4,T=e[s>>2]|0;if(h=0,de(92,d0|0,T|0),f0=h,h=0,f0&1){f0=21;break t}else T=D,f0=44}while(!1);if(M=M+1|0,M>>>0>=4){N=T,f0=244;break}else k=T}t:switch(f0|0){case 21:{o=Q()|0;break e}case 22:{o=Q()|0;break e}case 23:{o=Q()|0;break e}case 24:{o=Q()|0;break e}case 25:{o=Q()|0;break e}case 26:{o=Q()|0;break e}case 42:{e[f>>2]=e[f>>2]|4,o=0;break}case 107:{e[f>>2]=e[f>>2]|4,o=0;break}case 148:{e[f>>2]=e[f>>2]|4,o=0;break}case 206:{e[f>>2]=e[f>>2]|4,o=0;break}case 231:{e[f>>2]=e[f>>2]|4,o=0;break}case 242:{e[f>>2]=e[f>>2]|4,o=0;break}case 244:{i:do if(F){k=F+4|0,D=F+8|0,a=1;r:for(;;){if(T=m[F>>0]|0,T&1?T=e[k>>2]|0:T=(T&255)>>>1,a>>>0>=T>>>0)break i;T=e[t>>2]|0;do if(T){if(o=e[T+12>>2]|0,(o|0)==(e[T+16>>2]|0)){if(h=0,T=ce(e[(e[T>>2]|0)+36>>2]|0,T|0)|0,I=h,h=0,I&1){f0=20;break r}}else T=e[o>>2]|0;if((T|0)==-1){e[t>>2]=0,s=1;break}else{s=(e[t>>2]|0)==0;break}}else s=1;while(!1);T=e[r>>2]|0;do if(T){if(o=e[T+12>>2]|0,(o|0)==(e[T+16>>2]|0)){if(h=0,T=ce(e[(e[T>>2]|0)+36>>2]|0,T|0)|0,I=h,h=0,I&1){f0=20;break r}}else T=e[o>>2]|0;if((T|0)!=-1){if(s)break;f0=271;break r}else{e[r>>2]=0,f0=263;break}}else f0=263;while(!1);if((f0|0)==263&&(f0=0,s)){f0=271;break}if(T=e[t>>2]|0,o=e[T+12>>2]|0,(o|0)==(e[T+16>>2]|0)){if(h=0,T=ce(e[(e[T>>2]|0)+36>>2]|0,T|0)|0,I=h,h=0,I&1){f0=20;break}}else T=e[o>>2]|0;if(m[F>>0]&1?o=e[D>>2]|0:o=k,(T|0)!=(e[o+(a<<2)>>2]|0)){f0=271;break}if(T=a+1|0,o=e[t>>2]|0,s=o+12|0,a=e[s>>2]|0,(a|0)==(e[o+16>>2]|0))if(h=0,ce(e[(e[o>>2]|0)+40>>2]|0,o|0)|0,I=h,h=0,I&1){f0=20;break}else{a=T;continue}else{e[s>>2]=a+4,a=T;continue}}if((f0|0)==20){o=Q()|0;break e}else if((f0|0)==271){e[f>>2]=e[f>>2]|4,o=0;break t}}while(!1);T=e[ft>>2]|0,(T|0)!=(N|0)&&(e[yt>>2]=0,Bt(xt,T,N,yt),(e[yt>>2]|0)!=0)?(e[f>>2]=e[f>>2]|4,o=0):o=1;break}}return E0(d0),E0(pt),E0(Me),E0(L0),fe(xt),T=e[ft>>2]|0,e[ft>>2]=0,T|0&&(h=0,oe(e[ot>>2]|0,T|0),ft=h,h=0,ft&1)&&(ft=Q(0)|0,b0(ft)),b=lt,o|0}while(!1);return E0(d0),E0(pt),E0(Me),E0(L0),fe(xt),T=e[ft>>2]|0,e[ft>>2]=0,T|0&&(h=0,oe(e[ot>>2]|0,T|0),ft=h,h=0,ft&1)&&(ft=Q(0)|0,b0(ft)),ne(o|0),0}function gh(t,r,o,s,a,f,c){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0;var S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0;if(L=b,b=b+432|0,S=L+424|0,t=L+24|0,R=L+16|0,N=L+8|0,k=L+4|0,D=L+428|0,A=L,e[R>>2]=t,Z=R+4|0,e[Z>>2]=189,I=t+400|0,h=0,B=ce(68,a|0)|0,T=h,h=0,T&1)S=Q()|0,e[R>>2]=0,K=38;else{e[k>>2]=B,h=0,T=Ce(37,k|0,44212)|0,t=h,h=0;e:do if(!(t&1)&&(m[D>>0]=0,z=e[o>>2]|0,e[A>>2]=z,F=e[a+4>>2]|0,q=z,h=0,e[S>>2]=e[A>>2],F=F0(2,r|0,S|0,s|0,k|0,F|0,f|0,D|0,T|0,R|0,N|0,I|0)|0,a=h,h=0,!(a&1))){if(F){if(m[c>>0]&1?e[e[c+8>>2]>>2]=0:m[c>>0]=0,e[c+4>>2]=0,m[D>>0]|0&&(h=0,t=Ce(e[(e[T>>2]|0)+44>>2]|0,T|0,45)|0,a=h,h=0,a&1||(h=0,de(92,c|0,t|0),a=h,h=0,a&1))||(h=0,A=Ce(e[(e[T>>2]|0)+44>>2]|0,T|0,48)|0,a=h,h=0,a&1))break;t=e[R>>2]|0,I=e[N>>2]|0,S=I+-4|0;t:do if(t>>>0<S>>>0)do{if((e[t>>2]|0)!=(A|0))break t;t=t+4|0}while(t>>>0<S>>>0);while(!1);if(h=0,Oe(33,c|0,t|0,I|0)|0,c=h,h=0,c&1)break}t=e[r>>2]|0;do if(t){if(S=e[t+12>>2]|0,(S|0)==(e[t+16>>2]|0)){if(h=0,t=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,c=h,h=0,c&1)break e}else t=e[S>>2]|0;if((t|0)==-1){e[r>>2]=0,S=1;break}else{S=(e[r>>2]|0)==0;break}}else S=1;while(!1);do if(z){if(t=e[q+12>>2]|0,(t|0)==(e[q+16>>2]|0)){if(h=0,t=ce(e[(e[z>>2]|0)+36>>2]|0,q|0)|0,q=h,h=0,q&1)break e}else t=e[t>>2]|0;if((t|0)!=-1){if(S)break;K=32;break}else{e[o>>2]=0,K=30;break}}else K=30;while(!1);return(K|0)==30&&S&&(K=32),(K|0)==32&&(e[f>>2]=e[f>>2]|2),S=e[r>>2]|0,D0(B)|0,t=e[R>>2]|0,e[R>>2]=0,t|0&&(h=0,oe(e[Z>>2]|0,t|0),Z=h,h=0,Z&1)&&(Z=Q(0)|0,b0(Z)),b=L,S|0}while(!1);S=Q()|0,D0(B)|0,t=e[R>>2]|0,e[R>>2]=0,t?K=38:M=S}return(K|0)==38&&(h=0,oe(e[Z>>2]|0,t|0),Z=h,h=0,Z&1?(Z=Q(0)|0,b0(Z)):M=S),ne(M|0),0}function vh(t,r,o,s,a,f,c,S,A,I){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0,A=A|0,I=I|0;var T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0;K=b,b=b+112|0,T=K+100|0,k=K+88|0,D=K+76|0,F=K+64|0,N=K+52|0,z=K+48|0,q=K+36|0,B=K+24|0,L=K+12|0,M=K;do if(t)if(t=Ot(r,43956)|0,K0[e[(e[t>>2]|0)+44>>2]&127](T,t),M=e[T>>2]|0,m[o>>0]=M,m[o+1>>0]=M>>8,m[o+2>>0]=M>>16,m[o+3>>0]=M>>24,K0[e[(e[t>>2]|0)+32>>2]&127](k,t),m[A>>0]&1?e[e[A+8>>2]>>2]=0:m[A>>0]=0,e[A+4>>2]=0,h=0,de(93,A|0,0),o=h,h=0,o&1&&(o=Q(0)|0,b0(o)),e[A>>2]=e[k>>2],e[A+4>>2]=e[k+4>>2],e[A+8>>2]=e[k+8>>2],e[k>>2]=0,e[k+4>>2]=0,e[k+8>>2]=0,E0(k),K0[e[(e[t>>2]|0)+28>>2]&127](D,t),m[S>>0]&1?e[e[S+8>>2]>>2]=0:m[S>>0]=0,e[S+4>>2]=0,h=0,de(93,S|0,0),o=h,h=0,o&1&&(o=Q(0)|0,b0(o)),e[S>>2]=e[D>>2],e[S+4>>2]=e[D+4>>2],e[S+8>>2]=e[D+8>>2],e[D>>2]=0,e[D+4>>2]=0,e[D+8>>2]=0,E0(D),S=A0[e[(e[t>>2]|0)+12>>2]&127](t)|0,e[s>>2]=S,S=A0[e[(e[t>>2]|0)+16>>2]&127](t)|0,e[a>>2]=S,K0[e[(e[t>>2]|0)+20>>2]&127](F,t),m[f>>0]&1?(m[e[f+8>>2]>>0]=0,e[f+4>>2]=0):(m[f+1>>0]=0,m[f>>0]=0),h=0,de(91,f|0,0),a=h,h=0,a&1&&(a=Q(0)|0,b0(a)),e[f>>2]=e[F>>2],e[f+4>>2]=e[F+4>>2],e[f+8>>2]=e[F+8>>2],e[F>>2]=0,e[F+4>>2]=0,e[F+8>>2]=0,fe(F),K0[e[(e[t>>2]|0)+24>>2]&127](N,t),m[c>>0]&1?e[e[c+8>>2]>>2]=0:m[c>>0]=0,e[c+4>>2]=0,h=0,de(93,c|0,0),a=h,h=0,a&1)a=Q(0)|0,b0(a);else{e[c>>2]=e[N>>2],e[c+4>>2]=e[N+4>>2],e[c+8>>2]=e[N+8>>2],e[N>>2]=0,e[N+4>>2]=0,e[N+8>>2]=0,E0(N),R=A0[e[(e[t>>2]|0)+36>>2]&127](t)|0;break}else if(t=Ot(r,43892)|0,K0[e[(e[t>>2]|0)+44>>2]&127](z,t),z=e[z>>2]|0,m[o>>0]=z,m[o+1>>0]=z>>8,m[o+2>>0]=z>>16,m[o+3>>0]=z>>24,K0[e[(e[t>>2]|0)+32>>2]&127](q,t),m[A>>0]&1?e[e[A+8>>2]>>2]=0:m[A>>0]=0,e[A+4>>2]=0,h=0,de(93,A|0,0),o=h,h=0,o&1&&(o=Q(0)|0,b0(o)),e[A>>2]=e[q>>2],e[A+4>>2]=e[q+4>>2],e[A+8>>2]=e[q+8>>2],e[q>>2]=0,e[q+4>>2]=0,e[q+8>>2]=0,E0(q),K0[e[(e[t>>2]|0)+28>>2]&127](B,t),m[S>>0]&1?e[e[S+8>>2]>>2]=0:m[S>>0]=0,e[S+4>>2]=0,h=0,de(93,S|0,0),o=h,h=0,o&1&&(o=Q(0)|0,b0(o)),e[S>>2]=e[B>>2],e[S+4>>2]=e[B+4>>2],e[S+8>>2]=e[B+8>>2],e[B>>2]=0,e[B+4>>2]=0,e[B+8>>2]=0,E0(B),S=A0[e[(e[t>>2]|0)+12>>2]&127](t)|0,e[s>>2]=S,S=A0[e[(e[t>>2]|0)+16>>2]&127](t)|0,e[a>>2]=S,K0[e[(e[t>>2]|0)+20>>2]&127](L,t),m[f>>0]&1?(m[e[f+8>>2]>>0]=0,e[f+4>>2]=0):(m[f+1>>0]=0,m[f>>0]=0),h=0,de(91,f|0,0),a=h,h=0,a&1&&(a=Q(0)|0,b0(a)),e[f>>2]=e[L>>2],e[f+4>>2]=e[L+4>>2],e[f+8>>2]=e[L+8>>2],e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,fe(L),K0[e[(e[t>>2]|0)+24>>2]&127](M,t),m[c>>0]&1?e[e[c+8>>2]>>2]=0:m[c>>0]=0,e[c+4>>2]=0,h=0,de(93,c|0,0),a=h,h=0,a&1)a=Q(0)|0,b0(a);else{e[c>>2]=e[M>>2],e[c+4>>2]=e[M+4>>2],e[c+8>>2]=e[M+8>>2],e[M>>2]=0,e[M+4>>2]=0,e[M+8>>2]=0,E0(M),R=A0[e[(e[t>>2]|0)+36>>2]&127](t)|0;break}while(!1);e[I>>2]=R,b=K}function Sh(t){t=t|0}function wh(t){t=t|0,ue(t)}function Ah(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=+f;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0,_e=0,Se=0,Ke=0;ee=b,b=b+384|0,q=ee+8|0,c=ee,A=ee+284|0,I=ee+72|0,S=ee+184|0,Te=ee+68|0,K=ee+80|0,L=ee+77|0,Z=ee+76|0,_e=ee+56|0,Ke=ee+44|0,Se=ee+32|0,T=ee+28|0,z=ee+84|0,R=ee+24|0,M=ee+20|0,B=ee+16|0,e[I>>2]=A,V[q>>3]=f,A=Us(A,100,59018,q)|0;do if(A>>>0>99)if(h=0,t=ve(3)|0,re=h,h=0,!(re&1)&&(h=0,V[c>>3]=f,F=Pe(17,I|0,t|0,59018,c|0)|0,re=h,h=0,!(re&1))){if(t=e[I>>2]|0,!t){if(h=0,_0(6),re=h,h=0,re&1){t=0,c=0,re=7;break}t=e[I>>2]|0}S=It(F)|0,c=S,S?(N=S,re=10):(h=0,_0(6),re=h,h=0,re&1?re=7:(N=0,re=10))}else t=0,c=0,re=7;else c=0,t=0,N=S,F=A,re=10;while(!1);if((re|0)==10)if(h=0,S=ce(68,s|0)|0,D=h,h=0,D&1)re=7;else{if(e[Te>>2]=S,h=0,D=Ce(37,Te|0,44220)|0,k=h,h=0,!(k&1)&&(k=e[I>>2]|0,h=0,Pe(e[(e[D>>2]|0)+32>>2]|0,D|0,k|0,k+F|0,N|0)|0,k=h,h=0,!(k&1))){if(F?k=(m[e[I>>2]>>0]|0)==45:k=0,e[_e>>2]=0,e[_e+4>>2]=0,e[_e+8>>2]=0,e[Ke>>2]=0,e[Ke+4>>2]=0,e[Ke+8>>2]=0,e[Se>>2]=0,e[Se+4>>2]=0,e[Se+8>>2]=0,h=0,Tt(3,o|0,k|0,Te|0,K|0,L|0,Z|0,_e|0,Ke|0,Se|0,T|0),o=h,h=0,o&1)A=Q()|0;else{if(T=e[T>>2]|0,(F|0)>(T|0)?(o=m[Se>>0]|0,A=m[Ke>>0]|0,A=(F-T<<1|1)+T+(o&1?e[Se+4>>2]|0:(o&255)>>>1)+(A&1?e[Ke+4>>2]|0:(A&255)>>>1)|0):(o=m[Se>>0]|0,A=m[Ke>>0]|0,A=T+2+(o&1?e[Se+4>>2]|0:(o&255)>>>1)+(A&1?e[Ke+4>>2]|0:(A&255)>>>1)|0),A>>>0>100?(A=It(A)|0,I=A,A?re=26:(h=0,_0(6),z=h,h=0,z&1||(A=0,re=26))):(I=0,A=z,re=26),(re|0)==26&&(h=0,W0(1,A|0,R|0,M|0,e[s+4>>2]|0,N|0,N+F|0,D|0,k|0,K|0,m[L>>0]|0,m[Z>>0]|0,_e|0,Ke|0,Se|0,T|0),Z=h,h=0,!(Z&1)&&(e[B>>2]=e[r>>2],r=e[R>>2]|0,se=e[M>>2]|0,h=0,e[q>>2]=e[B>>2],se=P0(39,q|0,A|0,r|0,se|0,s|0,a|0)|0,r=h,h=0,!(r&1))))return I&&(Z0(I),S=e[Te>>2]|0),fe(Se),fe(Ke),fe(_e),D0(S)|0,c&&Z0(c),t&&Z0(t),b=ee,se|0;A=Q()|0,I&&(Z0(I),S=e[Te>>2]|0)}fe(Se),fe(Ke),fe(_e)}else A=Q()|0;D0(S)|0}return(re|0)==7&&(A=Q()|0),c&&Z0(c),t&&Z0(t),ne(A|0),0}function yh(t,r,o,s,a,f,c,S,A,I){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0,A=A|0,I=I|0;var T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0;se=b,b=b+112|0,D=se+108|0,F=se+96|0,q=se+92|0,B=se+80|0,L=se+68|0,M=se+56|0,R=se+52|0,K=se+40|0,Z=se+36|0,re=se+24|0,N=se+12|0,z=se;do if(t){t=Ot(o,43828)|0,o=e[t>>2]|0;do if(r)if(K0[e[o+44>>2]&127](D,t),r=e[D>>2]|0,m[s>>0]=r,m[s+1>>0]=r>>8,m[s+2>>0]=r>>16,m[s+3>>0]=r>>24,K0[e[(e[t>>2]|0)+32>>2]&127](F,t),m[A>>0]&1?(m[e[A+8>>2]>>0]=0,e[A+4>>2]=0):(m[A+1>>0]=0,m[A>>0]=0),h=0,de(91,A|0,0),s=h,h=0,s&1)A=Q(0)|0,b0(A);else{e[A>>2]=e[F>>2],e[A+4>>2]=e[F+4>>2],e[A+8>>2]=e[F+8>>2],e[F>>2]=0,e[F+4>>2]=0,e[F+8>>2]=0,fe(F),k=t;break}else if(K0[e[o+40>>2]&127](q,t),r=e[q>>2]|0,m[s>>0]=r,m[s+1>>0]=r>>8,m[s+2>>0]=r>>16,m[s+3>>0]=r>>24,K0[e[(e[t>>2]|0)+28>>2]&127](B,t),m[A>>0]&1?(m[e[A+8>>2]>>0]=0,e[A+4>>2]=0):(m[A+1>>0]=0,m[A>>0]=0),h=0,de(91,A|0,0),s=h,h=0,s&1)A=Q(0)|0,b0(A);else{e[A>>2]=e[B>>2],e[A+4>>2]=e[B+4>>2],e[A+8>>2]=e[B+8>>2],e[B>>2]=0,e[B+4>>2]=0,e[B+8>>2]=0,fe(B),k=t;break}while(!1);if(A=A0[e[(e[t>>2]|0)+12>>2]&127](t)|0,m[a>>0]=A,A=A0[e[(e[t>>2]|0)+16>>2]&127](t)|0,m[f>>0]=A,K0[e[(e[k>>2]|0)+20>>2]&127](L,t),m[c>>0]&1?(m[e[c+8>>2]>>0]=0,e[c+4>>2]=0):(m[c+1>>0]=0,m[c>>0]=0),h=0,de(91,c|0,0),f=h,h=0,f&1&&(f=Q(0)|0,b0(f)),e[c>>2]=e[L>>2],e[c+4>>2]=e[L+4>>2],e[c+8>>2]=e[L+8>>2],e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,fe(L),K0[e[(e[k>>2]|0)+24>>2]&127](M,t),m[S>>0]&1?(m[e[S+8>>2]>>0]=0,e[S+4>>2]=0):(m[S+1>>0]=0,m[S>>0]=0),h=0,de(91,S|0,0),f=h,h=0,f&1)f=Q(0)|0,b0(f);else{e[S>>2]=e[M>>2],e[S+4>>2]=e[M+4>>2],e[S+8>>2]=e[M+8>>2],e[M>>2]=0,e[M+4>>2]=0,e[M+8>>2]=0,fe(M),ee=A0[e[(e[t>>2]|0)+36>>2]&127](t)|0;break}}else{t=Ot(o,43764)|0,o=e[t>>2]|0;do if(r)if(K0[e[o+44>>2]&127](R,t),r=e[R>>2]|0,m[s>>0]=r,m[s+1>>0]=r>>8,m[s+2>>0]=r>>16,m[s+3>>0]=r>>24,K0[e[(e[t>>2]|0)+32>>2]&127](K,t),m[A>>0]&1?(m[e[A+8>>2]>>0]=0,e[A+4>>2]=0):(m[A+1>>0]=0,m[A>>0]=0),h=0,de(91,A|0,0),s=h,h=0,s&1)A=Q(0)|0,b0(A);else{e[A>>2]=e[K>>2],e[A+4>>2]=e[K+4>>2],e[A+8>>2]=e[K+8>>2],e[K>>2]=0,e[K+4>>2]=0,e[K+8>>2]=0,fe(K),T=t;break}else if(K0[e[o+40>>2]&127](Z,t),r=e[Z>>2]|0,m[s>>0]=r,m[s+1>>0]=r>>8,m[s+2>>0]=r>>16,m[s+3>>0]=r>>24,K0[e[(e[t>>2]|0)+28>>2]&127](re,t),m[A>>0]&1?(m[e[A+8>>2]>>0]=0,e[A+4>>2]=0):(m[A+1>>0]=0,m[A>>0]=0),h=0,de(91,A|0,0),s=h,h=0,s&1)A=Q(0)|0,b0(A);else{e[A>>2]=e[re>>2],e[A+4>>2]=e[re+4>>2],e[A+8>>2]=e[re+8>>2],e[re>>2]=0,e[re+4>>2]=0,e[re+8>>2]=0,fe(re),T=t;break}while(!1);if(A=A0[e[(e[t>>2]|0)+12>>2]&127](t)|0,m[a>>0]=A,A=A0[e[(e[t>>2]|0)+16>>2]&127](t)|0,m[f>>0]=A,K0[e[(e[T>>2]|0)+20>>2]&127](N,t),m[c>>0]&1?(m[e[c+8>>2]>>0]=0,e[c+4>>2]=0):(m[c+1>>0]=0,m[c>>0]=0),h=0,de(91,c|0,0),f=h,h=0,f&1&&(f=Q(0)|0,b0(f)),e[c>>2]=e[N>>2],e[c+4>>2]=e[N+4>>2],e[c+8>>2]=e[N+8>>2],e[N>>2]=0,e[N+4>>2]=0,e[N+8>>2]=0,fe(N),K0[e[(e[T>>2]|0)+24>>2]&127](z,t),m[S>>0]&1?(m[e[S+8>>2]>>0]=0,e[S+4>>2]=0):(m[S+1>>0]=0,m[S>>0]=0),h=0,de(91,S|0,0),f=h,h=0,f&1)f=Q(0)|0,b0(f);else{e[S>>2]=e[z>>2],e[S+4>>2]=e[z+4>>2],e[S+8>>2]=e[z+8>>2],e[z>>2]=0,e[z+4>>2]=0,e[z+8>>2]=0,fe(z),ee=A0[e[(e[t>>2]|0)+36>>2]&127](t)|0;break}}while(!1);e[I>>2]=ee,b=se}function _h(t,r,o,s,a,f,c,S,A,I,T,k,D,F,N){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0,A=A|0,I=I|0,T=T|0,k=k|0,D=D|0,F=F|0,N=N|0;var z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0,_e=0,Se=0,Ke=0,$0=0,R0=0,rt=0,X0=0,M0=0,l0=0,z0=0,s0=0,f0=0;e[o>>2]=t,z0=F+4|0,s0=F+8|0,f0=F+1|0,$0=D+4|0,R0=(s&512|0)==0,rt=D+8|0,X0=D+1|0,M0=c+8|0,l0=(N|0)>0,re=k+4|0,ee=k+8|0,se=k+1|0,Te=N+1|0,Se=-2-N-((N|0)<0?~N:-1)|0,Ke=(N|0)>0,Z=0;do{switch(m[A+Z>>0]|0){case 0:{e[r>>2]=e[o>>2];break}case 1:{e[r>>2]=e[o>>2],R=Ut[e[(e[c>>2]|0)+28>>2]&63](c,32)|0,K=e[o>>2]|0,e[o>>2]=K+1,m[K>>0]=R;break}case 3:{K=m[F>>0]|0,z=(K&1)==0,(z?(K&255)>>>1:e[z0>>2]|0)|0&&(R=m[(z?f0:e[s0>>2]|0)>>0]|0,K=e[o>>2]|0,e[o>>2]=K+1,m[K>>0]=R);break}case 2:{if(B=m[D>>0]|0,z=(B&1)==0,B=z?(B&255)>>>1:e[$0>>2]|0,!(R0|(B|0)==0)){if(q=z?X0:e[rt>>2]|0,L=q+B|0,z=e[o>>2]|0,B)do m[z>>0]=m[q>>0]|0,q=q+1|0,z=z+1|0;while((q|0)!=(L|0));e[o>>2]=z}break}case 4:{z=e[o>>2]|0,a=S?a+1|0:a,M=a,L=e[M0>>2]|0;e:do if(a>>>0<f>>>0){q=a;do{if(B=m[q>>0]|0,B<<24>>24<=-1||!(y[L+(B<<24>>24<<1)>>1]&2048))break e;q=q+1|0}while(q>>>0<f>>>0)}else q=a;while(!1);if(B=q,l0){if(R=-2-B-~(B>>>0>M>>>0?M:B)|0,R=Se>>>0>R>>>0?Se:R,q>>>0>a>>>0&Ke)for(B=q,M=N;B=B+-1|0,K=m[B>>0]|0,L=e[o>>2]|0,e[o>>2]=L+1,m[L>>0]=K,L=(M|0)>1,B>>>0>a>>>0&L;)M=M+-1|0;else L=Ke;if(K=Te+R|0,B=q+(R+1)|0,L?M=Ut[e[(e[c>>2]|0)+28>>2]&63](c,48)|0:M=0,q=e[o>>2]|0,e[o>>2]=q+1,(K|0)>0)for(L=K;m[q>>0]=M,q=e[o>>2]|0,e[o>>2]=q+1,(L|0)>1;)L=L+-1|0;m[q>>0]=I}else B=q;if((B|0)!=(a|0)){if(K=m[k>>0]|0,q=(K&1)==0,(q?(K&255)>>>1:e[re>>2]|0)|0?q=m[(q?se:e[ee>>2]|0)>>0]|0:q=-1,(B|0)!=(a|0))for(L=0,M=0;(M|0)==(q|0)&&(K=e[o>>2]|0,e[o>>2]=K+1,m[K>>0]=T,L=L+1|0,K=m[k>>0]|0,q=(K&1)==0,L>>>0<(q?(K&255)>>>1:e[re>>2]|0)>>>0?(q=m[(q?se:e[ee>>2]|0)+L>>0]|0,q=q<<24>>24==127?-1:q<<24>>24,M=0):(q=M,M=0)),B=B+-1|0,R=m[B>>0]|0,K=e[o>>2]|0,e[o>>2]=K+1,m[K>>0]=R,(B|0)!=(a|0);)M=M+1|0}else R=Ut[e[(e[c>>2]|0)+28>>2]&63](c,48)|0,K=e[o>>2]|0,e[o>>2]=K+1,m[K>>0]=R;if(q=e[o>>2]|0,(z|0)!=(q|0)&&(_e=q+-1|0,z>>>0<_e>>>0)){q=_e;do K=m[z>>0]|0,m[z>>0]=m[q>>0]|0,m[q>>0]=K,z=z+1|0,q=q+-1|0;while(z>>>0<q>>>0)}break}default:}Z=Z+1|0}while((Z|0)!=4);if(q=m[F>>0]|0,a=(q&1)==0,q=a?(q&255)>>>1:e[z0>>2]|0,q>>>0>1){if(z=a?f0:e[s0>>2]|0,B=z+q|0,a=e[o>>2]|0,(q|0)!=1){z=z+1|0;do m[a>>0]=m[z>>0]|0,a=a+1|0,z=z+1|0;while((z|0)!=(B|0))}e[o>>2]=a}switch(s&176|0){case 32:{e[r>>2]=e[o>>2];break}case 16:break;default:e[r>>2]=t}}function xh(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0,_e=0,Se=0;K=b,b=b+176|0,F=K+56|0,re=K+52|0,M=K+64|0,q=K+61|0,R=K+60|0,ee=K+40|0,Te=K+28|0,se=K+16|0,I=K+12|0,D=K+68|0,L=K+8|0,B=K+4|0,N=K,t=ut(s)|0,e[re>>2]=t,h=0,z=Ce(37,re|0,44220)|0,k=h,h=0;do if(k&1)_e=13;else{if(T=m[f>>0]|0,c=(T&1)==0,k=f+4|0,!((c?(T&255)>>>1:e[k>>2]|0)|0))T=0;else{if(c=m[(c?f+1|0:e[f+8>>2]|0)>>0]|0,h=0,S=Ce(e[(e[z>>2]|0)+28>>2]|0,z|0,45)|0,T=h,h=0,T&1){_e=13;break}T=c<<24>>24==S<<24>>24}if(e[ee>>2]=0,e[ee+4>>2]=0,e[ee+8>>2]=0,e[Te>>2]=0,e[Te+4>>2]=0,e[Te+8>>2]=0,e[se>>2]=0,e[se+4>>2]=0,e[se+8>>2]=0,h=0,Tt(3,o|0,T|0,re|0,M|0,q|0,R|0,ee|0,Te|0,se|0,I|0),A=h,h=0,A&1)c=Q()|0;else{if(A=m[f>>0]|0,o=e[k>>2]|0,c=A&1?o:(A&255)>>>1,I=e[I>>2]|0,(c|0)>(I|0)?(Se=m[se>>0]|0,S=m[Te>>0]|0,c=(c-I<<1|1)+I+(Se&1?e[se+4>>2]|0:(Se&255)>>>1)+(S&1?e[Te+4>>2]|0:(S&255)>>>1)|0):(Se=m[se>>0]|0,c=m[Te>>0]|0,c=I+2+(Se&1?e[se+4>>2]|0:(Se&255)>>>1)+(c&1?e[Te+4>>2]|0:(c&255)>>>1)|0),c>>>0>100?(c=It(c)|0,S=c,c?_e=17:(h=0,_0(6),Se=h,h=0,Se&1||(A=m[f>>0]|0,o=e[k>>2]|0,c=0,_e=17))):(S=0,c=D,_e=17),(_e|0)==17&&(Se=(A&1)==0,f=Se?f+1|0:e[f+8>>2]|0,h=0,W0(1,c|0,L|0,B|0,e[s+4>>2]|0,f|0,f+(Se?(A&255)>>>1:o)|0,z|0,T|0,M|0,m[q>>0]|0,m[R>>0]|0,ee|0,Te|0,se|0,I|0),Se=h,h=0,!(Se&1)&&(e[N>>2]=e[r>>2],Se=e[L>>2]|0,Z=e[B>>2]|0,h=0,e[F>>2]=e[N>>2],Z=P0(39,F|0,c|0,Se|0,Z|0,s|0,a|0)|0,Se=h,h=0,!(Se&1))))return S&&(Z0(S),t=e[re>>2]|0),fe(se),fe(Te),fe(ee),D0(t)|0,b=K,Z|0;c=Q()|0,S&&(Z0(S),t=e[re>>2]|0)}fe(se),fe(Te),fe(ee)}while(!1);return(_e|0)==13&&(c=Q()|0),D0(t)|0,ne(c|0),0}function Th(t){t=t|0}function Ih(t){t=t|0,ue(t)}function Ch(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=+f;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0,_e=0,Se=0,Ke=0;ee=b,b=b+992|0,q=ee+8|0,c=ee,A=ee+888|0,I=ee+880|0,S=ee+480|0,Te=ee+76|0,K=ee+884|0,L=ee+72|0,Z=ee+68|0,_e=ee+56|0,Ke=ee+44|0,Se=ee+32|0,T=ee+28|0,z=ee+80|0,R=ee+24|0,M=ee+20|0,B=ee+16|0,e[I>>2]=A,V[q>>3]=f,A=Us(A,100,59018,q)|0;do if(A>>>0>99)if(h=0,t=ve(3)|0,re=h,h=0,!(re&1)&&(h=0,V[c>>3]=f,F=Pe(17,I|0,t|0,59018,c|0)|0,re=h,h=0,!(re&1))){if(t=e[I>>2]|0,!t){if(h=0,_0(6),re=h,h=0,re&1){t=0,c=0,re=7;break}t=e[I>>2]|0}S=It(F<<2)|0,c=S,S?(N=S,re=10):(h=0,_0(6),re=h,h=0,re&1?re=7:(N=0,re=10))}else t=0,c=0,re=7;else c=0,t=0,N=S,F=A,re=10;while(!1);if((re|0)==10)if(h=0,S=ce(68,s|0)|0,D=h,h=0,D&1)re=7;else{if(e[Te>>2]=S,h=0,D=Ce(37,Te|0,44212)|0,k=h,h=0,!(k&1)&&(k=e[I>>2]|0,h=0,Pe(e[(e[D>>2]|0)+48>>2]|0,D|0,k|0,k+F|0,N|0)|0,k=h,h=0,!(k&1))){if(F?k=(m[e[I>>2]>>0]|0)==45:k=0,e[_e>>2]=0,e[_e+4>>2]=0,e[_e+8>>2]=0,e[Ke>>2]=0,e[Ke+4>>2]=0,e[Ke+8>>2]=0,e[Se>>2]=0,e[Se+4>>2]=0,e[Se+8>>2]=0,h=0,Tt(4,o|0,k|0,Te|0,K|0,L|0,Z|0,_e|0,Ke|0,Se|0,T|0),o=h,h=0,o&1)A=Q()|0;else{if(T=e[T>>2]|0,(F|0)>(T|0)?(o=m[Se>>0]|0,A=m[Ke>>0]|0,A=(F-T<<1|1)+T+(o&1?e[Se+4>>2]|0:(o&255)>>>1)+(A&1?e[Ke+4>>2]|0:(A&255)>>>1)|0):(o=m[Se>>0]|0,A=m[Ke>>0]|0,A=T+2+(o&1?e[Se+4>>2]|0:(o&255)>>>1)+(A&1?e[Ke+4>>2]|0:(A&255)>>>1)|0),A>>>0>100?(A=It(A<<2)|0,I=A,A?re=26:(h=0,_0(6),z=h,h=0,z&1||(A=0,re=26))):(I=0,A=z,re=26),(re|0)==26&&(h=0,W0(2,A|0,R|0,M|0,e[s+4>>2]|0,N|0,N+(F<<2)|0,D|0,k|0,K|0,e[L>>2]|0,e[Z>>2]|0,_e|0,Ke|0,Se|0,T|0),Z=h,h=0,!(Z&1)&&(e[B>>2]=e[r>>2],r=e[R>>2]|0,se=e[M>>2]|0,h=0,e[q>>2]=e[B>>2],se=P0(40,q|0,A|0,r|0,se|0,s|0,a|0)|0,r=h,h=0,!(r&1))))return I&&(Z0(I),S=e[Te>>2]|0),E0(Se),E0(Ke),fe(_e),D0(S)|0,c&&Z0(c),t&&Z0(t),b=ee,se|0;A=Q()|0,I&&(Z0(I),S=e[Te>>2]|0)}E0(Se),E0(Ke),fe(_e)}else A=Q()|0;D0(S)|0}return(re|0)==7&&(A=Q()|0),c&&Z0(c),t&&Z0(t),ne(A|0),0}function Eh(t,r,o,s,a,f,c,S,A,I){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0,A=A|0,I=I|0;var T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0;re=b,b=b+112|0,T=re+108|0,k=re+96|0,N=re+92|0,z=re+80|0,q=re+68|0,B=re+56|0,L=re+52|0,M=re+40|0,R=re+36|0,K=re+24|0,D=re+12|0,F=re;do if(t){t=Ot(o,43956)|0,o=e[t>>2]|0;do if(r)if(K0[e[o+44>>2]&127](T,t),r=e[T>>2]|0,m[s>>0]=r,m[s+1>>0]=r>>8,m[s+2>>0]=r>>16,m[s+3>>0]=r>>24,K0[e[(e[t>>2]|0)+32>>2]&127](k,t),m[A>>0]&1?e[e[A+8>>2]>>2]=0:m[A>>0]=0,e[A+4>>2]=0,h=0,de(93,A|0,0),s=h,h=0,s&1)A=Q(0)|0,b0(A);else{e[A>>2]=e[k>>2],e[A+4>>2]=e[k+4>>2],e[A+8>>2]=e[k+8>>2],e[k>>2]=0,e[k+4>>2]=0,e[k+8>>2]=0,E0(k);break}else if(K0[e[o+40>>2]&127](N,t),r=e[N>>2]|0,m[s>>0]=r,m[s+1>>0]=r>>8,m[s+2>>0]=r>>16,m[s+3>>0]=r>>24,K0[e[(e[t>>2]|0)+28>>2]&127](z,t),m[A>>0]&1?e[e[A+8>>2]>>2]=0:m[A>>0]=0,e[A+4>>2]=0,h=0,de(93,A|0,0),s=h,h=0,s&1)A=Q(0)|0,b0(A);else{e[A>>2]=e[z>>2],e[A+4>>2]=e[z+4>>2],e[A+8>>2]=e[z+8>>2],e[z>>2]=0,e[z+4>>2]=0,e[z+8>>2]=0,E0(z);break}while(!1);if(A=A0[e[(e[t>>2]|0)+12>>2]&127](t)|0,e[a>>2]=A,A=A0[e[(e[t>>2]|0)+16>>2]&127](t)|0,e[f>>2]=A,K0[e[(e[t>>2]|0)+20>>2]&127](q,t),m[c>>0]&1?(m[e[c+8>>2]>>0]=0,e[c+4>>2]=0):(m[c+1>>0]=0,m[c>>0]=0),h=0,de(91,c|0,0),f=h,h=0,f&1&&(f=Q(0)|0,b0(f)),e[c>>2]=e[q>>2],e[c+4>>2]=e[q+4>>2],e[c+8>>2]=e[q+8>>2],e[q>>2]=0,e[q+4>>2]=0,e[q+8>>2]=0,fe(q),K0[e[(e[t>>2]|0)+24>>2]&127](B,t),m[S>>0]&1?e[e[S+8>>2]>>2]=0:m[S>>0]=0,e[S+4>>2]=0,h=0,de(93,S|0,0),f=h,h=0,f&1)f=Q(0)|0,b0(f);else{e[S>>2]=e[B>>2],e[S+4>>2]=e[B+4>>2],e[S+8>>2]=e[B+8>>2],e[B>>2]=0,e[B+4>>2]=0,e[B+8>>2]=0,E0(B),Z=A0[e[(e[t>>2]|0)+36>>2]&127](t)|0;break}}else{t=Ot(o,43892)|0,o=e[t>>2]|0;do if(r)if(K0[e[o+44>>2]&127](L,t),r=e[L>>2]|0,m[s>>0]=r,m[s+1>>0]=r>>8,m[s+2>>0]=r>>16,m[s+3>>0]=r>>24,K0[e[(e[t>>2]|0)+32>>2]&127](M,t),m[A>>0]&1?e[e[A+8>>2]>>2]=0:m[A>>0]=0,e[A+4>>2]=0,h=0,de(93,A|0,0),s=h,h=0,s&1)A=Q(0)|0,b0(A);else{e[A>>2]=e[M>>2],e[A+4>>2]=e[M+4>>2],e[A+8>>2]=e[M+8>>2],e[M>>2]=0,e[M+4>>2]=0,e[M+8>>2]=0,E0(M);break}else if(K0[e[o+40>>2]&127](R,t),r=e[R>>2]|0,m[s>>0]=r,m[s+1>>0]=r>>8,m[s+2>>0]=r>>16,m[s+3>>0]=r>>24,K0[e[(e[t>>2]|0)+28>>2]&127](K,t),m[A>>0]&1?e[e[A+8>>2]>>2]=0:m[A>>0]=0,e[A+4>>2]=0,h=0,de(93,A|0,0),s=h,h=0,s&1)A=Q(0)|0,b0(A);else{e[A>>2]=e[K>>2],e[A+4>>2]=e[K+4>>2],e[A+8>>2]=e[K+8>>2],e[K>>2]=0,e[K+4>>2]=0,e[K+8>>2]=0,E0(K);break}while(!1);if(A=A0[e[(e[t>>2]|0)+12>>2]&127](t)|0,e[a>>2]=A,A=A0[e[(e[t>>2]|0)+16>>2]&127](t)|0,e[f>>2]=A,K0[e[(e[t>>2]|0)+20>>2]&127](D,t),m[c>>0]&1?(m[e[c+8>>2]>>0]=0,e[c+4>>2]=0):(m[c+1>>0]=0,m[c>>0]=0),h=0,de(91,c|0,0),f=h,h=0,f&1&&(f=Q(0)|0,b0(f)),e[c>>2]=e[D>>2],e[c+4>>2]=e[D+4>>2],e[c+8>>2]=e[D+8>>2],e[D>>2]=0,e[D+4>>2]=0,e[D+8>>2]=0,fe(D),K0[e[(e[t>>2]|0)+24>>2]&127](F,t),m[S>>0]&1?e[e[S+8>>2]>>2]=0:m[S>>0]=0,e[S+4>>2]=0,h=0,de(93,S|0,0),f=h,h=0,f&1)f=Q(0)|0,b0(f);else{e[S>>2]=e[F>>2],e[S+4>>2]=e[F+4>>2],e[S+8>>2]=e[F+8>>2],e[F>>2]=0,e[F+4>>2]=0,e[F+8>>2]=0,E0(F),Z=A0[e[(e[t>>2]|0)+36>>2]&127](t)|0;break}}while(!1);e[I>>2]=Z,b=re}function bh(t,r,o,s,a,f,c,S,A,I,T,k,D,F,N){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0,A=A|0,I=I|0,T=T|0,k=k|0,D=D|0,F=F|0,N=N|0;var z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0,_e=0,Se=0,Ke=0,$0=0,R0=0,rt=0,X0=0,M0=0;e[o>>2]=t,X0=F+4|0,M0=F+8|0,Te=D+4|0,_e=(s&512|0)==0,Se=D+8|0,Ke=(N|0)>0,$0=k+4|0,R0=k+8|0,rt=k+1|0,ee=(N|0)>0,re=0;do{switch(m[A+re>>0]|0){case 0:{e[r>>2]=e[o>>2];break}case 1:{e[r>>2]=e[o>>2],K=Ut[e[(e[c>>2]|0)+44>>2]&63](c,32)|0,Z=e[o>>2]|0,e[o>>2]=Z+4,e[Z>>2]=K;break}case 3:{Z=m[F>>0]|0,z=(Z&1)==0,(z?(Z&255)>>>1:e[X0>>2]|0)|0&&(K=e[(z?X0:e[M0>>2]|0)>>2]|0,Z=e[o>>2]|0,e[o>>2]=Z+4,e[Z>>2]=K);break}case 2:{if(M=m[D>>0]|0,z=(M&1)==0,M=z?(M&255)>>>1:e[Te>>2]|0,!(_e|(M|0)==0)){if(z=z?Te:e[Se>>2]|0,B=z+(M<<2)|0,L=e[o>>2]|0,M)for(q=L;e[q>>2]=e[z>>2],z=z+4|0,(z|0)!=(B|0);)q=q+4|0;e[o>>2]=L+(M<<2)}break}case 4:{z=e[o>>2]|0,a=S?a+4|0:a;e:do if(a>>>0<f>>>0){q=a;do{if(!(G0[e[(e[c>>2]|0)+12>>2]&63](c,2048,e[q>>2]|0)|0))break e;q=q+4|0}while(q>>>0<f>>>0)}else q=a;while(!1);if(Ke){if(q>>>0>a>>>0&ee){for(M=e[o>>2]|0,L=N;;)if(q=q+-4|0,B=M+4|0,e[M>>2]=e[q>>2],R=L+-1|0,L=(L|0)>1,q>>>0>a>>>0&L)M=B,L=R;else{M=R;break}e[o>>2]=B,B=M}else L=ee,B=N;if(L?R=Ut[e[(e[c>>2]|0)+44>>2]&63](c,48)|0:R=0,K=e[o>>2]|0,L=B+((B|0)<0?~B:-1)|0,(B|0)>0)for(M=K;e[M>>2]=R,(B|0)>1;)M=M+4|0,B=B+-1|0;e[o>>2]=K+(L+2<<2),e[K+(L+1<<2)>>2]=I}if((q|0)==(a|0))K=Ut[e[(e[c>>2]|0)+44>>2]&63](c,48)|0,Z=e[o>>2]|0,q=Z+4|0,e[o>>2]=q,e[Z>>2]=K;else{if(K=m[k>>0]|0,B=(K&1)==0,Z=e[$0>>2]|0,(B?(K&255)>>>1:Z)|0?B=m[(B?rt:e[R0>>2]|0)>>0]|0:B=-1,(q|0)!=(a|0))for(R=0,K=0;L=e[o>>2]|0,(K|0)==(B|0)?(M=L+4|0,e[o>>2]=M,e[L>>2]=T,R=R+1|0,L=m[k>>0]|0,B=(L&1)==0,R>>>0<(B?(L&255)>>>1:Z)>>>0?(B=m[(B?rt:e[R0>>2]|0)+R>>0]|0,L=M,B=B<<24>>24==127?-1:B<<24>>24,M=0):(L=M,B=K,M=0)):M=K,q=q+-4|0,K=e[q>>2]|0,e[o>>2]=L+4,e[L>>2]=K,(q|0)!=(a|0);)K=M+1|0;q=e[o>>2]|0}if((z|0)!=(q|0)&&(se=q+-4|0,z>>>0<se>>>0)){q=se;do Z=e[z>>2]|0,e[z>>2]=e[q>>2],e[q>>2]=Z,z=z+4|0,q=q+-4|0;while(z>>>0<q>>>0)}break}default:}re=re+1|0}while((re|0)!=4);if(z=m[F>>0]|0,a=(z&1)==0,z=a?(z&255)>>>1:e[X0>>2]|0,z>>>0>1){if(q=a?X0:e[M0>>2]|0,a=q+4|0,q=q+(z<<2)|0,B=e[o>>2]|0,L=q-a|0,(z|0)!=1)for(z=B;e[z>>2]=e[a>>2],a=a+4|0,(a|0)!=(q|0);)z=z+4|0;e[o>>2]=B+(L>>>2<<2)}switch(s&176|0){case 32:{e[r>>2]=e[o>>2];break}case 16:break;default:e[r>>2]=t}}function kh(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0,_e=0,Se=0;K=b,b=b+480|0,D=K+468|0,re=K+464|0,M=K+472|0,q=K+56|0,R=K+52|0,ee=K+40|0,Te=K+28|0,se=K+16|0,I=K+12|0,k=K+64|0,L=K+8|0,B=K+4|0,F=K,t=ut(s)|0,e[re>>2]=t,h=0,N=Ce(37,re|0,44212)|0,z=h,h=0;do if(z&1)_e=13;else{if(T=m[f>>0]|0,c=(T&1)==0,z=f+4|0,!((c?(T&255)>>>1:e[z>>2]|0)|0))T=0;else{if(c=e[(c?z:e[f+8>>2]|0)>>2]|0,h=0,S=Ce(e[(e[N>>2]|0)+44>>2]|0,N|0,45)|0,T=h,h=0,T&1){_e=13;break}T=(c|0)==(S|0)}if(e[ee>>2]=0,e[ee+4>>2]=0,e[ee+8>>2]=0,e[Te>>2]=0,e[Te+4>>2]=0,e[Te+8>>2]=0,e[se>>2]=0,e[se+4>>2]=0,e[se+8>>2]=0,h=0,Tt(4,o|0,T|0,re|0,M|0,q|0,R|0,ee|0,Te|0,se|0,I|0),A=h,h=0,A&1)c=Q()|0;else{if(A=m[f>>0]|0,o=e[z>>2]|0,c=A&1?o:(A&255)>>>1,I=e[I>>2]|0,(c|0)>(I|0)?(Se=m[se>>0]|0,S=m[Te>>0]|0,c=(c-I<<1|1)+I+(Se&1?e[se+4>>2]|0:(Se&255)>>>1)+(S&1?e[Te+4>>2]|0:(S&255)>>>1)|0):(Se=m[se>>0]|0,c=m[Te>>0]|0,c=I+2+(Se&1?e[se+4>>2]|0:(Se&255)>>>1)+(c&1?e[Te+4>>2]|0:(c&255)>>>1)|0),c>>>0>100?(c=It(c<<2)|0,S=c,c?_e=17:(h=0,_0(6),Se=h,h=0,Se&1||(A=m[f>>0]|0,o=e[z>>2]|0,c=0,_e=17))):(S=0,c=k,_e=17),(_e|0)==17&&(Se=(A&1)==0,f=Se?z:e[f+8>>2]|0,h=0,W0(2,c|0,L|0,B|0,e[s+4>>2]|0,f|0,f+((Se?(A&255)>>>1:o)<<2)|0,N|0,T|0,M|0,e[q>>2]|0,e[R>>2]|0,ee|0,Te|0,se|0,I|0),Se=h,h=0,!(Se&1)&&(e[F>>2]=e[r>>2],Se=e[L>>2]|0,Z=e[B>>2]|0,h=0,e[D>>2]=e[F>>2],Z=P0(40,D|0,c|0,Se|0,Z|0,s|0,a|0)|0,Se=h,h=0,!(Se&1))))return S&&(Z0(S),t=e[re>>2]|0),E0(se),E0(Te),fe(ee),D0(t)|0,b=K,Z|0;c=Q()|0,S&&(Z0(S),t=e[re>>2]|0)}E0(se),E0(Te),fe(ee)}while(!1);return(_e|0)==13&&(c=Q()|0),D0(t)|0,ne(c|0),0}function Dh(t){t=t|0}function Ph(t){t=t|0,ue(t)}function Fh(t,r,o){return t=t|0,r=r|0,o=o|0,t=bs(m[r>>0]&1?e[r+8>>2]|0:r+1|0,1)|0,t>>>((t|0)!=-1&1)|0}function Mh(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0;S=b,b=b+16|0,A=S,e[A>>2]=0,e[A+4>>2]=0,e[A+8>>2]=0,c=m[f>>0]|0,I=(c&1)==0,r=I?f+1|0:e[f+8>>2]|0,c=I?(c&255)>>>1:e[f+4>>2]|0,f=r+c|0;e:do if((c|0)>0){for(;h=0,de(67,A|0,m[r>>0]|0),I=h,h=0,!(I&1);)if(r=r+1|0,r>>>0>=f>>>0){c=4;break e}r=Q()|0,c=7}else c=4;while(!1);e:do if((c|0)==4){if(h=0,r=Pe(19,((o|0)==-1?-1:o<<1)|0,s|0,a|0,(m[A>>0]&1?e[A+8>>2]|0:A+1|0)|0)|0,I=h,h=0,I&1){r=Q()|0,c=7;break}e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,I=Ni(r)|0,f=r+I|0;t:do if((I|0)>0){for(;h=0,de(67,t|0,m[r>>0]|0),I=h,h=0,!(I&1);)if(r=r+1|0,r>>>0>=f>>>0)break t;r=Q()|0,fe(t);break e}while(!1);fe(A),b=S;return}while(!1);fe(A),ne(r|0)}function Rh(t,r){t=t|0,r=r|0}function Oh(t){t=t|0}function Lh(t){t=t|0,ue(t)}function Nh(t,r,o){return t=t|0,r=r|0,o=o|0,t=bs(m[r>>0]&1?e[r+8>>2]|0:r+1|0,1)|0,t>>>((t|0)!=-1&1)|0}function Bh(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0;L=b,b=b+224|0,k=L+184|0,T=L+192|0,I=L+180|0,D=L+176|0,q=L+168|0,z=L+40|0,N=L+32|0,B=L+28|0,M=L+16|0,A=L+8|0,F=L,e[M>>2]=0,e[M+4>>2]=0,e[M+8>>2]=0,e[A+4>>2]=0,e[A>>2]=44696,S=m[f>>0]|0,R=(S&1)==0,c=f+4|0,r=R?c:e[f+8>>2]|0,f=R?(S&255)>>>1:e[c>>2]|0,c=r+(f<<2)|0,S=T+32|0;e:do if((f|0)>0){t:for(;;){if(e[D>>2]=r,h=0,f=H0(e[(e[A>>2]|0)+12>>2]|0,A|0,k|0,r|0,c|0,D|0,T|0,S|0,I|0)|0,R=h,h=0,R&1){f=12;break}if((f|0)==2||(e[D>>2]|0)==(r|0)){f=5;break}if(T>>>0<(e[I>>2]|0)>>>0){r=T;do{if(h=0,de(67,M|0,m[r>>0]|0),R=h,h=0,R&1){f=11;break t}r=r+1|0}while(r>>>0<(e[I>>2]|0)>>>0)}if(r=e[D>>2]|0,!((f|0)!=2&r>>>0<c>>>0)){f=9;break e}}(f|0)==5?(h=0,oe(190,58955),h=0,r=Q()|0):((f|0)==11||(f|0)==12)&&(r=Q()|0)}else f=9;while(!1);e:do if((f|0)==9){if(h=0,r=Pe(19,((o|0)==-1?-1:o<<1)|0,s|0,a|0,(m[M>>0]&1?e[M+8>>2]|0:M+1|0)|0)|0,R=h,h=0,R&1){r=Q()|0;break}e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[F+4>>2]=0,e[F>>2]=44744,R=Ni(r)|0,c=r+R|0,S=c,A=z+128|0;t:do if((R|0)>0){i:for(;;){if(e[B>>2]=r,h=0,f=H0(e[(e[F>>2]|0)+16>>2]|0,F|0,q|0,r|0,((S-r|0)>32?r+32|0:c)|0,B|0,z|0,A|0,N|0)|0,R=h,h=0,R&1){f=24;break}if((f|0)==2||(e[B>>2]|0)==(r|0)){f=18;break}if(z>>>0<(e[N>>2]|0)>>>0){r=z;do{if(h=0,de(92,t|0,e[r>>2]|0),R=h,h=0,R&1){f=23;break i}r=r+4|0}while(r>>>0<(e[N>>2]|0)>>>0)}if(r=e[B>>2]|0,!((f|0)!=2&r>>>0<c>>>0))break t}(f|0)==18?(h=0,oe(190,58955),h=0,r=Q()|0):((f|0)==23||(f|0)==24)&&(r=Q()|0),E0(t);break e}while(!1);fe(M),b=L;return}while(!1);fe(M),ne(r|0)}function Uh(t,r){t=t|0,r=r|0}function Vh(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0;if(e[t+4>>2]=r+-1,e[t>>2]=44196,f=t+8|0,h=0,de(94,f|0,28),a=h,h=0,a&1)r=Q()|0;else{if(a=t+144|0,h=0,me(5,a|0,58885,1),s=h,h=0,s&1)r=Q()|0;else{if(o=e[f>>2]|0,s=t+12|0,r=e[s>>2]|0,(r|0)!=(o|0)){do r=r+-4|0;while((r|0)!=(o|0));e[s>>2]=r}e[495]=0,e[494]=43124,h=0,de(95,t|0,1976),s=h,h=0;do if(!(s&1)&&(e[497]=0,e[496]=43164,h=0,de(96,t|0,1984),s=h,h=0,!(s&1))&&(e[499]=0,e[498]=44236,e[500]=0,m[2004]=0,s=tr()|0,e[500]=s,h=0,de(97,t|0,1992),s=h,h=0,!(s&1))&&(e[503]=0,e[502]=44484,h=0,de(98,t|0,2008),s=h,h=0,!(s&1))&&(e[505]=0,e[504]=44552,h=0,de(99,t|0,2016),s=h,h=0,!(s&1))&&(h=0,de(100,2024,1),s=h,h=0,!(s&1))&&(h=0,de(101,t|0,2024),s=h,h=0,!(s&1))&&(e[511]=0,e[510]=44600,h=0,de(102,t|0,2040),s=h,h=0,!(s&1))&&(e[513]=0,e[512]=44648,h=0,de(103,t|0,2048),s=h,h=0,!(s&1))&&(ug(2056,1),h=0,de(104,t|0,2056),s=h,h=0,!(s&1))&&(fg(2080,1),h=0,de(105,t|0,2080),s=h,h=0,!(s&1))&&(e[529]=0,e[528]=43204,h=0,de(106,t|0,2112),s=h,h=0,!(s&1))&&(e[531]=0,e[530]=43276,h=0,de(107,t|0,2120),s=h,h=0,!(s&1))&&(e[533]=0,e[532]=43348,h=0,de(108,t|0,2128),s=h,h=0,!(s&1))){if(e[535]=0,e[534]=43408,h=0,de(109,t|0,2136),s=h,h=0,s&1){c=42;break}if(e[537]=0,e[536]=43716,h=0,de(110,t|0,2144),s=h,h=0,s&1){c=42;break}if(e[539]=0,e[538]=43780,h=0,de(111,t|0,2152),s=h,h=0,s&1){c=42;break}if(e[541]=0,e[540]=43844,h=0,de(112,t|0,2160),s=h,h=0,s&1){c=42;break}if(e[543]=0,e[542]=43908,h=0,de(113,t|0,2168),s=h,h=0,s&1){c=42;break}if(e[545]=0,e[544]=43972,h=0,de(114,t|0,2176),s=h,h=0,s&1){c=42;break}if(e[547]=0,e[546]=44008,h=0,de(115,t|0,2184),s=h,h=0,s&1){c=42;break}if(e[549]=0,e[548]=44044,h=0,de(116,t|0,2192),s=h,h=0,s&1){c=42;break}if(e[551]=0,e[550]=44080,h=0,de(117,t|0,2200),s=h,h=0,s&1){c=42;break}if(e[553]=0,e[552]=43468,e[554]=43516,h=0,de(118,t|0,2208),s=h,h=0,s&1){c=42;break}if(e[557]=0,e[556]=43560,e[558]=43608,h=0,de(119,t|0,2224),s=h,h=0,s&1){c=42;break}if(e[561]=0,e[560]=44464,h=0,r=ve(3)|0,s=h,h=0,s&1){r=Q()|0;break}if(e[562]=r,e[560]=43652,h=0,de(120,t|0,2240),s=h,h=0,s&1){c=42;break}if(e[565]=0,e[564]=44464,h=0,r=ve(3)|0,s=h,h=0,s&1){r=Q()|0;break}if(e[566]=r,e[564]=43684,h=0,de(121,t|0,2256),c=h,h=0,c&1){c=42;break}if(e[569]=0,e[568]=44116,h=0,de(122,t|0,2272),c=h,h=0,c&1){c=42;break}if(e[571]=0,e[570]=44156,h=0,de(123,t|0,2280),c=h,h=0,c&1){c=42;break}return}else c=42;while(!1);(c|0)==42&&(r=Q()|0),fe(a)}En(f)}ne(r|0)}function qh(){var t=0;do if(!(m[2288]|0)&&w0(2288)|0)if(h=0,ve(4)|0,t=h,h=0,t&1)t=Q()|0,Gt(2288),ne(t|0);else{e[11246]=44980,y0(2288);break}while(!1);return e[11246]|0}function At(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0;gr(r),a=t+8|0,s=e[a>>2]|0;do if((e[t+12>>2]|0)-s>>2>>>0<=o>>>0){if(h=0,de(124,a|0,o+1|0),t=h,h=0,!(t&1)){s=e[a>>2]|0;break}s=Q()|0,r&&D0(r)|0,ne(s|0)}while(!1);t=e[s+(o<<2)>>2]|0,t&&(D0(t)|0,s=e[a>>2]|0),e[s+(o<<2)>>2]=r}function Uo(t){t=t|0;var r=0,o=0,s=0,a=0;if(e[t>>2]=44196,s=t+8|0,a=t+12|0,r=e[s>>2]|0,(e[a>>2]|0)!=(r|0)){o=0;do r=e[r+(o<<2)>>2]|0,r&&D0(r)|0,o=o+1|0,r=e[s>>2]|0;while(o>>>0<(e[a>>2]|0)-r>>2>>>0)}fe(t+144|0),En(s)}function Gh(t){t=t|0,Uo(t),ue(t)}function $h(t,r){return t=t|0,r=r|0,B3(t,r)|0?e[(e[t+8>>2]|0)+(r<<2)>>2]|0:(t=g0(4)|0,z6(t),V0(t|0,640,82),0)}function Hh(){return Vh(2296,1),e[11245]=2296,44980}function Wh(){var t=0;return t=qh()|0,t=e[t>>2]|0,e[11247]=t,gr(t),44988}function Qh(){var t=0;do if(!(m[2456]|0)&&w0(2456)|0)if(h=0,ve(5)|0,t=h,h=0,t&1)t=Q()|0,Gt(2456),ne(t|0);else{e[11248]=44988,y0(2456);break}while(!1);return e[11248]|0}function pn(t){t=t|0;var r=0,o=0;if(h=0,r=ve(6)|0,o=h,h=0,o&1)o=Q(0)|0,b0(o);else{o=e[r>>2]|0,e[t>>2]=o,gr(o);return}}function er(t,r){t=t|0,r=r|0,r=e[r>>2]|0,e[t>>2]=r,gr(r)}function Ft(t){t=t|0,D0(e[t>>2]|0)|0}function wt(t){t=t|0;var r=0,o=0;return o=b,b=b+16|0,r=o,(e[t>>2]|0)!=-1&&(e[r>>2]=t,e[r+4>>2]=191,e[r+8>>2]=0,yp(t,r,192)),b=o,(e[t+4>>2]|0)+-1|0}function Ot(t,r){return t=t|0,r=r|0,t=e[t>>2]|0,$h(t,wt(r)|0)|0}function jh(t){t=t|0,ue(t)}function Yh(t){t=t|0,t&&T0[e[(e[t>>2]|0)+4>>2]&255](t)}function Kh(t){t=t|0;var r=0;r=e[11052]|0,e[11052]=r+1,e[t+4>>2]=r+1}function Xh(t){t=t|0,ue(t)}function Zh(t,r,o){return t=t|0,r=r|0,o=o|0,o>>>0<128?(o=(tr()|0)+(o<<1)|0,o=(y[o>>1]&r)<<16>>16!=0):o=0,o|0}function tr(){var t=0,r=0;if(h=0,t=ve(7)|0,r=h,h=0,r&1)r=Q(0)|0,b0(r);else return e[t>>2]|0;return 0}function Jh(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0;if(f=(o-r|0)>>>2,(r|0)!=(o|0))for(a=r;t=e[a>>2]|0,t>>>0<128?(t=(tr()|0)+(t<<1)|0,t=O[t>>1]|0):t=0,y[s>>1]=t,a=a+4|0,(a|0)!=(o|0);)s=s+2|0;return r+(f<<2)|0}function ed(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;e:do if((o|0)==(s|0))o=s;else for(;;){if(t=e[o>>2]|0,t>>>0<128&&(t=(tr()|0)+(t<<1)|0,(y[t>>1]&r)<<16>>16!=0))break e;if(o=o+4|0,(o|0)==(s|0)){o=s;break}}while(!1);return o|0}function id(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;e:do if((o|0)==(s|0))o=s;else for(;;){if(t=e[o>>2]|0,t>>>0>=128||(t=(tr()|0)+(t<<1)|0,!((y[t>>1]&r)<<16>>16)))break e;if(o=o+4|0,(o|0)==(s|0)){o=s;break}}while(!1);return o|0}function rd(t,r){return t=t|0,r=r|0,r>>>0<128&&(r=(pr()|0)+(r<<2)|0,r=e[r>>2]|0),r|0}function pr(){var t=0,r=0;if(h=0,t=ve(8)|0,r=h,h=0,r&1)r=Q(0)|0,b0(r);else return e[t>>2]|0;return 0}function nd(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0;if(a=(o-r|0)>>>2,(r|0)!=(o|0)){s=r;do t=e[s>>2]|0,t>>>0<128&&(t=(pr()|0)+(t<<2)|0,t=e[t>>2]|0),e[s>>2]=t,s=s+4|0;while((s|0)!=(o|0))}return r+(a<<2)|0}function od(t,r){return t=t|0,r=r|0,r>>>0<128&&(r=(mr()|0)+(r<<2)|0,r=e[r>>2]|0),r|0}function mr(){var t=0,r=0;if(h=0,t=ve(9)|0,r=h,h=0,r&1)r=Q(0)|0,b0(r);else return e[t>>2]|0;return 0}function sd(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0;if(a=(o-r|0)>>>2,(r|0)!=(o|0)){s=r;do t=e[s>>2]|0,t>>>0<128&&(t=(mr()|0)+(t<<2)|0,t=e[t>>2]|0),e[s>>2]=t,s=s+4|0;while((s|0)!=(o|0))}return r+(a<<2)|0}function ad(t,r){return t=t|0,r=r|0,r<<24>>24|0}function ld(t,r,o,s){if(t=t|0,r=r|0,o=o|0,s=s|0,(r|0)!=(o|0))for(;e[s>>2]=m[r>>0],r=r+1|0,(r|0)!=(o|0);)s=s+4|0;return o|0}function ud(t,r,o){return t=t|0,r=r|0,o=o|0,(r>>>0<128?r&255:o)|0}function cd(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0;if(c=(o-r|0)>>>2,(r|0)!=(o|0))for(f=r,t=a;a=e[f>>2]|0,m[t>>0]=a>>>0<128?a&255:s,f=f+4|0,(f|0)!=(o|0);)t=t+1|0;return r+(c<<2)|0}function Vo(t){t=t|0;var r=0;e[t>>2]=44236,r=e[t+8>>2]|0,r|0&&m[t+12>>0]|0&&F6(r)}function hd(t){t=t|0,Vo(t),ue(t)}function dd(t,r){return t=t|0,r=r|0,r<<24>>24>-1&&(r=(pr()|0)+((r&255)<<2)|0,r=e[r>>2]&255),r|0}function pd(t,r,o){if(t=t|0,r=r|0,o=o|0,(r|0)!=(o|0)){t=r;do r=m[t>>0]|0,r<<24>>24>-1&&(r=(pr()|0)+(r<<24>>24<<2)|0,r=e[r>>2]&255),m[t>>0]=r,t=t+1|0;while((t|0)!=(o|0))}return o|0}function md(t,r){return t=t|0,r=r|0,r<<24>>24>-1&&(r=(mr()|0)+(r<<24>>24<<2)|0,r=e[r>>2]&255),r|0}function gd(t,r,o){if(t=t|0,r=r|0,o=o|0,(r|0)!=(o|0)){t=r;do r=m[t>>0]|0,r<<24>>24>-1&&(r=(mr()|0)+(r<<24>>24<<2)|0,r=e[r>>2]&255),m[t>>0]=r,t=t+1|0;while((t|0)!=(o|0))}return o|0}function vd(t,r){return t=t|0,r=r|0,r|0}function Sd(t,r,o,s){if(t=t|0,r=r|0,o=o|0,s=s|0,(r|0)!=(o|0))for(;m[s>>0]=m[r>>0]|0,r=r+1|0,(r|0)!=(o|0);)s=s+1|0;return o|0}function wd(t,r,o){return t=t|0,r=r|0,o=o|0,(r<<24>>24>-1?r:o)|0}function Ad(t,r,o,s,a){if(t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,(r|0)!=(o|0))for(;t=m[r>>0]|0,m[a>>0]=t<<24>>24>-1?t:s,r=r+1|0,(r|0)!=(o|0);)a=a+1|0;return o|0}function yd(t){t=t|0,ue(t)}function _d(t,r,o,s,a,f,c,S){return t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0,e[a>>2]=o,e[S>>2]=f,3}function xd(t,r,o,s,a,f,c,S){return t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0,e[a>>2]=o,e[S>>2]=f,3}function Td(t,r,o,s,a){return t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,e[a>>2]=o,3}function Id(t){return t=t|0,1}function Cd(t){return t=t|0,1}function Ed(t,r,o,s,a){return t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,t=s-o|0,(t>>>0<a>>>0?t:a)|0}function bd(t){return t=t|0,1}function kd(t,r){t=t|0,r=r|0;var o=0;if(e[t+4>>2]=r+-1,e[t>>2]=44304,h=0,r=ve(3)|0,o=h,h=0,o&1)o=Q()|0,ne(o|0);else{e[t+8>>2]=r;return}}function Dd(t){t=t|0,us(t),ue(t)}function mn(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0,_e=0,Se=0,Ke=0,$0=0,R0=0,rt=0,X0=0,M0=0,l0=0,z0=0,s0=0,f0=0,yt=0,xt=0,pt=0,Me=0,d0=0,L0=0,lt=0,ot=0,ft=0,Ct=0,vt=0,xi=0,kt=0,mi=0;mi=b,b=b+624|0,ft=mi+24|0,vt=mi+16|0,Ct=mi+588|0,Me=mi+576|0,ot=mi,yt=mi+536|0,kt=mi+8|0,xi=mi+528|0,$0=(t|0)!=0,R0=yt+40|0,f0=R0,yt=yt+39|0,xt=kt+4|0,pt=Me+12|0,Me=Me+11|0,d0=Ct,L0=pt,lt=L0-d0|0,rt=-2-d0|0,X0=L0+2|0,M0=ft+288|0,l0=Ct+9|0,z0=l0,s0=Ct+8|0,f=0,z=r,c=0,r=0;e:for(;;){do if((f|0)>-1)if((c|0)>(2147483647-f|0)){f=gt()|0,e[f>>2]=75,f=-1;break}else{f=c+f|0;break}while(!1);if(c=m[z>>0]|0,c<<24>>24)S=z;else{Ke=245;break}t:for(;;){switch(c<<24>>24){case 37:{c=S,Ke=9;break t}case 0:{c=S;break t}default:}Se=S+1|0,c=m[Se>>0]|0,S=Se}t:do if((Ke|0)==9)for(;;){if(Ke=0,(m[c+1>>0]|0)!=37)break t;if(S=S+1|0,c=c+2|0,(m[c>>0]|0)==37)Ke=9;else break}while(!1);if(B=S-z|0,$0&&!(e[t>>2]&32|0)&&Nt(z,B,t)|0,(S|0)!=(z|0)){z=c,c=B;continue}T=c+1|0,S=m[T>>0]|0,A=(S<<24>>24)+-48|0,A>>>0<10?(Se=(m[c+2>>0]|0)==36,T=Se?c+3|0:T,S=m[T>>0]|0,F=Se?A:-1,r=Se?1:r):F=-1,c=S<<24>>24;t:do if((c&-32|0)==32)for(A=0;;){if(!(1<<c+-32&75913)){k=A,c=T;break t}if(A=1<<(S<<24>>24)+-32|A,T=T+1|0,S=m[T>>0]|0,c=S<<24>>24,(c&-32|0)!=32){k=A,c=T;break}}else k=0,c=T;while(!1);do if(S<<24>>24==42){if(A=c+1|0,S=(m[A>>0]|0)+-48|0,S>>>0<10&&(m[c+2>>0]|0)==36)e[a+(S<<2)>>2]=10,r=1,c=c+3|0,S=e[s+((m[A>>0]|0)+-48<<3)>>2]|0;else{if(r){f=-1;break e}if(!$0){q=k,c=A,r=0,Se=0;break}r=(e[o>>2]|0)+3&-4,S=e[r>>2]|0,e[o>>2]=r+4,r=0,c=A}(S|0)<0?(q=k|8192,Se=0-S|0):(q=k,Se=S)}else if(A=(S<<24>>24)+-48|0,A>>>0<10){S=0;do S=(S*10|0)+A|0,c=c+1|0,A=(m[c>>0]|0)+-48|0;while(A>>>0<10);if((S|0)<0){f=-1;break e}else q=k,Se=S}else q=k,Se=0;while(!1);t:do if((m[c>>0]|0)==46){if(A=c+1|0,S=m[A>>0]|0,S<<24>>24!=42){if(T=(S<<24>>24)+-48|0,T>>>0<10)c=A,S=0;else{c=A,T=0;break}for(;;)if(S=(S*10|0)+T|0,c=c+1|0,T=(m[c>>0]|0)+-48|0,T>>>0>=10){T=S;break t}}if(A=c+2|0,S=(m[A>>0]|0)+-48|0,S>>>0<10&&(m[c+3>>0]|0)==36){e[a+(S<<2)>>2]=10,c=c+4|0,T=e[s+((m[A>>0]|0)+-48<<3)>>2]|0;break}if(r){f=-1;break e}$0?(c=(e[o>>2]|0)+3&-4,T=e[c>>2]|0,e[o>>2]=c+4,c=A):(c=A,T=0)}else T=-1;while(!1);for(D=0;;){if(S=(m[c>>0]|0)+-65|0,S>>>0>57){f=-1;break e}if(A=c+1|0,S=m[56223+(D*58|0)+S>>0]|0,k=S&255,(k+-1|0)>>>0<8)c=A,D=k;else{_e=A;break}}if(!(S<<24>>24)){f=-1;break}A=(F|0)>-1;do if(S<<24>>24==19)if(A){f=-1;break e}else Ke=52;else{if(A){e[a+(F<<2)>>2]=k,se=s+(F<<3)|0,Te=e[se+4>>2]|0,Ke=ot,e[Ke>>2]=e[se>>2],e[Ke+4>>2]=Te,Ke=52;break}if(!$0){f=0;break e}qo(ot,k,o)}while(!1);if((Ke|0)==52&&(Ke=0,!$0)){z=_e,c=B;continue}F=m[c>>0]|0,F=(D|0)!=0&(F&15|0)==3?F&-33:F,A=q&-65537,Te=q&8192|0?A:q;t:do switch(F|0){case 110:switch(D|0){case 0:{e[e[ot>>2]>>2]=f,z=_e,c=B;continue e}case 1:{e[e[ot>>2]>>2]=f,z=_e,c=B;continue e}case 2:{z=e[ot>>2]|0,e[z>>2]=f,e[z+4>>2]=((f|0)<0)<<31>>31,z=_e,c=B;continue e}case 3:{y[e[ot>>2]>>1]=f,z=_e,c=B;continue e}case 4:{m[e[ot>>2]>>0]=f,z=_e,c=B;continue e}case 6:{e[e[ot>>2]>>2]=f,z=_e,c=B;continue e}case 7:{z=e[ot>>2]|0,e[z>>2]=f,e[z+4>>2]=((f|0)<0)<<31>>31,z=_e,c=B;continue e}default:{z=_e,c=B;continue e}}case 112:{D=Te|8,T=T>>>0>8?T:8,F=120,Ke=64;break}case 88:case 120:{D=Te,Ke=64;break}case 111:{if(A=ot,S=e[A>>2]|0,A=e[A+4>>2]|0,(S|0)==0&(A|0)==0)c=R0;else{c=R0;do c=c+-1|0,m[c>>0]=S&7|48,S=Ci(S|0,A|0,3)|0,A=xe;while(!((S|0)==0&(A|0)==0))}Te&8?(D=f0-c+1|0,S=Te,T=(T|0)<(D|0)?D:T,D=0,k=56703,Ke=77):(S=Te,D=0,k=56703,Ke=77);break}case 105:case 100:{if(S=ot,c=e[S>>2]|0,S=e[S+4>>2]|0,(S|0)<0){c=ei(0,0,c|0,S|0)|0,S=xe,A=ot,e[A>>2]=c,e[A+4>>2]=S,A=1,k=56703,Ke=76;break t}Te&2048?(A=1,k=56704,Ke=76):(k=Te&1,A=k,k=k|0?56705:56703,Ke=76);break}case 117:{S=ot,c=e[S>>2]|0,S=e[S+4>>2]|0,A=0,k=56703,Ke=76;break}case 99:{m[yt>>0]=e[ot>>2],z=yt,S=1,D=0,F=56703,c=R0;break}case 109:{c=gt()|0,c=Is(e[c>>2]|0)|0,Ke=82;break}case 115:{c=e[ot>>2]|0,c=c|0?c:56713,Ke=82;break}case 67:{e[kt>>2]=e[ot>>2],e[xt>>2]=0,e[ot>>2]=kt,T=-1,Ke=86;break}case 83:{T?Ke=86:(Vt(t,32,Se,0,Te),c=0,Ke=98);break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{I=+V[ot>>3],e[vt>>2]=0,V[G>>3]=I,(e[G+4>>2]|0)>=0?Te&2048?(ee=1,se=56723):(se=Te&1,ee=se,se=se|0?56726:56721):(I=-I,ee=1,se=56720),V[G>>3]=I,re=e[G+4>>2]&2146435072;do if(re>>>0<2146435072|(re|0)==2146435072&!1){if(N=+Tv(I,vt)*2,S=N!=0,S&&(e[vt>>2]=(e[vt>>2]|0)+-1),K=F|32,(K|0)==97){z=F&32,B=z|0?se+9|0:se,q=ee|2,c=12-T|0;do if(T>>>0>11|(c|0)==0)I=N;else{I=8;do c=c+-1|0,I=I*16;while(c|0);if((m[B>>0]|0)==45){I=-(I+(-N-I));break}else{I=N+I-I;break}}while(!1);for(S=e[vt>>2]|0,c=(S|0)<0?0-S|0:S,c=zi(c,((c|0)<0)<<31>>31,pt)|0,(c|0)==(pt|0)&&(m[Me>>0]=48,c=Me),m[c+-1>>0]=(S>>31&2)+43,D=c+-2|0,m[D>>0]=F+15,k=(T|0)<1,A=(Te&8|0)==0,S=Ct;;){se=~~I,c=S+1|0,m[S>>0]=P[56687+se>>0]|z,I=(I-+(se|0))*16;do if((c-d0|0)==1){if(A&(k&I==0))break;m[c>>0]=46,c=S+2|0}while(!1);if(I==0)break;S=c}T=(T|0)!=0&(rt+c|0)<(T|0)?X0+T-D|0:lt-D+c|0,A=T+q|0,Vt(t,32,Se,A,Te),e[t>>2]&32||Nt(B,q,t)|0,Vt(t,48,Se,A,Te^65536),c=c-d0|0,e[t>>2]&32||Nt(Ct,c,t)|0,S=L0-D|0,Vt(t,48,T-(c+S)|0,0,0),e[t>>2]&32||Nt(D,S,t)|0,Vt(t,32,Se,A,Te^8192),c=(A|0)<(Se|0)?Se:A;break}c=(T|0)<0?6:T,S?(S=(e[vt>>2]|0)+-28|0,e[vt>>2]=S,I=N*268435456):(I=N,S=e[vt>>2]|0),re=(S|0)<0?ft:M0,Z=re,S=re;do R=~~I>>>0,e[S>>2]=R,S=S+4|0,I=(I-+(R>>>0))*1e9;while(I!=0);if(A=S,S=e[vt>>2]|0,(S|0)>0)for(k=re;;){D=(S|0)>29?29:S,T=A+-4|0;do if(T>>>0<k>>>0)T=k;else{S=0;do R=St(e[T>>2]|0,0,D|0)|0,R=Lt(R|0,xe|0,S|0,0)|0,S=xe,M=bn(R|0,S|0,1e9,0)|0,e[T>>2]=M,S=_r(R|0,S|0,1e9,0)|0,T=T+-4|0;while(T>>>0>=k>>>0);if(!S){T=k;break}T=k+-4|0,e[T>>2]=S}while(!1);for(;!(A>>>0<=T>>>0);)if(S=A+-4|0,!(e[S>>2]|0))A=S;else break;if(S=(e[vt>>2]|0)-D|0,e[vt>>2]=S,(S|0)>0)k=T;else break}else T=re;if((S|0)<0)for(B=((c+25|0)/9|0)+1|0,L=(K|0)==102,z=T;;){q=0-S|0,q=(q|0)>9?9:q;do if(z>>>0<A>>>0){S=(1<<q)+-1|0,k=1e9>>>q,T=0,D=z;do R=e[D>>2]|0,e[D>>2]=(R>>>q)+T,T=J(R&S,k)|0,D=D+4|0;while(D>>>0<A>>>0);if(S=e[z>>2]|0?z:z+4|0,!T){T=S;break}e[A>>2]=T,T=S,A=A+4|0}else T=e[z>>2]|0?z:z+4|0;while(!1);if(S=L?re:T,A=(A-S>>2|0)>(B|0)?S+(B<<2)|0:A,S=(e[vt>>2]|0)+q|0,e[vt>>2]=S,(S|0)>=0){z=T;break}else z=T}else z=T;do if(z>>>0<A>>>0){if(S=(Z-z>>2)*9|0,k=e[z>>2]|0,k>>>0<10)break;T=10;do T=T*10|0,S=S+1|0;while(k>>>0>=T>>>0)}else S=0;while(!1);if(M=(K|0)==103,R=(c|0)!=0,T=c-((K|0)!=102?S:0)+((R&M)<<31>>31)|0,(T|0)<(((A-Z>>2)*9|0)+-9|0)){if(D=T+9216|0,L=(D|0)/9|0,T=re+(L+-1023<<2)|0,D=((D|0)%9|0)+1|0,(D|0)<9){k=10;do k=k*10|0,D=D+1|0;while((D|0)!=9)}else k=10;q=e[T>>2]|0,B=(q>>>0)%(k>>>0)|0,!(B|0)&&(re+(L+-1022<<2)|0)==(A|0)?k=z:Ke=163;do if((Ke|0)==163){Ke=0,N=((q>>>0)/(k>>>0)|0)&1|0?9007199254740994:9007199254740992,D=(k|0)/2|0;do if(B>>>0<D>>>0)I=.5;else{if((B|0)==(D|0)&&(re+(L+-1022<<2)|0)==(A|0)){I=1;break}I=1.5}while(!1);do if(ee){if((m[se>>0]|0)!=45)break;N=-N,I=-I}while(!1);if(D=q-B|0,e[T>>2]=D,N+I==N){k=z;break}if(K=D+k|0,e[T>>2]=K,K>>>0>999999999)for(S=z;;)if(k=T+-4|0,e[T>>2]=0,k>>>0<S>>>0&&(S=S+-4|0,e[S>>2]=0),K=(e[k>>2]|0)+1|0,e[k>>2]=K,K>>>0>999999999)T=k;else{z=S,T=k;break}if(S=(Z-z>>2)*9|0,D=e[z>>2]|0,D>>>0<10){k=z;break}else k=10;do k=k*10|0,S=S+1|0;while(D>>>0>=k>>>0);k=z}while(!1);K=T+4|0,z=k,A=A>>>0>K>>>0?K:A}for(B=0-S|0;;){if(A>>>0<=z>>>0){L=0,K=A;break}if(T=A+-4|0,!(e[T>>2]|0))A=T;else{L=1,K=A;break}}do if(M){if(c=(R&1^1)+c|0,(c|0)>(S|0)&(S|0)>-5?(F=F+-1|0,c=c+-1-S|0):(F=F+-2|0,c=c+-1|0),A=Te&8,A)break;do if(L){if(A=e[K+-4>>2]|0,!A){T=9;break}if(!((A>>>0)%10|0))k=10,T=0;else{T=0;break}do k=k*10|0,T=T+1|0;while(!((A>>>0)%(k>>>0)|0|0))}else T=9;while(!1);if(A=((K-Z>>2)*9|0)+-9|0,(F|32|0)==102){A=A-T|0,A=(A|0)<0?0:A,c=(c|0)<(A|0)?c:A,A=0;break}else{A=A+S-T|0,A=(A|0)<0?0:A,c=(c|0)<(A|0)?c:A,A=0;break}}else A=Te&8;while(!1);if(q=c|A,k=(q|0)!=0&1,D=(F|32|0)==102,D)S=(S|0)>0?S:0,F=0;else{if(T=(S|0)<0?B:S,T=zi(T,((T|0)<0)<<31>>31,pt)|0,(L0-T|0)<2)do T=T+-1|0,m[T>>0]=48;while((L0-T|0)<2);m[T+-1>>0]=(S>>31&2)+43,Z=T+-2|0,m[Z>>0]=F,S=L0-Z|0,F=Z}B=ee+1+c+k+S|0,Vt(t,32,Se,B,Te),e[t>>2]&32||Nt(se,ee,t)|0,Vt(t,48,Se,B,Te^65536);do if(D){T=z>>>0>re>>>0?re:z,S=T;do{A=zi(e[S>>2]|0,0,l0)|0;do if((S|0)==(T|0)){if((A|0)!=(l0|0))break;m[s0>>0]=48,A=s0}else{if(A>>>0<=Ct>>>0)break;do A=A+-1|0,m[A>>0]=48;while(A>>>0>Ct>>>0)}while(!1);e[t>>2]&32||Nt(A,z0-A|0,t)|0,S=S+4|0}while(S>>>0<=re>>>0);do if(q){if(e[t>>2]&32)break;Nt(56755,1,t)|0}while(!1);if((c|0)>0&S>>>0<K>>>0)for(A=S;;){if(S=zi(e[A>>2]|0,0,l0)|0,S>>>0>Ct>>>0)do S=S+-1|0,m[S>>0]=48;while(S>>>0>Ct>>>0);if(e[t>>2]&32||Nt(S,(c|0)>9?9:c,t)|0,A=A+4|0,S=c+-9|0,(c|0)>9&A>>>0<K>>>0)c=S;else{c=S;break}}Vt(t,48,c+9|0,9,0)}else{if(D=L?K:z+4|0,(c|0)>-1){k=(A|0)==0,T=z;do{S=zi(e[T>>2]|0,0,l0)|0,(S|0)==(l0|0)&&(m[s0>>0]=48,S=s0);do if((T|0)==(z|0)){if(A=S+1|0,e[t>>2]&32||Nt(S,1,t)|0,k&(c|0)<1){S=A;break}if(e[t>>2]&32){S=A;break}Nt(56755,1,t)|0,S=A}else{if(S>>>0<=Ct>>>0)break;do S=S+-1|0,m[S>>0]=48;while(S>>>0>Ct>>>0)}while(!1);A=z0-S|0,e[t>>2]&32||Nt(S,(c|0)>(A|0)?A:c,t)|0,c=c-A|0,T=T+4|0}while(T>>>0<D>>>0&(c|0)>-1)}if(Vt(t,48,c+18|0,18,0),e[t>>2]&32)break;Nt(F,L0-F|0,t)|0}while(!1);Vt(t,32,Se,B,Te^8192),c=(B|0)<(Se|0)?Se:B}else D=(F&32|0)!=0,k=I!=I|!1,S=k?0:ee,T=S+3|0,Vt(t,32,Se,T,A),c=e[t>>2]|0,c&32||(Nt(se,S,t)|0,c=e[t>>2]|0),c&32||Nt(k?D?56747:56751:D?56739:56743,3,t)|0,Vt(t,32,Se,T,Te^8192),c=(T|0)<(Se|0)?Se:T;while(!1);z=_e;continue e}default:A=Te,S=T,D=0,F=56703,c=R0}while(!1);t:do if((Ke|0)==64)if(A=ot,S=e[A>>2]|0,A=e[A+4>>2]|0,k=F&32,(S|0)==0&(A|0)==0)c=R0,S=D,D=0,k=56703,Ke=77;else{c=R0;do c=c+-1|0,m[c>>0]=P[56687+(S&15)>>0]|k,S=Ci(S|0,A|0,4)|0,A=xe;while(!((S|0)==0&(A|0)==0));Ke=ot,(D&8|0)==0|(e[Ke>>2]|0)==0&(e[Ke+4>>2]|0)==0?(S=D,D=0,k=56703,Ke=77):(S=D,D=2,k=56703+(F>>4)|0,Ke=77)}else if((Ke|0)==76)c=zi(c,S,R0)|0,S=Te,D=A,Ke=77;else if((Ke|0)==82)Ke=0,Te=Gs(c,0,T)|0,se=(Te|0)==0,z=c,S=se?T:Te-c|0,D=0,F=56703,c=se?c+T|0:Te;else if((Ke|0)==86){for(Ke=0,S=0,c=0,k=e[ot>>2]|0;A=e[k>>2]|0,!(!A||(c=Rs(xi,A)|0,(c|0)<0|c>>>0>(T-S|0)>>>0));)if(S=c+S|0,T>>>0>S>>>0)k=k+4|0;else break;if((c|0)<0){f=-1;break e}if(Vt(t,32,Se,S,Te),!S)c=0,Ke=98;else for(A=0,T=e[ot>>2]|0;;){if(c=e[T>>2]|0,!c){c=S,Ke=98;break t}if(c=Rs(xi,c)|0,A=c+A|0,(A|0)>(S|0)){c=S,Ke=98;break t}if(e[t>>2]&32||Nt(xi,c,t)|0,A>>>0>=S>>>0){c=S,Ke=98;break}else T=T+4|0}}while(!1);if((Ke|0)==98){Ke=0,Vt(t,32,Se,c,Te^8192),z=_e,c=(Se|0)>(c|0)?Se:c;continue}(Ke|0)==77&&(Ke=0,A=(T|0)>-1?S&-65537:S,S=ot,S=(e[S>>2]|0)!=0|(e[S+4>>2]|0)!=0,(T|0)!=0|S?(S=(S&1^1)+(f0-c)|0,z=c,S=(T|0)>(S|0)?T:S,F=k,c=R0):(z=R0,S=0,F=k,c=R0)),k=c-z|0,S=(S|0)<(k|0)?k:S,T=D+S|0,c=(Se|0)<(T|0)?T:Se,Vt(t,32,c,T,A),e[t>>2]&32||Nt(F,D,t)|0,Vt(t,48,c,T,A^65536),Vt(t,48,S,k,0),e[t>>2]&32||Nt(z,k,t)|0,Vt(t,32,c,T,A^8192),z=_e}e:do if((Ke|0)==245&&!t)if(r){for(f=1;r=e[a+(f<<2)>>2]|0,!!r;)if(qo(s+(f<<3)|0,r,o),f=f+1|0,(f|0)>=10){f=1;break e}if((f|0)<10)for(;;){if(e[a+(f<<2)>>2]|0){f=-1;break e}if(f=f+1|0,(f|0)>=10){f=1;break}}else f=1}else f=0;while(!1);return b=mi,f|0}function Pd(t,r,o){return t=t|0,r=r|0,o=o|0,Ov(t,r,o)|0}function Fd(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0;S=b,b=b+112|0,c=S,a=c,f=a+112|0;do e[a>>2]=0,a=a+4|0;while((a|0)<(f|0));return a=c+4|0,e[a>>2]=t,f=c+8|0,e[f>>2]=-1,e[c+44>>2]=t,e[c+76>>2]=-1,ni(c,0),s=+Cs(c,o,1),o=(e[a>>2]|0)-(e[f>>2]|0)+(e[c+108>>2]|0)|0,r&&(e[r>>2]=o|0?t+o|0:t),b=S,+s}function zo(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0;return A=b,b=b+112|0,S=A,e[S>>2]=0,f=S+4|0,e[f>>2]=t,e[S+44>>2]=t,c=S+8|0,e[c>>2]=(t|0)<0?-1:t+2147483647|0,e[S+76>>2]=-1,ni(S,0),s=Es(S,o,1,s,a)|0,r&&(e[r>>2]=t+((e[f>>2]|0)+(e[S+108>>2]|0)-(e[c>>2]|0))),b=A,s|0}function Md(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0;return s=t+20|0,a=e[s>>2]|0,t=(e[t+16>>2]|0)-a|0,t=t>>>0>o>>>0?o:t,nt(a|0,r|0,t|0)|0,e[s>>2]=(e[s>>2]|0)+t,o|0}function qo(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0;e:do if(r>>>0<=20)do switch(r|0){case 9:{s=(e[o>>2]|0)+3&-4,r=e[s>>2]|0,e[o>>2]=s+4,e[t>>2]=r;break e}case 10:{s=(e[o>>2]|0)+3&-4,r=e[s>>2]|0,e[o>>2]=s+4,s=t,e[s>>2]=r,e[s+4>>2]=((r|0)<0)<<31>>31;break e}case 11:{s=(e[o>>2]|0)+3&-4,r=e[s>>2]|0,e[o>>2]=s+4,s=t,e[s>>2]=r,e[s+4>>2]=0;break e}case 12:{s=(e[o>>2]|0)+7&-8,r=s,a=e[r>>2]|0,r=e[r+4>>2]|0,e[o>>2]=s+8,s=t,e[s>>2]=a,e[s+4>>2]=r;break e}case 13:{a=(e[o>>2]|0)+3&-4,s=e[a>>2]|0,e[o>>2]=a+4,s=(s&65535)<<16>>16,a=t,e[a>>2]=s,e[a+4>>2]=((s|0)<0)<<31>>31;break e}case 14:{a=(e[o>>2]|0)+3&-4,s=e[a>>2]|0,e[o>>2]=a+4,a=t,e[a>>2]=s&65535,e[a+4>>2]=0;break e}case 15:{a=(e[o>>2]|0)+3&-4,s=e[a>>2]|0,e[o>>2]=a+4,s=(s&255)<<24>>24,a=t,e[a>>2]=s,e[a+4>>2]=((s|0)<0)<<31>>31;break e}case 16:{a=(e[o>>2]|0)+3&-4,s=e[a>>2]|0,e[o>>2]=a+4,a=t,e[a>>2]=s&255,e[a+4>>2]=0;break e}case 17:{a=(e[o>>2]|0)+7&-8,f=+V[a>>3],e[o>>2]=a+8,V[t>>3]=f;break e}case 18:{a=(e[o>>2]|0)+7&-8,f=+V[a>>3],e[o>>2]=a+8,V[t>>3]=f;break e}default:break e}while(!1);while(!1)}function zi(t,r,o){t=t|0,r=r|0,o=o|0;var s=0;if(r>>>0>0|(r|0)==0&t>>>0>4294967295)for(;;)if(s=bn(t|0,r|0,10,0)|0,o=o+-1|0,m[o>>0]=s|48,s=_r(t|0,r|0,10,0)|0,r>>>0>9|(r|0)==9&t>>>0>4294967295)t=s,r=xe;else{t=s;break}if(t)for(;o=o+-1|0,m[o>>0]=(t>>>0)%10|0|48,!(t>>>0<10);)t=(t>>>0)/10|0;return o|0}function Vt(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0;S=b,b=b+256|0,c=S;do if((o|0)>(s|0)&(a&73728|0)==0){if(a=o-s|0,j0(c|0,r|0,(a>>>0>256?256:a)|0)|0,r=e[t>>2]|0,f=(r&32|0)==0,a>>>0>255){s=o-s|0;do f&&(Nt(c,256,t)|0,r=e[t>>2]|0),a=a+-256|0,f=(r&32|0)==0;while(a>>>0>255);if(f)a=s&255;else break}else if(!f)break;Nt(c,a,t)|0}while(!1);b=S}function It(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0,_e=0,Se=0,Ke=0,$0=0,R0=0,rt=0,X0=0,M0=0,l0=0,z0=0,s0=0;do if(t>>>0<245){if(F=t>>>0<11?16:t+11&-8,t=F>>>3,S=e[10218]|0,o=S>>>t,o&3){t=(o&1^1)+t|0,s=t<<1,o=40912+(s<<2)|0,s=40912+(s+2<<2)|0,a=e[s>>2]|0,f=a+8|0,c=e[f>>2]|0;do if((o|0)!=(c|0))if(c>>>0<(e[10222]|0)>>>0&&u0(),r=c+12|0,(e[r>>2]|0)==(a|0)){e[r>>2]=o,e[s>>2]=c;break}else u0();else e[10218]=S&~(1<<t);while(!1);return s0=t<<3,e[a+4>>2]=s0|3,s0=a+(s0|4)|0,e[s0>>2]=e[s0>>2]|1,s0=f,s0|0}if(c=e[10220]|0,F>>>0>c>>>0){if(o){s=2<<t,s=o<<t&(s|0-s),s=(s&0-s)+-1|0,A=s>>>12&16,s=s>>>A,a=s>>>5&8,s=s>>>a,f=s>>>2&4,s=s>>>f,o=s>>>1&2,s=s>>>o,t=s>>>1&1,t=(a|A|f|o|t)+(s>>>t)|0,s=t<<1,o=40912+(s<<2)|0,s=40912+(s+2<<2)|0,f=e[s>>2]|0,A=f+8|0,a=e[A>>2]|0;do if((o|0)!=(a|0))if(a>>>0<(e[10222]|0)>>>0&&u0(),r=a+12|0,(e[r>>2]|0)==(f|0)){e[r>>2]=o,e[s>>2]=a,I=e[10220]|0;break}else u0();else e[10218]=S&~(1<<t),I=c;while(!1);return s0=t<<3,c=s0-F|0,e[f+4>>2]=F|3,S=f+F|0,e[f+(F|4)>>2]=c|1,e[f+s0>>2]=c,I&&(a=e[10223]|0,o=I>>>3,r=o<<1,s=40912+(r<<2)|0,t=e[10218]|0,o=1<<o,t&o?(t=40912+(r+2<<2)|0,r=e[t>>2]|0,r>>>0<(e[10222]|0)>>>0?u0():(T=t,k=r)):(e[10218]=t|o,T=40912+(r+2<<2)|0,k=s),e[T>>2]=a,e[k+12>>2]=a,e[a+8>>2]=k,e[a+12>>2]=s),e[10220]=c,e[10223]=S,s0=A,s0|0}if(t=e[10219]|0,t){for(o=(t&0-t)+-1|0,z0=o>>>12&16,o=o>>>z0,l0=o>>>5&8,o=o>>>l0,s0=o>>>2&4,o=o>>>s0,t=o>>>1&2,o=o>>>t,s=o>>>1&1,s=e[41176+((l0|z0|s0|t|s)+(o>>>s)<<2)>>2]|0,o=(e[s+4>>2]&-8)-F|0,t=s;;){if(r=e[t+16>>2]|0,!r&&(r=e[t+20>>2]|0,!r)){A=o;break}t=(e[r+4>>2]&-8)-F|0,s0=t>>>0<o>>>0,o=s0?t:o,t=r,s=s0?r:s}f=e[10222]|0,s>>>0<f>>>0&&u0(),S=s+F|0,s>>>0>=S>>>0&&u0(),c=e[s+24>>2]|0,o=e[s+12>>2]|0;do if((o|0)==(s|0)){if(t=s+20|0,r=e[t>>2]|0,!r&&(t=s+16|0,r=e[t>>2]|0,!r)){D=0;break}for(;;){if(o=r+20|0,a=e[o>>2]|0,a){r=a,t=o;continue}if(o=r+16|0,a=e[o>>2]|0,a)r=a,t=o;else break}if(t>>>0<f>>>0)u0();else{e[t>>2]=0,D=r;break}}else if(a=e[s+8>>2]|0,a>>>0<f>>>0&&u0(),r=a+12|0,(e[r>>2]|0)!=(s|0)&&u0(),t=o+8|0,(e[t>>2]|0)==(s|0)){e[r>>2]=o,e[t>>2]=a,D=o;break}else u0();while(!1);do if(c){if(r=e[s+28>>2]|0,t=41176+(r<<2)|0,(s|0)==(e[t>>2]|0)){if(e[t>>2]=D,!D){e[10219]=e[10219]&~(1<<r);break}}else if(c>>>0<(e[10222]|0)>>>0&&u0(),r=c+16|0,(e[r>>2]|0)==(s|0)?e[r>>2]=D:e[c+20>>2]=D,!D)break;t=e[10222]|0,D>>>0<t>>>0&&u0(),e[D+24>>2]=c,r=e[s+16>>2]|0;do if(r)if(r>>>0<t>>>0)u0();else{e[D+16>>2]=r,e[r+24>>2]=D;break}while(!1);if(r=e[s+20>>2]|0,r)if(r>>>0<(e[10222]|0)>>>0)u0();else{e[D+20>>2]=r,e[r+24>>2]=D;break}}while(!1);return A>>>0<16?(s0=A+F|0,e[s+4>>2]=s0|3,s0=s+(s0+4)|0,e[s0>>2]=e[s0>>2]|1):(e[s+4>>2]=F|3,e[s+(F|4)>>2]=A|1,e[s+(A+F)>>2]=A,r=e[10220]|0,r&&(f=e[10223]|0,o=r>>>3,r=o<<1,a=40912+(r<<2)|0,t=e[10218]|0,o=1<<o,t&o?(r=40912+(r+2<<2)|0,t=e[r>>2]|0,t>>>0<(e[10222]|0)>>>0?u0():(N=r,z=t)):(e[10218]=t|o,N=40912+(r+2<<2)|0,z=a),e[N>>2]=f,e[z+12>>2]=f,e[f+8>>2]=z,e[f+12>>2]=a),e[10220]=A,e[10223]=S),s0=s+8|0,s0|0}else z=F}else z=F}else if(t>>>0<=4294967231)if(t=t+11|0,k=t&-8,T=e[10219]|0,T){o=0-k|0,t=t>>>8,t?k>>>0>16777215?I=31:(z=(t+1048320|0)>>>16&8,R=t<<z,N=(R+520192|0)>>>16&4,R=R<<N,I=(R+245760|0)>>>16&2,I=14-(N|z|I)+(R<<I>>>15)|0,I=k>>>(I+7|0)&1|I<<1):I=0,t=e[41176+(I<<2)>>2]|0;e:do if(!t)a=0,t=0,R=86;else for(c=o,a=0,S=k<<((I|0)==31?0:25-(I>>>1)|0),A=t,t=0;;){if(f=e[A+4>>2]&-8,o=f-k|0,o>>>0<c>>>0)if((f|0)==(k|0)){f=A,t=A,R=90;break e}else t=A;else o=c;if(R=e[A+20>>2]|0,A=e[A+16+(S>>>31<<2)>>2]|0,a=(R|0)==0|(R|0)==(A|0)?a:R,A)c=o,S=S<<1;else{R=86;break}}while(!1);if((R|0)==86){if((a|0)==0&(t|0)==0){if(t=2<<I,t=T&(t|0-t),!t){z=k;break}t=(t&0-t)+-1|0,D=t>>>12&16,t=t>>>D,T=t>>>5&8,t=t>>>T,N=t>>>2&4,t=t>>>N,z=t>>>1&2,t=t>>>z,a=t>>>1&1,a=e[41176+((T|D|N|z|a)+(t>>>a)<<2)>>2]|0,t=0}a?(f=a,R=90):(S=o,A=t)}if((R|0)==90)for(;;){if(R=0,z=(e[f+4>>2]&-8)-k|0,a=z>>>0<o>>>0,o=a?z:o,t=a?f:t,a=e[f+16>>2]|0,a){f=a,R=90;continue}if(f=e[f+20>>2]|0,f)R=90;else{S=o,A=t;break}}if(A|0&&S>>>0<((e[10220]|0)-k|0)>>>0){a=e[10222]|0,A>>>0<a>>>0&&u0(),c=A+k|0,A>>>0>=c>>>0&&u0(),f=e[A+24>>2]|0,o=e[A+12>>2]|0;do if((o|0)==(A|0)){if(t=A+20|0,r=e[t>>2]|0,!r&&(t=A+16|0,r=e[t>>2]|0,!r)){F=0;break}for(;;){if(o=r+20|0,s=e[o>>2]|0,s){r=s,t=o;continue}if(o=r+16|0,s=e[o>>2]|0,s)r=s,t=o;else break}if(t>>>0<a>>>0)u0();else{e[t>>2]=0,F=r;break}}else if(s=e[A+8>>2]|0,s>>>0<a>>>0&&u0(),r=s+12|0,(e[r>>2]|0)!=(A|0)&&u0(),t=o+8|0,(e[t>>2]|0)==(A|0)){e[r>>2]=o,e[t>>2]=s,F=o;break}else u0();while(!1);do if(f){if(r=e[A+28>>2]|0,t=41176+(r<<2)|0,(A|0)==(e[t>>2]|0)){if(e[t>>2]=F,!F){e[10219]=e[10219]&~(1<<r);break}}else if(f>>>0<(e[10222]|0)>>>0&&u0(),r=f+16|0,(e[r>>2]|0)==(A|0)?e[r>>2]=F:e[f+20>>2]=F,!F)break;t=e[10222]|0,F>>>0<t>>>0&&u0(),e[F+24>>2]=f,r=e[A+16>>2]|0;do if(r)if(r>>>0<t>>>0)u0();else{e[F+16>>2]=r,e[r+24>>2]=F;break}while(!1);if(r=e[A+20>>2]|0,r)if(r>>>0<(e[10222]|0)>>>0)u0();else{e[F+20>>2]=r,e[r+24>>2]=F;break}}while(!1);e:do if(S>>>0>=16){if(e[A+4>>2]=k|3,e[A+(k|4)>>2]=S|1,e[A+(S+k)>>2]=S,r=S>>>3,S>>>0<256){t=r<<1,s=40912+(t<<2)|0,o=e[10218]|0,r=1<<r,o&r?(r=40912+(t+2<<2)|0,t=e[r>>2]|0,t>>>0<(e[10222]|0)>>>0?u0():(B=r,L=t)):(e[10218]=o|r,B=40912+(t+2<<2)|0,L=s),e[B>>2]=c,e[L+12>>2]=c,e[A+(k+8)>>2]=L,e[A+(k+12)>>2]=s;break}if(r=S>>>8,r?S>>>0>16777215?s=31:(z0=(r+1048320|0)>>>16&8,s0=r<<z0,l0=(s0+520192|0)>>>16&4,s0=s0<<l0,s=(s0+245760|0)>>>16&2,s=14-(l0|z0|s)+(s0<<s>>>15)|0,s=S>>>(s+7|0)&1|s<<1):s=0,r=41176+(s<<2)|0,e[A+(k+28)>>2]=s,e[A+(k+20)>>2]=0,e[A+(k+16)>>2]=0,t=e[10219]|0,o=1<<s,!(t&o)){e[10219]=t|o,e[r>>2]=c,e[A+(k+24)>>2]=r,e[A+(k+12)>>2]=c,e[A+(k+8)>>2]=c;break}r=e[r>>2]|0;t:do if((e[r+4>>2]&-8|0)!=(S|0)){for(s=S<<((s|0)==31?0:25-(s>>>1)|0);t=r+16+(s>>>31<<2)|0,o=e[t>>2]|0,!!o;)if((e[o+4>>2]&-8|0)==(S|0)){re=o;break t}else s=s<<1,r=o;if(t>>>0<(e[10222]|0)>>>0)u0();else{e[t>>2]=c,e[A+(k+24)>>2]=r,e[A+(k+12)>>2]=c,e[A+(k+8)>>2]=c;break e}}else re=r;while(!1);if(r=re+8|0,t=e[r>>2]|0,s0=e[10222]|0,t>>>0>=s0>>>0&re>>>0>=s0>>>0){e[t+12>>2]=c,e[r>>2]=c,e[A+(k+8)>>2]=t,e[A+(k+12)>>2]=re,e[A+(k+24)>>2]=0;break}else u0()}else s0=S+k|0,e[A+4>>2]=s0|3,s0=A+(s0+4)|0,e[s0>>2]=e[s0>>2]|1;while(!1);return s0=A+8|0,s0|0}else z=k}else z=k;else z=-1;while(!1);if(o=e[10220]|0,o>>>0>=z>>>0)return r=o-z|0,t=e[10223]|0,r>>>0>15?(e[10223]=t+z,e[10220]=r,e[t+(z+4)>>2]=r|1,e[t+o>>2]=r,e[t+4>>2]=z|3):(e[10220]=0,e[10223]=0,e[t+4>>2]=o|3,s0=t+(o+4)|0,e[s0>>2]=e[s0>>2]|1),s0=t+8|0,s0|0;if(t=e[10221]|0,t>>>0>z>>>0)return z0=t-z|0,e[10221]=z0,s0=e[10224]|0,e[10224]=s0+z,e[s0+(z+4)>>2]=z0|1,e[s0+4>>2]=z|3,s0=s0+8|0,s0|0;do if(!(e[10336]|0))if(t=ta(30)|0,t+-1&t)u0();else{e[10338]=t,e[10337]=t,e[10339]=-1,e[10340]=-1,e[10341]=0,e[10329]=0,re=(fa(0)|0)&-16^1431655768,e[10336]=re;break}while(!1);if(A=z+48|0,S=e[10338]|0,I=z+47|0,c=S+I|0,S=0-S|0,T=c&S,T>>>0<=z>>>0||(t=e[10328]|0,t|0&&(L=e[10326]|0,re=L+T|0,re>>>0<=L>>>0|re>>>0>t>>>0)))return s0=0,s0|0;e:do if(e[10329]&4)t=0,R=191;else{t=e[10224]|0;t:do if(t){for(a=41320;;){if(o=e[a>>2]|0,o>>>0<=t>>>0&&(q=a+4|0,(o+(e[q>>2]|0)|0)>>>0>t>>>0)){f=a,t=q;break}if(a=e[a+8>>2]|0,!a){R=174;break t}}if(o=c-(e[10221]|0)&S,o>>>0<2147483647)if(a=Fi(o|0)|0,re=(a|0)==((e[f>>2]|0)+(e[t>>2]|0)|0),t=re?o:0,re){if((a|0)!=-1){K=a,N=t,R=194;break e}}else R=184;else t=0}else R=174;while(!1);do if((R|0)==174)if(f=Fi(0)|0,(f|0)!=-1)if(t=f,o=e[10337]|0,a=o+-1|0,a&t?o=T-t+(a+t&0-o)|0:o=T,t=e[10326]|0,a=t+o|0,o>>>0>z>>>0&o>>>0<2147483647){if(re=e[10328]|0,re|0&&a>>>0<=t>>>0|a>>>0>re>>>0){t=0;break}if(a=Fi(o|0)|0,re=(a|0)==(f|0),t=re?o:0,re){K=f,N=t,R=194;break e}else R=184}else t=0;else t=0;while(!1);t:do if((R|0)==184){f=0-o|0;do if(A>>>0>o>>>0&(o>>>0<2147483647&(a|0)!=-1)&&(M=e[10338]|0,M=I-o+M&0-M,M>>>0<2147483647))if((Fi(M|0)|0)==-1){Fi(f|0)|0;break t}else{o=M+o|0;break}while(!1);if((a|0)!=-1){K=a,N=o,R=194;break e}}while(!1);e[10329]=e[10329]|4,R=191}while(!1);if((R|0)==191&&T>>>0<2147483647&&(K=Fi(T|0)|0,Z=Fi(0)|0,K>>>0<Z>>>0&((K|0)!=-1&(Z|0)!=-1))&&(ee=Z-K|0,se=ee>>>0>(z+40|0)>>>0,se)&&(N=se?ee:t,R=194),(R|0)==194){t=(e[10326]|0)+N|0,e[10326]=t,t>>>0>(e[10327]|0)>>>0&&(e[10327]=t),c=e[10224]|0;e:do if(c){f=41320;do{if(t=e[f>>2]|0,o=f+4|0,a=e[o>>2]|0,(K|0)==(t+a|0)){Te=t,_e=o,Se=a,Ke=f,R=204;break}f=e[f+8>>2]|0}while(f|0);if((R|0)==204&&!(e[Ke+12>>2]&8|0)&&c>>>0<K>>>0&c>>>0>=Te>>>0){e[_e>>2]=Se+N,s0=(e[10221]|0)+N|0,z0=c+8|0,z0=z0&7|0?0-z0&7:0,l0=s0-z0|0,e[10224]=c+z0,e[10221]=l0,e[c+(z0+4)>>2]=l0|1,e[c+(s0+4)>>2]=40,e[10225]=e[10340];break}for(t=e[10222]|0,K>>>0<t>>>0&&(e[10222]=K,t=K),o=K+N|0,f=41320;;){if((e[f>>2]|0)==(o|0)){a=f,o=f,R=212;break}if(f=e[f+8>>2]|0,!f){o=41320;break}}if((R|0)==212)if(e[o+12>>2]&8)o=41320;else{e[a>>2]=K,D=o+4|0,e[D>>2]=(e[D>>2]|0)+N,D=K+8|0,D=D&7|0?0-D&7:0,I=K+(N+8)|0,I=I&7|0?0-I&7:0,r=K+(I+N)|0,k=D+z|0,F=K+k|0,T=r-(K+D)-z|0,e[K+(D+4)>>2]=z|3;t:do if((r|0)!=(c|0)){if((r|0)==(e[10223]|0)){s0=(e[10220]|0)+T|0,e[10220]=s0,e[10223]=F,e[K+(k+4)>>2]=s0|1,e[K+(s0+k)>>2]=s0;break}if(S=N+4|0,o=e[K+(S+I)>>2]|0,(o&3|0)==1){A=o&-8,f=o>>>3;i:do if(o>>>0>=256){c=e[K+((I|24)+N)>>2]|0,s=e[K+(N+12+I)>>2]|0;do if((s|0)==(r|0)){if(a=I|16,s=K+(S+a)|0,o=e[s>>2]|0,!o&&(s=K+(a+N)|0,o=e[s>>2]|0,!o)){M0=0;break}for(;;){if(a=o+20|0,f=e[a>>2]|0,f){o=f,s=a;continue}if(a=o+16|0,f=e[a>>2]|0,f)o=f,s=a;else break}if(s>>>0<t>>>0)u0();else{e[s>>2]=0,M0=o;break}}else if(a=e[K+((I|8)+N)>>2]|0,a>>>0<t>>>0&&u0(),t=a+12|0,(e[t>>2]|0)!=(r|0)&&u0(),o=s+8|0,(e[o>>2]|0)==(r|0)){e[t>>2]=s,e[o>>2]=a,M0=s;break}else u0();while(!1);if(!c)break;t=e[K+(N+28+I)>>2]|0,o=41176+(t<<2)|0;do if((r|0)!=(e[o>>2]|0)){if(c>>>0<(e[10222]|0)>>>0&&u0(),t=c+16|0,(e[t>>2]|0)==(r|0)?e[t>>2]=M0:e[c+20>>2]=M0,!M0)break i}else{if(e[o>>2]=M0,M0)break;e[10219]=e[10219]&~(1<<t);break i}while(!1);o=e[10222]|0,M0>>>0<o>>>0&&u0(),e[M0+24>>2]=c,r=I|16,t=e[K+(r+N)>>2]|0;do if(t)if(t>>>0<o>>>0)u0();else{e[M0+16>>2]=t,e[t+24>>2]=M0;break}while(!1);if(r=e[K+(S+r)>>2]|0,!r)break;if(r>>>0<(e[10222]|0)>>>0)u0();else{e[M0+20>>2]=r,e[r+24>>2]=M0;break}}else{s=e[K+((I|8)+N)>>2]|0,a=e[K+(N+12+I)>>2]|0,o=40912+(f<<1<<2)|0;do if((s|0)!=(o|0)){if(s>>>0<t>>>0&&u0(),(e[s+12>>2]|0)==(r|0))break;u0()}while(!1);if((a|0)==(s|0)){e[10218]=e[10218]&~(1<<f);break}do if((a|0)==(o|0))$0=a+8|0;else{if(a>>>0<t>>>0&&u0(),t=a+8|0,(e[t>>2]|0)==(r|0)){$0=t;break}u0()}while(!1);e[s+12>>2]=a,e[$0>>2]=s}while(!1);r=K+((A|I)+N)|0,a=A+T|0}else a=T;if(r=r+4|0,e[r>>2]=e[r>>2]&-2,e[K+(k+4)>>2]=a|1,e[K+(a+k)>>2]=a,r=a>>>3,a>>>0<256){t=r<<1,s=40912+(t<<2)|0,o=e[10218]|0,r=1<<r;do if(!(o&r))e[10218]=o|r,l0=40912+(t+2<<2)|0,z0=s;else{if(r=40912+(t+2<<2)|0,t=e[r>>2]|0,t>>>0>=(e[10222]|0)>>>0){l0=r,z0=t;break}u0()}while(!1);e[l0>>2]=F,e[z0+12>>2]=F,e[K+(k+8)>>2]=z0,e[K+(k+12)>>2]=s;break}r=a>>>8;do if(!r)s=0;else{if(a>>>0>16777215){s=31;break}l0=(r+1048320|0)>>>16&8,z0=r<<l0,M0=(z0+520192|0)>>>16&4,z0=z0<<M0,s=(z0+245760|0)>>>16&2,s=14-(M0|l0|s)+(z0<<s>>>15)|0,s=a>>>(s+7|0)&1|s<<1}while(!1);if(r=41176+(s<<2)|0,e[K+(k+28)>>2]=s,e[K+(k+20)>>2]=0,e[K+(k+16)>>2]=0,t=e[10219]|0,o=1<<s,!(t&o)){e[10219]=t|o,e[r>>2]=F,e[K+(k+24)>>2]=r,e[K+(k+12)>>2]=F,e[K+(k+8)>>2]=F;break}r=e[r>>2]|0;i:do if((e[r+4>>2]&-8|0)!=(a|0)){for(s=a<<((s|0)==31?0:25-(s>>>1)|0);t=r+16+(s>>>31<<2)|0,o=e[t>>2]|0,!!o;)if((e[o+4>>2]&-8|0)==(a|0)){s0=o;break i}else s=s<<1,r=o;if(t>>>0<(e[10222]|0)>>>0)u0();else{e[t>>2]=F,e[K+(k+24)>>2]=r,e[K+(k+12)>>2]=F,e[K+(k+8)>>2]=F;break t}}else s0=r;while(!1);if(r=s0+8|0,t=e[r>>2]|0,z0=e[10222]|0,t>>>0>=z0>>>0&s0>>>0>=z0>>>0){e[t+12>>2]=F,e[r>>2]=F,e[K+(k+8)>>2]=t,e[K+(k+12)>>2]=s0,e[K+(k+24)>>2]=0;break}else u0()}else s0=(e[10221]|0)+T|0,e[10221]=s0,e[10224]=F,e[K+(k+4)>>2]=s0|1;while(!1);return s0=K+(D|8)|0,s0|0}for(;t=e[o>>2]|0,!(t>>>0<=c>>>0&&(r=e[o+4>>2]|0,s=t+r|0,s>>>0>c>>>0));)o=e[o+8>>2]|0;if(a=t+(r+-39)|0,t=t+(r+-47+(a&7|0?0-a&7:0))|0,a=c+16|0,t=t>>>0<a>>>0?c:t,r=t+8|0,o=K+8|0,o=o&7|0?0-o&7:0,s0=N+-40-o|0,e[10224]=K+o,e[10221]=s0,e[K+(o+4)>>2]=s0|1,e[K+(N+-36)>>2]=40,e[10225]=e[10340],o=t+4|0,e[o>>2]=27,e[r>>2]=e[10330],e[r+4>>2]=e[10331],e[r+8>>2]=e[10332],e[r+12>>2]=e[10333],e[10330]=K,e[10331]=N,e[10333]=0,e[10332]=r,r=t+28|0,e[r>>2]=7,(t+32|0)>>>0<s>>>0)do s0=r,r=r+4|0,e[r>>2]=7;while((s0+8|0)>>>0<s>>>0);if((t|0)!=(c|0)){if(f=t-c|0,e[o>>2]=e[o>>2]&-2,e[c+4>>2]=f|1,e[t>>2]=f,r=f>>>3,f>>>0<256){t=r<<1,s=40912+(t<<2)|0,o=e[10218]|0,r=1<<r,o&r?(r=40912+(t+2<<2)|0,t=e[r>>2]|0,t>>>0<(e[10222]|0)>>>0?u0():(R0=r,rt=t)):(e[10218]=o|r,R0=40912+(t+2<<2)|0,rt=s),e[R0>>2]=c,e[rt+12>>2]=c,e[c+8>>2]=rt,e[c+12>>2]=s;break}if(r=f>>>8,r?f>>>0>16777215?s=31:(z0=(r+1048320|0)>>>16&8,s0=r<<z0,l0=(s0+520192|0)>>>16&4,s0=s0<<l0,s=(s0+245760|0)>>>16&2,s=14-(l0|z0|s)+(s0<<s>>>15)|0,s=f>>>(s+7|0)&1|s<<1):s=0,o=41176+(s<<2)|0,e[c+28>>2]=s,e[c+20>>2]=0,e[a>>2]=0,r=e[10219]|0,t=1<<s,!(r&t)){e[10219]=r|t,e[o>>2]=c,e[c+24>>2]=o,e[c+12>>2]=c,e[c+8>>2]=c;break}r=e[o>>2]|0;t:do if((e[r+4>>2]&-8|0)!=(f|0)){for(s=f<<((s|0)==31?0:25-(s>>>1)|0);t=r+16+(s>>>31<<2)|0,o=e[t>>2]|0,!!o;)if((e[o+4>>2]&-8|0)==(f|0)){X0=o;break t}else s=s<<1,r=o;if(t>>>0<(e[10222]|0)>>>0)u0();else{e[t>>2]=c,e[c+24>>2]=r,e[c+12>>2]=c,e[c+8>>2]=c;break e}}else X0=r;while(!1);if(r=X0+8|0,t=e[r>>2]|0,s0=e[10222]|0,t>>>0>=s0>>>0&X0>>>0>=s0>>>0){e[t+12>>2]=c,e[r>>2]=c,e[c+8>>2]=t,e[c+12>>2]=X0,e[c+24>>2]=0;break}else u0()}}else{s0=e[10222]|0,(s0|0)==0|K>>>0<s0>>>0&&(e[10222]=K),e[10330]=K,e[10331]=N,e[10333]=0,e[10227]=e[10336],e[10226]=-1,r=0;do s0=r<<1,z0=40912+(s0<<2)|0,e[40912+(s0+3<<2)>>2]=z0,e[40912+(s0+2<<2)>>2]=z0,r=r+1|0;while((r|0)!=32);s0=K+8|0,s0=s0&7|0?0-s0&7:0,z0=N+-40-s0|0,e[10224]=K+s0,e[10221]=z0,e[K+(s0+4)>>2]=z0|1,e[K+(N+-36)>>2]=40,e[10225]=e[10340]}while(!1);if(r=e[10221]|0,r>>>0>z>>>0)return z0=r-z|0,e[10221]=z0,s0=e[10224]|0,e[10224]=s0+z,e[s0+(z+4)>>2]=z0|1,e[s0+4>>2]=z|3,s0=s0+8|0,s0|0}return s0=gt()|0,e[s0>>2]=12,s0=0,s0|0}function Z0(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0;if(t){r=t+-8|0,S=e[10222]|0,r>>>0<S>>>0&&u0(),o=e[t+-4>>2]|0,s=o&3,(s|0)==1&&u0(),F=o&-8,z=t+(F+-8)|0;do if(o&1)M=r,f=F;else{if(r=e[r>>2]|0,!s)return;if(A=-8-r|0,T=t+A|0,k=r+F|0,T>>>0<S>>>0&&u0(),(T|0)==(e[10223]|0)){if(r=t+(F+-4)|0,o=e[r>>2]|0,(o&3|0)!=3){M=T,f=k;break}e[10220]=k,e[r>>2]=o&-2,e[t+(A+4)>>2]=k|1,e[z>>2]=k;return}if(a=r>>>3,r>>>0<256){if(s=e[t+(A+8)>>2]|0,o=e[t+(A+12)>>2]|0,r=40912+(a<<1<<2)|0,(s|0)!=(r|0)&&(s>>>0<S>>>0&&u0(),(e[s+12>>2]|0)!=(T|0)&&u0()),(o|0)==(s|0)){e[10218]=e[10218]&~(1<<a),M=T,f=k;break}(o|0)!=(r|0)?(o>>>0<S>>>0&&u0(),r=o+8|0,(e[r>>2]|0)==(T|0)?c=r:u0()):c=o+8|0,e[s+12>>2]=o,e[c>>2]=s,M=T,f=k;break}c=e[t+(A+24)>>2]|0,s=e[t+(A+12)>>2]|0;do if((s|0)==(T|0)){if(o=t+(A+20)|0,r=e[o>>2]|0,!r&&(o=t+(A+16)|0,r=e[o>>2]|0,!r)){I=0;break}for(;;){if(s=r+20|0,a=e[s>>2]|0,a){r=a,o=s;continue}if(s=r+16|0,a=e[s>>2]|0,a)r=a,o=s;else break}if(o>>>0<S>>>0)u0();else{e[o>>2]=0,I=r;break}}else if(a=e[t+(A+8)>>2]|0,a>>>0<S>>>0&&u0(),r=a+12|0,(e[r>>2]|0)!=(T|0)&&u0(),o=s+8|0,(e[o>>2]|0)==(T|0)){e[r>>2]=s,e[o>>2]=a,I=s;break}else u0();while(!1);if(c){if(r=e[t+(A+28)>>2]|0,o=41176+(r<<2)|0,(T|0)==(e[o>>2]|0)){if(e[o>>2]=I,!I){e[10219]=e[10219]&~(1<<r),M=T,f=k;break}}else if(c>>>0<(e[10222]|0)>>>0&&u0(),r=c+16|0,(e[r>>2]|0)==(T|0)?e[r>>2]=I:e[c+20>>2]=I,!I){M=T,f=k;break}o=e[10222]|0,I>>>0<o>>>0&&u0(),e[I+24>>2]=c,r=e[t+(A+16)>>2]|0;do if(r)if(r>>>0<o>>>0)u0();else{e[I+16>>2]=r,e[r+24>>2]=I;break}while(!1);if(r=e[t+(A+20)>>2]|0,r)if(r>>>0<(e[10222]|0)>>>0)u0();else{e[I+20>>2]=r,e[r+24>>2]=I,M=T,f=k;break}else M=T,f=k}else M=T,f=k}while(!1);if(M>>>0>=z>>>0&&u0(),r=t+(F+-4)|0,o=e[r>>2]|0,o&1||u0(),o&2)e[r>>2]=o&-2,e[M+4>>2]=f|1,e[M+f>>2]=f;else{if((z|0)==(e[10224]|0)){if(L=(e[10221]|0)+f|0,e[10221]=L,e[10224]=M,e[M+4>>2]=L|1,(M|0)!=(e[10223]|0))return;e[10223]=0,e[10220]=0;return}if((z|0)==(e[10223]|0)){L=(e[10220]|0)+f|0,e[10220]=L,e[10223]=M,e[M+4>>2]=L|1,e[M+L>>2]=L;return}f=(o&-8)+f|0,a=o>>>3;do if(o>>>0>=256){c=e[t+(F+16)>>2]|0,r=e[t+(F|4)>>2]|0;do if((r|0)==(z|0)){if(o=t+(F+12)|0,r=e[o>>2]|0,!r&&(o=t+(F+8)|0,r=e[o>>2]|0,!r)){N=0;break}for(;;){if(s=r+20|0,a=e[s>>2]|0,a){r=a,o=s;continue}if(s=r+16|0,a=e[s>>2]|0,a)r=a,o=s;else break}if(o>>>0<(e[10222]|0)>>>0)u0();else{e[o>>2]=0,N=r;break}}else if(o=e[t+F>>2]|0,o>>>0<(e[10222]|0)>>>0&&u0(),s=o+12|0,(e[s>>2]|0)!=(z|0)&&u0(),a=r+8|0,(e[a>>2]|0)==(z|0)){e[s>>2]=r,e[a>>2]=o,N=r;break}else u0();while(!1);if(c){if(r=e[t+(F+20)>>2]|0,o=41176+(r<<2)|0,(z|0)==(e[o>>2]|0)){if(e[o>>2]=N,!N){e[10219]=e[10219]&~(1<<r);break}}else if(c>>>0<(e[10222]|0)>>>0&&u0(),r=c+16|0,(e[r>>2]|0)==(z|0)?e[r>>2]=N:e[c+20>>2]=N,!N)break;o=e[10222]|0,N>>>0<o>>>0&&u0(),e[N+24>>2]=c,r=e[t+(F+8)>>2]|0;do if(r)if(r>>>0<o>>>0)u0();else{e[N+16>>2]=r,e[r+24>>2]=N;break}while(!1);if(r=e[t+(F+12)>>2]|0,r)if(r>>>0<(e[10222]|0)>>>0)u0();else{e[N+20>>2]=r,e[r+24>>2]=N;break}}}else{if(s=e[t+F>>2]|0,o=e[t+(F|4)>>2]|0,r=40912+(a<<1<<2)|0,(s|0)!=(r|0)&&(s>>>0<(e[10222]|0)>>>0&&u0(),(e[s+12>>2]|0)!=(z|0)&&u0()),(o|0)==(s|0)){e[10218]=e[10218]&~(1<<a);break}(o|0)!=(r|0)?(o>>>0<(e[10222]|0)>>>0&&u0(),r=o+8|0,(e[r>>2]|0)==(z|0)?D=r:u0()):D=o+8|0,e[s+12>>2]=o,e[D>>2]=s}while(!1);if(e[M+4>>2]=f|1,e[M+f>>2]=f,(M|0)==(e[10223]|0)){e[10220]=f;return}}if(r=f>>>3,f>>>0<256){o=r<<1,a=40912+(o<<2)|0,s=e[10218]|0,r=1<<r,s&r?(r=40912+(o+2<<2)|0,o=e[r>>2]|0,o>>>0<(e[10222]|0)>>>0?u0():(q=r,B=o)):(e[10218]=s|r,q=40912+(o+2<<2)|0,B=a),e[q>>2]=M,e[B+12>>2]=M,e[M+8>>2]=B,e[M+12>>2]=a;return}r=f>>>8,r?f>>>0>16777215?a=31:(q=(r+1048320|0)>>>16&8,B=r<<q,z=(B+520192|0)>>>16&4,B=B<<z,a=(B+245760|0)>>>16&2,a=14-(z|q|a)+(B<<a>>>15)|0,a=f>>>(a+7|0)&1|a<<1):a=0,r=41176+(a<<2)|0,e[M+28>>2]=a,e[M+20>>2]=0,e[M+16>>2]=0,o=e[10219]|0,s=1<<a;e:do if(o&s){r=e[r>>2]|0;t:do if((e[r+4>>2]&-8|0)!=(f|0)){for(a=f<<((a|0)==31?0:25-(a>>>1)|0);o=r+16+(a>>>31<<2)|0,s=e[o>>2]|0,!!s;)if((e[s+4>>2]&-8|0)==(f|0)){L=s;break t}else a=a<<1,r=s;if(o>>>0<(e[10222]|0)>>>0)u0();else{e[o>>2]=M,e[M+24>>2]=r,e[M+12>>2]=M,e[M+8>>2]=M;break e}}else L=r;while(!1);if(r=L+8|0,o=e[r>>2]|0,B=e[10222]|0,o>>>0>=B>>>0&L>>>0>=B>>>0){e[o+12>>2]=M,e[r>>2]=M,e[M+8>>2]=o,e[M+12>>2]=L,e[M+24>>2]=0;break}else u0()}else e[10219]=o|s,e[r>>2]=M,e[M+24>>2]=r,e[M+12>>2]=M,e[M+8>>2]=M;while(!1);if(M=(e[10226]|0)+-1|0,e[10226]=M,!M)r=41328;else return;for(;r=e[r>>2]|0,r;)r=r+8|0;e[10226]=-1}}function Rd(t,r){t=t|0,r=r|0;var o=0;return t?(o=J(r,t)|0,(r|t)>>>0>65535&&(o=((o>>>0)/(t>>>0)|0|0)==(r|0)?o:-1)):o=0,r=It(o)|0,!r||!(e[r+-4>>2]&3)||j0(r|0,0,o|0)|0,r|0}function qi(t,r){t=t|0,r=r|0;var o=0,s=0;return t?r>>>0>4294967231?(t=gt()|0,e[t>>2]=12,t=0,t|0):(o=Od(t+-8|0,r>>>0<11?16:r+11&-8)|0,o?(t=o+8|0,t|0):(o=It(r)|0,o?(s=e[t+-4>>2]|0,s=(s&-8)-(s&3|0?4:8)|0,nt(o|0,t|0,(s>>>0<r>>>0?s:r)|0)|0,Z0(t),t=o,t|0):(t=0,t|0))):(t=It(r)|0,t|0)}function Od(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;if(F=t+4|0,N=e[F>>2]|0,A=N&-8,T=t+A|0,S=e[10222]|0,o=N&3,(o|0)!=1&t>>>0>=S>>>0&t>>>0<T>>>0||u0(),s=t+(A|4)|0,a=e[s>>2]|0,a&1||u0(),!o)return r>>>0<256?(t=0,t|0):(A>>>0>=(r+4|0)>>>0&&(A-r|0)>>>0<=e[10338]<<1>>>0||(t=0),t|0);if(A>>>0>=r>>>0)return o=A-r|0,o>>>0<=15||(e[F>>2]=N&1|r|2,e[t+(r+4)>>2]=o|3,e[s>>2]=e[s>>2]|1,Go(t+r|0,o)),t|0;if((T|0)==(e[10224]|0))return o=(e[10221]|0)+A|0,o>>>0<=r>>>0?(t=0,t|0):(D=o-r|0,e[F>>2]=N&1|r|2,e[t+(r+4)>>2]=D|1,e[10224]=t+r,e[10221]=D,t|0);if((T|0)==(e[10223]|0))return s=(e[10220]|0)+A|0,s>>>0<r>>>0?(t=0,t|0):(o=s-r|0,o>>>0>15?(e[F>>2]=N&1|r|2,e[t+(r+4)>>2]=o|1,e[t+s>>2]=o,s=t+(s+4)|0,e[s>>2]=e[s>>2]&-2,s=t+r|0):(e[F>>2]=N&1|s|2,s=t+(s+4)|0,e[s>>2]=e[s>>2]|1,s=0,o=0),e[10220]=o,e[10223]=s,t|0);if(a&2||(k=(a&-8)+A|0,k>>>0<r>>>0))return t=0,t|0;D=k-r|0,f=a>>>3;do if(a>>>0>=256){c=e[t+(A+24)>>2]|0,f=e[t+(A+12)>>2]|0;do if((f|0)==(T|0)){if(s=t+(A+20)|0,o=e[s>>2]|0,!o&&(s=t+(A+16)|0,o=e[s>>2]|0,!o)){I=0;break}for(;;){if(a=o+20|0,f=e[a>>2]|0,f){o=f,s=a;continue}if(a=o+16|0,f=e[a>>2]|0,f)o=f,s=a;else break}if(s>>>0<S>>>0)u0();else{e[s>>2]=0,I=o;break}}else if(a=e[t+(A+8)>>2]|0,a>>>0<S>>>0&&u0(),o=a+12|0,(e[o>>2]|0)!=(T|0)&&u0(),s=f+8|0,(e[s>>2]|0)==(T|0)){e[o>>2]=f,e[s>>2]=a,I=f;break}else u0();while(!1);if(c){if(o=e[t+(A+28)>>2]|0,s=41176+(o<<2)|0,(T|0)==(e[s>>2]|0)){if(e[s>>2]=I,!I){e[10219]=e[10219]&~(1<<o);break}}else if(c>>>0<(e[10222]|0)>>>0&&u0(),o=c+16|0,(e[o>>2]|0)==(T|0)?e[o>>2]=I:e[c+20>>2]=I,!I)break;s=e[10222]|0,I>>>0<s>>>0&&u0(),e[I+24>>2]=c,o=e[t+(A+16)>>2]|0;do if(o)if(o>>>0<s>>>0)u0();else{e[I+16>>2]=o,e[o+24>>2]=I;break}while(!1);if(o=e[t+(A+20)>>2]|0,o)if(o>>>0<(e[10222]|0)>>>0)u0();else{e[I+20>>2]=o,e[o+24>>2]=I;break}}}else{if(a=e[t+(A+8)>>2]|0,s=e[t+(A+12)>>2]|0,o=40912+(f<<1<<2)|0,(a|0)!=(o|0)&&(a>>>0<S>>>0&&u0(),(e[a+12>>2]|0)!=(T|0)&&u0()),(s|0)==(a|0)){e[10218]=e[10218]&~(1<<f);break}(s|0)!=(o|0)?(s>>>0<S>>>0&&u0(),o=s+8|0,(e[o>>2]|0)==(T|0)?c=o:u0()):c=s+8|0,e[a+12>>2]=s,e[c>>2]=a}while(!1);return D>>>0<16?(e[F>>2]=k|N&1|2,r=t+(k|4)|0,e[r>>2]=e[r>>2]|1,t|0):(e[F>>2]=N&1|r|2,e[t+(r+4)>>2]=D|3,N=t+(k|4)|0,e[N>>2]=e[N>>2]|1,Go(t+r|0,D),t|0)}function Go(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0;z=t+r|0,o=e[t+4>>2]|0;do if(o&1)L=t,c=r;else{if(I=e[t>>2]|0,!(o&3))return;if(D=t+(0-I)|0,k=I+r|0,A=e[10222]|0,D>>>0<A>>>0&&u0(),(D|0)==(e[10223]|0)){if(s=t+(r+4)|0,o=e[s>>2]|0,(o&3|0)!=3){L=D,c=k;break}e[10220]=k,e[s>>2]=o&-2,e[t+(4-I)>>2]=k|1,e[z>>2]=k;return}if(f=I>>>3,I>>>0<256){if(a=e[t+(8-I)>>2]|0,s=e[t+(12-I)>>2]|0,o=40912+(f<<1<<2)|0,(a|0)!=(o|0)&&(a>>>0<A>>>0&&u0(),(e[a+12>>2]|0)!=(D|0)&&u0()),(s|0)==(a|0)){e[10218]=e[10218]&~(1<<f),L=D,c=k;break}(s|0)!=(o|0)?(s>>>0<A>>>0&&u0(),o=s+8|0,(e[o>>2]|0)==(D|0)?S=o:u0()):S=s+8|0,e[a+12>>2]=s,e[S>>2]=a,L=D,c=k;break}S=e[t+(24-I)>>2]|0,a=e[t+(12-I)>>2]|0;do if((a|0)==(D|0)){if(a=16-I|0,s=t+(a+4)|0,o=e[s>>2]|0,!o&&(s=t+a|0,o=e[s>>2]|0,!o)){T=0;break}for(;;){if(a=o+20|0,f=e[a>>2]|0,f){o=f,s=a;continue}if(a=o+16|0,f=e[a>>2]|0,f)o=f,s=a;else break}if(s>>>0<A>>>0)u0();else{e[s>>2]=0,T=o;break}}else if(f=e[t+(8-I)>>2]|0,f>>>0<A>>>0&&u0(),o=f+12|0,(e[o>>2]|0)!=(D|0)&&u0(),s=a+8|0,(e[s>>2]|0)==(D|0)){e[o>>2]=a,e[s>>2]=f,T=a;break}else u0();while(!1);if(S){if(o=e[t+(28-I)>>2]|0,s=41176+(o<<2)|0,(D|0)==(e[s>>2]|0)){if(e[s>>2]=T,!T){e[10219]=e[10219]&~(1<<o),L=D,c=k;break}}else if(S>>>0<(e[10222]|0)>>>0&&u0(),o=S+16|0,(e[o>>2]|0)==(D|0)?e[o>>2]=T:e[S+20>>2]=T,!T){L=D,c=k;break}a=e[10222]|0,T>>>0<a>>>0&&u0(),e[T+24>>2]=S,o=16-I|0,s=e[t+o>>2]|0;do if(s)if(s>>>0<a>>>0)u0();else{e[T+16>>2]=s,e[s+24>>2]=T;break}while(!1);if(o=e[t+(o+4)>>2]|0,o)if(o>>>0<(e[10222]|0)>>>0)u0();else{e[T+20>>2]=o,e[o+24>>2]=T,L=D,c=k;break}else L=D,c=k}else L=D,c=k}while(!1);if(A=e[10222]|0,z>>>0<A>>>0&&u0(),o=t+(r+4)|0,s=e[o>>2]|0,s&2)e[o>>2]=s&-2,e[L+4>>2]=c|1,e[L+c>>2]=c;else{if((z|0)==(e[10224]|0)){if(B=(e[10221]|0)+c|0,e[10221]=B,e[10224]=L,e[L+4>>2]=B|1,(L|0)!=(e[10223]|0))return;e[10223]=0,e[10220]=0;return}if((z|0)==(e[10223]|0)){B=(e[10220]|0)+c|0,e[10220]=B,e[10223]=L,e[L+4>>2]=B|1,e[L+B>>2]=B;return}c=(s&-8)+c|0,f=s>>>3;do if(s>>>0>=256){S=e[t+(r+24)>>2]|0,a=e[t+(r+12)>>2]|0;do if((a|0)==(z|0)){if(s=t+(r+20)|0,o=e[s>>2]|0,!o&&(s=t+(r+16)|0,o=e[s>>2]|0,!o)){N=0;break}for(;;){if(a=o+20|0,f=e[a>>2]|0,f){o=f,s=a;continue}if(a=o+16|0,f=e[a>>2]|0,f)o=f,s=a;else break}if(s>>>0<A>>>0)u0();else{e[s>>2]=0,N=o;break}}else if(f=e[t+(r+8)>>2]|0,f>>>0<A>>>0&&u0(),o=f+12|0,(e[o>>2]|0)!=(z|0)&&u0(),s=a+8|0,(e[s>>2]|0)==(z|0)){e[o>>2]=a,e[s>>2]=f,N=a;break}else u0();while(!1);if(S){if(o=e[t+(r+28)>>2]|0,s=41176+(o<<2)|0,(z|0)==(e[s>>2]|0)){if(e[s>>2]=N,!N){e[10219]=e[10219]&~(1<<o);break}}else if(S>>>0<(e[10222]|0)>>>0&&u0(),o=S+16|0,(e[o>>2]|0)==(z|0)?e[o>>2]=N:e[S+20>>2]=N,!N)break;s=e[10222]|0,N>>>0<s>>>0&&u0(),e[N+24>>2]=S,o=e[t+(r+16)>>2]|0;do if(o)if(o>>>0<s>>>0)u0();else{e[N+16>>2]=o,e[o+24>>2]=N;break}while(!1);if(o=e[t+(r+20)>>2]|0,o)if(o>>>0<(e[10222]|0)>>>0)u0();else{e[N+20>>2]=o,e[o+24>>2]=N;break}}}else{if(a=e[t+(r+8)>>2]|0,s=e[t+(r+12)>>2]|0,o=40912+(f<<1<<2)|0,(a|0)!=(o|0)&&(a>>>0<A>>>0&&u0(),(e[a+12>>2]|0)!=(z|0)&&u0()),(s|0)==(a|0)){e[10218]=e[10218]&~(1<<f);break}(s|0)!=(o|0)?(s>>>0<A>>>0&&u0(),o=s+8|0,(e[o>>2]|0)==(z|0)?F=o:u0()):F=s+8|0,e[a+12>>2]=s,e[F>>2]=a}while(!1);if(e[L+4>>2]=c|1,e[L+c>>2]=c,(L|0)==(e[10223]|0)){e[10220]=c;return}}if(o=c>>>3,c>>>0<256){s=o<<1,f=40912+(s<<2)|0,a=e[10218]|0,o=1<<o,a&o?(o=40912+(s+2<<2)|0,s=e[o>>2]|0,s>>>0<(e[10222]|0)>>>0?u0():(q=o,B=s)):(e[10218]=a|o,q=40912+(s+2<<2)|0,B=f),e[q>>2]=L,e[B+12>>2]=L,e[L+8>>2]=B,e[L+12>>2]=f;return}if(o=c>>>8,o?c>>>0>16777215?f=31:(q=(o+1048320|0)>>>16&8,B=o<<q,z=(B+520192|0)>>>16&4,B=B<<z,f=(B+245760|0)>>>16&2,f=14-(z|q|f)+(B<<f>>>15)|0,f=c>>>(f+7|0)&1|f<<1):f=0,o=41176+(f<<2)|0,e[L+28>>2]=f,e[L+20>>2]=0,e[L+16>>2]=0,s=e[10219]|0,a=1<<f,!(s&a)){e[10219]=s|a,e[o>>2]=L,e[L+24>>2]=o,e[L+12>>2]=L,e[L+8>>2]=L;return}o=e[o>>2]|0;e:do if((e[o+4>>2]&-8|0)!=(c|0)){for(f=c<<((f|0)==31?0:25-(f>>>1)|0);s=o+16+(f>>>31<<2)|0,a=e[s>>2]|0,!!a;)if((e[a+4>>2]&-8|0)==(c|0)){o=a;break e}else f=f<<1,o=a;s>>>0<(e[10222]|0)>>>0&&u0(),e[s>>2]=L,e[L+24>>2]=o,e[L+12>>2]=L,e[L+8>>2]=L;return}while(!1);s=o+8|0,a=e[s>>2]|0,B=e[10222]|0,a>>>0>=B>>>0&o>>>0>=B>>>0||u0(),e[a+12>>2]=L,e[s>>2]=L,e[L+8>>2]=a,e[L+12>>2]=o,e[L+24>>2]=0}function Ld(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0;if(s=e[9321]|0,Vd(42048,s,42104),e[10342]=42892,e[10344]=42912,e[10343]=0,t=e[10720]|0,h=0,de(62,41368+t|0,42048),f=h,h=0,f&1&&(f=Q()|0,Ye(41376),ne(f|0)),e[41368+(t+72)>>2]=0,e[41368+(t+76)>>2]=-1,a=e[9322]|0,$o(42152,a,42112),e[10364]=42972,e[10365]=42992,o=e[10740]|0,h=0,de(62,41456+o|0,42152),f=h,h=0,f&1&&(f=Q()|0,Ye(41460),ne(f|0)),t=o+72|0,e[41456+t>>2]=0,r=o+76|0,e[41456+r>>2]=-1,f=e[9320]|0,$o(42200,f,42120),e[10385]=42972,e[10386]=42992,h=0,de(62,41540+o|0,42200),c=h,h=0,c&1&&(c=Q()|0,Ye(41544),ne(c|0)),e[41540+t>>2]=0,e[41540+r>>2]=-1,c=e[41540+((e[(e[10385]|0)+-12>>2]|0)+24)>>2]|0,e[10406]=42972,e[10407]=42992,h=0,de(62,41624+o|0,c|0),c=h,h=0,c&1&&(c=Q()|0,Ye(41628),ne(c|0)),e[41624+t>>2]=0,e[41624+r>>2]=-1,e[41368+((e[(e[10342]|0)+-12>>2]|0)+72)>>2]=41456,t=41540+((e[(e[10385]|0)+-12>>2]|0)+4)|0,e[t>>2]=e[t>>2]|8192,e[41540+((e[(e[10385]|0)+-12>>2]|0)+72)>>2]=41456,zd(42248,s,42128),e[10427]=42932,e[10429]=42952,e[10428]=0,t=e[10730]|0,h=0,de(62,41708+t|0,42248),c=h,h=0,c&1&&(c=Q()|0,vr(41716),ne(c|0)),e[41708+(t+72)>>2]=0,e[41708+(t+76)>>2]=-1,Ho(42304,a,42136),e[10449]=43012,e[10450]=43032,o=e[10750]|0,h=0,de(62,41796+o|0,42304),c=h,h=0,c&1&&(c=Q()|0,vr(41800),ne(c|0)),t=o+72|0,e[41796+t>>2]=0,r=o+76|0,e[41796+r>>2]=-1,Ho(42352,f,42144),e[10470]=43012,e[10471]=43032,h=0,de(62,41880+o|0,42352),c=h,h=0,c&1&&(c=Q()|0,vr(41884),ne(c|0)),e[41880+t>>2]=0,e[41880+r>>2]=-1,c=e[41880+((e[(e[10470]|0)+-12>>2]|0)+24)>>2]|0,e[10491]=43012,e[10492]=43032,h=0,de(62,41964+o|0,c|0),c=h,h=0,c&1)c=Q()|0,vr(41968),ne(c|0);else{e[41964+t>>2]=0,e[41964+r>>2]=-1,e[41708+((e[(e[10427]|0)+-12>>2]|0)+72)>>2]=41796,c=41880+((e[(e[10470]|0)+-12>>2]|0)+4)|0,e[c>>2]=e[c>>2]|8192,e[41880+((e[(e[10470]|0)+-12>>2]|0)+72)>>2]=41796;return}}function Nd(t){t=t|0,h=0,ce(70,41456)|0,t=h,h=0,!(!(t&1)&&(h=0,ce(70,41624)|0,t=h,h=0,!(t&1))&&(h=0,ce(71,41796)|0,t=h,h=0,!(t&1))&&(h=0,ce(71,41964)|0,t=h,h=0,!(t&1)))&&(t=Q(0)|0,b0(t))}function Bd(){Ld(0),x0(187,56757,j|0)|0}function Ud(){}function Vd(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0;if(a=b,b=b+16|0,f=a+4|0,s=a,_n(t),e[t>>2]=42600,e[t+32>>2]=r,e[t+40>>2]=o,e[t+48>>2]=-1,m[t+52>>0]=0,er(f,t+4|0),e[s>>2]=e[f>>2],h=0,de(23,t|0,s|0),o=h,h=0,o&1)f=Q()|0,Ft(s),h0(t),ne(f|0);else{Ft(s),b=a;return}}function $o(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0;if(a=b,b=b+16|0,f=a+4|0,s=a,_n(t),e[t>>2]=42536,e[t+32>>2]=r,er(f,t+4|0),e[s>>2]=e[f>>2],h=0,r=Ce(37,s|0,44280)|0,f=h,h=0,f&1)f=Q()|0,Ft(s),h0(t),ne(f|0);else{Ft(s),e[t+36>>2]=r,e[t+40>>2]=o,f=(A0[e[(e[r>>2]|0)+28>>2]&127](r)|0)&1,m[t+44>>0]=f,b=a;return}}function zd(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0;if(a=b,b=b+16|0,f=a+4|0,s=a,Jo(t),e[t>>2]=42472,e[t+32>>2]=r,e[t+40>>2]=o,e[t+48>>2]=-1,m[t+52>>0]=0,er(f,t+4|0),e[s>>2]=e[f>>2],h=0,de(21,t|0,s|0),o=h,h=0,o&1)f=Q()|0,Ft(s),ir(t),ne(f|0);else{Ft(s),b=a;return}}function Ho(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0;if(a=b,b=b+16|0,f=a+4|0,s=a,Jo(t),e[t>>2]=42408,e[t+32>>2]=r,er(f,t+4|0),e[s>>2]=e[f>>2],h=0,r=Ce(37,s|0,44288)|0,f=h,h=0,f&1)f=Q()|0,Ft(s),ir(t),ne(f|0);else{Ft(s),e[t+36>>2]=r,e[t+40>>2]=o,f=(A0[e[(e[r>>2]|0)+28>>2]&127](r)|0)&1,m[t+44>>0]=f,b=a;return}}function qd(t){t=t|0,ir(t),ue(t)}function Gd(t,r){t=t|0,r=r|0,A0[e[(e[t>>2]|0)+24>>2]&127](t)|0,r=Ot(r,44288)|0,e[t+36>>2]=r,r=(A0[e[(e[r>>2]|0)+28>>2]&127](r)|0)&1,m[t+44>>0]=r}function $d(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0;I=b,b=b+16|0,S=I+8|0,c=I,o=t+36|0,s=t+40|0,a=S+8|0,f=S,r=t+32|0;e:for(;;){if(t=e[o>>2]|0,t=or[e[(e[t>>2]|0)+20>>2]&31](t,e[s>>2]|0,S,a,c)|0,T=(e[c>>2]|0)-f|0,(pi(S,1,T,e[r>>2]|0)|0)!=(T|0)){t=-1;break}switch(t|0){case 1:break;case 2:{t=-1;break e}default:{A=4;break e}}}return(A|0)==4&&(t=((On(e[r>>2]|0)|0)!=0)<<31>>31),b=I,t|0}function Hd(t,r,o){t=t|0,r=r|0,o=o|0;var s=0;e:do if(m[t+44>>0]|0)r=pi(r,4,o,e[t+32>>2]|0)|0;else if((o|0)>0)for(s=r,r=0;;){if((Ut[e[(e[t>>2]|0)+52>>2]&63](t,e[s>>2]|0)|0)==-1)break e;if(r=r+1|0,(r|0)<(o|0))s=s+4|0;else break}else r=0;while(!1);return r|0}function Wd(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0;z=b,b=b+32|0,D=z+16|0,o=z+8|0,k=z+4|0,T=z,F=(r|0)==-1;e:do if(F)N=11;else{if(e[o>>2]=r,m[t+44>>0]|0)if((pi(o,4,1,e[t+32>>2]|0)|0)==1){N=11;break}else{o=-1;break}for(e[k>>2]=D,A=o+4|0,I=t+36|0,a=t+40|0,f=D+8|0,c=D,S=t+32|0;;){if(t=e[I>>2]|0,t=_i[e[(e[t>>2]|0)+12>>2]&15](t,e[a>>2]|0,o,A,T,D,f,k)|0,(e[T>>2]|0)==(o|0)){o=-1;break e}if((t|0)==3)break;if(s=(t|0)==1,t>>>0>=2){o=-1;break e}if(t=(e[k>>2]|0)-c|0,(pi(D,1,t,e[S>>2]|0)|0)!=(t|0)){o=-1;break e}if(s)o=s?e[T>>2]|0:o;else{N=11;break e}}(pi(o,1,1,e[S>>2]|0)|0)!=1?o=-1:N=11}while(!1);return(N|0)==11&&(o=F?0:r),b=z,o|0}function Qd(t,r){t=t|0,r=r|0;var o=0,s=0;s=Ot(r,44288)|0,o=t+36|0,e[o>>2]=s,s=A0[e[(e[s>>2]|0)+24>>2]&127](s)|0,r=t+44|0,e[r>>2]=s,o=e[o>>2]|0,o=(A0[e[(e[o>>2]|0)+28>>2]&127](o)|0)&1,m[t+53>>0]=o,(e[r>>2]|0)>8&&dr(56783)}function jd(t){t=t|0,ir(t),ue(t)}function Yd(t){return t=t|0,Wo(t,0)|0}function Kd(t){return t=t|0,Wo(t,1)|0}function Xd(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0;I=b,b=b+32|0,A=I+16|0,S=I+8|0,s=I+4|0,a=I,f=t+52|0,o=(m[f>>0]|0)!=0;e:do if((r|0)==-1)o?r=-1:(r=e[t+48>>2]|0,m[f>>0]=(r|0)!=-1&1);else{c=t+48|0;t:do if(o){switch(e[s>>2]=e[c>>2],o=e[t+36>>2]|0,_i[e[(e[o>>2]|0)+12>>2]&15](o,e[t+40>>2]|0,s,s+4|0,a,A,A+8|0,S)|0){case 1:case 2:{r=-1;break e}case 3:{m[A>>0]=e[c>>2],e[S>>2]=A+1;break}default:}for(o=t+32|0;;){if(s=e[S>>2]|0,s>>>0<=A>>>0)break t;if(t=s+-1|0,e[S>>2]=t,(Rr(m[t>>0]|0,e[o>>2]|0)|0)==-1){r=-1;break e}}}while(!1);e[c>>2]=r,m[f>>0]=1}while(!1);return b=I,r|0}function Wo(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0;N=b,b=b+32|0,F=N+16|0,D=N+8|0,I=N+4|0,T=N,a=t+52|0;e:do if(m[a>>0]|0)s=t+48|0,o=e[s>>2]|0,r&&(e[s>>2]=-1,m[a>>0]=0);else{if(o=e[t+44>>2]|0,o=(o|0)>1?o:1,k=t+32|0,(o|0)>0){a=0;do{if(s=Mr(e[k>>2]|0)|0,(s|0)==-1){o=-1;break e}m[F+a>>0]=s,a=a+1|0}while((a|0)<(o|0))}t:do if(m[t+53>>0]|0)e[D>>2]=m[F>>0];else{c=t+40|0,S=t+36|0,A=D+4|0;i:for(;;){switch(z=e[c>>2]|0,a=z,s=e[a>>2]|0,a=e[a+4>>2]|0,q=e[S>>2]|0,f=F+o|0,_i[e[(e[q>>2]|0)+16>>2]&15](q,z,F,f,I,D,A,T)|0){case 2:{o=-1;break e}case 3:break i;case 1:break;default:break t}if(q=e[c>>2]|0,e[q>>2]=s,e[q+4>>2]=a,(o|0)==8){o=-1;break e}if(s=Mr(e[k>>2]|0)|0,(s|0)==-1){o=-1;break e}m[f>>0]=s,o=o+1|0}e[D>>2]=m[F>>0]}while(!1);if(r){o=e[D>>2]|0,e[t+48>>2]=o;break}for(;!((o|0)<=0);)if(o=o+-1|0,(Rr(m[F+o>>0]|0,e[k>>2]|0)|0)==-1){o=-1;break e}o=e[D>>2]|0}while(!1);return b=N,o|0}function Zd(t){t=t|0,h0(t),ue(t)}function Jd(t,r){t=t|0,r=r|0,A0[e[(e[t>>2]|0)+24>>2]&127](t)|0,r=Ot(r,44280)|0,e[t+36>>2]=r,r=(A0[e[(e[r>>2]|0)+28>>2]&127](r)|0)&1,m[t+44>>0]=r}function ep(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0;I=b,b=b+16|0,S=I+8|0,c=I,o=t+36|0,s=t+40|0,a=S+8|0,f=S,r=t+32|0;e:for(;;){if(t=e[o>>2]|0,t=or[e[(e[t>>2]|0)+20>>2]&31](t,e[s>>2]|0,S,a,c)|0,T=(e[c>>2]|0)-f|0,(pi(S,1,T,e[r>>2]|0)|0)!=(T|0)){t=-1;break}switch(t|0){case 1:break;case 2:{t=-1;break e}default:{A=4;break e}}}return(A|0)==4&&(t=((On(e[r>>2]|0)|0)!=0)<<31>>31),b=I,t|0}function tp(t,r,o){t=t|0,r=r|0,o=o|0;var s=0;e:do if(m[t+44>>0]|0)r=pi(r,1,o,e[t+32>>2]|0)|0;else if((o|0)>0)for(s=r,r=0;;){if((Ut[e[(e[t>>2]|0)+52>>2]&63](t,P[s>>0]|0)|0)==-1)break e;if(r=r+1|0,(r|0)<(o|0))s=s+1|0;else break}else r=0;while(!1);return r|0}function ip(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0;z=b,b=b+32|0,D=z+16|0,o=z+8|0,k=z+4|0,T=z,F=(r|0)==-1;e:do if(F)N=11;else{if(m[o>>0]=r,m[t+44>>0]|0)if((pi(o,1,1,e[t+32>>2]|0)|0)==1){N=11;break}else{o=-1;break}for(e[k>>2]=D,I=o+1|0,a=t+36|0,f=t+40|0,c=D+8|0,S=D,A=t+32|0;;){if(t=e[a>>2]|0,t=_i[e[(e[t>>2]|0)+12>>2]&15](t,e[f>>2]|0,o,I,T,D,c,k)|0,(e[T>>2]|0)==(o|0)){o=-1;break e}if((t|0)==3)break;if(s=(t|0)==1,t>>>0>=2){o=-1;break e}if(t=(e[k>>2]|0)-S|0,(pi(D,1,t,e[A>>2]|0)|0)!=(t|0)){o=-1;break e}if(s)o=s?e[T>>2]|0:o;else{N=11;break e}}(pi(o,1,1,e[A>>2]|0)|0)!=1?o=-1:N=11}while(!1);return(N|0)==11&&(o=F?0:r),b=z,o|0}function rp(t,r){t=t|0,r=r|0;var o=0,s=0;s=Ot(r,44280)|0,o=t+36|0,e[o>>2]=s,s=A0[e[(e[s>>2]|0)+24>>2]&127](s)|0,r=t+44|0,e[r>>2]=s,o=e[o>>2]|0,o=(A0[e[(e[o>>2]|0)+28>>2]&127](o)|0)&1,m[t+53>>0]=o,(e[r>>2]|0)>8&&dr(56783)}function np(t){t=t|0,h0(t),ue(t)}function op(t){return t=t|0,Qo(t,0)|0}function sp(t){return t=t|0,Qo(t,1)|0}function ap(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0;I=b,b=b+32|0,A=I+16|0,S=I+4|0,s=I+8|0,a=I,f=t+52|0,o=(m[f>>0]|0)!=0;e:do if((r|0)==-1)o?r=-1:(r=e[t+48>>2]|0,m[f>>0]=(r|0)!=-1&1);else{c=t+48|0;t:do if(o){switch(m[s>>0]=e[c>>2],o=e[t+36>>2]|0,_i[e[(e[o>>2]|0)+12>>2]&15](o,e[t+40>>2]|0,s,s+1|0,a,A,A+8|0,S)|0){case 1:case 2:{r=-1;break e}case 3:{m[A>>0]=e[c>>2],e[S>>2]=A+1;break}default:}for(o=t+32|0;;){if(s=e[S>>2]|0,s>>>0<=A>>>0)break t;if(t=s+-1|0,e[S>>2]=t,(Rr(m[t>>0]|0,e[o>>2]|0)|0)==-1){r=-1;break e}}}while(!1);e[c>>2]=r,m[f>>0]=1}while(!1);return b=I,r|0}function Qo(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0;N=b,b=b+32|0,F=N+16|0,D=N+8|0,I=N+4|0,T=N,a=t+52|0;e:do if(m[a>>0]|0)s=t+48|0,o=e[s>>2]|0,r&&(e[s>>2]=-1,m[a>>0]=0);else{if(o=e[t+44>>2]|0,o=(o|0)>1?o:1,k=t+32|0,(o|0)>0){a=0;do{if(s=Mr(e[k>>2]|0)|0,(s|0)==-1){o=-1;break e}m[F+a>>0]=s,a=a+1|0}while((a|0)<(o|0))}t:do if(m[t+53>>0]|0)m[D>>0]=m[F>>0]|0;else{c=t+40|0,S=t+36|0,A=D+1|0;i:for(;;){switch(z=e[c>>2]|0,a=z,s=e[a>>2]|0,a=e[a+4>>2]|0,q=e[S>>2]|0,f=F+o|0,_i[e[(e[q>>2]|0)+16>>2]&15](q,z,F,f,I,D,A,T)|0){case 2:{o=-1;break e}case 3:break i;case 1:break;default:break t}if(q=e[c>>2]|0,e[q>>2]=s,e[q+4>>2]=a,(o|0)==8){o=-1;break e}if(s=Mr(e[k>>2]|0)|0,(s|0)==-1){o=-1;break e}m[f>>0]=s,o=o+1|0}m[D>>0]=m[F>>0]|0}while(!1);if(r)o=m[D>>0]|0,e[t+48>>2]=o&255;else{for(;!((o|0)<=0);)if(o=o+-1|0,(Rr(P[F+o>>0]|0,e[k>>2]|0)|0)==-1){o=-1;break e}o=m[D>>0]|0}o=o&255}while(!1);return b=N,o|0}function g8(t){t=t|0}function gr(t){t=t|0,t=t+4|0,e[t>>2]=(e[t>>2]|0)+1}function D0(t){t=t|0;var r=0,o=0;return o=t+4|0,r=e[o>>2]|0,e[o>>2]=r+-1,r?t=0:(T0[e[(e[t>>2]|0)+8>>2]&255](t),t=1),t|0}function lp(t,r){if(t=t|0,r=r|0,e[t>>2]=36868,h=0,de(86,t+4|0,(m[r>>0]&1?e[r+8>>2]|0:r+1|0)|0),t=h,h=0,t&1)t=Q()|0,ne(t|0);else return}function up(t,r){if(t=t|0,r=r|0,e[t>>2]=36868,h=0,de(86,t+4|0,r|0),t=h,h=0,t&1)t=Q()|0,ne(t|0);else return}function fp(t,r){t=t|0,r=r|0;var o=0,s=0;s=Ni(r)|0,o=We(s+13|0)|0,e[o>>2]=s,e[o+4>>2]=s,e[o+8>>2]=0,o=o+12|0,nt(o|0,r|0,s+1|0)|0,e[t>>2]=o}function cp(t,r,o){t=t|0,r=r|0,o=o|0,e[t>>2]=o,e[t+4>>2]=r}function hp(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0;return a=b,b=b+16|0,s=a,Br[e[(e[t>>2]|0)+12>>2]&15](s,t,r),(e[s+4>>2]|0)==(e[o+4>>2]|0)?s=(e[s>>2]|0)==(e[o>>2]|0):s=0,b=a,s|0}function dp(t,r,o){return t=t|0,r=r|0,o=o|0,((e[r>>2]|0)==(o|0)?(e[r+4>>2]|0)==(t|0):0)|0}function pp(t,r,o){t=t|0,r=r|0,o=o|0,r=Is(o)|0,yi(t,r,Ni(r)|0)}function mp(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0;c=b,b=b+16|0,f=c,s=e[r>>2]|0;do if(s)if(a=m[o>>0]|0,a&1?a=e[o+4>>2]|0:a=(a&255)>>>1,a&&(Cp(o,56990)|0,s=e[r>>2]|0),r=e[r+4>>2]|0,Br[e[(e[r>>2]|0)+24>>2]&15](f,r,s),r=m[f>>0]|0,a=(r&1)==0,h=0,Oe(30,o|0,(a?f+1|0:e[f+8>>2]|0)|0,(a?(r&255)>>>1:e[f+4>>2]|0)|0)|0,r=h,h=0,r&1)c=Q()|0,fe(f),ne(c|0);else{fe(f);break}while(!1);e[t>>2]=e[o>>2],e[t+4>>2]=e[o+4>>2],e[t+8>>2]=e[o+8>>2],e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,b=c}function gp(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0;a=b,b=b+32|0,s=a+12|0,f=a,yi(f,o,Ni(o)|0),h=0,me(10,s|0,r|0,f|0),o=h,h=0;do if(o&1)s=Q()|0;else if(h=0,de(87,t|0,s|0),o=h,h=0,o&1){a=Q()|0,fe(s),s=a;break}else{fe(s),fe(f),e[t>>2]=42664,o=e[r+4>>2]|0,f=t+8|0,e[f>>2]=e[r>>2],e[f+4>>2]=o,b=a;return}while(!1);fe(f),ne(s|0)}function vp(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0;f=b,b=b+48|0,a=f+24|0,S=f+16|0,c=f,e[S>>2]=r,e[S+4>>2]=o,vn(c,s),h=0,me(10,a|0,S|0,c|0),s=h,h=0;do if(s&1)a=Q()|0;else if(h=0,de(87,t|0,a|0),S=h,h=0,S&1){S=Q()|0,fe(a),a=S;break}else{fe(a),fe(c),e[t>>2]=42664,e[t+8>>2]=r,e[t+12>>2]=o,b=f;return}while(!1);fe(c),ne(a|0)}function Sp(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0;a=b,b=b+48|0,s=a+24|0,c=a+16|0,f=a,e[c>>2]=r,e[c+4>>2]=o,yi(f,58898,0),h=0,me(10,s|0,c|0,f|0),c=h,h=0;do if(c&1)s=Q()|0;else if(h=0,de(87,t|0,s|0),c=h,h=0,c&1){c=Q()|0,fe(s),s=c;break}else{fe(s),fe(f),e[t>>2]=42664,e[t+8>>2]=r,e[t+12>>2]=o,b=a;return}while(!1);fe(f),ne(s|0)}function gn(t){t=t|0,Er(t)}function wp(t){t=t|0,Er(t),ue(t)}function Ap(t){t=t|0}function yp(t,r,o){t=t|0,r=r|0,o=o|0;var s=0;if(Kn(42676)|0,(e[t>>2]|0)==1)do Ht(42704,42676)|0;while((e[t>>2]|0)==1);do if(e[t>>2]|0)Wn(42676)|0;else{if(e[t>>2]=1,h=0,ce(72,42676)|0,s=h,h=0,!(s&1)&&(h=0,oe(o|0,r|0),s=h,h=0,!(s&1))&&(h=0,ce(73,42676)|0,s=h,h=0,!(s&1))&&(e[t>>2]=-1,h=0,ce(72,42676)|0,s=h,h=0,!(s&1))&&(h=0,ce(74,42704)|0,s=h,h=0,!(s&1)))break;s=Q(0)|0,Wt(s|0)|0,h=0,ce(73,42676)|0,s=h,h=0,!(s&1)&&(e[t>>2]=0,h=0,ce(72,42676)|0,s=h,h=0,!(s&1))&&(h=0,ce(74,42704)|0,s=h,h=0,!(s&1))&&(h=0,_0(5),h=0),r=Q()|0,h=0,_0(3),s=h,h=0,s&1?(s=Q(0)|0,b0(s)):ne(r|0)}while(!1)}function vn(t,r){t=t|0,r=r|0,m[r>>0]&1?yi(t,e[r+8>>2]|0,e[r+4>>2]|0):(e[t>>2]=e[r>>2],e[t+4>>2]=e[r+4>>2],e[t+8>>2]=e[r+8>>2])}function yi(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0;o>>>0>4294967279&&ri(t),o>>>0<11?(m[t>>0]=o<<1,t=t+1|0):(a=o+16&-16,s=We(a)|0,e[t+8>>2]=s,e[t>>2]=a|1,e[t+4>>2]=o,t=s),nt(t|0,r|0,o|0)|0,m[t+o>>0]=0}function Sn(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0;r>>>0>4294967279&&ri(t),r>>>0<11?(m[t>>0]=r<<1,t=t+1|0):(a=r+16&-16,s=We(a)|0,e[t+8>>2]=s,e[t>>2]=a|1,e[t+4>>2]=r,t=s),j0(t|0,o|0,r|0)|0,m[t+r>>0]=0}function fe(t){t=t|0,m[t>>0]&1&&ue(e[t+8>>2]|0)}function _p(t,r){t=t|0,r=r|0;var o=0,s=0;return(t|0)!=(r|0)&&(o=m[r>>0]|0,s=(o&1)==0,jo(t,s?r+1|0:e[r+8>>2]|0,s?(o&255)>>>1:e[r+4>>2]|0)|0),t|0}function xp(t,r){return t=t|0,r=r|0,jo(t,r,Ni(r)|0)|0}function jo(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0;s=m[t>>0]|0,s&1?(s=e[t>>2]|0,f=(s&-2)+-1|0,s=s&255):f=10,a=(s&1)==0;do if(f>>>0>=o>>>0)if(a?s=t+1|0:s=e[t+8>>2]|0,yr(s|0,r|0,o|0)|0,m[s+o>>0]=0,m[t>>0]&1){e[t+4>>2]=o;break}else{m[t>>0]=o<<1;break}else a?s=(s&255)>>>1:s=e[t+4>>2]|0,Xo(t,f,o-f|0,s,0,s,o,r);while(!1);return t|0}function Yo(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0;s=m[t>>0]|0,a=(s&1)==0,a?s=(s&255)>>>1:s=e[t+4>>2]|0;do if(s>>>0>=r>>>0)if(a){m[t+1+r>>0]=0,m[t>>0]=r<<1;break}else{m[(e[t+8>>2]|0)+r>>0]=0,e[t+4>>2]=r;break}else Tp(t,r-s|0,o)|0;while(!1)}function Tp(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0;return r&&(s=m[t>>0]|0,s&1?(s=e[t>>2]|0,a=(s&-2)+-1|0,s=s&255):a=10,s&1?f=e[t+4>>2]|0:f=(s&255)>>>1,(a-f|0)>>>0<r>>>0&&(wn(t,a,r-a+f|0,f,f,0,0),s=m[t>>0]|0),s&1?a=e[t+8>>2]|0:a=t+1|0,j0(a+f|0,o|0,r|0)|0,s=f+r|0,m[t>>0]&1?e[t+4>>2]=s:m[t>>0]=s<<1,m[a+s>>0]=0),t|0}function Ip(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0;r>>>0>4294967279&&ri(t),o=m[t>>0]|0,o&1?(o=e[t>>2]|0,s=(o&-2)+-1|0,o=o&255):s=10,o&1?S=e[t+4>>2]|0:S=(o&255)>>>1,r=S>>>0>r>>>0?S:r,r>>>0<11?c=10:c=(r+16&-16)+-1|0;e:do if((c|0)!=(s|0)){do if((c|0)!=10){if(r=c+1|0,c>>>0<=s>>>0){if(h=0,r=ce(67,r|0)|0,f=h,h=0,f&1){t=Q(0)|0,Wt(t|0)|0,Zt();break e}}else r=We(r)|0;if(o&1){s=1,a=e[t+8>>2]|0,f=1;break}else{s=1,a=t+1|0,f=0;break}}else r=t+1|0,s=0,a=e[t+8>>2]|0,f=1;while(!1);if(o&1?o=e[t+4>>2]|0:o=(o&255)>>>1,nt(r|0,a|0,o+1|0)|0,f&&ue(a),s){e[t>>2]=c+1|1,e[t+4>>2]=S,e[t+8>>2]=r;break}else{m[t>>0]=S<<1;break}}while(!1)}function Cp(t,r){return t=t|0,r=r|0,Ko(t,r,Ni(r)|0)|0}function Ep(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0;o=m[t>>0]|0,s=(o&1)!=0,s?(a=(e[t>>2]&-2)+-1|0,f=e[t+4>>2]|0):(a=10,f=(o&255)>>>1),(f|0)==(a|0)?(wn(t,a,1,a,a,0,0),m[t>>0]&1?a=8:a=7):s?a=8:a=7,(a|0)==7?(m[t>>0]=(f<<1)+2,o=t+1|0,s=f+1|0):(a|0)==8&&(o=e[t+8>>2]|0,s=f+1|0,e[t+4>>2]=s),m[o+f>>0]=r,m[o+s>>0]=0}function Ko(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0;return s=m[t>>0]|0,s&1?(s=e[t>>2]|0,a=(s&-2)+-1|0,s=s&255):a=10,s&1?f=e[t+4>>2]|0:f=(s&255)>>>1,(a-f|0)>>>0>=o>>>0?o&&(s&1?a=e[t+8>>2]|0:a=t+1|0,nt(a+f|0,r|0,o|0)|0,s=f+o|0,m[t>>0]&1?e[t+4>>2]=s:m[t>>0]=s<<1,m[a+s>>0]=0):Xo(t,a,o-a+f|0,f,f,0,o,r),t|0}function Xo(t,r,o,s,a,f,c,S){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0;var A=0,I=0,T=0;(-18-r|0)>>>0<o>>>0&&ri(t),m[t>>0]&1?T=e[t+8>>2]|0:T=t+1|0,r>>>0<2147483623?(A=o+r|0,I=r<<1,A=A>>>0<I>>>0?I:A,A=A>>>0<11?11:A+16&-16):A=-17,I=We(A)|0,a&&nt(I|0,T|0,a|0)|0,c&&nt(I+a|0,S|0,c|0)|0,o=s-f|0,(o|0)!=(a|0)&&nt(I+(c+a)|0,T+(f+a)|0,o-a|0)|0,(r|0)!=10&&ue(T),e[t+8>>2]=I,e[t>>2]=A|1,r=o+c|0,e[t+4>>2]=r,m[I+r>>0]=0}function wn(t,r,o,s,a,f,c){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0;var S=0,A=0,I=0;(-17-r|0)>>>0<o>>>0&&ri(t),m[t>>0]&1?I=e[t+8>>2]|0:I=t+1|0,r>>>0<2147483623?(S=o+r|0,A=r<<1,S=S>>>0<A>>>0?A:S,S=S>>>0<11?11:S+16&-16):S=-17,A=We(S)|0,a&&nt(A|0,I|0,a|0)|0,o=s-f|0,(o|0)!=(a|0)&&nt(A+(c+a)|0,I+(f+a)|0,o-a|0)|0,(r|0)!=10&&ue(I),e[t+8>>2]=A,e[t>>2]=S|1}function An(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0;o>>>0>1073741807&&ri(t),o>>>0<2?(m[t>>0]=o<<1,t=t+4|0):(a=o+4&-4,s=We(a<<2)|0,e[t+8>>2]=s,e[t>>2]=a|1,e[t+4>>2]=o,t=s),Bi(t,r,o)|0,e[t+(o<<2)>>2]=0}function yn(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0;r>>>0>1073741807&&ri(t),r>>>0<2?(m[t>>0]=r<<1,t=t+4|0):(a=r+4&-4,s=We(a<<2)|0,e[t+8>>2]=s,e[t>>2]=a|1,e[t+4>>2]=r,t=s),$v(t,o,r)|0,e[t+(r<<2)>>2]=0}function E0(t){t=t|0,m[t>>0]&1&&ue(e[t+8>>2]|0)}function bp(t,r){return t=t|0,r=r|0,kp(t,r,Lr(r)|0)|0}function kp(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0;s=m[t>>0]|0,s&1?(s=e[t>>2]|0,f=(s&-2)+-1|0,s=s&255):f=1,a=(s&1)==0;do if(f>>>0>=o>>>0)if(a?s=t+4|0:s=e[t+8>>2]|0,Gv(s,r,o)|0,e[s+(o<<2)>>2]=0,m[t>>0]&1){e[t+4>>2]=o;break}else{m[t>>0]=o<<1;break}else a?s=(s&255)>>>1:s=e[t+4>>2]|0,Fp(t,f,o-f|0,s,0,s,o,r);while(!1);return t|0}function Dp(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0;r>>>0>1073741807&&ri(t),o=m[t>>0]|0,o&1?(o=e[t>>2]|0,s=(o&-2)+-1|0,o=o&255):s=1,o&1?S=e[t+4>>2]|0:S=(o&255)>>>1,r=S>>>0>r>>>0?S:r,r>>>0<2?c=1:c=(r+4&-4)+-1|0;e:do if((c|0)!=(s|0)){do if((c|0)!=1){if(r=(c<<2)+4|0,c>>>0<=s>>>0){if(h=0,r=ce(67,r|0)|0,f=h,h=0,f&1){t=Q(0)|0,Wt(t|0)|0,Zt();break e}}else r=We(r)|0;if(o&1){s=1,a=e[t+8>>2]|0,f=1;break}else{s=1,a=t+4|0,f=0;break}}else r=t+4|0,s=0,a=e[t+8>>2]|0,f=1;while(!1);if(o&1?o=e[t+4>>2]|0:o=(o&255)>>>1,Bi(r,a,o+1|0)|0,f&&ue(a),s){e[t>>2]=c+1|1,e[t+4>>2]=S,e[t+8>>2]=r;break}else{m[t>>0]=S<<1;break}}while(!1)}function Pp(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0;o=m[t>>0]|0,s=(o&1)!=0,s?(a=(e[t>>2]&-2)+-1|0,f=e[t+4>>2]|0):(a=1,f=(o&255)>>>1),(f|0)==(a|0)?(Zo(t,a,1,a,a,0,0),m[t>>0]&1?a=8:a=7):s?a=8:a=7,(a|0)==7?(m[t>>0]=(f<<1)+2,o=t+4|0,s=f+1|0):(a|0)==8&&(o=e[t+8>>2]|0,s=f+1|0,e[t+4>>2]=s),e[o+(f<<2)>>2]=r,e[o+(s<<2)>>2]=0}function Fp(t,r,o,s,a,f,c,S){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0;var A=0,I=0,T=0;(1073741806-r|0)>>>0<o>>>0&&ri(t),m[t>>0]&1?T=e[t+8>>2]|0:T=t+4|0,r>>>0<536870887?(A=o+r|0,I=r<<1,A=A>>>0<I>>>0?I:A,A=A>>>0<2?2:A+4&-4):A=1073741807,I=We(A<<2)|0,a&&Bi(I,T,a)|0,c&&Bi(I+(a<<2)|0,S,c)|0,o=s-f|0,(o|0)!=(a|0)&&Bi(I+(c+a<<2)|0,T+(f+a<<2)|0,o-a|0)|0,(r|0)!=1&&ue(T),e[t+8>>2]=I,e[t>>2]=A|1,r=o+c|0,e[t+4>>2]=r,e[I+(r<<2)>>2]=0}function Zo(t,r,o,s,a,f,c){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0;var S=0,A=0,I=0;(1073741807-r|0)>>>0<o>>>0&&ri(t),m[t>>0]&1?I=e[t+8>>2]|0:I=t+4|0,r>>>0<536870887?(S=o+r|0,A=r<<1,S=S>>>0<A>>>0?A:S,S=S>>>0<2?2:S+4&-4):S=1073741807,A=We(S<<2)|0,a&&Bi(A,I,a)|0,o=s-f|0,(o|0)!=(a|0)&&Bi(A+(c+a<<2)|0,I+(f+a<<2)|0,o-a|0)|0,(r|0)!=1&&ue(I),e[t+8>>2]=A,e[t>>2]=S|1}function Mp(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0;if(a=r,s=o-a|0,s>>>0>4294967279&&ri(t),s>>>0<11?(m[t>>0]=s<<1,f=t+1|0):(c=s+16&-16,f=We(c)|0,e[t+8>>2]=f,e[t>>2]=c|1,e[t+4>>2]=s),t=o-a|0,(r|0)!=(o|0))for(s=f;m[s>>0]=m[r>>0]|0,r=r+1|0,(r|0)!=(o|0);)s=s+1|0;m[f+t>>0]=0}function Rp(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0;if(f=r,s=o-f|0,a=s>>2,a>>>0>1073741807&&ri(t),a>>>0<2?(m[t>>0]=s>>>1,t=t+4|0):(c=a+4&-4,s=We(c<<2)|0,e[t+8>>2]=s,e[t>>2]=c|1,e[t+4>>2]=a,t=s),a=(o-f|0)>>>2,(r|0)!=(o|0))for(s=t;e[s>>2]=e[r>>2],r=r+4|0,(r|0)!=(o|0);)s=s+4|0;e[t+(a<<2)>>2]=0}function Op(t,r){t=t|0,r=r|0;var o=0,s=0,a=0;if(o=b,b=b+16|0,s=o,a=(e[t+24>>2]|0)==0,e[t+16>>2]=a&1|r,!((a&1|r)&e[t+20>>2])){b=o;return}r=g0(16)|0,km()|0,e[s>>2]=1,e[s+4>>2]=43112,h=0,me(11,r|0,57437,s|0),a=h,h=0,a&1?(a=Q()|0,v0(r|0),ne(a|0)):V0(r|0,864,112)}function zt(t){t=t|0;var r=0;if(e[t>>2]=43068,h=0,de(88,t|0,0),r=h,h=0,r&1)r=Q(0)|0,b0(r);else{Ft(t+28|0),Z0(e[t+32>>2]|0),Z0(e[t+36>>2]|0),Z0(e[t+48>>2]|0),Z0(e[t+60>>2]|0);return}}function Ye(t){t=t|0,zt(t)}function v8(t){t=t|0,zt(t),ue(t)}function Lp(t,r){t=t|0,r=r|0;var o=0,s=0,a=0;if(o=e[t+40>>2]|0,s=t+32|0,a=t+36|0,o)do o=o+-1|0,Br[e[(e[s>>2]|0)+(o<<2)>>2]&15](r,t,e[(e[a>>2]|0)+(o<<2)>>2]|0);while(o|0)}function ut(t){t=t|0;var r=0,o=0;return o=b,b=b+16|0,r=o,er(r,t+28|0),b=o,e[r>>2]|0}function Np(t,r){t=t|0,r=r|0;var o=0;e[t+24>>2]=r,e[t+16>>2]=(r|0)==0&1,e[t+20>>2]=0,e[t+4>>2]=4098,e[t+12>>2]=0,e[t+8>>2]=6,o=t+28|0,r=t+32|0,t=r+40|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(t|0));pn(o)}function vr(t){t=t|0,zt(t)}function S8(t){t=t|0,zt(t),ue(t)}function h0(t){t=t|0,e[t>>2]=42760,Ft(t+4|0)}function Bp(t){t=t|0,e[t>>2]=42760,Ft(t+4|0),ue(t)}function _n(t){t=t|0,e[t>>2]=42760,pn(t+4|0),t=t+8|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[t+16>>2]=0,e[t+20>>2]=0}function Up(t,r){t=t|0,r=r|0}function Vp(t,r,o){return t=t|0,r=r|0,o=o|0,t|0}function zp(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,r=t,e[r>>2]=0,e[r+4>>2]=0,r=t+8|0,e[r>>2]=-1,e[r+4>>2]=-1}function qp(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0,r=t,e[r>>2]=0,e[r+4>>2]=0,r=t+8|0,e[r>>2]=-1,e[r+4>>2]=-1}function Gp(t){return t=t|0,0}function $p(t){return t=t|0,0}function Hp(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0;f=t+12|0,c=t+16|0;e:do if((o|0)>0)for(a=r,r=0;;){if(s=e[f>>2]|0,s>>>0<(e[c>>2]|0)>>>0)e[f>>2]=s+1,s=m[s>>0]|0;else{if(s=A0[e[(e[t>>2]|0)+40>>2]&127](t)|0,(s|0)==-1)break e;s=s&255}if(m[a>>0]=s,r=r+1|0,(r|0)<(o|0))a=a+1|0;else break}else r=0;while(!1);return r|0}function Wp(t){return t=t|0,-1}function Qp(t){t=t|0;var r=0;return(A0[e[(e[t>>2]|0)+36>>2]&127](t)|0)==-1?t=-1:(r=t+12|0,t=e[r>>2]|0,e[r>>2]=t+1,t=P[t>>0]|0),t|0}function jp(t,r){return t=t|0,r=r|0,-1}function Yp(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0;f=t+24|0,c=t+28|0;e:do if((o|0)>0)for(a=r,r=0;;){if(s=e[f>>2]|0,s>>>0>=(e[c>>2]|0)>>>0){if((Ut[e[(e[t>>2]|0)+52>>2]&63](t,P[a>>0]|0)|0)==-1)break e}else S=m[a>>0]|0,e[f>>2]=s+1,m[s>>0]=S;if(r=r+1|0,(r|0)<(o|0))a=a+1|0;else break}else r=0;while(!1);return r|0}function Kp(t,r){return t=t|0,r=r|0,-1}function ir(t){t=t|0,e[t>>2]=42824,Ft(t+4|0)}function Xp(t){t=t|0,e[t>>2]=42824,Ft(t+4|0),ue(t)}function Jo(t){t=t|0,e[t>>2]=42824,pn(t+4|0),t=t+8|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[t+16>>2]=0,e[t+20>>2]=0}function Zp(t,r){t=t|0,r=r|0}function Jp(t,r,o){return t=t|0,r=r|0,o=o|0,t|0}function em(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,r=t,e[r>>2]=0,e[r+4>>2]=0,r=t+8|0,e[r>>2]=-1,e[r+4>>2]=-1}function tm(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0,r=t,e[r>>2]=0,e[r+4>>2]=0,r=t+8|0,e[r>>2]=-1,e[r+4>>2]=-1}function im(t){return t=t|0,0}function rm(t){return t=t|0,0}function nm(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0;f=t+12|0,c=t+16|0;e:do if((o|0)>0)for(a=r,r=0;;){if(s=e[f>>2]|0,s>>>0>=(e[c>>2]|0)>>>0){if(s=A0[e[(e[t>>2]|0)+40>>2]&127](t)|0,(s|0)==-1)break e}else e[f>>2]=s+4,s=e[s>>2]|0;if(e[a>>2]=s,r=r+1|0,(r|0)<(o|0))a=a+4|0;else break}else r=0;while(!1);return r|0}function om(t){return t=t|0,-1}function sm(t){t=t|0;var r=0;return(A0[e[(e[t>>2]|0)+36>>2]&127](t)|0)==-1?t=-1:(r=t+12|0,t=e[r>>2]|0,e[r>>2]=t+4,t=e[t>>2]|0),t|0}function am(t,r){return t=t|0,r=r|0,-1}function lm(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0;f=t+24|0,c=t+28|0;e:do if((o|0)>0)for(a=r,r=0;;){if(s=e[f>>2]|0,s>>>0>=(e[c>>2]|0)>>>0){if((Ut[e[(e[t>>2]|0)+52>>2]&63](t,e[a>>2]|0)|0)==-1)break e}else S=e[a>>2]|0,e[f>>2]=s+4,e[s>>2]=S;if(r=r+1|0,(r|0)<(o|0))a=a+4|0;else break}else r=0;while(!1);return r|0}function um(t,r){return t=t|0,r=r|0,-1}function fm(t){t=t|0,zt(t+8|0)}function cm(t){t=t|0,zt(t+((e[(e[t>>2]|0)+-12>>2]|0)+8)|0)}function es(t){t=t|0,zt(t+8|0),ue(t)}function hm(t){t=t|0,es(t+(e[(e[t>>2]|0)+-12>>2]|0)|0)}function ts(t){t=t|0;var r=0,o=0,s=0,a=0;s=b,b=b+16|0,o=s;e:do if(e[t+((e[(e[t>>2]|0)+-12>>2]|0)+24)>>2]|0){h=0,de(65,o|0,t|0),r=h,h=0;t:do if(r&1)r=Q(0)|0;else{do if(m[o>>0]|0){if(r=e[t+((e[(e[t>>2]|0)+-12>>2]|0)+24)>>2]|0,h=0,r=ce(e[(e[r>>2]|0)+24>>2]|0,r|0)|0,a=h,h=0,!(a&1)&&((r|0)!=-1||(a=e[(e[t>>2]|0)+-12>>2]|0,h=0,de(66,t+a|0,e[t+(a+16)>>2]|1|0),a=h,h=0,!(a&1))))break;r=Q(0)|0,Ti(o);break t}while(!1);Ti(o);break e}while(!1);if(Wt(r|0)|0,h=0,oe(181,t+(e[(e[t>>2]|0)+-12>>2]|0)|0),a=h,h=0,!(a&1)){Zt();break}r=Q()|0,h=0,_0(3),a=h,h=0,a&1?(a=Q(0)|0,b0(a)):ne(r|0)}while(!1);return b=s,t|0}function dm(t){t=t|0;var r=0;if(r=t+16|0,e[r>>2]=e[r>>2]|1,e[t+20>>2]&1)jn();else return}function pm(t){t=t|0,zt(t+8|0)}function mm(t){t=t|0,zt(t+((e[(e[t>>2]|0)+-12>>2]|0)+8)|0)}function is(t){t=t|0,zt(t+8|0),ue(t)}function gm(t){t=t|0,is(t+(e[(e[t>>2]|0)+-12>>2]|0)|0)}function rs(t){t=t|0;var r=0,o=0,s=0,a=0;s=b,b=b+16|0,o=s;e:do if(e[t+((e[(e[t>>2]|0)+-12>>2]|0)+24)>>2]|0){h=0,de(89,o|0,t|0),r=h,h=0;t:do if(r&1)r=Q(0)|0;else{do if(m[o>>0]|0){if(r=e[t+((e[(e[t>>2]|0)+-12>>2]|0)+24)>>2]|0,h=0,r=ce(e[(e[r>>2]|0)+24>>2]|0,r|0)|0,a=h,h=0,!(a&1)&&((r|0)!=-1||(a=e[(e[t>>2]|0)+-12>>2]|0,h=0,de(66,t+a|0,e[t+(a+16)>>2]|1|0),a=h,h=0,!(a&1))))break;r=Q(0)|0,ss(o);break t}while(!1);ss(o);break e}while(!1);if(Wt(r|0)|0,h=0,oe(181,t+(e[(e[t>>2]|0)+-12>>2]|0)|0),a=h,h=0,!(a&1)){Zt();break}r=Q()|0,h=0,_0(3),a=h,h=0,a&1?(a=Q(0)|0,b0(a)):ne(r|0)}while(!1);return b=s,t|0}function w8(t,r){t=t|0,r=r|0}function vm(t){t=t|0,zt(t+4|0)}function Sm(t){t=t|0,zt(t+((e[(e[t>>2]|0)+-12>>2]|0)+4)|0)}function ns(t){t=t|0,zt(t+4|0),ue(t)}function wm(t){t=t|0,ns(t+(e[(e[t>>2]|0)+-12>>2]|0)|0)}function Am(t,r){t=t|0,r=r|0;var o=0;m[t>>0]=0,e[t+4>>2]=r,o=e[(e[r>>2]|0)+-12>>2]|0,e[r+(o+16)>>2]|0||(o=e[r+(o+72)>>2]|0,o&&ts(o)|0,m[t>>0]=1)}function Ti(t){t=t|0;var r=0,o=0;t=t+4|0,o=e[t>>2]|0,r=e[(e[o>>2]|0)+-12>>2]|0;do if(e[o+(r+24)>>2]|0&&!(e[o+(r+16)>>2]|0)&&e[o+(r+4)>>2]&8192|0&&!($n()|0)){if(r=e[t>>2]|0,r=e[r+((e[(e[r>>2]|0)+-12>>2]|0)+24)>>2]|0,h=0,r=ce(e[(e[r>>2]|0)+24>>2]|0,r|0)|0,o=h,h=0,!(o&1)&&((r|0)!=-1||(r=e[t>>2]|0,o=e[(e[r>>2]|0)+-12>>2]|0,h=0,de(66,r+o|0,e[r+(o+16)>>2]|1|0),o=h,h=0,!(o&1))))break;o=Q(0)|0,Wt(o|0)|0,h=0,_0(3),o=h,h=0,o&1&&(o=Q(0)|0,b0(o))}while(!1)}function ym(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;D=b,b=b+32|0,S=D+20|0,A=D+16|0,T=D+8|0,o=D,h=0,de(65,T|0,t|0),I=h,h=0;e:do if(I&1)o=Q(0)|0,s=t,a=t,k=19;else{do if(m[T>>0]|0){if(I=ut(t+(e[(e[t>>2]|0)+-12>>2]|0)|0)|0,e[o>>2]=I,h=0,I=Ce(37,o|0,43392)|0,c=h,h=0,c&1)k=Q(0)|0,Ft(o),o=k;else{Ft(o),a=e[(e[t>>2]|0)+-12>>2]|0,c=e[t+(a+24)>>2]|0,s=t+a|0,a=t+(a+76)|0,o=e[a>>2]|0;do if((o|0)==-1){if(o=ut(s)|0,e[S>>2]=o,h=0,o=Ce(37,S|0,44220)|0,F=h,h=0,!(F&1)&&(h=0,f=Ce(e[(e[o>>2]|0)+28>>2]|0,o|0,32)|0,F=h,h=0,!(F&1))){Ft(S),o=f<<24>>24,e[a>>2]=o,k=10;break}o=Q(0)|0,Ft(S)}else k=10;while(!1);if((k|0)==10){if(F=e[(e[I>>2]|0)+16>>2]|0,e[A>>2]=c,h=0,e[S>>2]=e[A>>2],o=ie(F|0,I|0,S|0,s|0,o&255|0,r|0)|0,F=h,h=0,!(F&1)&&(o||(F=e[(e[t>>2]|0)+-12>>2]|0,h=0,de(66,t+F|0,e[t+(F+16)>>2]|5|0),F=h,h=0,!(F&1))))break;o=Q(0)|0}}Ti(T),s=t,a=t,k=19;break e}while(!1);Ti(T)}while(!1);do if((k|0)==19){if(Wt(o|0)|0,h=0,oe(181,s+(e[(e[a>>2]|0)+-12>>2]|0)|0),F=h,h=0,!(F&1)){Zt();break}o=Q()|0,h=0,_0(3),F=h,h=0,F&1?(F=Q(0)|0,b0(F)):ne(o|0)}while(!1);return b=D,t|0}function _m(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;D=b,b=b+32|0,S=D+20|0,A=D+16|0,T=D+8|0,o=D,h=0,de(65,T|0,t|0),I=h,h=0;e:do if(I&1)o=Q(0)|0,s=t,a=t,k=19;else{do if(m[T>>0]|0){if(I=ut(t+(e[(e[t>>2]|0)+-12>>2]|0)|0)|0,e[o>>2]=I,h=0,I=Ce(37,o|0,43392)|0,c=h,h=0,c&1)k=Q(0)|0,Ft(o),o=k;else{Ft(o),a=e[(e[t>>2]|0)+-12>>2]|0,c=e[t+(a+24)>>2]|0,s=t+a|0,a=t+(a+76)|0,o=e[a>>2]|0;do if((o|0)==-1){if(o=ut(s)|0,e[S>>2]=o,h=0,o=Ce(37,S|0,44220)|0,F=h,h=0,!(F&1)&&(h=0,f=Ce(e[(e[o>>2]|0)+28>>2]|0,o|0,32)|0,F=h,h=0,!(F&1))){Ft(S),o=f<<24>>24,e[a>>2]=o,k=10;break}o=Q(0)|0,Ft(S)}else k=10;while(!1);if((k|0)==10){if(F=e[(e[I>>2]|0)+24>>2]|0,e[A>>2]=c,h=0,e[S>>2]=e[A>>2],o=ie(F|0,I|0,S|0,s|0,o&255|0,r|0)|0,F=h,h=0,!(F&1)&&(o||(F=e[(e[t>>2]|0)+-12>>2]|0,h=0,de(66,t+F|0,e[t+(F+16)>>2]|5|0),F=h,h=0,!(F&1))))break;o=Q(0)|0}}Ti(T),s=t,a=t,k=19;break e}while(!1);Ti(T)}while(!1);do if((k|0)==19){if(Wt(o|0)|0,h=0,oe(181,s+(e[(e[a>>2]|0)+-12>>2]|0)|0),F=h,h=0,!(F&1)){Zt();break}o=Q()|0,h=0,_0(3),F=h,h=0,F&1?(F=Q(0)|0,b0(F)):ne(o|0)}while(!1);return b=D,t|0}function xm(t){t=t|0,zt(t+4|0)}function Tm(t){t=t|0,zt(t+((e[(e[t>>2]|0)+-12>>2]|0)+4)|0)}function os(t){t=t|0,zt(t+4|0),ue(t)}function Im(t){t=t|0,os(t+(e[(e[t>>2]|0)+-12>>2]|0)|0)}function Cm(t,r){t=t|0,r=r|0;var o=0;m[t>>0]=0,e[t+4>>2]=r,o=e[(e[r>>2]|0)+-12>>2]|0,e[r+(o+16)>>2]|0||(o=e[r+(o+72)>>2]|0,o&&rs(o)|0,m[t>>0]=1)}function ss(t){t=t|0;var r=0,o=0;t=t+4|0,o=e[t>>2]|0,r=e[(e[o>>2]|0)+-12>>2]|0;do if(e[o+(r+24)>>2]|0&&!(e[o+(r+16)>>2]|0)&&e[o+(r+4)>>2]&8192|0&&!($n()|0)){if(r=e[t>>2]|0,r=e[r+((e[(e[r>>2]|0)+-12>>2]|0)+24)>>2]|0,h=0,r=ce(e[(e[r>>2]|0)+24>>2]|0,r|0)|0,o=h,h=0,!(o&1)&&((r|0)!=-1||(r=e[t>>2]|0,o=e[(e[r>>2]|0)+-12>>2]|0,h=0,de(66,r+o|0,e[r+(o+16)>>2]|1|0),o=h,h=0,!(o&1))))break;o=Q(0)|0,Wt(o|0)|0,h=0,_0(3),o=h,h=0,o&1&&(o=Q(0)|0,b0(o))}while(!1)}function Em(t){return t=t|0,57453}function bm(t,r,o){t=t|0,r=r|0,o=o|0,(o|0)!=1&(o|0)<257?pp(t,r,o):yi(t,57462,35)}function km(){return!(m[1048]|0)&&w0(1048)|0&&(e[10778]=43084,x0(72,43112,j|0)|0,y0(1048)),43112}function Dm(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0;s=b,b=b+16|0,a=s+8|0,f=s,S=o,c=e[S+4>>2]|0,o=f,e[o>>2]=e[S>>2],e[o+4>>2]=c,e[a>>2]=e[f>>2],e[a+4>>2]=e[f+4>>2],gp(t,a,r),e[t>>2]=43048,b=s}function Pm(t){t=t|0,gn(t)}function Fm(t){t=t|0,gn(t),ue(t)}function Mm(t){t=t|0,zt(t),ue(t)}function Rm(t){t=t|0,ue(t)}function Om(t){t=t|0}function Lm(t){t=t|0}function Nm(t){t=t|0,ue(t)}function Bm(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0;e:do if((s|0)==(a|0))c=6;else for(;;){if((r|0)==(o|0)){r=-1;break e}if(t=m[r>>0]|0,f=m[s>>0]|0,t<<24>>24<f<<24>>24){r=-1;break e}if(f<<24>>24<t<<24>>24){r=1;break e}if(r=r+1|0,s=s+1|0,(s|0)==(a|0)){c=6;break}}while(!1);return(c|0)==6&&(r=(r|0)!=(o|0)&1),r|0}function Um(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0,Mp(t,o,s)}function Vm(t,r,o){t=t|0,r=r|0,o=o|0;var s=0;if((r|0)==(o|0))t=0;else{t=0;do t=(m[r>>0]|0)+(t<<4)|0,s=t&-268435456,t=(s>>>24|s)^t,r=r+1|0;while((r|0)!=(o|0))}return t|0}function zm(t){t=t|0}function qm(t){t=t|0,ue(t)}function Gm(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0;e:do if((s|0)==(a|0))c=6;else for(;;){if((r|0)==(o|0)){r=-1;break e}if(t=e[r>>2]|0,f=e[s>>2]|0,(t|0)<(f|0)){r=-1;break e}if((f|0)<(t|0)){r=1;break e}if(r=r+4|0,s=s+4|0,(s|0)==(a|0)){c=6;break}}while(!1);return(c|0)==6&&(r=(r|0)!=(o|0)&1),r|0}function $m(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0,Rp(t,o,s)}function Hm(t,r,o){t=t|0,r=r|0,o=o|0;var s=0;if((r|0)==(o|0))t=0;else{t=0;do t=(e[r>>2]|0)+(t<<4)|0,s=t&-268435456,t=(s>>>24|s)^t,r=r+4|0;while((r|0)!=(o|0))}return t|0}function Wm(t){t=t|0}function Qm(t){t=t|0,ue(t)}function jm(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0;N=b,b=b+64|0,D=N+56|0,c=N+52|0,T=N+48|0,S=N+44|0,A=N+40|0,I=N+36|0,k=N+32|0,z=N+8|0,F=N;e:do if(e[s+4>>2]&1){c=ut(s)|0,e[I>>2]=c,h=0,t=Ce(37,I|0,44220)|0,T=h,h=0;do if(T&1)z=Q()|0,D0(c)|0,c=z;else{if(D0(c)|0,c=ut(s)|0,e[k>>2]=c,h=0,A=Ce(37,k|0,44360)|0,k=h,h=0,k&1){z=Q()|0,D0(c)|0,c=z;break}if(D0(c)|0,h=0,de(e[(e[A>>2]|0)+24>>2]|0,z|0,A|0),k=h,h=0,k&1)S=z;else if(S=z+12|0,h=0,de(e[(e[A>>2]|0)+28>>2]|0,S|0,A|0),k=h,h=0,!(k&1))if(e[F>>2]=e[o>>2],h=0,e[D>>2]=e[F>>2],c=c0(7,r|0,D|0,z|0,z+24|0,t|0,a|0,1)|0,a=h,h=0,a&1){c=Q()|0,fe(z+12|0),fe(z);break}else{m[f>>0]=(c|0)==(z|0)&1,c=e[r>>2]|0,fe(z+12|0),fe(z);break e}if(c=Q()|0,A=xe,(z|0)!=(S|0))do S=S+-12|0,fe(S);while((S|0)!=(z|0))}while(!1);ne(c|0)}else switch(e[T>>2]=-1,z=e[(e[t>>2]|0)+16>>2]|0,e[S>>2]=e[r>>2],e[A>>2]=e[o>>2],e[c>>2]=e[S>>2],e[D>>2]=e[A>>2],c=nr[z&63](t,c,D,s,a,T)|0,e[r>>2]=c,e[T>>2]|0){case 0:{m[f>>0]=0;break e}case 1:{m[f>>0]=1;break e}default:{m[f>>0]=1,e[a>>2]=4;break e}}while(!1);return b=N,c|0}function Ym(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;return c=b,b=b+16|0,S=c+12|0,A=c+8|0,T=c+4|0,I=c,e[T>>2]=e[r>>2],e[I>>2]=e[o>>2],e[A>>2]=e[T>>2],e[S>>2]=e[I>>2],t=Ng(t,A,S,s,a,f)|0,b=c,t|0}function Km(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;return c=b,b=b+16|0,S=c+12|0,A=c+8|0,T=c+4|0,I=c,e[T>>2]=e[r>>2],e[I>>2]=e[o>>2],e[A>>2]=e[T>>2],e[S>>2]=e[I>>2],t=Bg(t,A,S,s,a,f)|0,b=c,t|0}function Xm(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;return c=b,b=b+16|0,S=c+12|0,A=c+8|0,T=c+4|0,I=c,e[T>>2]=e[r>>2],e[I>>2]=e[o>>2],e[A>>2]=e[T>>2],e[S>>2]=e[I>>2],t=Ug(t,A,S,s,a,f)|0,b=c,t|0}function Zm(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;return c=b,b=b+16|0,S=c+12|0,A=c+8|0,T=c+4|0,I=c,e[T>>2]=e[r>>2],e[I>>2]=e[o>>2],e[A>>2]=e[T>>2],e[S>>2]=e[I>>2],t=Vg(t,A,S,s,a,f)|0,b=c,t|0}function Jm(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;return c=b,b=b+16|0,S=c+12|0,A=c+8|0,T=c+4|0,I=c,e[T>>2]=e[r>>2],e[I>>2]=e[o>>2],e[A>>2]=e[T>>2],e[S>>2]=e[I>>2],t=zg(t,A,S,s,a,f)|0,b=c,t|0}function e4(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;return c=b,b=b+16|0,S=c+12|0,A=c+8|0,T=c+4|0,I=c,e[T>>2]=e[r>>2],e[I>>2]=e[o>>2],e[A>>2]=e[T>>2],e[S>>2]=e[I>>2],t=qg(t,A,S,s,a,f)|0,b=c,t|0}function t4(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;return c=b,b=b+16|0,S=c+12|0,A=c+8|0,T=c+4|0,I=c,e[T>>2]=e[r>>2],e[I>>2]=e[o>>2],e[A>>2]=e[T>>2],e[S>>2]=e[I>>2],t=Gg(t,A,S,s,a,f)|0,b=c,t|0}function i4(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;return c=b,b=b+16|0,S=c+12|0,A=c+8|0,T=c+4|0,I=c,e[T>>2]=e[r>>2],e[I>>2]=e[o>>2],e[A>>2]=e[T>>2],e[S>>2]=e[I>>2],t=$g(t,A,S,s,a,f)|0,b=c,t|0}function r4(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;return c=b,b=b+16|0,S=c+12|0,A=c+8|0,T=c+4|0,I=c,e[T>>2]=e[r>>2],e[I>>2]=e[o>>2],e[A>>2]=e[T>>2],e[S>>2]=e[I>>2],t=Hg(t,A,S,s,a,f)|0,b=c,t|0}function n4(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0,_e=0;re=b,b=b+240|0,L=re,F=re+208|0,se=re+32|0,t=re+28|0,ee=re+16|0,B=re+12|0,z=re+48|0,q=re+8|0,N=re+4|0,e[se>>2]=0,e[se+4>>2]=0,e[se+8>>2]=0,h=0,s=ce(68,s|0)|0,D=h,h=0;do if(D&1)t=Q()|0;else{if(e[t>>2]=s,h=0,t=Ce(37,t|0,44220)|0,D=h,h=0,!(D&1)&&(h=0,Pe(e[(e[t>>2]|0)+32>>2]|0,t|0,57498,57524,F|0)|0,D=h,h=0,!(D&1))){D0(s)|0,e[ee>>2]=0,e[ee+4>>2]=0,e[ee+8>>2]=0,m[ee>>0]&1?t=(e[ee>>2]&-2)+-1|0:t=10,h=0,me(8,ee|0,t|0,0),D=h,h=0;e:do if(D&1)Te=30;else{k=ee+8|0,D=ee+1|0,s=m[ee>>0]&1?e[k>>2]|0:D,e[B>>2]=s,e[q>>2]=z,e[N>>2]=0,T=ee+4|0,t=e[r>>2]|0;t:for(;;){if(t){if((e[t+12>>2]|0)==(e[t+16>>2]|0)){if(h=0,c=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,I=h,h=0,I&1){Te=29;break}(c|0)==-1&&(e[r>>2]=0,t=0)}}else t=0;S=(t|0)==0,c=e[o>>2]|0;do if(c){if((e[c+12>>2]|0)!=(e[c+16>>2]|0)){if(S)break;break t}if(h=0,A=ce(e[(e[c>>2]|0)+36>>2]|0,c|0)|0,I=h,h=0,I&1){Te=29;break t}if((A|0)!=-1){if(S)break;break t}else{e[o>>2]=0,Te=19;break}}else Te=19;while(!1);if((Te|0)==19)if(Te=0,S){c=0;break}else c=0;if(S=m[ee>>0]|0,S=S&1?e[T>>2]|0:(S&255)>>>1,(e[B>>2]|0)==(s+S|0)){if(h=0,me(8,ee|0,S<<1|0,0),I=h,h=0,I&1){Te=29;break}if(m[ee>>0]&1?s=(e[ee>>2]&-2)+-1|0:s=10,h=0,me(8,ee|0,s|0,0),I=h,h=0,I&1){Te=29;break}s=m[ee>>0]&1?e[k>>2]|0:D,e[B>>2]=s+S}if(A=t+12|0,S=e[A>>2]|0,I=t+16|0,(S|0)==(e[I>>2]|0)){if(h=0,S=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,_e=h,h=0,_e&1){Te=29;break}}else S=P[S>>0]|0;if(Mi(S&255,16,s,B,N,0,se,z,q,F)|0)break;if(c=e[A>>2]|0,(c|0)==(e[I>>2]|0))if(h=0,ce(e[(e[t>>2]|0)+40>>2]|0,t|0)|0,_e=h,h=0,_e&1){Te=29;break}else continue;else{e[A>>2]=c+1;continue}}if((Te|0)==29){t=Q()|0;break}if(h=0,me(8,ee|0,(e[B>>2]|0)-s|0,0),_e=h,h=0,!(_e&1)&&(M=m[ee>>0]|0,R=e[k>>2]|0,h=0,K=ve(3)|0,_e=h,h=0,!(_e&1))&&(h=0,e[L>>2]=f,Z=Pe(16,(M&1?R:D)|0,K|0,58882,L|0)|0,_e=h,h=0,!(_e&1))){if((Z|0)!=1&&(e[a>>2]=4),t){if((e[t+12>>2]|0)==(e[t+16>>2]|0)){if(h=0,s=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,_e=h,h=0,_e&1){Te=30;break}(s|0)==-1&&(e[r>>2]=0,t=0)}}else t=0;s=(t|0)==0;do if(c){if((e[c+12>>2]|0)==(e[c+16>>2]|0)){if(h=0,t=ce(e[(e[c>>2]|0)+36>>2]|0,c|0)|0,_e=h,h=0,_e&1){Te=30;break e}if((t|0)==-1){e[o>>2]=0,Te=55;break}}s||(Te=56)}else Te=55;while(!1);return(Te|0)==55&&s&&(Te=56),(Te|0)==56&&(e[a>>2]=e[a>>2]|2),_e=e[r>>2]|0,fe(ee),fe(se),b=re,_e|0}else Te=30}while(!1);(Te|0)==30&&(t=Q()|0),fe(ee);break}t=Q()|0,D0(s)|0}while(!1);return fe(se),ne(t|0),0}function Mi(t,r,o,s,a,f,c,S,A,I){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0,A=A|0,I=I|0;var T=0,k=0,D=0,F=0;D=e[s>>2]|0,F=(D|0)==(o|0);do if(F){if(T=(m[I+24>>0]|0)==t<<24>>24,!T&&(m[I+25>>0]|0)!=t<<24>>24){k=5;break}e[s>>2]=o+1,m[o>>0]=T?43:45,e[a>>2]=0,T=0}else k=5;while(!1);e:do if((k|0)==5){if(k=m[c>>0]|0,t<<24>>24==f<<24>>24&&(k&1?e[c+4>>2]|0:(k&255)>>>1)|0){if(T=e[A>>2]|0,(T-S|0)>=160){T=0;break}r=e[a>>2]|0,e[A>>2]=T+4,e[T>>2]=r,e[a>>2]=0,T=0;break}for(c=I+26|0,T=I;(m[T>>0]|0)!=t<<24>>24;)if(T=T+1|0,(T|0)==(c|0)){T=c;break}if(T=T-I|0,(T|0)>23)T=-1;else{switch(r|0){case 10:case 8:{if((T|0)>=(r|0)){T=-1;break e}break}case 16:{if((T|0)>=22){if(F){T=-1;break e}if((D-o|0)>=3){T=-1;break e}if((m[D+-1>>0]|0)!=48){T=-1;break e}e[a>>2]=0,T=m[57498+T>>0]|0,e[s>>2]=D+1,m[D>>0]=T,T=0;break e}break}default:}T=m[57498+T>>0]|0,e[s>>2]=D+1,m[D>>0]=T,e[a>>2]=(e[a>>2]|0)+1,T=0}}while(!1);return T|0}function Et(){var t=0,r=0;do if(!(m[1968]|0)&&w0(1968)|0)if(h=0,t=Oe(31,2147483647,58885,0)|0,r=h,h=0,r&1)r=Q()|0,Gt(1968),ne(r|0);else{e[11196]=t,y0(1968);break}while(!1);return e[11196]|0}function o4(t){t=t|0}function s4(t){t=t|0,ue(t)}function a4(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0;N=b,b=b+64|0,D=N+56|0,c=N+52|0,T=N+48|0,S=N+44|0,A=N+40|0,I=N+36|0,k=N+32|0,z=N+8|0,F=N;e:do if(e[s+4>>2]&1){c=ut(s)|0,e[I>>2]=c,h=0,t=Ce(37,I|0,44212)|0,T=h,h=0;do if(T&1)z=Q()|0,D0(c)|0,c=z;else{if(D0(c)|0,c=ut(s)|0,e[k>>2]=c,h=0,A=Ce(37,k|0,44368)|0,k=h,h=0,k&1){z=Q()|0,D0(c)|0,c=z;break}if(D0(c)|0,h=0,de(e[(e[A>>2]|0)+24>>2]|0,z|0,A|0),k=h,h=0,k&1)S=z;else if(S=z+12|0,h=0,de(e[(e[A>>2]|0)+28>>2]|0,S|0,A|0),k=h,h=0,!(k&1))if(e[F>>2]=e[o>>2],h=0,e[D>>2]=e[F>>2],c=c0(8,r|0,D|0,z|0,z+24|0,t|0,a|0,1)|0,a=h,h=0,a&1){c=Q()|0,E0(z+12|0),E0(z);break}else{m[f>>0]=(c|0)==(z|0)&1,c=e[r>>2]|0,E0(z+12|0),E0(z);break e}if(c=Q()|0,A=xe,(z|0)!=(S|0))do S=S+-12|0,E0(S);while((S|0)!=(z|0))}while(!1);ne(c|0)}else switch(e[T>>2]=-1,z=e[(e[t>>2]|0)+16>>2]|0,e[S>>2]=e[r>>2],e[A>>2]=e[o>>2],e[c>>2]=e[S>>2],e[D>>2]=e[A>>2],c=nr[z&63](t,c,D,s,a,T)|0,e[r>>2]=c,e[T>>2]|0){case 0:{m[f>>0]=0;break e}case 1:{m[f>>0]=1;break e}default:{m[f>>0]=1,e[a>>2]=4;break e}}while(!1);return b=N,c|0}function l4(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;return c=b,b=b+16|0,S=c+12|0,A=c+8|0,T=c+4|0,I=c,e[T>>2]=e[r>>2],e[I>>2]=e[o>>2],e[A>>2]=e[T>>2],e[S>>2]=e[I>>2],t=Qg(t,A,S,s,a,f)|0,b=c,t|0}function u4(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;return c=b,b=b+16|0,S=c+12|0,A=c+8|0,T=c+4|0,I=c,e[T>>2]=e[r>>2],e[I>>2]=e[o>>2],e[A>>2]=e[T>>2],e[S>>2]=e[I>>2],t=jg(t,A,S,s,a,f)|0,b=c,t|0}function f4(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;return c=b,b=b+16|0,S=c+12|0,A=c+8|0,T=c+4|0,I=c,e[T>>2]=e[r>>2],e[I>>2]=e[o>>2],e[A>>2]=e[T>>2],e[S>>2]=e[I>>2],t=Yg(t,A,S,s,a,f)|0,b=c,t|0}function c4(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;return c=b,b=b+16|0,S=c+12|0,A=c+8|0,T=c+4|0,I=c,e[T>>2]=e[r>>2],e[I>>2]=e[o>>2],e[A>>2]=e[T>>2],e[S>>2]=e[I>>2],t=Kg(t,A,S,s,a,f)|0,b=c,t|0}function h4(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;return c=b,b=b+16|0,S=c+12|0,A=c+8|0,T=c+4|0,I=c,e[T>>2]=e[r>>2],e[I>>2]=e[o>>2],e[A>>2]=e[T>>2],e[S>>2]=e[I>>2],t=Xg(t,A,S,s,a,f)|0,b=c,t|0}function d4(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;return c=b,b=b+16|0,S=c+12|0,A=c+8|0,T=c+4|0,I=c,e[T>>2]=e[r>>2],e[I>>2]=e[o>>2],e[A>>2]=e[T>>2],e[S>>2]=e[I>>2],t=Zg(t,A,S,s,a,f)|0,b=c,t|0}function p4(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;return c=b,b=b+16|0,S=c+12|0,A=c+8|0,T=c+4|0,I=c,e[T>>2]=e[r>>2],e[I>>2]=e[o>>2],e[A>>2]=e[T>>2],e[S>>2]=e[I>>2],t=Jg(t,A,S,s,a,f)|0,b=c,t|0}function m4(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;return c=b,b=b+16|0,S=c+12|0,A=c+8|0,T=c+4|0,I=c,e[T>>2]=e[r>>2],e[I>>2]=e[o>>2],e[A>>2]=e[T>>2],e[S>>2]=e[I>>2],t=e3(t,A,S,s,a,f)|0,b=c,t|0}function g4(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0;return c=b,b=b+16|0,S=c+12|0,A=c+8|0,T=c+4|0,I=c,e[T>>2]=e[r>>2],e[I>>2]=e[o>>2],e[A>>2]=e[T>>2],e[S>>2]=e[I>>2],t=t3(t,A,S,s,a,f)|0,b=c,t|0}function S4(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0,_e=0;re=b,b=b+320|0,L=re,F=re+208|0,se=re+32|0,t=re+28|0,ee=re+16|0,B=re+12|0,z=re+48|0,q=re+8|0,N=re+4|0,e[se>>2]=0,e[se+4>>2]=0,e[se+8>>2]=0,h=0,s=ce(68,s|0)|0,D=h,h=0;do if(D&1)t=Q()|0;else{if(e[t>>2]=s,h=0,t=Ce(37,t|0,44212)|0,D=h,h=0,!(D&1)&&(h=0,Pe(e[(e[t>>2]|0)+48>>2]|0,t|0,57498,57524,F|0)|0,D=h,h=0,!(D&1))){D0(s)|0,e[ee>>2]=0,e[ee+4>>2]=0,e[ee+8>>2]=0,m[ee>>0]&1?t=(e[ee>>2]&-2)+-1|0:t=10,h=0,me(8,ee|0,t|0,0),D=h,h=0;e:do if(D&1)Te=31;else{k=ee+8|0,D=ee+1|0,t=m[ee>>0]&1?e[k>>2]|0:D,e[B>>2]=t,e[q>>2]=z,e[N>>2]=0,T=ee+4|0,c=e[r>>2]|0;t:for(;;){if(c){if(s=e[c+12>>2]|0,(s|0)==(e[c+16>>2]|0)){if(h=0,s=ce(e[(e[c>>2]|0)+36>>2]|0,c|0)|0,I=h,h=0,I&1){Te=30;break}}else s=e[s>>2]|0;(s|0)==-1?(e[r>>2]=0,s=0,S=1):(s=c,S=0)}else s=0,S=1;A=e[o>>2]|0;do if(A){if(c=e[A+12>>2]|0,(c|0)==(e[A+16>>2]|0)){if(h=0,c=ce(e[(e[A>>2]|0)+36>>2]|0,A|0)|0,I=h,h=0,I&1){Te=30;break t}}else c=e[c>>2]|0;if((c|0)!=-1)if(S){c=A;break}else{c=A;break t}else{e[o>>2]=0,Te=20;break}}else Te=20;while(!1);if((Te|0)==20)if(Te=0,S){c=0;break}else c=0;if(S=m[ee>>0]|0,S=S&1?e[T>>2]|0:(S&255)>>>1,(e[B>>2]|0)==(t+S|0)){if(h=0,me(8,ee|0,S<<1|0,0),I=h,h=0,I&1){Te=30;break}if(m[ee>>0]&1?t=(e[ee>>2]&-2)+-1|0:t=10,h=0,me(8,ee|0,t|0,0),I=h,h=0,I&1){Te=30;break}t=m[ee>>0]&1?e[k>>2]|0:D,e[B>>2]=t+S}if(A=s+12|0,S=e[A>>2]|0,I=s+16|0,(S|0)==(e[I>>2]|0)){if(h=0,S=ce(e[(e[s>>2]|0)+36>>2]|0,s|0)|0,_e=h,h=0,_e&1){Te=30;break}}else S=e[S>>2]|0;if(Ri(S,16,t,B,N,0,se,z,q,F)|0)break;if(c=e[A>>2]|0,(c|0)==(e[I>>2]|0))if(h=0,ce(e[(e[s>>2]|0)+40>>2]|0,s|0)|0,_e=h,h=0,_e&1){Te=30;break}else{c=s;continue}else{e[A>>2]=c+4,c=s;continue}}if((Te|0)==30){t=Q()|0;break}if(h=0,me(8,ee|0,(e[B>>2]|0)-t|0,0),_e=h,h=0,!(_e&1)&&(M=m[ee>>0]|0,R=e[k>>2]|0,h=0,K=ve(3)|0,_e=h,h=0,!(_e&1))&&(h=0,e[L>>2]=f,Z=Pe(16,(M&1?R:D)|0,K|0,58882,L|0)|0,_e=h,h=0,!(_e&1))){if((Z|0)!=1&&(e[a>>2]=4),s){if(t=e[s+12>>2]|0,(t|0)==(e[s+16>>2]|0)){if(h=0,t=ce(e[(e[s>>2]|0)+36>>2]|0,s|0)|0,_e=h,h=0,_e&1){Te=31;break}}else t=e[t>>2]|0;(t|0)==-1?(e[r>>2]=0,s=1):s=0}else s=1;do if(c){if(t=e[c+12>>2]|0,(t|0)==(e[c+16>>2]|0)){if(h=0,t=ce(e[(e[c>>2]|0)+36>>2]|0,c|0)|0,_e=h,h=0,_e&1){Te=31;break e}}else t=e[t>>2]|0;if((t|0)!=-1){if(s)break;Te=59;break}else{e[o>>2]=0,Te=57;break}}else Te=57;while(!1);return(Te|0)==57&&s&&(Te=59),(Te|0)==59&&(e[a>>2]=e[a>>2]|2),_e=e[r>>2]|0,fe(ee),fe(se),b=re,_e|0}else Te=31}while(!1);(Te|0)==31&&(t=Q()|0),fe(ee);break}t=Q()|0,D0(s)|0}while(!1);return fe(se),ne(t|0),0}function Ri(t,r,o,s,a,f,c,S,A,I){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0,A=A|0,I=I|0;var T=0,k=0,D=0,F=0;D=e[s>>2]|0,F=(D|0)==(o|0);do if(F){if(T=(e[I+96>>2]|0)==(t|0),!T&&(e[I+100>>2]|0)!=(t|0)){k=5;break}e[s>>2]=o+1,m[o>>0]=T?43:45,e[a>>2]=0,T=0}else k=5;while(!1);e:do if((k|0)==5){if(k=m[c>>0]|0,(t|0)==(f|0)&&(k&1?e[c+4>>2]|0:(k&255)>>>1)|0){if(T=e[A>>2]|0,(T-S|0)>=160){T=0;break}r=e[a>>2]|0,e[A>>2]=T+4,e[T>>2]=r,e[a>>2]=0,T=0;break}for(c=I+104|0,T=I;(e[T>>2]|0)!=(t|0);)if(T=T+4|0,(T|0)==(c|0)){T=c;break}if(T=T-I|0,c=T>>2,(T|0)>92)T=-1;else{switch(r|0){case 10:case 8:{if((c|0)>=(r|0)){T=-1;break e}break}case 16:{if((T|0)>=88){if(F){T=-1;break e}if((D-o|0)>=3){T=-1;break e}if((m[D+-1>>0]|0)!=48){T=-1;break e}e[a>>2]=0,T=m[57498+c>>0]|0,e[s>>2]=D+1,m[D>>0]=T,T=0;break e}break}default:}T=m[57498+c>>0]|0,e[s>>2]=D+1,m[D>>0]=T,e[a>>2]=(e[a>>2]|0)+1,T=0}}while(!1);return T|0}function Gi(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0;if(A=b,b=b+16|0,S=A,r=ut(r)|0,e[S>>2]=r,h=0,a=Ce(37,S|0,44220)|0,I=h,h=0,!(I&1)&&(h=0,Pe(e[(e[a>>2]|0)+32>>2]|0,a|0,57498,57524,o|0)|0,I=h,h=0,!(I&1))&&(h=0,c=Ce(37,S|0,44360)|0,I=h,h=0,!(I&1))&&(h=0,f=ce(e[(e[c>>2]|0)+16>>2]|0,c|0)|0,I=h,h=0,!(I&1))&&(m[s>>0]=f,h=0,de(e[(e[c>>2]|0)+20>>2]|0,t|0,c|0),I=h,h=0,!(I&1))){D0(r)|0,b=A;return}I=Q()|0,D0(r)|0,ne(I|0)}function xn(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0;if(T=b,b=b+16|0,I=T,r=ut(r)|0,e[I>>2]=r,h=0,f=Ce(37,I|0,44220)|0,k=h,h=0,!(k&1)&&(h=0,Pe(e[(e[f>>2]|0)+32>>2]|0,f|0,57498,57530,o|0)|0,k=h,h=0,!(k&1))&&(h=0,A=Ce(37,I|0,44360)|0,k=h,h=0,!(k&1))&&(h=0,c=ce(e[(e[A>>2]|0)+12>>2]|0,A|0)|0,k=h,h=0,!(k&1))&&(m[s>>0]=c,h=0,S=ce(e[(e[A>>2]|0)+16>>2]|0,A|0)|0,k=h,h=0,!(k&1))&&(m[a>>0]=S,h=0,de(e[(e[A>>2]|0)+20>>2]|0,t|0,A|0),k=h,h=0,!(k&1))){D0(r)|0,b=T;return}k=Q()|0,D0(r)|0,ne(k|0)}function Tn(t,r,o,s,a,f,c,S,A,I,T,k){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0,A=A|0,I=I|0,T=T|0,k=k|0;var D=0,F=0;e:do if(t<<24>>24==f<<24>>24)m[r>>0]|0?(m[r>>0]=0,o=e[a>>2]|0,e[a>>2]=o+1,m[o>>0]=46,o=m[S>>0]|0,(o&1?e[S+4>>2]|0:(o&255)>>>1)|0&&(D=e[I>>2]|0,(D-A|0)<160)&&(A=e[T>>2]|0,e[I>>2]=D+4,e[D>>2]=A),D=0):D=-1;else{if(t<<24>>24==c<<24>>24&&(c=m[S>>0]|0,((c&1?e[S+4>>2]|0:(c&255)>>>1)|0)!=0)){if(!(m[r>>0]|0)){D=-1;break}if(D=e[I>>2]|0,(D-A|0)>=160){D=0;break}A=e[T>>2]|0,e[I>>2]=D+4,e[D>>2]=A,e[T>>2]=0,D=0;break}for(f=k+32|0,D=k;(m[D>>0]|0)!=t<<24>>24;)if(D=D+1|0,(D|0)==(f|0)){D=f;break}if(f=D-k|0,(f|0)>31)D=-1;else switch(c=m[57498+f>>0]|0,f|0){case 24:case 25:{if(D=e[a>>2]|0,(D|0)!=(s|0)&&(P[D+-1>>0]&95|0)!=(P[o>>0]&127|0)){D=-1;break e}e[a>>2]=D+1,m[D>>0]=c,D=0;break e}case 23:case 22:{m[o>>0]=80,D=e[a>>2]|0,e[a>>2]=D+1,m[D>>0]=c,D=0;break e}default:{if(D=c&95,(D|0)==(m[o>>0]|0)&&(m[o>>0]=D|128,(m[r>>0]|0)!=0)&&(m[r>>0]=0,o=m[S>>0]|0,((o&1?e[S+4>>2]|0:(o&255)>>>1)|0)!=0)&&(F=e[I>>2]|0,(F-A|0)<160)&&(A=e[T>>2]|0,e[I>>2]=F+4,e[F>>2]=A),I=e[a>>2]|0,e[a>>2]=I+1,m[I>>0]=c,(f|0)>21){D=0;break e}e[T>>2]=(e[T>>2]|0)+1,D=0;break e}}}while(!1);return D|0}function $i(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0;if(A=b,b=b+16|0,S=A,r=ut(r)|0,e[S>>2]=r,h=0,a=Ce(37,S|0,44212)|0,I=h,h=0,!(I&1)&&(h=0,Pe(e[(e[a>>2]|0)+48>>2]|0,a|0,57498,57524,o|0)|0,I=h,h=0,!(I&1))&&(h=0,c=Ce(37,S|0,44368)|0,I=h,h=0,!(I&1))&&(h=0,f=ce(e[(e[c>>2]|0)+16>>2]|0,c|0)|0,I=h,h=0,!(I&1))&&(e[s>>2]=f,h=0,de(e[(e[c>>2]|0)+20>>2]|0,t|0,c|0),I=h,h=0,!(I&1))){D0(r)|0,b=A;return}I=Q()|0,D0(r)|0,ne(I|0)}function In(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0;if(T=b,b=b+16|0,I=T,r=ut(r)|0,e[I>>2]=r,h=0,f=Ce(37,I|0,44212)|0,k=h,h=0,!(k&1)&&(h=0,Pe(e[(e[f>>2]|0)+48>>2]|0,f|0,57498,57530,o|0)|0,k=h,h=0,!(k&1))&&(h=0,A=Ce(37,I|0,44368)|0,k=h,h=0,!(k&1))&&(h=0,c=ce(e[(e[A>>2]|0)+12>>2]|0,A|0)|0,k=h,h=0,!(k&1))&&(e[s>>2]=c,h=0,S=ce(e[(e[A>>2]|0)+16>>2]|0,A|0)|0,k=h,h=0,!(k&1))&&(e[a>>2]=S,h=0,de(e[(e[A>>2]|0)+20>>2]|0,t|0,A|0),k=h,h=0,!(k&1))){D0(r)|0,b=T;return}k=Q()|0,D0(r)|0,ne(k|0)}function Cn(t,r,o,s,a,f,c,S,A,I,T,k){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0,A=A|0,I=I|0,T=T|0,k=k|0;var D=0,F=0;e:do if((t|0)==(f|0))m[r>>0]|0?(m[r>>0]=0,o=e[a>>2]|0,e[a>>2]=o+1,m[o>>0]=46,o=m[S>>0]|0,(o&1?e[S+4>>2]|0:(o&255)>>>1)|0&&(D=e[I>>2]|0,(D-A|0)<160)&&(A=e[T>>2]|0,e[I>>2]=D+4,e[D>>2]=A),D=0):D=-1;else{if((t|0)==(c|0)&&(c=m[S>>0]|0,((c&1?e[S+4>>2]|0:(c&255)>>>1)|0)!=0)){if(!(m[r>>0]|0)){D=-1;break}if(D=e[I>>2]|0,(D-A|0)>=160){D=0;break}A=e[T>>2]|0,e[I>>2]=D+4,e[D>>2]=A,e[T>>2]=0,D=0;break}for(f=k+128|0,D=k;(e[D>>2]|0)!=(t|0);)if(D=D+4|0,(D|0)==(f|0)){D=f;break}if(f=D-k|0,D=f>>2,(f|0)<=124){switch(c=m[57498+D>>0]|0,D|0){case 24:case 25:{if(D=e[a>>2]|0,(D|0)!=(s|0)&&(P[D+-1>>0]&95|0)!=(P[o>>0]&127|0)){D=-1;break e}e[a>>2]=D+1,m[D>>0]=c,D=0;break e}case 23:case 22:{m[o>>0]=80;break}default:D=c&95,(D|0)==(m[o>>0]|0)&&(m[o>>0]=D|128,(m[r>>0]|0)!=0)&&(m[r>>0]=0,o=m[S>>0]|0,((o&1?e[S+4>>2]|0:(o&255)>>>1)|0)!=0)&&(F=e[I>>2]|0,(F-A|0)<160)&&(A=e[T>>2]|0,e[I>>2]=F+4,e[F>>2]=A)}I=e[a>>2]|0,e[a>>2]=I+1,m[I>>0]=c,(f|0)>84||(e[T>>2]=(e[T>>2]|0)+1),D=0}else D=-1}while(!1);return D|0}function w4(t){t=t|0}function A4(t){t=t|0,ue(t)}function y4(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0;T=b,b=b+32|0,f=T+20|0,c=T+16|0,S=T+12|0,I=T;e:do if(!(e[o+4>>2]&1))I=e[(e[t>>2]|0)+24>>2]|0,e[c>>2]=e[r>>2],e[f>>2]=e[c>>2],f=or[I&31](t,f,o,s,a&1)|0;else{f=ut(o)|0,e[S>>2]=f,h=0,c=Ce(37,S|0,44360)|0,A=h,h=0;t:do if(A&1)T=Q()|0,D0(f)|0,f=T;else{D0(f)|0,f=e[c>>2]|0,a?K0[e[f+24>>2]&127](I,c):K0[e[f+28>>2]&127](I,c),t=m[I>>0]|0,A=(t&1)==0,f=I+1|0,a=I+8|0,S=A?f:I+1|0,f=A?f:e[I+8>>2]|0,A=I+4|0,o=(t&1)==0;i:do if((f|0)!=((o?S:e[a>>2]|0)+(o?(t&255)>>>1:e[A>>2]|0)|0)){r:for(;;){c=m[f>>0]|0,s=e[r>>2]|0;do if(s){if(o=s+24|0,t=e[o>>2]|0,(t|0)!=(e[s+28>>2]|0)){e[o>>2]=t+1,m[t>>0]=c;break}if(h=0,c=Ce(e[(e[s>>2]|0)+52>>2]|0,s|0,c&255|0)|0,t=h,h=0,t&1)break r;(c|0)==-1&&(e[r>>2]=0)}while(!1);if(f=f+1|0,t=m[I>>0]|0,o=(t&1)==0,(f|0)==((o?S:e[a>>2]|0)+(o?(t&255)>>>1:e[A>>2]|0)|0))break i}f=Q()|0,fe(I);break t}while(!1);f=e[r>>2]|0,fe(I);break e}while(!1);ne(f|0)}while(!1);return b=T,f|0}function _4(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;if(T=b,b=b+64|0,f=T,D=T+56|0,F=T+44|0,S=T+20|0,I=T+16|0,A=T+12|0,k=T+8|0,c=T+4|0,m[D>>0]=m[58887]|0,m[D+1>>0]=m[58888]|0,m[D+2>>0]=m[58889]|0,m[D+3>>0]=m[58890]|0,m[D+4>>0]=m[58891]|0,m[D+5>>0]=m[58892]|0,Ii(D+1|0,58893,1,e[o+4>>2]|0),t=Et()|0,e[f>>2]=a,a=F+(qt(F,12,t,D,f)|0)|0,D=ii(F,a,o)|0,t=ut(o)|0,e[k>>2]=t,h=0,o0(1,F|0,D|0,a|0,S|0,I|0,A|0,k|0),a=h,h=0,a&1)F=Q()|0,D0(t)|0,ne(F|0);else return D0(t)|0,e[c>>2]=e[r>>2],D=e[I>>2]|0,F=e[A>>2]|0,e[f>>2]=e[c>>2],F=Vi(f,S,D,F,o,s)|0,b=T,F|0;return 0}function Ii(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0;if(s&2048&&(m[t>>0]=43,t=t+1|0),s&512&&(m[t>>0]=35,t=t+1|0),a=m[r>>0]|0,a<<24>>24)for(f=r;;)if(f=f+1|0,r=t+1|0,m[t>>0]=a,a=m[f>>0]|0,a<<24>>24)t=r;else{t=r;break}e:do switch(s&74|0){case 64:{m[t>>0]=111;break}case 8:if(s&16384){m[t>>0]=88;break e}else{m[t>>0]=120;break e}default:if(o){m[t>>0]=100;break e}else{m[t>>0]=117;break e}}while(!1)}function ii(t,r,o){t=t|0,r=r|0,o=o|0;var s=0;e:do switch(e[o+4>>2]&176|0){case 16:{switch(o=m[t>>0]|0,o<<24>>24){case 43:case 45:{t=t+1|0;break e}default:}if((r-t|0)>1&o<<24>>24==48){switch(m[t+1>>0]|0){case 88:case 120:break;default:{s=7;break e}}t=t+2|0}else s=7;break}case 32:{t=r;break}default:s=7}while(!1);return t|0}function x4(t,r,o,s,a,f,c){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0;var S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0;B=b,b=b+16|0,L=B,z=Ot(c,44220)|0,I=Ot(c,44360)|0,K0[e[(e[I>>2]|0)+20>>2]&127](L,I),F=m[L>>0]|0,N=L+4|0;e:do if(!((F&1?e[N>>2]|0:(F&255)>>>1)|0))h=0,Pe(e[(e[z>>2]|0)+32>>2]|0,z|0,t|0,o|0,s|0)|0,q=h,h=0,q&1?q=5:(c=s+(o-t)|0,e[f>>2]=c,q=29);else{switch(e[f>>2]=s,c=m[t>>0]|0,c<<24>>24){case 43:case 45:{if(h=0,c=Ce(e[(e[z>>2]|0)+28>>2]|0,z|0,c|0)|0,F=h,h=0,F&1){q=5;break e}A=e[f>>2]|0,e[f>>2]=A+1,m[A>>0]=c,A=t+1|0;break}default:A=t}t:do if((o-A|0)>1&&(m[A>>0]|0)==48){switch(c=A+1|0,m[c>>0]|0){case 88:case 120:break;default:break t}if(h=0,S=Ce(e[(e[z>>2]|0)+28>>2]|0,z|0,48)|0,F=h,h=0,F&1){q=5;break e}if(F=e[f>>2]|0,e[f>>2]=F+1,m[F>>0]=S,h=0,c=Ce(e[(e[z>>2]|0)+28>>2]|0,z|0,m[c>>0]|0)|0,F=h,h=0,F&1){q=5;break e}F=e[f>>2]|0,e[f>>2]=F+1,m[F>>0]=c,A=A+2|0}while(!1);if((A|0)!=(o|0)&&(T=o+-1|0,A>>>0<T>>>0)){S=A,c=T;do F=m[S>>0]|0,m[S>>0]=m[c>>0]|0,m[c>>0]=F,S=S+1|0,c=c+-1|0;while(S>>>0<c>>>0)}if(h=0,T=ce(e[(e[I>>2]|0)+16>>2]|0,I|0)|0,F=h,h=0,F&1)q=5;else{k=L+8|0,D=L+1|0;t:do if(A>>>0<o>>>0){for(c=0,S=0,F=A;I=m[(m[L>>0]&1?e[k>>2]|0:D)+S>>0]|0,I<<24>>24!=0&(c|0)==(I<<24>>24|0)?(c=e[f>>2]|0,e[f>>2]=c+1,m[c>>0]=T,c=m[L>>0]|0,I=0,S=(S>>>0<((c&1?e[N>>2]|0:(c&255)>>>1)+-1|0)>>>0&1)+S|0):I=c,h=0,c=Ce(e[(e[z>>2]|0)+28>>2]|0,z|0,m[F>>0]|0)|0,M=h,h=0,!(M&1);){if(M=e[f>>2]|0,e[f>>2]=M+1,m[M>>0]=c,F=F+1|0,F>>>0>=o>>>0)break t;c=I+1|0}c=Q()|0;break e}while(!1);if(S=t,c=s+(A-S)|0,t=e[f>>2]|0,(c|0)==(t|0))t=S,q=29;else{if(t=t+-1|0,c>>>0<t>>>0)do M=m[c>>0]|0,m[c>>0]=m[t>>0]|0,m[t>>0]=M,c=c+1|0,t=t+-1|0;while(c>>>0<t>>>0);t=S,c=e[f>>2]|0,q=29}}}while(!1);if((q|0)==5)c=Q()|0;else if((q|0)==29){e[a>>2]=(r|0)==(o|0)?c:s+(r-t)|0,fe(L),b=B;return}fe(L),ne(c|0)}function T4(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0;if(k=b,b=b+96|0,c=k+8|0,t=k,F=k+74|0,A=k+32|0,T=k+28|0,I=k+24|0,D=k+20|0,S=k+16|0,N=t,e[N>>2]=37,e[N+4>>2]=0,Ii(t+1|0,58895,1,e[o+4>>2]|0),N=Et()|0,z=c,e[z>>2]=a,e[z+4>>2]=f,f=F+(qt(F,22,N,t,c)|0)|0,a=ii(F,f,o)|0,t=ut(o)|0,e[D>>2]=t,h=0,o0(1,F|0,a|0,f|0,A|0,T|0,I|0,D|0),f=h,h=0,f&1)z=Q()|0,D0(t)|0,ne(z|0);else return D0(t)|0,e[S>>2]=e[r>>2],N=e[T>>2]|0,z=e[I>>2]|0,e[c>>2]=e[S>>2],z=Vi(c,A,N,z,o,s)|0,b=k,z|0;return 0}function I4(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;if(T=b,b=b+64|0,f=T,D=T+56|0,F=T+44|0,S=T+20|0,I=T+16|0,A=T+12|0,k=T+8|0,c=T+4|0,m[D>>0]=m[58887]|0,m[D+1>>0]=m[58888]|0,m[D+2>>0]=m[58889]|0,m[D+3>>0]=m[58890]|0,m[D+4>>0]=m[58891]|0,m[D+5>>0]=m[58892]|0,Ii(D+1|0,58893,0,e[o+4>>2]|0),t=Et()|0,e[f>>2]=a,a=F+(qt(F,12,t,D,f)|0)|0,D=ii(F,a,o)|0,t=ut(o)|0,e[k>>2]=t,h=0,o0(1,F|0,D|0,a|0,S|0,I|0,A|0,k|0),a=h,h=0,a&1)F=Q()|0,D0(t)|0,ne(F|0);else return D0(t)|0,e[c>>2]=e[r>>2],D=e[I>>2]|0,F=e[A>>2]|0,e[f>>2]=e[c>>2],F=Vi(f,S,D,F,o,s)|0,b=T,F|0;return 0}function C4(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0;if(k=b,b=b+112|0,c=k+8|0,t=k,F=k+75|0,A=k+32|0,T=k+28|0,I=k+24|0,D=k+20|0,S=k+16|0,N=t,e[N>>2]=37,e[N+4>>2]=0,Ii(t+1|0,58895,0,e[o+4>>2]|0),N=Et()|0,z=c,e[z>>2]=a,e[z+4>>2]=f,f=F+(qt(F,23,N,t,c)|0)|0,a=ii(F,f,o)|0,t=ut(o)|0,e[D>>2]=t,h=0,o0(1,F|0,a|0,f|0,A|0,T|0,I|0,D|0),f=h,h=0,f&1)z=Q()|0,D0(t)|0,ne(z|0);else return D0(t)|0,e[S>>2]=e[r>>2],N=e[T>>2]|0,z=e[I>>2]|0,e[c>>2]=e[S>>2],z=Vi(c,A,N,z,o,s)|0,b=k,z|0;return 0}function E4(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=+a;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0;K=b,b=b+176|0,q=K+84|0,D=K+48|0,k=K+32|0,A=K+24|0,f=K+8|0,T=K,N=K+88|0,z=K+80|0,S=K+118|0,R=K+76|0,M=K+72|0,B=K+68|0,L=K+64|0,I=T,e[I>>2]=37,e[I+4>>2]=0,I=Sr(T+1|0,58898,e[o+4>>2]|0)|0,e[z>>2]=N,t=Et()|0,I?(e[f>>2]=e[o+8>>2],V[f+8>>3]=a,f=qt(N,30,t,T,f)|0):(V[A>>3]=a,f=qt(N,30,t,T,A)|0);e:do if((f|0)>29){h=0,t=ve(3)|0,f=h,h=0,f=f&1,I?!f&&(h=0,e[k>>2]=e[o+8>>2],V[k+8>>3]=a,c=Pe(17,z|0,t|0,T|0,k|0)|0,F=h,h=0,!(F&1))&&(Z=12):!f&&(h=0,e[D>>2]=e[o+8>>2],V[D+8>>3]=a,F=Pe(17,z|0,t|0,T|0,D|0)|0,D=h,h=0,!(D&1))&&(c=F,Z=12);do if((Z|0)==12){if(t=e[z>>2]|0,t)f=t;else{if(h=0,_0(6),F=h,h=0,F&1)break;f=e[z>>2]|0}t=f,T=f,Z=16;break e}while(!1);t=Q()|0}else t=e[z>>2]|0,T=0,c=f,Z=16;while(!1);if((Z|0)==16){A=t+c|0,I=ii(t,A,o)|0;do if((t|0)==(N|0))t=N,f=0,Z=22;else{if(c=It(c<<1)|0,!c){if(h=0,_0(6),Z=h,h=0,Z&1){f=0,Z=20;break}t=e[z>>2]|0}f=c,S=c,Z=22}while(!1);do if((Z|0)==22)if(h=0,c=ce(68,o|0)|0,z=h,h=0,z&1)Z=20;else{if(e[B>>2]=c,h=0,o0(2,t|0,I|0,A|0,S|0,R|0,M|0,B|0),B=h,h=0,B&1){t=Q()|0,D0(c)|0;break}if(D0(c)|0,e[L>>2]=e[r>>2],Z=e[R>>2]|0,t=e[M>>2]|0,h=0,e[q>>2]=e[L>>2],t=P0(39,q|0,S|0,Z|0,t|0,o|0,s|0)|0,Z=h,h=0,Z&1)Z=20;else return e[r>>2]=t,f&&Z0(f),T&&Z0(T),b=K,t|0}while(!1);(Z|0)==20&&(t=Q()|0),f&&Z0(f),T&&Z0(T)}return ne(t|0),0}function Sr(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0;if(o&2048&&(m[t>>0]=43,t=t+1|0),o&1024&&(m[t>>0]=35,t=t+1|0),c=o&260,a=o>>>14,S=(c|0)==260,S?f=0:(m[t>>0]=46,m[t+1>>0]=42,t=t+2|0,f=1),o=m[r>>0]|0,o<<24>>24)for(s=t;r=r+1|0,t=s+1|0,m[s>>0]=o,o=m[r>>0]|0,o<<24>>24;)s=t;e:do switch(c|0){case 4:if(a&1){m[t>>0]=70;break e}else{m[t>>0]=102;break e}case 256:if(a&1){m[t>>0]=69;break e}else{m[t>>0]=101;break e}default:if(o=(a&1|0)!=0,S)if(o){m[t>>0]=65;break e}else{m[t>>0]=97;break e}else if(o){m[t>>0]=71;break e}else{m[t>>0]=103;break e}}while(!1);return f|0}function k4(t,r,o,s,a,f,c){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0;var S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0;switch(K=b,b=b+16|0,Z=K,R=Ot(c,44220)|0,L=Ot(c,44360)|0,K0[e[(e[L>>2]|0)+20>>2]&127](Z,L),e[f>>2]=s,c=m[t>>0]|0,c<<24>>24){case 43:case 45:{h=0,c=Ce(e[(e[R>>2]|0)+28>>2]|0,R|0,c|0)|0,M=h,h=0,M&1?B=8:(T=e[f>>2]|0,e[f>>2]=T+1,m[T>>0]=c,T=t+1|0,B=10);break}default:T=t,B=10}e:do if((B|0)==10){M=o;t:do if((M-T|0)>1&&(m[T>>0]|0)==48){switch(A=T+1|0,m[A>>0]|0){case 88:case 120:break;default:{B=11;break t}}if(h=0,c=Ce(e[(e[R>>2]|0)+28>>2]|0,R|0,48)|0,q=h,h=0,q&1){B=8;break e}if(q=e[f>>2]|0,e[f>>2]=q+1,m[q>>0]=c,T=T+2|0,h=0,c=Ce(e[(e[R>>2]|0)+28>>2]|0,R|0,m[A>>0]|0)|0,q=h,h=0,q&1){B=8;break e}if(q=e[f>>2]|0,e[f>>2]=q+1,m[q>>0]=c,T>>>0<o>>>0){for(c=T;A=m[c>>0]|0,h=0,I=ve(3)|0,q=h,h=0,!(q&1||(h=0,A=Ce(39,A<<24>>24|0,I|0)|0,q=h,h=0,q&1));){if(!A){q=T;break t}if(c=c+1|0,c>>>0>=o>>>0){q=T;break t}}c=Q()|0;break e}else q=T,c=T}else B=11;while(!1);t:do if((B|0)==11)if(T>>>0<o>>>0){for(c=T;A=m[c>>0]|0,h=0,I=ve(3)|0,q=h,h=0,!(q&1||(h=0,A=Ce(40,A<<24>>24|0,I|0)|0,q=h,h=0,q&1));){if(!A){q=T;break t}if(c=c+1|0,c>>>0>=o>>>0){q=T;break t}}c=Q()|0;break e}else q=T,c=T;while(!1);if(N=m[Z>>0]|0,z=Z+4|0,(N&1?e[z>>2]|0:(N&255)>>>1)|0){if((q|0)!=(c|0)&&(k=c+-1|0,q>>>0<k>>>0)){I=q,A=k;do N=m[I>>0]|0,m[I>>0]=m[A>>0]|0,m[A>>0]=N,I=I+1|0,A=A+-1|0;while(I>>>0<A>>>0)}if(h=0,k=ce(e[(e[L>>2]|0)+16>>2]|0,L|0)|0,N=h,h=0,N&1){B=8;break}D=Z+8|0,F=Z+1|0;t:do if(q>>>0<c>>>0){for(A=0,I=0,N=q;T=m[(m[Z>>0]&1?e[D>>2]|0:F)+I>>0]|0,T<<24>>24>0&(A|0)==(T<<24>>24|0)?(A=e[f>>2]|0,e[f>>2]=A+1,m[A>>0]=k,A=m[Z>>0]|0,T=0,I=(I>>>0<((A&1?e[z>>2]|0:(A&255)>>>1)+-1|0)>>>0&1)+I|0):T=A,h=0,A=Ce(e[(e[R>>2]|0)+28>>2]|0,R|0,m[N>>0]|0)|0,re=h,h=0,!(re&1);){if(re=e[f>>2]|0,e[f>>2]=re+1,m[re>>0]=A,N=N+1|0,N>>>0>=c>>>0)break t;A=T+1|0}c=Q()|0;break e}while(!1);if(A=s+(q-t)|0,I=e[f>>2]|0,(A|0)!=(I|0)&&(S=I+-1|0,A>>>0<S>>>0)){do re=m[A>>0]|0,m[A>>0]=m[S>>0]|0,m[S>>0]=re,A=A+1|0,S=S+-1|0;while(A>>>0<S>>>0);A=R}else A=R}else{if(h=0,Pe(e[(e[R>>2]|0)+32>>2]|0,R|0,q|0,c|0,e[f>>2]|0)|0,re=h,h=0,re&1){B=8;break}e[f>>2]=(e[f>>2]|0)+(c-q),A=R}t:do if(c>>>0<o>>>0){for(;S=m[c>>0]|0,S<<24>>24!=46;){if(h=0,S=Ce(e[(e[A>>2]|0)+28>>2]|0,R|0,S|0)|0,re=h,h=0,re&1){B=4;break}if(re=e[f>>2]|0,e[f>>2]=re+1,m[re>>0]=S,c=c+1|0,c>>>0>=o>>>0)break t}if((B|0)==4){c=Q()|0;break e}if(h=0,S=ce(e[(e[L>>2]|0)+12>>2]|0,L|0)|0,re=h,h=0,re&1){B=8;break e}re=e[f>>2]|0,e[f>>2]=re+1,m[re>>0]=S,c=c+1|0}while(!1);if(h=0,Pe(e[(e[R>>2]|0)+32>>2]|0,R|0,c|0,o|0,e[f>>2]|0)|0,re=h,h=0,re&1)B=8;else{re=(e[f>>2]|0)+(M-c)|0,e[f>>2]=re,e[a>>2]=(r|0)==(o|0)?re:s+(r-t)|0,fe(Z),b=K;return}}while(!1);(B|0)==8&&(c=Q()|0),fe(Z),ne(c|0)}function D4(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=+a;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0;K=b,b=b+176|0,q=K+76|0,D=K+48|0,k=K+32|0,A=K+24|0,f=K+8|0,T=K,N=K+80|0,z=K+72|0,S=K+110|0,R=K+68|0,M=K+64|0,B=K+60|0,L=K+56|0,I=T,e[I>>2]=37,e[I+4>>2]=0,I=Sr(T+1|0,58899,e[o+4>>2]|0)|0,e[z>>2]=N,t=Et()|0,I?(e[f>>2]=e[o+8>>2],V[f+8>>3]=a,f=qt(N,30,t,T,f)|0):(V[A>>3]=a,f=qt(N,30,t,T,A)|0);e:do if((f|0)>29){h=0,t=ve(3)|0,f=h,h=0,f=f&1,I?!f&&(h=0,e[k>>2]=e[o+8>>2],V[k+8>>3]=a,c=Pe(17,z|0,t|0,T|0,k|0)|0,F=h,h=0,!(F&1))&&(Z=12):!f&&(h=0,V[D>>3]=a,F=Pe(17,z|0,t|0,T|0,D|0)|0,D=h,h=0,!(D&1))&&(c=F,Z=12);do if((Z|0)==12){if(t=e[z>>2]|0,t)f=t;else{if(h=0,_0(6),F=h,h=0,F&1)break;f=e[z>>2]|0}t=f,T=f,Z=16;break e}while(!1);t=Q()|0}else t=e[z>>2]|0,T=0,c=f,Z=16;while(!1);if((Z|0)==16){A=t+c|0,I=ii(t,A,o)|0;do if((t|0)==(N|0))t=N,f=0,Z=22;else{if(c=It(c<<1)|0,!c){if(h=0,_0(6),Z=h,h=0,Z&1){f=0,Z=20;break}t=e[z>>2]|0}f=c,S=c,Z=22}while(!1);do if((Z|0)==22)if(h=0,c=ce(68,o|0)|0,z=h,h=0,z&1)Z=20;else{if(e[B>>2]=c,h=0,o0(2,t|0,I|0,A|0,S|0,R|0,M|0,B|0),B=h,h=0,B&1){t=Q()|0,D0(c)|0;break}if(D0(c)|0,e[L>>2]=e[r>>2],Z=e[R>>2]|0,t=e[M>>2]|0,h=0,e[q>>2]=e[L>>2],t=P0(39,q|0,S|0,Z|0,t|0,o|0,s|0)|0,Z=h,h=0,Z&1)Z=20;else return e[r>>2]=t,f&&Z0(f),T&&Z0(T),b=K,t|0}while(!1);(Z|0)==20&&(t=Q()|0),f&&Z0(f),T&&Z0(T)}return ne(t|0),0}function P4(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;if(D=b,b=b+80|0,A=D,t=D+70|0,T=D+12|0,k=D+32|0,S=D+8|0,I=D+4|0,m[t>>0]=m[58901]|0,m[t+1>>0]=m[58902]|0,m[t+2>>0]=m[58903]|0,m[t+3>>0]=m[58904]|0,m[t+4>>0]=m[58905]|0,m[t+5>>0]=m[58906]|0,f=Et()|0,e[A>>2]=a,t=qt(T,20,f,t,A)|0,a=T+t|0,f=ii(T,a,o)|0,c=ut(o)|0,e[S>>2]=c,h=0,S=Ce(37,S|0,44220)|0,F=h,h=0,F&1)F=Q()|0,D0(c)|0,ne(F|0);else return D0(c)|0,Un[e[(e[S>>2]|0)+32>>2]&31](S,T,a,k)|0,F=k+t|0,e[I>>2]=e[r>>2],e[A>>2]=e[I>>2],F=Vi(A,k,(f|0)==(a|0)?F:k+(f-T)|0,F,o,s)|0,b=D,F|0;return 0}function F4(t){t=t|0}function M4(t){t=t|0,ue(t)}function R4(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0;I=b,b=b+32|0,f=I+20|0,c=I+16|0,S=I+12|0,A=I;e:do if(!(e[o+4>>2]&1))A=e[(e[t>>2]|0)+24>>2]|0,e[c>>2]=e[r>>2],e[f>>2]=e[c>>2],f=or[A&31](t,f,o,s,a&1)|0;else{f=ut(o)|0,e[S>>2]=f,h=0,c=Ce(37,S|0,44368)|0,S=h,h=0;t:do if(S&1)I=Q()|0,D0(f)|0,f=I;else{D0(f)|0,f=e[c>>2]|0,a?K0[e[f+24>>2]&127](A,c):K0[e[f+28>>2]&127](A,c),t=m[A>>0]|0,o=(t&1)==0,f=A+4|0,a=A+8|0,S=o?f:A+4|0,f=o?f:e[A+8>>2]|0,o=(t&1)==0;i:do if((f|0)!=((o?S:e[a>>2]|0)+((o?(t&255)>>>1:e[S>>2]|0)<<2)|0)){for(;;){if(c=e[f>>2]|0,s=e[r>>2]|0,s){if(o=s+24|0,t=e[o>>2]|0,(t|0)==(e[s+28>>2]|0)){if(h=0,c=Ce(e[(e[s>>2]|0)+52>>2]|0,s|0,c|0)|0,t=h,h=0,t&1)break}else e[o>>2]=t+4,e[t>>2]=c;(c|0)==-1&&(e[r>>2]=0)}if(f=f+4|0,t=m[A>>0]|0,o=(t&1)==0,(f|0)==((o?S:e[a>>2]|0)+((o?(t&255)>>>1:e[S>>2]|0)<<2)|0))break i}f=Q()|0,E0(A);break t}while(!1);f=e[r>>2]|0,E0(A);break e}while(!1);ne(f|0)}while(!1);return b=I,f|0}function O4(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;if(T=b,b=b+128|0,f=T,D=T+116|0,F=T+104|0,S=T+20|0,I=T+16|0,A=T+12|0,k=T+8|0,c=T+4|0,m[D>>0]=m[58887]|0,m[D+1>>0]=m[58888]|0,m[D+2>>0]=m[58889]|0,m[D+3>>0]=m[58890]|0,m[D+4>>0]=m[58891]|0,m[D+5>>0]=m[58892]|0,Ii(D+1|0,58893,1,e[o+4>>2]|0),t=Et()|0,e[f>>2]=a,a=F+(qt(F,12,t,D,f)|0)|0,D=ii(F,a,o)|0,t=ut(o)|0,e[k>>2]=t,h=0,o0(3,F|0,D|0,a|0,S|0,I|0,A|0,k|0),a=h,h=0,a&1)F=Q()|0,D0(t)|0,ne(F|0);else return D0(t)|0,e[c>>2]=e[r>>2],D=e[I>>2]|0,F=e[A>>2]|0,e[f>>2]=e[c>>2],F=Hi(f,S,D,F,o,s)|0,b=T,F|0;return 0}function L4(t,r,o,s,a,f,c){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0;var S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0;B=b,b=b+16|0,L=B,z=Ot(c,44212)|0,I=Ot(c,44368)|0,K0[e[(e[I>>2]|0)+20>>2]&127](L,I),F=m[L>>0]|0,N=L+4|0;e:do if(!((F&1?e[N>>2]|0:(F&255)>>>1)|0))h=0,Pe(e[(e[z>>2]|0)+48>>2]|0,z|0,t|0,o|0,s|0)|0,q=h,h=0,q&1?q=5:(c=s+(o-t<<2)|0,e[f>>2]=c,q=28);else{switch(e[f>>2]=s,c=m[t>>0]|0,c<<24>>24){case 43:case 45:{if(h=0,c=Ce(e[(e[z>>2]|0)+44>>2]|0,z|0,c|0)|0,F=h,h=0,F&1){q=5;break e}A=e[f>>2]|0,e[f>>2]=A+4,e[A>>2]=c,A=t+1|0;break}default:A=t}t:do if((o-A|0)>1&&(m[A>>0]|0)==48){switch(c=A+1|0,m[c>>0]|0){case 88:case 120:break;default:{F=A;break t}}if(h=0,S=Ce(e[(e[z>>2]|0)+44>>2]|0,z|0,48)|0,F=h,h=0,F&1){q=5;break e}if(F=e[f>>2]|0,e[f>>2]=F+4,e[F>>2]=S,h=0,c=Ce(e[(e[z>>2]|0)+44>>2]|0,z|0,m[c>>0]|0)|0,F=h,h=0,F&1){q=5;break e}F=e[f>>2]|0,e[f>>2]=F+4,e[F>>2]=c,F=A+2|0}else F=A;while(!1);if((F|0)!=(o|0)&&(T=o+-1|0,F>>>0<T>>>0)){S=F,c=T;do D=m[S>>0]|0,m[S>>0]=m[c>>0]|0,m[c>>0]=D,S=S+1|0,c=c+-1|0;while(S>>>0<c>>>0)}if(h=0,I=ce(e[(e[I>>2]|0)+16>>2]|0,I|0)|0,D=h,h=0,D&1)q=5;else{T=L+8|0,k=L+1|0;t:do if(F>>>0<o>>>0){for(c=0,S=0,D=F;A=m[(m[L>>0]&1?e[T>>2]|0:k)+S>>0]|0,A<<24>>24!=0&(c|0)==(A<<24>>24|0)?(c=e[f>>2]|0,e[f>>2]=c+4,e[c>>2]=I,c=m[L>>0]|0,A=0,S=(S>>>0<((c&1?e[N>>2]|0:(c&255)>>>1)+-1|0)>>>0&1)+S|0):A=c,h=0,c=Ce(e[(e[z>>2]|0)+44>>2]|0,z|0,m[D>>0]|0)|0,M=h,h=0,!(M&1);){if(M=e[f>>2]|0,e[f>>2]=M+4,e[M>>2]=c,D=D+1|0,D>>>0>=o>>>0)break t;c=A+1|0}c=Q()|0;break e}while(!1);if(A=t,c=s+(F-A<<2)|0,S=e[f>>2]|0,(c|0)!=(S|0))if(t=S+-4|0,c>>>0<t>>>0){do M=e[c>>2]|0,e[c>>2]=e[t>>2],e[t>>2]=M,c=c+4|0,t=t+-4|0;while(c>>>0<t>>>0);t=A,c=S,q=28}else t=A,c=S,q=28;else t=A,q=28}}while(!1);if((q|0)==5)c=Q()|0;else if((q|0)==28){e[a>>2]=(r|0)==(o|0)?c:s+(r-t<<2)|0,fe(L),b=B;return}fe(L),ne(c|0)}function N4(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0;if(k=b,b=b+224|0,c=k+8|0,t=k,F=k+196|0,A=k+32|0,T=k+28|0,I=k+24|0,D=k+20|0,S=k+16|0,N=t,e[N>>2]=37,e[N+4>>2]=0,Ii(t+1|0,58895,1,e[o+4>>2]|0),N=Et()|0,z=c,e[z>>2]=a,e[z+4>>2]=f,f=F+(qt(F,22,N,t,c)|0)|0,a=ii(F,f,o)|0,t=ut(o)|0,e[D>>2]=t,h=0,o0(3,F|0,a|0,f|0,A|0,T|0,I|0,D|0),f=h,h=0,f&1)z=Q()|0,D0(t)|0,ne(z|0);else return D0(t)|0,e[S>>2]=e[r>>2],N=e[T>>2]|0,z=e[I>>2]|0,e[c>>2]=e[S>>2],z=Hi(c,A,N,z,o,s)|0,b=k,z|0;return 0}function B4(t,r,o,s,a,f,c,S){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0;var A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0;q=b,b=b+16|0,N=q,D=q+8|0;e:do if((o|0)==(s|0))A=s;else for(A=o;;){if(!(e[A>>2]|0))break e;if(A=A+4|0,(A|0)==(s|0)){A=s;break}}while(!1);e[S>>2]=f,e[a>>2]=o,T=c,F=t+8|0;e:do if((f|0)==(c|0)|(o|0)==(s|0))B=47;else{t=f,I=A;t:for(;;){if(L=r,f=e[L+4>>2]|0,A=N,e[A>>2]=e[L>>2],e[A+4>>2]=f,A=oi(e[F>>2]|0)|0,h=0,f=ie(21,t|0,a|0,I-o>>2|0,T-t|0,r|0)|0,L=h,h=0,L&1){B=9;break}if(A|0&&(h=0,ce(75,A|0)|0,L=h,h=0,L&1)){B=8;break}switch(f|0){case 0:{k=1;break e}case-1:{A=t,B=14;break t}default:}if(A=(e[S>>2]|0)+f|0,e[S>>2]=A,(A|0)==(c|0)){B=27;break}if((I|0)==(s|0))o=e[a>>2]|0,t=A,A=s;else{if(A=oi(e[F>>2]|0)|0,h=0,o=Oe(34,D|0,0,r|0)|0,L=h,h=0,L&1){B=35;break}if(A|0&&(h=0,ce(75,A|0)|0,L=h,h=0,L&1)){B=34;break}if((o|0)==-1){k=2;break e}if(o>>>0>(T-(e[S>>2]|0)|0)>>>0){k=1;break e}if(o)for(A=D;I=m[A>>0]|0,L=e[S>>2]|0,e[S>>2]=L+1,m[L>>0]=I,o=o+-1|0,o;)A=A+1|0;o=(e[a>>2]|0)+4|0,e[a>>2]=o;i:do if((o|0)==(s|0))A=s;else for(A=o;;){if(!(e[A>>2]|0))break i;if(A=A+4|0,(A|0)==(s|0)){A=s;break}}while(!1);t=e[S>>2]|0}if((t|0)==(c|0)|(o|0)==(s|0)){B=47;break e}else I=A}if((B|0)==8)L=Q(0)|0,b0(L);else if((B|0)==9)o=Q()|0,A|0&&(h=0,ce(75,A|0)|0,L=h,h=0,L&1)&&(L=Q(0)|0,b0(L)),ne(o|0);else if((B|0)==14){e[S>>2]=A;t:do if((o|0)!=(e[a>>2]|0)){for(;;){if(L=e[o>>2]|0,t=oi(e[F>>2]|0)|0,h=0,A=Oe(34,A|0,L|0,N|0)|0,L=h,h=0,L&1){z=t;break}if(t|0&&(h=0,ce(75,t|0)|0,L=h,h=0,L&1)){B=18;break}if((A|0)==-1||(A=(e[S>>2]|0)+A|0,e[S>>2]=A,o=o+4|0,(o|0)==(e[a>>2]|0)))break t}(B|0)==18&&(L=Q(0)|0,b0(L)),o=Q()|0,z|0&&(h=0,ce(75,z|0)|0,L=h,h=0,L&1)&&(L=Q(0)|0,b0(L)),ne(o|0)}while(!1);e[a>>2]=o,k=2;break}else if((B|0)==27){o=e[a>>2]|0,B=47;break}else(B|0)==34?(L=Q(0)|0,b0(L)):(B|0)==35&&(o=Q()|0,A|0&&(h=0,ce(75,A|0)|0,L=h,h=0,L&1)&&(L=Q(0)|0,b0(L)),ne(o|0))}while(!1);return(B|0)==47&&(k=(o|0)!=(s|0)&1),b=q,k|0}function U4(t,r,o,s,a,f,c,S){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0;var A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0;q=b,b=b+16|0,z=q;e:do if((o|0)==(s|0))A=s;else for(A=o;;){if(!(m[A>>0]|0))break e;if(A=A+1|0,(A|0)==(s|0)){A=s;break}}while(!1);e[S>>2]=f,e[a>>2]=o,k=c,F=t+8|0;e:do if((f|0)==(c|0)|(o|0)==(s|0))B=47;else{t=f,T=A;t:for(;;){if(I=r,A=e[I+4>>2]|0,f=z,e[f>>2]=e[I>>2],e[f+4>>2]=A,f=T,A=oi(e[F>>2]|0)|0,h=0,I=ie(22,t|0,a|0,f-o|0,k-t>>2|0,r|0)|0,L=h,h=0,L&1){B=9;break}if(A|0&&(h=0,ce(75,A|0)|0,L=h,h=0,L&1)){B=8;break}switch(I|0){case 0:{D=2;break e}case-1:{A=t,B=14;break t}default:}if(t=(e[S>>2]|0)+(I<<2)|0,e[S>>2]=t,(t|0)==(c|0)){B=31;break}if(o=e[a>>2]|0,(T|0)==(s|0))A=s;else{if(A=oi(e[F>>2]|0)|0,h=0,o=Pe(20,t|0,o|0,1,r|0)|0,L=h,h=0,L&1){B=38;break}if(A|0&&(h=0,ce(75,A|0)|0,L=h,h=0,L&1)){B=37;break}if(o){D=2;break e}e[S>>2]=(e[S>>2]|0)+4,o=(e[a>>2]|0)+1|0,e[a>>2]=o;i:do if((o|0)==(s|0))A=s;else for(A=o;;){if(!(m[A>>0]|0))break i;if(A=A+1|0,(A|0)==(s|0)){A=s;break}}while(!1);t=e[S>>2]|0}if((t|0)==(c|0)|(o|0)==(s|0)){B=47;break e}else T=A}if((B|0)==8)L=Q(0)|0,b0(L);else if((B|0)==9)o=Q()|0,A|0&&(h=0,ce(75,A|0)|0,L=h,h=0,L&1)&&(L=Q(0)|0,b0(L)),ne(o|0);else if((B|0)==14){e[S>>2]=A;t:do if((o|0)!=(e[a>>2]|0)){t=A;i:for(;;){if(A=oi(e[F>>2]|0)|0,h=0,t=Pe(20,t|0,o|0,f-o|0,z|0)|0,L=h,h=0,L&1){B=19;break}if(A|0&&(h=0,ce(75,A|0)|0,L=h,h=0,L&1)){B=18;break}switch(t|0){case-1:{B=25;break i}case-2:{B=26;break i}case 0:{o=o+1|0;break}default:o=o+t|0}if(t=(e[S>>2]|0)+4|0,e[S>>2]=t,(o|0)==(e[a>>2]|0)){N=o;break t}}if((B|0)==18)L=Q(0)|0,b0(L);else if((B|0)==19)o=Q()|0,A|0&&(h=0,ce(75,A|0)|0,L=h,h=0,L&1)&&(L=Q(0)|0,b0(L)),ne(o|0);else if((B|0)==25){e[a>>2]=o,D=2;break e}else if((B|0)==26){e[a>>2]=o,D=1;break e}}else N=o;while(!1);e[a>>2]=N,D=(N|0)!=(s|0)&1;break}else if((B|0)==31){o=e[a>>2]|0,B=47;break}else(B|0)==37?(L=Q(0)|0,b0(L)):(B|0)==38&&(o=Q()|0,A|0&&(h=0,ce(75,A|0)|0,L=h,h=0,L&1)&&(L=Q(0)|0,b0(L)),ne(o|0))}while(!1);return(B|0)==47&&(D=(o|0)!=(s|0)&1),b=q,D|0}function V4(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0;switch(c=b,b=b+16|0,f=c,e[a>>2]=o,o=oi(e[t+8>>2]|0)|0,h=0,t=Oe(34,f|0,0,r|0)|0,r=h,h=0,r&1&&(f=Q()|0,o|0&&(h=0,ce(75,o|0)|0,c=h,h=0,c&1)&&(c=Q(0)|0,b0(c)),ne(f|0)),o|0&&(h=0,ce(75,o|0)|0,r=h,h=0,r&1)&&(r=Q(0)|0,b0(r)),t|0){case 0:case-1:{f=2;break}default:if(t=t+-1|0,t>>>0<=(s-(e[a>>2]|0)|0)>>>0)if(!t)f=0;else for(;;)if(r=m[f>>0]|0,s=e[a>>2]|0,e[a>>2]=s+1,m[s>>0]=r,t=t+-1|0,t)f=f+1|0;else{f=0;break}else f=1}return b=c,f|0}function z4(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0;r=t+8|0,h=0,o=ce(75,e[r>>2]|0)|0,s=h,h=0;do if(s&1)a=16;else{if(h=0,s=Oe(35,0,0,4)|0,t=h,h=0,t&1){if(t=Q(0)|0,!o||(h=0,ce(75,o|0)|0,c=h,h=0,!(c&1)))break;c=Q(0)|0,b0(c)}if(o|0&&(h=0,ce(75,o|0)|0,c=h,h=0,c&1)&&(c=Q(0)|0,b0(c)),s)f=-1;else if(t=e[r>>2]|0,t){if(h=0,t=ce(75,t|0)|0,c=h,h=0,c&1){a=16;break}t|0&&(h=0,ce(75,t|0)|0,c=h,h=0,c&1)?(c=Q(0)|0,b0(c)):f=0}else f=1;return f|0}while(!1);return(a|0)==16&&(t=Q(0)|0),b0(t),0}function q4(t){return t=t|0,0}function G4(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;I=s,A=t+8|0;e:do if((o|0)==(s|0)|(a|0)==0)t=0;else{for(t=0,S=0;;){if(c=oi(e[A>>2]|0)|0,h=0,f=Oe(36,o|0,I-o|0,r|0)|0,D=h,h=0,D&1){k=c;break}if(c|0&&(h=0,ce(75,c|0)|0,D=h,h=0,D&1)){T=5;break}switch(f|0){case-2:case-1:break e;case 0:{o=o+1|0,f=1;break}default:o=o+f|0}if(t=f+t|0,S=S+1|0,(o|0)==(s|0)|S>>>0>=a>>>0)break e}(T|0)==5&&(D=Q(0)|0,b0(D)),t=Q()|0,k|0&&(h=0,ce(75,k|0)|0,D=h,h=0,D&1)&&(D=Q(0)|0,b0(D)),ne(t|0)}while(!1);return t|0}function $4(t){t=t|0;var r=0,o=0;return t=e[t+8>>2]|0,t?(h=0,t=ce(75,t|0)|0,o=h,h=0,o&1&&(o=Q(0)|0,b0(o)),t|0&&(h=0,ce(75,t|0)|0,o=h,h=0,o&1)?(o=Q(0)|0,b0(o)):r=4):r=1,r|0}function H4(t){t=t|0,ue(t)}function W4(t,r,o,s,a,f,c,S){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0;var A=0;return t=b,b=b+16|0,A=t+4|0,r=t,e[A>>2]=o,e[r>>2]=f,c=V3(o,s,A,f,c,r,1114111,0)|0,e[a>>2]=e[A>>2],e[S>>2]=e[r>>2],b=t,c|0}function Q4(t,r,o,s,a,f,c,S){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0;var A=0;return t=b,b=b+16|0,A=t+4|0,r=t,e[A>>2]=o,e[r>>2]=f,c=z3(o,s,A,f,c,r,1114111,0)|0,e[a>>2]=e[A>>2],e[S>>2]=e[r>>2],b=t,c|0}function j4(t,r,o,s,a){return t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,e[a>>2]=o,3}function Y4(t){return t=t|0,0}function K4(t){return t=t|0,0}function X4(t,r,o,s,a){return t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,q3(o,s,a,1114111,0)|0}function Z4(t){return t=t|0,4}function J4(t){t=t|0,ue(t)}function eg(t,r,o,s,a,f,c,S){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0;var A=0;return t=b,b=b+16|0,A=t+4|0,r=t,e[A>>2]=o,e[r>>2]=f,c=G3(o,s,A,f,c,r,1114111,0)|0,e[a>>2]=e[A>>2],e[S>>2]=e[r>>2],b=t,c|0}function tg(t,r,o,s,a,f,c,S){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0;var A=0;return t=b,b=b+16|0,A=t+4|0,r=t,e[A>>2]=o,e[r>>2]=f,c=$3(o,s,A,f,c,r,1114111,0)|0,e[a>>2]=e[A>>2],e[S>>2]=e[r>>2],b=t,c|0}function ig(t,r,o,s,a){return t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,e[a>>2]=o,3}function rg(t){return t=t|0,0}function ng(t){return t=t|0,0}function og(t,r,o,s,a){return t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,H3(o,s,a,1114111,0)|0}function sg(t){return t=t|0,4}function ag(t){t=t|0,ue(t)}function lg(t){t=t|0,ue(t)}function ug(t,r){t=t|0,r=r|0,e[t+4>>2]=r+-1,e[t>>2]=44384,m[t+8>>0]=46,m[t+9>>0]=44,t=t+12|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0}function fg(t,r){t=t|0,r=r|0,e[t+4>>2]=r+-1,e[t>>2]=44424,e[t+8>>2]=46,e[t+12>>2]=44,t=t+16|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0}function as(t){t=t|0,e[t>>2]=44384,fe(t+12|0)}function cg(t){t=t|0,as(t),ue(t)}function ls(t){t=t|0,e[t>>2]=44424,fe(t+16|0)}function hg(t){t=t|0,ls(t),ue(t)}function dg(t){return t=t|0,m[t+8>>0]|0}function pg(t){return t=t|0,e[t+8>>2]|0}function mg(t){return t=t|0,m[t+9>>0]|0}function gg(t){return t=t|0,e[t+12>>2]|0}function vg(t,r){t=t|0,r=r|0,vn(t,r+12|0)}function Sg(t,r){t=t|0,r=r|0,vn(t,r+16|0)}function wg(t,r){t=t|0,r=r|0,yi(t,59024,4)}function Ag(t,r){t=t|0,r=r|0,An(t,44996,Lr(44996)|0)}function yg(t,r){t=t|0,r=r|0,yi(t,59029,5)}function _g(t,r){t=t|0,r=r|0,An(t,45016,Lr(45016)|0)}function si(t){switch(t=t|0,e[t+4>>2]&74|0){case 64:{t=8;break}case 8:{t=16;break}case 0:{t=0;break}default:t=10}return t|0}function xg(t){t=t|0;do if(!(m[2464]|0)&&w0(2464)|0){if(!(m[2472]|0)&&w0(2472)|0){t=45040;do e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,t=t+12|0;while((t|0)!=45208);x0(193,0,j|0)|0,y0(2472)}if(h=0,Ce(41,45040,59035)|0,t=h,h=0,!(t&1)&&(h=0,Ce(41,45052,59042)|0,t=h,h=0,!(t&1))&&(h=0,Ce(41,45064,59049)|0,t=h,h=0,!(t&1))&&(h=0,Ce(41,45076,59057)|0,t=h,h=0,!(t&1))&&(h=0,Ce(41,45088,59067)|0,t=h,h=0,!(t&1))&&(h=0,Ce(41,45100,59076)|0,t=h,h=0,!(t&1))&&(h=0,Ce(41,45112,59083)|0,t=h,h=0,!(t&1))&&(h=0,Ce(41,45124,59092)|0,t=h,h=0,!(t&1))&&(h=0,Ce(41,45136,59096)|0,t=h,h=0,!(t&1))&&(h=0,Ce(41,45148,59100)|0,t=h,h=0,!(t&1))&&(h=0,Ce(41,45160,59104)|0,t=h,h=0,!(t&1))&&(h=0,Ce(41,45172,59108)|0,t=h,h=0,!(t&1))&&(h=0,Ce(41,45184,59112)|0,t=h,h=0,!(t&1))&&(h=0,Ce(41,45196,59116)|0,t=h,h=0,!(t&1))){e[11302]=45040,y0(2464);break}t=Q()|0,Gt(2464),ne(t|0)}while(!1);return e[11302]|0}function Tg(t){t=t|0;do if(!(m[2480]|0)&&w0(2480)|0){if(!(m[2488]|0)&&w0(2488)|0){t=45212;do e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,t=t+12|0;while((t|0)!=45380);x0(194,0,j|0)|0,y0(2488)}if(h=0,Ce(42,45212,45380)|0,t=h,h=0,!(t&1)&&(h=0,Ce(42,45224,45408)|0,t=h,h=0,!(t&1))&&(h=0,Ce(42,45236,45436)|0,t=h,h=0,!(t&1))&&(h=0,Ce(42,45248,45468)|0,t=h,h=0,!(t&1))&&(h=0,Ce(42,45260,45508)|0,t=h,h=0,!(t&1))&&(h=0,Ce(42,45272,45544)|0,t=h,h=0,!(t&1))&&(h=0,Ce(42,45284,45572)|0,t=h,h=0,!(t&1))&&(h=0,Ce(42,45296,45608)|0,t=h,h=0,!(t&1))&&(h=0,Ce(42,45308,45624)|0,t=h,h=0,!(t&1))&&(h=0,Ce(42,45320,45640)|0,t=h,h=0,!(t&1))&&(h=0,Ce(42,45332,45656)|0,t=h,h=0,!(t&1))&&(h=0,Ce(42,45344,45672)|0,t=h,h=0,!(t&1))&&(h=0,Ce(42,45356,45688)|0,t=h,h=0,!(t&1))&&(h=0,Ce(42,45368,45704)|0,t=h,h=0,!(t&1))){e[11430]=45212,y0(2480);break}t=Q()|0,Gt(2480),ne(t|0)}while(!1);return e[11430]|0}function Ig(t){t=t|0;e:do if(!(m[2496]|0)&&w0(2496)|0){if(!(m[2504]|0)&&w0(2504)|0){t=45724;do e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,t=t+12|0;while((t|0)!=46012);x0(195,0,j|0)|0,y0(2504)}h=0,Ce(41,45724,59120)|0,t=h,h=0;do if(!(t&1)&&(h=0,Ce(41,45736,59128)|0,t=h,h=0,!(t&1))&&(h=0,Ce(41,45748,59137)|0,t=h,h=0,!(t&1))&&(h=0,Ce(41,45760,59143)|0,t=h,h=0,!(t&1))&&(h=0,Ce(41,45772,59149)|0,t=h,h=0,!(t&1))&&(h=0,Ce(41,45784,59153)|0,t=h,h=0,!(t&1))&&(h=0,Ce(41,45796,59158)|0,t=h,h=0,!(t&1))&&(h=0,Ce(41,45808,59163)|0,t=h,h=0,!(t&1))&&(h=0,Ce(41,45820,59170)|0,t=h,h=0,!(t&1))&&(h=0,Ce(41,45832,59180)|0,t=h,h=0,!(t&1))&&(h=0,Ce(41,45844,59188)|0,t=h,h=0,!(t&1))&&(h=0,Ce(41,45856,59197)|0,t=h,h=0,!(t&1))&&(h=0,Ce(41,45868,59206)|0,t=h,h=0,!(t&1))&&(h=0,Ce(41,45880,59210)|0,t=h,h=0,!(t&1))&&(h=0,Ce(41,45892,59214)|0,t=h,h=0,!(t&1))){if(h=0,Ce(41,45904,59218)|0,t=h,h=0,t&1||(h=0,Ce(41,45916,59149)|0,t=h,h=0,t&1)||(h=0,Ce(41,45928,59222)|0,t=h,h=0,t&1)||(h=0,Ce(41,45940,59226)|0,t=h,h=0,t&1)||(h=0,Ce(41,45952,59230)|0,t=h,h=0,t&1)||(h=0,Ce(41,45964,59234)|0,t=h,h=0,t&1)||(h=0,Ce(41,45976,59238)|0,t=h,h=0,t&1)||(h=0,Ce(41,45988,59242)|0,t=h,h=0,t&1)||(h=0,Ce(41,46e3,59246)|0,t=h,h=0,t&1))break;e[11503]=45724,y0(2496);break e}while(!1);t=Q()|0,Gt(2496),ne(t|0)}while(!1);return e[11503]|0}function Cg(t){t=t|0;e:do if(!(m[2512]|0)&&w0(2512)|0){if(!(m[2520]|0)&&w0(2520)|0){t=46016;do e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,t=t+12|0;while((t|0)!=46304);x0(196,0,j|0)|0,y0(2520)}h=0,Ce(42,46016,46304)|0,t=h,h=0;do if(!(t&1)&&(h=0,Ce(42,46028,46336)|0,t=h,h=0,!(t&1))&&(h=0,Ce(42,46040,46372)|0,t=h,h=0,!(t&1))&&(h=0,Ce(42,46052,46396)|0,t=h,h=0,!(t&1))&&(h=0,Ce(42,46064,46420)|0,t=h,h=0,!(t&1))&&(h=0,Ce(42,46076,46436)|0,t=h,h=0,!(t&1))&&(h=0,Ce(42,46088,46456)|0,t=h,h=0,!(t&1))&&(h=0,Ce(42,46100,46476)|0,t=h,h=0,!(t&1))&&(h=0,Ce(42,46112,46504)|0,t=h,h=0,!(t&1))&&(h=0,Ce(42,46124,46544)|0,t=h,h=0,!(t&1))&&(h=0,Ce(42,46136,46576)|0,t=h,h=0,!(t&1))&&(h=0,Ce(42,46148,46612)|0,t=h,h=0,!(t&1))&&(h=0,Ce(42,46160,46648)|0,t=h,h=0,!(t&1))&&(h=0,Ce(42,46172,46664)|0,t=h,h=0,!(t&1))&&(h=0,Ce(42,46184,46680)|0,t=h,h=0,!(t&1))){if(h=0,Ce(42,46196,46696)|0,t=h,h=0,t&1||(h=0,Ce(42,46208,46420)|0,t=h,h=0,t&1)||(h=0,Ce(42,46220,46712)|0,t=h,h=0,t&1)||(h=0,Ce(42,46232,46728)|0,t=h,h=0,t&1)||(h=0,Ce(42,46244,46744)|0,t=h,h=0,t&1)||(h=0,Ce(42,46256,46760)|0,t=h,h=0,t&1)||(h=0,Ce(42,46268,46776)|0,t=h,h=0,t&1)||(h=0,Ce(42,46280,46792)|0,t=h,h=0,t&1)||(h=0,Ce(42,46292,46808)|0,t=h,h=0,t&1))break;e[11706]=46016,y0(2512);break e}while(!1);t=Q()|0,Gt(2512),ne(t|0)}while(!1);return e[11706]|0}function Eg(t){t=t|0;do if(!(m[2528]|0)&&w0(2528)|0){if(!(m[2536]|0)&&w0(2536)|0){t=46828;do e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,t=t+12|0;while((t|0)!=47116);x0(197,0,j|0)|0,y0(2536)}if(h=0,Ce(41,46828,59250)|0,t=h,h=0,!(t&1)&&(h=0,Ce(41,46840,59253)|0,t=h,h=0,!(t&1))){e[11779]=46828,y0(2528);break}t=Q()|0,Gt(2528),ne(t|0)}while(!1);return e[11779]|0}function bg(t){t=t|0;do if(!(m[2544]|0)&&w0(2544)|0){if(!(m[2552]|0)&&w0(2552)|0){t=47120;do e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,t=t+12|0;while((t|0)!=47408);x0(198,0,j|0)|0,y0(2552)}if(h=0,Ce(42,47120,47408)|0,t=h,h=0,!(t&1)&&(h=0,Ce(42,47132,47420)|0,t=h,h=0,!(t&1))){e[11858]=47120,y0(2544);break}t=Q()|0,Gt(2544),ne(t|0)}while(!1);return e[11858]|0}function kg(t){t=t|0;do if(!(m[2560]|0)&&w0(2560)|0)if(h=0,me(5,47436,59256,8),t=h,h=0,t&1)t=Q()|0,Gt(2560),ne(t|0);else{x0(199,47436,j|0)|0,y0(2560);break}while(!1);return 47436}function Dg(t){t=t|0;var r=0;do if(!(m[2568]|0)&&w0(2568)|0){if(h=0,t=ce(76,47448)|0,r=h,h=0,!(r&1)&&(h=0,me(15,47484,47448,t|0),r=h,h=0,!(r&1))){x0(200,47484,j|0)|0,y0(2568);break}r=Q()|0,Gt(2568),ne(r|0)}while(!1);return 47484}function Pg(t){t=t|0;do if(!(m[2576]|0)&&w0(2576)|0)if(h=0,me(5,47496,59265,8),t=h,h=0,t&1)t=Q()|0,Gt(2576),ne(t|0);else{x0(199,47496,j|0)|0,y0(2576);break}while(!1);return 47496}function Fg(t){t=t|0;var r=0;do if(!(m[2584]|0)&&w0(2584)|0){if(h=0,t=ce(76,47508)|0,r=h,h=0,!(r&1)&&(h=0,me(15,47544,47508,t|0),r=h,h=0,!(r&1))){x0(200,47544,j|0)|0,y0(2584);break}r=Q()|0,Gt(2584),ne(r|0)}while(!1);return 47544}function Mg(t){t=t|0;do if(!(m[2592]|0)&&w0(2592)|0)if(h=0,me(5,47556,59274,20),t=h,h=0,t&1)t=Q()|0,Gt(2592),ne(t|0);else{x0(199,47556,j|0)|0,y0(2592);break}while(!1);return 47556}function Rg(t){t=t|0;var r=0;do if(!(m[2600]|0)&&w0(2600)|0){if(h=0,t=ce(76,47568)|0,r=h,h=0,!(r&1)&&(h=0,me(15,47652,47568,t|0),r=h,h=0,!(r&1))){x0(200,47652,j|0)|0,y0(2600);break}r=Q()|0,Gt(2600),ne(r|0)}while(!1);return 47652}function Og(t){t=t|0;do if(!(m[2608]|0)&&w0(2608)|0)if(h=0,me(5,47664,59295,11),t=h,h=0,t&1)t=Q()|0,Gt(2608),ne(t|0);else{x0(199,47664,j|0)|0,y0(2608);break}while(!1);return 47664}function Lg(t){t=t|0;var r=0;do if(!(m[2616]|0)&&w0(2616)|0){if(h=0,t=ce(76,47676)|0,r=h,h=0,!(r&1)&&(h=0,me(15,47724,47676,t|0),r=h,h=0,!(r&1))){x0(200,47724,j|0)|0,y0(2616);break}r=Q()|0,Gt(2616),ne(r|0)}while(!1);return 47724}function us(t){t=t|0;var r=0,o=0,s=0;e[t>>2]=44304,t=t+8|0,r=e[t>>2]|0,h=0,o=ve(3)|0,s=h,h=0;do if(!(s&1)){if((r|0)!=(o|0)&&(h=0,oe(188,e[t>>2]|0),s=h,h=0,s&1))break;return}while(!1);s=Q(0)|0,b0(s)}function wr(t,r,o,s,a,f,c){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0;var S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0;R=b,b=b+112|0,A=R,T=(s-o|0)/12|0;do if(T>>>0>100){if(A=It(T)|0,!(A|0)&&(h=0,_0(6),M=h,h=0,M&1)){S=0,F=6;break}S=A,F=11}else S=0,F=11;while(!1);e:do if((F|0)==11){if((o|0)==(s|0))I=0;else for(F=o,k=0,D=A;I=m[F>>0]|0,I&1?I=e[F+4>>2]|0:I=(I&255)>>>1,I?(m[D>>0]=1,I=k):(m[D>>0]=2,I=k+1|0,T=T+-1|0),F=F+12|0,(F|0)!=(s|0);)k=I,D=D+1|0;L=(o|0)==(s|0),M=(o|0)==(s|0),B=0,N=I;t:for(;;){I=e[t>>2]|0;do if(I){if((e[I+12>>2]|0)==(e[I+16>>2]|0)){if(h=0,I=ce(e[(e[I>>2]|0)+36>>2]|0,I|0)|0,q=h,h=0,q&1){F=5;break t}if((I|0)==-1){e[t>>2]=0,I=0;break}else{I=e[t>>2]|0;break}}}else I=0;while(!1);if(F=(I|0)==0,k=e[r>>2]|0,k){if((e[k+12>>2]|0)==(e[k+16>>2]|0)){if(h=0,I=ce(e[(e[k>>2]|0)+36>>2]|0,k|0)|0,q=h,h=0,q&1){F=5;break}(I|0)==-1&&(e[r>>2]=0,k=0)}}else k=0;if(D=(k|0)==0,I=e[t>>2]|0,!((T|0)!=0&(F^D))){F=64;break}if(k=e[I+12>>2]|0,(k|0)==(e[I+16>>2]|0)){if(h=0,I=ce(e[(e[I>>2]|0)+36>>2]|0,I|0)|0,q=h,h=0,q&1){F=5;break}}else I=P[k>>0]|0;if(I=I&255,!c&&(h=0,I=Ce(e[(e[a>>2]|0)+12>>2]|0,a|0,I|0)|0,q=h,h=0,q&1)){F=5;break}if(q=B+1|0,L)I=0,F=N;else for(D=0,z=o,F=N,N=A;;){do if((m[N>>0]|0)==1){if(m[z>>0]&1?k=e[z+8>>2]|0:k=z+1|0,k=m[k+B>>0]|0,!c&&(h=0,k=Ce(e[(e[a>>2]|0)+12>>2]|0,a|0,k|0)|0,K=h,h=0,K&1)){F=4;break t}if(I<<24>>24!=k<<24>>24){m[N>>0]=0,k=D,T=T+-1|0;break}k=m[z>>0]|0,k&1?k=e[z+4>>2]|0:k=(k&255)>>>1,(k|0)==(q|0)?(m[N>>0]=2,k=1,F=F+1|0,T=T+-1|0):k=1}else k=D;while(!1);if(z=z+12|0,(z|0)==(s|0)){I=k;break}else D=k,N=N+1|0}if(!I){B=q,N=F;continue}if(I=e[t>>2]|0,k=I+12|0,D=e[k>>2]|0,(D|0)==(e[I+16>>2]|0)){if(h=0,ce(e[(e[I>>2]|0)+40>>2]|0,I|0)|0,K=h,h=0,K&1){F=5;break}}else e[k>>2]=D+1;if((F+T|0)>>>0<2|M){B=q,N=F;continue}else I=o,D=F,F=A;for(;;)if((m[F>>0]|0)==2&&(k=m[I>>0]|0,k&1?k=e[I+4>>2]|0:k=(k&255)>>>1,(k|0)!=(q|0)&&(m[F>>0]=0,D=D+-1|0)),I=I+12|0,(I|0)==(s|0)){B=q,N=D;continue t}else F=F+1|0}if((F|0)==4){o=Q()|0;break}else if((F|0)==5){o=Q()|0;break}else if((F|0)==64){do if(I){if((e[I+12>>2]|0)==(e[I+16>>2]|0)){if(h=0,I=ce(e[(e[I>>2]|0)+36>>2]|0,I|0)|0,K=h,h=0,K&1){F=6;break e}if((I|0)==-1){e[t>>2]=0,I=0;break}else{I=e[t>>2]|0;break}}}else I=0;while(!1);T=(I|0)==0;do if(D)F=76;else{if((e[k+12>>2]|0)==(e[k+16>>2]|0)){if(h=0,I=ce(e[(e[k>>2]|0)+36>>2]|0,k|0)|0,K=h,h=0,K&1){F=6;break e}if((I|0)==-1){e[r>>2]=0,F=76;break}}T||(F=77)}while(!1);(F|0)==76&&T&&(F=77),(F|0)==77&&(e[f>>2]=e[f>>2]|2);t:do if((o|0)==(s|0))F=81;else for(;;){if((m[A>>0]|0)==2)break t;if(o=o+12|0,(o|0)==(s|0)){F=81;break}else A=A+1|0}while(!1);return(F|0)==81&&(e[f>>2]=e[f>>2]|4,o=s),S&&Z0(S),b=R,o|0}}while(!1);return(F|0)==6&&(o=Q()|0),S&&Z0(S),ne(o|0),0}function Ng(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0;K=b,b=b+240|0,N=K+202|0,c=K+200|0,re=K+24|0,Z=K+12|0,q=K+8|0,M=K+40|0,R=K+4|0,B=K,z=si(s)|0,Gi(re,s,N,c),e[Z>>2]=0,e[Z+4>>2]=0,e[Z+8>>2]=0,m[Z>>0]&1?t=(e[Z>>2]&-2)+-1|0:t=10,h=0,me(8,Z|0,t|0,0),F=h,h=0;e:do if(F&1)ee=25;else{k=Z+8|0,D=Z+1|0,s=m[Z>>0]&1?e[k>>2]|0:D,e[q>>2]=s,e[R>>2]=M,e[B>>2]=0,F=Z+4|0,T=m[c>>0]|0,t=e[r>>2]|0;t:for(;;){if(t){if((e[t+12>>2]|0)==(e[t+16>>2]|0)){if(h=0,c=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,I=h,h=0,I&1){ee=24;break}(c|0)==-1&&(e[r>>2]=0,t=0)}}else t=0;S=(t|0)==0,c=e[o>>2]|0;do if(c){if((e[c+12>>2]|0)!=(e[c+16>>2]|0)){if(S)break;break t}if(h=0,A=ce(e[(e[c>>2]|0)+36>>2]|0,c|0)|0,I=h,h=0,I&1){ee=24;break t}if((A|0)!=-1){if(S)break;break t}else{e[o>>2]=0,ee=16;break}}else ee=16;while(!1);if((ee|0)==16)if(ee=0,S){c=0;break}else c=0;if(S=m[Z>>0]|0,S=S&1?e[F>>2]|0:(S&255)>>>1,(e[q>>2]|0)==(s+S|0)){if(h=0,me(8,Z|0,S<<1|0,0),I=h,h=0,I&1){ee=24;break}if(m[Z>>0]&1?s=(e[Z>>2]&-2)+-1|0:s=10,h=0,me(8,Z|0,s|0,0),I=h,h=0,I&1){ee=24;break}s=m[Z>>0]&1?e[k>>2]|0:D,e[q>>2]=s+S}if(A=t+12|0,S=e[A>>2]|0,I=t+16|0,(S|0)==(e[I>>2]|0)){if(h=0,S=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,se=h,h=0,se&1){ee=24;break}}else S=P[S>>0]|0;if(Mi(S&255,z,s,q,B,T,re,M,R,N)|0)break;if(c=e[A>>2]|0,(c|0)==(e[I>>2]|0))if(h=0,ce(e[(e[t>>2]|0)+40>>2]|0,t|0)|0,se=h,h=0,se&1){ee=24;break}else continue;else{e[A>>2]=c+1;continue}}if((ee|0)==24){t=Q()|0;break}if(se=m[re>>0]|0,(se&1?e[re+4>>2]|0:(se&255)>>>1)|0&&(L=e[R>>2]|0,(L-M|0)<160)&&(se=e[B>>2]|0,e[R>>2]=L+4,e[L>>2]=se),h=0,s=Pe(21,s|0,e[q>>2]|0,a|0,z|0)|0,se=h,h=0,se&1)ee=25;else{if(e[f>>2]=s,Bt(re,M,e[R>>2]|0,a),t){if((e[t+12>>2]|0)==(e[t+16>>2]|0)){if(h=0,s=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,se=h,h=0,se&1){ee=25;break}(s|0)==-1&&(e[r>>2]=0,t=0)}}else t=0;s=(t|0)==0;do if(c){if((e[c+12>>2]|0)==(e[c+16>>2]|0)){if(h=0,t=ce(e[(e[c>>2]|0)+36>>2]|0,c|0)|0,se=h,h=0,se&1){ee=25;break e}if((t|0)==-1){e[o>>2]=0,ee=49;break}}s||(ee=50)}else ee=49;while(!1);return(ee|0)==49&&s&&(ee=50),(ee|0)==50&&(e[a>>2]=e[a>>2]|2),se=e[r>>2]|0,fe(Z),fe(re),b=K,se|0}}while(!1);return(ee|0)==25&&(t=Q()|0),fe(Z),fe(re),ne(t|0),0}function Bg(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0;K=b,b=b+240|0,N=K+202|0,c=K+200|0,re=K+24|0,Z=K+12|0,q=K+8|0,M=K+40|0,R=K+4|0,B=K,z=si(s)|0,Gi(re,s,N,c),e[Z>>2]=0,e[Z+4>>2]=0,e[Z+8>>2]=0,m[Z>>0]&1?t=(e[Z>>2]&-2)+-1|0:t=10,h=0,me(8,Z|0,t|0,0),F=h,h=0;e:do if(F&1)ee=25;else{k=Z+8|0,D=Z+1|0,s=m[Z>>0]&1?e[k>>2]|0:D,e[q>>2]=s,e[R>>2]=M,e[B>>2]=0,F=Z+4|0,T=m[c>>0]|0,t=e[r>>2]|0;t:for(;;){if(t){if((e[t+12>>2]|0)==(e[t+16>>2]|0)){if(h=0,c=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,I=h,h=0,I&1){ee=24;break}(c|0)==-1&&(e[r>>2]=0,t=0)}}else t=0;c=(t|0)==0,S=e[o>>2]|0;do if(S){if((e[S+12>>2]|0)!=(e[S+16>>2]|0)){if(c)break;break t}if(h=0,A=ce(e[(e[S>>2]|0)+36>>2]|0,S|0)|0,I=h,h=0,I&1){ee=24;break t}if((A|0)!=-1){if(c)break;break t}else{e[o>>2]=0,ee=16;break}}else ee=16;while(!1);if((ee|0)==16)if(ee=0,c){S=0;break}else S=0;if(c=m[Z>>0]|0,c=c&1?e[F>>2]|0:(c&255)>>>1,(e[q>>2]|0)==(s+c|0)){if(h=0,me(8,Z|0,c<<1|0,0),I=h,h=0,I&1){ee=24;break}if(m[Z>>0]&1?s=(e[Z>>2]&-2)+-1|0:s=10,h=0,me(8,Z|0,s|0,0),I=h,h=0,I&1){ee=24;break}s=m[Z>>0]&1?e[k>>2]|0:D,e[q>>2]=s+c}if(A=t+12|0,c=e[A>>2]|0,I=t+16|0,(c|0)==(e[I>>2]|0)){if(h=0,c=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,se=h,h=0,se&1){ee=24;break}}else c=P[c>>0]|0;if(Mi(c&255,z,s,q,B,T,re,M,R,N)|0)break;if(c=e[A>>2]|0,(c|0)==(e[I>>2]|0))if(h=0,ce(e[(e[t>>2]|0)+40>>2]|0,t|0)|0,se=h,h=0,se&1){ee=24;break}else continue;else{e[A>>2]=c+1;continue}}if((ee|0)==24){t=Q()|0;break}if(se=m[re>>0]|0,(se&1?e[re+4>>2]|0:(se&255)>>>1)|0&&(L=e[R>>2]|0,(L-M|0)<160)&&(se=e[B>>2]|0,e[R>>2]=L+4,e[L>>2]=se),h=0,s=Pe(22,s|0,e[q>>2]|0,a|0,z|0)|0,c=xe,se=h,h=0,se&1)ee=25;else{if(se=f,e[se>>2]=s,e[se+4>>2]=c,Bt(re,M,e[R>>2]|0,a),t){if((e[t+12>>2]|0)==(e[t+16>>2]|0)){if(h=0,s=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,se=h,h=0,se&1){ee=25;break}(s|0)==-1&&(e[r>>2]=0,t=0)}}else t=0;s=(t|0)==0;do if(S){if((e[S+12>>2]|0)==(e[S+16>>2]|0)){if(h=0,t=ce(e[(e[S>>2]|0)+36>>2]|0,S|0)|0,se=h,h=0,se&1){ee=25;break e}if((t|0)==-1){e[o>>2]=0,ee=49;break}}s||(ee=50)}else ee=49;while(!1);return(ee|0)==49&&s&&(ee=50),(ee|0)==50&&(e[a>>2]=e[a>>2]|2),se=e[r>>2]|0,fe(Z),fe(re),b=K,se|0}}while(!1);return(ee|0)==25&&(t=Q()|0),fe(Z),fe(re),ne(t|0),0}function Ug(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0;K=b,b=b+240|0,N=K+202|0,c=K+200|0,re=K+24|0,Z=K+12|0,q=K+8|0,M=K+40|0,R=K+4|0,B=K,z=si(s)|0,Gi(re,s,N,c),e[Z>>2]=0,e[Z+4>>2]=0,e[Z+8>>2]=0,m[Z>>0]&1?t=(e[Z>>2]&-2)+-1|0:t=10,h=0,me(8,Z|0,t|0,0),F=h,h=0;e:do if(F&1)ee=25;else{k=Z+8|0,D=Z+1|0,s=m[Z>>0]&1?e[k>>2]|0:D,e[q>>2]=s,e[R>>2]=M,e[B>>2]=0,F=Z+4|0,T=m[c>>0]|0,t=e[r>>2]|0;t:for(;;){if(t){if((e[t+12>>2]|0)==(e[t+16>>2]|0)){if(h=0,c=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,I=h,h=0,I&1){ee=24;break}(c|0)==-1&&(e[r>>2]=0,t=0)}}else t=0;S=(t|0)==0,c=e[o>>2]|0;do if(c){if((e[c+12>>2]|0)!=(e[c+16>>2]|0)){if(S)break;break t}if(h=0,A=ce(e[(e[c>>2]|0)+36>>2]|0,c|0)|0,I=h,h=0,I&1){ee=24;break t}if((A|0)!=-1){if(S)break;break t}else{e[o>>2]=0,ee=16;break}}else ee=16;while(!1);if((ee|0)==16)if(ee=0,S){c=0;break}else c=0;if(S=m[Z>>0]|0,S=S&1?e[F>>2]|0:(S&255)>>>1,(e[q>>2]|0)==(s+S|0)){if(h=0,me(8,Z|0,S<<1|0,0),I=h,h=0,I&1){ee=24;break}if(m[Z>>0]&1?s=(e[Z>>2]&-2)+-1|0:s=10,h=0,me(8,Z|0,s|0,0),I=h,h=0,I&1){ee=24;break}s=m[Z>>0]&1?e[k>>2]|0:D,e[q>>2]=s+S}if(A=t+12|0,S=e[A>>2]|0,I=t+16|0,(S|0)==(e[I>>2]|0)){if(h=0,S=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,se=h,h=0,se&1){ee=24;break}}else S=P[S>>0]|0;if(Mi(S&255,z,s,q,B,T,re,M,R,N)|0)break;if(c=e[A>>2]|0,(c|0)==(e[I>>2]|0))if(h=0,ce(e[(e[t>>2]|0)+40>>2]|0,t|0)|0,se=h,h=0,se&1){ee=24;break}else continue;else{e[A>>2]=c+1;continue}}if((ee|0)==24){t=Q()|0;break}if(se=m[re>>0]|0,(se&1?e[re+4>>2]|0:(se&255)>>>1)|0&&(L=e[R>>2]|0,(L-M|0)<160)&&(se=e[B>>2]|0,e[R>>2]=L+4,e[L>>2]=se),h=0,s=Pe(23,s|0,e[q>>2]|0,a|0,z|0)|0,se=h,h=0,se&1)ee=25;else{if(y[f>>1]=s,Bt(re,M,e[R>>2]|0,a),t){if((e[t+12>>2]|0)==(e[t+16>>2]|0)){if(h=0,s=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,se=h,h=0,se&1){ee=25;break}(s|0)==-1&&(e[r>>2]=0,t=0)}}else t=0;s=(t|0)==0;do if(c){if((e[c+12>>2]|0)==(e[c+16>>2]|0)){if(h=0,t=ce(e[(e[c>>2]|0)+36>>2]|0,c|0)|0,se=h,h=0,se&1){ee=25;break e}if((t|0)==-1){e[o>>2]=0,ee=49;break}}s||(ee=50)}else ee=49;while(!1);return(ee|0)==49&&s&&(ee=50),(ee|0)==50&&(e[a>>2]=e[a>>2]|2),se=e[r>>2]|0,fe(Z),fe(re),b=K,se|0}}while(!1);return(ee|0)==25&&(t=Q()|0),fe(Z),fe(re),ne(t|0),0}function Vg(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0;K=b,b=b+240|0,N=K+202|0,c=K+200|0,re=K+24|0,Z=K+12|0,q=K+8|0,M=K+40|0,R=K+4|0,B=K,z=si(s)|0,Gi(re,s,N,c),e[Z>>2]=0,e[Z+4>>2]=0,e[Z+8>>2]=0,m[Z>>0]&1?t=(e[Z>>2]&-2)+-1|0:t=10,h=0,me(8,Z|0,t|0,0),F=h,h=0;e:do if(F&1)ee=25;else{k=Z+8|0,D=Z+1|0,s=m[Z>>0]&1?e[k>>2]|0:D,e[q>>2]=s,e[R>>2]=M,e[B>>2]=0,F=Z+4|0,T=m[c>>0]|0,t=e[r>>2]|0;t:for(;;){if(t){if((e[t+12>>2]|0)==(e[t+16>>2]|0)){if(h=0,c=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,I=h,h=0,I&1){ee=24;break}(c|0)==-1&&(e[r>>2]=0,t=0)}}else t=0;S=(t|0)==0,c=e[o>>2]|0;do if(c){if((e[c+12>>2]|0)!=(e[c+16>>2]|0)){if(S)break;break t}if(h=0,A=ce(e[(e[c>>2]|0)+36>>2]|0,c|0)|0,I=h,h=0,I&1){ee=24;break t}if((A|0)!=-1){if(S)break;break t}else{e[o>>2]=0,ee=16;break}}else ee=16;while(!1);if((ee|0)==16)if(ee=0,S){c=0;break}else c=0;if(S=m[Z>>0]|0,S=S&1?e[F>>2]|0:(S&255)>>>1,(e[q>>2]|0)==(s+S|0)){if(h=0,me(8,Z|0,S<<1|0,0),I=h,h=0,I&1){ee=24;break}if(m[Z>>0]&1?s=(e[Z>>2]&-2)+-1|0:s=10,h=0,me(8,Z|0,s|0,0),I=h,h=0,I&1){ee=24;break}s=m[Z>>0]&1?e[k>>2]|0:D,e[q>>2]=s+S}if(A=t+12|0,S=e[A>>2]|0,I=t+16|0,(S|0)==(e[I>>2]|0)){if(h=0,S=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,se=h,h=0,se&1){ee=24;break}}else S=P[S>>0]|0;if(Mi(S&255,z,s,q,B,T,re,M,R,N)|0)break;if(c=e[A>>2]|0,(c|0)==(e[I>>2]|0))if(h=0,ce(e[(e[t>>2]|0)+40>>2]|0,t|0)|0,se=h,h=0,se&1){ee=24;break}else continue;else{e[A>>2]=c+1;continue}}if((ee|0)==24){t=Q()|0;break}if(se=m[re>>0]|0,(se&1?e[re+4>>2]|0:(se&255)>>>1)|0&&(L=e[R>>2]|0,(L-M|0)<160)&&(se=e[B>>2]|0,e[R>>2]=L+4,e[L>>2]=se),h=0,s=Pe(24,s|0,e[q>>2]|0,a|0,z|0)|0,se=h,h=0,se&1)ee=25;else{if(e[f>>2]=s,Bt(re,M,e[R>>2]|0,a),t){if((e[t+12>>2]|0)==(e[t+16>>2]|0)){if(h=0,s=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,se=h,h=0,se&1){ee=25;break}(s|0)==-1&&(e[r>>2]=0,t=0)}}else t=0;s=(t|0)==0;do if(c){if((e[c+12>>2]|0)==(e[c+16>>2]|0)){if(h=0,t=ce(e[(e[c>>2]|0)+36>>2]|0,c|0)|0,se=h,h=0,se&1){ee=25;break e}if((t|0)==-1){e[o>>2]=0,ee=49;break}}s||(ee=50)}else ee=49;while(!1);return(ee|0)==49&&s&&(ee=50),(ee|0)==50&&(e[a>>2]=e[a>>2]|2),se=e[r>>2]|0,fe(Z),fe(re),b=K,se|0}}while(!1);return(ee|0)==25&&(t=Q()|0),fe(Z),fe(re),ne(t|0),0}function zg(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0;K=b,b=b+240|0,N=K+202|0,c=K+200|0,re=K+24|0,Z=K+12|0,q=K+8|0,M=K+40|0,R=K+4|0,B=K,z=si(s)|0,Gi(re,s,N,c),e[Z>>2]=0,e[Z+4>>2]=0,e[Z+8>>2]=0,m[Z>>0]&1?t=(e[Z>>2]&-2)+-1|0:t=10,h=0,me(8,Z|0,t|0,0),F=h,h=0;e:do if(F&1)ee=25;else{k=Z+8|0,D=Z+1|0,s=m[Z>>0]&1?e[k>>2]|0:D,e[q>>2]=s,e[R>>2]=M,e[B>>2]=0,F=Z+4|0,T=m[c>>0]|0,t=e[r>>2]|0;t:for(;;){if(t){if((e[t+12>>2]|0)==(e[t+16>>2]|0)){if(h=0,c=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,I=h,h=0,I&1){ee=24;break}(c|0)==-1&&(e[r>>2]=0,t=0)}}else t=0;S=(t|0)==0,c=e[o>>2]|0;do if(c){if((e[c+12>>2]|0)!=(e[c+16>>2]|0)){if(S)break;break t}if(h=0,A=ce(e[(e[c>>2]|0)+36>>2]|0,c|0)|0,I=h,h=0,I&1){ee=24;break t}if((A|0)!=-1){if(S)break;break t}else{e[o>>2]=0,ee=16;break}}else ee=16;while(!1);if((ee|0)==16)if(ee=0,S){c=0;break}else c=0;if(S=m[Z>>0]|0,S=S&1?e[F>>2]|0:(S&255)>>>1,(e[q>>2]|0)==(s+S|0)){if(h=0,me(8,Z|0,S<<1|0,0),I=h,h=0,I&1){ee=24;break}if(m[Z>>0]&1?s=(e[Z>>2]&-2)+-1|0:s=10,h=0,me(8,Z|0,s|0,0),I=h,h=0,I&1){ee=24;break}s=m[Z>>0]&1?e[k>>2]|0:D,e[q>>2]=s+S}if(A=t+12|0,S=e[A>>2]|0,I=t+16|0,(S|0)==(e[I>>2]|0)){if(h=0,S=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,se=h,h=0,se&1){ee=24;break}}else S=P[S>>0]|0;if(Mi(S&255,z,s,q,B,T,re,M,R,N)|0)break;if(c=e[A>>2]|0,(c|0)==(e[I>>2]|0))if(h=0,ce(e[(e[t>>2]|0)+40>>2]|0,t|0)|0,se=h,h=0,se&1){ee=24;break}else continue;else{e[A>>2]=c+1;continue}}if((ee|0)==24){t=Q()|0;break}if(se=m[re>>0]|0,(se&1?e[re+4>>2]|0:(se&255)>>>1)|0&&(L=e[R>>2]|0,(L-M|0)<160)&&(se=e[B>>2]|0,e[R>>2]=L+4,e[L>>2]=se),h=0,s=Pe(25,s|0,e[q>>2]|0,a|0,z|0)|0,se=h,h=0,se&1)ee=25;else{if(e[f>>2]=s,Bt(re,M,e[R>>2]|0,a),t){if((e[t+12>>2]|0)==(e[t+16>>2]|0)){if(h=0,s=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,se=h,h=0,se&1){ee=25;break}(s|0)==-1&&(e[r>>2]=0,t=0)}}else t=0;s=(t|0)==0;do if(c){if((e[c+12>>2]|0)==(e[c+16>>2]|0)){if(h=0,t=ce(e[(e[c>>2]|0)+36>>2]|0,c|0)|0,se=h,h=0,se&1){ee=25;break e}if((t|0)==-1){e[o>>2]=0,ee=49;break}}s||(ee=50)}else ee=49;while(!1);return(ee|0)==49&&s&&(ee=50),(ee|0)==50&&(e[a>>2]=e[a>>2]|2),se=e[r>>2]|0,fe(Z),fe(re),b=K,se|0}}while(!1);return(ee|0)==25&&(t=Q()|0),fe(Z),fe(re),ne(t|0),0}function qg(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0;K=b,b=b+240|0,N=K+202|0,c=K+200|0,re=K+24|0,Z=K+12|0,q=K+8|0,M=K+40|0,R=K+4|0,B=K,z=si(s)|0,Gi(re,s,N,c),e[Z>>2]=0,e[Z+4>>2]=0,e[Z+8>>2]=0,m[Z>>0]&1?t=(e[Z>>2]&-2)+-1|0:t=10,h=0,me(8,Z|0,t|0,0),F=h,h=0;e:do if(F&1)ee=25;else{k=Z+8|0,D=Z+1|0,s=m[Z>>0]&1?e[k>>2]|0:D,e[q>>2]=s,e[R>>2]=M,e[B>>2]=0,F=Z+4|0,T=m[c>>0]|0,t=e[r>>2]|0;t:for(;;){if(t){if((e[t+12>>2]|0)==(e[t+16>>2]|0)){if(h=0,c=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,I=h,h=0,I&1){ee=24;break}(c|0)==-1&&(e[r>>2]=0,t=0)}}else t=0;c=(t|0)==0,S=e[o>>2]|0;do if(S){if((e[S+12>>2]|0)!=(e[S+16>>2]|0)){if(c)break;break t}if(h=0,A=ce(e[(e[S>>2]|0)+36>>2]|0,S|0)|0,I=h,h=0,I&1){ee=24;break t}if((A|0)!=-1){if(c)break;break t}else{e[o>>2]=0,ee=16;break}}else ee=16;while(!1);if((ee|0)==16)if(ee=0,c){S=0;break}else S=0;if(c=m[Z>>0]|0,c=c&1?e[F>>2]|0:(c&255)>>>1,(e[q>>2]|0)==(s+c|0)){if(h=0,me(8,Z|0,c<<1|0,0),I=h,h=0,I&1){ee=24;break}if(m[Z>>0]&1?s=(e[Z>>2]&-2)+-1|0:s=10,h=0,me(8,Z|0,s|0,0),I=h,h=0,I&1){ee=24;break}s=m[Z>>0]&1?e[k>>2]|0:D,e[q>>2]=s+c}if(A=t+12|0,c=e[A>>2]|0,I=t+16|0,(c|0)==(e[I>>2]|0)){if(h=0,c=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,se=h,h=0,se&1){ee=24;break}}else c=P[c>>0]|0;if(Mi(c&255,z,s,q,B,T,re,M,R,N)|0)break;if(c=e[A>>2]|0,(c|0)==(e[I>>2]|0))if(h=0,ce(e[(e[t>>2]|0)+40>>2]|0,t|0)|0,se=h,h=0,se&1){ee=24;break}else continue;else{e[A>>2]=c+1;continue}}if((ee|0)==24){t=Q()|0;break}if(se=m[re>>0]|0,(se&1?e[re+4>>2]|0:(se&255)>>>1)|0&&(L=e[R>>2]|0,(L-M|0)<160)&&(se=e[B>>2]|0,e[R>>2]=L+4,e[L>>2]=se),h=0,s=Pe(26,s|0,e[q>>2]|0,a|0,z|0)|0,c=xe,se=h,h=0,se&1)ee=25;else{if(se=f,e[se>>2]=s,e[se+4>>2]=c,Bt(re,M,e[R>>2]|0,a),t){if((e[t+12>>2]|0)==(e[t+16>>2]|0)){if(h=0,s=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,se=h,h=0,se&1){ee=25;break}(s|0)==-1&&(e[r>>2]=0,t=0)}}else t=0;s=(t|0)==0;do if(S){if((e[S+12>>2]|0)==(e[S+16>>2]|0)){if(h=0,t=ce(e[(e[S>>2]|0)+36>>2]|0,S|0)|0,se=h,h=0,se&1){ee=25;break e}if((t|0)==-1){e[o>>2]=0,ee=49;break}}s||(ee=50)}else ee=49;while(!1);return(ee|0)==49&&s&&(ee=50),(ee|0)==50&&(e[a>>2]=e[a>>2]|2),se=e[r>>2]|0,fe(Z),fe(re),b=K,se|0}}while(!1);return(ee|0)==25&&(t=Q()|0),fe(Z),fe(re),ne(t|0),0}function Gg(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0,_e=0,Se=0;ee=b,b=b+240|0,q=ee+208|0,S=ee+203|0,A=ee+202|0,Te=ee+24|0,se=ee+12|0,L=ee+8|0,Z=ee+40|0,re=ee+4|0,M=ee,R=ee+201|0,B=ee+200|0,xn(Te,s,q,S,A),e[se>>2]=0,e[se+4>>2]=0,e[se+8>>2]=0,m[se>>0]&1?t=(e[se>>2]&-2)+-1|0:t=10,h=0,me(8,se|0,t|0,0),z=h,h=0;e:do if(z&1)_e=25;else{F=se+8|0,N=se+1|0,s=m[se>>0]&1?e[F>>2]|0:N,e[L>>2]=s,e[re>>2]=Z,e[M>>2]=0,m[R>>0]=1,m[B>>0]=69,z=se+4|0,D=m[S>>0]|0,k=m[A>>0]|0,t=e[r>>2]|0;t:for(;;){if(t){if((e[t+12>>2]|0)==(e[t+16>>2]|0)){if(h=0,S=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,T=h,h=0,T&1){_e=24;break}(S|0)==-1&&(e[r>>2]=0,t=0)}}else t=0;A=(t|0)==0,S=e[o>>2]|0;do if(S){if((e[S+12>>2]|0)!=(e[S+16>>2]|0)){if(A)break;break t}if(h=0,I=ce(e[(e[S>>2]|0)+36>>2]|0,S|0)|0,T=h,h=0,T&1){_e=24;break t}if((I|0)!=-1){if(A)break;break t}else{e[o>>2]=0,_e=16;break}}else _e=16;while(!1);if((_e|0)==16)if(_e=0,A){S=0;break}else S=0;if(A=m[se>>0]|0,A=A&1?e[z>>2]|0:(A&255)>>>1,(e[L>>2]|0)==(s+A|0)){if(h=0,me(8,se|0,A<<1|0,0),T=h,h=0,T&1){_e=24;break}if(m[se>>0]&1?s=(e[se>>2]&-2)+-1|0:s=10,h=0,me(8,se|0,s|0,0),T=h,h=0,T&1){_e=24;break}s=m[se>>0]&1?e[F>>2]|0:N,e[L>>2]=s+A}if(I=t+12|0,A=e[I>>2]|0,T=t+16|0,(A|0)==(e[T>>2]|0)){if(h=0,A=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,Se=h,h=0,Se&1){_e=24;break}}else A=P[A>>0]|0;if(Tn(A&255,R,B,s,L,D,k,Te,Z,re,M,q)|0)break;if(S=e[I>>2]|0,(S|0)==(e[T>>2]|0))if(h=0,ce(e[(e[t>>2]|0)+40>>2]|0,t|0)|0,Se=h,h=0,Se&1){_e=24;break}else continue;else{e[I>>2]=S+1;continue}}if((_e|0)==24){t=Q()|0;break}if(Se=m[Te>>0]|0,!(!(m[R>>0]|0)||!((Se&1?e[Te+4>>2]|0:(Se&255)>>>1)|0))&&(K=e[re>>2]|0,(K-Z|0)<160)&&(Se=e[M>>2]|0,e[re>>2]=K+4,e[K>>2]=Se),h=0,c=+i0(1,s|0,e[L>>2]|0,a|0),Se=h,h=0,Se&1)_e=25;else{if(W[f>>2]=c,Bt(Te,Z,e[re>>2]|0,a),t){if((e[t+12>>2]|0)==(e[t+16>>2]|0)){if(h=0,s=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,Se=h,h=0,Se&1){_e=25;break}(s|0)==-1&&(e[r>>2]=0,t=0)}}else t=0;s=(t|0)==0;do if(S){if((e[S+12>>2]|0)==(e[S+16>>2]|0)){if(h=0,t=ce(e[(e[S>>2]|0)+36>>2]|0,S|0)|0,Se=h,h=0,Se&1){_e=25;break e}if((t|0)==-1){e[o>>2]=0,_e=49;break}}s||(_e=50)}else _e=49;while(!1);return(_e|0)==49&&s&&(_e=50),(_e|0)==50&&(e[a>>2]=e[a>>2]|2),Se=e[r>>2]|0,fe(se),fe(Te),b=ee,Se|0}}while(!1);return(_e|0)==25&&(t=Q()|0),fe(se),fe(Te),ne(t|0),0}function $g(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0,_e=0,Se=0;ee=b,b=b+240|0,q=ee+208|0,S=ee+203|0,A=ee+202|0,Te=ee+24|0,se=ee+12|0,L=ee+8|0,Z=ee+40|0,re=ee+4|0,M=ee,R=ee+201|0,B=ee+200|0,xn(Te,s,q,S,A),e[se>>2]=0,e[se+4>>2]=0,e[se+8>>2]=0,m[se>>0]&1?t=(e[se>>2]&-2)+-1|0:t=10,h=0,me(8,se|0,t|0,0),z=h,h=0;e:do if(z&1)_e=25;else{F=se+8|0,N=se+1|0,s=m[se>>0]&1?e[F>>2]|0:N,e[L>>2]=s,e[re>>2]=Z,e[M>>2]=0,m[R>>0]=1,m[B>>0]=69,z=se+4|0,D=m[S>>0]|0,k=m[A>>0]|0,t=e[r>>2]|0;t:for(;;){if(t){if((e[t+12>>2]|0)==(e[t+16>>2]|0)){if(h=0,S=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,T=h,h=0,T&1){_e=24;break}(S|0)==-1&&(e[r>>2]=0,t=0)}}else t=0;A=(t|0)==0,S=e[o>>2]|0;do if(S){if((e[S+12>>2]|0)!=(e[S+16>>2]|0)){if(A)break;break t}if(h=0,I=ce(e[(e[S>>2]|0)+36>>2]|0,S|0)|0,T=h,h=0,T&1){_e=24;break t}if((I|0)!=-1){if(A)break;break t}else{e[o>>2]=0,_e=16;break}}else _e=16;while(!1);if((_e|0)==16)if(_e=0,A){S=0;break}else S=0;if(A=m[se>>0]|0,A=A&1?e[z>>2]|0:(A&255)>>>1,(e[L>>2]|0)==(s+A|0)){if(h=0,me(8,se|0,A<<1|0,0),T=h,h=0,T&1){_e=24;break}if(m[se>>0]&1?s=(e[se>>2]&-2)+-1|0:s=10,h=0,me(8,se|0,s|0,0),T=h,h=0,T&1){_e=24;break}s=m[se>>0]&1?e[F>>2]|0:N,e[L>>2]=s+A}if(I=t+12|0,A=e[I>>2]|0,T=t+16|0,(A|0)==(e[T>>2]|0)){if(h=0,A=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,Se=h,h=0,Se&1){_e=24;break}}else A=P[A>>0]|0;if(Tn(A&255,R,B,s,L,D,k,Te,Z,re,M,q)|0)break;if(S=e[I>>2]|0,(S|0)==(e[T>>2]|0))if(h=0,ce(e[(e[t>>2]|0)+40>>2]|0,t|0)|0,Se=h,h=0,Se&1){_e=24;break}else continue;else{e[I>>2]=S+1;continue}}if((_e|0)==24){t=Q()|0;break}if(Se=m[Te>>0]|0,!(!(m[R>>0]|0)||!((Se&1?e[Te+4>>2]|0:(Se&255)>>>1)|0))&&(K=e[re>>2]|0,(K-Z|0)<160)&&(Se=e[M>>2]|0,e[re>>2]=K+4,e[K>>2]=Se),h=0,c=+i0(2,s|0,e[L>>2]|0,a|0),Se=h,h=0,Se&1)_e=25;else{if(V[f>>3]=c,Bt(Te,Z,e[re>>2]|0,a),t){if((e[t+12>>2]|0)==(e[t+16>>2]|0)){if(h=0,s=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,Se=h,h=0,Se&1){_e=25;break}(s|0)==-1&&(e[r>>2]=0,t=0)}}else t=0;s=(t|0)==0;do if(S){if((e[S+12>>2]|0)==(e[S+16>>2]|0)){if(h=0,t=ce(e[(e[S>>2]|0)+36>>2]|0,S|0)|0,Se=h,h=0,Se&1){_e=25;break e}if((t|0)==-1){e[o>>2]=0,_e=49;break}}s||(_e=50)}else _e=49;while(!1);return(_e|0)==49&&s&&(_e=50),(_e|0)==50&&(e[a>>2]=e[a>>2]|2),Se=e[r>>2]|0,fe(se),fe(Te),b=ee,Se|0}}while(!1);return(_e|0)==25&&(t=Q()|0),fe(se),fe(Te),ne(t|0),0}function Hg(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0,_e=0,Se=0;ee=b,b=b+240|0,q=ee+208|0,S=ee+203|0,A=ee+202|0,Te=ee+24|0,se=ee+12|0,L=ee+8|0,Z=ee+40|0,re=ee+4|0,M=ee,R=ee+201|0,B=ee+200|0,xn(Te,s,q,S,A),e[se>>2]=0,e[se+4>>2]=0,e[se+8>>2]=0,m[se>>0]&1?t=(e[se>>2]&-2)+-1|0:t=10,h=0,me(8,se|0,t|0,0),z=h,h=0;e:do if(z&1)_e=25;else{F=se+8|0,N=se+1|0,s=m[se>>0]&1?e[F>>2]|0:N,e[L>>2]=s,e[re>>2]=Z,e[M>>2]=0,m[R>>0]=1,m[B>>0]=69,z=se+4|0,D=m[S>>0]|0,k=m[A>>0]|0,t=e[r>>2]|0;t:for(;;){if(t){if((e[t+12>>2]|0)==(e[t+16>>2]|0)){if(h=0,S=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,T=h,h=0,T&1){_e=24;break}(S|0)==-1&&(e[r>>2]=0,t=0)}}else t=0;A=(t|0)==0,S=e[o>>2]|0;do if(S){if((e[S+12>>2]|0)!=(e[S+16>>2]|0)){if(A)break;break t}if(h=0,I=ce(e[(e[S>>2]|0)+36>>2]|0,S|0)|0,T=h,h=0,T&1){_e=24;break t}if((I|0)!=-1){if(A)break;break t}else{e[o>>2]=0,_e=16;break}}else _e=16;while(!1);if((_e|0)==16)if(_e=0,A){S=0;break}else S=0;if(A=m[se>>0]|0,A=A&1?e[z>>2]|0:(A&255)>>>1,(e[L>>2]|0)==(s+A|0)){if(h=0,me(8,se|0,A<<1|0,0),T=h,h=0,T&1){_e=24;break}if(m[se>>0]&1?s=(e[se>>2]&-2)+-1|0:s=10,h=0,me(8,se|0,s|0,0),T=h,h=0,T&1){_e=24;break}s=m[se>>0]&1?e[F>>2]|0:N,e[L>>2]=s+A}if(I=t+12|0,A=e[I>>2]|0,T=t+16|0,(A|0)==(e[T>>2]|0)){if(h=0,A=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,Se=h,h=0,Se&1){_e=24;break}}else A=P[A>>0]|0;if(Tn(A&255,R,B,s,L,D,k,Te,Z,re,M,q)|0)break;if(S=e[I>>2]|0,(S|0)==(e[T>>2]|0))if(h=0,ce(e[(e[t>>2]|0)+40>>2]|0,t|0)|0,Se=h,h=0,Se&1){_e=24;break}else continue;else{e[I>>2]=S+1;continue}}if((_e|0)==24){t=Q()|0;break}if(Se=m[Te>>0]|0,!(!(m[R>>0]|0)||!((Se&1?e[Te+4>>2]|0:(Se&255)>>>1)|0))&&(K=e[re>>2]|0,(K-Z|0)<160)&&(Se=e[M>>2]|0,e[re>>2]=K+4,e[K>>2]=Se),h=0,c=+i0(3,s|0,e[L>>2]|0,a|0),Se=h,h=0,Se&1)_e=25;else{if(V[f>>3]=c,Bt(Te,Z,e[re>>2]|0,a),t){if((e[t+12>>2]|0)==(e[t+16>>2]|0)){if(h=0,s=ce(e[(e[t>>2]|0)+36>>2]|0,t|0)|0,Se=h,h=0,Se&1){_e=25;break}(s|0)==-1&&(e[r>>2]=0,t=0)}}else t=0;s=(t|0)==0;do if(S){if((e[S+12>>2]|0)==(e[S+16>>2]|0)){if(h=0,t=ce(e[(e[S>>2]|0)+36>>2]|0,S|0)|0,Se=h,h=0,Se&1){_e=25;break e}if((t|0)==-1){e[o>>2]=0,_e=49;break}}s||(_e=50)}else _e=49;while(!1);return(_e|0)==49&&s&&(_e=50),(_e|0)==50&&(e[a>>2]=e[a>>2]|2),Se=e[r>>2]|0,fe(se),fe(Te),b=ee,Se|0}}while(!1);return(_e|0)==25&&(t=Q()|0),fe(se),fe(Te),ne(t|0),0}function Wg(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0;return a=b,b=b+16|0,f=a,e[f>>2]=s,s=oi(r)|0,r=qs(t,o,f)|0,s|0&&(h=0,ce(75,s|0)|0,f=h,h=0,f&1)&&(f=Q(0)|0,b0(f)),b=a,r|0}function Ar(t,r,o,s,a,f,c){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0;var S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0;R=b,b=b+112|0,A=R,T=(s-o|0)/12|0;do if(T>>>0>100){if(A=It(T)|0,!(A|0)&&(h=0,_0(6),M=h,h=0,M&1)){S=0,D=6;break}S=A,D=11}else S=0,D=11;while(!1);e:do if((D|0)==11){if((o|0)==(s|0))I=0;else for(F=o,k=0,D=A;I=m[F>>0]|0,I&1?I=e[F+4>>2]|0:I=(I&255)>>>1,I?(m[D>>0]=1,I=k):(m[D>>0]=2,I=k+1|0,T=T+-1|0),F=F+12|0,(F|0)!=(s|0);)k=I,D=D+1|0;L=(o|0)==(s|0),M=(o|0)==(s|0),B=0,N=T;t:for(;;){T=e[t>>2]|0;do if(T){if(k=e[T+12>>2]|0,(k|0)==(e[T+16>>2]|0)){if(h=0,T=ce(e[(e[T>>2]|0)+36>>2]|0,T|0)|0,q=h,h=0,q&1){D=5;break t}}else T=e[k>>2]|0;if((T|0)==-1){e[t>>2]=0,F=1;break}else{F=(e[t>>2]|0)==0;break}}else F=1;while(!1);if(k=e[r>>2]|0,k){if(T=e[k+12>>2]|0,(T|0)==(e[k+16>>2]|0)){if(h=0,T=ce(e[(e[k>>2]|0)+36>>2]|0,k|0)|0,q=h,h=0,q&1){D=5;break}}else T=e[T>>2]|0;(T|0)==-1?(e[r>>2]=0,k=0,D=1):D=0}else k=0,D=1;if(T=e[t>>2]|0,!((N|0)!=0&(F^D))){D=66;break}if(k=e[T+12>>2]|0,(k|0)==(e[T+16>>2]|0)){if(h=0,T=ce(e[(e[T>>2]|0)+36>>2]|0,T|0)|0,q=h,h=0,q&1){D=5;break}}else T=e[k>>2]|0;if(!c&&(h=0,T=Ce(e[(e[a>>2]|0)+28>>2]|0,a|0,T|0)|0,q=h,h=0,q&1)){D=5;break}if(q=B+1|0,L)T=0,F=N;else for(F=0,z=o,D=N,N=A;;){do if((m[N>>0]|0)==1){if(m[z>>0]&1?k=e[z+8>>2]|0:k=z+4|0,k=e[k+(B<<2)>>2]|0,!c&&(h=0,k=Ce(e[(e[a>>2]|0)+28>>2]|0,a|0,k|0)|0,K=h,h=0,K&1)){D=4;break t}if((T|0)!=(k|0)){m[N>>0]=0,k=F,D=D+-1|0;break}k=m[z>>0]|0,k&1?k=e[z+4>>2]|0:k=(k&255)>>>1,(k|0)==(q|0)?(m[N>>0]=2,k=1,I=I+1|0,D=D+-1|0):k=1}else k=F;while(!1);if(z=z+12|0,(z|0)==(s|0)){T=k,F=D;break}else F=k,N=N+1|0}if(!T){B=q,N=F;continue}if(T=e[t>>2]|0,k=T+12|0,D=e[k>>2]|0,(D|0)==(e[T+16>>2]|0)){if(h=0,ce(e[(e[T>>2]|0)+40>>2]|0,T|0)|0,K=h,h=0,K&1){D=5;break}}else e[k>>2]=D+4;if((I+F|0)>>>0<2|M){B=q,N=F;continue}else T=o,D=A;for(;;)if((m[D>>0]|0)==2&&(k=m[T>>0]|0,k&1?k=e[T+4>>2]|0:k=(k&255)>>>1,(k|0)!=(q|0)&&(m[D>>0]=0,I=I+-1|0)),T=T+12|0,(T|0)==(s|0)){B=q,N=F;continue t}else D=D+1|0}if((D|0)==4){o=Q()|0;break}else if((D|0)==5){o=Q()|0;break}else if((D|0)==66){do if(T){if(I=e[T+12>>2]|0,(I|0)==(e[T+16>>2]|0)){if(h=0,I=ce(e[(e[T>>2]|0)+36>>2]|0,T|0)|0,K=h,h=0,K&1){D=6;break e}}else I=e[I>>2]|0;if((I|0)==-1){e[t>>2]=0,T=1;break}else{T=(e[t>>2]|0)==0;break}}else T=1;while(!1);do if(k){if(I=e[k+12>>2]|0,(I|0)==(e[k+16>>2]|0)){if(h=0,I=ce(e[(e[k>>2]|0)+36>>2]|0,k|0)|0,K=h,h=0,K&1){D=6;break e}}else I=e[I>>2]|0;if((I|0)!=-1){if(T)break;D=81;break}else{e[r>>2]=0,D=79;break}}else D=79;while(!1);(D|0)==79&&T&&(D=81),(D|0)==81&&(e[f>>2]=e[f>>2]|2);t:do if((o|0)==(s|0))D=85;else for(;;){if((m[A>>0]|0)==2)break t;if(o=o+12|0,(o|0)==(s|0)){D=85;break}else A=A+1|0}while(!1);return(D|0)==85&&(e[f>>2]=e[f>>2]|4,o=s),S&&Z0(S),b=R,o|0}}while(!1);return(D|0)==6&&(o=Q()|0),S&&Z0(S),ne(o|0),0}function Qg(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0;K=b,b=b+320|0,N=K+208|0,c=K+200|0,re=K+24|0,Z=K+12|0,q=K+8|0,M=K+40|0,R=K+4|0,B=K,z=si(s)|0,$i(re,s,N,c),e[Z>>2]=0,e[Z+4>>2]=0,e[Z+8>>2]=0,m[Z>>0]&1?t=(e[Z>>2]&-2)+-1|0:t=10,h=0,me(8,Z|0,t|0,0),F=h,h=0;e:do if(F&1)ee=26;else{k=Z+8|0,D=Z+1|0,t=m[Z>>0]&1?e[k>>2]|0:D,e[q>>2]=t,e[R>>2]=M,e[B>>2]=0,F=Z+4|0,T=e[c>>2]|0,c=e[r>>2]|0;t:for(;;){if(c){if(s=e[c+12>>2]|0,(s|0)==(e[c+16>>2]|0)){if(h=0,s=ce(e[(e[c>>2]|0)+36>>2]|0,c|0)|0,I=h,h=0,I&1){ee=25;break}}else s=e[s>>2]|0;(s|0)==-1?(e[r>>2]=0,s=0,S=1):(s=c,S=0)}else s=0,S=1;A=e[o>>2]|0;do if(A){if(c=e[A+12>>2]|0,(c|0)==(e[A+16>>2]|0)){if(h=0,c=ce(e[(e[A>>2]|0)+36>>2]|0,A|0)|0,I=h,h=0,I&1){ee=25;break t}}else c=e[c>>2]|0;if((c|0)!=-1){if(S)break;c=A;break t}else{e[o>>2]=0,ee=17;break}}else ee=17;while(!1);if((ee|0)==17)if(ee=0,S){c=0;break}else A=0;if(c=m[Z>>0]|0,c=c&1?e[F>>2]|0:(c&255)>>>1,(e[q>>2]|0)==(t+c|0)){if(h=0,me(8,Z|0,c<<1|0,0),I=h,h=0,I&1){ee=25;break}if(m[Z>>0]&1?t=(e[Z>>2]&-2)+-1|0:t=10,h=0,me(8,Z|0,t|0,0),I=h,h=0,I&1){ee=25;break}t=m[Z>>0]&1?e[k>>2]|0:D,e[q>>2]=t+c}if(S=s+12|0,c=e[S>>2]|0,I=s+16|0,(c|0)==(e[I>>2]|0)){if(h=0,c=ce(e[(e[s>>2]|0)+36>>2]|0,s|0)|0,se=h,h=0,se&1){ee=25;break}}else c=e[c>>2]|0;if(Ri(c,z,t,q,B,T,re,M,R,N)|0){c=A;break}if(c=e[S>>2]|0,(c|0)==(e[I>>2]|0))if(h=0,ce(e[(e[s>>2]|0)+40>>2]|0,s|0)|0,se=h,h=0,se&1){ee=25;break}else{c=s;continue}else{e[S>>2]=c+4,c=s;continue}}if((ee|0)==25){t=Q()|0;break}if(se=m[re>>0]|0,(se&1?e[re+4>>2]|0:(se&255)>>>1)|0&&(L=e[R>>2]|0,(L-M|0)<160)&&(se=e[B>>2]|0,e[R>>2]=L+4,e[L>>2]=se),h=0,t=Pe(21,t|0,e[q>>2]|0,a|0,z|0)|0,se=h,h=0,se&1)ee=26;else{if(e[f>>2]=t,Bt(re,M,e[R>>2]|0,a),s){if(t=e[s+12>>2]|0,(t|0)==(e[s+16>>2]|0)){if(h=0,t=ce(e[(e[s>>2]|0)+36>>2]|0,s|0)|0,se=h,h=0,se&1){ee=26;break}}else t=e[t>>2]|0;(t|0)==-1?(e[r>>2]=0,s=1):s=0}else s=1;do if(c){if(t=e[c+12>>2]|0,(t|0)==(e[c+16>>2]|0)){if(h=0,t=ce(e[(e[c>>2]|0)+36>>2]|0,c|0)|0,se=h,h=0,se&1){ee=26;break e}}else t=e[t>>2]|0;if((t|0)!=-1){if(s)break;ee=53;break}else{e[o>>2]=0,ee=51;break}}else ee=51;while(!1);return(ee|0)==51&&s&&(ee=53),(ee|0)==53&&(e[a>>2]=e[a>>2]|2),se=e[r>>2]|0,fe(Z),fe(re),b=K,se|0}}while(!1);return(ee|0)==26&&(t=Q()|0),fe(Z),fe(re),ne(t|0),0}function jg(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0;K=b,b=b+320|0,N=K+208|0,c=K+200|0,re=K+24|0,Z=K+12|0,q=K+8|0,M=K+40|0,R=K+4|0,B=K,z=si(s)|0,$i(re,s,N,c),e[Z>>2]=0,e[Z+4>>2]=0,e[Z+8>>2]=0,m[Z>>0]&1?t=(e[Z>>2]&-2)+-1|0:t=10,h=0,me(8,Z|0,t|0,0),F=h,h=0;e:do if(F&1)ee=26;else{k=Z+8|0,D=Z+1|0,t=m[Z>>0]&1?e[k>>2]|0:D,e[q>>2]=t,e[R>>2]=M,e[B>>2]=0,F=Z+4|0,T=e[c>>2]|0,c=e[r>>2]|0;t:for(;;){if(c){if(s=e[c+12>>2]|0,(s|0)==(e[c+16>>2]|0)){if(h=0,s=ce(e[(e[c>>2]|0)+36>>2]|0,c|0)|0,I=h,h=0,I&1){ee=25;break}}else s=e[s>>2]|0;(s|0)==-1?(e[r>>2]=0,c=0,A=1):A=0}else c=0,A=1;S=e[o>>2]|0;do if(S){if(s=e[S+12>>2]|0,(s|0)==(e[S+16>>2]|0)){if(h=0,s=ce(e[(e[S>>2]|0)+36>>2]|0,S|0)|0,I=h,h=0,I&1){ee=25;break t}}else s=e[s>>2]|0;if((s|0)!=-1){if(A)break;break t}else{e[o>>2]=0,ee=17;break}}else ee=17;while(!1);if((ee|0)==17)if(ee=0,A){S=0;break}else S=0;if(s=m[Z>>0]|0,s=s&1?e[F>>2]|0:(s&255)>>>1,(e[q>>2]|0)==(t+s|0)){if(h=0,me(8,Z|0,s<<1|0,0),I=h,h=0,I&1){ee=25;break}if(m[Z>>0]&1?t=(e[Z>>2]&-2)+-1|0:t=10,h=0,me(8,Z|0,t|0,0),I=h,h=0,I&1){ee=25;break}t=m[Z>>0]&1?e[k>>2]|0:D,e[q>>2]=t+s}if(A=c+12|0,s=e[A>>2]|0,I=c+16|0,(s|0)==(e[I>>2]|0)){if(h=0,s=ce(e[(e[c>>2]|0)+36>>2]|0,c|0)|0,se=h,h=0,se&1){ee=25;break}}else s=e[s>>2]|0;if(Ri(s,z,t,q,B,T,re,M,R,N)|0)break;if(s=e[A>>2]|0,(s|0)==(e[I>>2]|0))if(h=0,ce(e[(e[c>>2]|0)+40>>2]|0,c|0)|0,se=h,h=0,se&1){ee=25;break}else continue;else{e[A>>2]=s+4;continue}}if((ee|0)==25){t=Q()|0;break}if(se=m[re>>0]|0,(se&1?e[re+4>>2]|0:(se&255)>>>1)|0&&(L=e[R>>2]|0,(L-M|0)<160)&&(se=e[B>>2]|0,e[R>>2]=L+4,e[L>>2]=se),h=0,t=Pe(22,t|0,e[q>>2]|0,a|0,z|0)|0,s=xe,se=h,h=0,se&1)ee=26;else{if(se=f,e[se>>2]=t,e[se+4>>2]=s,Bt(re,M,e[R>>2]|0,a),c){if(t=e[c+12>>2]|0,(t|0)==(e[c+16>>2]|0)){if(h=0,t=ce(e[(e[c>>2]|0)+36>>2]|0,c|0)|0,se=h,h=0,se&1){ee=26;break}}else t=e[t>>2]|0;(t|0)==-1?(e[r>>2]=0,s=1):s=0}else s=1;do if(S){if(t=e[S+12>>2]|0,(t|0)==(e[S+16>>2]|0)){if(h=0,t=ce(e[(e[S>>2]|0)+36>>2]|0,S|0)|0,se=h,h=0,se&1){ee=26;break e}}else t=e[t>>2]|0;if((t|0)!=-1){if(s)break;ee=53;break}else{e[o>>2]=0,ee=51;break}}else ee=51;while(!1);return(ee|0)==51&&s&&(ee=53),(ee|0)==53&&(e[a>>2]=e[a>>2]|2),se=e[r>>2]|0,fe(Z),fe(re),b=K,se|0}}while(!1);return(ee|0)==26&&(t=Q()|0),fe(Z),fe(re),ne(t|0),0}function Yg(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0;K=b,b=b+320|0,N=K+208|0,c=K+200|0,re=K+24|0,Z=K+12|0,q=K+8|0,M=K+40|0,R=K+4|0,B=K,z=si(s)|0,$i(re,s,N,c),e[Z>>2]=0,e[Z+4>>2]=0,e[Z+8>>2]=0,m[Z>>0]&1?t=(e[Z>>2]&-2)+-1|0:t=10,h=0,me(8,Z|0,t|0,0),F=h,h=0;e:do if(F&1)ee=26;else{k=Z+8|0,D=Z+1|0,t=m[Z>>0]&1?e[k>>2]|0:D,e[q>>2]=t,e[R>>2]=M,e[B>>2]=0,F=Z+4|0,T=e[c>>2]|0,c=e[r>>2]|0;t:for(;;){if(c){if(s=e[c+12>>2]|0,(s|0)==(e[c+16>>2]|0)){if(h=0,s=ce(e[(e[c>>2]|0)+36>>2]|0,c|0)|0,I=h,h=0,I&1){ee=25;break}}else s=e[s>>2]|0;(s|0)==-1?(e[r>>2]=0,s=0,S=1):(s=c,S=0)}else s=0,S=1;A=e[o>>2]|0;do if(A){if(c=e[A+12>>2]|0,(c|0)==(e[A+16>>2]|0)){if(h=0,c=ce(e[(e[A>>2]|0)+36>>2]|0,A|0)|0,I=h,h=0,I&1){ee=25;break t}}else c=e[c>>2]|0;if((c|0)!=-1){if(S)break;c=A;break t}else{e[o>>2]=0,ee=17;break}}else ee=17;while(!1);if((ee|0)==17)if(ee=0,S){c=0;break}else A=0;if(c=m[Z>>0]|0,c=c&1?e[F>>2]|0:(c&255)>>>1,(e[q>>2]|0)==(t+c|0)){if(h=0,me(8,Z|0,c<<1|0,0),I=h,h=0,I&1){ee=25;break}if(m[Z>>0]&1?t=(e[Z>>2]&-2)+-1|0:t=10,h=0,me(8,Z|0,t|0,0),I=h,h=0,I&1){ee=25;break}t=m[Z>>0]&1?e[k>>2]|0:D,e[q>>2]=t+c}if(S=s+12|0,c=e[S>>2]|0,I=s+16|0,(c|0)==(e[I>>2]|0)){if(h=0,c=ce(e[(e[s>>2]|0)+36>>2]|0,s|0)|0,se=h,h=0,se&1){ee=25;break}}else c=e[c>>2]|0;if(Ri(c,z,t,q,B,T,re,M,R,N)|0){c=A;break}if(c=e[S>>2]|0,(c|0)==(e[I>>2]|0))if(h=0,ce(e[(e[s>>2]|0)+40>>2]|0,s|0)|0,se=h,h=0,se&1){ee=25;break}else{c=s;continue}else{e[S>>2]=c+4,c=s;continue}}if((ee|0)==25){t=Q()|0;break}if(se=m[re>>0]|0,(se&1?e[re+4>>2]|0:(se&255)>>>1)|0&&(L=e[R>>2]|0,(L-M|0)<160)&&(se=e[B>>2]|0,e[R>>2]=L+4,e[L>>2]=se),h=0,t=Pe(23,t|0,e[q>>2]|0,a|0,z|0)|0,se=h,h=0,se&1)ee=26;else{if(y[f>>1]=t,Bt(re,M,e[R>>2]|0,a),s){if(t=e[s+12>>2]|0,(t|0)==(e[s+16>>2]|0)){if(h=0,t=ce(e[(e[s>>2]|0)+36>>2]|0,s|0)|0,se=h,h=0,se&1){ee=26;break}}else t=e[t>>2]|0;(t|0)==-1?(e[r>>2]=0,s=1):s=0}else s=1;do if(c){if(t=e[c+12>>2]|0,(t|0)==(e[c+16>>2]|0)){if(h=0,t=ce(e[(e[c>>2]|0)+36>>2]|0,c|0)|0,se=h,h=0,se&1){ee=26;break e}}else t=e[t>>2]|0;if((t|0)!=-1){if(s)break;ee=53;break}else{e[o>>2]=0,ee=51;break}}else ee=51;while(!1);return(ee|0)==51&&s&&(ee=53),(ee|0)==53&&(e[a>>2]=e[a>>2]|2),se=e[r>>2]|0,fe(Z),fe(re),b=K,se|0}}while(!1);return(ee|0)==26&&(t=Q()|0),fe(Z),fe(re),ne(t|0),0}function Kg(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0;K=b,b=b+320|0,N=K+208|0,c=K+200|0,re=K+24|0,Z=K+12|0,q=K+8|0,M=K+40|0,R=K+4|0,B=K,z=si(s)|0,$i(re,s,N,c),e[Z>>2]=0,e[Z+4>>2]=0,e[Z+8>>2]=0,m[Z>>0]&1?t=(e[Z>>2]&-2)+-1|0:t=10,h=0,me(8,Z|0,t|0,0),F=h,h=0;e:do if(F&1)ee=26;else{k=Z+8|0,D=Z+1|0,t=m[Z>>0]&1?e[k>>2]|0:D,e[q>>2]=t,e[R>>2]=M,e[B>>2]=0,F=Z+4|0,T=e[c>>2]|0,c=e[r>>2]|0;t:for(;;){if(c){if(s=e[c+12>>2]|0,(s|0)==(e[c+16>>2]|0)){if(h=0,s=ce(e[(e[c>>2]|0)+36>>2]|0,c|0)|0,I=h,h=0,I&1){ee=25;break}}else s=e[s>>2]|0;(s|0)==-1?(e[r>>2]=0,s=0,S=1):(s=c,S=0)}else s=0,S=1;A=e[o>>2]|0;do if(A){if(c=e[A+12>>2]|0,(c|0)==(e[A+16>>2]|0)){if(h=0,c=ce(e[(e[A>>2]|0)+36>>2]|0,A|0)|0,I=h,h=0,I&1){ee=25;break t}}else c=e[c>>2]|0;if((c|0)!=-1){if(S)break;c=A;break t}else{e[o>>2]=0,ee=17;break}}else ee=17;while(!1);if((ee|0)==17)if(ee=0,S){c=0;break}else A=0;if(c=m[Z>>0]|0,c=c&1?e[F>>2]|0:(c&255)>>>1,(e[q>>2]|0)==(t+c|0)){if(h=0,me(8,Z|0,c<<1|0,0),I=h,h=0,I&1){ee=25;break}if(m[Z>>0]&1?t=(e[Z>>2]&-2)+-1|0:t=10,h=0,me(8,Z|0,t|0,0),I=h,h=0,I&1){ee=25;break}t=m[Z>>0]&1?e[k>>2]|0:D,e[q>>2]=t+c}if(S=s+12|0,c=e[S>>2]|0,I=s+16|0,(c|0)==(e[I>>2]|0)){if(h=0,c=ce(e[(e[s>>2]|0)+36>>2]|0,s|0)|0,se=h,h=0,se&1){ee=25;break}}else c=e[c>>2]|0;if(Ri(c,z,t,q,B,T,re,M,R,N)|0){c=A;break}if(c=e[S>>2]|0,(c|0)==(e[I>>2]|0))if(h=0,ce(e[(e[s>>2]|0)+40>>2]|0,s|0)|0,se=h,h=0,se&1){ee=25;break}else{c=s;continue}else{e[S>>2]=c+4,c=s;continue}}if((ee|0)==25){t=Q()|0;break}if(se=m[re>>0]|0,(se&1?e[re+4>>2]|0:(se&255)>>>1)|0&&(L=e[R>>2]|0,(L-M|0)<160)&&(se=e[B>>2]|0,e[R>>2]=L+4,e[L>>2]=se),h=0,t=Pe(24,t|0,e[q>>2]|0,a|0,z|0)|0,se=h,h=0,se&1)ee=26;else{if(e[f>>2]=t,Bt(re,M,e[R>>2]|0,a),s){if(t=e[s+12>>2]|0,(t|0)==(e[s+16>>2]|0)){if(h=0,t=ce(e[(e[s>>2]|0)+36>>2]|0,s|0)|0,se=h,h=0,se&1){ee=26;break}}else t=e[t>>2]|0;(t|0)==-1?(e[r>>2]=0,s=1):s=0}else s=1;do if(c){if(t=e[c+12>>2]|0,(t|0)==(e[c+16>>2]|0)){if(h=0,t=ce(e[(e[c>>2]|0)+36>>2]|0,c|0)|0,se=h,h=0,se&1){ee=26;break e}}else t=e[t>>2]|0;if((t|0)!=-1){if(s)break;ee=53;break}else{e[o>>2]=0,ee=51;break}}else ee=51;while(!1);return(ee|0)==51&&s&&(ee=53),(ee|0)==53&&(e[a>>2]=e[a>>2]|2),se=e[r>>2]|0,fe(Z),fe(re),b=K,se|0}}while(!1);return(ee|0)==26&&(t=Q()|0),fe(Z),fe(re),ne(t|0),0}function Xg(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0;K=b,b=b+320|0,N=K+208|0,c=K+200|0,re=K+24|0,Z=K+12|0,q=K+8|0,M=K+40|0,R=K+4|0,B=K,z=si(s)|0,$i(re,s,N,c),e[Z>>2]=0,e[Z+4>>2]=0,e[Z+8>>2]=0,m[Z>>0]&1?t=(e[Z>>2]&-2)+-1|0:t=10,h=0,me(8,Z|0,t|0,0),F=h,h=0;e:do if(F&1)ee=26;else{k=Z+8|0,D=Z+1|0,t=m[Z>>0]&1?e[k>>2]|0:D,e[q>>2]=t,e[R>>2]=M,e[B>>2]=0,F=Z+4|0,T=e[c>>2]|0,c=e[r>>2]|0;t:for(;;){if(c){if(s=e[c+12>>2]|0,(s|0)==(e[c+16>>2]|0)){if(h=0,s=ce(e[(e[c>>2]|0)+36>>2]|0,c|0)|0,I=h,h=0,I&1){ee=25;break}}else s=e[s>>2]|0;(s|0)==-1?(e[r>>2]=0,s=0,S=1):(s=c,S=0)}else s=0,S=1;A=e[o>>2]|0;do if(A){if(c=e[A+12>>2]|0,(c|0)==(e[A+16>>2]|0)){if(h=0,c=ce(e[(e[A>>2]|0)+36>>2]|0,A|0)|0,I=h,h=0,I&1){ee=25;break t}}else c=e[c>>2]|0;if((c|0)!=-1){if(S)break;c=A;break t}else{e[o>>2]=0,ee=17;break}}else ee=17;while(!1);if((ee|0)==17)if(ee=0,S){c=0;break}else A=0;if(c=m[Z>>0]|0,c=c&1?e[F>>2]|0:(c&255)>>>1,(e[q>>2]|0)==(t+c|0)){if(h=0,me(8,Z|0,c<<1|0,0),I=h,h=0,I&1){ee=25;break}if(m[Z>>0]&1?t=(e[Z>>2]&-2)+-1|0:t=10,h=0,me(8,Z|0,t|0,0),I=h,h=0,I&1){ee=25;break}t=m[Z>>0]&1?e[k>>2]|0:D,e[q>>2]=t+c}if(S=s+12|0,c=e[S>>2]|0,I=s+16|0,(c|0)==(e[I>>2]|0)){if(h=0,c=ce(e[(e[s>>2]|0)+36>>2]|0,s|0)|0,se=h,h=0,se&1){ee=25;break}}else c=e[c>>2]|0;if(Ri(c,z,t,q,B,T,re,M,R,N)|0){c=A;break}if(c=e[S>>2]|0,(c|0)==(e[I>>2]|0))if(h=0,ce(e[(e[s>>2]|0)+40>>2]|0,s|0)|0,se=h,h=0,se&1){ee=25;break}else{c=s;continue}else{e[S>>2]=c+4,c=s;continue}}if((ee|0)==25){t=Q()|0;break}if(se=m[re>>0]|0,(se&1?e[re+4>>2]|0:(se&255)>>>1)|0&&(L=e[R>>2]|0,(L-M|0)<160)&&(se=e[B>>2]|0,e[R>>2]=L+4,e[L>>2]=se),h=0,t=Pe(25,t|0,e[q>>2]|0,a|0,z|0)|0,se=h,h=0,se&1)ee=26;else{if(e[f>>2]=t,Bt(re,M,e[R>>2]|0,a),s){if(t=e[s+12>>2]|0,(t|0)==(e[s+16>>2]|0)){if(h=0,t=ce(e[(e[s>>2]|0)+36>>2]|0,s|0)|0,se=h,h=0,se&1){ee=26;break}}else t=e[t>>2]|0;(t|0)==-1?(e[r>>2]=0,s=1):s=0}else s=1;do if(c){if(t=e[c+12>>2]|0,(t|0)==(e[c+16>>2]|0)){if(h=0,t=ce(e[(e[c>>2]|0)+36>>2]|0,c|0)|0,se=h,h=0,se&1){ee=26;break e}}else t=e[t>>2]|0;if((t|0)!=-1){if(s)break;ee=53;break}else{e[o>>2]=0,ee=51;break}}else ee=51;while(!1);return(ee|0)==51&&s&&(ee=53),(ee|0)==53&&(e[a>>2]=e[a>>2]|2),se=e[r>>2]|0,fe(Z),fe(re),b=K,se|0}}while(!1);return(ee|0)==26&&(t=Q()|0),fe(Z),fe(re),ne(t|0),0}function Zg(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0;K=b,b=b+320|0,N=K+208|0,c=K+200|0,re=K+24|0,Z=K+12|0,q=K+8|0,M=K+40|0,R=K+4|0,B=K,z=si(s)|0,$i(re,s,N,c),e[Z>>2]=0,e[Z+4>>2]=0,e[Z+8>>2]=0,m[Z>>0]&1?t=(e[Z>>2]&-2)+-1|0:t=10,h=0,me(8,Z|0,t|0,0),F=h,h=0;e:do if(F&1)ee=26;else{k=Z+8|0,D=Z+1|0,t=m[Z>>0]&1?e[k>>2]|0:D,e[q>>2]=t,e[R>>2]=M,e[B>>2]=0,F=Z+4|0,T=e[c>>2]|0,c=e[r>>2]|0;t:for(;;){if(c){if(s=e[c+12>>2]|0,(s|0)==(e[c+16>>2]|0)){if(h=0,s=ce(e[(e[c>>2]|0)+36>>2]|0,c|0)|0,I=h,h=0,I&1){ee=25;break}}else s=e[s>>2]|0;(s|0)==-1?(e[r>>2]=0,c=0,A=1):A=0}else c=0,A=1;S=e[o>>2]|0;do if(S){if(s=e[S+12>>2]|0,(s|0)==(e[S+16>>2]|0)){if(h=0,s=ce(e[(e[S>>2]|0)+36>>2]|0,S|0)|0,I=h,h=0,I&1){ee=25;break t}}else s=e[s>>2]|0;if((s|0)!=-1){if(A)break;break t}else{e[o>>2]=0,ee=17;break}}else ee=17;while(!1);if((ee|0)==17)if(ee=0,A){S=0;break}else S=0;if(s=m[Z>>0]|0,s=s&1?e[F>>2]|0:(s&255)>>>1,(e[q>>2]|0)==(t+s|0)){if(h=0,me(8,Z|0,s<<1|0,0),I=h,h=0,I&1){ee=25;break}if(m[Z>>0]&1?t=(e[Z>>2]&-2)+-1|0:t=10,h=0,me(8,Z|0,t|0,0),I=h,h=0,I&1){ee=25;break}t=m[Z>>0]&1?e[k>>2]|0:D,e[q>>2]=t+s}if(A=c+12|0,s=e[A>>2]|0,I=c+16|0,(s|0)==(e[I>>2]|0)){if(h=0,s=ce(e[(e[c>>2]|0)+36>>2]|0,c|0)|0,se=h,h=0,se&1){ee=25;break}}else s=e[s>>2]|0;if(Ri(s,z,t,q,B,T,re,M,R,N)|0)break;if(s=e[A>>2]|0,(s|0)==(e[I>>2]|0))if(h=0,ce(e[(e[c>>2]|0)+40>>2]|0,c|0)|0,se=h,h=0,se&1){ee=25;break}else continue;else{e[A>>2]=s+4;continue}}if((ee|0)==25){t=Q()|0;break}if(se=m[re>>0]|0,(se&1?e[re+4>>2]|0:(se&255)>>>1)|0&&(L=e[R>>2]|0,(L-M|0)<160)&&(se=e[B>>2]|0,e[R>>2]=L+4,e[L>>2]=se),h=0,t=Pe(26,t|0,e[q>>2]|0,a|0,z|0)|0,s=xe,se=h,h=0,se&1)ee=26;else{if(se=f,e[se>>2]=t,e[se+4>>2]=s,Bt(re,M,e[R>>2]|0,a),c){if(t=e[c+12>>2]|0,(t|0)==(e[c+16>>2]|0)){if(h=0,t=ce(e[(e[c>>2]|0)+36>>2]|0,c|0)|0,se=h,h=0,se&1){ee=26;break}}else t=e[t>>2]|0;(t|0)==-1?(e[r>>2]=0,s=1):s=0}else s=1;do if(S){if(t=e[S+12>>2]|0,(t|0)==(e[S+16>>2]|0)){if(h=0,t=ce(e[(e[S>>2]|0)+36>>2]|0,S|0)|0,se=h,h=0,se&1){ee=26;break e}}else t=e[t>>2]|0;if((t|0)!=-1){if(s)break;ee=53;break}else{e[o>>2]=0,ee=51;break}}else ee=51;while(!1);return(ee|0)==51&&s&&(ee=53),(ee|0)==53&&(e[a>>2]=e[a>>2]|2),se=e[r>>2]|0,fe(Z),fe(re),b=K,se|0}}while(!1);return(ee|0)==26&&(t=Q()|0),fe(Z),fe(re),ne(t|0),0}function Jg(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0,_e=0,Se=0;ee=b,b=b+352|0,q=ee+208|0,S=ee+40|0,A=ee+36|0,Te=ee+24|0,se=ee+12|0,L=ee+8|0,Z=ee+48|0,re=ee+4|0,M=ee,R=ee+337|0,B=ee+336|0,In(Te,s,q,S,A),e[se>>2]=0,e[se+4>>2]=0,e[se+8>>2]=0,m[se>>0]&1?t=(e[se>>2]&-2)+-1|0:t=10,h=0,me(8,se|0,t|0,0),z=h,h=0;e:do if(z&1)_e=26;else{F=se+8|0,N=se+1|0,t=m[se>>0]&1?e[F>>2]|0:N,e[L>>2]=t,e[re>>2]=Z,e[M>>2]=0,m[R>>0]=1,m[B>>0]=69,z=se+4|0,D=e[S>>2]|0,k=e[A>>2]|0,s=e[r>>2]|0;t:for(;;){if(s){if(S=e[s+12>>2]|0,(S|0)==(e[s+16>>2]|0)){if(h=0,S=ce(e[(e[s>>2]|0)+36>>2]|0,s|0)|0,T=h,h=0,T&1){_e=25;break}}else S=e[S>>2]|0;(S|0)==-1?(e[r>>2]=0,s=0,I=1):I=0}else s=0,I=1;S=e[o>>2]|0;do if(S){if(A=e[S+12>>2]|0,(A|0)==(e[S+16>>2]|0)){if(h=0,A=ce(e[(e[S>>2]|0)+36>>2]|0,S|0)|0,T=h,h=0,T&1){_e=25;break t}}else A=e[A>>2]|0;if((A|0)!=-1){if(I)break;break t}else{e[o>>2]=0,_e=17;break}}else _e=17;while(!1);if((_e|0)==17)if(_e=0,I){S=0;break}else S=0;if(A=m[se>>0]|0,A=A&1?e[z>>2]|0:(A&255)>>>1,(e[L>>2]|0)==(t+A|0)){if(h=0,me(8,se|0,A<<1|0,0),T=h,h=0,T&1){_e=25;break}if(m[se>>0]&1?t=(e[se>>2]&-2)+-1|0:t=10,h=0,me(8,se|0,t|0,0),T=h,h=0,T&1){_e=25;break}t=m[se>>0]&1?e[F>>2]|0:N,e[L>>2]=t+A}if(I=s+12|0,A=e[I>>2]|0,T=s+16|0,(A|0)==(e[T>>2]|0)){if(h=0,A=ce(e[(e[s>>2]|0)+36>>2]|0,s|0)|0,Se=h,h=0,Se&1){_e=25;break}}else A=e[A>>2]|0;if(Cn(A,R,B,t,L,D,k,Te,Z,re,M,q)|0)break;if(S=e[I>>2]|0,(S|0)==(e[T>>2]|0))if(h=0,ce(e[(e[s>>2]|0)+40>>2]|0,s|0)|0,Se=h,h=0,Se&1){_e=25;break}else continue;else{e[I>>2]=S+4;continue}}if((_e|0)==25){t=Q()|0;break}if(Se=m[Te>>0]|0,!(!(m[R>>0]|0)||!((Se&1?e[Te+4>>2]|0:(Se&255)>>>1)|0))&&(K=e[re>>2]|0,(K-Z|0)<160)&&(Se=e[M>>2]|0,e[re>>2]=K+4,e[K>>2]=Se),h=0,c=+i0(1,t|0,e[L>>2]|0,a|0),Se=h,h=0,Se&1)_e=26;else{if(W[f>>2]=c,Bt(Te,Z,e[re>>2]|0,a),s){if(t=e[s+12>>2]|0,(t|0)==(e[s+16>>2]|0)){if(h=0,t=ce(e[(e[s>>2]|0)+36>>2]|0,s|0)|0,Se=h,h=0,Se&1){_e=26;break}}else t=e[t>>2]|0;(t|0)==-1?(e[r>>2]=0,s=1):s=0}else s=1;do if(S){if(t=e[S+12>>2]|0,(t|0)==(e[S+16>>2]|0)){if(h=0,t=ce(e[(e[S>>2]|0)+36>>2]|0,S|0)|0,Se=h,h=0,Se&1){_e=26;break e}}else t=e[t>>2]|0;if((t|0)!=-1){if(s)break;_e=53;break}else{e[o>>2]=0,_e=51;break}}else _e=51;while(!1);return(_e|0)==51&&s&&(_e=53),(_e|0)==53&&(e[a>>2]=e[a>>2]|2),Se=e[r>>2]|0,fe(se),fe(Te),b=ee,Se|0}}while(!1);return(_e|0)==26&&(t=Q()|0),fe(se),fe(Te),ne(t|0),0}function e3(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0,_e=0,Se=0;ee=b,b=b+352|0,q=ee+208|0,S=ee+40|0,A=ee+36|0,Te=ee+24|0,se=ee+12|0,L=ee+8|0,Z=ee+48|0,re=ee+4|0,M=ee,R=ee+337|0,B=ee+336|0,In(Te,s,q,S,A),e[se>>2]=0,e[se+4>>2]=0,e[se+8>>2]=0,m[se>>0]&1?t=(e[se>>2]&-2)+-1|0:t=10,h=0,me(8,se|0,t|0,0),z=h,h=0;e:do if(z&1)_e=26;else{F=se+8|0,N=se+1|0,t=m[se>>0]&1?e[F>>2]|0:N,e[L>>2]=t,e[re>>2]=Z,e[M>>2]=0,m[R>>0]=1,m[B>>0]=69,z=se+4|0,D=e[S>>2]|0,k=e[A>>2]|0,s=e[r>>2]|0;t:for(;;){if(s){if(S=e[s+12>>2]|0,(S|0)==(e[s+16>>2]|0)){if(h=0,S=ce(e[(e[s>>2]|0)+36>>2]|0,s|0)|0,T=h,h=0,T&1){_e=25;break}}else S=e[S>>2]|0;(S|0)==-1?(e[r>>2]=0,s=0,I=1):I=0}else s=0,I=1;S=e[o>>2]|0;do if(S){if(A=e[S+12>>2]|0,(A|0)==(e[S+16>>2]|0)){if(h=0,A=ce(e[(e[S>>2]|0)+36>>2]|0,S|0)|0,T=h,h=0,T&1){_e=25;break t}}else A=e[A>>2]|0;if((A|0)!=-1){if(I)break;break t}else{e[o>>2]=0,_e=17;break}}else _e=17;while(!1);if((_e|0)==17)if(_e=0,I){S=0;break}else S=0;if(A=m[se>>0]|0,A=A&1?e[z>>2]|0:(A&255)>>>1,(e[L>>2]|0)==(t+A|0)){if(h=0,me(8,se|0,A<<1|0,0),T=h,h=0,T&1){_e=25;break}if(m[se>>0]&1?t=(e[se>>2]&-2)+-1|0:t=10,h=0,me(8,se|0,t|0,0),T=h,h=0,T&1){_e=25;break}t=m[se>>0]&1?e[F>>2]|0:N,e[L>>2]=t+A}if(I=s+12|0,A=e[I>>2]|0,T=s+16|0,(A|0)==(e[T>>2]|0)){if(h=0,A=ce(e[(e[s>>2]|0)+36>>2]|0,s|0)|0,Se=h,h=0,Se&1){_e=25;break}}else A=e[A>>2]|0;if(Cn(A,R,B,t,L,D,k,Te,Z,re,M,q)|0)break;if(S=e[I>>2]|0,(S|0)==(e[T>>2]|0))if(h=0,ce(e[(e[s>>2]|0)+40>>2]|0,s|0)|0,Se=h,h=0,Se&1){_e=25;break}else continue;else{e[I>>2]=S+4;continue}}if((_e|0)==25){t=Q()|0;break}if(Se=m[Te>>0]|0,!(!(m[R>>0]|0)||!((Se&1?e[Te+4>>2]|0:(Se&255)>>>1)|0))&&(K=e[re>>2]|0,(K-Z|0)<160)&&(Se=e[M>>2]|0,e[re>>2]=K+4,e[K>>2]=Se),h=0,c=+i0(2,t|0,e[L>>2]|0,a|0),Se=h,h=0,Se&1)_e=26;else{if(V[f>>3]=c,Bt(Te,Z,e[re>>2]|0,a),s){if(t=e[s+12>>2]|0,(t|0)==(e[s+16>>2]|0)){if(h=0,t=ce(e[(e[s>>2]|0)+36>>2]|0,s|0)|0,Se=h,h=0,Se&1){_e=26;break}}else t=e[t>>2]|0;(t|0)==-1?(e[r>>2]=0,s=1):s=0}else s=1;do if(S){if(t=e[S+12>>2]|0,(t|0)==(e[S+16>>2]|0)){if(h=0,t=ce(e[(e[S>>2]|0)+36>>2]|0,S|0)|0,Se=h,h=0,Se&1){_e=26;break e}}else t=e[t>>2]|0;if((t|0)!=-1){if(s)break;_e=53;break}else{e[o>>2]=0,_e=51;break}}else _e=51;while(!1);return(_e|0)==51&&s&&(_e=53),(_e|0)==53&&(e[a>>2]=e[a>>2]|2),Se=e[r>>2]|0,fe(se),fe(Te),b=ee,Se|0}}while(!1);return(_e|0)==26&&(t=Q()|0),fe(se),fe(Te),ne(t|0),0}function t3(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0,_e=0,Se=0;ee=b,b=b+352|0,q=ee+208|0,S=ee+40|0,A=ee+36|0,Te=ee+24|0,se=ee+12|0,L=ee+8|0,Z=ee+48|0,re=ee+4|0,M=ee,R=ee+337|0,B=ee+336|0,In(Te,s,q,S,A),e[se>>2]=0,e[se+4>>2]=0,e[se+8>>2]=0,m[se>>0]&1?t=(e[se>>2]&-2)+-1|0:t=10,h=0,me(8,se|0,t|0,0),z=h,h=0;e:do if(z&1)_e=26;else{F=se+8|0,N=se+1|0,t=m[se>>0]&1?e[F>>2]|0:N,e[L>>2]=t,e[re>>2]=Z,e[M>>2]=0,m[R>>0]=1,m[B>>0]=69,z=se+4|0,D=e[S>>2]|0,k=e[A>>2]|0,s=e[r>>2]|0;t:for(;;){if(s){if(S=e[s+12>>2]|0,(S|0)==(e[s+16>>2]|0)){if(h=0,S=ce(e[(e[s>>2]|0)+36>>2]|0,s|0)|0,T=h,h=0,T&1){_e=25;break}}else S=e[S>>2]|0;(S|0)==-1?(e[r>>2]=0,s=0,I=1):I=0}else s=0,I=1;S=e[o>>2]|0;do if(S){if(A=e[S+12>>2]|0,(A|0)==(e[S+16>>2]|0)){if(h=0,A=ce(e[(e[S>>2]|0)+36>>2]|0,S|0)|0,T=h,h=0,T&1){_e=25;break t}}else A=e[A>>2]|0;if((A|0)!=-1){if(I)break;break t}else{e[o>>2]=0,_e=17;break}}else _e=17;while(!1);if((_e|0)==17)if(_e=0,I){S=0;break}else S=0;if(A=m[se>>0]|0,A=A&1?e[z>>2]|0:(A&255)>>>1,(e[L>>2]|0)==(t+A|0)){if(h=0,me(8,se|0,A<<1|0,0),T=h,h=0,T&1){_e=25;break}if(m[se>>0]&1?t=(e[se>>2]&-2)+-1|0:t=10,h=0,me(8,se|0,t|0,0),T=h,h=0,T&1){_e=25;break}t=m[se>>0]&1?e[F>>2]|0:N,e[L>>2]=t+A}if(I=s+12|0,A=e[I>>2]|0,T=s+16|0,(A|0)==(e[T>>2]|0)){if(h=0,A=ce(e[(e[s>>2]|0)+36>>2]|0,s|0)|0,Se=h,h=0,Se&1){_e=25;break}}else A=e[A>>2]|0;if(Cn(A,R,B,t,L,D,k,Te,Z,re,M,q)|0)break;if(S=e[I>>2]|0,(S|0)==(e[T>>2]|0))if(h=0,ce(e[(e[s>>2]|0)+40>>2]|0,s|0)|0,Se=h,h=0,Se&1){_e=25;break}else continue;else{e[I>>2]=S+4;continue}}if((_e|0)==25){t=Q()|0;break}if(Se=m[Te>>0]|0,!(!(m[R>>0]|0)||!((Se&1?e[Te+4>>2]|0:(Se&255)>>>1)|0))&&(K=e[re>>2]|0,(K-Z|0)<160)&&(Se=e[M>>2]|0,e[re>>2]=K+4,e[K>>2]=Se),h=0,c=+i0(3,t|0,e[L>>2]|0,a|0),Se=h,h=0,Se&1)_e=26;else{if(V[f>>3]=c,Bt(Te,Z,e[re>>2]|0,a),s){if(t=e[s+12>>2]|0,(t|0)==(e[s+16>>2]|0)){if(h=0,t=ce(e[(e[s>>2]|0)+36>>2]|0,s|0)|0,Se=h,h=0,Se&1){_e=26;break}}else t=e[t>>2]|0;(t|0)==-1?(e[r>>2]=0,s=1):s=0}else s=1;do if(S){if(t=e[S+12>>2]|0,(t|0)==(e[S+16>>2]|0)){if(h=0,t=ce(e[(e[S>>2]|0)+36>>2]|0,S|0)|0,Se=h,h=0,Se&1){_e=26;break e}}else t=e[t>>2]|0;if((t|0)!=-1){if(s)break;_e=53;break}else{e[o>>2]=0,_e=51;break}}else _e=51;while(!1);return(_e|0)==51&&s&&(_e=53),(_e|0)==53&&(e[a>>2]=e[a>>2]|2),Se=e[r>>2]|0,fe(se),fe(Te),b=ee,Se|0}}while(!1);return(_e|0)==26&&(t=Q()|0),fe(se),fe(Te),ne(t|0),0}function qt(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0;return f=b,b=b+16|0,c=f,e[c>>2]=a,a=oi(o)|0,o=Or(t,r,s,c)|0,a|0&&(h=0,ce(75,a|0)|0,c=h,h=0,c&1)&&(c=Q(0)|0,b0(c)),b=f,o|0}function i3(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0;if(a=b,b=b+16|0,f=a,e[f>>2]=s,s=oi(r)|0,h=0,r=Oe(37,t|0,o|0,f|0)|0,t=h,h=0,t&1)r=Q()|0,s|0&&(h=0,ce(75,s|0)|0,f=h,h=0,f&1)&&(f=Q(0)|0,b0(f)),ne(r|0);else return s|0&&(h=0,ce(75,s|0)|0,f=h,h=0,f&1)&&(f=Q(0)|0,b0(f)),b=a,r|0;return 0}function Hi(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0;k=b,b=b+16|0,T=k,c=e[t>>2]|0;e:do if(!c)c=0;else{if(D=r,A=s-D>>2,I=a+12|0,S=e[I>>2]|0,A=(S|0)>(A|0)?S-A|0:0,S=o,D=S-D|0,a=D>>2,(D|0)>0&&(G0[e[(e[c>>2]|0)+48>>2]&63](c,r,a)|0)!=(a|0)){e[t>>2]=0,c=0;break}do if((A|0)>0)if(yn(T,A,f),h=0,a=Oe(e[(e[c>>2]|0)+48>>2]|0,c|0,(m[T>>0]&1?e[T+8>>2]|0:T+4|0)|0,A|0)|0,D=h,h=0,D&1&&(D=Q()|0,E0(T),ne(D|0)),(a|0)==(A|0)){E0(T);break}else{e[t>>2]=0,E0(T),c=0;break e}while(!1);if(D=s-S|0,s=D>>2,(D|0)>0&&(G0[e[(e[c>>2]|0)+48>>2]&63](c,o,s)|0)!=(s|0)){e[t>>2]=0,c=0;break}e[I>>2]=0}while(!1);return b=k,c|0}function ui(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;f=e[t>>2]|0;do if(f){if((e[f+12>>2]|0)==(e[f+16>>2]|0))if((A0[e[(e[f>>2]|0)+36>>2]&127](f)|0)==-1){e[t>>2]=0,f=0;break}else{f=e[t>>2]|0;break}}else f=0;while(!1);c=(f|0)==0,f=e[r>>2]|0;do if(f){if((e[f+12>>2]|0)==(e[f+16>>2]|0)&&(A0[e[(e[f>>2]|0)+36>>2]&127](f)|0)==-1){e[r>>2]=0,N=11;break}c?N=13:N=12}else N=11;while(!1);(N|0)==11&&(c?N=12:(f=0,N=13));e:do if((N|0)==12)e[o>>2]=e[o>>2]|6,f=0;else if((N|0)==13){if(c=e[t>>2]|0,S=e[c+12>>2]|0,(S|0)==(e[c+16>>2]|0)?c=A0[e[(e[c>>2]|0)+36>>2]&127](c)|0:c=P[S>>0]|0,S=c&255,S<<24>>24>-1&&(F=s+8|0,(y[(e[F>>2]|0)+(c<<24>>24<<1)>>1]&2048)!=0)){for(I=(G0[e[(e[s>>2]|0)+36>>2]&63](s,S,0)|0)<<24>>24,c=e[t>>2]|0,S=c+12|0,A=e[S>>2]|0,(A|0)==(e[c+16>>2]|0)?(A0[e[(e[c>>2]|0)+40>>2]&127](c)|0,k=a,T=f,a=f,f=I):(e[S>>2]=A+1,k=a,T=f,a=f,f=I);;){f=f+-48|0,D=k+-1|0,c=e[t>>2]|0;do if(c){if((e[c+12>>2]|0)==(e[c+16>>2]|0))if((A0[e[(e[c>>2]|0)+36>>2]&127](c)|0)==-1){e[t>>2]=0,c=0;break}else{c=e[t>>2]|0;break}}else c=0;while(!1);if(A=(c|0)==0,a?(e[a+12>>2]|0)==(e[a+16>>2]|0)?(A0[e[(e[a>>2]|0)+36>>2]&127](a)|0)==-1?(e[r>>2]=0,S=0,a=0):(S=T,a=T):S=T:(S=T,a=0),c=e[t>>2]|0,!((k|0)>1&(A^(a|0)==0)))break;if(A=e[c+12>>2]|0,(A|0)==(e[c+16>>2]|0)?c=A0[e[(e[c>>2]|0)+36>>2]&127](c)|0:c=P[A>>0]|0,A=c&255,A<<24>>24<=-1||!(y[(e[F>>2]|0)+(c<<24>>24<<1)>>1]&2048))break e;if(f=((G0[e[(e[s>>2]|0)+36>>2]&63](s,A,0)|0)<<24>>24)+(f*10|0)|0,c=e[t>>2]|0,A=c+12|0,I=e[A>>2]|0,(I|0)==(e[c+16>>2]|0)){A0[e[(e[c>>2]|0)+40>>2]&127](c)|0,k=D,T=S;continue}else{e[A>>2]=I+1,k=D,T=S;continue}}do if(c){if((e[c+12>>2]|0)==(e[c+16>>2]|0))if((A0[e[(e[c>>2]|0)+36>>2]&127](c)|0)==-1){e[t>>2]=0,c=0;break}else{c=e[t>>2]|0;break}}else c=0;while(!1);c=(c|0)==0;do if(S){if((e[S+12>>2]|0)==(e[S+16>>2]|0)&&(A0[e[(e[S>>2]|0)+36>>2]&127](S)|0)==-1){e[r>>2]=0,N=50;break}if(c)break e}else N=50;while(!1);if((N|0)==50&&!c)break;e[o>>2]=e[o>>2]|2;break}e[o>>2]=e[o>>2]|4,f=0}while(!1);return f|0}function fi(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;f=e[t>>2]|0;do if(f)if(c=e[f+12>>2]|0,(c|0)==(e[f+16>>2]|0)?f=A0[e[(e[f>>2]|0)+36>>2]&127](f)|0:f=e[c>>2]|0,(f|0)==-1){e[t>>2]=0,S=1;break}else{S=(e[t>>2]|0)==0;break}else S=1;while(!1);c=e[r>>2]|0;do if(c)if(f=e[c+12>>2]|0,(f|0)==(e[c+16>>2]|0)?f=A0[e[(e[c>>2]|0)+36>>2]&127](c)|0:f=e[f>>2]|0,(f|0)!=-1)if(S){F=17;break}else{F=16;break}else{e[r>>2]=0,F=14;break}else F=14;while(!1);(F|0)==14&&(S?F=16:(c=0,F=17));e:do if((F|0)==16)e[o>>2]=e[o>>2]|6,f=0;else if((F|0)==17){if(f=e[t>>2]|0,S=e[f+12>>2]|0,(S|0)==(e[f+16>>2]|0)?f=A0[e[(e[f>>2]|0)+36>>2]&127](f)|0:f=e[S>>2]|0,!(G0[e[(e[s>>2]|0)+12>>2]&63](s,2048,f)|0)){e[o>>2]=e[o>>2]|4,f=0;break}for(f=(G0[e[(e[s>>2]|0)+52>>2]&63](s,f,0)|0)<<24>>24,S=e[t>>2]|0,A=S+12|0,I=e[A>>2]|0,(I|0)==(e[S+16>>2]|0)?(A0[e[(e[S>>2]|0)+40>>2]&127](S)|0,k=a,T=c,A=c):(e[A>>2]=I+4,k=a,T=c,A=c);;){f=f+-48|0,D=k+-1|0,c=e[t>>2]|0;do if(c)if(S=e[c+12>>2]|0,(S|0)==(e[c+16>>2]|0)?c=A0[e[(e[c>>2]|0)+36>>2]&127](c)|0:c=e[S>>2]|0,(c|0)==-1){e[t>>2]=0,I=1;break}else{I=(e[t>>2]|0)==0;break}else I=1;while(!1);do if(A)if(c=e[A+12>>2]|0,(c|0)==(e[A+16>>2]|0)?c=A0[e[(e[A>>2]|0)+36>>2]&127](A)|0:c=e[c>>2]|0,(c|0)==-1){e[r>>2]=0,A=0,a=0,c=1;break}else{A=T,a=T,c=(T|0)==0;break}else A=T,a=0,c=1;while(!1);if(S=e[t>>2]|0,!((k|0)>1&(I^c)))break;if(c=e[S+12>>2]|0,(c|0)==(e[S+16>>2]|0)?c=A0[e[(e[S>>2]|0)+36>>2]&127](S)|0:c=e[c>>2]|0,!(G0[e[(e[s>>2]|0)+12>>2]&63](s,2048,c)|0))break e;if(f=((G0[e[(e[s>>2]|0)+52>>2]&63](s,c,0)|0)<<24>>24)+(f*10|0)|0,c=e[t>>2]|0,S=c+12|0,I=e[S>>2]|0,(I|0)==(e[c+16>>2]|0)){A0[e[(e[c>>2]|0)+40>>2]&127](c)|0,k=D,T=A,A=a;continue}else{e[S>>2]=I+4,k=D,T=A,A=a;continue}}do if(S)if(c=e[S+12>>2]|0,(c|0)==(e[S+16>>2]|0)?c=A0[e[(e[S>>2]|0)+36>>2]&127](S)|0:c=e[c>>2]|0,(c|0)==-1){e[t>>2]=0,S=1;break}else{S=(e[t>>2]|0)==0;break}else S=1;while(!1);do if(A)if(c=e[A+12>>2]|0,(c|0)==(e[A+16>>2]|0)?c=A0[e[(e[A>>2]|0)+36>>2]&127](A)|0:c=e[c>>2]|0,(c|0)!=-1){if(S)break e;break}else{e[r>>2]=0,F=60;break}else F=60;while(!1);if((F|0)==60&&!S)break;e[o>>2]=e[o>>2]|2}while(!1);return f|0}function r3(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0;f=t+4|0,s=(e[f>>2]|0)!=189,S=e[t>>2]|0,c=S,a=(e[o>>2]|0)-c|0,a=a>>>0<2147483647?a<<1:-1,c=(e[r>>2]|0)-c|0,S=qi(s?S:0,a)|0,S||kr();do if(s)e[t>>2]=S,A=S;else if(s=e[t>>2]|0,e[t>>2]=S,s)if(h=0,oe(e[f>>2]|0,s|0),S=h,h=0,S&1)S=Q(0)|0,b0(S);else{A=e[t>>2]|0;break}else A=S;while(!1);e[f>>2]=201,e[r>>2]=A+c,e[o>>2]=(e[t>>2]|0)+a}function n3(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0;f=t+4|0,s=(e[f>>2]|0)!=189,S=e[t>>2]|0,c=S,a=(e[o>>2]|0)-c|0,a=a>>>0<2147483647?a<<1:-1,c=(e[r>>2]|0)-c>>2,S=qi(s?S:0,a)|0,S||kr();do if(s)e[t>>2]=S,A=S;else if(s=e[t>>2]|0,e[t>>2]=S,s)if(h=0,oe(e[f>>2]|0,s|0),S=h,h=0,S&1)S=Q(0)|0,b0(S);else{A=e[t>>2]|0;break}else A=S;while(!1);e[f>>2]=201,e[r>>2]=A+(c<<2),e[o>>2]=(e[t>>2]|0)+(a>>>2<<2)}function o3(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0;f=r,s=m[t>>0]|0,s&1?(s=e[t>>2]|0,a=(s&-2)+-1|0,A=e[t+4>>2]|0,s=s&255):(a=10,A=(s&255)>>>1),S=o-f|0;do if((o|0)!=(r|0)){if((a-A|0)>>>0<S>>>0&&(wn(t,a,A+S-a|0,A,A,0,0),s=m[t>>0]|0),s&1?c=e[t+8>>2]|0:c=t+1|0,f=o+(A-f)|0,(r|0)!=(o|0))for(s=r,a=c+A|0;m[a>>0]=m[s>>0]|0,s=s+1|0,(s|0)!=(o|0);)a=a+1|0;if(m[c+f>>0]=0,s=A+S|0,m[t>>0]&1){e[t+4>>2]=s;break}else{m[t>>0]=s<<1;break}}while(!1);return t|0}function s3(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0;f=t+4|0,s=(e[f>>2]|0)!=189,S=e[t>>2]|0,c=S,a=(e[o>>2]|0)-c|0,a=a>>>0<2147483647?a<<1:-1,c=(e[r>>2]|0)-c>>2,S=qi(s?S:0,a)|0,S||kr();do if(s)e[t>>2]=S,A=S;else if(s=e[t>>2]|0,e[t>>2]=S,s)if(h=0,oe(e[f>>2]|0,s|0),S=h,h=0,S&1)S=Q(0)|0,b0(S);else{A=e[t>>2]|0;break}else A=S;while(!1);e[f>>2]=201,e[r>>2]=A+(c<<2),e[o>>2]=(e[t>>2]|0)+(a>>>2<<2)}function a3(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0;f=r,s=m[t>>0]|0,s&1?(s=e[t>>2]|0,a=(s&-2)+-1|0,A=e[t+4>>2]|0,s=s&255):(a=1,A=(s&255)>>>1),S=o-f>>2;do if(S){if((a-A|0)>>>0<S>>>0&&(Zo(t,a,A+S-a|0,A,A,0,0),s=m[t>>0]|0),s&1?c=e[t+8>>2]|0:c=t+4|0,f=A+((o-f|0)>>>2)|0,(r|0)!=(o|0))for(s=r,a=c+(A<<2)|0;e[a>>2]=e[s>>2],s=s+4|0,(s|0)!=(o|0);)a=a+4|0;if(e[c+(f<<2)>>2]=0,s=A+S|0,m[t>>0]&1){e[t+4>>2]=s;break}else{m[t>>0]=s<<1;break}}while(!1);return t|0}function l3(t,r){t=t|0,r=r|0;var o=0;e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,m[t+128>>0]=0;do if(r)if(h=0,de(125,t|0,r|0),o=h,h=0,o&1)o=Q()|0,En(t),ne(o|0);else{fs(t,r);break}while(!1)}function u3(t,r){t=t|0,r=r|0,At(t,r,wt(43148)|0)}function f3(t,r){t=t|0,r=r|0,At(t,r,wt(43188)|0)}function c3(t,r){t=t|0,r=r|0,At(t,r,wt(44220)|0)}function h3(t,r){t=t|0,r=r|0,At(t,r,wt(44212)|0)}function d3(t,r){t=t|0,r=r|0,At(t,r,wt(44280)|0)}function p3(t,r){t=t|0,r=r|0,At(t,r,wt(44288)|0)}function m3(t,r){t=t|0,r=r|0,At(t,r,wt(44344)|0)}function g3(t,r){t=t|0,r=r|0,At(t,r,wt(44352)|0)}function v3(t,r){t=t|0,r=r|0,At(t,r,wt(44360)|0)}function S3(t,r){t=t|0,r=r|0,At(t,r,wt(44368)|0)}function w3(t,r){t=t|0,r=r|0,At(t,r,wt(43260)|0)}function A3(t,r){t=t|0,r=r|0,At(t,r,wt(43332)|0)}function y3(t,r){t=t|0,r=r|0,At(t,r,wt(43392)|0)}function _3(t,r){t=t|0,r=r|0,At(t,r,wt(43452)|0)}function x3(t,r){t=t|0,r=r|0,At(t,r,wt(43764)|0)}function T3(t,r){t=t|0,r=r|0,At(t,r,wt(43828)|0)}function I3(t,r){t=t|0,r=r|0,At(t,r,wt(43892)|0)}function C3(t,r){t=t|0,r=r|0,At(t,r,wt(43956)|0)}function E3(t,r){t=t|0,r=r|0,At(t,r,wt(43992)|0)}function b3(t,r){t=t|0,r=r|0,At(t,r,wt(44028)|0)}function k3(t,r){t=t|0,r=r|0,At(t,r,wt(44064)|0)}function D3(t,r){t=t|0,r=r|0,At(t,r,wt(44100)|0)}function P3(t,r){t=t|0,r=r|0,At(t,r,wt(43544)|0)}function F3(t,r){t=t|0,r=r|0,At(t,r,wt(43636)|0)}function M3(t,r){t=t|0,r=r|0,At(t,r,wt(43668)|0)}function R3(t,r){t=t|0,r=r|0,At(t,r,wt(43700)|0)}function O3(t,r){t=t|0,r=r|0,At(t,r,wt(44140)|0)}function L3(t,r){t=t|0,r=r|0,At(t,r,wt(44180)|0)}function En(t){t=t|0;var r=0,o=0,s=0;o=e[t>>2]|0;do if(o){if(s=t+4|0,r=e[s>>2]|0,(r|0)!=(o|0)){do r=r+-4|0;while((r|0)!=(o|0));e[s>>2]=r}if((t+16|0)==(o|0)){m[t+128>>0]=0;break}else{ue(o);break}}while(!1)}function N3(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0;if(c=t+4|0,o=e[c>>2]|0,s=e[t>>2]|0,a=o-s>>2,a>>>0>=r>>>0){if(a>>>0>r>>>0&&(f=s+(r<<2)|0,(o|0)!=(f|0))){do o=o+-4|0;while((o|0)!=(f|0));e[c>>2]=o}}else Z3(t,r-a|0)}function B3(t,r){t=t|0,r=r|0;var o=0;return o=e[t+8>>2]|0,(e[t+12>>2]|0)-o>>2>>>0>r>>>0?o=(e[o+(r<<2)>>2]|0)!=0:o=0,o|0}function U3(t){t=t|0;var r=0,o=0;o=t+4|0,r=e[o>>2]|0,o=e[o+4>>2]|0,t=(e[t>>2]|0)+(o>>1)|0,o&1&&(r=e[(e[t>>2]|0)+r>>2]|0),T0[r&255](t)}function V3(t,r,o,s,a,f,c,S){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0;var A=0,I=0;e[o>>2]=t,e[f>>2]=s,S&2?(a-s|0)<3?t=1:(e[f>>2]=s+1,m[s>>0]=-17,A=e[f>>2]|0,e[f>>2]=A+1,m[A>>0]=-69,A=e[f>>2]|0,e[f>>2]=A+1,m[A>>0]=-65,A=4):A=4;e:do if((A|0)==4)if(I=r,t=e[o>>2]|0,t>>>0<r>>>0)for(;;){if(S=y[t>>1]|0,A=S&65535,A>>>0>c>>>0){t=2;break e}do if((S&65535)<128){if(t=e[f>>2]|0,(a-t|0)<1){t=1;break e}e[f>>2]=t+1,m[t>>0]=S}else{if((S&65535)<2048){if(t=e[f>>2]|0,(a-t|0)<2){t=1;break e}e[f>>2]=t+1,m[t>>0]=A>>>6|192,s=e[f>>2]|0,e[f>>2]=s+1,m[s>>0]=A&63|128;break}if((S&65535)<55296){if(t=e[f>>2]|0,(a-t|0)<3){t=1;break e}e[f>>2]=t+1,m[t>>0]=A>>>12|224,s=e[f>>2]|0,e[f>>2]=s+1,m[s>>0]=A>>>6&63|128,s=e[f>>2]|0,e[f>>2]=s+1,m[s>>0]=A&63|128;break}if((S&65535)>=56320){if((S&65535)<57344){t=2;break e}if(t=e[f>>2]|0,(a-t|0)<3){t=1;break e}e[f>>2]=t+1,m[t>>0]=A>>>12|224,s=e[f>>2]|0,e[f>>2]=s+1,m[s>>0]=A>>>6&63|128,s=e[f>>2]|0,e[f>>2]=s+1,m[s>>0]=A&63|128;break}if((I-t|0)<4){t=1;break e}if(t=t+2|0,S=O[t>>1]|0,(S&64512|0)!=56320){t=2;break e}if((a-(e[f>>2]|0)|0)<4){t=1;break e}if(s=A&960,((s<<10)+65536|A<<10&64512|S&1023)>>>0>c>>>0){t=2;break e}e[o>>2]=t,t=(s>>>6)+1|0,s=e[f>>2]|0,e[f>>2]=s+1,m[s>>0]=t>>>2|240,s=e[f>>2]|0,e[f>>2]=s+1,m[s>>0]=A>>>2&15|t<<4&48|128,s=e[f>>2]|0,e[f>>2]=s+1,m[s>>0]=A<<4&48|S>>>6&15|128,A=e[f>>2]|0,e[f>>2]=A+1,m[A>>0]=S&63|128}while(!1);if(t=(e[o>>2]|0)+2|0,e[o>>2]=t,t>>>0>=r>>>0){t=0;break}}else t=0;while(!1);return t|0}function z3(t,r,o,s,a,f,c,S){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0;var A=0,I=0,T=0,k=0,D=0,F=0;e[o>>2]=t,e[f>>2]=s,S&4?(t=e[o>>2]|0,S=r,(S-t|0)>2&&(m[t>>0]|0)==-17&&(m[t+1>>0]|0)==-69&&(m[t+2>>0]|0)==-65?(e[o>>2]=t+3,A=e[f>>2]|0):A=s):(A=s,S=r),D=a,s=e[o>>2]|0,t=s>>>0<r>>>0;e:do if(t&A>>>0<a>>>0)for(;;){if(t=m[s>>0]|0,T=t&255,T>>>0>c>>>0){t=2;break e}do if(t<<24>>24>-1)y[A>>1]=t&255,e[o>>2]=s+1;else{if((t&255)<194){t=2;break e}if((t&255)<224){if((S-s|0)<2){t=1;break e}if(t=P[s+1>>0]|0,(t&192|0)!=128){t=2;break e}if(t=t&63|T<<6&1984,t>>>0>c>>>0){t=2;break e}y[A>>1]=t,e[o>>2]=s+2;break}if((t&255)<240){if((S-s|0)<3){t=1;break e}switch(I=m[s+1>>0]|0,t=m[s+2>>0]|0,T|0){case 224:{if((I&-32)<<24>>24!=-96){t=2;break e}break}case 237:{if((I&-32)<<24>>24!=-128){t=2;break e}break}default:if((I&-64)<<24>>24!=-128){t=2;break e}}if(t=t&255,(t&192|0)!=128){t=2;break e}if(t=(I&255)<<6&4032|T<<12|t&63,(t&65535)>>>0>c>>>0){t=2;break e}y[A>>1]=t,e[o>>2]=s+3;break}if((t&255)>=245){t=2;break e}if((S-s|0)<4){t=1;break e}switch(I=m[s+1>>0]|0,t=m[s+2>>0]|0,s=m[s+3>>0]|0,T|0){case 240:{if((I+112&255)>=48){t=2;break e}break}case 244:{if((I&-16)<<24>>24!=-128){t=2;break e}break}default:if((I&-64)<<24>>24!=-128){t=2;break e}}if(k=t&255,(k&192|0)!=128){t=2;break e}if(t=s&255,(t&192|0)!=128){t=2;break e}if((D-A|0)<4){t=1;break e}if(T=T&7,s=I&255,I=k<<6,t=t&63,(s<<12&258048|T<<18|I&4032|t)>>>0>c>>>0){t=2;break e}y[A>>1]=s<<2&60|k>>>4&3|((s>>>4&3|T<<2)<<6)+16320|55296,k=A+2|0,e[f>>2]=k,y[k>>1]=t|I&960|56320,e[o>>2]=(e[o>>2]|0)+4}while(!1);if(A=(e[f>>2]|0)+2|0,e[f>>2]=A,s=e[o>>2]|0,t=s>>>0<r>>>0,!(t&A>>>0<a>>>0)){F=39;break}}else F=39;while(!1);return(F|0)==39&&(t=t&1),t|0}function q3(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0;k=r,a&4|0&&(k-t|0)>2&&(m[t>>0]|0)==-17&&(m[t+1>>0]|0)==-69?a=(m[t+2>>0]|0)==-65?t+3|0:t:a=t;e:do if((o|0)!=0&a>>>0<r>>>0){T=a,f=0;t:for(;;){if(a=m[T>>0]|0,I=a&255,I>>>0>s>>>0){a=T,f=42;break e}do if(a<<24>>24>-1)a=T+1|0;else{if((a&255)<194){a=T,f=42;break e}if((a&255)<224){if((k-T|0)<2){a=T,f=42;break e}if(a=P[T+1>>0]|0,(a&192|0)!=128){a=T,f=42;break e}if((a&63|I<<6&1984)>>>0>s>>>0){a=T,f=42;break e}a=T+2|0;break}if((a&255)<240){if(a=T,(k-a|0)<3){a=T,f=42;break e}switch(S=m[T+1>>0]|0,c=m[T+2>>0]|0,I|0){case 224:{if((S&-32)<<24>>24!=-96){f=20;break t}break}case 237:{if((S&-32)<<24>>24!=-128){f=22;break t}break}default:if((S&-64)<<24>>24!=-128){f=24;break t}}if(a=c&255,(a&192|0)!=128){a=T,f=42;break e}if(((S&255)<<6&4032|I<<12&61440|a&63)>>>0>s>>>0){a=T,f=42;break e}a=T+3|0;break}if((a&255)>=245){a=T,f=42;break e}if(a=T,(o-f|0)>>>0<2|(k-a|0)<4){a=T,f=42;break e}switch(A=m[T+1>>0]|0,c=m[T+2>>0]|0,S=m[T+3>>0]|0,I|0){case 240:{if((A+112&255)>=48){f=32;break t}break}case 244:{if((A&-16)<<24>>24!=-128){f=34;break t}break}default:if((A&-64)<<24>>24!=-128){f=36;break t}}if(c=c&255,(c&192|0)!=128){a=T,f=42;break e}if(a=S&255,(a&192|0)!=128){a=T,f=42;break e}if(((A&255)<<12&258048|I<<18&1835008|c<<6&4032|a&63)>>>0>s>>>0){a=T,f=42;break e}a=T+4|0,f=f+1|0}while(!1);if(f=f+1|0,f>>>0<o>>>0&a>>>0<r>>>0)T=a;else{f=42;break e}}if((f|0)==20){a=a-t|0;break}else if((f|0)==22){a=a-t|0;break}else if((f|0)==24){a=a-t|0;break}else if((f|0)==32){a=a-t|0;break}else if((f|0)==34){a=a-t|0;break}else if((f|0)==36){a=a-t|0;break}}else f=42;while(!1);return(f|0)==42&&(a=a-t|0),a|0}function G3(t,r,o,s,a,f,c,S){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0;var A=0,I=0;e[o>>2]=t,e[f>>2]=s,I=a,S&2?(I-s|0)<3?t=1:(e[f>>2]=s+1,m[s>>0]=-17,A=e[f>>2]|0,e[f>>2]=A+1,m[A>>0]=-69,A=e[f>>2]|0,e[f>>2]=A+1,m[A>>0]=-65,A=4):A=4;e:do if((A|0)==4)if(t=e[o>>2]|0,t>>>0<r>>>0)for(;;){if(S=e[t>>2]|0,S>>>0>c>>>0|(S&-2048|0)==55296){t=2;break e}do if(S>>>0>=128){if(S>>>0<2048){if(t=e[f>>2]|0,(I-t|0)<2){t=1;break e}e[f>>2]=t+1,m[t>>0]=S>>>6|192,A=e[f>>2]|0,e[f>>2]=A+1,m[A>>0]=S&63|128;break}if(t=e[f>>2]|0,a=I-t|0,S>>>0<65536){if((a|0)<3){t=1;break e}e[f>>2]=t+1,m[t>>0]=S>>>12|224,A=e[f>>2]|0,e[f>>2]=A+1,m[A>>0]=S>>>6&63|128,A=e[f>>2]|0,e[f>>2]=A+1,m[A>>0]=S&63|128;break}else{if((a|0)<4){t=1;break e}e[f>>2]=t+1,m[t>>0]=S>>>18|240,A=e[f>>2]|0,e[f>>2]=A+1,m[A>>0]=S>>>12&63|128,A=e[f>>2]|0,e[f>>2]=A+1,m[A>>0]=S>>>6&63|128,A=e[f>>2]|0,e[f>>2]=A+1,m[A>>0]=S&63|128;break}}else{if(t=e[f>>2]|0,(I-t|0)<1){t=1;break e}e[f>>2]=t+1,m[t>>0]=S}while(!1);if(t=(e[o>>2]|0)+4|0,e[o>>2]=t,t>>>0>=r>>>0){t=0;break}}else t=0;while(!1);return t|0}function $3(t,r,o,s,a,f,c,S){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0;var A=0,I=0,T=0,k=0,D=0,F=0;e[o>>2]=t,e[f>>2]=s,S&4?(t=e[o>>2]|0,S=r,(S-t|0)>2&&(m[t>>0]|0)==-17&&(m[t+1>>0]|0)==-69&&(m[t+2>>0]|0)==-65&&(e[o>>2]=t+3,s=e[f>>2]|0),D=S):D=r,S=e[o>>2]|0,t=S>>>0<r>>>0;e:do if(t&s>>>0<a>>>0)for(;;){t=m[S>>0]|0,k=t&255;do if(t<<24>>24>-1){if(k>>>0>c>>>0){t=2;break e}e[s>>2]=k,e[o>>2]=S+1}else{if((t&255)<194){t=2;break e}if((t&255)<224){if((D-S|0)<2){t=1;break e}if(t=P[S+1>>0]|0,(t&192|0)!=128){t=2;break e}if(t=t&63|k<<6&1984,t>>>0>c>>>0){t=2;break e}e[s>>2]=t,e[o>>2]=S+2;break}if((t&255)<240){if((D-S|0)<3){t=1;break e}switch(A=m[S+1>>0]|0,t=m[S+2>>0]|0,k|0){case 224:{if((A&-32)<<24>>24!=-96){t=2;break e}break}case 237:{if((A&-32)<<24>>24!=-128){t=2;break e}break}default:if((A&-64)<<24>>24!=-128){t=2;break e}}if(t=t&255,(t&192|0)!=128){t=2;break e}if(t=(A&255)<<6&4032|k<<12&61440|t&63,t>>>0>c>>>0){t=2;break e}e[s>>2]=t,e[o>>2]=S+3;break}if((t&255)>=245){t=2;break e}if((D-S|0)<4){t=1;break e}switch(T=m[S+1>>0]|0,t=m[S+2>>0]|0,A=m[S+3>>0]|0,k|0){case 240:{if((T+112&255)>=48){t=2;break e}break}case 244:{if((T&-16)<<24>>24!=-128){t=2;break e}break}default:if((T&-64)<<24>>24!=-128){t=2;break e}}if(I=t&255,(I&192|0)!=128){t=2;break e}if(t=A&255,(t&192|0)!=128){t=2;break e}if(t=(T&255)<<12&258048|k<<18&1835008|I<<6&4032|t&63,t>>>0>c>>>0){t=2;break e}e[s>>2]=t,e[o>>2]=S+4}while(!1);if(s=(e[f>>2]|0)+4|0,e[f>>2]=s,S=e[o>>2]|0,t=S>>>0<r>>>0,!(t&s>>>0<a>>>0)){F=38;break}}else F=38;while(!1);return(F|0)==38&&(t=t&1),t|0}function H3(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0;k=r,a&4|0&&(k-t|0)>2&&(m[t>>0]|0)==-17&&(m[t+1>>0]|0)==-69?a=(m[t+2>>0]|0)==-65?t+3|0:t:a=t;e:do if((o|0)!=0&a>>>0<r>>>0){I=a,T=0;t:for(;;){a=m[I>>0]|0,A=a&255;do if(a<<24>>24>-1){if(A>>>0>s>>>0){a=I,f=42;break e}a=I+1|0}else{if((a&255)<194){a=I,f=42;break e}if((a&255)<224){if((k-I|0)<2){a=I,f=42;break e}if(a=P[I+1>>0]|0,(a&192|0)!=128){a=I,f=42;break e}if((a&63|A<<6&1984)>>>0>s>>>0){a=I,f=42;break e}a=I+2|0;break}if((a&255)<240){if(a=I,(k-a|0)<3){a=I,f=42;break e}switch(c=m[I+1>>0]|0,f=m[I+2>>0]|0,A|0){case 224:{if((c&-32)<<24>>24!=-96){f=20;break t}break}case 237:{if((c&-32)<<24>>24!=-128){f=22;break t}break}default:if((c&-64)<<24>>24!=-128){f=24;break t}}if(a=f&255,(a&192|0)!=128){a=I,f=42;break e}if(((c&255)<<6&4032|A<<12&61440|a&63)>>>0>s>>>0){a=I,f=42;break e}a=I+3|0;break}if((a&255)>=245){a=I,f=42;break e}if(a=I,(k-a|0)<4){a=I,f=42;break e}switch(S=m[I+1>>0]|0,f=m[I+2>>0]|0,c=m[I+3>>0]|0,A|0){case 240:{if((S+112&255)>=48){f=32;break t}break}case 244:{if((S&-16)<<24>>24!=-128){f=34;break t}break}default:if((S&-64)<<24>>24!=-128){f=36;break t}}if(f=f&255,(f&192|0)!=128){a=I,f=42;break e}if(a=c&255,(a&192|0)!=128){a=I,f=42;break e}if(((S&255)<<12&258048|A<<18&1835008|f<<6&4032|a&63)>>>0>s>>>0){a=I,f=42;break e}a=I+4|0}while(!1);if(T=T+1|0,T>>>0<o>>>0&a>>>0<r>>>0)I=a;else{f=42;break e}}if((f|0)==20){a=a-t|0;break}else if((f|0)==22){a=a-t|0;break}else if((f|0)==24){a=a-t|0;break}else if((f|0)==32){a=a-t|0;break}else if((f|0)==34){a=a-t|0;break}else if((f|0)==36){a=a-t|0;break}}else f=42;while(!1);return(f|0)==42&&(a=a-t|0),a|0}function W3(t){t=t|0,fe(45196),fe(45184),fe(45172),fe(45160),fe(45148),fe(45136),fe(45124),fe(45112),fe(45100),fe(45088),fe(45076),fe(45064),fe(45052),fe(45040)}function Q3(t){t=t|0,E0(45368),E0(45356),E0(45344),E0(45332),E0(45320),E0(45308),E0(45296),E0(45284),E0(45272),E0(45260),E0(45248),E0(45236),E0(45224),E0(45212)}function j3(t){t=t|0,fe(46e3),fe(45988),fe(45976),fe(45964),fe(45952),fe(45940),fe(45928),fe(45916),fe(45904),fe(45892),fe(45880),fe(45868),fe(45856),fe(45844),fe(45832),fe(45820),fe(45808),fe(45796),fe(45784),fe(45772),fe(45760),fe(45748),fe(45736),fe(45724)}function Y3(t){t=t|0,E0(46292),E0(46280),E0(46268),E0(46256),E0(46244),E0(46232),E0(46220),E0(46208),E0(46196),E0(46184),E0(46172),E0(46160),E0(46148),E0(46136),E0(46124),E0(46112),E0(46100),E0(46088),E0(46076),E0(46064),E0(46052),E0(46040),E0(46028),E0(46016)}function K3(t){t=t|0,fe(47104),fe(47092),fe(47080),fe(47068),fe(47056),fe(47044),fe(47032),fe(47020),fe(47008),fe(46996),fe(46984),fe(46972),fe(46960),fe(46948),fe(46936),fe(46924),fe(46912),fe(46900),fe(46888),fe(46876),fe(46864),fe(46852),fe(46840),fe(46828)}function X3(t){t=t|0,E0(47396),E0(47384),E0(47372),E0(47360),E0(47348),E0(47336),E0(47324),E0(47312),E0(47300),E0(47288),E0(47276),E0(47264),E0(47252),E0(47240),E0(47228),E0(47216),E0(47204),E0(47192),E0(47180),E0(47168),E0(47156),E0(47144),E0(47132),E0(47120)}function Z3(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0;A=b,b=b+32|0,S=A,f=e[t+8>>2]|0,o=e[t+4>>2]|0,f-o>>2>>>0<r>>>0?(s=e[t>>2]|0,c=o-s>>2,a=c+r|0,a>>>0>1073741823&&hi(t),o=f-s|0,o>>2>>>0<536870911?(o=o>>1,o=o>>>0<a>>>0?a:o):o=1073741823,J3(S,o,c,t+16|0),c=S+8|0,f=e[c>>2]|0,j0(f|0,0,r<<2|0)|0,e[c>>2]=f+(r<<2),e5(t,S),t5(S)):fs(t,r),b=A}function fs(t,r){t=t|0,r=r|0;var o=0;o=t+4|0,t=r,r=e[o>>2]|0;do e[r>>2]=0,r=(e[o>>2]|0)+4|0,e[o>>2]=r,t=t+-1|0;while(t|0)}function J3(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0;e[t+12>>2]=0,e[t+16>>2]=s;do if(r)if(a=s+112|0,r>>>0<29&(m[a>>0]|0)==0){m[a>>0]=1;break}else{s=We(r<<2)|0;break}else s=0;while(!1);e[t>>2]=s,o=s+(o<<2)|0,e[t+8>>2]=o,e[t+4>>2]=o,e[t+12>>2]=s+(r<<2)}function e5(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0;s=e[t>>2]|0,f=t+4|0,o=r+4|0,a=(e[f>>2]|0)-s|0,c=(e[o>>2]|0)+(0-(a>>2)<<2)|0,e[o>>2]=c,nt(c|0,s|0,a|0)|0,a=e[t>>2]|0,e[t>>2]=e[o>>2],e[o>>2]=a,a=r+8|0,s=e[f>>2]|0,e[f>>2]=e[a>>2],e[a>>2]=s,a=t+8|0,t=r+12|0,s=e[a>>2]|0,e[a>>2]=e[t>>2],e[t>>2]=s,e[r>>2]=e[o>>2]}function t5(t){t=t|0;var r=0,o=0,s=0;if(o=e[t+4>>2]|0,s=t+8|0,r=e[s>>2]|0,(r|0)!=(o|0)){do r=r+-4|0;while((r|0)!=(o|0));e[s>>2]=r}o=e[t>>2]|0;do if(o)if(r=e[t+16>>2]|0,(r|0)==(o|0)){m[r+112>>0]=0;break}else{ue(o);break}while(!1)}function i5(t,r){t=t|0,r=r|0;var o=0;r>>>0>1073741823&&hi(t),o=t+128|0,r>>>0<29&(m[o>>0]|0)==0?(m[o>>0]=1,o=t+16|0):o=We(r<<2)|0,e[t+4>>2]=o,e[t>>2]=o,e[t+8>>2]=o+(r<<2)}function r5(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0;S=b,b=b+16|0,c=S;do if((t|0)!=(r|0)){if(a=gt()|0,f=e[a>>2]|0,e[a>>2]=0,s=+Ln(t,c,Et()|0),t=e[a>>2]|0,t||(e[a>>2]=f),(e[c>>2]|0)!=(r|0)){e[o>>2]=4,s=0;break}(t|0)==34&&(e[o>>2]=4)}else e[o>>2]=4,s=0;while(!1);return b=S,+s}function n5(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0;S=b,b=b+16|0,c=S;do if((t|0)!=(r|0)){if(a=gt()|0,f=e[a>>2]|0,e[a>>2]=0,s=+Ln(t,c,Et()|0),t=e[a>>2]|0,t||(e[a>>2]=f),(e[c>>2]|0)!=(r|0)){e[o>>2]=4,s=0;break}(t|0)==34&&(e[o>>2]=4)}else e[o>>2]=4,s=0;while(!1);return b=S,+s}function o5(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0;S=b,b=b+16|0,c=S;do if((t|0)==(r|0))e[o>>2]=4,s=0;else{if(a=gt()|0,f=e[a>>2]|0,e[a>>2]=0,s=+Ln(t,c,Et()|0),t=e[a>>2]|0,t||(e[a>>2]=f),(e[c>>2]|0)!=(r|0)){e[o>>2]=4,s=0;break}(t|0)==34&&(e[o>>2]=4)}while(!1);return b=S,+s}function s5(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0;S=b,b=b+16|0,c=S;do if((t|0)!=(r|0)){if((m[t>>0]|0)==45){e[o>>2]=4,s=0,t=0;break}if(a=gt()|0,f=e[a>>2]|0,e[a>>2]=0,t=Dr(t,c,s,Et()|0)|0,s=e[a>>2]|0,s||(e[a>>2]=f),(e[c>>2]|0)!=(r|0)){e[o>>2]=4,s=0,t=0;break}(s|0)==34?(e[o>>2]=4,s=-1,t=-1):s=xe}else e[o>>2]=4,s=0,t=0;while(!1);return xe=s,b=S,t|0}function a5(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0;A=b,b=b+16|0,S=A;do if((t|0)!=(r|0)){if((m[t>>0]|0)==45){e[o>>2]=4,t=0;break}if(f=gt()|0,c=e[f>>2]|0,e[f>>2]=0,t=Dr(t,S,s,Et()|0)|0,s=xe,a=e[f>>2]|0,a||(e[f>>2]=c),(e[S>>2]|0)!=(r|0)){e[o>>2]=4,t=0;break}if(s>>>0>0|(s|0)==0&t>>>0>4294967295|(a|0)==34){e[o>>2]=4,t=-1;break}else break}else e[o>>2]=4,t=0;while(!1);return b=A,t|0}function l5(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0;A=b,b=b+16|0,S=A;do if((t|0)!=(r|0)){if((m[t>>0]|0)==45){e[o>>2]=4,t=0;break}if(f=gt()|0,c=e[f>>2]|0,e[f>>2]=0,t=Dr(t,S,s,Et()|0)|0,s=xe,a=e[f>>2]|0,a||(e[f>>2]=c),(e[S>>2]|0)!=(r|0)){e[o>>2]=4,t=0;break}if(s>>>0>0|(s|0)==0&t>>>0>4294967295|(a|0)==34){e[o>>2]=4,t=-1;break}else break}else e[o>>2]=4,t=0;while(!1);return b=A,t|0}function u5(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0;A=b,b=b+16|0,S=A;do if((t|0)!=(r|0)){if((m[t>>0]|0)==45){e[o>>2]=4,t=0;break}if(f=gt()|0,c=e[f>>2]|0,e[f>>2]=0,t=Dr(t,S,s,Et()|0)|0,s=xe,a=e[f>>2]|0,a||(e[f>>2]=c),(e[S>>2]|0)!=(r|0)){e[o>>2]=4,t=0;break}if(s>>>0>0|(s|0)==0&t>>>0>65535|(a|0)==34){e[o>>2]=4,t=-1;break}else{t=t&65535;break}}else e[o>>2]=4,t=0;while(!1);return b=A,t|0}function f5(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0;A=b,b=b+16|0,S=A;do if((t|0)!=(r|0)){if(f=gt()|0,c=e[f>>2]|0,e[f>>2]=0,t=Ts(t,S,s,Et()|0)|0,s=xe,a=e[f>>2]|0,a||(e[f>>2]=c),(e[S>>2]|0)!=(r|0)){e[o>>2]=4,s=0,t=0;break}if((a|0)==34)return e[o>>2]=4,S=(s|0)>0|(s|0)==0&t>>>0>0,xe=S?2147483647:-2147483648,b=A,(S?-1:0)|0}else e[o>>2]=4,s=0,t=0;while(!1);return xe=s,b=A,t|0}function c5(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0;A=b,b=b+16|0,S=A;e:do if((t|0)==(r|0))e[o>>2]=4,t=0;else{if(f=gt()|0,c=e[f>>2]|0,e[f>>2]=0,t=Ts(t,S,s,Et()|0)|0,s=xe,a=e[f>>2]|0,a||(e[f>>2]=c),(e[S>>2]|0)!=(r|0)){e[o>>2]=4,t=0;break}do if((a|0)==34){if(e[o>>2]=4,(s|0)>0|(s|0)==0&t>>>0>0){t=2147483647;break e}}else{if((s|0)<-1|(s|0)==-1&t>>>0<2147483648){e[o>>2]=4;break}if((s|0)>0|(s|0)==0&t>>>0>2147483647){e[o>>2]=4,t=2147483647;break e}else break e}while(!1);t=-2147483648}while(!1);return b=A,t|0}function h5(){}function ei(t,r,o,s){return t=t|0,r=r|0,o=o|0,s=s|0,s=r-s-(o>>>0>t>>>0|0)>>>0,xe=s,t-o>>>0|0|0}function j0(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0;if(s=t+o|0,(o|0)>=20){if(r=r&255,f=t&3,c=r|r<<8|r<<16|r<<24,a=s&-4,f)for(f=t+4-f|0;(t|0)<(f|0);)m[t>>0]=r,t=t+1|0;for(;(t|0)<(a|0);)e[t>>2]=c,t=t+4|0}for(;(t|0)<(s|0);)m[t>>0]=r,t=t+1|0;return t-o|0}function Lt(t,r,o,s){return t=t|0,r=r|0,o=o|0,s=s|0,o=t+o>>>0,xe=r+s+(o>>>0<t>>>0|0)>>>0,o|0|0}function Ci(t,r,o){return t=t|0,r=r|0,o=o|0,(o|0)<32?(xe=r>>>o,t>>>o|(r&(1<<o)-1)<<32-o):(xe=0,r>>>o-32|0)}function nt(t,r,o){t=t|0,r=r|0,o=o|0;var s=0;if((o|0)>=4096)return ea(t|0,r|0,o|0)|0;if(s=t|0,(t&3)==(r&3)){for(;t&3;){if(!o)return s|0;m[t>>0]=m[r>>0]|0,t=t+1|0,r=r+1|0,o=o-1|0}for(;(o|0)>=4;)e[t>>2]=e[r>>2],t=t+4|0,r=r+4|0,o=o-4|0}for(;(o|0)>0;)m[t>>0]=m[r>>0]|0,t=t+1|0,r=r+1|0,o=o-1|0;return s|0}function St(t,r,o){return t=t|0,r=r|0,o=o|0,(o|0)<32?(xe=r<<o|(t&(1<<o)-1<<32-o)>>>32-o,t<<o):(xe=t<<o-32,0)}function yr(t,r,o){t=t|0,r=r|0,o=o|0;var s=0;if((r|0)<(t|0)&(t|0)<(r+o|0)){for(s=t,r=r+o|0,t=t+o|0;(o|0)>0;)t=t-1|0,r=r-1|0,o=o-1|0,m[t>>0]=m[r>>0]|0;t=s}else nt(t,r,o)|0;return t|0}function A8(t,r,o){return t=t|0,r=r|0,o=o|0,(o|0)<32?(xe=r>>o,t>>>o|(r&(1<<o)-1)<<32-o):(xe=(r|0)<0?-1:0,r>>o-32|0)}function cs(t){t=t|0;var r=0;return r=m[X+(t&255)>>0]|0,(r|0)<8?r|0:(r=m[X+(t>>8&255)>>0]|0,(r|0)<8?r+8|0:(r=m[X+(t>>16&255)>>0]|0,(r|0)<8?r+16|0:(m[X+(t>>>24)>>0]|0)+24|0))}function d5(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0;return f=t&65535,a=r&65535,o=J(a,f)|0,s=t>>>16,t=(o>>>16)+(J(a,s)|0)|0,a=r>>>16,r=J(a,f)|0,xe=(t>>>16)+(J(a,s)|0)+(((t&65535)+r|0)>>>16)|0,t+r<<16|o&65535|0|0}function y8(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0;return I=r>>31|((r|0)<0?-1:0)<<1,A=((r|0)<0?-1:0)>>31|((r|0)<0?-1:0)<<1,f=s>>31|((s|0)<0?-1:0)<<1,a=((s|0)<0?-1:0)>>31|((s|0)<0?-1:0)<<1,S=ei(I^t,A^r,I,A)|0,c=xe,t=f^I,r=a^A,ei((xr(S,c,ei(f^o,a^s,f,a)|0,xe,0)|0)^t,xe^r,t,r)|0}function _8(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0;return a=b,b=b+16|0,S=a|0,c=r>>31|((r|0)<0?-1:0)<<1,f=((r|0)<0?-1:0)>>31|((r|0)<0?-1:0)<<1,I=s>>31|((s|0)<0?-1:0)<<1,A=((s|0)<0?-1:0)>>31|((s|0)<0?-1:0)<<1,t=ei(c^t,f^r,c,f)|0,r=xe,xr(t,r,ei(I^o,A^s,I,A)|0,xe,S)|0,s=ei(e[S>>2]^c,e[S+4>>2]^f,c,f)|0,o=xe,b=a,xe=o,s|0}function Wi(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0;return a=t,f=o,o=d5(a,f)|0,t=xe,xe=(J(r,f)|0)+(J(s,a)|0)+t|t&0,o|0|0|0}function _r(t,r,o,s){return t=t|0,r=r|0,o=o|0,s=s|0,xr(t,r,o,s,0)|0}function bn(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0;return f=b,b=b+16|0,a=f|0,xr(t,r,o,s,a)|0,b=f,xe=e[a+4>>2]|0,e[a>>2]|0|0}function xr(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;if(T=t,A=r,I=A,c=o,D=s,S=D,!I)return f=(a|0)!=0,S?f?(e[a>>2]=t|0,e[a+4>>2]=r&0,D=0,a=0,xe=D,a|0):(D=0,a=0,xe=D,a|0):(f&&(e[a>>2]=(T>>>0)%(c>>>0),e[a+4>>2]=0),D=0,a=(T>>>0)/(c>>>0)>>>0,xe=D,a|0);f=(S|0)==0;do if(c){if(!f){if(f=(Je(S|0)|0)-(Je(I|0)|0)|0,f>>>0<=31){k=f+1|0,S=31-f|0,r=f-31>>31,c=k,t=T>>>(k>>>0)&r|I<<S,r=I>>>(k>>>0)&r,f=0,S=T<<S;break}return a?(e[a>>2]=t|0,e[a+4>>2]=A|r&0,D=0,a=0,xe=D,a|0):(D=0,a=0,xe=D,a|0)}if(f=c-1|0,f&c){S=(Je(c|0)|0)+33-(Je(I|0)|0)|0,N=64-S|0,k=32-S|0,A=k>>31,F=S-32|0,r=F>>31,c=S,t=k-1>>31&I>>>(F>>>0)|(I<<k|T>>>(S>>>0))&r,r=r&I>>>(S>>>0),f=T<<N&A,S=(I<<N|T>>>(F>>>0))&A|T<<k&S-33>>31;break}return a&&(e[a>>2]=f&T,e[a+4>>2]=0),(c|0)==1?(F=A|r&0,N=t|0|0,xe=F,N|0):(N=cs(c|0)|0,F=I>>>(N>>>0)|0,N=I<<32-N|T>>>(N>>>0)|0,xe=F,N|0)}else{if(f)return a&&(e[a>>2]=(I>>>0)%(c>>>0),e[a+4>>2]=0),F=0,N=(I>>>0)/(c>>>0)>>>0,xe=F,N|0;if(!T)return a&&(e[a>>2]=0,e[a+4>>2]=(I>>>0)%(S>>>0)),F=0,N=(I>>>0)/(S>>>0)>>>0,xe=F,N|0;if(f=S-1|0,!(f&S))return a&&(e[a>>2]=t|0,e[a+4>>2]=f&I|r&0),F=0,N=I>>>((cs(S|0)|0)>>>0),xe=F,N|0;if(f=(Je(S|0)|0)-(Je(I|0)|0)|0,f>>>0<=30){r=f+1|0,S=31-f|0,c=r,t=I<<S|T>>>(r>>>0),r=I>>>(r>>>0),f=0,S=T<<S;break}return a?(e[a>>2]=t|0,e[a+4>>2]=A|r&0,F=0,N=0,xe=F,N|0):(F=0,N=0,xe=F,N|0)}while(!1);if(!c)I=S,A=0,S=0;else{k=o|0|0,T=D|s&0,I=Lt(k|0,T|0,-1,-1)|0,o=xe,A=S,S=0;do s=A,A=f>>>31|A<<1,f=S|f<<1,s=t<<1|s>>>31|0,D=t>>>31|r<<1|0,ei(I,o,s,D)|0,N=xe,F=N>>31|((N|0)<0?-1:0)<<1,S=F&1,t=ei(s,D,F&k,(((N|0)<0?-1:0)>>31|((N|0)<0?-1:0)<<1)&T)|0,r=xe,c=c-1|0;while(c|0);I=A,A=0}return c=0,a&&(e[a>>2]=t,e[a+4>>2]=r),F=(f|0)>>>31|(I|c)<<1|(c<<1|f>>>31)&0|A,N=(f<<1|0)&-2|S,xe=F,N|0}function p5(t,r,o,s,a,f,c,S){return t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0,Qv[t&15](r|0,o|0,s|0,a|0,f|0,c|0,S|0)|0}function m5(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,Nr[t&15](r|0,o|0,s|0,a|0,f|0)}function g5(t,r,o,s,a,f,c){return t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=+c,jv[t&3](r|0,o|0,s|0,a|0,f|0,+c)|0}function v5(t,r){t=t|0,r=r|0,T0[t&255](r|0)}function S5(t,r,o){t=t|0,r=r|0,o=o|0,K0[t&127](r|0,o|0)}function w5(t,r,o,s,a,f,c){return t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,nr[t&63](r|0,o|0,s|0,a|0,f|0,c|0)|0}function A5(t,r){return t=t|0,r=r|0,A0[t&127](r|0)|0}function y5(t,r,o,s,a,f,c,S,A,I,T,k){return t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0,A=A|0,I=I|0,T=T|0,k=k|0,Yv[t&3](r|0,o|0,s|0,a|0,f|0,c|0,S|0,A|0,I|0,T|0,k|0)|0}function _5(t,r,o,s){return t=t|0,r=r|0,o=o|0,s=s|0,G0[t&63](r|0,o|0,s|0)|0}function x5(t,r,o,s,a,f,c,S,A,I,T,k,D,F,N,z){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0,A=A|0,I=I|0,T=T|0,k=k|0,D=D|0,F=F|0,N=N|0,z=z|0,Kv[t&3](r|0,o|0,s|0,a|0,f|0,c|0,S|0,A|0,I|0,T|0,k|0,D|0,F|0,N|0,z|0)}function T5(t,r,o,s,a,f,c){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,Ui[t&15](r|0,o|0,s|0,a|0,f|0,c|0)}function I5(t,r,o,s,a,f,c,S){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0,Xv[t&7](r|0,o|0,s|0,a|0,f|0,c|0,S|0)}function C5(t,r,o,s,a,f,c,S,A,I,T){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0,A=A|0,I=I|0,T=T|0,Zv[t&7](r|0,o|0,s|0,a|0,f|0,c|0,S|0,A|0,I|0,T|0)}function E5(t,r,o){return t=t|0,r=r|0,o=o|0,Ut[t&63](r|0,o|0)|0}function b5(t,r,o,s,a,f){return t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,or[t&31](r|0,o|0,s|0,a|0,f|0)|0}function k5(t,r,o,s){return t=t|0,r=r|0,o=o|0,s=s|0,+Jv[t&3](r|0,o|0,s|0)}function D5(t){return t=t|0,e8[t&15]()|0}function P5(t,r,o,s,a){return t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,Un[t&31](r|0,o|0,s|0,a|0)|0}function F5(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0,Br[t&15](r|0,o|0,s|0)}function M5(t){t=t|0,Ws[t&7]()}function R5(t,r,o,s,a,f,c,S,A){return t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0,A=A|0,_i[t&15](r|0,o|0,s|0,a|0,f|0,c|0,S|0,A|0)|0}function O5(t,r,o,s,a,f){return t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=+f,t8[t&7](r|0,o|0,s|0,a|0,+f)|0}function L5(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,Ur[t&63](r|0,o|0,s|0,a|0)}function Ei(t,r,o,s,a,f,c){return t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,Qe(0),0}function rr(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,Qe(1)}function hs(t,r,o,s,a,f){return t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=+f,Qe(2),0}function Y0(t){t=t|0,Qe(3)}function kn(t,r){t=t|0,r=r|0,Qe(4)}function bt(t,r,o,s,a,f){return t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,Qe(5),0}function J0(t){return t=t|0,Qe(6),0}function N5(t){return t=t|0,Wn(t|0)|0}function B5(t){return t=t|0,Kn(t|0)|0}function U5(t){return t=t|0,sa(t|0)|0}function ds(t,r,o,s,a,f,c,S,A,I,T){return t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0,A=A|0,I=I|0,T=T|0,Qe(7),0}function _t(t,r,o){return t=t|0,r=r|0,o=o|0,Qe(8),0}function ps(t,r,o,s,a,f,c,S,A,I,T,k,D,F,N){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0,A=A|0,I=I|0,T=T|0,k=k|0,D=D|0,F=F|0,N=N|0,Qe(9)}function bi(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,Qe(10)}function Tr(t,r,o,s,a,f,c){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,Qe(11)}function Ir(t,r,o,s,a,f,c,S,A,I){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0,A=A|0,I=I|0,Qe(12)}function Rt(t,r){return t=t|0,r=r|0,Qe(13),0}function ci(t,r,o,s,a){return t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,Qe(14),0}function V5(t,r,o){return t=t|0,r=r|0,o=o|0,Qe(15),0}function Oi(){return Qe(16),0}function Qi(t,r,o,s){return t=t|0,r=r|0,o=o|0,s=s|0,Qe(17),0}function z5(t,r,o){t=t|0,r=r|0,o=o|0,Qe(18)}function q5(t,r,o){t=t|0,r=r|0,o=o|0,V0(t|0,r|0,o|0)}function ms(){Qe(19)}function G5(){ua()}function $5(){Zt()}function H5(){jn()}function ji(t,r,o,s,a,f,c,S){return t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0,Qe(20),0}function Cr(t,r,o,s,a){return t=t|0,r=r|0,o=o|0,s=s|0,a=+a,Qe(21),0}function $t(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0,Qe(22)}function W5(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0;if(I=b,b=b+32|0,S=I,dt(S,255,0),A=t+152|0,(e[S+4>>2]|0)==(e[A>>2]|0)&&(e[S+8>>2]|0)==(e[t+156>>2]|0)&&(e[S+12>>2]|0)==(e[t+160>>2]|0)){A=e[8900]|0,e[t+4580>>2]=A+(((e[8901]|0)-A|0)>>>1),b=I;return}for(o=t+4584|0,s=t+4588|0,a=e[s>>2]|0,r=e[o>>2]|0,f=a-r|0,f>>>0>=512?f>>>0>512&&(c=r+512|0,(a|0)!=(c|0))&&(e[s>>2]=c):(jt(o,512-f|0),r=e[o>>2]|0),S=t+4580|0,e[S>>2]=r+256,c=t+160|0,a=t+156|0,f=-256;;){if(r=e[c>>2]|0,(f|0)>(0-r|0))if(o=e[a>>2]|0,(f|0)>(0-o|0))if(s=e[A>>2]|0,(f|0)>(0-s|0))if((f|0)>=0){if((f|0)<1){m[(e[S>>2]|0)+f>>0]=0,f=1;continue}(s|0)<=(f|0)?(o|0)>(f|0)?r=2:r=(r|0)>(f|0)?3:4:r=1}else r=-1;else r=-2;else r=-3;else r=-4;if(m[(e[S>>2]|0)+f>>0]=r,f=f+1|0,(f|0)==256)break}b=I}function Q5(t){t=t|0;var r=0,o=0;e[t>>2]=35660,r=e[t+4608>>2]|0,r&&(o=t+4612|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36736,r=e[t+92>>2]|0,r&&(o=t+96|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),t=t+88|0,r=e[t>>2]|0,e[t>>2]=0,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r)}function j5(t){t=t|0;var r=0,o=0;if(e[t>>2]=35660,r=e[t+4608>>2]|0,r&&(o=t+4612|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),e[t>>2]=36736,r=e[t+92>>2]|0,r&&(o=t+96|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r)),o=t+88|0,r=e[o>>2]|0,e[o>>2]=0,!r){ue(t);return}T0[e[(e[r>>2]|0)+4>>2]&255](r),ue(t)}function Y5(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0;if(B=b,b=b+352|0,L=B+328|0,M=B+192|0,o=B+343|0,s=B+342|0,a=B+341|0,f=B+340|0,D=B+176|0,S=B+168|0,A=B+160|0,I=B+152|0,q=B,N=B+136|0,e[t+28>>2]|0&&(e[t+20>>2]|0)!=1){if(F=t+4|0,z=t+32|0,c=e[z>>2]|0,!c){if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[o>>0]|0,Re(44,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}if(t=e[t+12>>2]|0,(t|0)==8)switch(c|0){case 1:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[s>>0]|0,Re(45,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[a>>0]|0,Re(46,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(48)|0,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],m[L>>0]=m[f>>0]|0,Re(47,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=M+56|0,a=M+4|0,e[M>>2]=36160,e[c>>2]=36180,h=0,de(62,M+56|0,a|0),B=h,h=0,B&1&&(R=Q()|0,Ye(c),ne(R|0)),e[M+128>>2]=0,e[M+132>>2]=-1,e[M>>2]=36200,e[M+56>>2]=36220,h=0,oe(180,a|0),B=h,h=0;do if(B&1)t=Q()|0;else{if(e[a>>2]=36236,f=M+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[M+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),B=h,h=0,B&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,M|0,49007,21)|0,L=h,h=0;do if(!(L&1)&&(h=0,T=Ce(36,t|0,e[z>>2]|0)|0,L=h,h=0,!(L&1))&&(h=0,Oe(28,T|0,50997,18)|0,L=h,h=0,!(L&1))){if(s=g0(16)|0,h=0,de(64,D|0,a|0),L=h,h=0,L&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,D|0),L=h,h=0,L&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(D),!o)break;v0(s|0)}else R=34;while(!1);(R|0)==34&&(t=Q()|0),e[M>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}switch((t|0)<=8&&(t=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,t|0,8,35648),R=h,h=0,R&1||V0(t|0,824,96),R=Q()|0,v0(t|0),ne(R|0)),o=16-t|0,c|0){case 1:{if(t=We(60)|0,e[S>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[S>>2],e[L+4>>2]=e[S+4>>2],Re(41,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 2:{if(t=We(60)|0,e[A>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[A>>2],e[L+4>>2]=e[A+4>>2],Re(42,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}case 3:{if(t=We(60)|0,e[I>>2]=o,h=0,e[M>>2]=e[r>>2],e[M+4>>2]=e[r+4>>2],e[M+8>>2]=e[r+8>>2],e[L>>2]=e[I>>2],e[L+4>>2]=e[I+4>>2],Re(43,t|0,M|0,F|0,L|0),R=h,h=0,!(R&1))return R=t,b=B,R|0;R=Q()|0,ue(t),ne(R|0)}default:{c=q+56|0,a=q+4|0,e[q>>2]=36160,e[c>>2]=36180,h=0,de(62,q+56|0,a|0),M=h,h=0,M&1&&(R=Q()|0,Ye(c),ne(R|0)),e[q+128>>2]=0,e[q+132>>2]=-1,e[q>>2]=36200,e[q+56>>2]=36220,h=0,oe(180,a|0),M=h,h=0;do if(M&1)t=Q()|0;else{if(e[a>>2]=36236,f=q+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[q+52>>2]=16,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,h=0,de(63,a|0,L|0),M=h,h=0,M&1){t=Q()|0,fe(L),fe(f),h0(a);break}fe(L),h=0,t=Oe(28,q|0,49007,21)|0,M=h,h=0;do if(!(M&1)&&(h=0,k=Ce(36,t|0,e[z>>2]|0)|0,M=h,h=0,!(M&1))&&(h=0,Oe(28,k|0,50997,18)|0,M=h,h=0,!(M&1))){if(s=g0(16)|0,h=0,de(64,N|0,a|0),M=h,h=0,M&1)t=Q()|0;else if(!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,Re(36,s|0,9,35648,N|0),M=h,h=0,M&1?o=1:(h=0,me(6,s|0,824,96),h=0,o=0),t=Q()|0,fe(N),!o)break;v0(s|0)}else R=64;while(!1);(R|0)==64&&(t=Q()|0),e[q>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),R=t,ne(R|0)}while(!1);R=t,Ye(c),ne(R|0)}}}return o=e[r+4>>2]|0,s=We(16)|0,t=e[t+16>>2]|0,o?(e[s>>2]=36108,e[s+4>>2]=o,e[s+8>>2]=1,e[s+12>>2]=t,R=s,b=B,R|0):(R=e[r>>2]|0,e[s>>2]=36132,e[s+4>>2]=R,e[s+8>>2]=1,e[s+12>>2]=t,R=s,b=B,R|0)}function K5(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0;c=b,b=b+32|0,A=c,dt(A,e[t+128>>2]|0,e[t+136>>2]|0),S=e[r+4>>2]|0,f=e[r+8>>2]|0,f=f|0?f:e[A+8>>2]|0,a=e[r+12>>2]|0,a=a|0?a:e[A+12>>2]|0,o=e[r+16>>2]|0,s=e[A+16>>2]|0,e[t+176>>2]=S|0?S:e[A+4>>2]|0,e[t+180>>2]=f,e[t+184>>2]=a,r6(t),a=t+132|0,r=(e[a>>2]|0)+32|0,r=(r|0)<128?2:(r|0)/64|0,f=0;do e[t+188+(f*12|0)>>2]=r,e[t+188+(f*12|0)+4>>2]=0,y[t+188+(f*12|0)+8>>1]=0,y[t+188+(f*12|0)+10>>1]=1,f=f+1|0;while((f|0)!=365);S=(e[a>>2]|0)+32|0,S=(S|0)<128?2:(S|0)/64|0,A=(o|0?o:s)&255,e[t+4568>>2]=S,e[t+4572>>2]=0,m[t+4576>>0]=A,m[t+4577>>0]=1,m[t+4578>>0]=0,e[t+4580>>2]=S,e[t+4584>>2]=1,m[t+4588>>0]=A,m[t+4589>>0]=1,m[t+4590>>0]=0,e[t+4592>>2]=0,b=c}function X5(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0;for(c=t+88|0,f=e[r>>2]|0,e[r>>2]=0,r=e[c>>2]|0,e[c>>2]=f,r&&T0[e[(e[r>>2]|0)+4>>2]&255](r),c=s+4|0,f=e[c>>2]|0,m[t+4620>>0]=a&1,r=t+156|0,e[r>>2]=e[o>>2],e[r+4>>2]=e[o+4>>2],e[r+8>>2]=e[o+8>>2],e[r+12>>2]=e[o+12>>2],Qt(t,s),Z5(t),r=e[t+116>>2]|0,t=e[t+112>>2]|0;a=r+-1|0,o=(m[a>>0]|0)==-1?7:8,!((t|0)<(o|0));)r=a,t=t-o|0;r=r-f|0,a=e[c>>2]|0,a&&(e[c>>2]=a+r,s=s+8|0,e[s>>2]=(e[s>>2]|0)-r)}function Z5(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0;Z=b,b=b+32|0,ee=Z+12|0,K=Z,S=t+172|0,R=(e[S>>2]|0)+4|0,(e[t+28>>2]|0)==1?A=e[t+20>>2]|0:A=1,r=J(A<<1,R)|0,e[ee>>2]=0,se=ee+4|0,e[se>>2]=0,e[ee+8>>2]=0;e:do if(r){if((r|0)<0&&(h=0,oe(178,ee|0),re=h,h=0,re&1)||(M=6),(M|0)==6&&(h=0,o=ce(67,r|0)|0,re=h,h=0,!(re&1))){for(e[se>>2]=o,e[ee>>2]=o,e[ee+8>>2]=o+r;;)if(m[o>>0]=0,o=(e[se>>2]|0)+1|0,e[se>>2]=o,r=r+-1|0,!r)break e}o=Q()|0,r=e[ee>>2]|0,r||ne(o|0),(e[se>>2]|0)!=(r|0)&&(e[se>>2]=r),ue(r),ne(o|0)}while(!1);e[K>>2]=0,re=K+4|0,e[re>>2]=0,e[K+8>>2]=0;do if(!A)M=19;else{if(A>>>0>1073741823&&(h=0,oe(178,K|0),L=h,h=0,L&1)||(M=17),(M|0)==17&&(s=A<<2,h=0,a=ce(67,s|0)|0,L=h,h=0,!(L&1))){e[K>>2]=a,M=a+(A<<2)|0,e[K+8>>2]=M,j0(a|0,0,s|0)|0,e[re>>2]=M,M=19;break}o=Q()|0,r=e[K>>2]|0,s=r,r&&(a=e[re>>2]|0,(a|0)!=(r|0)&&(e[re>>2]=a+(~((a+-4-s|0)>>>2)<<2)),ue(r))}while(!1);if((M|0)==19){I=t+8|0,r=e[I>>2]|0;e:do if((r|0)>0){if(T=t+4596|0,k=J(A,R)|0,D=k+1|0,F=t+4600|0,N=t+160|0,z=t+168|0,q=t+164|0,B=t+156|0,L=t+88|0,c=t+4592|0,(A|0)>0)f=0;else{for(f=0;;){if(a=e[ee>>2]|0,o=a+1|0,e[T>>2]=o,s=a+D|0,e[F>>2]=s,f&1?(e[T>>2]=s,e[F>>2]=o,o=1):o=D,A=e[N>>2]|0,(A|0)<=(f|0)&&(f|0)<((e[z>>2]|0)+A|0)){if(A=e[L>>2]|0,h=0,Re(e[(e[A>>2]|0)+8>>2]|0,A|0,a+(o+((e[B>>2]|0)-k))|0,e[q>>2]|0,R|0),A=h,h=0,A&1)break;r=e[I>>2]|0}if(f=f+1|0,(f|0)>=(r|0)){M=50;break e}}o=Q()|0;break}t:for(;;){o=e[ee>>2]|0,r=o+1|0,e[T>>2]=r,o=o+D|0,e[F>>2]=o,f&1&&(e[T>>2]=o,e[F>>2]=r,r=o),a=e[K>>2]|0,o=r,s=0;do{if(e[c>>2]=e[a+(s<<2)>>2],M=e[S>>2]|0,m[o+M>>0]=m[o+(M+-1)>>0]|0,m[(e[F>>2]|0)+-1>>0]=m[e[T>>2]>>0]|0,h=0,de(83,t|0,0),M=h,h=0,M&1){M=38;break t}a=e[K>>2]|0,e[a+(s<<2)>>2]=e[c>>2],o=(e[T>>2]|0)+R|0,e[T>>2]=o,r=e[F>>2]|0,e[F>>2]=r+R,s=s+1|0}while((s|0)<(A|0));if(M=e[N>>2]|0,(M|0)<=(f|0)&&(f|0)<((e[z>>2]|0)+M|0)&&(M=e[L>>2]|0,h=0,Re(e[(e[M>>2]|0)+8>>2]|0,M|0,r+(R+((e[B>>2]|0)-k))|0,e[q>>2]|0,R|0),M=h,h=0,M&1)){M=30;break}if(f=f+1|0,(f|0)>=(e[I>>2]|0)){M=50;break e}}if((M|0)==30){o=Q()|0;break}else if((M|0)==38){o=Q()|0;break}}else M=50;while(!1);do if((M|0)==50){if(h=0,oe(183,t|0),t=h,h=0,t&1){o=Q()|0;break}if(r=e[K>>2]|0,o=r,r&&(s=e[re>>2]|0,(s|0)!=(r|0)&&(e[re>>2]=s+(~((s+-4-o|0)>>>2)<<2)),ue(r)),r=e[ee>>2]|0,!r){b=Z;return}(e[se>>2]|0)!=(r|0)&&(e[se>>2]=r),ue(r),b=Z;return}while(!1);r=e[K>>2]|0,s=r,r&&(a=e[re>>2]|0,(a|0)!=(r|0)&&(e[re>>2]=a+(~((a+-4-s|0)>>>2)<<2)),ue(r))}r=e[ee>>2]|0,r||ne(o|0),(e[se>>2]|0)!=(r|0)&&(e[se>>2]=r),ue(r),ne(o|0)}function J5(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0;if(D=t+4596|0,o=e[D>>2]|0,q=t+172|0,r=e[q>>2]|0,!((r|0)<=0))for(F=t+4600|0,N=t+4604|0,z=t+4592|0,S=o,f=P[o+-1>>0]|0,o=P[o>>0]|0,k=0;I=e[F>>2]|0,c=m[I+(k+-1)>>0]|0,T=c&255,a=k+1|0,s=P[S+a>>0]|0,A=e[N>>2]|0,S=o-f|0,f=f-T|0,A=((((m[A+(s-o)>>0]|0)*9|0)+(m[A+S>>0]|0)|0)*9|0)+(m[A+f>>0]|0)|0,I=I+k|0,A?(r=o-T>>31,(r^f|0)<0?r=o:r=T+((r^S|0)<0?0:S)|0,T=e6(t,A,P[I>>0]|0,r,0)|0,m[(e[F>>2]|0)+k>>0]=T):(r=t6(t,c,I,r-k|0)|0,o=r+k|0,(o|0)!=(e[q>>2]|0)&&(T=i6(t,T,P[(e[D>>2]|0)+o>>0]|0)|0,m[(e[F>>2]|0)+o>>0]=T,T=e[z>>2]|0,e[z>>2]=(T|0)<1?0:T+-1|0,r=r+1|0),a=r+k|0,s=e[D>>2]|0,o=P[s+(a+-1)>>0]|0,s=P[s+a>>0]|0),r=e[q>>2]|0,!((r|0)<=(a|0));)S=e[D>>2]|0,f=o,o=s,k=a}function e6(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;if(N=r>>31,A=(N^r)-N|0,D=t+188+(A*12|0)+10|0,o=y[D>>1]|0,k=t+188+(A*12|0)|0,a=e[k>>2]|0,(o|0)<(a|0))if((o<<1|0)<(a|0))if((o<<2|0)<(a|0))if((o<<3|0)<(a|0))if((o<<4|0)<(a|0))for(r=5;(o<<r|0)<(a|0);)r=r+1|0;else r=4;else r=3;else r=2;else r=1;else r=0;return T=t+188+(A*12|0)+8|0,o=(y[T>>1]^N)-N+s|0,F=t+128|0,a=e[F>>2]|0,(o&a|0)==(o|0)?I=o:I=a&~(o>>31),o=t+112|0,(e[o>>2]|0)<8&&Mt(t),a=t+108|0,s=e[a>>2]|0,f=s>>>24,c=e[2832+(r<<11)+(f<<3)+4>>2]|0,c?(e[o>>2]=(e[o>>2]|0)-c,e[a>>2]=s<<c,o=e[2832+(r<<11)+(f<<3)>>2]|0):(S=e[t+148>>2]|0,a=e[t+140>>2]|0,o=Yt(t)|0,(o|0)<(S+-1-a|0)?r&&(o=(st(t,r)|0)+(o<<r)|0):o=(st(t,a)|0)+1|0,o=o<<31>>31^o>>1,(((o|0)>-1?o:0-o|0)|0)>65535&&(o=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,o|0,5,35648),t=h,h=0,t&1?(t=Q()|0,v0(o|0),ne(t|0)):V0(o|0,824,96))),S=t+136|0,s=e[S>>2]|0,r?c=o:(s?a=0:a=(e[t+188+(A*12|0)+4>>2]<<1)+-1+(y[D>>1]|0)>>31,c=a^o),r=e[t+152>>2]|0,a=(e[k>>2]|0)+((c|0)>-1?c:0-c|0)|0,f=t+188+(A*12|0)+4|0,o=(e[f>>2]|0)+(J(s<<1|1,c)|0)|0,s=y[D>>1]|0,(s|0)==(r|0)&&(a=a>>1,o=o>>1,s=r>>1),e[k>>2]=a,r=s+1|0,y[D>>1]=r,a=r+o|0,(a|0)>=1?(o|0)>0&&(o=o-r|0,D=y[T>>1]|0,y[T>>1]=(D<<16>>16<127&1)+(D&65535),o=(o|0)>0?0:o):(o=y[T>>1]|0,y[T>>1]=(o&65535)-(o<<16>>16>-128&1),o=(a|0)>(~s|0)?a:0-s|0),e[f>>2]=o,r=e[S>>2]|0,s=r<<1|1,a=(J(s,(c^N)-N|0)|0)+I|0,(a|0)>=(0-r|0)?(o=e[F>>2]|0,(o+r|0)<(a|0)&&(a=a-(J(e[t+132>>2]|0,s)|0)|0)):(a=(J(e[t+132>>2]|0,s)|0)+a|0,o=e[F>>2]|0),(a&o|0)==(a|0)?(t=a,t=t&255,t|0):(t=o&~(a>>31),t=t&255,t|0)}function t6(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;for(S=t+112|0,A=t+108|0,I=t+4592|0,a=e[S>>2]|0,f=0;;){if((a|0)<1&&(Mt(t),a=e[S>>2]|0),c=e[A>>2]|0,a=a+-1|0,e[S>>2]=a,e[A>>2]=c<<1,(c|0)>=0){T=8;break}if(c=e[I>>2]|0,k=1<<e[36476+(c<<2)>>2],D=s-f|0,D=(k|0)<(D|0)?k:D,f=D+f|0,(D|0)==(k|0)&&(e[I>>2]=(c|0)>30?31:c+1|0),(f|0)==(s|0)){a=s;break}}return(T|0)==8&&((f|0)!=(s|0)?(a=e[I>>2]|0,(a+-4|0)>>>0<28?a=st(t,e[36476+(a<<2)>>2]|0)|0:a=0,a=a+f|0,(a|0)>(s|0)&&(a=g0(16)|0,!(m[8]|0)&&w0(8)|0&&(x0(72,35648,j|0)|0,y0(8)),h=0,me(7,a|0,5,35648),D=h,h=0,D&1?(D=Q()|0,v0(a|0),ne(D|0)):V0(a|0,824,96))):a=s),(a|0)<=0||j0(o|0,r|0,a|0)|0,a|0}function i6(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0;return f=r-o|0,c=t+128|0,s=t+136|0,(((f|0)>-1?f:0-f|0)|0)>(e[s>>2]|0)?(r=J(gs(t,t+4568|0)|0,o-r>>31|1)|0,a=e[s>>2]|0,f=a<<1|1,r=(J(r,f)|0)+o|0,(r|0)>=(0-a|0)?(s=e[c>>2]|0,(s+a|0)<(r|0)&&(r=r-(J(e[t+132>>2]|0,f)|0)|0)):(r=(J(e[t+132>>2]|0,f)|0)+r|0,s=e[c>>2]|0),(r&s|0)==(r|0)?(t=r,t=t&255,t|0):(t=s&~(r>>31),t=t&255,t|0)):(o=gs(t,t+4580|0)|0,f=e[s>>2]|0,a=f<<1|1,r=(J(a,o)|0)+r|0,(r|0)>=(0-f|0)?(s=e[c>>2]|0,(s+f|0)<(r|0)&&(r=r-(J(e[t+132>>2]|0,a)|0)|0)):(r=(J(e[t+132>>2]|0,a)|0)+r|0,s=e[c>>2]|0),(r&s|0)==(r|0)?(t=r,t=t&255,t|0):(t=s&~(r>>31),t=t&255,t|0))}function gs(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0;if(I=r+9|0,o=P[I>>0]|0,f=r+4|0,a=(J(o>>>1,e[f>>2]|0)|0)+(e[r>>2]|0)|0,(o|0)<(a|0)){s=0;do o=o<<1,s=s+1|0;while((o|0)<(a|0))}else s=0;c=e[t+148>>2]|0,S=e[36476+(e[t+4592>>2]<<2)>>2]|0,o=e[t+140>>2]|0,a=Yt(t)|0;do if((a|0)<(c+-2-S-o|0))if(s){S=(st(t,s)|0)+(a<<s)|0,s=e[f>>2]|0,a=S+s|0,c=a&1,o=c,f=1,a=(c+a|0)/2|0;break}else{s=e[f>>2]|0,t=s+a|0,o=t&1,t=(o+t|0)/2|0,A=8;break}else a=(st(t,o)|0)+1|0,c=e[f>>2]|0,t=a+c|0,o=t&1,t=(o+t|0)/2|0,s?(S=a,f=1,a=t,s=c):(s=c,A=8);while(!1);return(A|0)==8&&(S=a,f=P[r+10>>0]<<1>>>0>=(P[I>>0]|0)>>>0,a=t),a=(o|0)!=0^f?a:0-a|0,(a|0)<0&&(A=r+10|0,m[A>>0]=(P[A>>0]|0)+1),o=(S+1-s>>1)+(e[r>>2]|0)|0,e[r>>2]=o,s=m[I>>0]|0,s<<24>>24!=(m[r+8>>0]|0)?(r=s,r=r&255,r=r+1|0,r=r&255,m[I>>0]=r,a|0):(e[r>>2]=o>>1,A=(s&255)>>>1,m[I>>0]=A,r=r+10|0,m[r>>0]=(P[r>>0]|0)>>>1,r=A,r=r&255,r=r+1|0,r=r&255,m[I>>0]=r,a|0)}function r6(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;D=b,b=b+32|0,s=D,k=t+136|0;e:do if(e[k>>2]|0)r=t+144|0;else if(o=e[t+128>>2]|0,r=t+144|0,(o|0)==((1<<e[r>>2])+-1|0)&&(dt(s,o,0),(e[s+4>>2]|0)==(e[t+176>>2]|0))&&(e[s+8>>2]|0)==(e[t+180>>2]|0)&&(e[s+12>>2]|0)==(e[t+184>>2]|0))switch(e[r>>2]|0){case 8:{k=e[8900]|0,e[t+4604>>2]=k+(((e[8901]|0)-k|0)>>>1),b=D;return}case 10:{k=e[8903]|0,e[t+4604>>2]=k+(((e[8904]|0)-k|0)>>>1),b=D;return}case 12:{k=e[8906]|0,e[t+4604>>2]=k+(((e[8907]|0)-k|0)>>>1),b=D;return}case 16:{k=e[8909]|0,e[t+4604>>2]=k+(((e[8910]|0)-k|0)>>>1),b=D;return}default:break e}while(!1);if(T=1<<e[r>>2],o=t+4608|0,s=T<<1,a=t+4612|0,f=e[a>>2]|0,r=e[o>>2]|0,c=f-r|0,s>>>0<=c>>>0?s>>>0<c>>>0&&(S=r+s|0,(f|0)!=(S|0))&&(e[a>>2]=S):(jt(o,s-c|0),r=e[o>>2]|0),I=t+4604|0,e[I>>2]=r+T,r=0-T|0,(T|0)<=(r|0)){b=D;return}S=t+184|0,A=t+180|0,c=t+176|0,f=r;do r=e[S>>2]|0,(f|0)>(0-r|0)?(o=e[A>>2]|0,(f|0)>(0-o|0)?(s=e[c>>2]|0,(f|0)>(0-s|0)?(a=e[k>>2]|0,(f|0)>=(0-a|0)?(a|0)<(f|0)?(s|0)<=(f|0)?(o|0)>(f|0)?r=2:r=(r|0)>(f|0)?3:4:r=1:r=0:r=-1):r=-2):r=-3):r=-4,m[(e[I>>2]|0)+f>>0]=r,f=f+1|0;while((f|0)!=(T|0));b=D}function n6(t){t=t|0,ue(t)}function o6(t){return t=t|0,50767}function s6(t,r,o){t=t|0,r=r|0,o=o|0,yi(t,50754,12)}function a6(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0;N=b,b=b+16|0,z=N,e[z>>2]=0,q=z+4|0,e[q>>2]=0,e[z+8>>2]=0,D=z+8|0,h=0,a=ce(67,1)|0,k=h,h=0;e:do if(!(k&1)&&(k=a+1|0,m[a>>0]=o,e[z>>2]=a,e[q>>2]=k,e[D>>2]=k,h=0,de(84,z|0,r&65535|0),k=h,h=0,!(k&1))&&(h=0,de(84,z|0,t&65535|0),k=h,h=0,!(k&1))){if(I=s&255,a=e[q>>2]|0,o=e[D>>2]|0,a>>>0>=o>>>0){if(r=e[z>>2]|0,t=r,c=a-t+1|0,(c|0)<0){if(h=0,oe(178,z|0),k=h,h=0,k&1){F=52;break}t=e[z>>2]|0,o=e[D>>2]|0,r=t}if(A=r,a=o-A|0,a>>>0<1073741823?(a=a<<1,a=a>>>0<c>>>0?c:a,o=e[q>>2]|0,S=o-A|0,a?F=12:(a=0,c=0)):(S=e[q>>2]|0,a=2147483647,o=S,S=S-A|0,F=12),(F|0)==12&&(h=0,c=ce(67,a|0)|0,k=h,h=0,k&1)){F=52;break}m[c+S>>0]=I,T=o-A|0,k=c+(S-T)|0,nt(k|0,r|0,T|0)|0,e[z>>2]=k,e[q>>2]=c+(S+1),e[D>>2]=c+a,t&&ue(t)}else m[a>>0]=I,e[q>>2]=(e[q>>2]|0)+1;t:do if((s|0)>0){for(k=0;;){if(k=k+1|0,T=k&255,a=e[q>>2]|0,r=e[D>>2]|0,a>>>0>=r>>>0){if(t=e[z>>2]|0,o=t,c=a-o+1|0,(c|0)<0){if(h=0,oe(178,z|0),I=h,h=0,I&1)break;t=e[z>>2]|0,o=t,r=e[D>>2]|0}if(I=t,a=r-I|0,a>>>0<1073741823?(a=a<<1,a=a>>>0<c>>>0?c:a,r=e[q>>2]|0,S=r-I|0,a?F=25:(A=0,c=0)):(S=e[q>>2]|0,a=2147483647,r=S,S=S-I|0,F=25),(F|0)==25){if(F=0,h=0,c=ce(67,a|0)|0,A=h,h=0,A&1)break;A=a}m[c+S>>0]=T,a=c+(S+1)|0,I=r-I|0,T=c+(S-I)|0,nt(T|0,t|0,I|0)|0,e[z>>2]=T,e[q>>2]=a,e[D>>2]=c+A,o&&(ue(o),a=e[q>>2]|0)}else m[a>>0]=T,a=(e[q>>2]|0)+1|0,e[q>>2]=a;if(o=e[D>>2]|0,a>>>0>=o>>>0){if(r=e[z>>2]|0,t=r,c=a-t+1|0,(c|0)<0){if(h=0,oe(178,z|0),T=h,h=0,T&1)break;t=e[z>>2]|0,o=e[D>>2]|0,r=t}if(I=r,a=o-I|0,a>>>0<1073741823?(a=a<<1,a=a>>>0<c>>>0?c:a,c=e[q>>2]|0,S=c-I|0,a?F=36:(A=0,o=0)):(S=e[q>>2]|0,a=2147483647,c=S,S=S-I|0,F=36),(F|0)==36){if(F=0,h=0,o=ce(67,a|0)|0,T=h,h=0,T&1)break;A=a}m[o+S>>0]=17,a=o+(S+1)|0,I=c-I|0,T=o+(S-I)|0,nt(T|0,r|0,I|0)|0,e[z>>2]=T,e[q>>2]=a,e[D>>2]=o+A,t&&(ue(t),a=e[q>>2]|0)}else m[a>>0]=17,a=(e[q>>2]|0)+1|0,e[q>>2]=a;if(o=e[D>>2]|0,a>>>0>=o>>>0){if(r=e[z>>2]|0,t=r,c=a-t+1|0,(c|0)<0){if(h=0,oe(178,z|0),T=h,h=0,T&1)break;t=e[z>>2]|0,o=e[D>>2]|0,r=t}if(A=r,a=o-A|0,a>>>0<1073741823?(a=a<<1,a=a>>>0<c>>>0?c:a,o=e[q>>2]|0,S=o-A|0,a?F=48:(a=0,c=0)):(S=e[q>>2]|0,a=2147483647,o=S,S=S-A|0,F=48),(F|0)==48&&(F=0,h=0,c=ce(67,a|0)|0,T=h,h=0,T&1))break;m[c+S>>0]=0,I=o-A|0,T=c+(S-I)|0,nt(T|0,r|0,I|0)|0,e[z>>2]=T,e[q>>2]=c+(S+1),e[D>>2]=c+a,t&&ue(t)}else m[a>>0]=0,e[q>>2]=(e[q>>2]|0)+1;if((k|0)>=(s|0))break t}f=Q()|0;break e}while(!1);if(h=0,S=ce(67,20)|0,s=h,h=0,s&1)F=52;else{e[S>>2]=36800,m[S+4>>0]=-9,t=S+8|0,e[t>>2]=0,c=S+12|0,e[c>>2]=0,o=S+16|0,e[o>>2]=0,a=e[q>>2]|0,s=e[z>>2]|0,r=a-s|0;do if((a|0)!=(s|0)){if((r|0)<0&&(h=0,oe(178,t|0),s=h,h=0,s&1)||(F=62),(F|0)==62&&(h=0,f=ce(67,r|0)|0,s=h,h=0,!(s&1))){if(e[c>>2]=f,e[t>>2]=f,e[o>>2]=f+r,a=e[z>>2]|0,o=e[q>>2]|0,(a|0)==(o|0))break;do m[f>>0]=m[a>>0]|0,f=(e[c>>2]|0)+1|0,e[c>>2]=f,a=a+1|0;while((a|0)!=(o|0));a=e[z>>2]|0;break}f=Q()|0,a=e[t>>2]|0,a&&((e[c>>2]|0)!=(a|0)&&(e[c>>2]=a),ue(a)),ue(S);break e}while(!1);return a?((e[q>>2]|0)!=(a|0)&&(e[q>>2]=a),ue(a),b=N,S|0):(b=N,S|0)}}else F=52;while(!1);return(F|0)==52&&(f=Q()|0),a=e[z>>2]|0,a||ne(f|0),(e[q>>2]|0)!=(a|0)&&(e[q>>2]=a),ue(a),ne(f|0),0}function l6(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0;q=b,b=b+32|0,F=q+28|0,L=q+16|0,z=q+4|0,N=q,e[L>>2]=0,M=L+4|0,e[M>>2]=0,e[L+8>>2]=0,k=We(5)|0,e[L>>2]=k,D=L+8|0,e[D>>2]=k+5,m[k>>0]=74,m[k+1>>0]=70,m[k+2>>0]=73,m[k+3>>0]=70,m[k+4>>0]=0,e[M>>2]=k+5,h=0,de(84,L|0,e[t>>2]&65535|0),k=h,h=0;e:do if(k&1)B=43;else{if(I=e[t+4>>2]&255,r=e[M>>2]|0,s=e[D>>2]|0,r>>>0>=s>>>0){if(a=e[L>>2]|0,f=a,c=r-f+1|0,(c|0)<0){if(h=0,oe(178,L|0),k=h,h=0,k&1){B=43;break}f=e[L>>2]|0,s=e[D>>2]|0,a=f}if(A=a,r=s-A|0,r>>>0<1073741823?(r=r<<1,r=r>>>0<c>>>0?c:r,s=e[M>>2]|0,S=s-A|0,r?B=10:(r=0,c=0)):(S=e[M>>2]|0,r=2147483647,s=S,S=S-A|0,B=10),(B|0)==10&&(h=0,c=ce(67,r|0)|0,k=h,h=0,k&1)){B=43;break}m[c+S>>0]=I,T=s-A|0,k=c+(S-T)|0,nt(k|0,a|0,T|0)|0,e[L>>2]=k,e[M>>2]=c+(S+1),e[D>>2]=c+r,f&&ue(f)}else m[r>>0]=I,e[M>>2]=(e[M>>2]|0)+1;if(h=0,de(84,L|0,e[t+8>>2]&65535|0),k=h,h=0,!(k&1)&&(h=0,de(84,L|0,e[t+12>>2]&65535|0),k=h,h=0,!(k&1))){if(k=t+16|0,T=e[k>>2]&255,r=e[M>>2]|0,a=e[D>>2]|0,r>>>0>=a>>>0){if(f=e[L>>2]|0,s=f,c=r-s+1|0,(c|0)<0){if(h=0,oe(178,L|0),I=h,h=0,I&1){B=43;break}f=e[L>>2]|0,s=f,a=e[D>>2]|0}if(I=f,r=a-I|0,r>>>0<1073741823?(r=r<<1,r=r>>>0<c>>>0?c:r,c=e[M>>2]|0,S=c-I|0,r?B=23:(A=0,a=0)):(S=e[M>>2]|0,r=2147483647,c=S,S=S-I|0,B=23),(B|0)==23)if(h=0,a=ce(67,r|0)|0,A=h,h=0,A&1){B=43;break}else A=r;m[a+S>>0]=T,r=a+(S+1)|0,I=c-I|0,T=a+(S-I)|0,nt(T|0,f|0,I|0)|0,e[L>>2]=T,e[M>>2]=r,e[D>>2]=a+A,s&&(ue(s),r=e[M>>2]|0)}else m[r>>0]=T,r=(e[M>>2]|0)+1|0,e[M>>2]=r;if(T=t+20|0,I=e[T>>2]&255,s=e[D>>2]|0,r>>>0>=s>>>0){if(a=e[L>>2]|0,f=a,c=r-f+1|0,(c|0)<0){if(h=0,oe(178,L|0),A=h,h=0,A&1){B=43;break}f=e[L>>2]|0,s=e[D>>2]|0,a=f}if(A=a,r=s-A|0,r>>>0<1073741823?(r=r<<1,r=r>>>0<c>>>0?c:r,s=e[M>>2]|0,S=s-A|0,r?B=34:(r=0,c=0)):(S=e[M>>2]|0,r=2147483647,s=S,S=S-A|0,B=34),(B|0)==34&&(h=0,c=ce(67,r|0)|0,R=h,h=0,R&1)){B=43;break}m[c+S>>0]=I,I=s-A|0,R=c+(S-I)|0,nt(R|0,a|0,I|0)|0,e[L>>2]=R,e[M>>2]=c+(S+1),e[D>>2]=c+r,f&&ue(f)}else m[r>>0]=I,e[M>>2]=(e[M>>2]|0)+1;r=e[k>>2]|0;do if((r|0)>0){if(!(e[t+24>>2]|0))if(e[N>>2]=e[M>>2],R=0+(J(r*3|0,e[T>>2]|0)|0)|0,h=0,e[F>>2]=e[N>>2],Pe(15,L|0,F|0,0,R|0)|0,R=h,h=0,R&1){B=43;break e}else break;if(s=g0(16)|0,h=0,me(5,z|0,50792,57),R=h,h=0,R&1)r=Q()|0;else if(h=0,r=ve(1)|0,R=h,h=0,!(R&1)&&(h=0,Re(36,s|0,1,r|0,z|0),R=h,h=0,!(R&1))?(h=0,me(6,s|0,824,96),h=0,o=0):o=1,r=Q()|0,fe(z),!o){o=r;break e}v0(s|0),o=r;break e}while(!1);if(h=0,S=ce(67,20)|0,R=h,h=0,R&1)B=43;else{e[S>>2]=36800,m[S+4>>0]=-32,f=S+8|0,e[f>>2]=0,c=S+12|0,e[c>>2]=0,s=S+16|0,e[s>>2]=0,r=e[M>>2]|0,R=e[L>>2]|0,a=r-R|0;do if((r|0)!=(R|0)){if((a|0)<0&&(h=0,oe(178,f|0),R=h,h=0,R&1)||(B=53),(B|0)==53&&(h=0,o=ce(67,a|0)|0,R=h,h=0,!(R&1))){if(e[c>>2]=o,e[f>>2]=o,e[s>>2]=o+a,r=e[L>>2]|0,s=e[M>>2]|0,(r|0)==(s|0))break;do m[o>>0]=m[r>>0]|0,o=(e[c>>2]|0)+1|0,e[c>>2]=o,r=r+1|0;while((r|0)!=(s|0));r=e[L>>2]|0;break}r=Q()|0,o=e[f>>2]|0,o&&((e[c>>2]|0)!=(o|0)&&(e[c>>2]=o),ue(o)),ue(S),B=44;break e}while(!1);return r?((e[M>>2]|0)!=(r|0)&&(e[M>>2]=r),ue(r),b=q,S|0):(b=q,S|0)}}else B=43}while(!1);return(B|0)==43&&(r=Q()|0,B=44),(B|0)==44&&(o=r),r=e[L>>2]|0,r||ne(o|0),(e[M>>2]|0)!=(r|0)&&(e[M>>2]=r),ue(r),ne(o|0),0}function vs(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0;S=b,b=b+16|0,I=S,e[I>>2]=0,T=I+4|0,e[T>>2]=0,e[I+8>>2]=0,h=0,r=ce(67,1)|0,c=h,h=0;e:do if(!(c&1)&&(c=r+1|0,m[r>>0]=1,e[I>>2]=r,e[T>>2]=c,e[I+8>>2]=c,h=0,de(84,I|0,e[t>>2]&65535|0),c=h,h=0,!(c&1))&&(h=0,de(84,I|0,e[t+4>>2]&65535|0),c=h,h=0,!(c&1))&&(h=0,de(84,I|0,e[t+8>>2]&65535|0),c=h,h=0,!(c&1))&&(h=0,de(84,I|0,e[t+12>>2]&65535|0),c=h,h=0,!(c&1))&&(h=0,de(84,I|0,e[t+16>>2]&65535|0),c=h,h=0,!(c&1))&&(h=0,A=ce(67,20)|0,c=h,h=0,!(c&1))){e[A>>2]=36800,m[A+4>>0]=-8,a=A+8|0,e[a>>2]=0,c=A+12|0,e[c>>2]=0,t=A+16|0,e[t>>2]=0,r=e[T>>2]|0,k=e[I>>2]|0,s=r-k|0;do if((r|0)!=(k|0)){if((s|0)<0&&(h=0,oe(178,a|0),k=h,h=0,k&1)||(f=11),(f|0)==11&&(h=0,o=ce(67,s|0)|0,k=h,h=0,!(k&1))){if(e[c>>2]=o,e[a>>2]=o,e[t>>2]=o+s,r=e[I>>2]|0,t=e[T>>2]|0,(r|0)==(t|0))break;do m[o>>0]=m[r>>0]|0,o=(e[c>>2]|0)+1|0,e[c>>2]=o,r=r+1|0;while((r|0)!=(t|0));r=e[I>>2]|0;break}o=Q()|0,r=e[a>>2]|0,r&&((e[c>>2]|0)!=(r|0)&&(e[c>>2]=r),ue(r)),ue(A);break e}while(!1);return r?((e[T>>2]|0)!=(r|0)&&(e[T>>2]=r),ue(r),b=S,A|0):(b=S,A|0)}else f=25;while(!1);return(f|0)==25&&(o=Q()|0),r=e[I>>2]|0,r||ne(o|0),(e[T>>2]|0)!=(r|0)&&(e[T>>2]=r),ue(r),ne(o|0),0}function u6(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0;return f=We(5)|0,m[f>>0]=109,m[f+1>>0]=114,m[f+2>>0]=102,m[f+3>>0]=120,m[f+4>>0]=t,h=0,a=ce(67,20)|0,s=h,h=0,s&1&&(a=Q()|0,ue(f),ne(a|0)),e[a>>2]=36800,m[a+4>>0]=-24,t=a+8|0,e[t>>2]=0,r=a+12|0,e[r>>2]=0,o=a+16|0,e[o>>2]=0,h=0,s=ce(67,5)|0,c=h,h=0,c&1?(c=Q()|0,ue(a),ue(f),ne(c|0),0):(e[r>>2]=s,e[t>>2]=s,e[o>>2]=s+5,m[s>>0]=109,c=(e[r>>2]|0)+1|0,e[r>>2]=c,s=f+1|0,m[c>>0]=m[s>>0]|0,c=(e[r>>2]|0)+1|0,e[r>>2]=c,s=s+1|0,m[c>>0]=m[s>>0]|0,c=(e[r>>2]|0)+1|0,e[r>>2]=c,s=s+1|0,m[c>>0]=m[s>>0]|0,c=(e[r>>2]|0)+1|0,e[r>>2]=c,m[c>>0]=m[s+1>>0]|0,e[r>>2]=(e[r>>2]|0)+1,ue(f),a|0)}function f6(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0;B=b,b=b+16|0,L=B,e[L>>2]=0,M=L+4|0,e[M>>2]=0,e[L+8>>2]=0,z=L+8|0,h=0,a=ce(67,1)|0,N=h,h=0;e:do if(N&1)q=29;else{if(S=a+1|0,N=S,m[a>>0]=r,e[L>>2]=a,e[M>>2]=N,e[z>>2]=N,(r|0)>0){c=S,N=0;do{if(F=N+t&255,c>>>0>=S>>>0){if(a=e[L>>2]|0,A=a,c=c-A+1|0,(c|0)<0){if(h=0,oe(178,L|0),D=h,h=0,D&1){q=28;break}A=e[L>>2]|0,S=e[z>>2]|0,D=A}else D=a;if(k=D,a=S-k|0,a>>>0<1073741823?(a=a<<1,a=a>>>0<c>>>0?c:a,S=e[M>>2]|0,I=S-k|0,a?q=13:(T=0,c=0)):(I=e[M>>2]|0,a=2147483647,S=I,I=I-k|0,q=13),(q|0)==13)if(q=0,h=0,c=ce(67,a|0)|0,T=h,h=0,T&1){q=28;break}else T=a;m[c+I>>0]=F,a=c+(I+1)|0,k=S-k|0,F=c+(I-k)|0,nt(F|0,D|0,k|0)|0,e[L>>2]=F,e[M>>2]=a,e[z>>2]=c+T,A&&(ue(A),a=e[M>>2]|0)}else m[c>>0]=F,a=(e[M>>2]|0)+1|0,e[M>>2]=a;if(S=e[z>>2]|0,a>>>0>=S>>>0){if(A=e[L>>2]|0,c=A,I=a-c+1|0,(I|0)<0){if(h=0,oe(178,L|0),F=h,h=0,F&1){q=28;break}A=e[L>>2]|0,c=A,S=e[z>>2]|0}if(k=A,a=S-k|0,a>>>0<1073741823?(a=a<<1,a=a>>>0<I>>>0?I:a,I=e[M>>2]|0,S=I-k|0,a?q=24:(a=0,T=0)):(S=e[M>>2]|0,a=2147483647,I=S,S=S-k|0,q=24),(q|0)==24&&(q=0,h=0,T=ce(67,a|0)|0,F=h,h=0,F&1)){q=28;break}m[T+S>>0]=0,D=I-k|0,F=T+(S-D)|0,nt(F|0,A|0,D|0)|0,e[L>>2]=F,e[M>>2]=T+(S+1),e[z>>2]=T+a,c&&ue(c)}else m[a>>0]=0,e[M>>2]=(e[M>>2]|0)+1;N=N+1|0,c=e[M>>2]|0,S=e[z>>2]|0}while((N|0)<(r|0));if((q|0)==28){f=Q()|0;break}a=o&255,c>>>0<S>>>0?(m[c>>0]=a,c=(e[M>>2]|0)+1|0,e[M>>2]=c):q=37}else c=S,a=o&255,q=37;if((q|0)==37){if(A=e[L>>2]|0,I=A,T=c-I+1|0,(T|0)<0){if(h=0,oe(178,L|0),o=h,h=0,o&1){q=29;break}I=e[L>>2]|0,S=e[z>>2]|0,A=I}if(F=A,c=S-F|0,c>>>0<1073741823?(c=c<<1,c=c>>>0<T>>>0?T:c,T=e[M>>2]|0,k=T-F|0,c?q=43:(D=0,S=0)):(k=e[M>>2]|0,c=2147483647,T=k,k=k-F|0,q=43),(q|0)==43)if(h=0,S=ce(67,c|0)|0,o=h,h=0,o&1){q=29;break}else D=c;m[S+k>>0]=a,c=S+(k+1)|0,t=T-F|0,o=S+(k-t)|0,nt(o|0,A|0,t|0)|0,e[L>>2]=o,e[M>>2]=c,e[z>>2]=S+D,I&&(ue(I),c=e[M>>2]|0)}if(F=s&255,a=e[z>>2]|0,c>>>0>=a>>>0){if(S=e[L>>2]|0,A=S,c=c-A+1|0,(c|0)<0){if(h=0,oe(178,L|0),s=h,h=0,s&1){q=29;break}A=e[L>>2]|0,a=e[z>>2]|0,S=A}if(D=S,a=a-D|0,a>>>0<1073741823?(a=a<<1,a=a>>>0<c>>>0?c:a,I=e[M>>2]|0,T=I-D|0,a?q=54:(k=0,c=0)):(T=e[M>>2]|0,a=2147483647,I=T,T=T-D|0,q=54),(q|0)==54)if(h=0,c=ce(67,a|0)|0,s=h,h=0,s&1){q=29;break}else k=a;m[c+T>>0]=F,a=c+(T+1)|0,o=I-D|0,s=c+(T-o)|0,nt(s|0,S|0,o|0)|0,e[L>>2]=s,e[M>>2]=a,e[z>>2]=c+k,A&&(ue(A),a=e[M>>2]|0)}else m[c>>0]=F,a=(e[M>>2]|0)+1|0,e[M>>2]=a;if(c=e[z>>2]|0,a>>>0>=c>>>0){if(S=e[L>>2]|0,A=S,I=a-A+1|0,(I|0)<0){if(h=0,oe(178,L|0),s=h,h=0,s&1){q=29;break}A=e[L>>2]|0,c=e[z>>2]|0,S=A}if(k=S,a=c-k|0,a>>>0<1073741823?(a=a<<1,a=a>>>0<I>>>0?I:a,c=e[M>>2]|0,T=c-k|0,a?q=65:(a=0,I=0)):(T=e[M>>2]|0,a=2147483647,c=T,T=T-k|0,q=65),(q|0)==65&&(h=0,I=ce(67,a|0)|0,s=h,h=0,s&1)){q=29;break}m[I+T>>0]=0,o=c-k|0,s=I+(T-o)|0,nt(s|0,S|0,o|0)|0,e[L>>2]=s,e[M>>2]=I+(T+1),e[z>>2]=I+a,A&&ue(A)}else m[a>>0]=0,e[M>>2]=(e[M>>2]|0)+1;if(h=0,T=ce(67,20)|0,z=h,h=0,z&1)q=29;else{e[T>>2]=36800,m[T+4>>0]=-38,A=T+8|0,e[A>>2]=0,I=T+12|0,e[I>>2]=0,c=T+16|0,e[c>>2]=0,a=e[M>>2]|0,z=e[L>>2]|0,S=a-z|0;do if((a|0)!=(z|0)){if((S|0)<0&&(h=0,oe(178,A|0),z=h,h=0,z&1)||(q=72),(q|0)==72&&(h=0,f=ce(67,S|0)|0,z=h,h=0,!(z&1))){if(e[I>>2]=f,e[A>>2]=f,e[c>>2]=f+S,a=e[L>>2]|0,c=e[M>>2]|0,(a|0)==(c|0))break;do m[f>>0]=m[a>>0]|0,f=(e[I>>2]|0)+1|0,e[I>>2]=f,a=a+1|0;while((a|0)!=(c|0));a=e[L>>2]|0;break}f=Q()|0,a=e[A>>2]|0,a&&((e[I>>2]|0)!=(a|0)&&(e[I>>2]=a),ue(a)),ue(T);break e}while(!1);return a?((e[M>>2]|0)!=(a|0)&&(e[M>>2]=a),ue(a),b=B,T|0):(b=B,T|0)}}while(!1);return(q|0)==29&&(f=Q()|0),a=e[L>>2]|0,a||ne(f|0),(e[M>>2]|0)!=(a|0)&&(e[M>>2]=a),ue(a),ne(f|0),0}function c6(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;if(k=(r&65535)>>>8&255,D=t+4|0,o=e[D>>2]|0,F=t+8|0,s=e[F>>2]|0,o>>>0>=s>>>0?(a=e[t>>2]|0,f=a,c=o-f+1|0,(c|0)<0&&(hi(t),f=e[t>>2]|0,s=e[F>>2]|0,a=f),T=a,o=s-T|0,o>>>0<1073741823?(o=o<<1,o=o>>>0<c>>>0?c:o,c=e[D>>2]|0,s=c-T|0,o?N=8:(I=0,A=0,S=s,o=c)):(s=e[D>>2]|0,o=2147483647,c=s,s=s-T|0,N=8),(N|0)==8&&(I=o,A=We(o)|0,S=s,o=c),m[A+S>>0]=k,s=A+(S+1)|0,T=o-T|0,k=A+(S-T)|0,nt(k|0,a|0,T|0)|0,e[t>>2]=k,e[D>>2]=s,e[F>>2]=A+I,f&&(ue(f),s=e[D>>2]|0)):(m[o>>0]=k,s=(e[D>>2]|0)+1|0,e[D>>2]=s),T=r&255,o=e[F>>2]|0,s>>>0<o>>>0){m[s>>0]=T,e[D>>2]=(e[D>>2]|0)+1;return}a=e[t>>2]|0,f=a,s=s-f+1|0,(s|0)<0&&(hi(t),f=e[t>>2]|0,o=e[F>>2]|0,a=f),I=a,o=o-I|0,o>>>0<1073741823?(o=o<<1,o=o>>>0<s>>>0?s:o,c=e[D>>2]|0,s=c-I|0,o?N=18:(A=0,S=0,o=c)):(s=e[D>>2]|0,o=2147483647,c=s,s=s-I|0,N=18),(N|0)==18&&(A=o,S=We(o)|0,o=c),m[S+s>>0]=T,r=o-I|0,N=S+(s-r)|0,nt(N|0,a|0,r|0)|0,e[t>>2]=N,e[D>>2]=S+(s+1),e[F>>2]=S+A,f&&ue(f)}function h6(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0;if(a=e[t>>2]|0,N=e[r>>2]|0,F=N,A=a,k=o,I=s-k|0,(I|0)<=0)return z=N,z|0;if(D=t+8|0,r=e[D>>2]|0,z=t+4|0,T=e[z>>2]|0,f=T,(I|0)<=(r-f|0)){if(S=f-F|0,(I|0)>(S|0)){if(c=o+S|0,(c|0)==(s|0))r=T;else{f=c,r=T;do m[r>>0]=m[f>>0]|0,r=(e[z>>2]|0)+1|0,e[z>>2]=r,f=f+1|0;while((f|0)!=(s|0))}if((S|0)>0)S=r;else return z=N,z|0}else S=T,c=s;if(a=S-(a+(I-A+F))|0,r=N+a|0,r>>>0<T>>>0){f=S;do m[f>>0]=m[r>>0]|0,r=r+1|0,f=(e[z>>2]|0)+1|0,e[z>>2]=f;while((r|0)!=(T|0))}return yr(S+(0-a)|0,N|0,a|0)|0,yr(N|0,o|0,c-k|0)|0,z=N,z|0}if(f=f-A+I|0,(f|0)<0&&(hi(t),r=e[D>>2]|0,a=e[t>>2]|0),c=a,r=r-c|0,r>>>0<1073741823?(r=r<<1,r=r>>>0<f>>>0?f:r,f=F-c|0,r?S=15:(c=0,I=0)):(r=2147483647,f=F-c|0,S=15),(S|0)==15&&(c=r,I=We(r)|0),A=I+f|0,r=A,S=I+c|0,(o|0)!=(s|0)){a=o,c=A;do m[c>>0]=m[a>>0]|0,c=r+1|0,r=c,a=a+1|0;while((a|0)!=(s|0));a=e[t>>2]|0}return o=F-a|0,s=I+(f-o)|0,nt(s|0,a|0,o|0)|0,F=(e[z>>2]|0)-F|0,o=r,nt(o|0,N|0,F|0)|0,r=e[t>>2]|0,e[t>>2]=s,e[z>>2]=o+F,e[D>>2]=S,r?(ue(r),z=A,z|0):(z=A,z|0)}function d6(t){t=t|0;var r=0;e[t>>2]=36800,r=e[t+8>>2]|0,r&&(t=t+12|0,(e[t>>2]|0)!=(r|0)&&(e[t>>2]=r),ue(r))}function p6(t){t=t|0;var r=0,o=0;if(e[t>>2]=36800,r=e[t+8>>2]|0,!r){ue(t);return}o=t+12|0,(e[o>>2]|0)!=(r|0)&&(e[o>>2]=r),ue(r),ue(t)}function m6(t,r){t=t|0,r=r|0;var o=0,s=0,a=0;if(ai(r,-1),ai(r,m[t+4>>0]|0),a=t+12|0,s=t+8|0,t=(e[a>>2]|0)-(e[s>>2]|0)+2|0,ai(r,(t&65535)>>>8&255),ai(r,t&255),t=e[s>>2]|0,(e[a>>2]|0)!=(t|0)){o=0;do ai(r,m[t+o>>0]|0),o=o+1|0,t=e[s>>2]|0;while(o>>>0<((e[a>>2]|0)-t|0)>>>0)}}function ai(t,r){t=t|0,r=r|0;var o=0,s=0,a=0;if(a=e[t+4>>2]|0,a)if(o=a+24|0,s=e[o>>2]|0,(s|0)==(e[a+28>>2]|0)){Ut[e[(e[a>>2]|0)+52>>2]&63](a,r&255)|0;return}else{e[o>>2]=s+1,m[s>>0]=r;return}if(o=t+16|0,s=e[o>>2]|0,s>>>0<(e[t+12>>2]|0)>>>0){e[o>>2]=s+1,m[(e[t+8>>2]|0)+s>>0]=r;return}o=g0(16)|0,h=0,s=ve(1)|0,r=h,h=0,r&1&&(r=Q()|0,v0(o|0),ne(r|0)),h=0,me(7,o|0,4,s|0),r=h,h=0,r&1?(r=Q()|0,v0(o|0),ne(r|0)):V0(o|0,824,96)}function dt(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0;e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,a=(r|0)<4095?(r+128|0)/256|0:16,f=(o*3|0)+2+a|0,s=o+1|0,f=(f|0)<(s|0)|(f|0)>(r|0)?s:f,e[t+4>>2]=f,s=(a<<2|3)+(o*5|0)|0,s=(s|0)>(r|0)|(s|0)<(f|0)?f:s,e[t+8>>2]=s,o=(o*7|0)+4+(a*17|0)|0,e[t+12>>2]=(o|0)>(r|0)|(o|0)<(s|0)?s:o,e[t>>2]=r,e[t+16>>2]=64}function g6(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0;I=b,b=b+128|0,S=I+100|0,s=I+16|0,o=I+112|0,A=I+4|0,T=I,a=s,f=t+20|0,c=a+84|0;do e[a>>2]=e[f>>2],a=a+4|0,f=f+4|0;while((a|0)<(c|0));e[s+16>>2]=e[t+4>>2],f=Fa(o,s,t+56|0)|0,o=e[(e[f>>2]|0)+16>>2]|0,t=t+8|0,h=0,e[S>>2]=e[t>>2],e[S+4>>2]=e[t+4>>2],e[S+8>>2]=e[t+8>>2],o=Ce(o|0,f|0,S|0)|0,t=h,h=0;do if(t&1)o=Q()|0;else{if(a=r+4|0,e[A>>2]=e[a>>2],e[A+4>>2]=e[a+4>>2],e[A+8>>2]=e[a+8>>2],a=r+16|0,t=e[a>>2]|0,S=A+8|0,e[S>>2]=(e[S>>2]|0)-t,S=A+4|0,e[S>>2]=(e[S>>2]|0)+t,S=e[(e[f>>2]|0)+12>>2]|0,e[T>>2]=o,h=0,o=Pe(S|0,f|0,T|0,A|0,(m[r>>0]|0?(e[r+8>>2]|0)+t|0:0)|0)|0,A=h,h=0,A&1){if(o=Q()|0,s=e[T>>2]|0,e[T>>2]=0,!s)break;T0[e[(e[s>>2]|0)+4>>2]&255](s);break}if(s=e[T>>2]|0,e[T>>2]=0,s&&T0[e[(e[s>>2]|0)+4>>2]&255](s),e[r+4>>2]|0||(e[a>>2]=(e[a>>2]|0)+o),!f){b=I;return}T0[e[(e[f>>2]|0)+4>>2]&255](f),b=I;return}while(!1);f||ne(o|0),T0[e[(e[f>>2]|0)+4>>2]&255](f),ne(o|0)}function v6(t,r){t=t|0,r=r|0,e[t>>2]=e[r>>2],e[t+4>>2]=e[r+4>>2],e[t+8>>2]=e[r+8>>2],m[t+12>>0]=0,r=t+16|0,t=r+100|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(t|0))}function S6(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0;B=b,b=b+32|0,q=B+4|0,D=B+16|0,L=B,Ss(t),F=t+16|0,a=e[t+24>>2]|0;e:do if((a+-2|0)>>>0<=14)if(N=t+40|0,o=e[N>>2]|0,o>>>0>2)o=5;else{switch(z=t+32|0,f=e[z>>2]|0,f|0){case 0:{o=1;break e}case 4:{if((o|0)==2){o=2;break e}break}case 3:break;default:if(o){o=2;break e}}if(k=t+100|0,o=t+108|0,s=e[o>>2]|0,(s|0)<1?(s=e[F>>2]|0,e[o>>2]=s,o=e[t+20>>2]|0,e[t+112>>2]=o):o=e[t+112>>2]|0,A=Wi(o|0,((o|0)<0)<<31>>31|0,s|0,((s|0)<0)<<31>>31|0)|0,S=(a+7|0)/8|0,S=Wi(A|0,xe|0,S|0,((S|0)<0)<<31>>31|0)|0,A=r+4|0,o=e[A>>2]|0,c=r+8|0,o|0&&(I=e[c>>2]|0,T=Wi(f|0,((f|0)<0)<<31>>31|0,S|0,xe|0)|0,a=xe,0<(a|0)|(a|0)==0&I>>>0<T>>>0)&&(o=g0(16)|0,h=0,s=ve(1)|0,L=h,h=0,!(L&1)&&(h=0,me(7,o|0,3,s|0),L=h,h=0,!(L&1))&&V0(o|0,824,96),L=Q()|0,v0(o|0),ne(L|0)),I=t+52|0,T=t+12|0,(f|0)>0)f=0;else{b=B;return}for(;;){if(ws(t,(f|0)==0),s=Da(D,F,I)|0,a=e[(e[s>>2]|0)+8>>2]|0,h=0,e[q>>2]=e[r>>2],e[q+4>>2]=e[r+4>>2],e[q+8>>2]=e[r+8>>2],a=Ce(a|0,s|0,q|0)|0,M=h,h=0,M&1){a=32;break}if(M=e[(e[s>>2]|0)+16>>2]|0,e[L>>2]=a,h=0,Ee(M|0,s|0,L|0,k|0,t|0,(m[T>>0]|0)!=0|0),M=h,h=0,M&1){a=30;break}if(a=e[L>>2]|0,e[L>>2]=0,a&&T0[e[(e[a>>2]|0)+4>>2]&255](a),o?(o=o+S|0,e[A>>2]=o,e[c>>2]=(e[c>>2]|0)-S):o=0,a=(e[N>>2]|0)==0,f=(a&1)+f|0,s&&T0[e[(e[s>>2]|0)+4>>2]&255](s),!a){a=34;break}if((f|0)>=(e[z>>2]|0)){a=34;break}}if((a|0)==30)o=Q()|0,a=e[L>>2]|0,e[L>>2]=0,a&&T0[e[(e[a>>2]|0)+4>>2]&255](a);else if((a|0)==32)o=Q()|0,s||(M=o,ne(M|0));else if((a|0)==34){b=B;return}T0[e[(e[s>>2]|0)+4>>2]&255](s),M=o,ne(M|0)}else o=2;while(!1);s=g0(16)|0,h=0,a=ve(1)|0,M=h,h=0,!(M&1)&&(h=0,me(7,s|0,o|0,a|0),M=h,h=0,!(M&1))&&V0(s|0,824,96),M=Q()|0,v0(s|0),ne(M|0)}function Ss(t){t=t|0;var r=0,o=0,s=0,a=0;if((Dn(t)|0)<<24>>24!=-40&&(r=g0(16)|0,h=0,o=ve(1)|0,a=h,h=0,!(a&1)&&(h=0,me(7,r|0,5,o|0),a=h,h=0,!(a&1))&&V0(r|0,824,96),a=Q()|0,v0(r|0),ne(a|0)),r=Dn(t)|0,r<<24>>24!=-38){for(;s=((ct(t)|0)&255)<<8,s=s|(ct(t)|0)&255,r=A6(t,r)|0,o=-2-r+s|0,!((o|0)<0);){if((o|0)>0){r=s+-2-r|0,o=0;do ct(t)|0,o=o+1|0;while((o|0)!=(r|0))}if(r=Dn(t)|0,r<<24>>24==-38){a=8;break}}(a|0)!=8&&(r=g0(16)|0,h=0,o=ve(1)|0,a=h,h=0,!(a&1)&&(h=0,me(7,r|0,5,o|0),a=h,h=0,!(a&1))&&V0(r|0,824,96),a=Q()|0,v0(r|0),ne(a|0))}}function ws(t,r){t=t|0,r=r|0;var o=0,s=0,a=0;r||((ct(t)|0)<<24>>24!=-1&&(r=g0(16)|0,h=0,o=ve(1)|0,t=h,h=0,!(t&1)&&(h=0,me(7,r|0,12,o|0),t=h,h=0,!(t&1))&&V0(r|0,824,96),t=Q()|0,v0(r|0),ne(t|0)),(ct(t)|0)<<24>>24!=-38&&(r=g0(16)|0,h=0,o=ve(1)|0,t=h,h=0,!(t&1)&&(h=0,me(7,r|0,5,o|0),t=h,h=0,!(t&1))&&V0(r|0,824,96),t=Q()|0,v0(r|0),ne(t|0))),ct(t)|0,ct(t)|0,o=ct(t)|0,s=o&255;do if(o<<24>>24==1)ct(t)|0,o=0,a=20;else{if((s|0)==(e[t+32>>2]|0))if(r=ct(t)|0,o<<24>>24){o=0,a=20;break}else break;r=g0(16)|0,h=0,o=ve(1)|0,t=h,h=0,!(t&1)&&(h=0,me(7,r|0,2,o|0),t=h,h=0,!(t&1))&&V0(r|0,824,96),t=Q()|0,v0(r|0),ne(t|0)}while(!1);if((a|0)==20)for(;ct(t)|0,o=o+1|0,r=ct(t)|0,(o|0)!=(s|0);)a=20;e[t+36>>2]=r&255,a=ct(t)|0,o=t+40|0,e[o>>2]=a&255,(a&255)>=3&&(r=g0(16)|0,h=0,o=ve(1)|0,t=h,h=0,!(t&1)&&(h=0,me(7,r|0,5,o|0),t=h,h=0,!(t&1))&&V0(r|0,824,96),t=Q()|0,v0(r|0),ne(t|0)),(ct(t)|0)<<24>>24&&(r=g0(16)|0,h=0,o=ve(1)|0,t=h,h=0,!(t&1)&&(h=0,me(7,r|0,5,o|0),t=h,h=0,!(t&1))&&V0(r|0,824,96),t=Q()|0,v0(r|0),ne(t|0)),s=t+28|0,!(e[s>>2]|0)&&(r=e[t+108>>2]|0,r||(r=e[t+16>>2]|0),e[o>>2]|0?o=e[t+32>>2]|0:o=1,a=J(o,r)|0,t=J(a,((e[t+24>>2]|0)+7|0)/8|0)|0,e[s>>2]=t)}function w6(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0;if(!((o|0)<=0)){k=r+4|0,D=r+8|0,N=0;do F=ct(t)|0,s=e[k>>2]|0,a=e[D>>2]|0,s>>>0>=a>>>0?(f=e[r>>2]|0,c=f,S=s-c+1|0,(S|0)<0&&(hi(r),c=e[r>>2]|0,a=e[D>>2]|0,f=c),T=f,s=a-T|0,s>>>0<1073741823?(s=s<<1,s=s>>>0<S>>>0?S:s,S=e[k>>2]|0,a=S-T|0,s?z=10:(I=0,A=0,s=S)):(a=e[k>>2]|0,s=2147483647,S=a,a=a-T|0,z=10),(z|0)==10&&(z=0,I=s,A=We(s)|0,s=S),m[A+a>>0]=F,T=s-T|0,F=A+(a-T)|0,nt(F|0,f|0,T|0)|0,e[r>>2]=F,e[k>>2]=A+(a+1),e[D>>2]=A+I,c&&ue(c)):(m[s>>0]=F,e[k>>2]=(e[k>>2]|0)+1),N=N+1|0;while((N|0)!=(o|0))}}function ct(t){t=t|0;var r=0,o=0,s=0,a=0;return o=e[t>>2]|0,o?(t=o+12|0,r=e[t>>2]|0,(r|0)==(e[o+16>>2]|0)?t=A0[e[(e[o>>2]|0)+40>>2]&127](o)|0:(e[t>>2]=r+1,t=P[r>>0]|0),a=t&255,a|0):(s=t+8|0,a=e[s>>2]|0,a?(t=t+4|0,r=e[t>>2]|0,o=m[r>>0]|0,r?(e[t>>2]=r+1,e[s>>2]=a+-1,a=o,a|0):(a=o,a|0)):(t=g0(16)|0,h=0,r=ve(1)|0,a=h,h=0,a&1&&(a=Q()|0,v0(t|0),ne(a|0)),h=0,me(7,t|0,4,r|0),a=h,h=0,a&1?(a=Q()|0,v0(t|0),ne(a|0)):V0(t|0,824,96),0))}function Dn(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0,S=0,A=0;if(o=b,b=b+176|0,r=o+152|0,A=o+16|0,c=o,S=ct(t)|0,s=S&255,S<<24>>24==-1){do r=ct(t)|0;while(r<<24>>24==-1);return b=o,r|0}S=A+56|0,f=A+4|0,e[A>>2]=36160,e[S>>2]=36180,h=0,de(62,A+56|0,f|0),a=h,h=0,a&1&&(A=Q()|0,Ye(S),ne(A|0)),e[A+128>>2]=0,e[A+132>>2]=-1,e[A>>2]=36200,e[A+56>>2]=36220,h=0,oe(180,f|0),a=h,h=0;do if(a&1)r=Q()|0;else{if(e[f>>2]=36236,a=A+36|0,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[A+52>>2]=16,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,h=0,de(63,f|0,r|0),o=h,h=0,o&1){A=Q()|0,fe(r),fe(a),h0(f),r=A;break}fe(r),e[A+((e[(e[A>>2]|0)+-12>>2]|0)+76)>>2]=48,h=0,r=Oe(28,A|0,50907,62)|0,o=h,h=0,!(o&1)&&(o=r+((e[(e[r>>2]|0)+-12>>2]|0)+4)|0,e[o>>2]=e[o>>2]&-75|8,o=r+((e[(e[r>>2]|0)+-12>>2]|0)+4)|0,e[o>>2]=e[o>>2]|16384,e[r+((e[(e[r>>2]|0)+-12>>2]|0)+12)>>2]=2,h=0,Ce(38,r|0,s|0)|0,s=h,h=0,!(s&1))&&(o=g0(16)|0,h=0,de(64,c|0,f|0),s=h,h=0,s&1?r=Q()|0:(h=0,r=ve(1)|0,s=h,h=0,!(s&1)&&(h=0,Re(36,o|0,12,r|0,c|0),s=h,h=0,!(s&1))?(h=0,me(6,o|0,824,96),h=0,t=0):t=1,r=Q()|0,fe(c),t||(c=r,e[A>>2]=36200,e[S>>2]=36220,e[f>>2]=36236,fe(a),h0(f),Ye(S),ne(c|0))),v0(o|0),c=r,e[A>>2]=36200,e[S>>2]=36220,e[f>>2]=36236,fe(a),h0(f),Ye(S),ne(c|0)),c=Q()|0,e[A>>2]=36200,e[S>>2]=36220,e[f>>2]=36236,fe(a),h0(f),Ye(S),ne(c|0)}while(!1);return A=r,Ye(S),ne(A|0),0}function A6(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;switch(o=b,b=b+320|0,S=o+300|0,T=o+152|0,A=o+288|0,k=o+16|0,I=o,r<<24>>24){case-9:return D=(ct(t)|0)&255,e[t+24>>2]=D,D=((ct(t)|0)&255)<<8|(ct(t)|0)&255,k=((ct(t)|0)&255)<<8|(ct(t)|0)&255,e[t+16>>2]=k,e[t+20>>2]=D,D=(ct(t)|0)&255,e[t+32>>2]=D,D=6,b=o,D|0;case-8:return D=y6(t)|0,b=o,D|0;case-24:return D=_6(t)|0,b=o,D|0;case-53:case-54:case-55:case-57:case-58:case-59:case-61:case-62:case-63:case-64:{c=T+56|0,a=T+4|0,e[T>>2]=36160,e[c>>2]=36180,h=0,de(62,T+56|0,a|0),k=h,h=0,k&1&&(D=Q()|0,Ye(c),ne(D|0)),e[T+128>>2]=0,e[T+132>>2]=-1,e[T>>2]=36200,e[T+56>>2]=36220,h=0,oe(180,a|0),k=h,h=0;do if(k&1)t=Q()|0;else{if(e[a>>2]=36236,f=T+36|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[T+52>>2]=16,e[S>>2]=0,e[S+4>>2]=0,e[S+8>>2]=0,h=0,de(63,a|0,S|0),k=h,h=0,k&1){t=Q()|0,fe(S),fe(f),h0(a);break}fe(S),h=0,t=Oe(28,T|0,50970,26)|0,k=h,h=0;do if(!(k&1)&&(h=0,s=Ce(38,t|0,r&255|0)|0,k=h,h=0,!(k&1))&&(h=0,Oe(28,s|0,50997,18)|0,k=h,h=0,!(k&1))){if(s=g0(16)|0,h=0,de(64,A|0,a|0),k=h,h=0,k&1)t=Q()|0;else if(h=0,t=ve(1)|0,k=h,h=0,!(k&1)&&(h=0,Re(36,s|0,10,t|0,A|0),k=h,h=0,!(k&1))?(h=0,me(6,s|0,824,96),h=0,o=0):o=1,t=Q()|0,fe(A),!o)break;v0(s|0)}else D=20;while(!1);(D|0)==20&&(t=Q()|0),e[T>>2]=36200,e[c>>2]=36220,e[a>>2]=36236,fe(f),h0(a),Ye(c),D=t,ne(D|0)}while(!1);D=t,Ye(c),ne(D|0)}case-25:case-32:case-2:return D=0,b=o,D|0;default:{A=k+56|0,f=k+4|0,e[k>>2]=36160,e[A>>2]=36180,h=0,de(62,k+56|0,f|0),T=h,h=0,T&1&&(D=Q()|0,Ye(A),ne(D|0)),e[k+128>>2]=0,e[k+132>>2]=-1,e[k>>2]=36200,e[k+56>>2]=36220,h=0,oe(180,f|0),T=h,h=0;do if(T&1)t=Q()|0;else{if(e[f>>2]=36236,c=k+36|0,e[c>>2]=0,e[c+4>>2]=0,e[c+8>>2]=0,e[c+12>>2]=0,e[k+52>>2]=16,e[S>>2]=0,e[S+4>>2]=0,e[S+8>>2]=0,h=0,de(63,f|0,S|0),T=h,h=0,T&1){t=Q()|0,fe(S),fe(c),h0(f);break}fe(S),h=0,t=Oe(28,k|0,51016,20)|0,T=h,h=0;do if(!(T&1)&&(h=0,a=Ce(38,t|0,r&255|0)|0,T=h,h=0,!(T&1))&&(h=0,Oe(28,a|0,51037,13)|0,T=h,h=0,!(T&1))){if(s=g0(16)|0,h=0,de(64,I|0,f|0),T=h,h=0,T&1)t=Q()|0;else if(h=0,t=ve(1)|0,T=h,h=0,!(T&1)&&(h=0,Re(36,s|0,11,t|0,I|0),T=h,h=0,!(T&1))?(h=0,me(6,s|0,824,96),h=0,o=0):o=1,t=Q()|0,fe(I),!o)break;v0(s|0)}else D=40;while(!1);(D|0)==40&&(t=Q()|0),e[k>>2]=36200,e[A>>2]=36220,e[f>>2]=36236,fe(c),h0(f),Ye(A),D=t,ne(D|0)}while(!1);D=t,Ye(A),ne(D|0)}}return 0}function y6(t){t=t|0;var r=0;return(ct(t)|0)<<24>>24!=1?(t=1,t|0):(r=((ct(t)|0)&255)<<8,r=r|(ct(t)|0)&255,e[t+52>>2]=r,r=((ct(t)|0)&255)<<8,r=r|(ct(t)|0)&255,e[t+56>>2]=r,r=((ct(t)|0)&255)<<8,r=r|(ct(t)|0)&255,e[t+60>>2]=r,r=((ct(t)|0)&255)<<8,r=r|(ct(t)|0)&255,e[t+64>>2]=r,r=((ct(t)|0)&255)<<8,r=r|(ct(t)|0)&255,e[t+68>>2]=r,t=11,t|0)}function _6(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0;o=b,b=b+16|0,a=o,e[a>>2]=0,f=a+4|0,e[f>>2]=0,e[a+8>>2]=0,h=0,me(9,t|0,a|0,4),r=h,h=0;e:do if(r&1)s=3;else{r=e[a>>2]|0;t:do if(qv(r,51051,4)|0)t=4;else{if(h=0,r=ce(69,t|0)|0,c=h,h=0,c&1){s=3;break e}switch(r=r&255,r|0){case 3:case 2:case 1:case 0:{e[t+44>>2]=r,t=5,r=e[a>>2]|0;break t}case 5:case 4:{if(r=g0(16)|0,h=0,t=ve(1)|0,c=h,h=0,!(c&1)&&(h=0,me(7,r|0,7,t|0),c=h,h=0,!(c&1))){h=0,me(6,r|0,824,96),h=0,s=3;break e}t=Q()|0,v0(r|0);break e}default:{if(r=g0(16)|0,h=0,t=ve(1)|0,c=h,h=0,!(c&1)&&(h=0,me(7,r|0,5,t|0),c=h,h=0,!(c&1))){h=0,me(6,r|0,824,96),h=0,s=3;break e}t=Q()|0,v0(r|0);break e}}}while(!1);return r?((e[f>>2]|0)!=(r|0)&&(e[f>>2]=r),ue(r),b=o,t|0):(b=o,t|0)}while(!1);return(s|0)==3&&(t=Q()|0),r=e[a>>2]|0,r||ne(t|0),(e[f>>2]|0)!=(r|0)&&(e[f>>2]=r),ue(r),ne(t|0),0}function x6(t){t=t|0;var r=0,o=0,s=0;s=e[(e[t>>2]|0)+-12>>2]|0,e[t+s>>2]=36200,r=t+(s+56)|0,e[r>>2]=36220,o=t+(s+4)|0,e[o>>2]=36236,fe(t+(s+36)|0),h0(o),Ye(r)}function T6(t){t=t|0}function I6(t){t=t|0,ue(t)}function C6(t){t=t|0,m[t>>0]=0,t=t+4|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[t+16>>2]=0,e[t+20>>2]=0,e[t+24>>2]=0,e[t+28>>2]=0}function E6(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0;if(a=b,b=b+16|0,f=a,r=u6(r)|0,e[f>>2]=r,o=t+28|0,s=e[o>>2]|0,s>>>0<(e[t+32>>2]|0)>>>0){e[s>>2]=r,e[o>>2]=s+4,e[f>>2]=0,b=a;return}if(h=0,de(57,t+24|0,f|0),t=h,h=0,t&1)r=Q()|0,o=e[f>>2]|0,e[f>>2]=0,o||ne(r|0),T0[e[(e[o>>2]|0)+4>>2]&255](o),ne(r|0);else{if(r=e[f>>2]|0,e[f>>2]=0,!r){b=a;return}T0[e[(e[r>>2]|0)+4>>2]&255](r),b=a;return}}function b6(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0;if(s=t+4|0,e[s>>2]=e[r>>2],e[s+4>>2]=e[r+4>>2],e[s+8>>2]=e[r+8>>2],ai(t,-1),ai(t,-40),s=t+28|0,a=t+24|0,r=e[a>>2]|0,(e[s>>2]|0)==(r|0))return ai(t,-1),ai(t,-39),t=t+16|0,t=e[t>>2]|0,t|0;o=0;do f=e[r+(o<<2)>>2]|0,K0[e[(e[f>>2]|0)+8>>2]&127](f,t),o=o+1|0,r=e[a>>2]|0;while(o>>>0<(e[s>>2]|0)-r>>2>>>0);return ai(t,-1),ai(t,-39),f=t+16|0,f=e[f>>2]|0,f|0}function k6(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;k=b,b=b+48|0,S=k+32|0,a=k+12|0,A=k+8|0,T=k+4|0,D=k,s=o+36|0;do if(!(e[s>>2]|0)&&!(e[o+40>>2]|0)&&!(e[o+44>>2]|0)&&!(e[o+48>>2]|0)&&!(e[o+52>>2]|0)){if(s=e[o+8>>2]|0,(s|0)<=12){f=t+28|0,c=t+32|0;break}if(dt(a,(1<<s)+-1|0,e[o+20>>2]|0),s=vs(a)|0,e[A>>2]=s,f=t+28|0,a=e[f>>2]|0,c=t+32|0,a>>>0<(e[c>>2]|0)>>>0){e[a>>2]=s,e[f>>2]=a+4,e[A>>2]=0;break}if(h=0,de(57,t+24|0,A|0),S=h,h=0,!(S&1)){if(s=e[A>>2]|0,e[A>>2]=0,!s)break;T0[e[(e[s>>2]|0)+4>>2]&255](s);break}o=Q()|0,s=e[A>>2]|0,e[A>>2]=0,s||(D=o,ne(D|0)),T0[e[(e[s>>2]|0)+4>>2]&255](s),D=o,ne(D|0)}else I=6;while(!1);do if((I|0)==6){if(s=vs(s)|0,e[S>>2]=s,f=t+28|0,a=e[f>>2]|0,c=t+32|0,a>>>0<(e[c>>2]|0)>>>0){e[a>>2]=s,e[f>>2]=a+4,e[S>>2]=0;break}if(h=0,de(57,t+24|0,S|0),I=h,h=0,!(I&1)){if(s=e[S>>2]|0,e[S>>2]=0,!s)break;T0[e[(e[s>>2]|0)+4>>2]&255](s);break}o=Q()|0,s=e[S>>2]|0,e[S>>2]=0,s||(D=o,ne(D|0)),T0[e[(e[s>>2]|0)+4>>2]&255](s),D=o,ne(D|0)}while(!1);s=t+20|0,a=(e[s>>2]|0)+1|0,e[s>>2]=a,s=e[o+24>>2]|0,S=s|0?e[o+16>>2]|0:1,s=f6(a,S,e[o+20>>2]|0,s)|0,e[T>>2]=s,a=e[f>>2]|0;do if(a>>>0<(e[c>>2]|0)>>>0)e[a>>2]=s,e[f>>2]=a+4,e[T>>2]=0;else{if(h=0,de(57,t+24|0,T|0),I=h,h=0,!(I&1)){if(s=e[T>>2]|0,e[T>>2]=0,!s)break;T0[e[(e[s>>2]|0)+4>>2]&255](s);break}o=Q()|0,s=e[T>>2]|0,e[T>>2]=0,s||(D=o,ne(D|0)),T0[e[(e[s>>2]|0)+4>>2]&255](s),D=o,ne(D|0)}while(!1);A=We(104)|0,e[A>>2]=36820,e[A+4>>2]=S,a=A+8|0,e[a>>2]=e[r>>2],e[a+4>>2]=e[r+4>>2],e[a+8>>2]=e[r+8>>2],a=A+20|0,s=a+84|0;do e[a>>2]=e[o>>2],a=a+4|0,o=o+4|0;while((a|0)<(s|0));if(e[D>>2]=A,o=e[f>>2]|0,o>>>0<(e[c>>2]|0)>>>0){e[o>>2]=A,e[f>>2]=o+4,e[D>>2]=0,b=k;return}if(h=0,de(57,t+24|0,D|0),t=h,h=0,t&1)o=Q()|0,s=e[D>>2]|0,e[D>>2]=0,s||(D=o,ne(D|0)),T0[e[(e[s>>2]|0)+4>>2]&255](s),D=o,ne(D|0);else{if(o=e[D>>2]|0,e[D>>2]=0,!o){b=k;return}T0[e[(e[o>>2]|0)+4>>2]&255](o),b=k;return}}function D6(t,r,o,s,a,f,c,S,A,I,T){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0,A=A|0,I=I|0,T=T|0;var k=0,D=0,F=0,N=0,z=0,q=0,B=0;return F=b,b=b+96|0,D=F,k=Ca(t,r,D,0)|0,k?(a=k,b=F,a|0):(m[D+32>>0]=0,z=e[D+8>>2]|0,B=e[D>>2]|0,q=e[D+4>>2]|0,k=J(q,B)|0,N=e[D+16>>2]|0,k=J(J(k,(z|0)<9?1:2)|0,N)|0,e[s>>2]=k,k=It(k)|0,e[o>>2]=k,e[a>>2]=B,e[f>>2]=q,e[c>>2]=z,e[S>>2]=e[D+12>>2],e[A>>2]=N,e[I>>2]=e[D+20>>2],e[T>>2]=e[D+24>>2],a=Ea(k,e[s>>2]|0,t,r,0,0)|0,b=F,a|0)}function P6(t,r,o,s,a,f,c,S,A){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,c=c|0,S=S|0,A=A|0;var I=0,T=0,k=0,D=0;k=b,b=b+96|0,I=k+4|0,c=k,T=I,D=T+84|0;do e[T>>2]=0,T=T+4|0;while((T|0)<(D|0));return e[I+16>>2]=f,e[I+8>>2]=a,e[I>>2]=o,e[I+4>>2]=s,o=It(r)|0,e[S>>2]=o,e[c>>2]=0,o=Ia(S,r,c,t,r,I,0)|0,e[A>>2]=e[c>>2],b=k,o|0}function ki(t,r){t=t|0,r=r|0;var o=0;o=b,b=b+16|0,e[o>>2]=r,r=e[9320]|0,zs(r,t,o)|0,Lv(10,r)|0,u0()}function ri(t){t=t|0,Gn(51337,51366,1164,51442)}function hi(t){t=t|0,Gn(51463,51486,303,51442)}function As(){var t=0,r=0;if(t=b,b=b+16|0,ra(37024,4)|0)ki(51562,t);else return r=ia(e[9255]|0)|0,b=t,r|0;return 0}function We(t){t=t|0;var r=0;r=t|0?t:1,t=It(r)|0;e:do if(!t){for(;t=B6()|0,!!t;)if(Ws[t&7](),t=It(r)|0,t)break e;r=g0(4)|0,e[r>>2]=36844,V0(r|0,592,78)}while(!1);return t|0}function ue(t){t=t|0,Z0(t)}function F6(t){t=t|0,ue(t)}function M6(t){t=t|0,e[t>>2]=36844}function R6(t){t=t|0}function O6(t){t=t|0,ue(t)}function L6(t){return t=t|0,51611}function ys(t){t=t|0;var r=0;r=b,b=b+16|0,h=0,_0(t|0),t=h,h=0,t&1||(h=0,de(85,51626,r|0),h=0),t=Q(0)|0,Wt(t|0)|0,h=0,de(85,51666,r+8|0),h=0,t=Q(0)|0,h=0,_0(3),r=h,h=0,r&1?(r=Q(0)|0,b0(r)):b0(t)}function N6(){var t=0,r=0,o=0;h=0,t=ve(2)|0,o=h,h=0,o&1&&(o=Q(0)|0,b0(o)),t|0&&(r=e[t>>2]|0,(r|0)!=0)&&(o=r+48|0,(e[o>>2]&-256|0)==1126902528?(e[o+4>>2]|0)==1129074247:0)&&ys(e[r+12>>2]|0),o=e[9208]|0,e[9208]=o+0,ys(o)}function B6(){var t=0;return t=e[9214]|0,e[9214]=t+0,t|0}function x8(t){t=t|0}function Er(t){t=t|0,e[t>>2]=36868,cv(t+4|0)}function U6(t){t=t|0,Er(t),ue(t)}function V6(t){return t=t|0,e[t+4>>2]|0}function T8(t){t=t|0}function z6(t){t=t|0,e[t>>2]=36888}function q6(t){t=t|0}function G6(t){t=t|0,ue(t)}function $6(t){return t=t|0,51716}function H6(t){t=t|0}function W6(t){t=t|0}function Q6(t){t=t|0}function j6(t){t=t|0,ue(t)}function Y6(t){t=t|0,ue(t)}function K6(t){t=t|0,ue(t)}function X6(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0;if(c=b,b=b+64|0,f=c,(t|0)!=(r|0))if(r|0&&(a=xs(r,656,672,0)|0,(a|0)!=0)){r=f,s=r+56|0;do e[r>>2]=0,r=r+4|0;while((r|0)<(s|0));e[f>>2]=a,e[f+8>>2]=t,e[f+12>>2]=-1,e[f+48>>2]=1,Ur[e[(e[a>>2]|0)+28>>2]&63](a,f,e[o>>2]|0,1),(e[f+24>>2]|0)==1?(e[o>>2]=e[f+16>>2],r=1):r=0}else r=0;else r=1;return b=c,r|0}function Pn(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0;t=r+16|0,a=e[t>>2]|0;do if(a){if((a|0)!=(o|0)){s=r+36|0,e[s>>2]=(e[s>>2]|0)+1,e[r+24>>2]=2,m[r+54>>0]=1;break}t=r+24|0,(e[t>>2]|0)==2&&(e[t>>2]=s)}else e[t>>2]=o,e[r+24>>2]=s,e[r+36>>2]=1;while(!1)}function Z6(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0,(t|0)==(e[r+8>>2]|0)&&Pn(0,r,o,s)}function J6(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0,(t|0)==(e[r+8>>2]|0)?Pn(0,r,o,s):(t=e[t+8>>2]|0,Ur[e[(e[t>>2]|0)+28>>2]&63](t,r,o,s))}function _s(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0;f=e[t+4>>2]|0,a=f>>8,f&1&&(a=e[(e[o>>2]|0)+a>>2]|0),t=e[t>>2]|0,Ur[e[(e[t>>2]|0)+28>>2]&63](t,r,o+a|0,f&2|0?s:2)}function ev(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0;e:do if((t|0)!=(e[r+8>>2]|0)){if(f=e[t+12>>2]|0,a=t+16+(f<<3)|0,_s(t+16|0,r,o,s),(f|0)>1){f=r+54|0,t=t+24|0;do{if(_s(t,r,o,s),m[f>>0]|0)break e;t=t+8|0}while(t>>>0<a>>>0)}}else Pn(0,r,o,s);while(!1)}function xs(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;F=b,b=b+64|0,D=F,k=e[t>>2]|0,T=t+(e[k+-8>>2]|0)|0,k=e[k+-4>>2]|0,e[D>>2]=o,e[D+4>>2]=t,e[D+8>>2]=r,e[D+12>>2]=s,s=D+16|0,t=D+20|0,r=D+24|0,a=D+28|0,f=D+32|0,c=D+40|0,S=(k|0)==(o|0),A=s,I=A+36|0;do e[A>>2]=0,A=A+4|0;while((A|0)<(I|0));y[s+36>>1]=0,m[s+38>>0]=0;e:do if(S)e[D+48>>2]=1,Ui[e[(e[o>>2]|0)+20>>2]&15](o,D,T,T,1,0),s=(e[r>>2]|0)==1?T:0;else{switch(Nr[e[(e[k>>2]|0)+24>>2]&15](k,D,T,1,0),e[D+36>>2]|0){case 0:{s=(e[c>>2]|0)==1&(e[a>>2]|0)==1&(e[f>>2]|0)==1?e[t>>2]|0:0;break e}case 1:break;default:{s=0;break e}}if((e[r>>2]|0)!=1&&!((e[c>>2]|0)==0&(e[a>>2]|0)==1&(e[f>>2]|0)==1)){s=0;break}s=e[s>>2]|0}while(!1);return b=F,s|0}function Fn(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,m[r+53>>0]=1;do if((e[r+4>>2]|0)==(s|0)){if(m[r+52>>0]=1,s=r+16|0,t=e[s>>2]|0,!t){if(e[s>>2]=o,e[r+24>>2]=a,e[r+36>>2]=1,!((a|0)==1&&(e[r+48>>2]|0)==1))break;m[r+54>>0]=1;break}if((t|0)!=(o|0)){a=r+36|0,e[a>>2]=(e[a>>2]|0)+1,m[r+54>>0]=1;break}t=r+24|0,s=e[t>>2]|0,(s|0)==2&&(e[t>>2]=a,s=a),(s|0)==1&&(e[r+48>>2]|0)==1&&(m[r+54>>0]=1)}while(!1)}function tv(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;e:do if((t|0)==(e[r+8>>2]|0))(e[r+4>>2]|0)==(o|0)&&(f=r+28|0,(e[f>>2]|0)!=1)&&(e[f>>2]=s);else{if((t|0)!=(e[r>>2]|0)){if(N=e[t+12>>2]|0,S=t+16+(N<<3)|0,br(t+16|0,r,o,s,a),f=t+24|0,(N|0)<=1)break;if(c=e[t+8>>2]|0,!(c&2|0)&&(A=r+36|0,(e[A>>2]|0)!=1)){if(!(c&1)){for(c=r+54|0;;)if(m[c>>0]|0||(e[A>>2]|0)==1||(br(f,r,o,s,a),f=f+8|0,f>>>0>=S>>>0))break e}for(c=r+24|0,t=r+54|0;;)if(m[t>>0]|0||(e[A>>2]|0)==1&&(e[c>>2]|0)==1||(br(f,r,o,s,a),f=f+8|0,f>>>0>=S>>>0))break e}for(c=r+54|0;;)if(m[c>>0]|0||(br(f,r,o,s,a),f=f+8|0,f>>>0>=S>>>0))break e}if((e[r+16>>2]|0)!=(o|0)&&(F=r+20|0,(e[F>>2]|0)!=(o|0))){if(e[r+32>>2]=s,T=r+44|0,(e[T>>2]|0)==4)break;c=e[t+12>>2]|0,S=t+16+(c<<3)|0,A=r+52|0,s=r+53|0,k=r+54|0,I=t+8|0,D=r+24|0;t:do if((c|0)>0)for(c=0,f=0,t=t+16|0;;){if(m[A>>0]=0,m[s>>0]=0,Mn(t,r,o,o,1,a),m[k>>0]|0){N=20;break t}do if(m[s>>0]|0){if(!(m[A>>0]|0))if(e[I>>2]&1){f=1;break}else{f=1,N=20;break t}if((e[D>>2]|0)==1)break t;if(e[I>>2]&2)c=1,f=1;else break t}while(!1);if(t=t+8|0,t>>>0>=S>>>0){N=20;break}}else c=0,f=0,N=20;while(!1);do if((N|0)==20){if(!c&&(e[F>>2]=o,o=r+40|0,e[o>>2]=(e[o>>2]|0)+1,(e[r+36>>2]|0)==1)&&(e[D>>2]|0)==2){if(m[k>>0]=1,f)break}else N=24;if((N|0)==24&&f)break;e[T>>2]=4;break e}while(!1);e[T>>2]=3;break}(s|0)==1&&(e[r+32>>2]=1)}while(!1)}function Mn(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0;S=e[t+4>>2]|0,c=S>>8,S&1&&(c=e[(e[s>>2]|0)+c>>2]|0),t=e[t>>2]|0,Ui[e[(e[t>>2]|0)+20>>2]&15](t,r,o,s+c|0,S&2|0?a:2,f)}function br(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0;c=e[t+4>>2]|0,f=c>>8,c&1&&(f=e[(e[o>>2]|0)+f>>2]|0),t=e[t>>2]|0,Nr[e[(e[t>>2]|0)+24>>2]&15](t,r,o+f|0,c&2|0?s:2,a)}function iv(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0;e:do if((t|0)==(e[r+8>>2]|0))(e[r+4>>2]|0)==(o|0)&&(f=r+28|0,(e[f>>2]|0)!=1)&&(e[f>>2]=s);else{if((t|0)!=(e[r>>2]|0)){S=e[t+8>>2]|0,Nr[e[(e[S>>2]|0)+24>>2]&15](S,r,o,s,a);break}if((e[r+16>>2]|0)!=(o|0)&&(c=r+20|0,(e[c>>2]|0)!=(o|0))){if(e[r+32>>2]=s,s=r+44|0,(e[s>>2]|0)==4)break;f=r+52|0,m[f>>0]=0,A=r+53|0,m[A>>0]=0,t=e[t+8>>2]|0,Ui[e[(e[t>>2]|0)+20>>2]&15](t,r,o,o,1,a),m[A>>0]|0?m[f>>0]|0||(f=1,S=13):(f=0,S=13);do if((S|0)==13){if(e[c>>2]=o,A=r+40|0,e[A>>2]=(e[A>>2]|0)+1,(e[r+36>>2]|0)==1&&(e[r+24>>2]|0)==2){if(m[r+54>>0]=1,f)break}else S=16;if((S|0)==16&&f)break;e[s>>2]=4;break e}while(!1);e[s>>2]=3;break}(s|0)==1&&(e[r+32>>2]=1)}while(!1)}function rv(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0;do if((t|0)==(e[r+8>>2]|0))(e[r+4>>2]|0)==(o|0)&&(c=r+28|0,(e[c>>2]|0)!=1)&&(e[c>>2]=s);else if((t|0)==(e[r>>2]|0)){if((e[r+16>>2]|0)!=(o|0)&&(f=r+20|0,(e[f>>2]|0)!=(o|0))){e[r+32>>2]=s,e[f>>2]=o,a=r+40|0,e[a>>2]=(e[a>>2]|0)+1,(e[r+36>>2]|0)==1&&(e[r+24>>2]|0)==2&&(m[r+54>>0]=1),e[r+44>>2]=4;break}(s|0)==1&&(e[r+32>>2]=1)}while(!1)}function nv(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0;var c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;if((t|0)==(e[r+8>>2]|0))Fn(0,r,o,s,a);else{T=r+52|0,k=m[T>>0]|0,D=r+53|0,F=m[D>>0]|0,I=e[t+12>>2]|0,c=t+16+(I<<3)|0,m[T>>0]=0,m[D>>0]=0,Mn(t+16|0,r,o,s,a,f);e:do if((I|0)>1){S=r+24|0,A=t+8|0,I=r+54|0,t=t+24|0;do{if(m[I>>0]|0)break e;if(m[T>>0]|0){if((e[S>>2]|0)==1||!(e[A>>2]&2))break e}else if(m[D>>0]|0&&!(e[A>>2]&1|0))break e;m[T>>0]=0,m[D>>0]=0,Mn(t,r,o,s,a,f),t=t+8|0}while(t>>>0<c>>>0)}while(!1);m[T>>0]=k,m[D>>0]=F}}function ov(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,(t|0)==(e[r+8>>2]|0)?Fn(0,r,o,s,a):(t=e[t+8>>2]|0,Ui[e[(e[t>>2]|0)+20>>2]&15](t,r,o,s,a,f))}function sv(t,r,o,s,a,f){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0,f=f|0,(t|0)==(e[r+8>>2]|0)&&Fn(0,r,o,s,a)}function av(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0;return a=b,b=b+16|0,s=a,e[s>>2]=e[o>>2],t=G0[e[(e[t>>2]|0)+16>>2]&63](t,r,s)|0,t&&(e[o>>2]=e[s>>2]),b=a,t&1|0}function lv(t){return t=t|0,t?t=(xs(t,656,704,0)|0)!=0:t=0,t&1|0}function kr(){var t=0;t=g0(4)|0,M6(t),V0(t|0,592,78)}function uv(){var t=0,r=0,o=0,s=0,a=0,f=0,c=0,S=0;a=b,b=b+48|0,c=a+32|0,o=a+24|0,S=a+16|0,f=a,a=a+36|0,t=As()|0,t|0&&(s=e[t>>2]|0,(s|0)!=0)&&(t=s+48|0,r=e[t>>2]|0,t=e[t+4>>2]|0,(r&-256|0)==1126902528&(t|0)==1129074247||(e[o>>2]=e[9257],ki(51919,o)),(r|0)==1126902529&(t|0)==1129074247?t=e[s+44>>2]|0:t=s+80|0,e[a>>2]=t,s=e[s>>2]|0,t=e[s+4>>2]|0,G0[e[(e[152]|0)+16>>2]&63](608,s,a)|0?(S=e[a>>2]|0,a=e[9257]|0,S=A0[e[(e[S>>2]|0)+8>>2]&127](S)|0,e[f>>2]=a,e[f+4>>2]=t,e[f+8>>2]=S,ki(51833,f)):(e[S>>2]=e[9257],e[S+4>>2]=t,ki(51878,S))),ki(51957,c)}function fv(){var t=0;if(t=b,b=b+16|0,ti(37020,184)|0)ki(51730,t);else{b=t;return}}function cv(t){t=t|0;var r=0,o=0;o=(e[t>>2]|0)+-4|0,r=e[o>>2]|0,e[o>>2]=r+-1,(r+-1|0)<0&&ue((e[t>>2]|0)+-12|0)}function hv(t){t=t|0;var r=0;if(r=b,b=b+16|0,Z0(t),aa(e[9255]|0,0)|0)ki(51780,r);else{b=r;return}}function Dr(t,r,o,s){return t=t|0,r=r|0,o=o|0,s=s|0,t=Uv(t,r,o)|0,t|0}function Ts(t,r,o,s){return t=t|0,r=r|0,o=o|0,s=s|0,t=Vv(t,r,o)|0,t|0}function dv(){return 37296}function pv(){return 37300}function mv(){return 37304}function Yi(t){return t=t|0,((t|0)==32|(t+-9|0)>>>0<5)&1|0}function gv(t){return t=t|0,(t+-48|0)>>>0<10?t=1:t=((t|32)+-97|0)>>>0<6,t&1|0}function gt(){var t=0;return e[9258]|0?(t=(Hn()|0)+60|0,t=e[t>>2]|0):t=37308,t|0}function Is(t){t=t|0;var r=0,o=0;for(r=0;;){if((P[51978+r>>0]|0)==(t|0)){o=2;break}if(r=r+1|0,(r|0)==87){r=87,t=52066,o=5;break}}if((o|0)==2&&(r?(t=52066,o=5):t=52066),(o|0)==5)for(;;){for(o=t;t=o+1|0,m[o>>0]|0;)o=t;if(r=r+-1|0,r)o=5;else break}return t|0}function Cs(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0,_e=0,Se=0,Ke=0,$0=0,R0=0;switch($0=b,b=b+512|0,Te=$0,r|0){case 0:{Ke=24,Se=-149,R=4;break}case 1:{Ke=53,Se=-1074,R=4;break}case 2:{Ke=53,Se=-1074,R=4;break}default:s=0}e:do if((R|0)==4){re=t+4|0,Z=t+100|0;do r=e[re>>2]|0,r>>>0<(e[Z>>2]|0)>>>0?(e[re>>2]=r+1,r=P[r>>0]|0):r=at(t)|0;while(Yi(r)|0);t:do switch(r|0){case 43:case 45:if(a=1-(((r|0)==45&1)<<1)|0,r=e[re>>2]|0,r>>>0<(e[Z>>2]|0)>>>0){e[re>>2]=r+1,r=P[r>>0]|0,_e=a;break t}else{r=at(t)|0,_e=a;break t}default:_e=1}while(!1);a=r,r=0;do{if((a|32|0)!=(m[53870+r>>0]|0))break;do if(r>>>0<7)if(a=e[re>>2]|0,a>>>0<(e[Z>>2]|0)>>>0){e[re>>2]=a+1,a=P[a>>0]|0;break}else{a=at(t)|0;break}while(!1);r=r+1|0}while(r>>>0<8);t:do switch(r|0){case 8:break;case 3:{R=23;break}default:{if(c=(o|0)!=0,c&r>>>0>3){if((r|0)==8)break t;R=23;break t}i:do if(!r){r=0;do{if((a|32|0)!=(m[56747+r>>0]|0))break i;do if(r>>>0<2)if(a=e[re>>2]|0,a>>>0<(e[Z>>2]|0)>>>0){e[re>>2]=a+1,a=P[a>>0]|0;break}else{a=at(t)|0;break}while(!1);r=r+1|0}while(r>>>0<3)}while(!1);switch(r|0){case 3:{if(r=e[re>>2]|0,r>>>0<(e[Z>>2]|0)>>>0?(e[re>>2]=r+1,r=P[r>>0]|0):r=at(t)|0,(r|0)==40)r=1;else{if(!(e[Z>>2]|0)){s=pe;break e}e[re>>2]=(e[re>>2]|0)+-1,s=pe;break e}for(;a=e[re>>2]|0,a>>>0<(e[Z>>2]|0)>>>0?(e[re>>2]=a+1,a=P[a>>0]|0):a=at(t)|0,!(!((a+-48|0)>>>0<10|(a+-65|0)>>>0<26)&&!((a|0)==95|(a+-97|0)>>>0<26));)r=r+1|0;if((a|0)==41){s=pe;break e}if(a=(e[Z>>2]|0)==0,a||(e[re>>2]=(e[re>>2]|0)+-1),!c){Ke=gt()|0,e[Ke>>2]=22,ni(t,0),s=0;break e}if(!r){s=pe;break e}for(;;)if(r=r+-1|0,a||(e[re>>2]=(e[re>>2]|0)+-1),!r){s=pe;break e}}case 0:{do if((a|0)==48){if(r=e[re>>2]|0,r>>>0<(e[Z>>2]|0)>>>0?(e[re>>2]=r+1,r=P[r>>0]|0):r=at(t)|0,(r|32|0)!=120){if(!(e[Z>>2]|0)){r=48;break}e[re>>2]=(e[re>>2]|0)+-1,r=48;break}r=e[re>>2]|0,r>>>0<(e[Z>>2]|0)>>>0?(e[re>>2]=r+1,r=P[r>>0]|0,c=0):(r=at(t)|0,c=0);i:for(;;){switch(r|0){case 46:{R=74;break i}case 48:break;default:{L=0,S=0,B=0,a=0,I=c,T=0,q=0,A=1,c=0,s=0;break i}}if(r=e[re>>2]|0,r>>>0<(e[Z>>2]|0)>>>0){e[re>>2]=r+1,r=P[r>>0]|0,c=1;continue}else{r=at(t)|0,c=1;continue}}if((R|0)==74)if(r=e[re>>2]|0,r>>>0<(e[Z>>2]|0)>>>0?(e[re>>2]=r+1,r=P[r>>0]|0):r=at(t)|0,(r|0)==48){c=0,a=0;do r=e[re>>2]|0,r>>>0<(e[Z>>2]|0)>>>0?(e[re>>2]=r+1,r=P[r>>0]|0):r=at(t)|0,c=Lt(c|0,a|0,-1,-1)|0,a=xe;while((r|0)==48);L=0,S=0,B=c,I=1,T=1,q=0,A=1,c=0,s=0}else L=0,S=0,B=0,a=0,I=c,T=1,q=0,A=1,c=0,s=0;for(;;){if(N=r+-48|0,k=r|32,N>>>0>=10){if(z=(r|0)==46,!(z|(k+-97|0)>>>0<6)){k=B,N=L;break}if(z)if(!T)z=S,a=L,N=L,T=1,k=q,f=A;else{k=B,N=L,r=46;break}else R=86}else R=86;if((R|0)==86){R=0,r=(r|0)>57?k+-87|0:N;do if((L|0)<0|(L|0)==0&S>>>0<8)k=q,f=A,c=r+(c<<4)|0;else{if((L|0)<0|(L|0)==0&S>>>0<14){F=A*.0625,k=q,f=F,s=s+F*+(r|0);break}(q|0)!=0|(r|0)==0?(k=q,f=A):(k=1,f=A,s=s+A*.5)}while(!1);S=Lt(S|0,L|0,1,0)|0,z=B,N=xe,I=1}if(r=e[re>>2]|0,r>>>0<(e[Z>>2]|0)>>>0){e[re>>2]=r+1,L=N,B=z,r=P[r>>0]|0,q=k,A=f;continue}else{L=N,B=z,r=at(t)|0,q=k,A=f;continue}}if(!I){r=(e[Z>>2]|0)==0,r||(e[re>>2]=(e[re>>2]|0)+-1),o?!r&&(M=e[re>>2]|0,e[re>>2]=M+-1,(T|0)!=0)&&(e[re>>2]=M+-2):ni(t,0),s=+(_e|0)*0;break e}if(I=(T|0)==0,T=I?S:k,I=I?N:a,(N|0)<0|(N|0)==0&S>>>0<8){a=N;do c=c<<4,S=Lt(S|0,a|0,1,0)|0,a=xe;while((a|0)<0|(a|0)==0&S>>>0<8)}if((r|32|0)==112){if(a=Hs(t,o)|0,r=xe,(a|0)==0&(r|0)==-2147483648){if(!o){ni(t,0),s=0;break e}e[Z>>2]|0?(e[re>>2]=(e[re>>2]|0)+-1,a=0,r=0):(a=0,r=0)}}else e[Z>>2]|0?(e[re>>2]=(e[re>>2]|0)+-1,a=0,r=0):(a=0,r=0);if(Te=St(T|0,I|0,2)|0,Te=Lt(Te|0,xe|0,-32,-1)|0,r=Lt(Te|0,xe|0,a|0,r|0)|0,a=xe,!c){s=+(_e|0)*0;break e}if((a|0)>0|(a|0)==0&r>>>0>(0-Se|0)>>>0){Ke=gt()|0,e[Ke>>2]=34,s=+(_e|0)*17976931348623157e292*17976931348623157e292;break e}if(Te=Se+-106|0,se=((Te|0)<0)<<31>>31,(a|0)<(se|0)|(a|0)==(se|0)&r>>>0<Te>>>0){Ke=gt()|0,e[Ke>>2]=34,s=+(_e|0)*22250738585072014e-324*22250738585072014e-324;break e}if((c|0)>-1){do se=!(s>=.5),Te=se&1|c<<1,c=Te^1,s=s+(se?s:s+-1),r=Lt(r|0,a|0,-1,-1)|0,a=xe;while((Te|0)>-1);S=r,A=s}else S=r,A=s;r=ei(32,0,Se|0,((Se|0)<0)<<31>>31|0)|0,r=Lt(S|0,a|0,r|0,xe|0)|0,Se=xe,0>(Se|0)|(Se|0)==0&Ke>>>0>r>>>0?(r|0)<0?(r=0,R=127):R=125:(r=Ke,R=125),(R|0)==125&&((r|0)<53?R=127:(a=r,f=+(_e|0),s=0)),(R|0)==127&&(s=+(_e|0),a=r,f=s,s=+ks(+Pr(1,84-r|0),s)),Ke=(c&1|0)==0&(A!=0&(a|0)<32),s=f*(Ke?0:A)+(s+f*+(((Ke&1)+c|0)>>>0))-s,s==0&&(Ke=gt()|0,e[Ke>>2]=34),s=+Fs(s,S);break e}else r=a;while(!1);ee=Se+Ke|0,se=0-ee|0,c=0;i:for(;;){switch(r|0){case 46:{R=138;break i}case 48:break;default:{a=0,k=0,T=0;break i}}if(r=e[re>>2]|0,r>>>0<(e[Z>>2]|0)>>>0){e[re>>2]=r+1,r=P[r>>0]|0,c=1;continue}else{r=at(t)|0,c=1;continue}}if((R|0)==138)if(r=e[re>>2]|0,r>>>0<(e[Z>>2]|0)>>>0?(e[re>>2]=r+1,r=P[r>>0]|0):r=at(t)|0,(r|0)==48)for(a=0,r=0;;)if(a=Lt(a|0,r|0,-1,-1)|0,c=xe,r=e[re>>2]|0,r>>>0<(e[Z>>2]|0)>>>0?(e[re>>2]=r+1,r=P[r>>0]|0):r=at(t)|0,(r|0)==48)r=c;else{k=c,c=1,T=1;break}else a=0,k=0,T=1;e[Te>>2]=0,I=r+-48|0,S=(r|0)==46;i:do if(S|I>>>0<10){K=Te+496|0,L=0,z=0,q=S,R=k,N=c,M=T,c=0,S=0,T=0;r:for(;;){do if(q)if(!M)a=L,k=z,M=1;else{k=R,r=L,I=z;break r}else{if(q=Lt(L|0,z|0,1,0)|0,z=xe,B=(r|0)!=48,(S|0)>=125){if(!B){k=R,L=q;break}e[K>>2]=e[K>>2]|1,k=R,L=q;break}k=Te+(S<<2)|0,c&&(I=r+-48+((e[k>>2]|0)*10|0)|0),e[k>>2]=I,c=c+1|0,I=(c|0)==9,k=R,L=q,N=1,c=I?0:c,S=(I&1)+S|0,T=B?q:T}while(!1);if(r=e[re>>2]|0,r>>>0<(e[Z>>2]|0)>>>0?(e[re>>2]=r+1,r=P[r>>0]|0):r=at(t)|0,I=r+-48|0,q=(r|0)==46,q|I>>>0<10)R=k;else{I=M,R=161;break i}}N=(N|0)!=0,R=169}else L=0,z=0,N=c,I=T,c=0,S=0,T=0,R=161;while(!1);do if((R|0)==161){if(K=(I|0)==0,a=K?L:a,k=K?z:k,N=(N|0)!=0,!((r|32|0)==101&N))if((r|0)>-1){r=L,I=z,R=169;break}else{r=L,I=z,R=171;break}if(I=Hs(t,o)|0,r=xe,(I|0)==0&(r|0)==-2147483648){if(!o){ni(t,0),s=0;break}e[Z>>2]|0?(e[re>>2]=(e[re>>2]|0)+-1,I=0,r=0):(I=0,r=0)}a=Lt(I|0,r|0,a|0,k|0)|0,N=L,k=xe,I=z,R=173}while(!1);(R|0)==169&&(e[Z>>2]|0?(e[re>>2]=(e[re>>2]|0)+-1,N?(N=r,R=173):R=172):R=171),(R|0)==171&&(N?(N=r,R=173):R=172);do if((R|0)==172)Ke=gt()|0,e[Ke>>2]=22,ni(t,0),s=0;else if((R|0)==173){if(r=e[Te>>2]|0,!r){s=+(_e|0)*0;break}if(((I|0)<0|(I|0)==0&N>>>0<10)&((a|0)==(N|0)&(k|0)==(I|0))&&Ke>>>0>30|(r>>>Ke|0)==0){s=+(_e|0)*+(r>>>0);break}if(t=(Se|0)/-2|0,re=((t|0)<0)<<31>>31,(k|0)>(re|0)|(k|0)==(re|0)&a>>>0>t>>>0){Ke=gt()|0,e[Ke>>2]=34,s=+(_e|0)*17976931348623157e292*17976931348623157e292;break}if(t=Se+-106|0,re=((t|0)<0)<<31>>31,(k|0)<(re|0)|(k|0)==(re|0)&a>>>0<t>>>0){Ke=gt()|0,e[Ke>>2]=34,s=+(_e|0)*22250738585072014e-324*22250738585072014e-324;break}if(c){if((c|0)<9){I=Te+(S<<2)|0,r=e[I>>2]|0;do r=r*10|0,c=c+1|0;while((c|0)!=9);e[I>>2]=r}S=S+1|0}if((T|0)<9&&(T|0)<=(a|0)&(a|0)<18){if((a|0)==9){s=+(_e|0)*+((e[Te>>2]|0)>>>0);break}if((a|0)<9){s=+(_e|0)*+((e[Te>>2]|0)>>>0)/+(e[37312+(8-a<<2)>>2]|0);break}if(t=Ke+27+(J(a,-3)|0)|0,r=e[Te>>2]|0,(t|0)>30|(r>>>t|0)==0){s=+(_e|0)*+(r>>>0)*+(e[37312+(a+-10<<2)>>2]|0);break}}if(r=(a|0)%9|0,!r)c=0,r=0;else{if(N=(a|0)>-1?r:r+9|0,I=e[37312+(8-N<<2)>>2]|0,S){T=1e9/(I|0)|0,c=0,r=0,k=0;do Z=Te+(k<<2)|0,re=e[Z>>2]|0,t=((re>>>0)/(I>>>0)|0)+r|0,e[Z>>2]=t,r=J((re>>>0)%(I>>>0)|0,T)|0,t=(k|0)==(c|0)&(t|0)==0,k=k+1|0,a=t?a+-9|0:a,c=t?k&127:c;while((k|0)!=(S|0));r&&(e[Te+(S<<2)>>2]=r,S=S+1|0)}else c=0,S=0;r=0,a=9-N+a|0}i:for(;;){z=(a|0)<18,q=(a|0)==18,B=Te+(c<<2)|0;do{if(!z){if(!q)break i;if((e[B>>2]|0)>>>0>=9007199){a=18;break i}}for(I=0,T=S+127|0;N=T&127,k=Te+(N<<2)|0,T=St(e[k>>2]|0,0,29)|0,T=Lt(T|0,xe|0,I|0,0)|0,I=xe,I>>>0>0|(I|0)==0&T>>>0>1e9?(t=_r(T|0,I|0,1e9,0)|0,T=bn(T|0,I|0,1e9,0)|0,I=t):I=0,e[k>>2]=T,t=(N|0)==(c|0),S=(N|0)!=(S+127&127|0)|t||T|0?S:N,!t;)T=N+-1|0;r=r+-29|0}while(!(I|0));c=c+127&127,(c|0)==(S|0)&&(t=S+127&127,S=Te+((S+126&127)<<2)|0,e[S>>2]=e[S>>2]|e[Te+(t<<2)>>2],S=t),e[Te+(c<<2)>>2]=I,a=a+9|0}i:for(;;){for(L=S+1&127,B=Te+((S+127&127)<<2)|0;;){for(z=(a|0)==18,q=(a|0)>27?9:1,N=z^1;;){T=c&127,k=(T|0)==(S|0);do if(k)R=219;else{if(I=e[Te+(T<<2)>>2]|0,I>>>0<9007199){R=219;break}if(I>>>0>9007199)break;if(I=c+1&127,(I|0)==(S|0)){R=219;break}if(I=e[Te+(I<<2)>>2]|0,I>>>0<254740991){R=219;break}if(!(I>>>0>254740991|N)){a=T;break i}}while(!1);if((R|0)==219&&(R=0,z)){R=220;break i}if(r=r+q|0,(c|0)==(S|0))c=S;else break}for(N=(1<<q)+-1|0,z=1e9>>>q,T=c,I=0,k=c;re=Te+(k<<2)|0,t=e[re>>2]|0,c=(t>>>q)+I|0,e[re>>2]=c,I=J(t&N,z)|0,c=(k|0)==(T|0)&(c|0)==0,k=k+1&127,a=c?a+-9|0:a,c=c?k:T,(k|0)!=(S|0);)T=c;if(I){if((L|0)!=(c|0))break;e[B>>2]=e[B>>2]|1}}e[Te+(S<<2)>>2]=I,S=L}(R|0)==220&&(k?(e[Te+(L+-1<<2)>>2]=0,a=S,S=L):a=T),s=+((e[Te+(a<<2)>>2]|0)>>>0),a=c+1&127,(a|0)==(S|0)&&(S=c+2&127,e[Te+(S+-1<<2)>>2]=0),F=+(_e|0),f=F*(s*1e9+ +((e[Te+(a<<2)>>2]|0)>>>0)),z=r+53|0,k=z-Se|0,N=(k|0)<(Ke|0),a=N&1,T=N?(k|0)<0?0:k:Ke,(T|0)<53?(R0=+ks(+Pr(1,105-T|0),f),A=+Ds(f,+Pr(1,53-T|0)),D=R0,s=A,A=R0+(f-A)):(D=0,s=0,A=f),I=c+2&127;do if((I|0)==(S|0))f=s;else{I=e[Te+(I<<2)>>2]|0;do if(I>>>0>=5e8){if(I>>>0>5e8){s=F*.75+s;break}if((c+3&127|0)==(S|0)){s=F*.5+s;break}else{s=F*.75+s;break}}else{if(!(I|0)&&(c+3&127|0)==(S|0))break;s=F*.25+s}while(!1);if((53-T|0)<=1){f=s;break}if(+Ds(s,1)!=0){f=s;break}f=s+1}while(!1);s=A+f-D;do if((z&2147483647|0)>(-2-ee|0)){if(+Ie(+s)>=9007199254740992&&(a=N&(T|0)==(k|0)?0:a,r=r+1|0,s=s*.5),(r+50|0)<=(se|0)&&!(f!=0&(a|0)!=0))break;Ke=gt()|0,e[Ke>>2]=34}while(!1);s=+Fs(s,r)}while(!1);break e}default:{e[Z>>2]|0&&(e[re>>2]=(e[re>>2]|0)+-1),Ke=gt()|0,e[Ke>>2]=22,ni(t,0),s=0;break e}}}}while(!1);if((R|0)==23&&(a=(e[Z>>2]|0)==0,a||(e[re>>2]=(e[re>>2]|0)+-1),(o|0)!=0&r>>>0>3))do a||(e[re>>2]=(e[re>>2]|0)+-1),r=r+-1|0;while(r>>>0>3);s=+(_e|0)*Ae}while(!1);return b=$0,+s}function Es(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;e:do if(r>>>0>36)a=gt()|0,e[a>>2]=22,a=0,s=0;else{N=t+4|0,F=t+100|0;do f=e[N>>2]|0,f>>>0<(e[F>>2]|0)>>>0?(e[N>>2]=f+1,f=P[f>>0]|0):f=at(t)|0;while(Yi(f)|0);t:do switch(f|0){case 43:case 45:if(c=((f|0)==45)<<31>>31,f=e[N>>2]|0,f>>>0<(e[F>>2]|0)>>>0){e[N>>2]=f+1,f=P[f>>0]|0,D=c;break t}else{f=at(t)|0,D=c;break t}default:D=0}while(!1);c=(r|0)==0;do if((r&-17|0)==0&(f|0)==48){if(f=e[N>>2]|0,f>>>0<(e[F>>2]|0)>>>0?(e[N>>2]=f+1,f=P[f>>0]|0):f=at(t)|0,(f|32|0)!=120)if(c){r=8,T=46;break}else{T=32;break}if(r=e[N>>2]|0,r>>>0<(e[F>>2]|0)>>>0?(e[N>>2]=r+1,f=P[r>>0]|0):f=at(t)|0,(P[53879+(f+1)>>0]|0)>15){if(s=(e[F>>2]|0)==0,s||(e[N>>2]=(e[N>>2]|0)+-1),!o){ni(t,0),a=0,s=0;break e}if(s){a=0,s=0;break e}e[N>>2]=(e[N>>2]|0)+-1,a=0,s=0;break e}else r=16,T=46}else if(r=c?10:r,(P[53879+(f+1)>>0]|0)>>>0<r>>>0)T=32;else{e[F>>2]|0&&(e[N>>2]=(e[N>>2]|0)+-1),ni(t,0),a=gt()|0,e[a>>2]=22,a=0,s=0;break e}while(!1);if((T|0)==32)if((r|0)==10){if(r=f+-48|0,r>>>0<10){for(f=0;;)if(c=(f*10|0)+r|0,r=e[N>>2]|0,r>>>0<(e[F>>2]|0)>>>0?(e[N>>2]=r+1,f=P[r>>0]|0):f=at(t)|0,r=f+-48|0,r>>>0<10&c>>>0<429496729)f=c;else{r=c;break}c=0}else r=0,c=0;if(o=f+-48|0,o>>>0<10){for(;;){if(S=Wi(r|0,c|0,10,0)|0,A=xe,I=((o|0)<0)<<31>>31,k=~I,A>>>0>k>>>0|(A|0)==(k|0)&S>>>0>~o>>>0){S=r;break}if(r=Lt(S|0,A|0,o|0,I|0)|0,c=xe,f=e[N>>2]|0,f>>>0<(e[F>>2]|0)>>>0?(e[N>>2]=f+1,f=P[f>>0]|0):f=at(t)|0,o=f+-48|0,!(o>>>0<10&(c>>>0<429496729|(c|0)==429496729&r>>>0<2576980378))){S=r;break}}o>>>0>9?(f=S,r=D):(r=10,T=72)}else f=r,r=D}else T=46;t:do if((T|0)==46){if(!(r+-1&r)){if(T=m[54136+((r*23|0)>>>5&7)>>0]|0,c=m[53879+(f+1)>>0]|0,o=c&255,o>>>0<r>>>0){for(f=0;S=o|f<<T,f=e[N>>2]|0,f>>>0<(e[F>>2]|0)>>>0?(e[N>>2]=f+1,f=P[f>>0]|0):f=at(t)|0,c=m[53879+(f+1)>>0]|0,o=c&255,S>>>0<134217728&o>>>0<r>>>0;)f=S;o=0}else o=0,S=0;if(A=Ci(-1,-1,T|0)|0,I=xe,(c&255)>>>0>=r>>>0|(o>>>0>I>>>0|(o|0)==(I|0)&S>>>0>A>>>0)){c=o,T=72;break}else f=o;for(;;)if(S=St(S|0,f|0,T|0)|0,o=xe,S=c&255|S,f=e[N>>2]|0,f>>>0<(e[F>>2]|0)>>>0?(e[N>>2]=f+1,f=P[f>>0]|0):f=at(t)|0,c=m[53879+(f+1)>>0]|0,(c&255)>>>0>=r>>>0|(o>>>0>I>>>0|(o|0)==(I|0)&S>>>0>A>>>0)){c=o,T=72;break t}else f=o}if(c=m[53879+(f+1)>>0]|0,o=c&255,o>>>0<r>>>0){for(f=0;S=o+(J(f,r)|0)|0,f=e[N>>2]|0,f>>>0<(e[F>>2]|0)>>>0?(e[N>>2]=f+1,f=P[f>>0]|0):f=at(t)|0,c=m[53879+(f+1)>>0]|0,o=c&255,S>>>0<119304647&o>>>0<r>>>0;)f=S;o=0}else S=0,o=0;if((c&255)>>>0<r>>>0)for(T=_r(-1,-1,r|0,0)|0,k=xe,I=o;;){if(I>>>0>k>>>0|(I|0)==(k|0)&S>>>0>T>>>0){c=I,T=72;break t}if(o=Wi(S|0,I|0,r|0,0)|0,A=xe,c=c&255,A>>>0>4294967295|(A|0)==-1&o>>>0>~c>>>0){c=I,T=72;break t}if(S=Lt(c|0,0,o|0,A|0)|0,o=xe,f=e[N>>2]|0,f>>>0<(e[F>>2]|0)>>>0?(e[N>>2]=f+1,f=P[f>>0]|0):f=at(t)|0,c=m[53879+(f+1)>>0]|0,(c&255)>>>0>=r>>>0){c=o,T=72;break}else I=o}else c=o,T=72}while(!1);if((T|0)==72)if((P[53879+(f+1)>>0]|0)>>>0<r>>>0){do f=e[N>>2]|0,f>>>0<(e[F>>2]|0)>>>0?(e[N>>2]=f+1,f=P[f>>0]|0):f=at(t)|0;while((P[53879+(f+1)>>0]|0)>>>0<r>>>0);c=gt()|0,e[c>>2]=34,c=a,f=s,r=(s&1|0)==0&!0?D:0}else f=S,r=D;if(e[F>>2]|0&&(e[N>>2]=(e[N>>2]|0)+-1),!(c>>>0<a>>>0|(c|0)==(a|0)&f>>>0<s>>>0)){if(!((s&1|0)!=0|!1|(r|0)!=0)){N=gt()|0,e[N>>2]=34,s=Lt(s|0,a|0,-1,-1)|0,a=xe;break}if(c>>>0>a>>>0|(c|0)==(a|0)&f>>>0>s>>>0){N=gt()|0,e[N>>2]=34;break}}s=((r|0)<0)<<31>>31,s=ei(f^r|0,c^s|0,r|0,s|0)|0,a=xe}while(!1);return xe=a,s|0}function ni(t,r){t=t|0,r=r|0;var o=0,s=0,a=0;e[t+104>>2]=r,o=e[t+4>>2]|0,s=e[t+8>>2]|0,a=s-o|0,e[t+108>>2]=a,(r|0)!=0&(a|0)>(r|0)?e[t+100>>2]=o+r:e[t+100>>2]=s}function at(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0;return o=t+104|0,f=e[o>>2]|0,f|0&&(e[t+108>>2]|0)>=(f|0)?c=4:(r=Rn(t)|0,(r|0)>=0?(a=e[o>>2]|0,o=t+8|0,a?(s=e[o>>2]|0,f=e[t+4>>2]|0,o=s,a=a-(e[t+108>>2]|0)+-1|0,(o-f|0)>(a|0)?e[t+100>>2]=f+a:c=9):(s=e[o>>2]|0,o=s,c=9),(c|0)==9&&(e[t+100>>2]=o),o=e[t+4>>2]|0,s&&(t=t+108|0,e[t>>2]=s+1-o+(e[t>>2]|0)),o=o+-1|0,(P[o>>0]|0|0)!=(r|0)&&(m[o>>0]=r)):c=4),(c|0)==4&&(e[t+100>>2]=0,r=-1),r|0}function Ki(t){t=t|0;var r=0;return t>>>0>4294963200&&(r=gt()|0,e[r>>2]=0-t,t=-1),t|0}function I8(t){return t=t|0,0}function vv(t,r,o,s){return t=t|0,r=r|0,o=o|0,s=s|0,s|0}function bs(t,r){return t=t|0,r=r|0,-1}function Sv(t){t=t|0,Z0(t)}function wv(t,r){return t=t|0,r=r|0,(t+-48|0)>>>0<10|0}function Av(t,r){return t=t|0,r=r|0,gv(t)|0}function yv(t,r,o){return t=t|0,r=r|0,o=o|0,m[r>>0]|0&&$s(r,58885)|0&&$s(r,54145)|0?o=0:o||(o=Rd(1,4)|0),o|0}function oi(t){t=t|0;var r=0,o=0;return r=(Hn()|0)+176|0,o=e[r>>2]|0,t&&(e[r>>2]=t),o|0}function _v(t,r){t=+t,r=+r;var o=0,s=0;return V[G>>3]=t,s=e[G>>2]|0,o=e[G+4>>2]|0,V[G>>3]=r,o=e[G+4>>2]&-2147483648|o&2147483647,e[G>>2]=s,e[G+4>>2]=o,+ +V[G>>3]}function ks(t,r){return t=+t,r=+r,+ +_v(t,r)}function xv(t,r){t=+t,r=+r;var o=0,s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;V[G>>3]=t,o=e[G>>2]|0,I=e[G+4>>2]|0,V[G>>3]=r,T=e[G>>2]|0,k=e[G+4>>2]|0,s=Ci(o|0,I|0,52)|0,s=s&2047,S=Ci(T|0,k|0,52)|0,S=S&2047,D=I&-2147483648,c=St(T|0,k|0,1)|0,A=xe;e:do if(!((c|0)==0&(A|0)==0)&&(f=k&2147483647,!(f>>>0>2146435072|(f|0)==2146435072&T>>>0>0|(s|0)==2047))){if(a=St(o|0,I|0,1)|0,f=xe,!(f>>>0>A>>>0|(f|0)==(A|0)&a>>>0>c>>>0))return+((a|0)==(c|0)&(f|0)==(A|0)?t*0:t);if(s)a=I&1048575|1048576;else{if(s=St(o|0,I|0,12)|0,a=xe,(a|0)>-1|(a|0)==-1&s>>>0>4294967295){f=s,s=0;do s=s+-1|0,f=St(f|0,a|0,1)|0,a=xe;while((a|0)>-1|(a|0)==-1&f>>>0>4294967295)}else s=0;o=St(o|0,I|0,1-s|0)|0,a=xe}if(S)I=k&1048575|1048576;else{if(f=St(T|0,k|0,12)|0,c=xe,(c|0)>-1|(c|0)==-1&f>>>0>4294967295){S=0;do S=S+-1|0,f=St(f|0,c|0,1)|0,c=xe;while((c|0)>-1|(c|0)==-1&f>>>0>4294967295)}else S=0;T=St(T|0,k|0,1-S|0)|0,I=xe}A=ei(o|0,a|0,T|0,I|0)|0,c=xe,f=(c|0)>-1|(c|0)==-1&A>>>0>4294967295;t:do if((s|0)>(S|0)){for(;;){if(f){if((o|0)==(T|0)&(a|0)==(I|0))break;o=A,a=c}if(o=St(o|0,a|0,1)|0,a=xe,s=s+-1|0,A=ei(o|0,a|0,T|0,I|0)|0,c=xe,f=(c|0)>-1|(c|0)==-1&A>>>0>4294967295,(s|0)<=(S|0))break t}r=t*0;break e}while(!1);if(f)if((o|0)==(T|0)&(a|0)==(I|0)){r=t*0;break}else a=c,o=A;if(a>>>0<1048576|(a|0)==1048576&o>>>0<0)do o=St(o|0,a|0,1)|0,a=xe,s=s+-1|0;while(a>>>0<1048576|(a|0)==1048576&o>>>0<0);(s|0)>0?(k=Lt(o|0,a|0,0,-1048576)|0,o=xe,s=St(s|0,0,52)|0,o=o|xe,s=k|s):(s=Ci(o|0,a|0,1-s|0)|0,o=xe),e[G>>2]=s,e[G+4>>2]=o|D,r=+V[G>>3]}else F=3;while(!1);return(F|0)==3&&(r=t*r,r=r/r),+r}function Ds(t,r){return t=+t,r=+r,+ +xv(t,r)}function Ps(t,r){t=+t,r=r|0;var o=0,s=0,a=0;switch(V[G>>3]=t,o=e[G>>2]|0,s=e[G+4>>2]|0,a=Ci(o|0,s|0,52)|0,a=a&2047,a|0){case 0:{t!=0?(t=+Ps(t*18446744073709552e3,r),o=(e[r>>2]|0)+-64|0):o=0,e[r>>2]=o;break}case 2047:break;default:e[r>>2]=a+-1022,e[G>>2]=o,e[G+4>>2]=s&-2146435073|1071644672,t=+V[G>>3]}return+t}function Tv(t,r){return t=+t,r=r|0,+ +Ps(t,r)}function Pr(t,r){t=+t,r=r|0;var o=0;return(r|0)>1023?(t=t*898846567431158e293,o=r+-1023|0,(o|0)>1023&&(o=r+-2046|0,o=(o|0)>1023?1023:o,t=t*898846567431158e293)):(r|0)<-1022?(t=t*22250738585072014e-324,o=r+1022|0,(o|0)<-1022&&(o=r+2044|0,o=(o|0)<-1022?-1022:o,t=t*22250738585072014e-324)):o=r,o=St(o+1023|0,0,52)|0,r=xe,e[G>>2]=o,e[G+4>>2]=r,+(t*+V[G>>3])}function Fs(t,r){return t=+t,r=r|0,+ +Pr(t,r)}function Iv(t,r,o){return t=t|0,r=r|0,o=o|0,Fr(0,t,r,o|0?o:37344)|0}function Fr(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0;A=b,b=b+16|0,a=A,c=s|0?s:37348,s=e[c>>2]|0;e:do if(!r)s?S=15:s=0;else if(f=t|0?t:a,!o)s=-2;else{if(s)a=o,S=9;else{if(s=m[r>>0]|0,a=s&255,s<<24>>24>-1){e[f>>2]=a,s=s<<24>>24!=0&1;break}if(s=a+-194|0,s>>>0>50){S=15;break}s=e[37076+(s<<2)>>2]|0,a=o+-1|0,a&&(r=r+1|0,S=9)}t:do if((S|0)==9){if(t=m[r>>0]|0,I=(t&255)>>>3,(I+-16|I+(s>>26))>>>0>7){S=15;break e}for(;r=r+1|0,s=(t&255)+-128|s<<6,a=a+-1|0,!((s|0)>=0);){if(!a)break t;if(t=m[r>>0]|0,(t&-64)<<24>>24!=-128){S=15;break e}}e[c>>2]=0,e[f>>2]=s,s=o-a|0;break e}while(!1);e[c>>2]=s,s=-2}while(!1);return(S|0)==15&&(e[c>>2]=0,s=gt()|0,e[s>>2]=84,s=-1),b=A,s|0}function Cv(t){return t=t|0,t?t=(e[t>>2]|0)==0:t=1,t&1|0}function Ev(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0;D=b,b=b+1040|0,I=D+8|0,k=D,A=e[r>>2]|0,e[k>>2]=A,T=(t|0)!=0,s=T?s:256,t=T?t:I,f=A;e:do if((s|0)!=0&(A|0)!=0){for(S=s,A=f,s=0;;){if(f=o>>>2,c=f>>>0>=S>>>0,!(o>>>0>131|c)){f=A;break e}if(f=c?S:f,o=o-f|0,f=Ms(t,k,f,a)|0,(f|0)==-1){s=o;break}if(F=(t|0)==(I|0),A=F?0:f,c=S-A|0,t=F?t:t+(f<<2)|0,s=f+s|0,f=e[k>>2]|0,(S|0)!=(A|0)&(f|0)!=0)S=c,A=f;else{S=c;break e}}o=s,S=0,f=e[k>>2]|0,s=-1}else S=s,s=0;while(!1);e:do if(f|0&&(S|0)!=0&(o|0)!=0){for(c=f,f=t;t=Fr(f,c,o,a)|0,!((t+2|0)>>>0<3);)if(c=(e[k>>2]|0)+t|0,e[k>>2]=c,S=S+-1|0,s=s+1|0,(S|0)!=0&(o|0)!=(t|0))o=o-t|0,f=f+4|0;else break e;switch(t|0){case-1:{s=-1;break e}case 0:{e[k>>2]=0;break e}default:{e[a>>2]=0;break e}}}while(!1);return T&&(e[r>>2]=e[k>>2]),b=D,s|0}function Ms(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0;a=e[r>>2]|0,s|0&&(f=e[s>>2]|0,(f|0)!=0)?t?(e[s>>2]=0,A=t,s=o,S=f,I=37):(s=o,c=a,I=16):t?(f=t,s=o,I=6):(s=o,I=7);e:for(;;)if((I|0)==6){if(s)t=f;else{I=26;break}for(;;){f=m[a>>0]|0;do if(((f&255)+-1|0)>>>0<127&&s>>>0>4&(a&3|0)==0){for(c=a;;){if(a=e[c>>2]|0,(a+-16843009|a)&-2139062144){f=a,a=c,I=32;break}if(e[t>>2]=a&255,e[t+4>>2]=P[c+1>>0],e[t+8>>2]=P[c+2>>0],a=c+4|0,f=t+16|0,e[t+12>>2]=P[c+3>>0],s=s+-4|0,s>>>0>4)t=f,c=a;else{I=31;break}}if((I|0)==31){t=f,f=m[a>>0]|0;break}else if((I|0)==32){f=f&255;break}}while(!1);if(f=f&255,(f+-1|0)>>>0>=127)break;if(a=a+1|0,e[t>>2]=f,s=s+-1|0,s)t=t+4|0;else{I=26;break e}}if(f=f+-194|0,f>>>0>50){I=48;break}A=t,S=e[37076+(f<<2)>>2]|0,a=a+1|0,I=37;continue}else if((I|0)==7){if(f=m[a>>0]|0,((f&255)+-1|0)>>>0<127&&!(a&3|0)){if(f=e[a>>2]|0,!((f+-16843009|f)&-2139062144))do a=a+4|0,s=s+-4|0,f=e[a>>2]|0;while(!((f+-16843009|f)&-2139062144|0));f=f&255}if(f=f&255,(f+-1|0)>>>0<127){s=s+-1|0,a=a+1|0,I=7;continue}if(f=f+-194|0,f>>>0>50){I=48;break}f=e[37076+(f<<2)>>2]|0,c=a+1|0,I=16;continue}else if((I|0)==16){if(I=(P[c>>0]|0)>>>3,(I+-16|I+(f>>26))>>>0>7){I=17;break}if(a=c+1|0,f&33554432){if((m[a>>0]&-64)<<24>>24!=-128){I=20;break}if(a=c+2|0,f&524288){if((m[a>>0]&-64)<<24>>24!=-128){I=23;break}a=c+3|0}}s=s+-1|0,I=7;continue}else if((I|0)==37){if(f=P[a>>0]|0,I=f>>>3,(I+-16|I+(S>>26))>>>0>7){I=38;break}if(c=a+1|0,t=f+-128|S<<6,(t|0)<0){if(f=P[c>>0]|0,(f&192|0)!=128){I=41;break}if(c=a+2|0,t=f+-128|t<<6,(t|0)<0){if(f=P[c>>0]|0,(f&192|0)!=128){I=44;break}t=f+-128|t<<6,a=a+3|0}else a=c}else a=c;e[A>>2]=t,f=A+4|0,s=s+-1|0,I=6;continue}return(I|0)==17||(I|0)==20||(I|0)==23?(a=c+-1|0,I=47):(I|0)==26?e[r>>2]=a:(I|0)==38?(t=A,f=S,a=a+-1|0,I=47):((I|0)==41||(I|0)==44)&&(s=A,o=a+-1|0,I=52),(I|0)==47&&(f?(s=t,o=a,I=52):I=48),(I|0)==48&&(m[a>>0]|0?(s=t,o=a,I=52):(t&&(e[t>>2]=0,e[r>>2]=0),o=o-s|0)),(I|0)==52&&(I=gt()|0,e[I>>2]=84,s&&(e[r>>2]=o),o=-1),o|0}function bv(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0;c=b,b=b+16|0,s=c;e:do if(!r)s=0;else{do if(o){if(f=t|0?t:s,s=m[r>>0]|0,t=s&255,s<<24>>24>-1){e[f>>2]=t,s=s<<24>>24!=0&1;break e}if(s=t+-194|0,s>>>0<=50){if(t=r+1|0,a=e[37076+(s<<2)>>2]|0,o>>>0<4&&a&-2147483648>>>((o*6|0)+-6|0)|0)break;if(s=P[t>>0]|0,o=s>>>3,(o+-16|o+(a>>26))>>>0<=7){if(s=s+-128|a<<6,(s|0)>=0){e[f>>2]=s,s=2;break e}if(t=P[r+2>>0]|0,(t&192|0)==128){if(t=t+-128|s<<6,(t|0)>=0){e[f>>2]=t,s=3;break e}if(s=P[r+3>>0]|0,(s&192|0)==128){e[f>>2]=s+-128|t<<6,s=4;break e}}}}}while(!1);s=gt()|0,e[s>>2]=84,s=-1}while(!1);return b=c,s|0}function Li(t,r,o){t=t|0,r=r|0,o=o|0;do if(t){if(r>>>0<128){m[t>>0]=r,t=1;break}if(r>>>0<2048){m[t>>0]=r>>>6|192,m[t+1>>0]=r&63|128,t=2;break}if(r>>>0<55296|(r&-8192|0)==57344){m[t>>0]=r>>>12|224,m[t+1>>0]=r>>>6&63|128,m[t+2>>0]=r&63|128,t=3;break}if((r+-65536|0)>>>0<1048576){m[t>>0]=r>>>18|240,m[t+1>>0]=r>>>12&63|128,m[t+2>>0]=r>>>6&63|128,m[t+3>>0]=r&63|128,t=4;break}else{t=gt()|0,e[t>>2]=84,t=-1;break}}else t=1;while(!1);return t|0}function kv(t,r,o,s,a){t=t|0,r=r|0,o=o|0,s=s|0,a=a|0;var f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0;T=b,b=b+272|0,S=T+8|0,I=T,c=e[r>>2]|0,e[I>>2]=c,A=(t|0)!=0,a=A?s:256,s=A?t:S,t=c;e:do if((a|0)!=0&(c|0)!=0){for(c=a,f=t,a=0;;){if(t=o>>>0>=c>>>0,!(t|o>>>0>32)){t=f;break e}if(t=t?c:o,o=o-t|0,t=Dv(s,I,t,0)|0,(t|0)==-1){a=o;break}if(D=(s|0)==(S|0),k=D?0:t,f=c-k|0,s=D?s:s+t|0,a=t+a|0,t=e[I>>2]|0,(c|0)!=(k|0)&(t|0)!=0)c=f,f=t;else{c=f;break e}}o=a,c=0,t=e[I>>2]|0,a=-1}else c=a,a=0;while(!1);e:do if(t|0&&(c|0)!=0&(o|0)!=0){for(f=t,t=s;s=Li(t,e[f>>2]|0,0)|0,!((s+1|0)>>>0<2);)if(f=(e[I>>2]|0)+4|0,e[I>>2]=f,o=o+-1|0,a=a+1|0,(c|0)!=(s|0)&(o|0)!=0)c=c-s|0,t=t+s|0;else break e;s?a=-1:e[I>>2]=0}while(!1);return A&&(e[r>>2]=e[I>>2]),b=T,a|0}function Dv(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0;S=b,b=b+16|0,c=S;e:do if(t){t:do if(o>>>0>3){for(s=o,a=e[r>>2]|0;;){if(f=e[a>>2]|0,(f+-1|0)>>>0>126){if(!f)break;if(f=Li(t,f,0)|0,(f|0)==-1){o=-1;break e}t=t+f|0,s=s-f|0}else m[t>>0]=f,t=t+1|0,s=s+-1|0,a=e[r>>2]|0;if(a=a+4|0,e[r>>2]=a,s>>>0<=3)break t}m[t>>0]=0,e[r>>2]=0,o=o-s|0;break e}else s=o;while(!1);if(s){for(a=e[r>>2]|0;;){if(f=e[a>>2]|0,(f+-1|0)>>>0>126){if(!f){a=19;break}if(f=Li(c,f,0)|0,(f|0)==-1){o=-1;break e}if(s>>>0<f>>>0){a=22;break}Li(t,e[a>>2]|0,0)|0,t=t+f|0,s=s-f|0}else m[t>>0]=f,t=t+1|0,s=s+-1|0,a=e[r>>2]|0;if(a=a+4|0,e[r>>2]=a,!s)break e}if((a|0)==19){m[t>>0]=0,e[r>>2]=0,o=o-s|0;break}else if((a|0)==22){o=o-s|0;break}}}else if(t=e[r>>2]|0,s=e[t>>2]|0,!s)o=0;else{o=0;do{if(s>>>0>127){if(s=Li(c,s,0)|0,(s|0)==-1){o=-1;break e}}else s=1;o=s+o|0,t=t+4|0,s=e[t>>2]|0}while(s|0)}while(!1);return b=S,o|0}function Rs(t,r){return t=t|0,r=r|0,t?t=Li(t,r,0)|0:t=0,t|0}function Di(t){return t=t|0,0}function di(t){t=t|0}function Os(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0,A=0;A=b,b=b+16|0,S=A,c=r&255,m[S>>0]=c,s=t+16|0,a=e[s>>2]|0,a?f=4:Bs(t)|0?o=-1:(a=e[s>>2]|0,f=4);do if((f|0)==4){if(s=t+20|0,f=e[s>>2]|0,f>>>0<a>>>0&&(o=r&255,(o|0)!=(m[t+75>>0]|0))){e[s>>2]=f+1,m[f>>0]=c;break}(G0[e[t+36>>2]&63](t,S,1)|0)==1?o=P[S>>0]|0:o=-1}while(!1);return b=A,o|0}function Pv(t){t=t|0;var r=0,o=0;return r=b,b=b+16|0,o=r,e[o>>2]=e[t+60>>2],t=Ki(la(6,o|0)|0)|0,b=r,t|0}function Fv(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0;return I=b,b=b+48|0,f=I+16|0,a=I,s=I+32|0,e[s>>2]=r,c=s+4|0,A=t+48|0,T=e[A>>2]|0,e[c>>2]=o-((T|0)!=0&1),S=t+44|0,e[s+8>>2]=e[S>>2],e[s+12>>2]=T,e[9258]|0?(Yn(185,t|0),e[a>>2]=e[t+60>>2],e[a+4>>2]=s,e[a+8>>2]=2,s=Ki(Xn(145,a|0)|0)|0,Qn(0)):(e[f>>2]=e[t+60>>2],e[f+4>>2]=s,e[f+8>>2]=2,s=Ki(Xn(145,f|0)|0)|0),(s|0)>=1?(c=e[c>>2]|0,s>>>0>c>>>0&&(f=e[S>>2]|0,a=t+4|0,e[a>>2]=f,e[t+8>>2]=f+(s-c),e[A>>2]|0&&(e[a>>2]=f+1,m[r+(o+-1)>>0]=m[f>>0]|0),s=o)):(e[t>>2]=e[t>>2]|s&48^16,e[t+8>>2]=0,e[t+4>>2]=0),b=I,s|0}function Mv(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0;return a=b,b=b+32|0,f=a,s=a+20|0,e[f>>2]=e[t+60>>2],e[f+4>>2]=0,e[f+8>>2]=r,e[f+12>>2]=s,e[f+16>>2]=o,(Ki(ca(140,f|0)|0)|0)<0?(e[s>>2]=-1,t=-1):t=e[s>>2]|0,b=a,t|0}function Ls(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0;for(N=b,b=b+48|0,k=N+16|0,T=N,s=N+32|0,D=t+28|0,a=e[D>>2]|0,e[s>>2]=a,F=t+20|0,a=(e[F>>2]|0)-a|0,e[s+4>>2]=a,e[s+8>>2]=r,e[s+12>>2]=o,A=t+60|0,I=t+44|0,r=2,a=a+o|0;;){if(e[9258]|0?(Yn(186,t|0),e[T>>2]=e[A>>2],e[T+4>>2]=s,e[T+8>>2]=r,c=Ki(Zn(146,T|0)|0)|0,Qn(0)):(e[k>>2]=e[A>>2],e[k+4>>2]=s,e[k+8>>2]=r,c=Ki(Zn(146,k|0)|0)|0),(a|0)==(c|0)){a=6;break}if((c|0)<0){a=8;break}a=a-c|0,f=e[s+4>>2]|0,c>>>0<=f>>>0?(r|0)==2?(e[D>>2]=(e[D>>2]|0)+c,S=f,r=2):S=f:(S=e[I>>2]|0,e[D>>2]=S,e[F>>2]=S,S=e[s+12>>2]|0,c=c-f|0,s=s+8|0,r=r+-1|0),e[s>>2]=(e[s>>2]|0)+c,e[s+4>>2]=S-c}return(a|0)==6?(k=e[I>>2]|0,e[t+16>>2]=k+(e[t+48>>2]|0),t=k,e[D>>2]=t,e[F>>2]=t):(a|0)==8&&(e[t+16>>2]=0,e[D>>2]=0,e[F>>2]=0,e[t>>2]=e[t>>2]|32,(r|0)==2?o=0:o=o-(e[s+4>>2]|0)|0),b=N,o|0}function Rv(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0;return a=b,b=b+80|0,s=a,e[t+36>>2]=8,!(e[t>>2]&64|0)&&(e[s>>2]=e[t+60>>2],e[s+4>>2]=21505,e[s+8>>2]=a+12,(na(54,s|0)|0)!=0)&&(m[t+75>>0]=-1),s=Ls(t,r,o)|0,b=a,s|0}function Ov(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0;return s=t+84|0,f=e[s>>2]|0,c=o+256|0,a=Gs(f,0,c)|0,a=a|0?a-f|0:c,o=a>>>0<o>>>0?a:o,nt(r|0,f|0,o|0)|0,e[t+4>>2]=f+o,r=f+a|0,e[t+8>>2]=r,e[s>>2]=r,o|0}function Ns(t){t=t|0;var r=0,o=0;return r=t+74|0,o=m[r>>0]|0,m[r>>0]=o+255|o,r=t+20|0,o=t+44|0,(e[r>>2]|0)>>>0>(e[o>>2]|0)>>>0&&G0[e[t+36>>2]&63](t,0,0)|0,e[t+16>>2]=0,e[t+28>>2]=0,e[r>>2]=0,r=e[t>>2]|0,r&20?(r&4&&(e[t>>2]=r|32),r=-1):(r=e[o>>2]|0,e[t+8>>2]=r,e[t+4>>2]=r,r=0),r|0}function Bs(t){t=t|0;var r=0,o=0;return r=t+74|0,o=m[r>>0]|0,m[r>>0]=o+255|o,r=e[t>>2]|0,r&8?(e[t>>2]=r|32,r=-1):(e[t+8>>2]=0,e[t+4>>2]=0,r=e[t+44>>2]|0,e[t+28>>2]=r,e[t+20>>2]=r,e[t+16>>2]=r+(e[t+48>>2]|0),r=0),r|0}function Rn(t){t=t|0;var r=0,o=0;return o=b,b=b+16|0,r=o,!(e[t+8>>2]|0)&&Ns(t)|0?r=-1:(G0[e[t+32>>2]&63](t,r,1)|0)==1?r=P[r>>0]|0:r=-1,b=o,r|0}function On(t){t=t|0;var r=0,o=0;do if(t){if((e[t+76>>2]|0)<=-1){r=Bn(t)|0;break}o=(Di(t)|0)==0,r=Bn(t)|0,o||di(t)}else{if(e[9323]|0?r=On(e[9323]|0)|0:r=0,Pt(37060),t=e[9264]|0,t)do(e[t+76>>2]|0)>-1?o=Di(t)|0:o=0,(e[t+20>>2]|0)>>>0>(e[t+28>>2]|0)>>>0&&(r=Bn(t)|0|r),o&&di(t),t=e[t+56>>2]|0;while(t|0);oa(37060)}while(!1);return r|0}function Lv(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0;(e[r+76>>2]|0)>=0&&Di(r)|0?((m[r+75>>0]|0)!=(t|0)&&(s=r+20|0,a=e[s>>2]|0,a>>>0<(e[r+16>>2]|0)>>>0)?(e[s>>2]=a+1,m[a>>0]=t,o=t&255):o=Os(r,t)|0,di(r)):c=3;do if((c|0)==3){if((m[r+75>>0]|0)!=(t|0)&&(f=r+20|0,o=e[f>>2]|0,o>>>0<(e[r+16>>2]|0)>>>0)){e[f>>2]=o+1,m[o>>0]=t,o=t&255;break}o=Os(r,t)|0}while(!1);return o|0}function Nt(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0;s=o+16|0,a=e[s>>2]|0,a?f=4:Bs(o)|0?s=0:(a=e[s>>2]|0,f=4);e:do if((f|0)==4){if(c=o+20|0,f=e[c>>2]|0,(a-f|0)>>>0<r>>>0){s=G0[e[o+36>>2]&63](o,t,r)|0;break}t:do if((m[o+75>>0]|0)>-1){for(s=r;;){if(!s){a=f,s=0;break t}if(a=s+-1|0,(m[t+a>>0]|0)==10)break;s=a}if((G0[e[o+36>>2]&63](o,t,s)|0)>>>0<s>>>0)break e;r=r-s|0,t=t+s|0,a=e[c>>2]|0}else a=f,s=0;while(!1);nt(a|0,t|0,r|0)|0,e[c>>2]=(e[c>>2]|0)+r,s=s+r|0}while(!1);return s|0}function pi(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0;return a=J(o,r)|0,(e[s+76>>2]|0)>-1?(f=(Di(s)|0)==0,t=Nt(t,a,s)|0,f||di(s)):t=Nt(t,a,s)|0,(t|0)!=(a|0)&&(o=(t>>>0)/(r>>>0)|0),o|0}function Mr(t){t=t|0;var r=0,o=0,s=0;(e[t+76>>2]|0)>=0&&Di(t)|0?(r=t+4|0,o=e[r>>2]|0,o>>>0<(e[t+8>>2]|0)>>>0?(e[r>>2]=o+1,r=P[o>>0]|0):r=Rn(t)|0):s=3;do if((s|0)==3)if(r=t+4|0,o=e[r>>2]|0,o>>>0<(e[t+8>>2]|0)>>>0){e[r>>2]=o+1,r=P[o>>0]|0;break}else{r=Rn(t)|0;break}while(!1);return r|0}function Us(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0;return a=b,b=b+16|0,f=a,e[f>>2]=s,s=Or(t,r,o,f)|0,b=a,s|0}function Vs(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0;return s=b,b=b+16|0,a=s,e[a>>2]=o,o=qs(t,r,a)|0,b=s,o|0}function Rr(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0;do if((t|0)!=-1){if((e[r+76>>2]|0)>-1?a=Di(r)|0:a=0,!(e[r+8>>2]|0)&&Ns(r)|0||(f=6),(f|0)==6&&(o=r+4|0,s=e[o>>2]|0,s>>>0>((e[r+44>>2]|0)+-8|0)>>>0)){if(f=s+-1|0,e[o>>2]=f,m[f>>0]=t,e[r>>2]=e[r>>2]&-17,!a)break;di(r);break}a&&di(r),t=-1}else t=-1;while(!1);return t|0}function Nv(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0;S=b,b=b+16|0,s=S,a=It(240)|0;do if(a){if(e[s>>2]=e[o>>2],s=Or(a,240,r,s)|0,s>>>0<240){r=qi(a,s+1|0)|0,e[t>>2]=r|0?r:a;break}Z0(a),(s|0)>=0&&(c=s+1|0,f=It(c)|0,e[t>>2]=f,(f|0)!=0)?s=Or(f,c,r,o)|0:s=-1}else s=-1;while(!1);return b=S,s|0}function zs(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0;z=b,b=b+224|0,k=z+80|0,N=z+96|0,F=z,D=z+136|0,s=N,a=s+40|0;do e[s>>2]=0,s=s+4|0;while((s|0)<(a|0));return e[k>>2]=e[o>>2],(mn(0,r,k,F,N)|0)<0?o=-1:((e[t+76>>2]|0)>-1?I=Di(t)|0:I=0,o=e[t>>2]|0,T=o&32,(m[t+74>>0]|0)<1&&(e[t>>2]=o&-33),o=t+48|0,e[o>>2]|0?s=mn(t,r,k,F,N)|0:(a=t+44|0,f=e[a>>2]|0,e[a>>2]=D,c=t+28|0,e[c>>2]=D,S=t+20|0,e[S>>2]=D,e[o>>2]=80,A=t+16|0,e[A>>2]=D+80,s=mn(t,r,k,F,N)|0,f&&(G0[e[t+36>>2]&63](t,0,0)|0,s=e[S>>2]|0?s:-1,e[a>>2]=f,e[o>>2]=0,e[A>>2]=0,e[c>>2]=0,e[S>>2]=0)),o=e[t>>2]|0,e[t>>2]=o|T,I&&di(t),o=o&32|0?-1:s),b=z,o|0}function Bv(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0,S=0,A=0,I=0,T=0,k=0,D=0,F=0,N=0,z=0,q=0,B=0,L=0,M=0,R=0,K=0,Z=0,re=0,ee=0,se=0,Te=0,_e=0,Se=0,Ke=0,$0=0,R0=0,rt=0,X0=0,M0=0;X0=b,b=b+304|0,se=X0+16|0,_e=X0+8|0,Te=X0+33|0,Se=X0,B=X0+32|0,(e[t+76>>2]|0)>-1?rt=Di(t)|0:rt=0,s=m[r>>0]|0;e:do if(s<<24>>24){Ke=t+4|0,$0=t+100|0,ee=t+108|0,L=t+8|0,M=Te+10|0,R=Te+33|0,K=_e+4|0,Z=Te+46|0,re=Te+94|0,f=s,s=0,c=r,k=0,a=0,r=0;t:for(;;){i:do if(Yi(f&255)|0){for(;f=c+1|0,Yi(P[f>>0]|0)|0;)c=f;ni(t,0);do f=e[Ke>>2]|0,f>>>0<(e[$0>>2]|0)>>>0?(e[Ke>>2]=f+1,f=P[f>>0]|0):f=at(t)|0;while(Yi(f)|0);f=e[Ke>>2]|0,e[$0>>2]|0&&(f=f+-1|0,e[Ke>>2]=f),S=(e[ee>>2]|0)+k+f-(e[L>>2]|0)|0}else{f=(m[c>>0]|0)==37;r:do if(f){I=c+1|0,S=m[I>>0]|0;n:do switch(S<<24>>24){case 37:break r;case 42:{q=0,S=c+2|0;break}default:{if(S=(S&255)+-48|0,S>>>0<10&&(m[c+2>>0]|0)==36){for(e[se>>2]=e[o>>2];q=(e[se>>2]|0)+3&-4,f=e[q>>2]|0,e[se>>2]=q+4,S>>>0>1;)S=S+-1|0;q=f,S=c+3|0;break n}S=(e[o>>2]|0)+3&-4,q=e[S>>2]|0,e[o>>2]=S+4,S=I}}while(!1);if(f=m[S>>0]|0,c=f&255,(c+-48|0)>>>0<10)for(f=0;I=(f*10|0)+-48+c|0,S=S+1|0,f=m[S>>0]|0,c=f&255,!((c+-48|0)>>>0>=10);)f=I;else I=0;switch(f<<24>>24==109?(S=S+1|0,T=m[S>>0]|0,f=(q|0)!=0&1,a=0,r=0):(T=f,f=0),c=S+1|0,T&255|0){case 104:{z=(m[c>>0]|0)==104,c=z?S+2|0:c,S=z?-2:-1;break}case 108:{z=(m[c>>0]|0)==108,c=z?S+2|0:c,S=z?3:1;break}case 106:{S=3;break}case 116:case 122:{S=1;break}case 76:{S=2;break}case 110:case 112:case 67:case 83:case 91:case 99:case 115:case 88:case 71:case 70:case 69:case 65:case 103:case 102:case 101:case 97:case 120:case 117:case 111:case 105:case 100:{c=S,S=0;break}default:{R0=152;break t}}switch(T=P[c>>0]|0,D=(T&47|0)==3,T=D?T|32:T,D=D?1:S,T|0){case 99:{z=k,N=(I|0)<1?1:I;break}case 91:{z=k,N=I;break}case 110:{if(!q){S=k;break i}switch(D|0){case-2:{m[q>>0]=k,S=k;break i}case-1:{y[q>>1]=k,S=k;break i}case 0:{e[q>>2]=k,S=k;break i}case 1:{e[q>>2]=k,S=k;break i}case 3:{S=q,e[S>>2]=k,e[S+4>>2]=((k|0)<0)<<31>>31,S=k;break i}default:{S=k;break i}}}default:{ni(t,0);do S=e[Ke>>2]|0,S>>>0<(e[$0>>2]|0)>>>0?(e[Ke>>2]=S+1,S=P[S>>0]|0):S=at(t)|0;while(Yi(S)|0);S=e[Ke>>2]|0,e[$0>>2]|0&&(S=S+-1|0,e[Ke>>2]=S),z=(e[ee>>2]|0)+k+S-(e[L>>2]|0)|0,N=I}}if(ni(t,N),S=e[Ke>>2]|0,I=e[$0>>2]|0,S>>>0<I>>>0)e[Ke>>2]=S+1;else{if((at(t)|0)<0){R0=152;break t}I=e[$0>>2]|0}I&&(e[Ke>>2]=(e[Ke>>2]|0)+-1);n:do switch(T|0){case 91:case 99:case 115:{F=(T|0)==99;o:do if((T&239|0)==99)j0(Te|0,-1,257)|0,m[Te>>0]=0,(T|0)==115&&(m[R>>0]=0,m[M>>0]=0,m[M+1>>0]=0,m[M+2>>0]=0,m[M+3>>0]=0,m[M+4>>0]=0);else{switch(M0=c+1|0,k=(m[M0>>0]|0)==94,S=k&1,T=k?M0:c,c=k?c+2|0:M0,j0(Te|0,k&1|0,257)|0,m[Te>>0]=0,m[c>>0]|0){case 45:{k=(S^1)&255,m[Z>>0]=k,c=T+2|0;break}case 93:{k=(S^1)&255,m[re>>0]=k,c=T+2|0;break}default:k=(S^1)&255}for(;;){S=m[c>>0]|0;s:do switch(S<<24>>24){case 0:{R0=152;break t}case 93:break o;case 45:{switch(T=c+1|0,S=m[T>>0]|0,S<<24>>24){case 93:case 0:{S=45;break s}default:}if(c=m[c+-1>>0]|0,(c&255)<(S&255)){c=c&255;do c=c+1|0,m[Te+c>>0]=k,S=m[T>>0]|0;while((c|0)<(S&255|0));c=T}else c=T;break}default:}while(!1);m[Te+((S&255)+1)>>0]=k,c=c+1|0}}while(!1);T=F?N+1|0:31,k=(D|0)==1,D=(f|0)!=0;o:do if(k){if(D){if(r=It(T<<2)|0,!r){a=0,R0=152;break t}}else r=q;e[_e>>2]=0,e[K>>2]=0,a=0;s:for(;;){I=(r|0)==0;do{a:for(;;){if(S=e[Ke>>2]|0,S>>>0<(e[$0>>2]|0)>>>0?(e[Ke>>2]=S+1,S=P[S>>0]|0):S=at(t)|0,!(m[Te+(S+1)>>0]|0))break s;switch(m[B>>0]=S,Fr(Se,B,1,_e)|0){case-1:{a=0,R0=152;break t}case-2:break;default:break a}}I||(e[r+(a<<2)>>2]=e[Se>>2],a=a+1|0)}while(!(D&(a|0)==(T|0)));if(a=T<<1|1,S=qi(r,a<<2)|0,!S){a=0,R0=152;break t}M0=T,T=a,r=S,a=M0}if(Cv(_e)|0)I=a,a=0;else{a=0,R0=152;break t}}else{if(D){if(a=It(T)|0,a)S=0;else{a=0,r=0,R0=152;break t}for(;;){do{if(r=e[Ke>>2]|0,r>>>0<(e[$0>>2]|0)>>>0?(e[Ke>>2]=r+1,r=P[r>>0]|0):r=at(t)|0,!(m[Te+(r+1)>>0]|0)){I=S,r=0;break o}m[a+S>>0]=r,S=S+1|0}while((S|0)!=(T|0));if(r=T<<1|1,S=qi(a,r)|0,S)M0=T,T=r,a=S,S=M0;else{r=0,R0=152;break t}}}if(q)for(a=0;;){if(r=e[Ke>>2]|0,r>>>0<I>>>0?(e[Ke>>2]=r+1,r=P[r>>0]|0):r=at(t)|0,!(m[Te+(r+1)>>0]|0)){I=a,a=q,r=0;break o}m[q+a>>0]=r,I=e[$0>>2]|0,a=a+1|0}else for(a=I;;){if(r=e[Ke>>2]|0,r>>>0<a>>>0?(e[Ke>>2]=r+1,r=P[r>>0]|0):r=at(t)|0,!(m[Te+(r+1)>>0]|0)){I=0,a=0,r=0;break o}a=e[$0>>2]|0}}while(!1);if(S=e[Ke>>2]|0,e[$0>>2]|0&&(S=S+-1|0,e[Ke>>2]=S),S=S-(e[L>>2]|0)+(e[ee>>2]|0)|0,!S||!((S|0)==(N|0)|F^1))break t;do if(D)if(k){e[q>>2]=r;break}else{e[q>>2]=a;break}while(!1);if(!F){if(r&&(e[r+(I<<2)>>2]=0),!a){a=0;break n}m[a+I>>0]=0}break}case 120:case 88:case 112:{S=16,R0=134;break}case 111:{S=8,R0=134;break}case 117:case 100:{S=10,R0=134;break}case 105:{S=0,R0=134;break}case 71:case 103:case 70:case 102:case 69:case 101:case 65:case 97:{if(A=+Cs(t,D,0),(e[ee>>2]|0)==((e[L>>2]|0)-(e[Ke>>2]|0)|0))break t;if(q)switch(D|0){case 0:{W[q>>2]=A;break n}case 1:{V[q>>3]=A;break n}case 2:{V[q>>3]=A;break n}default:break n}break}default:}while(!1);n:do if((R0|0)==134){if(R0=0,S=Es(t,S,0,-1,-1)|0,(e[ee>>2]|0)==((e[L>>2]|0)-(e[Ke>>2]|0)|0))break t;if((q|0)!=0&(T|0)==112){e[q>>2]=S;break}if(q)switch(D|0){case-2:{m[q>>0]=S;break n}case-1:{y[q>>1]=S;break n}case 0:{e[q>>2]=S;break n}case 1:{e[q>>2]=S;break n}case 3:{M0=q,e[M0>>2]=S,e[M0+4>>2]=xe;break n}default:break n}}while(!1);s=((q|0)!=0&1)+s|0,S=(e[ee>>2]|0)+z+(e[Ke>>2]|0)-(e[L>>2]|0)|0;break i}while(!1);if(c=c+(f&1)|0,ni(t,0),f=e[Ke>>2]|0,f>>>0<(e[$0>>2]|0)>>>0?(e[Ke>>2]=f+1,f=P[f>>0]|0):f=at(t)|0,(f|0)!=(P[c>>0]|0)){R0=21;break t}S=k+1|0}while(!1);if(c=c+1|0,f=m[c>>0]|0,f<<24>>24)k=S;else break e}if((R0|0)==21){if(e[$0>>2]|0&&(e[Ke>>2]=(e[Ke>>2]|0)+-1),(s|0)!=0|(f|0)>-1)break;s=0,R0=153}else(R0|0)==152&&(s||(s=f,R0=153));(R0|0)==153&&(f=s,s=-1),f&&(Z0(a),Z0(r))}else s=0;while(!1);return rt&&di(t),b=X0,s|0}function Or(t,r,o,s){t=t|0,r=r|0,o=o|0,s=s|0;var a=0,f=0,c=0,S=0,A=0,I=0,T=0;T=b,b=b+128|0,a=T+112|0,I=T,f=I,c=37352,S=f+112|0;do e[f>>2]=e[c>>2],f=f+4|0,c=c+4|0;while((f|0)<(S|0));return(r+-1|0)>>>0>2147483646?r?(r=gt()|0,e[r>>2]=75,r=-1):(r=1,A=4):(a=t,A=4),(A|0)==4&&(A=-2-a|0,A=r>>>0>A>>>0?A:r,e[I+48>>2]=A,t=I+20|0,e[t>>2]=a,e[I+44>>2]=a,r=a+A|0,a=I+16|0,e[a>>2]=r,e[I+28>>2]=r,r=zs(I,o,s)|0,A&&(o=e[t>>2]|0,m[o+(((o|0)==(e[a>>2]|0))<<31>>31)>>0]=0)),b=T,r|0}function qs(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0;f=b,b=b+112|0,s=f,a=s,c=a+112|0;do e[a>>2]=0,a=a+4|0;while((a|0)<(c|0));return e[s+32>>2]=29,e[s+44>>2]=t,e[s+76>>2]=-1,e[s+84>>2]=t,c=Bv(s,r,o)|0,b=f,c|0}function Ln(t,r,o){return t=t|0,r=r|0,o=o|0,+ +Fd(t,r,2)}function Uv(t,r,o){return t=t|0,r=r|0,o=o|0,t=zo(t,r,o,-1,-1)|0,t|0}function Vv(t,r,o){return t=t|0,r=r|0,o=o|0,t=zo(t,r,o,0,-2147483648)|0,t|0}function Gs(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0,f=0,c=0;f=r&255,s=(o|0)!=0;e:do if(s&(t&3|0)!=0)for(a=r&255;;){if((m[t>>0]|0)==a<<24>>24){c=6;break e}if(t=t+1|0,o=o+-1|0,s=(o|0)!=0,!(s&(t&3|0)!=0)){c=5;break}}else c=5;while(!1);(c|0)==5&&(s?c=6:o=0);e:do if((c|0)==6&&(a=r&255,(m[t>>0]|0)!=a<<24>>24)){s=J(f,16843009)|0;t:do if(o>>>0>3){for(;f=e[t>>2]^s,!((f&-2139062144^-2139062144)&f+-16843009);)if(t=t+4|0,o=o+-4|0,o>>>0<=3){c=11;break t}}else c=11;while(!1);if((c|0)==11&&!o){o=0;break}for(;;){if((m[t>>0]|0)==a<<24>>24)break e;if(t=t+1|0,o=o+-1|0,!o){o=0;break}}}while(!1);return(o|0?t:0)|0}function zv(t,r){t=t|0,r=r|0;var o=0,s=0;o=r;e:do if((o^t)&3)s=8;else{if(o&3)do{if(o=m[r>>0]|0,m[t>>0]=o,!(o<<24>>24))break e;r=r+1|0,t=t+1|0}while(r&3|0);if(o=e[r>>2]|0,!((o&-2139062144^-2139062144)&o+-16843009))for(s=t;r=r+4|0,t=s+4|0,e[s>>2]=o,o=e[r>>2]|0,!((o&-2139062144^-2139062144)&o+-16843009);)s=t;s=8}while(!1);if((s|0)==8&&(s=m[r>>0]|0,m[t>>0]=s,s<<24>>24))do r=r+1|0,t=t+1|0,s=m[r>>0]|0,m[t>>0]=s;while(s<<24>>24);return t|0}function $s(t,r){t=t|0,r=r|0;var o=0,s=0;if(s=m[t>>0]|0,o=m[r>>0]|0,!(s<<24>>24)||s<<24>>24!=o<<24>>24)r=s;else{do t=t+1|0,r=r+1|0,s=m[t>>0]|0,o=m[r>>0]|0;while(!(!(s<<24>>24)||s<<24>>24!=o<<24>>24));r=s}return(r&255)-(o&255)|0}function Nn(t,r){return t=t|0,r=r|0,zv(t,r)|0,t|0}function Ni(t){t=t|0;var r=0,o=0,s=0;s=t;e:do if(!(s&3))o=4;else for(r=t,t=s;;){if(!(m[r>>0]|0))break e;if(r=r+1|0,t=r,!(t&3)){t=r,o=4;break}}while(!1);if((o|0)==4){for(;r=e[t>>2]|0,!((r&-2139062144^-2139062144)&r+-16843009);)t=t+4|0;if((r&255)<<24>>24)do t=t+1|0;while(m[t>>0]|0)}return t-s|0}function qv(t,r,o){t=t|0,r=r|0,o=o|0;var s=0,a=0;if(!o)r=0;else{s=m[t>>0]|0;e:do if(!(s<<24>>24))s=0;else for(;;){if(o=o+-1|0,a=m[r>>0]|0,!(s<<24>>24==a<<24>>24&((o|0)!=0&a<<24>>24!=0)))break e;if(t=t+1|0,r=r+1|0,s=m[t>>0]|0,!(s<<24>>24)){s=0;break}}while(!1);r=(s&255)-(P[r>>0]|0)|0}return r|0}function Lr(t){t=t|0;var r=0;for(r=t;e[r>>2]|0;)r=r+4|0;return r-t>>2|0}function Bi(t,r,o){t=t|0,r=r|0,o=o|0;var s=0;if(o)for(s=t;o=o+-1|0,e[s>>2]=e[r>>2],o;)r=r+4|0,s=s+4|0;return t|0}function Gv(t,r,o){t=t|0,r=r|0,o=o|0;var s=0;if(s=(o|0)==0,t-r>>2>>>0<o>>>0){if(!s)do o=o+-1|0,e[t+(o<<2)>>2]=e[r+(o<<2)>>2];while(o|0)}else if(!s)for(s=r,r=t;o=o+-1|0,e[r>>2]=e[s>>2],o;)s=s+4|0,r=r+4|0;return t|0}function $v(t,r,o){t=t|0,r=r|0,o=o|0;var s=0;if(o)for(s=t;o=o+-1|0,e[s>>2]=r,o;)s=s+4|0;return t|0}function Hs(t,r){t=t|0,r=r|0;var o=0,s=0,a=0,f=0,c=0,S=0;switch(c=t+4|0,o=e[c>>2]|0,S=t+100|0,o>>>0<(e[S>>2]|0)>>>0?(e[c>>2]=o+1,o=P[o>>0]|0):o=at(t)|0,o|0){case 43:case 45:{s=(o|0)==45&1,o=e[c>>2]|0,o>>>0<(e[S>>2]|0)>>>0?(e[c>>2]=o+1,o=P[o>>0]|0):o=at(t)|0,(r|0)!=0&(o+-48|0)>>>0>9&&e[S>>2]|0&&(e[c>>2]=(e[c>>2]|0)+-1),f=s;break}default:f=0}if((o+-48|0)>>>0>9)e[S>>2]|0?(e[c>>2]=(e[c>>2]|0)+-1,s=-2147483648,o=0):(s=-2147483648,o=0);else{s=0;do s=o+-48+(s*10|0)|0,o=e[c>>2]|0,o>>>0<(e[S>>2]|0)>>>0?(e[c>>2]=o+1,o=P[o>>0]|0):o=at(t)|0;while((o+-48|0)>>>0<10&(s|0)<214748364);if(r=((s|0)<0)<<31>>31,(o+-48|0)>>>0<10){do r=Wi(s|0,r|0,10,0)|0,s=xe,o=Lt(o|0,((o|0)<0)<<31>>31|0,-48,-1)|0,s=Lt(o|0,xe|0,r|0,s|0)|0,r=xe,o=e[c>>2]|0,o>>>0<(e[S>>2]|0)>>>0?(e[c>>2]=o+1,o=P[o>>0]|0):o=at(t)|0;while((o+-48|0)>>>0<10&((r|0)<21474836|(r|0)==21474836&s>>>0<2061584302));a=s}else a=s;if((o+-48|0)>>>0<10)do o=e[c>>2]|0,o>>>0<(e[S>>2]|0)>>>0?(e[c>>2]=o+1,o=P[o>>0]|0):o=at(t)|0;while((o+-48|0)>>>0<10);e[S>>2]|0&&(e[c>>2]=(e[c>>2]|0)+-1),t=(f|0)!=0,o=ei(0,0,a|0,r|0)|0,s=t?xe:r,o=t?o:a}return xe=s,o|0}function Hv(t){t=t|0,e[t+68>>2]|0||di(t)}function Wv(t){t=t|0,e[t+68>>2]|0||di(t)}function Bn(t){t=t|0;var r=0,o=0,s=0,a=0,f=0,c=0;return r=t+20|0,f=t+28|0,(e[r>>2]|0)>>>0>(e[f>>2]|0)>>>0&&(G0[e[t+36>>2]&63](t,0,0)|0,(e[r>>2]|0)==0)?r=-1:(c=t+4|0,o=e[c>>2]|0,s=t+8|0,a=e[s>>2]|0,o>>>0<a>>>0&&G0[e[t+40>>2]&63](t,o-a|0,1)|0,e[t+16>>2]=0,e[f>>2]=0,e[r>>2]=0,e[s>>2]=0,e[c>>2]=0,r=0),r|0}var Qv=[Ei,uc,hc,sh,uh,ph,gh,wr,Ar,Ei,Ei,Ei,Ei,Ei,Ei,Ei],Nr=[rr,X5,sf,ju,Nu,Cu,gu,su,W2,rv,iv,tv,rr,rr,rr,rr],jv=[hs,Ah,Ch,hs],T0=[Y0,Q5,j5,tf,rf,$u,Hu,Mu,Ru,_u,xu,hu,du,iu,ru,q2,G2,F2,M2,_2,x2,h2,d2,i2,r2,W1,Q1,d1,p1,n1,o1,La,Na,Gl,Ql,$l,vm,ns,Sm,wm,Al,yl,x6,_l,dl,pl,Xa,Za,il,rl,al,ll,xl,Tl,bl,kl,Ml,Rl,Bl,Ul,i1,r1,_1,x1,E1,b1,F1,M1,N1,B1,eu,tu,Ap,n6,d6,p6,T6,I6,R6,O6,Er,U6,q6,G6,H6,j6,W6,Q6,Y6,K6,ir,qd,jd,h0,Zd,np,gn,wp,Bp,Xp,fm,es,cm,hm,pm,is,mm,gm,xm,os,Tm,Im,Pm,Fm,zt,Mm,Rm,Om,Nm,Yh,zm,qm,Wm,Qm,o4,s4,w4,A4,F4,M4,vf,Sf,Bf,Uf,sc,ac,fc,cc,pc,mc,Ic,Cc,Lc,Nc,Qc,jc,nh,oh,hh,dh,Sh,wh,Th,Ih,Dh,Ph,Oh,Lh,Uo,Gh,Vo,hd,us,Dd,as,cg,ls,hg,Lm,jh,Xh,yd,H4,J4,ag,lg,C6,Ss,hi,Oa,_n,dm,Xl,Y2,hv,Hv,Wv,Nd,Sv,ah,dr,Kh,U3,W3,Q3,j3,Y3,K3,X3,fe,E0,Z0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0,Y0],K0=[kn,K5,of,Qu,Lu,Iu,mu,ou,H2,R2,T2,p2,n2,j1,m1,s1,Ba,Up,m6,g6,Gd,Qd,Jd,rp,Zp,Sc,wc,Ac,yc,xc,Tc,kc,Dc,Pc,Fc,Rc,Oc,Vc,zc,qc,Gc,Hc,Wc,Xc,Zc,Jc,eh,ih,rh,Rh,Uh,vg,wg,yg,Sg,Ag,_g,ba,E6,v6,S6,ws,Np,Ha,Qa,Am,Op,Ep,Kl,u1,q1,X1,a2,v2,E2,N2,j2,lu,Su,bu,Uu,Ku,lf,J5,c6,ki,fp,lp,Lp,Cm,up,Ip,Pp,Dp,l3,u3,f3,c3,h3,d3,kd,p3,m3,g3,v3,S3,w3,A3,y3,_3,x3,T3,I3,C3,E3,b3,k3,D3,P3,F3,M3,R3,O3,L3,N3,i5,kn,kn],nr=[bt,jm,Ym,Km,Xm,Zm,Jm,e4,t4,i4,r4,n4,a4,l4,u4,f4,c4,h4,d4,p4,m4,g4,S4,T4,C4,N4,hf,Af,yf,_f,xf,Tf,zf,qf,Gf,$f,Hf,xh,kh,Vi,Hi,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt],A0=[J0,Gp,$p,vl,Qp,o6,L6,V6,$6,Pv,$d,rm,om,sm,im,Yd,Kd,ep,Wp,op,sp,Em,wf,xg,Ig,Eg,Mg,Og,kg,Pg,Vf,Tg,Cg,bg,Rg,Lg,Dg,Fg,gc,vc,_c,Ec,bc,Mc,Bc,Uc,$c,Yc,Kc,th,z4,q4,$4,dg,mg,pg,gg,Id,Cd,bd,Y4,K4,Z4,rg,ng,sg,l6,We,ut,ct,ts,rs,N5,B5,U5,oi,Lr,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0,J0],Yv=[ds,lh,mh,ds],G0=[_t,Vp,Hp,Yp,hp,dp,X6,Md,Ls,Mv,Fv,Rv,Jp,nm,Hd,lm,tp,Vm,Hm,Fh,Nh,pd,gd,wd,Zh,nd,sd,ud,Wa,Pd,Ko,yv,o3,a3,Li,bv,Iv,Nv,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t,_t],Kv=[ps,_h,bh,ps],Ui=[bi,ml,sv,ov,nv,em,zp,Mh,Bh,bi,bi,bi,bi,bi,bi,bi],Xv=[Tr,x4,k4,L4,pf,Tr,Tr,Tr],Zv=[Ir,fh,vh,yh,Eh,Ir,Ir,Ir],Ut=[Rt,Y5,nf,Wu,Ou,Tu,pu,nu,$2,L2,C2,g2,s2,K1,v1,l1,Va,Sl,wl,am,Wd,Xd,um,jp,ip,ap,Kp,dd,md,vd,rd,od,ad,b6,Pa,Ma,ym,Ot,_m,Av,wv,xp,bp,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt],or=[ci,Bm,Gm,y4,_4,I4,P4,R4,O4,cf,gf,Ad,V4,G4,cd,Td,Ed,j4,X4,ig,og,kv,Ev,ci,ci,ci,ci,ci,ci,ci,ci,ci],Jv=[V5,o5,n5,r5],e8=[Oi,ka,As,Et,Hh,Wh,Qh,dv,mv,pv,Oi,Oi,Oi,Oi,Oi,Oi],Un=[Qi,O2,I2,m2,o2,Y1,g1,a1,Ua,Sd,Jh,ed,id,ld,a6,h6,Wg,i3,Ms,vv,Fr,c5,f5,u5,l5,a5,s5,Qi,Qi,Qi,Qi,Qi],Br=[z5,cp,s6,bm,k6,yi,q5,Sp,Yo,w6,mp,Dm,r3,n3,s3,An],Ws=[ms,G5,uv,$5,fv,H5,kr,ms],_i=[ji,If,Wf,B4,U4,_d,xd,W4,Q4,eg,tg,ji,ji,ji,ji,ji],t8=[Cr,E4,D4,df,mf,Cr,Cr,Cr],Ur=[$t,jl,Yl,Hl,Wl,gl,Ja,el,nl,ol,ul,cl,Il,Cl,Dl,Pl,Ol,Ll,Vl,zl,T1,I1,k1,D1,R1,O1,U1,V1,Z6,J6,ev,tm,qp,Um,$m,ya,vp,za,qa,Ga,$a,ja,Ya,Ka,S1,w1,A1,y1,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t,$t];return{_jpegls_encode:P6,___cxa_can_catch:av,_free:Z0,_jpegls_decode:D6,___cxa_is_pointer_type:lv,_i64Add:Lt,_memmove:yr,_i64Subtract:ei,_memset:j0,_malloc:It,_memcpy:nt,_bitshift64Lshr:Ci,_bitshift64Shl:St,__GLOBAL__I_000101:Bd,__GLOBAL__sub_I_jpegls_cpp:Ra,__GLOBAL__sub_I_iostream_cpp:Ud,runPostSets:h5,_emscripten_replace_memory:ha,stackAlloc:da,stackSave:pa,stackRestore:ma,establishStackSpace:ga,setThrew:va,setTempRet0:Sa,getTempRet0:wa,dynCall_iiiiiiii:p5,dynCall_viiiii:m5,dynCall_iiiiiid:g5,dynCall_vi:v5,dynCall_vii:S5,dynCall_iiiiiii:w5,dynCall_ii:A5,dynCall_iiiiiiiiiiii:y5,dynCall_iiii:_5,dynCall_viiiiiiiiiiiiiii:x5,dynCall_viiiiii:T5,dynCall_viiiiiii:I5,dynCall_viiiiiiiiii:C5,dynCall_iii:E5,dynCall_iiiiii:b5,dynCall_diii:k5,dynCall_i:D5,dynCall_iiiii:P5,dynCall_viii:F5,dynCall_v:M5,dynCall_iiiiiiiii:R5,dynCall_iiiiid:O5,dynCall_viiii:L5}}(Module.asmGlobalArg,Module.asmLibraryArg,buffer);Module._jpegls_encode=asm._jpegls_encode,Module.___cxa_can_catch=asm.___cxa_can_catch;var _free=Module._free=asm._free;Module._jpegls_decode=asm._jpegls_decode,Module.___cxa_is_pointer_type=asm.___cxa_is_pointer_type;var _i64Add=Module._i64Add=asm._i64Add,_memmove=Module._memmove=asm._memmove,_i64Subtract=Module._i64Subtract=asm._i64Subtract,_memset=Module._memset=asm._memset,_malloc=Module._malloc=asm._malloc,_memcpy=Module._memcpy=asm._memcpy,_emscripten_replace_memory=Module._emscripten_replace_memory=asm._emscripten_replace_memory;Module.runPostSets=asm.runPostSets,Module.__GLOBAL__sub_I_iostream_cpp=asm.__GLOBAL__sub_I_iostream_cpp;var _bitshift64Lshr=Module._bitshift64Lshr=asm._bitshift64Lshr,__GLOBAL__sub_I_jpegls_cpp=Module.__GLOBAL__sub_I_jpegls_cpp=asm.__GLOBAL__sub_I_jpegls_cpp,__GLOBAL__I_000101=Module.__GLOBAL__I_000101=asm.__GLOBAL__I_000101,_bitshift64Shl=Module._bitshift64Shl=asm._bitshift64Shl;Module.dynCall_iiiiiiii=asm.dynCall_iiiiiiii,Module.dynCall_viiiii=asm.dynCall_viiiii,Module.dynCall_iiiiiid=asm.dynCall_iiiiiid,Module.dynCall_vi=asm.dynCall_vi,Module.dynCall_vii=asm.dynCall_vii,Module.dynCall_iiiiiii=asm.dynCall_iiiiiii,Module.dynCall_ii=asm.dynCall_ii,Module.dynCall_iiiiiiiiiiii=asm.dynCall_iiiiiiiiiiii,Module.dynCall_iiii=asm.dynCall_iiii,Module.dynCall_viiiiiiiiiiiiiii=asm.dynCall_viiiiiiiiiiiiiii,Module.dynCall_viiiiii=asm.dynCall_viiiiii,Module.dynCall_viiiiiii=asm.dynCall_viiiiiii,Module.dynCall_viiiiiiiiii=asm.dynCall_viiiiiiiiii,Module.dynCall_iii=asm.dynCall_iii,Module.dynCall_iiiiii=asm.dynCall_iiiiii,Module.dynCall_diii=asm.dynCall_diii,Module.dynCall_i=asm.dynCall_i,Module.dynCall_iiiii=asm.dynCall_iiiii,Module.dynCall_viii=asm.dynCall_viii,Module.dynCall_v=asm.dynCall_v,Module.dynCall_iiiiiiiii=asm.dynCall_iiiiiiiii,Module.dynCall_iiiiid=asm.dynCall_iiiiid,Module.dynCall_viiii=asm.dynCall_viiii,Runtime.stackAlloc=asm.stackAlloc,Runtime.stackSave=asm.stackSave,Runtime.stackRestore=asm.stackRestore,Runtime.establishStackSpace=asm.establishStackSpace,Runtime.setTempRet0=asm.setTempRet0,Runtime.getTempRet0=asm.getTempRet0;function ExitStatus(l){this.name="ExitStatus",this.message="Program terminated with exit("+l+")",this.status=l}ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus;var initialStackTop;dependenciesFulfilled=function l(){Module.calledRun||run(),Module.calledRun||(dependenciesFulfilled=l)},Module.callMain=Module.callMain=function l(n){assert(runDependencies==0,"cannot call main when async dependencies remain! (listen on __ATMAIN__)"),assert(__ATPRERUN__.length==0,"cannot call main when preRun functions remain to be called"),n=n||[],ensureInitRuntime();var u=n.length+1;function p(){for(var _=0;_<3;_++)v.push(0)}var v=[allocate(intArrayFromString(Module.thisProgram),"i8",ALLOC_NORMAL)];p();for(var d=0;d<u-1;d=d+1)v.push(allocate(intArrayFromString(n[d]),"i8",ALLOC_NORMAL)),p();v.push(0),v=allocate(v,"i32",ALLOC_NORMAL);try{var g=Module._main(u,v,0);exit(g,!0)}catch(_){if(_ instanceof ExitStatus)return;if(_=="SimulateInfiniteLoop"){Module.noExitRuntime=!0;return}else throw _&&typeof _=="object"&&_.stack&&Module.printErr("exception thrown: "+[_,_.stack]),_}finally{}};function run(l){if(l=l||Module.arguments,runDependencies>0||(preRun(),runDependencies>0)||Module.calledRun)return;function n(){Module.calledRun||(Module.calledRun=!0,!ABORT&&(ensureInitRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),Module._main&&shouldRunNow&&Module.callMain(l),postRun()))}Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),n()},1)):n()}Module.run=Module.run=run;function exit(l,n){if(!(n&&Module.noExitRuntime))throw Module.noExitRuntime||(ABORT=!0,STACKTOP=initialStackTop,exitRuntime(),Module.onExit&&Module.onExit(l)),ENVIRONMENT_IS_NODE?(process.stdout.once("drain",function(){process.exit(l)}),console.log(" "),setTimeout(function(){process.exit(l)},500)):ENVIRONMENT_IS_SHELL&&typeof quit=="function"&&quit(l),new ExitStatus(l)}Module.exit=Module.exit=exit;var abortDecorators=[];function abort(l){l!==void 0?(Module.print(l),Module.printErr(l),l=JSON.stringify(l)):l="",ABORT=!0;var n=`
If this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.`,u="abort("+l+") at "+stackTrace()+n;throw abortDecorators&&abortDecorators.forEach(function(p){u=p(u,l)}),u}if(Module.abort=Module.abort=abort,Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;return Module.noInitialRun&&(shouldRunNow=!1),run(),Module};module.exports&&(module.exports=CharLS)}(charLSDynamicMemoryBrowser)),charLSDynamicMemoryBrowser.exports}var hasRequiredJpegLs;function requireJpegLs(){return hasRequiredJpegLs||(hasRequiredJpegLs=1,function(l){var n=n||(typeof commonjsRequire<"u"?requireCharLSDynamicMemoryBrowser():null),u=function(){var p;function v(){}v.prototype={decodeJPEGLS:function(C,E){return _(C,E)}};function d(C,E){var w=p._malloc(C.length);p.writeArrayToMemory(C,w);var m=p._malloc(4),y=p._malloc(4),e=p._malloc(4),P=p._malloc(4),O=p._malloc(4),U=p._malloc(4),W=p._malloc(4),V=p._malloc(4),$=p._malloc(4),b=p.ccall("jpegls_decode","number",["number","number","number","number","number","number","number","number","number","number","number"],[w,C.length,m,y,e,P,O,U,V,W,$]),H={result:b,width:p.getValue(e,"i32"),height:p.getValue(P,"i32"),bitsPerSample:p.getValue(O,"i32"),stride:p.getValue(U,"i32"),components:p.getValue(V,"i32"),allowedLossyError:p.getValue(W,"i32"),interleaveMode:p.getValue($,"i32"),pixelData:void 0},G=p.getValue(m,"*");return H.bitsPerSample<=8?(H.pixelData=new Uint8Array(H.width*H.height*H.components),H.pixelData.set(new Uint8Array(p.HEAP8.buffer,G,H.pixelData.length))):E?(H.pixelData=new Int16Array(H.width*H.height*H.components),H.pixelData.set(new Int16Array(p.HEAP16.buffer,G,H.pixelData.length))):(H.pixelData=new Uint16Array(H.width*H.height*H.components),H.pixelData.set(new Uint16Array(p.HEAP16.buffer,G,H.pixelData.length))),p._free(w),p._free(G),p._free(m),p._free(y),p._free(e),p._free(P),p._free(O),p._free(U),p._free(V),p._free($),H}function g(){if(typeof n>"u")throw"No JPEG-LS decoder loaded";if(!p&&(p=n(),!p||!p._jpegls_decode))throw"JPEG-LS failed to initialize"}function _(C,E){g();var w=d(C,E);if(w.result!==0&&w.result!==6)throw"JPEG-LS decoder failed to decode frame (error code "+w.result+")";var m={};return m.columns=w.width,m.rows=w.height,m.pixelData=w.pixelData,m}return v}();l.exports&&(l.exports=u)}(jpegLs)),jpegLs.exports}var parser={exports:{}},pako={},deflate$1={},deflate={},trees={},hasRequiredTrees;function requireTrees(){if(hasRequiredTrees)return trees;hasRequiredTrees=1;const l=4,n=0,u=1,p=2;function v(J){let Le=J.length;for(;--Le>=0;)J[Le]=0}const d=0,g=1,_=2,C=3,E=258,w=29,m=256,y=m+1+w,e=30,P=19,O=2*y+1,U=15,W=16,V=7,$=256,b=16,H=17,G=18,Y=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),X=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),j=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),h=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ae=512,le=new Array((y+2)*2);v(le);const he=new Array(e*2);v(he);const pe=new Array(ae);v(pe);const Ae=new Array(E-C+1);v(Ae);const ge=new Array(w);v(ge);const ye=new Array(e);v(ye);function we(J,Le,Je,Qe,a0){this.static_tree=J,this.extra_bits=Le,this.extra_base=Je,this.elems=Qe,this.max_length=a0,this.has_stree=J&&J.length}let be,Ve,Ne;function p0(J,Le){this.dyn_tree=J,this.max_code=0,this.stat_desc=Le}const k0=J=>J<256?pe[J]:pe[256+(J>>>7)],Ue=(J,Le)=>{J.pending_buf[J.pending++]=Le&255,J.pending_buf[J.pending++]=Le>>>8&255},xe=(J,Le,Je)=>{J.bi_valid>W-Je?(J.bi_buf|=Le<<J.bi_valid&65535,Ue(J,J.bi_buf),J.bi_buf=Le>>W-J.bi_valid,J.bi_valid+=Je-W):(J.bi_buf|=Le<<J.bi_valid&65535,J.bi_valid+=Je)},I0=(J,Le,Je)=>{xe(J,Je[Le*2],Je[Le*2+1])},O0=(J,Le)=>{let Je=0;do Je|=J&1,J>>>=1,Je<<=1;while(--Le>0);return Je>>>1},Q0=J=>{J.bi_valid===16?(Ue(J,J.bi_buf),J.bi_buf=0,J.bi_valid=0):J.bi_valid>=8&&(J.pending_buf[J.pending++]=J.bi_buf&255,J.bi_buf>>=8,J.bi_valid-=8)},tt=(J,Le)=>{const Je=Le.dyn_tree,Qe=Le.max_code,a0=Le.stat_desc.static_tree,c0=Le.stat_desc.has_stree,Ee=Le.stat_desc.extra_bits,He=Le.stat_desc.extra_base,oe=Le.stat_desc.max_length;let de,P0,ce,F0,Oe,W0,t0=0;for(F0=0;F0<=U;F0++)J.bl_count[F0]=0;for(Je[J.heap[J.heap_max]*2+1]=0,de=J.heap_max+1;de<O;de++)P0=J.heap[de],F0=Je[Je[P0*2+1]*2+1]+1,F0>oe&&(F0=oe,t0++),Je[P0*2+1]=F0,!(P0>Qe)&&(J.bl_count[F0]++,Oe=0,P0>=He&&(Oe=Ee[P0-He]),W0=Je[P0*2],J.opt_len+=W0*(F0+Oe),c0&&(J.static_len+=W0*(a0[P0*2+1]+Oe)));if(t0!==0){do{for(F0=oe-1;J.bl_count[F0]===0;)F0--;J.bl_count[F0]--,J.bl_count[F0+1]+=2,J.bl_count[oe]--,t0-=2}while(t0>0);for(F0=oe;F0!==0;F0--)for(P0=J.bl_count[F0];P0!==0;)ce=J.heap[--de],!(ce>Qe)&&(Je[ce*2+1]!==F0&&(J.opt_len+=(F0-Je[ce*2+1])*Je[ce*2],Je[ce*2+1]=F0),P0--)}},it=(J,Le,Je)=>{const Qe=new Array(U+1);let a0=0,c0,Ee;for(c0=1;c0<=U;c0++)a0=a0+Je[c0-1]<<1,Qe[c0]=a0;for(Ee=0;Ee<=Le;Ee++){let He=J[Ee*2+1];He!==0&&(J[Ee*2]=O0(Qe[He]++,He))}},U0=()=>{let J,Le,Je,Qe,a0;const c0=new Array(U+1);for(Je=0,Qe=0;Qe<w-1;Qe++)for(ge[Qe]=Je,J=0;J<1<<Y[Qe];J++)Ae[Je++]=Qe;for(Ae[Je-1]=Qe,a0=0,Qe=0;Qe<16;Qe++)for(ye[Qe]=a0,J=0;J<1<<X[Qe];J++)pe[a0++]=Qe;for(a0>>=7;Qe<e;Qe++)for(ye[Qe]=a0<<7,J=0;J<1<<X[Qe]-7;J++)pe[256+a0++]=Qe;for(Le=0;Le<=U;Le++)c0[Le]=0;for(J=0;J<=143;)le[J*2+1]=8,J++,c0[8]++;for(;J<=255;)le[J*2+1]=9,J++,c0[9]++;for(;J<=279;)le[J*2+1]=7,J++,c0[7]++;for(;J<=287;)le[J*2+1]=8,J++,c0[8]++;for(it(le,y+1,c0),J=0;J<e;J++)he[J*2+1]=5,he[J*2]=O0(J,5);be=new we(le,Y,m+1,y,U),Ve=new we(he,X,0,e,U),Ne=new we(new Array(0),j,0,P,V)},q0=J=>{let Le;for(Le=0;Le<y;Le++)J.dyn_ltree[Le*2]=0;for(Le=0;Le<e;Le++)J.dyn_dtree[Le*2]=0;for(Le=0;Le<P;Le++)J.bl_tree[Le*2]=0;J.dyn_ltree[$*2]=1,J.opt_len=J.static_len=0,J.sym_next=J.matches=0},Xe=J=>{J.bi_valid>8?Ue(J,J.bi_buf):J.bi_valid>0&&(J.pending_buf[J.pending++]=J.bi_buf),J.bi_buf=0,J.bi_valid=0},ke=(J,Le,Je,Qe)=>{const a0=Le*2,c0=Je*2;return J[a0]<J[c0]||J[a0]===J[c0]&&Qe[Le]<=Qe[Je]},n0=(J,Le,Je)=>{const Qe=J.heap[Je];let a0=Je<<1;for(;a0<=J.heap_len&&(a0<J.heap_len&&ke(Le,J.heap[a0+1],J.heap[a0],J.depth)&&a0++,!ke(Le,Qe,J.heap[a0],J.depth));)J.heap[Je]=J.heap[a0],Je=a0,a0<<=1;J.heap[Je]=Qe},Ie=(J,Le,Je)=>{let Qe,a0,c0=0,Ee,He;if(J.sym_next!==0)do Qe=J.pending_buf[J.sym_buf+c0++]&255,Qe+=(J.pending_buf[J.sym_buf+c0++]&255)<<8,a0=J.pending_buf[J.sym_buf+c0++],Qe===0?I0(J,a0,Le):(Ee=Ae[a0],I0(J,Ee+m+1,Le),He=Y[Ee],He!==0&&(a0-=ge[Ee],xe(J,a0,He)),Qe--,Ee=k0(Qe),I0(J,Ee,Je),He=X[Ee],He!==0&&(Qe-=ye[Ee],xe(J,Qe,He)));while(c0<J.sym_next);I0(J,$,Le)},Fe=(J,Le)=>{const Je=Le.dyn_tree,Qe=Le.stat_desc.static_tree,a0=Le.stat_desc.has_stree,c0=Le.stat_desc.elems;let Ee,He,oe=-1,de;for(J.heap_len=0,J.heap_max=O,Ee=0;Ee<c0;Ee++)Je[Ee*2]!==0?(J.heap[++J.heap_len]=oe=Ee,J.depth[Ee]=0):Je[Ee*2+1]=0;for(;J.heap_len<2;)de=J.heap[++J.heap_len]=oe<2?++oe:0,Je[de*2]=1,J.depth[de]=0,J.opt_len--,a0&&(J.static_len-=Qe[de*2+1]);for(Le.max_code=oe,Ee=J.heap_len>>1;Ee>=1;Ee--)n0(J,Je,Ee);de=c0;do Ee=J.heap[1],J.heap[1]=J.heap[J.heap_len--],n0(J,Je,1),He=J.heap[1],J.heap[--J.heap_max]=Ee,J.heap[--J.heap_max]=He,Je[de*2]=Je[Ee*2]+Je[He*2],J.depth[de]=(J.depth[Ee]>=J.depth[He]?J.depth[Ee]:J.depth[He])+1,Je[Ee*2+1]=Je[He*2+1]=de,J.heap[1]=de++,n0(J,Je,1);while(J.heap_len>=2);J.heap[--J.heap_max]=J.heap[1],tt(J,Le),it(Je,oe,J.bl_count)},m0=(J,Le,Je)=>{let Qe,a0=-1,c0,Ee=Le[0*2+1],He=0,oe=7,de=4;for(Ee===0&&(oe=138,de=3),Le[(Je+1)*2+1]=65535,Qe=0;Qe<=Je;Qe++)c0=Ee,Ee=Le[(Qe+1)*2+1],!(++He<oe&&c0===Ee)&&(He<de?J.bl_tree[c0*2]+=He:c0!==0?(c0!==a0&&J.bl_tree[c0*2]++,J.bl_tree[b*2]++):He<=10?J.bl_tree[H*2]++:J.bl_tree[G*2]++,He=0,a0=c0,Ee===0?(oe=138,de=3):c0===Ee?(oe=6,de=3):(oe=7,de=4))},ze=(J,Le,Je)=>{let Qe,a0=-1,c0,Ee=Le[0*2+1],He=0,oe=7,de=4;for(Ee===0&&(oe=138,de=3),Qe=0;Qe<=Je;Qe++)if(c0=Ee,Ee=Le[(Qe+1)*2+1],!(++He<oe&&c0===Ee)){if(He<de)do I0(J,c0,J.bl_tree);while(--He!==0);else c0!==0?(c0!==a0&&(I0(J,c0,J.bl_tree),He--),I0(J,b,J.bl_tree),xe(J,He-3,2)):He<=10?(I0(J,H,J.bl_tree),xe(J,He-3,3)):(I0(J,G,J.bl_tree),xe(J,He-11,7));He=0,a0=c0,Ee===0?(oe=138,de=3):c0===Ee?(oe=6,de=3):(oe=7,de=4)}},Be=J=>{let Le;for(m0(J,J.dyn_ltree,J.l_desc.max_code),m0(J,J.dyn_dtree,J.d_desc.max_code),Fe(J,J.bl_desc),Le=P-1;Le>=3&&J.bl_tree[h[Le]*2+1]===0;Le--);return J.opt_len+=3*(Le+1)+5+5+4,Le},qe=(J,Le,Je,Qe)=>{let a0;for(xe(J,Le-257,5),xe(J,Je-1,5),xe(J,Qe-4,4),a0=0;a0<Qe;a0++)xe(J,J.bl_tree[h[a0]*2+1],3);ze(J,J.dyn_ltree,Le-1),ze(J,J.dyn_dtree,Je-1)},De=J=>{let Le=4093624447,Je;for(Je=0;Je<=31;Je++,Le>>>=1)if(Le&1&&J.dyn_ltree[Je*2]!==0)return n;if(J.dyn_ltree[9*2]!==0||J.dyn_ltree[10*2]!==0||J.dyn_ltree[13*2]!==0)return u;for(Je=32;Je<m;Je++)if(J.dyn_ltree[Je*2]!==0)return u;return n};let Ze=!1;const je=J=>{Ze||(U0(),Ze=!0),J.l_desc=new p0(J.dyn_ltree,be),J.d_desc=new p0(J.dyn_dtree,Ve),J.bl_desc=new p0(J.bl_tree,Ne),J.bi_buf=0,J.bi_valid=0,q0(J)},Ge=(J,Le,Je,Qe)=>{xe(J,(d<<1)+(Qe?1:0),3),Xe(J),Ue(J,Je),Ue(J,~Je),Je&&J.pending_buf.set(J.window.subarray(Le,Le+Je),J.pending),J.pending+=Je},S0=J=>{xe(J,g<<1,3),I0(J,$,le),Q0(J)},$e=(J,Le,Je,Qe)=>{let a0,c0,Ee=0;J.level>0?(J.strm.data_type===p&&(J.strm.data_type=De(J)),Fe(J,J.l_desc),Fe(J,J.d_desc),Ee=Be(J),a0=J.opt_len+3+7>>>3,c0=J.static_len+3+7>>>3,c0<=a0&&(a0=c0)):a0=c0=Je+5,Je+4<=a0&&Le!==-1?Ge(J,Le,Je,Qe):J.strategy===l||c0===a0?(xe(J,(g<<1)+(Qe?1:0),3),Ie(J,le,he)):(xe(J,(_<<1)+(Qe?1:0),3),qe(J,J.l_desc.max_code+1,J.d_desc.max_code+1,Ee+1),Ie(J,J.dyn_ltree,J.dyn_dtree)),q0(J),Qe&&Xe(J)},e0=(J,Le,Je)=>(J.pending_buf[J.sym_buf+J.sym_next++]=Le,J.pending_buf[J.sym_buf+J.sym_next++]=Le>>8,J.pending_buf[J.sym_buf+J.sym_next++]=Je,Le===0?J.dyn_ltree[Je*2]++:(J.matches++,Le--,J.dyn_ltree[(Ae[Je]+m+1)*2]++,J.dyn_dtree[k0(Le)*2]++),J.sym_next===J.sym_end);return trees._tr_init=je,trees._tr_stored_block=Ge,trees._tr_flush_block=$e,trees._tr_tally=e0,trees._tr_align=S0,trees}var adler32_1,hasRequiredAdler32;function requireAdler32(){return hasRequiredAdler32||(hasRequiredAdler32=1,adler32_1=(n,u,p,v)=>{let d=n&65535|0,g=n>>>16&65535|0,_=0;for(;p!==0;){_=p>2e3?2e3:p,p-=_;do d=d+u[v++]|0,g=g+d|0;while(--_);d%=65521,g%=65521}return d|g<<16|0}),adler32_1}var crc32_1,hasRequiredCrc32;function requireCrc32(){if(hasRequiredCrc32)return crc32_1;hasRequiredCrc32=1;const l=()=>{let p,v=[];for(var d=0;d<256;d++){p=d;for(var g=0;g<8;g++)p=p&1?3988292384^p>>>1:p>>>1;v[d]=p}return v},n=new Uint32Array(l());return crc32_1=(p,v,d,g)=>{const _=n,C=g+d;p^=-1;for(let E=g;E<C;E++)p=p>>>8^_[(p^v[E])&255];return p^-1},crc32_1}var messages,hasRequiredMessages;function requireMessages(){return hasRequiredMessages||(hasRequiredMessages=1,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),messages}var constants,hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,constants={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),constants}var hasRequiredDeflate$1;function requireDeflate$1(){if(hasRequiredDeflate$1)return deflate;hasRequiredDeflate$1=1;const{_tr_init:l,_tr_stored_block:n,_tr_flush_block:u,_tr_tally:p,_tr_align:v}=requireTrees(),d=requireAdler32(),g=requireCrc32(),_=requireMessages(),{Z_NO_FLUSH:C,Z_PARTIAL_FLUSH:E,Z_FULL_FLUSH:w,Z_FINISH:m,Z_BLOCK:y,Z_OK:e,Z_STREAM_END:P,Z_STREAM_ERROR:O,Z_DATA_ERROR:U,Z_BUF_ERROR:W,Z_DEFAULT_COMPRESSION:V,Z_FILTERED:$,Z_HUFFMAN_ONLY:b,Z_RLE:H,Z_FIXED:G,Z_DEFAULT_STRATEGY:Y,Z_UNKNOWN:X,Z_DEFLATED:j}=requireConstants(),h=9,ae=15,le=8,Ae=256+1+29,ge=30,ye=19,we=2*Ae+1,be=15,Ve=3,Ne=258,p0=Ne+Ve+1,k0=32,Ue=42,xe=57,I0=69,O0=73,Q0=91,tt=103,it=113,U0=666,q0=1,Xe=2,ke=3,n0=4,Ie=3,Fe=(ie,i0)=>(ie.msg=_[i0],i0),m0=ie=>ie*2-(ie>4?9:0),ze=ie=>{let i0=ie.length;for(;--i0>=0;)ie[i0]=0},Be=ie=>{let i0,ve,Pe,me=ie.w_size;i0=ie.hash_size,Pe=i0;do ve=ie.head[--Pe],ie.head[Pe]=ve>=me?ve-me:0;while(--i0);i0=me,Pe=i0;do ve=ie.prev[--Pe],ie.prev[Pe]=ve>=me?ve-me:0;while(--i0)};let De=(ie,i0,ve)=>(i0<<ie.hash_shift^ve)&ie.hash_mask;const Ze=ie=>{const i0=ie.state;let ve=i0.pending;ve>ie.avail_out&&(ve=ie.avail_out),ve!==0&&(ie.output.set(i0.pending_buf.subarray(i0.pending_out,i0.pending_out+ve),ie.next_out),ie.next_out+=ve,i0.pending_out+=ve,ie.total_out+=ve,ie.avail_out-=ve,i0.pending-=ve,i0.pending===0&&(i0.pending_out=0))},je=(ie,i0)=>{u(ie,ie.block_start>=0?ie.block_start:-1,ie.strstart-ie.block_start,i0),ie.block_start=ie.strstart,Ze(ie.strm)},Ge=(ie,i0)=>{ie.pending_buf[ie.pending++]=i0},S0=(ie,i0)=>{ie.pending_buf[ie.pending++]=i0>>>8&255,ie.pending_buf[ie.pending++]=i0&255},$e=(ie,i0,ve,Pe)=>{let me=ie.avail_in;return me>Pe&&(me=Pe),me===0?0:(ie.avail_in-=me,i0.set(ie.input.subarray(ie.next_in,ie.next_in+me),ve),ie.state.wrap===1?ie.adler=d(ie.adler,i0,me,ve):ie.state.wrap===2&&(ie.adler=g(ie.adler,i0,me,ve)),ie.next_in+=me,ie.total_in+=me,me)},e0=(ie,i0)=>{let ve=ie.max_chain_length,Pe=ie.strstart,me,_0,H0=ie.prev_length,N0=ie.nice_match;const Re=ie.strstart>ie.w_size-p0?ie.strstart-(ie.w_size-p0):0,ht=ie.window,Dt=ie.w_mask,Ht=ie.prev,Pt=ie.strstart+Ne;let ti=ht[Pe+H0-1],u0=ht[Pe+H0];ie.prev_length>=ie.good_match&&(ve>>=2),N0>ie.lookahead&&(N0=ie.lookahead);do if(me=i0,!(ht[me+H0]!==u0||ht[me+H0-1]!==ti||ht[me]!==ht[Pe]||ht[++me]!==ht[Pe+1])){Pe+=2,me++;do;while(ht[++Pe]===ht[++me]&&ht[++Pe]===ht[++me]&&ht[++Pe]===ht[++me]&&ht[++Pe]===ht[++me]&&ht[++Pe]===ht[++me]&&ht[++Pe]===ht[++me]&&ht[++Pe]===ht[++me]&&ht[++Pe]===ht[++me]&&Pe<Pt);if(_0=Ne-(Pt-Pe),Pe=Pt-Ne,_0>H0){if(ie.match_start=i0,H0=_0,_0>=N0)break;ti=ht[Pe+H0-1],u0=ht[Pe+H0]}}while((i0=Ht[i0&Dt])>Re&&--ve!==0);return H0<=ie.lookahead?H0:ie.lookahead},J=ie=>{const i0=ie.w_size;let ve,Pe,me;do{if(Pe=ie.window_size-ie.lookahead-ie.strstart,ie.strstart>=i0+(i0-p0)&&(ie.window.set(ie.window.subarray(i0,i0+i0-Pe),0),ie.match_start-=i0,ie.strstart-=i0,ie.block_start-=i0,ie.insert>ie.strstart&&(ie.insert=ie.strstart),Be(ie),Pe+=i0),ie.strm.avail_in===0)break;if(ve=$e(ie.strm,ie.window,ie.strstart+ie.lookahead,Pe),ie.lookahead+=ve,ie.lookahead+ie.insert>=Ve)for(me=ie.strstart-ie.insert,ie.ins_h=ie.window[me],ie.ins_h=De(ie,ie.ins_h,ie.window[me+1]);ie.insert&&(ie.ins_h=De(ie,ie.ins_h,ie.window[me+Ve-1]),ie.prev[me&ie.w_mask]=ie.head[ie.ins_h],ie.head[ie.ins_h]=me,me++,ie.insert--,!(ie.lookahead+ie.insert<Ve)););}while(ie.lookahead<p0&&ie.strm.avail_in!==0)},Le=(ie,i0)=>{let ve=ie.pending_buf_size-5>ie.w_size?ie.w_size:ie.pending_buf_size-5,Pe,me,_0,H0=0,N0=ie.strm.avail_in;do{if(Pe=65535,_0=ie.bi_valid+42>>3,ie.strm.avail_out<_0||(_0=ie.strm.avail_out-_0,me=ie.strstart-ie.block_start,Pe>me+ie.strm.avail_in&&(Pe=me+ie.strm.avail_in),Pe>_0&&(Pe=_0),Pe<ve&&(Pe===0&&i0!==m||i0===C||Pe!==me+ie.strm.avail_in)))break;H0=i0===m&&Pe===me+ie.strm.avail_in?1:0,n(ie,0,0,H0),ie.pending_buf[ie.pending-4]=Pe,ie.pending_buf[ie.pending-3]=Pe>>8,ie.pending_buf[ie.pending-2]=~Pe,ie.pending_buf[ie.pending-1]=~Pe>>8,Ze(ie.strm),me&&(me>Pe&&(me=Pe),ie.strm.output.set(ie.window.subarray(ie.block_start,ie.block_start+me),ie.strm.next_out),ie.strm.next_out+=me,ie.strm.avail_out-=me,ie.strm.total_out+=me,ie.block_start+=me,Pe-=me),Pe&&($e(ie.strm,ie.strm.output,ie.strm.next_out,Pe),ie.strm.next_out+=Pe,ie.strm.avail_out-=Pe,ie.strm.total_out+=Pe)}while(H0===0);return N0-=ie.strm.avail_in,N0&&(N0>=ie.w_size?(ie.matches=2,ie.window.set(ie.strm.input.subarray(ie.strm.next_in-ie.w_size,ie.strm.next_in),0),ie.strstart=ie.w_size,ie.insert=ie.strstart):(ie.window_size-ie.strstart<=N0&&(ie.strstart-=ie.w_size,ie.window.set(ie.window.subarray(ie.w_size,ie.w_size+ie.strstart),0),ie.matches<2&&ie.matches++,ie.insert>ie.strstart&&(ie.insert=ie.strstart)),ie.window.set(ie.strm.input.subarray(ie.strm.next_in-N0,ie.strm.next_in),ie.strstart),ie.strstart+=N0,ie.insert+=N0>ie.w_size-ie.insert?ie.w_size-ie.insert:N0),ie.block_start=ie.strstart),ie.high_water<ie.strstart&&(ie.high_water=ie.strstart),H0?n0:i0!==C&&i0!==m&&ie.strm.avail_in===0&&ie.strstart===ie.block_start?Xe:(_0=ie.window_size-ie.strstart,ie.strm.avail_in>_0&&ie.block_start>=ie.w_size&&(ie.block_start-=ie.w_size,ie.strstart-=ie.w_size,ie.window.set(ie.window.subarray(ie.w_size,ie.w_size+ie.strstart),0),ie.matches<2&&ie.matches++,_0+=ie.w_size,ie.insert>ie.strstart&&(ie.insert=ie.strstart)),_0>ie.strm.avail_in&&(_0=ie.strm.avail_in),_0&&($e(ie.strm,ie.window,ie.strstart,_0),ie.strstart+=_0,ie.insert+=_0>ie.w_size-ie.insert?ie.w_size-ie.insert:_0),ie.high_water<ie.strstart&&(ie.high_water=ie.strstart),_0=ie.bi_valid+42>>3,_0=ie.pending_buf_size-_0>65535?65535:ie.pending_buf_size-_0,ve=_0>ie.w_size?ie.w_size:_0,me=ie.strstart-ie.block_start,(me>=ve||(me||i0===m)&&i0!==C&&ie.strm.avail_in===0&&me<=_0)&&(Pe=me>_0?_0:me,H0=i0===m&&ie.strm.avail_in===0&&Pe===me?1:0,n(ie,ie.block_start,Pe,H0),ie.block_start+=Pe,Ze(ie.strm)),H0?ke:q0)},Je=(ie,i0)=>{let ve,Pe;for(;;){if(ie.lookahead<p0){if(J(ie),ie.lookahead<p0&&i0===C)return q0;if(ie.lookahead===0)break}if(ve=0,ie.lookahead>=Ve&&(ie.ins_h=De(ie,ie.ins_h,ie.window[ie.strstart+Ve-1]),ve=ie.prev[ie.strstart&ie.w_mask]=ie.head[ie.ins_h],ie.head[ie.ins_h]=ie.strstart),ve!==0&&ie.strstart-ve<=ie.w_size-p0&&(ie.match_length=e0(ie,ve)),ie.match_length>=Ve)if(Pe=p(ie,ie.strstart-ie.match_start,ie.match_length-Ve),ie.lookahead-=ie.match_length,ie.match_length<=ie.max_lazy_match&&ie.lookahead>=Ve){ie.match_length--;do ie.strstart++,ie.ins_h=De(ie,ie.ins_h,ie.window[ie.strstart+Ve-1]),ve=ie.prev[ie.strstart&ie.w_mask]=ie.head[ie.ins_h],ie.head[ie.ins_h]=ie.strstart;while(--ie.match_length!==0);ie.strstart++}else ie.strstart+=ie.match_length,ie.match_length=0,ie.ins_h=ie.window[ie.strstart],ie.ins_h=De(ie,ie.ins_h,ie.window[ie.strstart+1]);else Pe=p(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++;if(Pe&&(je(ie,!1),ie.strm.avail_out===0))return q0}return ie.insert=ie.strstart<Ve-1?ie.strstart:Ve-1,i0===m?(je(ie,!0),ie.strm.avail_out===0?ke:n0):ie.sym_next&&(je(ie,!1),ie.strm.avail_out===0)?q0:Xe},Qe=(ie,i0)=>{let ve,Pe,me;for(;;){if(ie.lookahead<p0){if(J(ie),ie.lookahead<p0&&i0===C)return q0;if(ie.lookahead===0)break}if(ve=0,ie.lookahead>=Ve&&(ie.ins_h=De(ie,ie.ins_h,ie.window[ie.strstart+Ve-1]),ve=ie.prev[ie.strstart&ie.w_mask]=ie.head[ie.ins_h],ie.head[ie.ins_h]=ie.strstart),ie.prev_length=ie.match_length,ie.prev_match=ie.match_start,ie.match_length=Ve-1,ve!==0&&ie.prev_length<ie.max_lazy_match&&ie.strstart-ve<=ie.w_size-p0&&(ie.match_length=e0(ie,ve),ie.match_length<=5&&(ie.strategy===$||ie.match_length===Ve&&ie.strstart-ie.match_start>4096)&&(ie.match_length=Ve-1)),ie.prev_length>=Ve&&ie.match_length<=ie.prev_length){me=ie.strstart+ie.lookahead-Ve,Pe=p(ie,ie.strstart-1-ie.prev_match,ie.prev_length-Ve),ie.lookahead-=ie.prev_length-1,ie.prev_length-=2;do++ie.strstart<=me&&(ie.ins_h=De(ie,ie.ins_h,ie.window[ie.strstart+Ve-1]),ve=ie.prev[ie.strstart&ie.w_mask]=ie.head[ie.ins_h],ie.head[ie.ins_h]=ie.strstart);while(--ie.prev_length!==0);if(ie.match_available=0,ie.match_length=Ve-1,ie.strstart++,Pe&&(je(ie,!1),ie.strm.avail_out===0))return q0}else if(ie.match_available){if(Pe=p(ie,0,ie.window[ie.strstart-1]),Pe&&je(ie,!1),ie.strstart++,ie.lookahead--,ie.strm.avail_out===0)return q0}else ie.match_available=1,ie.strstart++,ie.lookahead--}return ie.match_available&&(Pe=p(ie,0,ie.window[ie.strstart-1]),ie.match_available=0),ie.insert=ie.strstart<Ve-1?ie.strstart:Ve-1,i0===m?(je(ie,!0),ie.strm.avail_out===0?ke:n0):ie.sym_next&&(je(ie,!1),ie.strm.avail_out===0)?q0:Xe},a0=(ie,i0)=>{let ve,Pe,me,_0;const H0=ie.window;for(;;){if(ie.lookahead<=Ne){if(J(ie),ie.lookahead<=Ne&&i0===C)return q0;if(ie.lookahead===0)break}if(ie.match_length=0,ie.lookahead>=Ve&&ie.strstart>0&&(me=ie.strstart-1,Pe=H0[me],Pe===H0[++me]&&Pe===H0[++me]&&Pe===H0[++me])){_0=ie.strstart+Ne;do;while(Pe===H0[++me]&&Pe===H0[++me]&&Pe===H0[++me]&&Pe===H0[++me]&&Pe===H0[++me]&&Pe===H0[++me]&&Pe===H0[++me]&&Pe===H0[++me]&&me<_0);ie.match_length=Ne-(_0-me),ie.match_length>ie.lookahead&&(ie.match_length=ie.lookahead)}if(ie.match_length>=Ve?(ve=p(ie,1,ie.match_length-Ve),ie.lookahead-=ie.match_length,ie.strstart+=ie.match_length,ie.match_length=0):(ve=p(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++),ve&&(je(ie,!1),ie.strm.avail_out===0))return q0}return ie.insert=0,i0===m?(je(ie,!0),ie.strm.avail_out===0?ke:n0):ie.sym_next&&(je(ie,!1),ie.strm.avail_out===0)?q0:Xe},c0=(ie,i0)=>{let ve;for(;;){if(ie.lookahead===0&&(J(ie),ie.lookahead===0)){if(i0===C)return q0;break}if(ie.match_length=0,ve=p(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++,ve&&(je(ie,!1),ie.strm.avail_out===0))return q0}return ie.insert=0,i0===m?(je(ie,!0),ie.strm.avail_out===0?ke:n0):ie.sym_next&&(je(ie,!1),ie.strm.avail_out===0)?q0:Xe};function Ee(ie,i0,ve,Pe,me){this.good_length=ie,this.max_lazy=i0,this.nice_length=ve,this.max_chain=Pe,this.func=me}const He=[new Ee(0,0,0,0,Le),new Ee(4,4,8,4,Je),new Ee(4,5,16,8,Je),new Ee(4,6,32,32,Je),new Ee(4,4,16,16,Qe),new Ee(8,16,32,32,Qe),new Ee(8,16,128,128,Qe),new Ee(8,32,128,256,Qe),new Ee(32,128,258,1024,Qe),new Ee(32,258,258,4096,Qe)],oe=ie=>{ie.window_size=2*ie.w_size,ze(ie.head),ie.max_lazy_match=He[ie.level].max_lazy,ie.good_match=He[ie.level].good_length,ie.nice_match=He[ie.level].nice_length,ie.max_chain_length=He[ie.level].max_chain,ie.strstart=0,ie.block_start=0,ie.lookahead=0,ie.insert=0,ie.match_length=ie.prev_length=Ve-1,ie.match_available=0,ie.ins_h=0};function de(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=j,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(we*2),this.dyn_dtree=new Uint16Array((2*ge+1)*2),this.bl_tree=new Uint16Array((2*ye+1)*2),ze(this.dyn_ltree),ze(this.dyn_dtree),ze(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(be+1),this.heap=new Uint16Array(2*Ae+1),ze(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Ae+1),ze(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const P0=ie=>{if(!ie)return 1;const i0=ie.state;return!i0||i0.strm!==ie||i0.status!==Ue&&i0.status!==xe&&i0.status!==I0&&i0.status!==O0&&i0.status!==Q0&&i0.status!==tt&&i0.status!==it&&i0.status!==U0?1:0},ce=ie=>{if(P0(ie))return Fe(ie,O);ie.total_in=ie.total_out=0,ie.data_type=X;const i0=ie.state;return i0.pending=0,i0.pending_out=0,i0.wrap<0&&(i0.wrap=-i0.wrap),i0.status=i0.wrap===2?xe:i0.wrap?Ue:it,ie.adler=i0.wrap===2?0:1,i0.last_flush=-2,l(i0),e},F0=ie=>{const i0=ce(ie);return i0===e&&oe(ie.state),i0},Oe=(ie,i0)=>P0(ie)||ie.state.wrap!==2?O:(ie.state.gzhead=i0,e),W0=(ie,i0,ve,Pe,me,_0)=>{if(!ie)return O;let H0=1;if(i0===V&&(i0=6),Pe<0?(H0=0,Pe=-Pe):Pe>15&&(H0=2,Pe-=16),me<1||me>h||ve!==j||Pe<8||Pe>15||i0<0||i0>9||_0<0||_0>G||Pe===8&&H0!==1)return Fe(ie,O);Pe===8&&(Pe=9);const N0=new de;return ie.state=N0,N0.strm=ie,N0.status=Ue,N0.wrap=H0,N0.gzhead=null,N0.w_bits=Pe,N0.w_size=1<<N0.w_bits,N0.w_mask=N0.w_size-1,N0.hash_bits=me+7,N0.hash_size=1<<N0.hash_bits,N0.hash_mask=N0.hash_size-1,N0.hash_shift=~~((N0.hash_bits+Ve-1)/Ve),N0.window=new Uint8Array(N0.w_size*2),N0.head=new Uint16Array(N0.hash_size),N0.prev=new Uint16Array(N0.w_size),N0.lit_bufsize=1<<me+6,N0.pending_buf_size=N0.lit_bufsize*4,N0.pending_buf=new Uint8Array(N0.pending_buf_size),N0.sym_buf=N0.lit_bufsize,N0.sym_end=(N0.lit_bufsize-1)*3,N0.level=i0,N0.strategy=_0,N0.method=ve,F0(ie)},t0=(ie,i0)=>W0(ie,i0,j,ae,le,Y),o0=(ie,i0)=>{if(P0(ie)||i0>y||i0<0)return ie?Fe(ie,O):O;const ve=ie.state;if(!ie.output||ie.avail_in!==0&&!ie.input||ve.status===U0&&i0!==m)return Fe(ie,ie.avail_out===0?W:O);const Pe=ve.last_flush;if(ve.last_flush=i0,ve.pending!==0){if(Ze(ie),ie.avail_out===0)return ve.last_flush=-1,e}else if(ie.avail_in===0&&m0(i0)<=m0(Pe)&&i0!==m)return Fe(ie,W);if(ve.status===U0&&ie.avail_in!==0)return Fe(ie,W);if(ve.status===Ue&&ve.wrap===0&&(ve.status=it),ve.status===Ue){let me=j+(ve.w_bits-8<<4)<<8,_0=-1;if(ve.strategy>=b||ve.level<2?_0=0:ve.level<6?_0=1:ve.level===6?_0=2:_0=3,me|=_0<<6,ve.strstart!==0&&(me|=k0),me+=31-me%31,S0(ve,me),ve.strstart!==0&&(S0(ve,ie.adler>>>16),S0(ve,ie.adler&65535)),ie.adler=1,ve.status=it,Ze(ie),ve.pending!==0)return ve.last_flush=-1,e}if(ve.status===xe){if(ie.adler=0,Ge(ve,31),Ge(ve,139),Ge(ve,8),ve.gzhead)Ge(ve,(ve.gzhead.text?1:0)+(ve.gzhead.hcrc?2:0)+(ve.gzhead.extra?4:0)+(ve.gzhead.name?8:0)+(ve.gzhead.comment?16:0)),Ge(ve,ve.gzhead.time&255),Ge(ve,ve.gzhead.time>>8&255),Ge(ve,ve.gzhead.time>>16&255),Ge(ve,ve.gzhead.time>>24&255),Ge(ve,ve.level===9?2:ve.strategy>=b||ve.level<2?4:0),Ge(ve,ve.gzhead.os&255),ve.gzhead.extra&&ve.gzhead.extra.length&&(Ge(ve,ve.gzhead.extra.length&255),Ge(ve,ve.gzhead.extra.length>>8&255)),ve.gzhead.hcrc&&(ie.adler=g(ie.adler,ve.pending_buf,ve.pending,0)),ve.gzindex=0,ve.status=I0;else if(Ge(ve,0),Ge(ve,0),Ge(ve,0),Ge(ve,0),Ge(ve,0),Ge(ve,ve.level===9?2:ve.strategy>=b||ve.level<2?4:0),Ge(ve,Ie),ve.status=it,Ze(ie),ve.pending!==0)return ve.last_flush=-1,e}if(ve.status===I0){if(ve.gzhead.extra){let me=ve.pending,_0=(ve.gzhead.extra.length&65535)-ve.gzindex;for(;ve.pending+_0>ve.pending_buf_size;){let N0=ve.pending_buf_size-ve.pending;if(ve.pending_buf.set(ve.gzhead.extra.subarray(ve.gzindex,ve.gzindex+N0),ve.pending),ve.pending=ve.pending_buf_size,ve.gzhead.hcrc&&ve.pending>me&&(ie.adler=g(ie.adler,ve.pending_buf,ve.pending-me,me)),ve.gzindex+=N0,Ze(ie),ve.pending!==0)return ve.last_flush=-1,e;me=0,_0-=N0}let H0=new Uint8Array(ve.gzhead.extra);ve.pending_buf.set(H0.subarray(ve.gzindex,ve.gzindex+_0),ve.pending),ve.pending+=_0,ve.gzhead.hcrc&&ve.pending>me&&(ie.adler=g(ie.adler,ve.pending_buf,ve.pending-me,me)),ve.gzindex=0}ve.status=O0}if(ve.status===O0){if(ve.gzhead.name){let me=ve.pending,_0;do{if(ve.pending===ve.pending_buf_size){if(ve.gzhead.hcrc&&ve.pending>me&&(ie.adler=g(ie.adler,ve.pending_buf,ve.pending-me,me)),Ze(ie),ve.pending!==0)return ve.last_flush=-1,e;me=0}ve.gzindex<ve.gzhead.name.length?_0=ve.gzhead.name.charCodeAt(ve.gzindex++)&255:_0=0,Ge(ve,_0)}while(_0!==0);ve.gzhead.hcrc&&ve.pending>me&&(ie.adler=g(ie.adler,ve.pending_buf,ve.pending-me,me)),ve.gzindex=0}ve.status=Q0}if(ve.status===Q0){if(ve.gzhead.comment){let me=ve.pending,_0;do{if(ve.pending===ve.pending_buf_size){if(ve.gzhead.hcrc&&ve.pending>me&&(ie.adler=g(ie.adler,ve.pending_buf,ve.pending-me,me)),Ze(ie),ve.pending!==0)return ve.last_flush=-1,e;me=0}ve.gzindex<ve.gzhead.comment.length?_0=ve.gzhead.comment.charCodeAt(ve.gzindex++)&255:_0=0,Ge(ve,_0)}while(_0!==0);ve.gzhead.hcrc&&ve.pending>me&&(ie.adler=g(ie.adler,ve.pending_buf,ve.pending-me,me))}ve.status=tt}if(ve.status===tt){if(ve.gzhead.hcrc){if(ve.pending+2>ve.pending_buf_size&&(Ze(ie),ve.pending!==0))return ve.last_flush=-1,e;Ge(ve,ie.adler&255),Ge(ve,ie.adler>>8&255),ie.adler=0}if(ve.status=it,Ze(ie),ve.pending!==0)return ve.last_flush=-1,e}if(ie.avail_in!==0||ve.lookahead!==0||i0!==C&&ve.status!==U0){let me=ve.level===0?Le(ve,i0):ve.strategy===b?c0(ve,i0):ve.strategy===H?a0(ve,i0):He[ve.level].func(ve,i0);if((me===ke||me===n0)&&(ve.status=U0),me===q0||me===ke)return ie.avail_out===0&&(ve.last_flush=-1),e;if(me===Xe&&(i0===E?v(ve):i0!==y&&(n(ve,0,0,!1),i0===w&&(ze(ve.head),ve.lookahead===0&&(ve.strstart=0,ve.block_start=0,ve.insert=0))),Ze(ie),ie.avail_out===0))return ve.last_flush=-1,e}return i0!==m?e:ve.wrap<=0?P:(ve.wrap===2?(Ge(ve,ie.adler&255),Ge(ve,ie.adler>>8&255),Ge(ve,ie.adler>>16&255),Ge(ve,ie.adler>>24&255),Ge(ve,ie.total_in&255),Ge(ve,ie.total_in>>8&255),Ge(ve,ie.total_in>>16&255),Ge(ve,ie.total_in>>24&255)):(S0(ve,ie.adler>>>16),S0(ve,ie.adler&65535)),Ze(ie),ve.wrap>0&&(ve.wrap=-ve.wrap),ve.pending!==0?e:P)},Tt=ie=>{if(P0(ie))return O;const i0=ie.state.status;return ie.state=null,i0===it?Fe(ie,U):e},Ce=(ie,i0)=>{let ve=i0.length;if(P0(ie))return O;const Pe=ie.state,me=Pe.wrap;if(me===2||me===1&&Pe.status!==Ue||Pe.lookahead)return O;if(me===1&&(ie.adler=d(ie.adler,i0,ve,0)),Pe.wrap=0,ve>=Pe.w_size){me===0&&(ze(Pe.head),Pe.strstart=0,Pe.block_start=0,Pe.insert=0);let Re=new Uint8Array(Pe.w_size);Re.set(i0.subarray(ve-Pe.w_size,ve),0),i0=Re,ve=Pe.w_size}const _0=ie.avail_in,H0=ie.next_in,N0=ie.input;for(ie.avail_in=ve,ie.next_in=0,ie.input=i0,J(Pe);Pe.lookahead>=Ve;){let Re=Pe.strstart,ht=Pe.lookahead-(Ve-1);do Pe.ins_h=De(Pe,Pe.ins_h,Pe.window[Re+Ve-1]),Pe.prev[Re&Pe.w_mask]=Pe.head[Pe.ins_h],Pe.head[Pe.ins_h]=Re,Re++;while(--ht);Pe.strstart=Re,Pe.lookahead=Ve-1,J(Pe)}return Pe.strstart+=Pe.lookahead,Pe.block_start=Pe.strstart,Pe.insert=Pe.lookahead,Pe.lookahead=0,Pe.match_length=Pe.prev_length=Ve-1,Pe.match_available=0,ie.next_in=H0,ie.input=N0,ie.avail_in=_0,Pe.wrap=me,e};return deflate.deflateInit=t0,deflate.deflateInit2=W0,deflate.deflateReset=F0,deflate.deflateResetKeep=ce,deflate.deflateSetHeader=Oe,deflate.deflate=o0,deflate.deflateEnd=Tt,deflate.deflateSetDictionary=Ce,deflate.deflateInfo="pako deflate (from Nodeca project)",deflate}var common={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;const l=(n,u)=>Object.prototype.hasOwnProperty.call(n,u);return common.assign=function(n){const u=Array.prototype.slice.call(arguments,1);for(;u.length;){const p=u.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(const v in p)l(p,v)&&(n[v]=p[v])}}return n},common.flattenChunks=n=>{let u=0;for(let v=0,d=n.length;v<d;v++)u+=n[v].length;const p=new Uint8Array(u);for(let v=0,d=0,g=n.length;v<g;v++){let _=n[v];p.set(_,d),d+=_.length}return p},common}var strings={},hasRequiredStrings;function requireStrings(){if(hasRequiredStrings)return strings;hasRequiredStrings=1;let l=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}const n=new Uint8Array(256);for(let p=0;p<256;p++)n[p]=p>=252?6:p>=248?5:p>=240?4:p>=224?3:p>=192?2:1;n[254]=n[254]=1,strings.string2buf=p=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(p);let v,d,g,_,C,E=p.length,w=0;for(_=0;_<E;_++)d=p.charCodeAt(_),(d&64512)===55296&&_+1<E&&(g=p.charCodeAt(_+1),(g&64512)===56320&&(d=65536+(d-55296<<10)+(g-56320),_++)),w+=d<128?1:d<2048?2:d<65536?3:4;for(v=new Uint8Array(w),C=0,_=0;C<w;_++)d=p.charCodeAt(_),(d&64512)===55296&&_+1<E&&(g=p.charCodeAt(_+1),(g&64512)===56320&&(d=65536+(d-55296<<10)+(g-56320),_++)),d<128?v[C++]=d:d<2048?(v[C++]=192|d>>>6,v[C++]=128|d&63):d<65536?(v[C++]=224|d>>>12,v[C++]=128|d>>>6&63,v[C++]=128|d&63):(v[C++]=240|d>>>18,v[C++]=128|d>>>12&63,v[C++]=128|d>>>6&63,v[C++]=128|d&63);return v};const u=(p,v)=>{if(v<65534&&p.subarray&&l)return String.fromCharCode.apply(null,p.length===v?p:p.subarray(0,v));let d="";for(let g=0;g<v;g++)d+=String.fromCharCode(p[g]);return d};return strings.buf2string=(p,v)=>{const d=v||p.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(p.subarray(0,v));let g,_;const C=new Array(d*2);for(_=0,g=0;g<d;){let E=p[g++];if(E<128){C[_++]=E;continue}let w=n[E];if(w>4){C[_++]=65533,g+=w-1;continue}for(E&=w===2?31:w===3?15:7;w>1&&g<d;)E=E<<6|p[g++]&63,w--;if(w>1){C[_++]=65533;continue}E<65536?C[_++]=E:(E-=65536,C[_++]=55296|E>>10&1023,C[_++]=56320|E&1023)}return u(C,_)},strings.utf8border=(p,v)=>{v=v||p.length,v>p.length&&(v=p.length);let d=v-1;for(;d>=0&&(p[d]&192)===128;)d--;return d<0||d===0?v:d+n[p[d]]>v?d:v},strings}var zstream,hasRequiredZstream;function requireZstream(){if(hasRequiredZstream)return zstream;hasRequiredZstream=1;function l(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return zstream=l,zstream}var hasRequiredDeflate;function requireDeflate(){if(hasRequiredDeflate)return deflate$1;hasRequiredDeflate=1;const l=requireDeflate$1(),n=requireCommon(),u=requireStrings(),p=requireMessages(),v=requireZstream(),d=Object.prototype.toString,{Z_NO_FLUSH:g,Z_SYNC_FLUSH:_,Z_FULL_FLUSH:C,Z_FINISH:E,Z_OK:w,Z_STREAM_END:m,Z_DEFAULT_COMPRESSION:y,Z_DEFAULT_STRATEGY:e,Z_DEFLATED:P}=requireConstants();function O($){this.options=n.assign({level:y,method:P,chunkSize:16384,windowBits:15,memLevel:8,strategy:e},$||{});let b=this.options;b.raw&&b.windowBits>0?b.windowBits=-b.windowBits:b.gzip&&b.windowBits>0&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;let H=l.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(H!==w)throw new Error(p[H]);if(b.header&&l.deflateSetHeader(this.strm,b.header),b.dictionary){let G;if(typeof b.dictionary=="string"?G=u.string2buf(b.dictionary):d.call(b.dictionary)==="[object ArrayBuffer]"?G=new Uint8Array(b.dictionary):G=b.dictionary,H=l.deflateSetDictionary(this.strm,G),H!==w)throw new Error(p[H]);this._dict_set=!0}}O.prototype.push=function($,b){const H=this.strm,G=this.options.chunkSize;let Y,X;if(this.ended)return!1;for(b===~~b?X=b:X=b===!0?E:g,typeof $=="string"?H.input=u.string2buf($):d.call($)==="[object ArrayBuffer]"?H.input=new Uint8Array($):H.input=$,H.next_in=0,H.avail_in=H.input.length;;){if(H.avail_out===0&&(H.output=new Uint8Array(G),H.next_out=0,H.avail_out=G),(X===_||X===C)&&H.avail_out<=6){this.onData(H.output.subarray(0,H.next_out)),H.avail_out=0;continue}if(Y=l.deflate(H,X),Y===m)return H.next_out>0&&this.onData(H.output.subarray(0,H.next_out)),Y=l.deflateEnd(this.strm),this.onEnd(Y),this.ended=!0,Y===w;if(H.avail_out===0){this.onData(H.output);continue}if(X>0&&H.next_out>0){this.onData(H.output.subarray(0,H.next_out)),H.avail_out=0;continue}if(H.avail_in===0)break}return!0},O.prototype.onData=function($){this.chunks.push($)},O.prototype.onEnd=function($){$===w&&(this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=$,this.msg=this.strm.msg};function U($,b){const H=new O(b);if(H.push($,!0),H.err)throw H.msg||p[H.err];return H.result}function W($,b){return b=b||{},b.raw=!0,U($,b)}function V($,b){return b=b||{},b.gzip=!0,U($,b)}return deflate$1.Deflate=O,deflate$1.deflate=U,deflate$1.deflateRaw=W,deflate$1.gzip=V,deflate$1.constants=requireConstants(),deflate$1}var inflate$1={},inflate={},inffast,hasRequiredInffast;function requireInffast(){if(hasRequiredInffast)return inffast;hasRequiredInffast=1;const l=16209,n=16191;return inffast=function(p,v){let d,g,_,C,E,w,m,y,e,P,O,U,W,V,$,b,H,G,Y,X,j,h,ae,le;const he=p.state;d=p.next_in,ae=p.input,g=d+(p.avail_in-5),_=p.next_out,le=p.output,C=_-(v-p.avail_out),E=_+(p.avail_out-257),w=he.dmax,m=he.wsize,y=he.whave,e=he.wnext,P=he.window,O=he.hold,U=he.bits,W=he.lencode,V=he.distcode,$=(1<<he.lenbits)-1,b=(1<<he.distbits)-1;e:do{U<15&&(O+=ae[d++]<<U,U+=8,O+=ae[d++]<<U,U+=8),H=W[O&$];t:for(;;){if(G=H>>>24,O>>>=G,U-=G,G=H>>>16&255,G===0)le[_++]=H&65535;else if(G&16){Y=H&65535,G&=15,G&&(U<G&&(O+=ae[d++]<<U,U+=8),Y+=O&(1<<G)-1,O>>>=G,U-=G),U<15&&(O+=ae[d++]<<U,U+=8,O+=ae[d++]<<U,U+=8),H=V[O&b];i:for(;;){if(G=H>>>24,O>>>=G,U-=G,G=H>>>16&255,G&16){if(X=H&65535,G&=15,U<G&&(O+=ae[d++]<<U,U+=8,U<G&&(O+=ae[d++]<<U,U+=8)),X+=O&(1<<G)-1,X>w){p.msg="invalid distance too far back",he.mode=l;break e}if(O>>>=G,U-=G,G=_-C,X>G){if(G=X-G,G>y&&he.sane){p.msg="invalid distance too far back",he.mode=l;break e}if(j=0,h=P,e===0){if(j+=m-G,G<Y){Y-=G;do le[_++]=P[j++];while(--G);j=_-X,h=le}}else if(e<G){if(j+=m+e-G,G-=e,G<Y){Y-=G;do le[_++]=P[j++];while(--G);if(j=0,e<Y){G=e,Y-=G;do le[_++]=P[j++];while(--G);j=_-X,h=le}}}else if(j+=e-G,G<Y){Y-=G;do le[_++]=P[j++];while(--G);j=_-X,h=le}for(;Y>2;)le[_++]=h[j++],le[_++]=h[j++],le[_++]=h[j++],Y-=3;Y&&(le[_++]=h[j++],Y>1&&(le[_++]=h[j++]))}else{j=_-X;do le[_++]=le[j++],le[_++]=le[j++],le[_++]=le[j++],Y-=3;while(Y>2);Y&&(le[_++]=le[j++],Y>1&&(le[_++]=le[j++]))}}else if(G&64){p.msg="invalid distance code",he.mode=l;break e}else{H=V[(H&65535)+(O&(1<<G)-1)];continue i}break}}else if(G&64)if(G&32){he.mode=n;break e}else{p.msg="invalid literal/length code",he.mode=l;break e}else{H=W[(H&65535)+(O&(1<<G)-1)];continue t}break}}while(d<g&&_<E);Y=U>>3,d-=Y,U-=Y<<3,O&=(1<<U)-1,p.next_in=d,p.next_out=_,p.avail_in=d<g?5+(g-d):5-(d-g),p.avail_out=_<E?257+(E-_):257-(_-E),he.hold=O,he.bits=U},inffast}var inftrees,hasRequiredInftrees;function requireInftrees(){if(hasRequiredInftrees)return inftrees;hasRequiredInftrees=1;const l=15,n=852,u=592,p=0,v=1,d=2,g=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),_=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),C=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),E=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);return inftrees=(m,y,e,P,O,U,W,V)=>{const $=V.bits;let b=0,H=0,G=0,Y=0,X=0,j=0,h=0,ae=0,le=0,he=0,pe,Ae,ge,ye,we,be=null,Ve;const Ne=new Uint16Array(l+1),p0=new Uint16Array(l+1);let k0=null,Ue,xe,I0;for(b=0;b<=l;b++)Ne[b]=0;for(H=0;H<P;H++)Ne[y[e+H]]++;for(X=$,Y=l;Y>=1&&Ne[Y]===0;Y--);if(X>Y&&(X=Y),Y===0)return O[U++]=1<<24|64<<16|0,O[U++]=1<<24|64<<16|0,V.bits=1,0;for(G=1;G<Y&&Ne[G]===0;G++);for(X<G&&(X=G),ae=1,b=1;b<=l;b++)if(ae<<=1,ae-=Ne[b],ae<0)return-1;if(ae>0&&(m===p||Y!==1))return-1;for(p0[1]=0,b=1;b<l;b++)p0[b+1]=p0[b]+Ne[b];for(H=0;H<P;H++)y[e+H]!==0&&(W[p0[y[e+H]]++]=H);if(m===p?(be=k0=W,Ve=20):m===v?(be=g,k0=_,Ve=257):(be=C,k0=E,Ve=0),he=0,H=0,b=G,we=U,j=X,h=0,ge=-1,le=1<<X,ye=le-1,m===v&&le>n||m===d&&le>u)return 1;for(;;){Ue=b-h,W[H]+1<Ve?(xe=0,I0=W[H]):W[H]>=Ve?(xe=k0[W[H]-Ve],I0=be[W[H]-Ve]):(xe=96,I0=0),pe=1<<b-h,Ae=1<<j,G=Ae;do Ae-=pe,O[we+(he>>h)+Ae]=Ue<<24|xe<<16|I0|0;while(Ae!==0);for(pe=1<<b-1;he&pe;)pe>>=1;if(pe!==0?(he&=pe-1,he+=pe):he=0,H++,--Ne[b]===0){if(b===Y)break;b=y[e+W[H]]}if(b>X&&(he&ye)!==ge){for(h===0&&(h=X),we+=G,j=b-h,ae=1<<j;j+h<Y&&(ae-=Ne[j+h],!(ae<=0));)j++,ae<<=1;if(le+=1<<j,m===v&&le>n||m===d&&le>u)return 1;ge=he&ye,O[ge]=X<<24|j<<16|we-U|0}}return he!==0&&(O[we+he]=b-h<<24|64<<16|0),V.bits=X,0},inftrees}var hasRequiredInflate$1;function requireInflate$1(){if(hasRequiredInflate$1)return inflate;hasRequiredInflate$1=1;const l=requireAdler32(),n=requireCrc32(),u=requireInffast(),p=requireInftrees(),v=0,d=1,g=2,{Z_FINISH:_,Z_BLOCK:C,Z_TREES:E,Z_OK:w,Z_STREAM_END:m,Z_NEED_DICT:y,Z_STREAM_ERROR:e,Z_DATA_ERROR:P,Z_MEM_ERROR:O,Z_BUF_ERROR:U,Z_DEFLATED:W}=requireConstants(),V=16180,$=16181,b=16182,H=16183,G=16184,Y=16185,X=16186,j=16187,h=16188,ae=16189,le=16190,he=16191,pe=16192,Ae=16193,ge=16194,ye=16195,we=16196,be=16197,Ve=16198,Ne=16199,p0=16200,k0=16201,Ue=16202,xe=16203,I0=16204,O0=16205,Q0=16206,tt=16207,it=16208,U0=16209,q0=16210,Xe=16211,ke=852,n0=592,Fe=15,m0=Ee=>(Ee>>>24&255)+(Ee>>>8&65280)+((Ee&65280)<<8)+((Ee&255)<<24);function ze(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Be=Ee=>{if(!Ee)return 1;const He=Ee.state;return!He||He.strm!==Ee||He.mode<V||He.mode>Xe?1:0},qe=Ee=>{if(Be(Ee))return e;const He=Ee.state;return Ee.total_in=Ee.total_out=He.total=0,Ee.msg="",He.wrap&&(Ee.adler=He.wrap&1),He.mode=V,He.last=0,He.havedict=0,He.flags=-1,He.dmax=32768,He.head=null,He.hold=0,He.bits=0,He.lencode=He.lendyn=new Int32Array(ke),He.distcode=He.distdyn=new Int32Array(n0),He.sane=1,He.back=-1,w},De=Ee=>{if(Be(Ee))return e;const He=Ee.state;return He.wsize=0,He.whave=0,He.wnext=0,qe(Ee)},Ze=(Ee,He)=>{let oe;if(Be(Ee))return e;const de=Ee.state;return He<0?(oe=0,He=-He):(oe=(He>>4)+5,He<48&&(He&=15)),He&&(He<8||He>15)?e:(de.window!==null&&de.wbits!==He&&(de.window=null),de.wrap=oe,de.wbits=He,De(Ee))},je=(Ee,He)=>{if(!Ee)return e;const oe=new ze;Ee.state=oe,oe.strm=Ee,oe.window=null,oe.mode=V;const de=Ze(Ee,He);return de!==w&&(Ee.state=null),de},Ge=Ee=>je(Ee,Fe);let S0=!0,$e,e0;const J=Ee=>{if(S0){$e=new Int32Array(512),e0=new Int32Array(32);let He=0;for(;He<144;)Ee.lens[He++]=8;for(;He<256;)Ee.lens[He++]=9;for(;He<280;)Ee.lens[He++]=7;for(;He<288;)Ee.lens[He++]=8;for(p(d,Ee.lens,0,288,$e,0,Ee.work,{bits:9}),He=0;He<32;)Ee.lens[He++]=5;p(g,Ee.lens,0,32,e0,0,Ee.work,{bits:5}),S0=!1}Ee.lencode=$e,Ee.lenbits=9,Ee.distcode=e0,Ee.distbits=5},Le=(Ee,He,oe,de)=>{let P0;const ce=Ee.state;return ce.window===null&&(ce.wsize=1<<ce.wbits,ce.wnext=0,ce.whave=0,ce.window=new Uint8Array(ce.wsize)),de>=ce.wsize?(ce.window.set(He.subarray(oe-ce.wsize,oe),0),ce.wnext=0,ce.whave=ce.wsize):(P0=ce.wsize-ce.wnext,P0>de&&(P0=de),ce.window.set(He.subarray(oe-de,oe-de+P0),ce.wnext),de-=P0,de?(ce.window.set(He.subarray(oe-de,oe),0),ce.wnext=de,ce.whave=ce.wsize):(ce.wnext+=P0,ce.wnext===ce.wsize&&(ce.wnext=0),ce.whave<ce.wsize&&(ce.whave+=P0))),0},Je=(Ee,He)=>{let oe,de,P0,ce,F0,Oe,W0,t0,o0,Tt,Ce,ie,i0,ve,Pe=0,me,_0,H0,N0,Re,ht,Dt,Ht;const Pt=new Uint8Array(4);let ti,u0;const w0=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Be(Ee)||!Ee.output||!Ee.input&&Ee.avail_in!==0)return e;oe=Ee.state,oe.mode===he&&(oe.mode=pe),F0=Ee.next_out,P0=Ee.output,W0=Ee.avail_out,ce=Ee.next_in,de=Ee.input,Oe=Ee.avail_in,t0=oe.hold,o0=oe.bits,Tt=Oe,Ce=W0,Ht=w;e:for(;;)switch(oe.mode){case V:if(oe.wrap===0){oe.mode=pe;break}for(;o0<16;){if(Oe===0)break e;Oe--,t0+=de[ce++]<<o0,o0+=8}if(oe.wrap&2&&t0===35615){oe.wbits===0&&(oe.wbits=15),oe.check=0,Pt[0]=t0&255,Pt[1]=t0>>>8&255,oe.check=n(oe.check,Pt,2,0),t0=0,o0=0,oe.mode=$;break}if(oe.head&&(oe.head.done=!1),!(oe.wrap&1)||(((t0&255)<<8)+(t0>>8))%31){Ee.msg="incorrect header check",oe.mode=U0;break}if((t0&15)!==W){Ee.msg="unknown compression method",oe.mode=U0;break}if(t0>>>=4,o0-=4,Dt=(t0&15)+8,oe.wbits===0&&(oe.wbits=Dt),Dt>15||Dt>oe.wbits){Ee.msg="invalid window size",oe.mode=U0;break}oe.dmax=1<<oe.wbits,oe.flags=0,Ee.adler=oe.check=1,oe.mode=t0&512?ae:he,t0=0,o0=0;break;case $:for(;o0<16;){if(Oe===0)break e;Oe--,t0+=de[ce++]<<o0,o0+=8}if(oe.flags=t0,(oe.flags&255)!==W){Ee.msg="unknown compression method",oe.mode=U0;break}if(oe.flags&57344){Ee.msg="unknown header flags set",oe.mode=U0;break}oe.head&&(oe.head.text=t0>>8&1),oe.flags&512&&oe.wrap&4&&(Pt[0]=t0&255,Pt[1]=t0>>>8&255,oe.check=n(oe.check,Pt,2,0)),t0=0,o0=0,oe.mode=b;case b:for(;o0<32;){if(Oe===0)break e;Oe--,t0+=de[ce++]<<o0,o0+=8}oe.head&&(oe.head.time=t0),oe.flags&512&&oe.wrap&4&&(Pt[0]=t0&255,Pt[1]=t0>>>8&255,Pt[2]=t0>>>16&255,Pt[3]=t0>>>24&255,oe.check=n(oe.check,Pt,4,0)),t0=0,o0=0,oe.mode=H;case H:for(;o0<16;){if(Oe===0)break e;Oe--,t0+=de[ce++]<<o0,o0+=8}oe.head&&(oe.head.xflags=t0&255,oe.head.os=t0>>8),oe.flags&512&&oe.wrap&4&&(Pt[0]=t0&255,Pt[1]=t0>>>8&255,oe.check=n(oe.check,Pt,2,0)),t0=0,o0=0,oe.mode=G;case G:if(oe.flags&1024){for(;o0<16;){if(Oe===0)break e;Oe--,t0+=de[ce++]<<o0,o0+=8}oe.length=t0,oe.head&&(oe.head.extra_len=t0),oe.flags&512&&oe.wrap&4&&(Pt[0]=t0&255,Pt[1]=t0>>>8&255,oe.check=n(oe.check,Pt,2,0)),t0=0,o0=0}else oe.head&&(oe.head.extra=null);oe.mode=Y;case Y:if(oe.flags&1024&&(ie=oe.length,ie>Oe&&(ie=Oe),ie&&(oe.head&&(Dt=oe.head.extra_len-oe.length,oe.head.extra||(oe.head.extra=new Uint8Array(oe.head.extra_len)),oe.head.extra.set(de.subarray(ce,ce+ie),Dt)),oe.flags&512&&oe.wrap&4&&(oe.check=n(oe.check,de,ie,ce)),Oe-=ie,ce+=ie,oe.length-=ie),oe.length))break e;oe.length=0,oe.mode=X;case X:if(oe.flags&2048){if(Oe===0)break e;ie=0;do Dt=de[ce+ie++],oe.head&&Dt&&oe.length<65536&&(oe.head.name+=String.fromCharCode(Dt));while(Dt&&ie<Oe);if(oe.flags&512&&oe.wrap&4&&(oe.check=n(oe.check,de,ie,ce)),Oe-=ie,ce+=ie,Dt)break e}else oe.head&&(oe.head.name=null);oe.length=0,oe.mode=j;case j:if(oe.flags&4096){if(Oe===0)break e;ie=0;do Dt=de[ce+ie++],oe.head&&Dt&&oe.length<65536&&(oe.head.comment+=String.fromCharCode(Dt));while(Dt&&ie<Oe);if(oe.flags&512&&oe.wrap&4&&(oe.check=n(oe.check,de,ie,ce)),Oe-=ie,ce+=ie,Dt)break e}else oe.head&&(oe.head.comment=null);oe.mode=h;case h:if(oe.flags&512){for(;o0<16;){if(Oe===0)break e;Oe--,t0+=de[ce++]<<o0,o0+=8}if(oe.wrap&4&&t0!==(oe.check&65535)){Ee.msg="header crc mismatch",oe.mode=U0;break}t0=0,o0=0}oe.head&&(oe.head.hcrc=oe.flags>>9&1,oe.head.done=!0),Ee.adler=oe.check=0,oe.mode=he;break;case ae:for(;o0<32;){if(Oe===0)break e;Oe--,t0+=de[ce++]<<o0,o0+=8}Ee.adler=oe.check=m0(t0),t0=0,o0=0,oe.mode=le;case le:if(oe.havedict===0)return Ee.next_out=F0,Ee.avail_out=W0,Ee.next_in=ce,Ee.avail_in=Oe,oe.hold=t0,oe.bits=o0,y;Ee.adler=oe.check=1,oe.mode=he;case he:if(He===C||He===E)break e;case pe:if(oe.last){t0>>>=o0&7,o0-=o0&7,oe.mode=Q0;break}for(;o0<3;){if(Oe===0)break e;Oe--,t0+=de[ce++]<<o0,o0+=8}switch(oe.last=t0&1,t0>>>=1,o0-=1,t0&3){case 0:oe.mode=Ae;break;case 1:if(J(oe),oe.mode=Ne,He===E){t0>>>=2,o0-=2;break e}break;case 2:oe.mode=we;break;case 3:Ee.msg="invalid block type",oe.mode=U0}t0>>>=2,o0-=2;break;case Ae:for(t0>>>=o0&7,o0-=o0&7;o0<32;){if(Oe===0)break e;Oe--,t0+=de[ce++]<<o0,o0+=8}if((t0&65535)!==(t0>>>16^65535)){Ee.msg="invalid stored block lengths",oe.mode=U0;break}if(oe.length=t0&65535,t0=0,o0=0,oe.mode=ge,He===E)break e;case ge:oe.mode=ye;case ye:if(ie=oe.length,ie){if(ie>Oe&&(ie=Oe),ie>W0&&(ie=W0),ie===0)break e;P0.set(de.subarray(ce,ce+ie),F0),Oe-=ie,ce+=ie,W0-=ie,F0+=ie,oe.length-=ie;break}oe.mode=he;break;case we:for(;o0<14;){if(Oe===0)break e;Oe--,t0+=de[ce++]<<o0,o0+=8}if(oe.nlen=(t0&31)+257,t0>>>=5,o0-=5,oe.ndist=(t0&31)+1,t0>>>=5,o0-=5,oe.ncode=(t0&15)+4,t0>>>=4,o0-=4,oe.nlen>286||oe.ndist>30){Ee.msg="too many length or distance symbols",oe.mode=U0;break}oe.have=0,oe.mode=be;case be:for(;oe.have<oe.ncode;){for(;o0<3;){if(Oe===0)break e;Oe--,t0+=de[ce++]<<o0,o0+=8}oe.lens[w0[oe.have++]]=t0&7,t0>>>=3,o0-=3}for(;oe.have<19;)oe.lens[w0[oe.have++]]=0;if(oe.lencode=oe.lendyn,oe.lenbits=7,ti={bits:oe.lenbits},Ht=p(v,oe.lens,0,19,oe.lencode,0,oe.work,ti),oe.lenbits=ti.bits,Ht){Ee.msg="invalid code lengths set",oe.mode=U0;break}oe.have=0,oe.mode=Ve;case Ve:for(;oe.have<oe.nlen+oe.ndist;){for(;Pe=oe.lencode[t0&(1<<oe.lenbits)-1],me=Pe>>>24,_0=Pe>>>16&255,H0=Pe&65535,!(me<=o0);){if(Oe===0)break e;Oe--,t0+=de[ce++]<<o0,o0+=8}if(H0<16)t0>>>=me,o0-=me,oe.lens[oe.have++]=H0;else{if(H0===16){for(u0=me+2;o0<u0;){if(Oe===0)break e;Oe--,t0+=de[ce++]<<o0,o0+=8}if(t0>>>=me,o0-=me,oe.have===0){Ee.msg="invalid bit length repeat",oe.mode=U0;break}Dt=oe.lens[oe.have-1],ie=3+(t0&3),t0>>>=2,o0-=2}else if(H0===17){for(u0=me+3;o0<u0;){if(Oe===0)break e;Oe--,t0+=de[ce++]<<o0,o0+=8}t0>>>=me,o0-=me,Dt=0,ie=3+(t0&7),t0>>>=3,o0-=3}else{for(u0=me+7;o0<u0;){if(Oe===0)break e;Oe--,t0+=de[ce++]<<o0,o0+=8}t0>>>=me,o0-=me,Dt=0,ie=11+(t0&127),t0>>>=7,o0-=7}if(oe.have+ie>oe.nlen+oe.ndist){Ee.msg="invalid bit length repeat",oe.mode=U0;break}for(;ie--;)oe.lens[oe.have++]=Dt}}if(oe.mode===U0)break;if(oe.lens[256]===0){Ee.msg="invalid code -- missing end-of-block",oe.mode=U0;break}if(oe.lenbits=9,ti={bits:oe.lenbits},Ht=p(d,oe.lens,0,oe.nlen,oe.lencode,0,oe.work,ti),oe.lenbits=ti.bits,Ht){Ee.msg="invalid literal/lengths set",oe.mode=U0;break}if(oe.distbits=6,oe.distcode=oe.distdyn,ti={bits:oe.distbits},Ht=p(g,oe.lens,oe.nlen,oe.ndist,oe.distcode,0,oe.work,ti),oe.distbits=ti.bits,Ht){Ee.msg="invalid distances set",oe.mode=U0;break}if(oe.mode=Ne,He===E)break e;case Ne:oe.mode=p0;case p0:if(Oe>=6&&W0>=258){Ee.next_out=F0,Ee.avail_out=W0,Ee.next_in=ce,Ee.avail_in=Oe,oe.hold=t0,oe.bits=o0,u(Ee,Ce),F0=Ee.next_out,P0=Ee.output,W0=Ee.avail_out,ce=Ee.next_in,de=Ee.input,Oe=Ee.avail_in,t0=oe.hold,o0=oe.bits,oe.mode===he&&(oe.back=-1);break}for(oe.back=0;Pe=oe.lencode[t0&(1<<oe.lenbits)-1],me=Pe>>>24,_0=Pe>>>16&255,H0=Pe&65535,!(me<=o0);){if(Oe===0)break e;Oe--,t0+=de[ce++]<<o0,o0+=8}if(_0&&!(_0&240)){for(N0=me,Re=_0,ht=H0;Pe=oe.lencode[ht+((t0&(1<<N0+Re)-1)>>N0)],me=Pe>>>24,_0=Pe>>>16&255,H0=Pe&65535,!(N0+me<=o0);){if(Oe===0)break e;Oe--,t0+=de[ce++]<<o0,o0+=8}t0>>>=N0,o0-=N0,oe.back+=N0}if(t0>>>=me,o0-=me,oe.back+=me,oe.length=H0,_0===0){oe.mode=O0;break}if(_0&32){oe.back=-1,oe.mode=he;break}if(_0&64){Ee.msg="invalid literal/length code",oe.mode=U0;break}oe.extra=_0&15,oe.mode=k0;case k0:if(oe.extra){for(u0=oe.extra;o0<u0;){if(Oe===0)break e;Oe--,t0+=de[ce++]<<o0,o0+=8}oe.length+=t0&(1<<oe.extra)-1,t0>>>=oe.extra,o0-=oe.extra,oe.back+=oe.extra}oe.was=oe.length,oe.mode=Ue;case Ue:for(;Pe=oe.distcode[t0&(1<<oe.distbits)-1],me=Pe>>>24,_0=Pe>>>16&255,H0=Pe&65535,!(me<=o0);){if(Oe===0)break e;Oe--,t0+=de[ce++]<<o0,o0+=8}if(!(_0&240)){for(N0=me,Re=_0,ht=H0;Pe=oe.distcode[ht+((t0&(1<<N0+Re)-1)>>N0)],me=Pe>>>24,_0=Pe>>>16&255,H0=Pe&65535,!(N0+me<=o0);){if(Oe===0)break e;Oe--,t0+=de[ce++]<<o0,o0+=8}t0>>>=N0,o0-=N0,oe.back+=N0}if(t0>>>=me,o0-=me,oe.back+=me,_0&64){Ee.msg="invalid distance code",oe.mode=U0;break}oe.offset=H0,oe.extra=_0&15,oe.mode=xe;case xe:if(oe.extra){for(u0=oe.extra;o0<u0;){if(Oe===0)break e;Oe--,t0+=de[ce++]<<o0,o0+=8}oe.offset+=t0&(1<<oe.extra)-1,t0>>>=oe.extra,o0-=oe.extra,oe.back+=oe.extra}if(oe.offset>oe.dmax){Ee.msg="invalid distance too far back",oe.mode=U0;break}oe.mode=I0;case I0:if(W0===0)break e;if(ie=Ce-W0,oe.offset>ie){if(ie=oe.offset-ie,ie>oe.whave&&oe.sane){Ee.msg="invalid distance too far back",oe.mode=U0;break}ie>oe.wnext?(ie-=oe.wnext,i0=oe.wsize-ie):i0=oe.wnext-ie,ie>oe.length&&(ie=oe.length),ve=oe.window}else ve=P0,i0=F0-oe.offset,ie=oe.length;ie>W0&&(ie=W0),W0-=ie,oe.length-=ie;do P0[F0++]=ve[i0++];while(--ie);oe.length===0&&(oe.mode=p0);break;case O0:if(W0===0)break e;P0[F0++]=oe.length,W0--,oe.mode=p0;break;case Q0:if(oe.wrap){for(;o0<32;){if(Oe===0)break e;Oe--,t0|=de[ce++]<<o0,o0+=8}if(Ce-=W0,Ee.total_out+=Ce,oe.total+=Ce,oe.wrap&4&&Ce&&(Ee.adler=oe.check=oe.flags?n(oe.check,P0,Ce,F0-Ce):l(oe.check,P0,Ce,F0-Ce)),Ce=W0,oe.wrap&4&&(oe.flags?t0:m0(t0))!==oe.check){Ee.msg="incorrect data check",oe.mode=U0;break}t0=0,o0=0}oe.mode=tt;case tt:if(oe.wrap&&oe.flags){for(;o0<32;){if(Oe===0)break e;Oe--,t0+=de[ce++]<<o0,o0+=8}if(oe.wrap&4&&t0!==(oe.total&4294967295)){Ee.msg="incorrect length check",oe.mode=U0;break}t0=0,o0=0}oe.mode=it;case it:Ht=m;break e;case U0:Ht=P;break e;case q0:return O;case Xe:default:return e}return Ee.next_out=F0,Ee.avail_out=W0,Ee.next_in=ce,Ee.avail_in=Oe,oe.hold=t0,oe.bits=o0,(oe.wsize||Ce!==Ee.avail_out&&oe.mode<U0&&(oe.mode<Q0||He!==_))&&Le(Ee,Ee.output,Ee.next_out,Ce-Ee.avail_out),Tt-=Ee.avail_in,Ce-=Ee.avail_out,Ee.total_in+=Tt,Ee.total_out+=Ce,oe.total+=Ce,oe.wrap&4&&Ce&&(Ee.adler=oe.check=oe.flags?n(oe.check,P0,Ce,Ee.next_out-Ce):l(oe.check,P0,Ce,Ee.next_out-Ce)),Ee.data_type=oe.bits+(oe.last?64:0)+(oe.mode===he?128:0)+(oe.mode===Ne||oe.mode===ge?256:0),(Tt===0&&Ce===0||He===_)&&Ht===w&&(Ht=U),Ht},Qe=Ee=>{if(Be(Ee))return e;let He=Ee.state;return He.window&&(He.window=null),Ee.state=null,w},a0=(Ee,He)=>{if(Be(Ee))return e;const oe=Ee.state;return oe.wrap&2?(oe.head=He,He.done=!1,w):e},c0=(Ee,He)=>{const oe=He.length;let de,P0,ce;return Be(Ee)||(de=Ee.state,de.wrap!==0&&de.mode!==le)?e:de.mode===le&&(P0=1,P0=l(P0,He,oe,0),P0!==de.check)?P:(ce=Le(Ee,He,oe,oe),ce?(de.mode=q0,O):(de.havedict=1,w))};return inflate.inflateReset=De,inflate.inflateReset2=Ze,inflate.inflateResetKeep=qe,inflate.inflateInit=Ge,inflate.inflateInit2=je,inflate.inflate=Je,inflate.inflateEnd=Qe,inflate.inflateGetHeader=a0,inflate.inflateSetDictionary=c0,inflate.inflateInfo="pako inflate (from Nodeca project)",inflate}var gzheader,hasRequiredGzheader;function requireGzheader(){if(hasRequiredGzheader)return gzheader;hasRequiredGzheader=1;function l(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return gzheader=l,gzheader}var hasRequiredInflate;function requireInflate(){if(hasRequiredInflate)return inflate$1;hasRequiredInflate=1;const l=requireInflate$1(),n=requireCommon(),u=requireStrings(),p=requireMessages(),v=requireZstream(),d=requireGzheader(),g=Object.prototype.toString,{Z_NO_FLUSH:_,Z_FINISH:C,Z_OK:E,Z_STREAM_END:w,Z_NEED_DICT:m,Z_STREAM_ERROR:y,Z_DATA_ERROR:e,Z_MEM_ERROR:P}=requireConstants();function O(V){this.options=n.assign({chunkSize:1024*64,windowBits:15,to:""},V||{});const $=this.options;$.raw&&$.windowBits>=0&&$.windowBits<16&&($.windowBits=-$.windowBits,$.windowBits===0&&($.windowBits=-15)),$.windowBits>=0&&$.windowBits<16&&!(V&&V.windowBits)&&($.windowBits+=32),$.windowBits>15&&$.windowBits<48&&($.windowBits&15||($.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;let b=l.inflateInit2(this.strm,$.windowBits);if(b!==E)throw new Error(p[b]);if(this.header=new d,l.inflateGetHeader(this.strm,this.header),$.dictionary&&(typeof $.dictionary=="string"?$.dictionary=u.string2buf($.dictionary):g.call($.dictionary)==="[object ArrayBuffer]"&&($.dictionary=new Uint8Array($.dictionary)),$.raw&&(b=l.inflateSetDictionary(this.strm,$.dictionary),b!==E)))throw new Error(p[b])}O.prototype.push=function(V,$){const b=this.strm,H=this.options.chunkSize,G=this.options.dictionary;let Y,X,j;if(this.ended)return!1;for($===~~$?X=$:X=$===!0?C:_,g.call(V)==="[object ArrayBuffer]"?b.input=new Uint8Array(V):b.input=V,b.next_in=0,b.avail_in=b.input.length;;){for(b.avail_out===0&&(b.output=new Uint8Array(H),b.next_out=0,b.avail_out=H),Y=l.inflate(b,X),Y===m&&G&&(Y=l.inflateSetDictionary(b,G),Y===E?Y=l.inflate(b,X):Y===e&&(Y=m));b.avail_in>0&&Y===w&&b.state.wrap>0&&V[b.next_in]!==0;)l.inflateReset(b),Y=l.inflate(b,X);switch(Y){case y:case e:case m:case P:return this.onEnd(Y),this.ended=!0,!1}if(j=b.avail_out,b.next_out&&(b.avail_out===0||Y===w))if(this.options.to==="string"){let h=u.utf8border(b.output,b.next_out),ae=b.next_out-h,le=u.buf2string(b.output,h);b.next_out=ae,b.avail_out=H-ae,ae&&b.output.set(b.output.subarray(h,h+ae),0),this.onData(le)}else this.onData(b.output.length===b.next_out?b.output:b.output.subarray(0,b.next_out));if(!(Y===E&&j===0)){if(Y===w)return Y=l.inflateEnd(this.strm),this.onEnd(Y),this.ended=!0,!0;if(b.avail_in===0)break}}return!0},O.prototype.onData=function(V){this.chunks.push(V)},O.prototype.onEnd=function(V){V===E&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=V,this.msg=this.strm.msg};function U(V,$){const b=new O($);if(b.push(V),b.err)throw b.msg||p[b.err];return b.result}function W(V,$){return $=$||{},$.raw=!0,U(V,$)}return inflate$1.Inflate=O,inflate$1.inflate=U,inflate$1.inflateRaw=W,inflate$1.ungzip=U,inflate$1.constants=requireConstants(),inflate$1}var hasRequiredPako;function requirePako(){if(hasRequiredPako)return pako;hasRequiredPako=1;const{Deflate:l,deflate:n,deflateRaw:u,gzip:p}=requireDeflate(),{Inflate:v,inflate:d,inflateRaw:g,ungzip:_}=requireInflate(),C=requireConstants();return pako.Deflate=l,pako.deflate=n,pako.deflateRaw=u,pako.gzip=p,pako.Inflate=v,pako.inflate=d,pako.inflateRaw=g,pako.ungzip=_,pako.constants=C,pako}var hasRequiredParser;function requireParser(){return hasRequiredParser||(hasRequiredParser=1,function(l){var n=n||{};n.Tag=n.Tag||(typeof commonjsRequire<"u"?requireTag():null),n.Utils=n.Utils||(typeof commonjsRequire<"u"?requireUtilities():null),n.Dictionary=n.Dictionary||(typeof commonjsRequire<"u"?requireDictionary():null),n.Image=n.Image||(typeof commonjsRequire<"u"?requireImage():null);var u=u||(typeof commonjsRequire<"u"?requirePako():null);n.Parser=n.Parser||function(){this.littleEndian=!0,this.explicit=!0,this.metaFound=!1,this.metaFinished=!1,this.metaFinishedOffset=-1,this.needsDeflate=!1,this.inflated=null,this.encapsulation=!1,this.level=0,this.error=null},n.Parser.verbose=!1,n.Parser.MAGIC_COOKIE_OFFSET=128,n.Parser.MAGIC_COOKIE=[68,73,67,77],n.Parser.VRS=["AE","AS","AT","CS","DA","DS","DT","FL","FD","IS","LO","LT","OB","OD","OF","OW","PN","SH","SL","SS","ST","TM","UI","UL","UN","US","UT","UC"],n.Parser.DATA_VRS=["OB","OW","OF","SQ","UT","UN","UC"],n.Parser.RAW_DATA_VRS=["OB","OD","OF","OW","UN"],n.Parser.TRANSFER_SYNTAX_IMPLICIT_LITTLE="1.2.840.10008.1.2",n.Parser.TRANSFER_SYNTAX_EXPLICIT_LITTLE="1.2.840.10008.1.2.1",n.Parser.TRANSFER_SYNTAX_EXPLICIT_BIG="1.2.840.10008.1.2.2",n.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG="1.2.840.10008.1.2.4",n.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_LOSSLESS="1.2.840.10008.1.2.4.57",n.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_LOSSLESS_SEL1="1.2.840.10008.1.2.4.70",n.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_BASELINE_8BIT="1.2.840.10008.1.2.4.50",n.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_BASELINE_12BIT="1.2.840.10008.1.2.4.51",n.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_LS_LOSSLESS="1.2.840.10008.1.2.4.80",n.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_LS="1.2.840.10008.1.2.4.81",n.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_2000_LOSSLESS="1.2.840.10008.1.2.4.90",n.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_2000="1.2.840.10008.1.2.4.91",n.Parser.TRANSFER_SYNTAX_COMPRESSION_RLE="1.2.840.10008.1.2.5",n.Parser.TRANSFER_SYNTAX_COMPRESSION_DEFLATE="1.2.840.10008.1.2.1.99",n.Parser.UNDEFINED_LENGTH=4294967295,n.Parser.isMagicCookieFound=function(p){var v=n.Parser.MAGIC_COOKIE_OFFSET,d=n.Parser.MAGIC_COOKIE.length,g;for(g=0;g<d;g+=1)if(p.getUint8(v+g)!==n.Parser.MAGIC_COOKIE[g])return!1;return!0},n.Parser.prototype.parse=function(p){var v=null,d,g,_,C;try{for(v=new n.Image,d=this.findFirstTagOffset(p),g=this.getNextTag(p,d);g!==null&&(n.Parser.verbose&&console.log(g.toString()),v.putTag(g),!g.isPixelData());)this.needsDeflate&&g.offsetEnd>=this.metaFinishedOffset&&(this.needsDeflate=!1,_=p.buffer.slice(0,g.offsetEnd),C=p.buffer.slice(g.offsetEnd),this.inflated=n.Utils.concatArrayBuffers(_,u.inflateRaw(C)),p=new DataView(this.inflated)),g=this.getNextTag(p,g.offsetEnd)}catch(E){this.error=E}return v!==null&&(v.littleEndian=this.littleEndian),v},n.Parser.prototype.parseEncapsulated=function(p){var v=0,d,g=[];this.encapsulation=!0;try{for(d=this.getNextTag(p,v);d!==null;)d.isSublistItem()&&g.push(d),n.Parser.verbose&&console.log(d.toString()),d=this.getNextTag(p,d.offsetEnd)}catch(_){this.error=_}return g},n.Parser.prototype.testForValidTag=function(p){var v,d=null;try{v=this.findFirstTagOffset(p),d=this.getNextTag(p,v,!1)}catch(g){this.error=g}return d},n.Parser.prototype.getNextTag=function(p,v,d){var g=0,_,C=null,E=v,w,m=0,y=!0,e=null,P;if(v>=p.byteLength)return null;this.metaFinished?(y=this.littleEndian,g=p.getUint16(v,y)):(g=p.getUint16(v,!0),this.metaFinishedOffset!==-1&&v>=this.metaFinishedOffset||g!==2?(this.metaFinished=!0,y=this.littleEndian,g=p.getUint16(v,y)):y=!0),!this.metaFound&&g===2&&(this.metaFound=!0),v+=2,_=p.getUint16(v,y),v+=2,this.explicit||!this.metaFinished?(e=n.Utils.getStringAt(p,v,2),!this.metaFound&&this.metaFinished&&n.Parser.VRS.indexOf(e)===-1?(e=n.Dictionary.getVR(g,_),m=p.getUint32(v,y),v+=4,this.explicit=!1):(v+=2,n.Parser.DATA_VRS.indexOf(e)!==-1?(v+=2,m=p.getUint32(v,y),v+=4):(m=p.getUint16(v,y),v+=2))):(e=n.Dictionary.getVR(g,_),m=p.getUint32(v,y),m===n.Parser.UNDEFINED_LENGTH&&(e="SQ"),v+=4),w=v;var O=g===n.Tag.TAG_PIXEL_DATA[0]&&_===n.Tag.TAG_PIXEL_DATA[1],U=g===40&&_>=4609&&_<4864;if(e==="SQ"||!U&&!O&&!this.encapsulation&&n.Parser.DATA_VRS.indexOf(e)!==-1&&e!=="UC"?(C=this.parseSublist(p,v,m,e!=="SQ"),m===n.Parser.UNDEFINED_LENGTH&&(m=C[C.length-1].offsetEnd-v)):m>0&&!d&&(m===n.Parser.UNDEFINED_LENGTH&&O&&(m=p.byteLength-v),C=p.buffer.slice(v,v+m)),v+=m,P=new n.Tag(g,_,e,C,E,w,v,this.littleEndian,this.charset),P.value){if(P.isTransformSyntax())this.transformSyntaxAlreadyExist=!0,P.value[0]===n.Parser.TRANSFER_SYNTAX_IMPLICIT_LITTLE?(this.explicit=!1,this.littleEndian=!0):P.value[0]===n.Parser.TRANSFER_SYNTAX_EXPLICIT_BIG?(this.explicit=!0,this.littleEndian=!1):P.value[0]===n.Parser.TRANSFER_SYNTAX_COMPRESSION_DEFLATE?(this.needsDeflate=!0,this.explicit=!0,this.littleEndian=!0):(this.explicit=!0,this.littleEndian=!0);else if(P.isMetaLength())this.metaFinishedOffset=P.value[0]+v;else if(P.isCharset()){var W=P.value;W.length==2?W=(W[0]||"ISO 2022 IR 6")+"\\"+W[1]:W.length==1&&(W=W[0]),this.charset=W}}return P},n.Parser.prototype.parseSublist=function(p,v,d,g){var _,C=v+d,E=[];if(this.level++,d===n.Parser.UNDEFINED_LENGTH){for(_=this.parseSublistItem(p,v,g);!_.isSequenceDelim();)E.push(_),v=_.offsetEnd,_=this.parseSublistItem(p,v,g);E.push(_)}else for(;v<C;)_=this.parseSublistItem(p,v,g),E.push(_),v=_.offsetEnd;return this.level--,E},n.Parser.prototype.parseSublistItem=function(p,v,d){var g,_,C,E,w,m=v,y=null,e,P,O=[];if(g=p.getUint16(v,this.littleEndian),v+=2,_=p.getUint16(v,this.littleEndian),v+=2,C=p.getUint32(v,this.littleEndian),v+=4,e=v,C===n.Parser.UNDEFINED_LENGTH){for(w=this.getNextTag(p,v);w&&!w.isSublistItemDelim();)O.push(w),v=w.offsetEnd,w=this.getNextTag(p,v);w&&O.push(w),w&&(v=w.offsetEnd)}else if(d)y=p.buffer.slice(v,v+C),v=v+C;else for(E=v+C;v<E;)w=this.getNextTag(p,v),O.push(w),v=w.offsetEnd;return P=new n.Tag(g,_,null,y||O,m,e,v,this.littleEndian),P},n.Parser.prototype.findFirstTagOffset=function(p){var v=0,d=n.Parser.MAGIC_COOKIE.length,g=n.Parser.MAGIC_COOKIE_OFFSET*5,_=!1,C=0,E=0,w=0;if(n.Parser.isMagicCookieFound(p))v=n.Parser.MAGIC_COOKIE_OFFSET+d;else for(C=0;C<g;C+=1)if(w=p.getUint8(C),w===n.Parser.MAGIC_COOKIE[0]){for(_=!0,E=1;E<d;E+=1)p.getUint8(C+E)!==n.Parser.MAGIC_COOKIE[E]&&(_=!1);if(_){v=C+d;break}}return v},n.Parser.prototype.hasError=function(){return this.error!==null},l.exports&&(l.exports=n.Parser)}(parser)),parser.exports}var hasRequiredImage;function requireImage(){return hasRequiredImage||(hasRequiredImage=1,function(l){var n=n||{};n.Tag=n.Tag||(typeof commonjsRequire<"u"?requireTag():null),n.CompressionUtils=n.CompressionUtils||(typeof commonjsRequire<"u"?requireCompressionUtils():null),n.Utils=n.Utils||(typeof commonjsRequire<"u"?requireUtilities():null),n.RLE=n.RLE||(typeof commonjsRequire<"u"?requireRle():null);var u=typeof commonjsRequire<"u"?requireMain():null,p=p||(typeof commonjsRequire<"u"?requireJpegBaseline().JpegImage:null),v=v||(typeof commonjsRequire<"u"?requireJpx():null),d=d||(typeof commonjsRequire<"u"?requireJpegLs():null);n.Image=n.Image||function(){this.tags={},this.tagsFlat={},this.littleEndian=!1,this.index=-1,this.decompressed=!1,this.privateDataAll=null,this.convertedPalette=!1},n.Image.SLICE_DIRECTION_UNKNOWN=-1,n.Image.SLICE_DIRECTION_AXIAL=2,n.Image.SLICE_DIRECTION_CORONAL=1,n.Image.SLICE_DIRECTION_SAGITTAL=0,n.Image.SLICE_DIRECTION_OBLIQUE=3,n.Image.OBLIQUITY_THRESHOLD_COSINE_VALUE=.8,n.Image.BYTE_TYPE_UNKNOWN=0,n.Image.BYTE_TYPE_BINARY=1,n.Image.BYTE_TYPE_INTEGER=2,n.Image.BYTE_TYPE_INTEGER_UNSIGNED=3,n.Image.BYTE_TYPE_FLOAT=4,n.Image.BYTE_TYPE_COMPLEX=5,n.Image.BYTE_TYPE_RGB=6,n.Image.skipPaletteConversion=!1,n.Image.getSingleValueSafely=function(g,_){return g&&g.value?g.value[_]:null},n.Image.getValueSafely=function(g){return g?g.value:null},n.Image.getMajorAxisFromPatientRelativeDirectionCosine=function(g,_,C){var E,w,m,y,e,P,O;return w=g<0?"R":"L",m=_<0?"A":"P",y=C<0?"F":"H",e=Math.abs(g),P=Math.abs(_),O=Math.abs(C),e>n.Image.OBLIQUITY_THRESHOLD_COSINE_VALUE&&e>P&&e>O?E=w:P>n.Image.OBLIQUITY_THRESHOLD_COSINE_VALUE&&P>e&&P>O?E=m:O>n.Image.OBLIQUITY_THRESHOLD_COSINE_VALUE&&O>e&&O>P?E=y:E=null,E},n.Image.prototype.getCols=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_COLS[0],n.Tag.TAG_COLS[1]),0)},n.Image.prototype.getRows=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_ROWS[0],n.Tag.TAG_ROWS[1]),0)},n.Image.prototype.getSeriesDescription=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_SERIES_DESCRIPTION[0],n.Tag.TAG_SERIES_DESCRIPTION[1]),0)},n.Image.prototype.getSeriesInstanceUID=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_SERIES_INSTANCE_UID[0],n.Tag.TAG_SERIES_INSTANCE_UID[1]),0)},n.Image.prototype.getSeriesNumber=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_SERIES_NUMBER[0],n.Tag.TAG_SERIES_NUMBER[1]),0)},n.Image.prototype.getEchoNumber=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_ECHO_NUMBER[0],n.Tag.TAG_ECHO_NUMBER[1]),0)},n.Image.prototype.getImagePosition=function(){return n.Image.getValueSafely(this.getTag(n.Tag.TAG_IMAGE_POSITION[0],n.Tag.TAG_IMAGE_POSITION[1]))},n.Image.prototype.getImageDirections=function(){return n.Image.getValueSafely(this.getTag(n.Tag.TAG_IMAGE_ORIENTATION[0],n.Tag.TAG_IMAGE_ORIENTATION[1]))},n.Image.prototype.getImagePositionSliceDir=function(g){var _=n.Image.getValueSafely(this.getTag(n.Tag.TAG_IMAGE_POSITION[0],n.Tag.TAG_IMAGE_POSITION[1]));return _&&g>=0?_[g]:0},n.Image.prototype.getModality=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_MODALITY[0],n.Tag.TAG_MODALITY[1]),0)},n.Image.prototype.getSliceLocation=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_SLICE_LOCATION[0],n.Tag.TAG_SLICE_LOCATION[1]),0)},n.Image.prototype.getSliceLocationVector=function(){return n.Image.getValueSafely(this.getTag(n.Tag.TAG_SLICE_LOCATION_VECTOR[0],n.Tag.TAG_SLICE_LOCATION_VECTOR[1]))},n.Image.prototype.getImageNumber=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_IMAGE_NUM[0],n.Tag.TAG_IMAGE_NUM[1]),0)},n.Image.prototype.getTemporalPosition=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_TEMPORAL_POSITION[0],n.Tag.TAG_TEMPORAL_POSITION[1]),0)},n.Image.prototype.getTemporalNumber=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_NUMBER_TEMPORAL_POSITIONS[0],n.Tag.TAG_NUMBER_TEMPORAL_POSITIONS[1]),0)},n.Image.prototype.getSliceGap=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_SLICE_GAP[0],n.Tag.TAG_SLICE_GAP[1]),0)},n.Image.prototype.getSliceThickness=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_SLICE_THICKNESS[0],n.Tag.TAG_SLICE_THICKNESS[1]),0)},n.Image.prototype.getImageMax=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_IMAGE_MAX[0],n.Tag.TAG_IMAGE_MAX[1]),0)},n.Image.prototype.getImageMin=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_IMAGE_MIN[0],n.Tag.TAG_IMAGE_MIN[1]),0)},n.Image.prototype.getDataScaleSlope=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_DATA_SCALE_SLOPE[0],n.Tag.TAG_DATA_SCALE_SLOPE[1]),0)},n.Image.prototype.getDataScaleIntercept=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_DATA_SCALE_INTERCEPT[0],n.Tag.TAG_DATA_SCALE_INTERCEPT[1]),0)},n.Image.prototype.getDataScaleElscint=function(){var g=n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_DATA_SCALE_ELSCINT[0],n.Tag.TAG_DATA_SCALE_ELSCINT[1]),0);g||(g=1);var _=this.getPixelBandwidth();return g=Math.sqrt(_)/(10*g),g<=0&&(g=1),g},n.Image.prototype.getWindowWidth=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_WINDOW_WIDTH[0],n.Tag.TAG_WINDOW_WIDTH[1]),0)},n.Image.prototype.getWindowCenter=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_WINDOW_CENTER[0],n.Tag.TAG_WINDOW_CENTER[1]),0)},n.Image.prototype.getPixelBandwidth=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_PIXEL_BANDWIDTH[0],n.Tag.TAG_PIXEL_BANDWIDTH[1]),0)},n.Image.prototype.getSeriesId=function(){var g=this.getSeriesDescription(),_=this.getSeriesInstanceUID(),C=this.getSeriesNumber(),E=this.getEchoNumber(),w=this.getOrientation(),m=this.getCols(),y=this.getRows(),e="";return g!==null&&(e+=" "+g),_!==null&&(e+=" "+_),C!==null&&(e+=" "+C),E!==null&&(e+=" "+E),w!==null&&(e+=" "+w),e+=" ("+m+" x "+y+")",e},n.Image.prototype.getPixelSpacing=function(){return n.Image.getValueSafely(this.getTag(n.Tag.TAG_PIXEL_SPACING[0],n.Tag.TAG_PIXEL_SPACING[1]))},n.Image.prototype.getImageType=function(){return n.Image.getValueSafely(this.getTag(n.Tag.TAG_IMAGE_TYPE[0],n.Tag.TAG_IMAGE_TYPE[1]))},n.Image.prototype.getBitsStored=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_BITS_STORED[0],n.Tag.TAG_BITS_STORED[1]),0)},n.Image.prototype.getBitsAllocated=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_BITS_ALLOCATED[0],n.Tag.TAG_BITS_ALLOCATED[1]),0)},n.Image.prototype.getFrameTime=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_FRAME_TIME[0],n.Tag.TAG_FRAME_TIME[1]),0)},n.Image.prototype.getAcquisitionMatrix=function(){var g,_,C,E,w;return g=[0,0],g[0]=n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_ACQUISITION_MATRIX[0],n.Tag.TAG_ACQUISITION_MATRIX[1]),0),this.privateDataAll===null&&(this.privateDataAll=this.getAllInterpretedPrivateData()),this.privateDataAll!==null&&this.privateDataAll.length>0&&(C=this.privateDataAll.indexOf("AcquisitionMatrixText"),C!==-1&&(E=this.privateDataAll.indexOf(`
`,C),E!==-1&&(w=this.privateDataAll.substring(C,E),_=w.match(/\d+/g),_!==null&&_.length===2?(g[0]=_[0],g[1]=_[1]):_!==null&&_.length===1&&(g[0]=_[0])))),g[1]===0&&(g[1]=g[0]),g},n.Image.prototype.getTR=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_TR,n.Tag.TAG_TR[1]),0)},n.Image.prototype.putTag=function(g){this.tags[g.id]&&this.tags[g.id].value[0]!==g.value[0]||(this.tags[g.id]=g,this.putFlattenedTag(this.tagsFlat,g))},n.Image.prototype.putFlattenedTag=function(g,_){var C;if(_.sublist)for(C=0;C<_.value.length;C+=1)this.putFlattenedTag(g,_.value[C]);else g[_.id]||(g[_.id]=_)},n.Image.prototype.getTag=function(g,_){var C=n.Tag.createId(g,_);return this.tags[C]?this.tags[C]:this.tagsFlat[C]},n.Image.prototype.getPixelData=function(){return this.tags[n.Tag.createId(n.Tag.TAG_PIXEL_DATA[0],n.Tag.TAG_PIXEL_DATA[1])]},n.Image.prototype.getPixelDataBytes=function(){return this.isCompressed()&&this.decompress(),this.isPalette()&&!n.Image.skipPaletteConversion&&this.convertPalette(),this.tags[n.Tag.createId(n.Tag.TAG_PIXEL_DATA[0],n.Tag.TAG_PIXEL_DATA[1])].value.buffer},n.Image.prototype.getRawData=function(){return this.getPixelDataBytes()},n.Image.prototype.getInterpretedData=function(g,_,C){var E,w,m,y,e,P,O,U,W,V,$,b,H,G,Y,X,j,h,ae,le,he,pe;h=arguments.length<3,O=n.Utils.createBitMask(this.getBitsAllocated()/8,this.getBitsStored(),this.getDataType()===n.Image.BYTE_TYPE_INTEGER_UNSIGNED),E=this.getPixelRepresentation()?n.Image.BYTE_TYPE_INTEGER:n.Image.BYTE_TYPE_INTEGER_UNSIGNED,w=this.getBitsAllocated()/8,j=this.getRawData(),y=new DataView(j),le=j.byteLength/w,ae=le/this.getNumberOfFrames(),m=h?le:ae,he=h?0:C*ae,U=this.getDataScaleSlope()||1,W=this.getDataScaleIntercept()||0,V=n.Utils.MAX_VALUE,$=n.Utils.MIN_VALUE,H=-1,G=-1,Y=this.littleEndian,g?e=new Array(m):e=new Float32Array(m);var Ae;E===n.Image.BYTE_TYPE_INTEGER?w===1?Ae=y.getInt8.bind(y):w===2&&(Ae=y.getInt16.bind(y)):E===n.Image.BYTE_TYPE_INTEGER_UNSIGNED&&(w===1?Ae=y.getUint8.bind(y):w===2&&(Ae=y.getUint16.bind(y)));var ge=n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_LUT_SHAPE[0],n.Tag.TAG_LUT_SHAPE[1]),0)==="INVERSE";if(ge=ge||this.getPhotometricInterpretation()==="MONOCHROME1",ge){var ye=Math.pow(2,this.getBitsStored())-1,we=0;E===n.Image.BYTE_TYPE_INTEGER&&(ye/=2,we=-ye);var be=Ae;Ae=function(Ve,Ne){var p0=ye-be(Ve,Ne);return Math.min(ye,Math.max(we,p0))}}for(P=he,pe=0;pe<m;P++,pe++)X=Ae(P*w,Y),b=(X&O)*U+W,e[pe]=b,b<V&&(V=b,H=pe),b>$&&($=b,G=pe);return _?{data:e,min:V,minIndex:H,max:$,maxIndex:G,numCols:this.getCols(),numRows:this.getRows()}:e},n.Image.prototype.convertPalette=function(){var g,_,C,E,w,m,y,e,P,O,U,W;if(g=this.tags[n.Tag.createId(n.Tag.TAG_PIXEL_DATA[0],n.Tag.TAG_PIXEL_DATA[1])].value,_=this.getPalleteValues(n.Tag.TAG_PALETTE_RED),C=this.getPalleteValues(n.Tag.TAG_PALETTE_GREEN),E=this.getPalleteValues(n.Tag.TAG_PALETTE_BLUE),_!==null&&_.length>0&&C!==null&&C.length>0&&E!==null&&E.length>0&&!this.convertedPalette){if(w=new DataView(new ArrayBuffer(this.getRows()*this.getCols()*this.getNumberOfFrames()*3)),m=parseInt(Math.ceil(this.getBitsAllocated()/8)),y=g.byteLength/m,m===1)for(e=0;e<y;e+=1)P=g.getUint8(e),O=_[P],U=C[P],W=E[P],w.setUint8(e*3,O),w.setUint8(e*3+1,U),w.setUint8(e*3+2,W);else if(m===2)for(e=0;e<y;e+=1)P=g.getUint16(e*2),O=_[P],U=C[P],W=E[P],w.setUint8(e*3,O),w.setUint8(e*3+1,U),w.setUint8(e*3+2,W);g=w,this.convertedPalette=!0}this.tags[n.Tag.createId(n.Tag.TAG_PIXEL_DATA[0],n.Tag.TAG_PIXEL_DATA[1])].value=g},n.Image.prototype.decompressJPEG=function(g){if(this.isCompressedJPEGLossless()){var _=new u.lossless.Decoder;return _.decode(g)}else if(this.isCompressedJPEGBaseline()){var _=new p;_.parse(new Uint8Array(g));var C=_.width,E=_.height,w;return this.getBitsAllocated()===8?w=_.getData(C,E):this.getBitsAllocated()===16&&(w=_.getData16(C,E)),w}else if(this.isCompressedJPEG2000()){var _=new v;return _.parse(new Uint8Array(g)),_.tiles[0].items}else if(this.isCompressedJPEGLS()){var _=new d;return _.decodeJPEGLS(new Uint8Array(g),this.getDataType()===n.Image.BYTE_TYPE_INTEGER)}},n.Image.prototype.decompress=function(){var g,_,C,E,w,m,y,e,P,O,U,W;if(E=null,!this.decompressed){if(this.decompressed=!0,m=this.getRows()*this.getCols()*parseInt(Math.ceil(this.getBitsAllocated()/8)),w=this.getNumberOfFrames(),this.isCompressedJPEGLossless()){for(g=this.getJpegs(),e=0;e<g.length;e+=1)C=new u.lossless.Decoder,y=C.decode(g[e]),U=C.numComp,E===null&&(E=new DataView(new ArrayBuffer(m*w*U))),new Uint8Array(E.buffer).set(new Uint8Array(y.buffer),e*m*U),y=null;this.tags[n.Tag.createId(n.Tag.TAG_PIXEL_DATA[0],n.Tag.TAG_PIXEL_DATA[1])].value=E}else if(this.isCompressedJPEGBaseline()){for(g=this.getJpegs(),e=0;e<g.length;e+=1)C=new p,C.parse(new Uint8Array(g[e])),P=C.width,O=C.height,U=C.components.length,E===null&&(E=new DataView(new ArrayBuffer(m*w*U))),this.getBitsAllocated()===8?W=C.getData(P,O):this.getBitsAllocated()===16&&(W=C.getData16(P,O)),n.Utils.fillBuffer(W,E,e*m*U,parseInt(Math.ceil(this.getBitsAllocated()/8))),W=null;this.tags[n.Tag.createId(n.Tag.TAG_PIXEL_DATA[0],n.Tag.TAG_PIXEL_DATA[1])].value=E}else if(this.isCompressedJPEG2000()){for(g=this.getJpegs(),e=0;e<g.length;e+=1)C=new v,C.parse(new Uint8Array(g[e])),P=C.width,O=C.height,W=C.tiles[0].items,U=C.componentsCount,E===null&&(E=new DataView(new ArrayBuffer(m*w*U))),n.Utils.fillBuffer(W,E,e*m*U,parseInt(Math.ceil(this.getBitsAllocated()/8))),W=null;this.tags[n.Tag.createId(n.Tag.TAG_PIXEL_DATA[0],n.Tag.TAG_PIXEL_DATA[1])].value=E}else if(this.isCompressedJPEGLS()){for(g=this.getJpegs(),e=0;e<g.length;e+=1){C=new d;var W=C.decodeJPEGLS(new Uint8Array(g[e]),this.getDataType()===n.Image.BYTE_TYPE_INTEGER);P=W.columns,O=W.rows,W=W.pixelData,U=this.getNumberOfSamplesPerPixel(),E===null&&(E=new DataView(new ArrayBuffer(m*w*U))),n.Utils.fillBuffer(W,E,e*m*U,parseInt(Math.ceil(this.getBitsAllocated()/8))),W=null}this.tags[n.Tag.createId(n.Tag.TAG_PIXEL_DATA[0],n.Tag.TAG_PIXEL_DATA[1])].value=E}else if(this.isCompressedRLE()){for(_=this.getRLE(),e=0;e<_.length;e+=1)C=new n.RLE,y=C.decode(_[e],this.littleEndian,this.getRows()*this.getCols()),U=C.numSegments===3?3:1,E===null&&(E=new DataView(new ArrayBuffer(m*w*U))),new Uint8Array(E.buffer).set(new Uint8Array(y.buffer),e*m*U),y=null;this.tags[n.Tag.createId(n.Tag.TAG_PIXEL_DATA[0],n.Tag.TAG_PIXEL_DATA[1])].value=E}}},n.Image.prototype.hasPixelData=function(){return this.tags[n.Tag.createId(n.Tag.TAG_PIXEL_DATA[0],n.Tag.TAG_PIXEL_DATA[1])]!==void 0},n.Image.prototype.clearPixelData=function(){this.tags[n.Tag.createId(n.Tag.TAG_PIXEL_DATA[0],n.Tag.TAG_PIXEL_DATA[1])].value=null},n.Image.prototype.getOrientation=function(){var g=null,_=n.Image.getValueSafely(this.getTag(n.Tag.TAG_IMAGE_ORIENTATION[0],n.Tag.TAG_IMAGE_ORIENTATION[1])),C,E,w,m,y=0,e=0,P=0,O="";if(!_||_.length!==6||(E=this.getPixelSpacing(),!E))return null;for(w=E[0],m=!0,C=0;C<3;C+=1)Math.abs(_[C])>P&&(P=Math.abs(_[C]),y=C);for(P=0;C<6;C+=1)Math.abs(_[C])>P&&(P=Math.abs(_[C]),e=C);switch(y){case 0:O+="X",e===4?O+="YZ":O+="ZY";break;case 1:O+="Y",e===3?O+="XZ":O+="ZX";break;case 2:O+="Z",e===3?O+="XY":O+="YX";break}switch(y){case 0:_[y]>0?O+="-":O+="+",e===4?_[e]>0?O+="-":O+="+":_[e]>0?O+="+":O+="-";break;case 1:_[y]>0?O+="-":O+="+",e===3?_[e]>0?O+="-":O+="+":_[e]>0?O+="+":O+="-";break;case 2:_[y]>0?O+="+":O+="-",_[e]>0?O+="-":O+="+";break}if(w===0)O+="+",g=O;else{if(m)switch(O.charAt(2)){case"X":w>0?O+="-":O+="+";break;case"Y":case"Z":w>0?O+="+":O+="-";break}else switch(O.charAt(2)){case"X":w>0?O+="+":O+="-";break;case"Y":case"Z":w>0?O+="-":O+="+";break}g=O}return g},n.Image.prototype.isMosaic=function(){var g,_=!1,C,E,w;if(g=this.getImageType(),g!==null){for(E=0;E<g.length;E+=1)if(g[E].toUpperCase().indexOf("MOSAIC")!==-1){_=!0;break}}return w=this.getAcquisitionMatrix(),C=w[0]>0&&(w[0]<this.getRows()||w[1]<this.getCols()),_&&C},n.Image.prototype.isPalette=function(){var g=n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_PHOTOMETRIC_INTERPRETATION[0],n.Tag.TAG_PHOTOMETRIC_INTERPRETATION[1]),0);return g!==null&&g.toLowerCase().indexOf("palette")!==-1},n.Image.prototype.getMosaicCols=function(){return this.getCols()/this.getAcquisitionMatrix()[1]},n.Image.prototype.getMosaicRows=function(){return this.getRows()/this.getAcquisitionMatrix()[0]},n.Image.prototype.isElscint=function(){var g=this.getTag(n.Tag.TAG_DATA_SCALE_ELSCINT[0],n.Tag.TAG_DATA_SCALE_ELSCINT[1]);return g!==void 0},n.Image.prototype.isCompressed=function(){n.Parser=n.Parser||(typeof commonjsRequire<"u"?requireParser():null);var g=this.getTransferSyntax();if(g){if(g.indexOf(n.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG)!==-1)return!0;if(g.indexOf(n.Parser.TRANSFER_SYNTAX_COMPRESSION_RLE)!==-1)return!0}return!1},n.Image.prototype.isCompressedJPEG=function(){n.Parser=n.Parser||(typeof commonjsRequire<"u"?requireParser():null);var g=this.getTransferSyntax();return!!(g&&g.indexOf(n.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG)!==-1)},n.Image.prototype.isCompressedJPEGLossless=function(){n.Parser=n.Parser||(typeof commonjsRequire<"u"?requireParser():null);var g=this.getTransferSyntax();return!!(g&&(g.indexOf(n.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_LOSSLESS)!==-1||g.indexOf(n.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_LOSSLESS_SEL1)!==-1))},n.Image.prototype.isCompressedJPEGBaseline=function(){n.Parser=n.Parser||(typeof commonjsRequire<"u"?requireParser():null);var g=this.getTransferSyntax();return!!(g&&(g.indexOf(n.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_BASELINE_8BIT)!==-1||g.indexOf(n.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_BASELINE_12BIT)!==-1))},n.Image.prototype.isCompressedJPEG2000=function(){n.Parser=n.Parser||(typeof commonjsRequire<"u"?requireParser():null);var g=this.getTransferSyntax();return!!(g&&(g.indexOf(n.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_2000)!==-1||g.indexOf(n.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_2000_LOSSLESS)!==-1))},n.Image.prototype.isCompressedJPEGLS=function(){n.Parser=n.Parser||(typeof commonjsRequire<"u"?requireParser():null);var g=this.getTransferSyntax();return!!(g&&(g.indexOf(n.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_LS)!==-1||g.indexOf(n.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_LS_LOSSLESS)!==-1))},n.Image.prototype.isCompressedRLE=function(){n.Parser=n.Parser||(typeof commonjsRequire<"u"?requireParser():null);var g=this.getTransferSyntax();return!!(g&&g.indexOf(n.Parser.TRANSFER_SYNTAX_COMPRESSION_RLE)!==-1)},n.Image.prototype.getNumberOfFrames=function(){var g=n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_NUMBER_OF_FRAMES[0],n.Tag.TAG_NUMBER_OF_FRAMES[1]),0);return g!==null?g:1},n.Image.prototype.getNumberOfSamplesPerPixel=function(){var g=n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_SAMPLES_PER_PIXEL[0],n.Tag.TAG_SAMPLES_PER_PIXEL[1]),0);return g!==null?g:1},n.Image.prototype.getNumberOfImplicitFrames=function(){var g,_,C;return this.isCompressed()?1:(g=this.getPixelData(),_=g.offsetEnd-g.offsetValue,C=this.getCols()*this.getRows()*parseInt(this.getBitsAllocated()/8),parseInt(_/C))},n.Image.prototype.getPixelRepresentation=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_PIXEL_REPRESENTATION[0],n.Tag.TAG_PIXEL_REPRESENTATION[1]),0)},n.Image.prototype.getPhotometricInterpretation=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_PHOTOMETRIC_INTERPRETATION[0],n.Tag.TAG_PHOTOMETRIC_INTERPRETATION[1]),0)},n.Image.prototype.getPatientName=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_PATIENT_NAME[0],n.Tag.TAG_PATIENT_NAME[1]),0)},n.Image.prototype.getPatientID=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_PATIENT_ID[0],n.Tag.TAG_PATIENT_ID[1]),0)},n.Image.prototype.getStudyTime=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_STUDY_TIME[0],n.Tag.TAG_STUDY_TIME[1]),0)},n.Image.prototype.getTransferSyntax=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_TRANSFER_SYNTAX[0],n.Tag.TAG_TRANSFER_SYNTAX[1]),0)},n.Image.prototype.getStudyDate=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_STUDY_DATE[0],n.Tag.TAG_STUDY_DATE[1]),0)},n.Image.prototype.getPlanarConfig=function(){return n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_PLANAR_CONFIG[0],n.Tag.TAG_PLANAR_CONFIG[1]),0)},n.Image.prototype.getImageDescription=function(){var g,_="";return g=n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_STUDY_DES[0],n.Tag.TAG_STUDY_DES[1]),0),g!==null&&(_+=" "+g),g=n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_SERIES_DESCRIPTION[0],n.Tag.TAG_SERIES_DESCRIPTION[1]),0),g!==null&&(_+=" "+g),g=n.Image.getSingleValueSafely(this.getTag(n.Tag.TAG_IMAGE_COMMENTS[0],n.Tag.TAG_IMAGE_COMMENTS[1]),0),g!==null&&(_+=" "+g),_.trim()},n.Image.prototype.getDataType=function(){var g,_;return _=this.getPixelRepresentation(),_===null?n.Image.BYTE_TYPE_UNKNOWN:(g=this.getPhotometricInterpretation(),g!==null&&(g.trim().indexOf("RGB")!==-1||g.trim().indexOf("YBR")!==-1||g.trim().toLowerCase().indexOf("palette")!==-1)?n.Image.BYTE_TYPE_RGB:_===0?n.Image.BYTE_TYPE_INTEGER_UNSIGNED:_===1?n.Image.BYTE_TYPE_INTEGER:n.Image.BYTE_TYPE_UNKNOWN)},n.Image.prototype.getAcquiredSliceDirection=function(){var g,_,C,E;return g=n.Image.getValueSafely(this.getTag(n.Tag.TAG_IMAGE_ORIENTATION[0],n.Tag.TAG_IMAGE_ORIENTATION[1])),!g||g.length!==6?n.Image.SLICE_DIRECTION_UNKNOWN:(_=n.Image.getMajorAxisFromPatientRelativeDirectionCosine(g[0],g[1],g[2]),C=n.Image.getMajorAxisFromPatientRelativeDirectionCosine(g[3],g[4],g[5]),_!==null&&C!==null?(_==="R"||_==="L")&&(C==="A"||C==="P")||(C==="R"||C==="L")&&(_==="A"||_==="P")?E=n.Image.SLICE_DIRECTION_AXIAL:(_==="R"||_==="L")&&(C==="H"||C==="F")||(C==="R"||C==="L")&&(_==="H"||_==="F")?E=n.Image.SLICE_DIRECTION_CORONAL:((_==="A"||_==="P")&&(C==="H"||C==="F")||(C==="A"||C==="P")&&(_==="H"||_==="F"))&&(E=n.Image.SLICE_DIRECTION_SAGITTAL):E=n.Image.SLICE_DIRECTION_OBLIQUE,E)},n.Image.prototype.getEncapsulatedData=function(){var g,_;return n.Parser=n.Parser||(typeof commonjsRequire<"u"?requireParser():null),g=this.getPixelData().value.buffer,_=new n.Parser,_.parseEncapsulated(new DataView(g))},n.Image.prototype.getJpegs=function(){var g,_,C,E,w=[],m=[];if(g=this.getEncapsulatedData(),g)for(_=g.length,C=0;C<_;C+=1)n.CompressionUtils.isHeaderJPEG(g[C].value)||n.CompressionUtils.isHeaderJPEG2000(g[C].value)?(E=[],E.push(g[C].value.buffer),w.push(E)):E&&g[C].value&&E.push(g[C].value.buffer);for(C=0;C<w.length;C+=1)w[C].length>1?m[C]=n.Utils.concatArrayBuffers2(w[C]):m[C]=w[C][0],w[C]=null;return m},n.Image.prototype.getRLE=function(){var g,_,C,E=[];if(g=this.getEncapsulatedData(),g)for(_=g.length,C=1;C<_;C+=1)g[C].value&&E.push(g[C].value.buffer);return E},n.Image.prototype.getAllInterpretedPrivateData=function(){var g,_,C,E="",w=Object.keys(this.tags).sort();for(g=0;g<w.length;g+=1)_=w[g],this.tags.hasOwnProperty(_)&&(C=this.tags[_],C.hasInterpretedPrivateData()&&(E+=C.value));return E},n.Image.prototype.toString=function(){var g,_,C,E="",w=Object.keys(this.tags).sort();for(g=0;g<w.length;g+=1)C=w[g],this.tags.hasOwnProperty(C)&&(_=this.tags[C],E+=_.toHTMLString()+"<br />");return E=E.replace(/\n\s*\n/g,`
`),E=E.replace(/(?:\r\n|\r|\n)/g,"<br />"),E},n.Image.prototype.getPalleteValues=function(g){var _,C,E,w,m,y,e,P,O,U,W;if(_=null,C=null,E=n.Image.getValueSafely(this.getTag(g[0],g[1])),E!==null){for(w=E.buffer.byteLength/2,_=[],C=[],m=0;m<w;m+=1)_[m]=E.getUint16(m*2,!1)&65535,C[m]=E.getUint16(m*2,!0)&65535;return y=Math.max.apply(Math,_),e=Math.min.apply(Math,_),P=Math.max.apply(Math,C),O=Math.min.apply(Math,C),U=Math.abs(y-e),W=Math.abs(P-O),U<W?this.scalePalette(_):this.scalePalette(C)}return null},n.Image.prototype.scalePalette=function(g){var _,C,E,w,m;if(C=Math.max.apply(Math,g),_=Math.min.apply(Math,g),C>255||_<0)for(w=255/(C-_),m=_,E=0;E<g.length;E+=1)g[E]=parseInt(Math.round((g[E]-m)*w));return g},l.exports&&(l.exports=n.Image)}(image)),image.exports}var iterator={exports:{}},hasRequiredIterator;function requireIterator(){return hasRequiredIterator||(hasRequiredIterator=1,function(l){var n=n||{};n.OrderedMapIterator=n.OrderedMapIterator||function(u){this.orderedMap=u,this.index=0},n.OrderedMapIterator.prototype.hasNext=function(){return this.index<this.orderedMap.orderedKeys.length},n.OrderedMapIterator.prototype.next=function(){var u=this.orderedMap.get(this.orderedMap.orderedKeys[this.index]);return this.index+=1,u},l.exports&&(l.exports=n.OrderedMapIterator)}(iterator)),iterator.exports}var orderedmap={exports:{}},hasRequiredOrderedmap;function requireOrderedmap(){return hasRequiredOrderedmap||(hasRequiredOrderedmap=1,function(l){var n=n||{};n.OrderedMapIterator=n.OrderedMapIterator||(typeof commonjsRequire<"u"?requireIterator():null),n.OrderedMap=n.OrderedMap||function(){this.map={},this.orderedKeys=[]},n.OrderedMap.prototype.put=function(u,p){u in this.map?this.map[u]=p:(this.orderedKeys.push(u),this.orderedKeys.sort(function(v,d){return parseFloat(v)-parseFloat(d)}),this.map[u]=p)},n.OrderedMap.prototype.remove=function(u){var p=this.orderedKeys.indexOf(u);if(p===-1)throw new Error("key does not exist");this.orderedKeys.splice(p,1),delete this.map[u]},n.OrderedMap.prototype.get=function(u){return u in this.map?this.map[u]:null},n.OrderedMap.prototype.iterator=function(){return new n.OrderedMapIterator(this)},n.OrderedMap.prototype.getOrderedValues=function(){for(var u=[],p=this.iterator();p.hasNext();)u.push(p.next());return u},l.exports&&(l.exports=n.OrderedMap)}(orderedmap)),orderedmap.exports}var series={exports:{}},hasRequiredSeries;function requireSeries(){return hasRequiredSeries||(hasRequiredSeries=1,function(l){var n=n||{};n.Parser=n.Parser||(typeof commonjsRequire<"u"?requireParser():null),n.Image=n.Image||(typeof commonjsRequire<"u"?requireImage():null),n.OrderedMap=n.OrderedMap||(typeof commonjsRequire<"u"?requireOrderedmap():null),n.OrderedMapIterator=n.OrderedMapIterator||(typeof commonjsRequire<"u"?requireIterator():null),n.Utils=n.Utils||(typeof commonjsRequire<"u"?requireUtilities():null),n.Series=n.Series||function(){this.images=[],this.imagesOriginalOrder=null,this.isMosaic=!1,this.isElscint=!1,this.isCompressed=!1,this.numberOfFrames=0,this.numberOfFramesInFile=0,this.isMultiFrame=!1,this.isMultiFrameVolume=!1,this.isMultiFrameTimeseries=!1,this.isImplicitTimeseries=!1,this.sliceSense=!1,this.sliceDir=n.Image.SLICE_DIRECTION_UNKNOWN,this.error=null},n.Series.parserError=null,n.Series.useExplicitOrdering=!1,n.Series.useExplicitSpacing=0,n.Series.parseImage=function(u){var p,v;return p=new n.Parser,v=p.parse(u),p.hasError()?(n.Series.parserError=p.error,null):(p.inflated&&(v.inflated=p.inflated),v)},n.Series.getMosaicOffset=function(u,p,v,d,g,_,C){var E,w,m;return E=g,w=_,m=C,E=m%u*p+E,w=(parseInt(m/u)*v+w)*d,E+w},n.Series.orderDicoms=function(u,p,v){var d,g,_,C,E,w,m,y,e,P;for(d=u[0].getImagePosition()!==null,g=u[0].getSliceLocation()!==null,_=u[0].getImageNumber()!==null,C=n.Series.orderByTime(u,p,v,d,g),E=C.orderedKeys,P=[],w=0;w<E.length;w+=1)for(y=C.get(E[w]),d?e=n.Series.orderByImagePosition(y,v):g?e=n.Series.orderBySliceLocation(y):_?e=n.Series.orderByImageNumber(y):e=y,m=0;m<e.length;m+=1)P.push(e[m]);for(m=0;m<P.length;m+=1)P[m].index=m;return P},n.Series.orderByImagePosition=function(u,p){var v,d;for(v=new n.OrderedMap,d=0;d<u.length;d+=1)v.put(u[d].getImagePositionSliceDir(p),u[d]);return v.getOrderedValues()},n.Series.orderBySliceLocation=function(u){var p,v;for(p=new n.OrderedMap,v=0;v<u.length;v+=1)p.put(u[v].getSliceLocation(),u[v]);return p.getOrderedValues()},n.Series.orderByImageNumber=function(u){var p,v;for(p=new n.OrderedMap,v=0;v<u.length;v+=1)p.put(u[v].getImageNumber(),u[v]);return p.getOrderedValues()},n.Series.hasMatchingSlice=function(u,p,v,d,g){var _=0,C,E,w,m,y;for(d?_=p.getImagePositionSliceDir(v):g?_=p.getSliceLocation():_=p.getImageNumber(),C=0;C<u.length;C+=1)if(E=u[C],d){if(w=E.getImagePositionSliceDir(v),w===_)return!0}else if(g){if(m=E.getSliceLocation(),m===_)return!0}else if(y=E.getImageNumber(),y===_)return!0;return!1},n.Series.orderByTime=function(u,p,v,d,g){var _,C,E,w,m,y,e,P,O,U,W,V,$,b,H,G;if(_=new n.OrderedMap,C=p>1&&u[0].getTemporalPosition()!==null,E=p>1&&u[0].getTemporalNumber()!==null&&u[0].getTemporalNumber()===p,C&&E)for(w=0;w<u.length;w+=1)m=u[w],y=m.getTemporalPosition(),e=_.get(y),e||(e=[],_.put(y,e)),e.push(m);else{for(P=new n.OrderedMap,w=0;w<u.length;w+=1)u[w]!==null&&(u[w].getImageNumber(),O=w,d?O=u[w].getImagePositionSliceDir(v):g&&(O=u[w].getSliceLocation()),U=P.get(O),U===null&&(U=new n.OrderedMap,P.put(O,U)),U.put(w,u[w]));for(W=[],V=0,$=P.iterator();$.hasNext();)for(U=$.next(),b=U.iterator();b.hasNext();)W[V]=b.next(),V+=1;for(w=0;w<W.length;w+=1)if(W[w]!==null){for(H=null,G=_.iterator();G.hasNext();)if(e=G.next(),!n.Series.hasMatchingSlice(e,W[w],v,d,g)){H=e;break}H===null&&(H=[],_.put(_.orderedKeys.length,H)),H.push(W[w])}}return _},n.Series.prototype.getOrder=function(){var u,p=[];for(u=0;u<this.imagesOriginalOrder.length;u+=1)p[u]=this.imagesOriginalOrder[u].index;return p},n.Series.prototype.toString=function(){return this.images[0].getSeriesId()},n.Series.prototype.getName=function(){var u=this.images[0].getSeriesDescription(),p=this.images[0].getSeriesInstanceUID();return u!==null?u:p!==null?p:null},n.Series.prototype.addImage=function(u){this.images.push(u)},n.Series.prototype.matchesSeries=function(u){return this.images.length===0?!0:this.images[0].getSeriesId()===u.getSeriesId()},n.Series.prototype.buildSeries=function(){var u,p,v,d,g,_,C,E,w,m;if(this.isMosaic=this.images[0].isMosaic(),this.isElscint=this.images[0].isElscint(),this.isCompressed=this.images[0].isCompressed(),this.numberOfFrames=this.images[0].getNumberOfFrames(),this.numberOfFramesInFile=this.images[0].getNumberOfImplicitFrames(),this.isMultiFrame=this.numberOfFrames>1||this.isMosaic&&this.images[0].length>1,this.isMultiFrameVolume=!1,this.isMultiFrameTimeseries=!1,this.isImplicitTimeseries=!1,this.isMultiFrame&&(u=this.images[0].getFrameTime()>0,this.isMosaic?this.isMultiFrameTimeseries=!0:u?this.isMultiFrameTimeseries=!0:this.numberOfFramesInFile>1?(this.isMultiFrameTimeseries=!0,this.numberOfFrames=this.images.length):this.isMultiFrameVolume=!0),!this.isMosaic&&this.numberOfFrames<=1){for(m=this.images[0].getImagePosition()||[],v=m.toString(),this.numberOfFrames=0,p=0;p<this.images.length;p+=1)m=this.images[p].getImagePosition()||[],m.toString()===v&&(this.numberOfFrames+=1);this.numberOfFrames>1&&(this.isImplicitTimeseries=!0)}this.sliceDir=this.images[0].getAcquiredSliceDirection(),n.Series.useExplicitOrdering?d=this.images.slice():d=n.Series.orderDicoms(this.images,this.numberOfFrames,this.sliceDir),g=d[0].getImagePositionSliceDir(this.sliceDir),_=d[d.length-1].getImagePositionSliceDir(this.sliceDir),C=_-g,n.Series.useExplicitOrdering?this.sliceSense=!1:this.isMosaic?this.sliceSense=!0:this.isMultiFrame?(E=d[0].getSliceLocationVector(),E!==null?(w=d[0].getOrientation(),w.charAt(2)==="Z"?this.sliceSense=E[0]-E[E.length-1]<0:this.sliceSense=E[0]-E[E.length-1]>0):this.sliceSense=!(g<0)):this.sliceDir===n.Image.SLICE_DIRECTION_SAGITTAL||this.sliceDir===n.Image.SLICE_DIRECTION_CORONAL?C>0?this.sliceSense=!1:this.sliceSense=!0:C>0?this.sliceSense=!0:this.sliceSense=!1,this.imagesOriginalOrder=this.images,this.images=d},n.Series.prototype.concatenateImageData=function(u,p){var v,d,g;this.isMosaic?d=this.getMosaicData(this.images[0],this.images[0].getPixelDataBytes()):d=this.images[0].getPixelDataBytes(),g=this.validatePixelDataLength(this.images[0]),this.images[0].clearPixelData(),v=new Uint8Array(new ArrayBuffer(g*this.images.length)),v.set(new Uint8Array(d,0,g),0),setTimeout(n.Utils.bind(this,function(){this.concatenateNextImageData(v,g,u,1,p)}),0)},n.Series.prototype.concatenateNextImageData=function(u,p,v,d,g){var _,C;d>=this.images.length?(v&&v.drawProgress(1,"Reading DICOM Images"),g(u.buffer)):(v&&v.drawProgress(d/this.images.length,"Reading DICOM Images"),this.isMosaic?_=this.getMosaicData(this.images[d],this.images[d].getPixelDataBytes()):_=this.images[d].getPixelDataBytes(),C=this.validatePixelDataLength(this.images[d]),this.images[d].clearPixelData(),u.set(new Uint8Array(_,0,C),p*d),setTimeout(n.Utils.bind(this,function(){this.concatenateNextImageData(u,p,v,d+1,g)}),0))},n.Series.prototype.validatePixelDataLength=function(u){var p=u.getPixelDataBytes().byteLength,v=u.getCols()*u.getRows();return p%v===0?p:v*u.getNumberOfFrames()*u.getNumberOfSamplesPerPixel()*(u.getBitsAllocated()/8)},n.Series.prototype.getMosaicData=function(u,p){var v,d,g,_,C,E,w,m,y,e,P,O,U,W,V,$,b,H=0;for(w=parseInt(this.images[0].getBitsAllocated()/8),P=this.images[0].getMosaicCols()*this.images[0].getMosaicRows(),O=parseInt(this.images[0].getRows()/this.images[0].getMosaicRows()),U=parseInt(this.images[0].getCols()/this.images[0].getMosaicCols()),v=this.images[0].getCols(),d=this.images[0].getRows(),g=this.images[0].getMosaicRows(),_=this.images[0].getMosaicCols(),C=parseInt(d/g),E=parseInt(v/_),W=new Uint8Array(new ArrayBuffer(P*O*U*w)),V=new Uint8Array(p),m=0;m<P;m+=1)for(y=0;y<O;y+=1)for(e=0;e<U;e+=1)for($=n.Series.getMosaicOffset(_,E,C,v,e,y,m),b=0;b<w;b+=1)W[H]=V[$*w+b],H+=1;return W.buffer},l.exports&&(l.exports=n.Series)}(series)),series.exports}(function(l){var n=n||{};n.CompressionUtils=n.CompressionUtils||(typeof commonjsRequire<"u"?requireCompressionUtils():null),n.Dictionary=n.Dictionary||(typeof commonjsRequire<"u"?requireDictionary():null),n.Image=n.Image||(typeof commonjsRequire<"u"?requireImage():null),n.OrderedMapIterator=n.OrderedMapIterator||(typeof commonjsRequire<"u"?requireIterator():null),n.OrderedMap=n.OrderedMap||(typeof commonjsRequire<"u"?requireOrderedmap():null),n.Parser=n.Parser||(typeof commonjsRequire<"u"?requireParser():null),n.RLE=n.RLE||(typeof commonjsRequire<"u"?requireRle():null),n.Series=n.Series||(typeof commonjsRequire<"u"?requireSeries():null),n.Tag=n.Tag||(typeof commonjsRequire<"u"?requireTag():null),n.Utils=n.Utils||(typeof commonjsRequire<"u"?requireUtilities():null),n.Siemens=n.Siemens||(typeof commonjsRequire<"u"?requireSiemens():null);var u=u||{};u.lossless=u.lossless||{},u.lossless.Decoder=typeof commonjsRequire<"u"?requireMain():null;var p=p||(typeof commonjsRequire<"u"?requireJpegBaseline().JpegImage:null),v=v||(typeof commonjsRequire<"u"?requireJpx():null),d=d||(typeof commonjsRequire<"u"?requireCharLSDynamicMemoryBrowser():null),g=g||(typeof commonjsRequire<"u"?requireJpegLs():null),_=_||(typeof commonjsRequire<"u"?requirePako():null);l.exports&&(l.exports=n)})(main$2);var mainExports=main$2.exports;const daikon=getDefaultExportFromCjs(mainExports);var __defProp$1=Object.defineProperty,__defNormalProp=(l,n,u)=>n in l?__defProp$1(l,n,{enumerable:!0,configurable:!0,writable:!0,value:u}):l[n]=u,__export$1=(l,n)=>{for(var u in n)__defProp$1(l,u,{get:n[u],enumerable:!0})},__publicField=(l,n,u)=>(__defNormalProp(l,typeof n!="symbol"?n+"":n,u),u),version$1="0.43.3",_Log=class li{constructor({name:n="niivue",level:u="info"}={}){__publicField(this,"level"),__publicField(this,"name"),this.name=`${n}`,this.level=u}debug(...n){li.levels[this.level]>li.levels.debug||console.debug(`${this.name}-debug`,...n)}info(...n){li.levels[this.level]>li.levels.info||console.info(`${this.name}-info`,...n)}warn(...n){li.levels[this.level]>li.levels.warn||console.warn(`${this.name}-warn`,...n)}error(...n){li.levels[this.level]>li.levels.error||console.error(`${this.name}-error`,...n)}fatal(...n){li.levels[this.level]>li.levels.fatal||console.error(`${this.name}-fatal`,...n)}setLogLevel(n){this.level=n}setName(n){this.name=n}};__publicField(_Log,"levels",{debug:0,info:1,warn:2,error:3,fatal:4,silent:1/0});var Log=_Log,log$1=new Log({name:"niivue",level:"info"}),compileShader=function(l,n,u){const p=l.createShader(l.VERTEX_SHADER);if(p===null)throw new Error("could not create vertex shader");if(l.shaderSource(p,n),l.compileShader(p),!l.getShaderParameter(p,l.COMPILE_STATUS))throw log$1.error(l.getShaderInfoLog(p)),new Error("Vertex shader failed to compile, see console for log");const v=l.createShader(l.FRAGMENT_SHADER);if(v===null)throw new Error("could not create fragment shader");if(l.shaderSource(v,u),l.compileShader(v),!l.getShaderParameter(v,l.COMPILE_STATUS))throw log$1.error(l.getShaderInfoLog(v)),new Error("Fragment shader failed to compile, see console for log");const d=l.createProgram();if(d===null)throw new Error("could not create GL program");if(l.attachShader(d,p),l.attachShader(d,v),l.linkProgram(d),!l.getProgramParameter(d,l.LINK_STATUS))throw log$1.error(l.getProgramInfoLog(d)),new Error("Shader failed to link, see console for log");return d},Shader=class{constructor(l,n,u){__publicField(this,"program"),__publicField(this,"uniforms",{}),__publicField(this,"isMatcap"),this.program=compileShader(l,n,u);const p=/uniform[^;]+[ ](\w+);/g,v=/uniform[^;]+[ ](\w+);/,d=n.match(p),g=u.match(p);d&&d.forEach(_=>{const C=_.match(v);this.uniforms[C[1]]=-1}),g&&g.forEach(_=>{const C=_.match(v);this.uniforms[C[1]]=-1});for(const _ in this.uniforms)this.uniforms[_]=l.getUniformLocation(this.program,_)}use(l){l.useProgram(this.program)}},vertRenderShader=`#version 300 es
#line 4
layout(location=0) in vec3 pos;
layout(location=1) in vec3 texCoords;
uniform mat4 mvpMtx;
out vec3 vColor;
void main(void) {
	gl_Position = mvpMtx * vec4(pos, 1.0);
	vColor = texCoords;
}`,kDrawFunc=`
	vec4 drawColor(float scalar, float drawOpacity) {
		float nlayer = float(textureSize(colormap, 0).y);
		float layer = (nlayer - 0.5) / nlayer;
		vec4 dcolor = texture(colormap, vec2((scalar * 255.0)/256.0 + 0.5/256.0, layer)).rgba;
		dcolor.a *= drawOpacity;
		return dcolor;
}`,kRenderFunc=`vec3 GetBackPosition(vec3 startPositionTex) {
	vec3 startPosition = startPositionTex * volScale;
	vec3 invR = 1.0 / rayDir;
	vec3 tbot = invR * (vec3(0.0)-startPosition);
	vec3 ttop = invR * (volScale-startPosition);
	vec3 tmax = max(ttop, tbot);
	vec2 t = min(tmax.xx, tmax.yz);
	vec3 endPosition = startPosition + (rayDir * min(t.x, t.y));
	//convert world position back to texture position:
	endPosition = endPosition / volScale;
	return endPosition;
}
vec4 applyClip (vec3 dir, inout vec4 samplePos, inout float len, inout bool isClip) {
	float cdot = dot(dir,clipPlane.xyz);
	isClip = false;
	if  ((clipPlane.a > 1.0) || (cdot == 0.0)) return samplePos;
	bool frontface = (cdot > 0.0);
	float clipThick = 2.0;
	float dis = (-clipPlane.a - dot(clipPlane.xyz, samplePos.xyz-0.5)) / cdot;
	float  disBackFace = (-(clipPlane.a-clipThick) - dot(clipPlane.xyz, samplePos.xyz-0.5)) / cdot;
	if (((frontface) && (dis >= len)) || ((!frontface) && (dis <= 0.0))) {
		samplePos.a = len + 1.0;
		return samplePos;
	}
	if (frontface) {
		dis = max(0.0, dis);
		samplePos = vec4(samplePos.xyz+dir * dis, dis);
		if (dis > 0.0) isClip = true;
		len = min(disBackFace, len);
	}
	if (!frontface) {
		len = min(dis, len);
		disBackFace = max(0.0, disBackFace);
		if (len == dis) isClip = true;
		samplePos = vec4(samplePos.xyz+dir * disBackFace, disBackFace);
	}
	return samplePos;
}
float frac2ndc(vec3 frac) {
//https://stackoverflow.com/questions/7777913/how-to-render-depth-linearly-in-modern-opengl-with-gl-fragcoord-z-in-fragment-sh
	vec4 pos = vec4(frac.xyz, 1.0); //fraction
	vec4 dim = vec4(vec3(textureSize(volume, 0)), 1.0);
	pos = pos * dim;
	vec4 shim = vec4(-0.5, -0.5, -0.5, 0.0);
	pos += shim;
	vec4 mm = transpose(matRAS) * pos;
	float z_ndc = (mvpMtx * vec4(mm.xyz, 1.0)).z;
	return (z_ndc + 1.0) / 2.0;
}`+kDrawFunc,kRenderInit=`void main() {
	if (fColor.x > 2.0) {
		fColor = vec4(1.0, 0.0, 0.0, 0.5);
		return;
	}
	fColor = vec4(0.0,0.0,0.0,0.0);
	vec4 clipPlaneColorX = clipPlaneColor;
	//if (clipPlaneColor.a < 0.0)
	//	clipPlaneColorX.a = - 1.0;
	bool isColorPlaneInVolume = false;
	if (clipPlaneColorX.a < 0.0) {
		isColorPlaneInVolume = true;
		clipPlaneColorX.a = 0.0;
	}
	//fColor = vec4(vColor.rgb, 1.0); return;
	vec3 start = vColor;
	gl_FragDepth = 0.0;
	vec3 backPosition = GetBackPosition(start);
	// fColor = vec4(backPosition, 1.0); return;
	vec3 dir = backPosition - start;
	float len = length(dir);
	float lenVox = length((texVox * start) - (texVox * backPosition));
	if ((lenVox < 0.5) || (len > 3.0)) { //length limit for parallel rays
		return;
	}
	float sliceSize = len / lenVox; //e.g. if ray length is 1.0 and traverses 50 voxels, each voxel is 0.02 in unit cube
	float stepSize = sliceSize; //quality: larger step is faster traversal, but fewer samples
	float opacityCorrection = stepSize/sliceSize;
	dir = normalize(dir);
	vec4 deltaDir = vec4(dir.xyz * stepSize, stepSize);
	vec4 samplePos = vec4(start.xyz, 0.0); //ray position
	float lenNoClip = len;
	bool isClip = false;
	vec4 clipPos = applyClip(dir, samplePos, len, isClip);
	//if ((clipPos.a != samplePos.a) && (len < 3.0)) {
	//start: OPTIONAL fast pass: rapid traversal until first hit
	float stepSizeFast = sliceSize * 1.9;
	vec4 deltaDirFast = vec4(dir.xyz * stepSizeFast, stepSizeFast);
	while (samplePos.a <= len) {
		float val = texture(volume, samplePos.xyz).a;
		if (val > 0.01)
			break;
		samplePos += deltaDirFast; //advance ray position
	}
	float drawOpacityA = renderDrawAmbientOcclusionXY.y;
	if ((samplePos.a >= len) && (((overlays < 1.0) && (drawOpacityA <= 0.0) ) || (backgroundMasksOverlays > 0)))  {
		if (isClip)
			fColor += clipPlaneColorX;
		return;
	}
	fColor = vec4(1.0, 1.0, 1.0, 1.0);
	//gl_FragDepth = frac2ndc(samplePos.xyz); //crude due to fast pass resolution
	samplePos -= deltaDirFast;
	if (samplePos.a < 0.0)
		vec4 samplePos = vec4(start.xyz, 0.0); //ray position
	//end: fast pass
	vec4 colAcc = vec4(0.0,0.0,0.0,0.0);
	vec4 firstHit = vec4(0.0,0.0,0.0,2.0 * lenNoClip);
	const float earlyTermination = 0.95;
	float backNearest = len; //assume no hit
	float ran = fract(sin(gl_FragCoord.x * 12.9898 + gl_FragCoord.y * 78.233) * 43758.5453);
	samplePos += deltaDir * ran; //jitter ray
`,kRenderTail=`
	if (firstHit.a < len)
		gl_FragDepth = frac2ndc(firstHit.xyz);
	colAcc.a = (colAcc.a / earlyTermination) * backOpacity;
	fColor = colAcc;
	//if (isClip) //CR
	if ((isColorPlaneInVolume) && (clipPos.a != samplePos.a) && (abs(firstHit.a - clipPos.a) < deltaDir.a))
		fColor.rgb = mix(fColor.rgb, clipPlaneColorX.rgb, abs(clipPlaneColor.a));
		//fColor.rgb = mix(fColor.rgb, clipPlaneColorX.rgb, clipPlaneColorX.a * 0.65);
	float renderDrawAmbientOcclusionX = renderDrawAmbientOcclusionXY.x;
	float drawOpacity = renderDrawAmbientOcclusionXY.y;
	if ((overlays < 1.0) && (drawOpacity <= 0.0))
		return;
	//overlay pass
	len = lenNoClip;
	samplePos = vec4(start.xyz, 0.0); //ray position
	//start: OPTIONAL fast pass: rapid traversal until first hit
	stepSizeFast = sliceSize * 1.0;
	deltaDirFast = vec4(dir.xyz * stepSizeFast, stepSizeFast);
	while (samplePos.a <= len) {
		float val = texture(overlay, samplePos.xyz).a;
		if (drawOpacity > 0.0)
			val = max(val, texture(drawing, samplePos.xyz).r);
		if (val > 0.001)
			break;
		samplePos += deltaDirFast; //advance ray position
	}
	if (samplePos.a >= len) {
		if (isClip && (fColor.a == 0.0))
				fColor += clipPlaneColorX;
			return;
	}
	samplePos -= deltaDirFast;
	if (samplePos.a < 0.0)
		vec4 samplePos = vec4(start.xyz, 0.0); //ray position
	//end: fast pass
	float overFarthest = len;
	colAcc = vec4(0.0, 0.0, 0.0, 0.0);

	samplePos += deltaDir * ran; //jitter ray
	vec4 overFirstHit = vec4(0.0,0.0,0.0,2.0 * len);
	if (backgroundMasksOverlays > 0)
		samplePos = firstHit;
	bool firstDraw = true;
	while (samplePos.a <= len) {
		vec4 colorSample = texture(overlay, samplePos.xyz);
		if ((colorSample.a < 0.01) && (drawOpacity > 0.0)) {
			float val = texture(drawing, samplePos.xyz).r;
			vec4 draw = drawColor(val, drawOpacity);
			if ((draw.a > 0.0) && (firstDraw)) {
				firstDraw = false;
				float sum = 0.0;
				const float mn = 1.0 / 256.0;
				const float sampleRadius = 1.1;
				float dx = sliceSize * sampleRadius;
				vec3 center = samplePos.xyz;
				//six neighbors that share a face
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,0.0,+dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,0.0,-dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,+dx,0.0), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,-dx,0.0), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(+dx,0.0,0.0), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(-dx,0.0,0.0), dir)).r, mn);
				//float proportion = (sum / mn) / 6.0;
				
				//12 neighbors that share an edge
				dx = sliceSize * sampleRadius * sqrt(2.0) * 0.5;
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,+dx,+dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(+dx,0.0,+dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(+dx,+dx,0.0), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,-dx,-dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(-dx,0.0,-dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(-dx,-dx,0.0), dir)).r, mn);

				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,+dx,-dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(+dx,0.0,-dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(+dx,-dx,0.0), dir)).r, mn);
				
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,-dx,+dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(-dx,0.0,+dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(-dx,+dx,0.0), dir)).r, mn);
				float proportion = (sum / mn) / 18.0; //proportion of six neighbors is non-zero
				
				//a high proportion of hits means crevice
				//since the AO term adds shadows that darken most voxels, it will result in dark surfaces
				//the term brighten adds a little illumination to balance this
				// without brighten, only the most extreme ridges will not be darker
				const float brighten = 1.2;
				vec3 ao = draw.rgb * (1.0 - proportion) * brighten;
				draw.rgb = mix (draw.rgb, ao , renderDrawAmbientOcclusionX);
			}
			colorSample = draw;
		}
		samplePos += deltaDir; //advance ray position
		if (colorSample.a >= 0.01) {
			if (overFirstHit.a > len)
				overFirstHit = samplePos;
			colorSample.a *= renderOverlayBlend;
			colorSample.a = 1.0-pow((1.0 - colorSample.a), opacityCorrection);
			colorSample.rgb *= colorSample.a;
			colAcc= (1.0 - colAcc.a) * colorSample + colAcc;
			overFarthest = samplePos.a;
			if ( colAcc.a > earlyTermination )
				break;
		}
	}
	//if (samplePos.a >= len) {
	if (colAcc.a <= 0.0) {
		if (isClip && (fColor.a == 0.0))
			fColor += clipPlaneColorX;
		return;
	}
	if (overFirstHit.a < firstHit.a)
		gl_FragDepth = frac2ndc(overFirstHit.xyz);
	float overMix = colAcc.a;
	float overlayDepth = 0.3;
	if (fColor.a <= 0.0)
		overMix = 1.0;
	else if (((overFarthest) > backNearest)) {
		float dx = (overFarthest - backNearest)/1.73;
		dx = fColor.a * pow(dx, overlayDepth);
		overMix *= 1.0 - dx;
	}
	fColor.rgb = mix(fColor.rgb, colAcc.rgb, overMix);
	fColor.a = max(fColor.a, colAcc.a);
}`,fragRenderSliceShader=`#version 300 es
#line 215
precision highp int;
precision highp float;
uniform vec3 rayDir;
uniform vec3 texVox;
uniform int backgroundMasksOverlays;
uniform vec3 volScale;
uniform vec4 clipPlane;
uniform highp sampler3D volume, overlay;
uniform float overlays;
uniform float backOpacity;
uniform mat4 mvpMtx;
uniform mat4 matRAS;
uniform vec4 clipPlaneColor;
uniform float renderOverlayBlend;
uniform highp sampler3D drawing;
uniform highp sampler2D colormap;
uniform vec2 renderDrawAmbientOcclusionXY;
in vec3 vColor;
out vec4 fColor;
`+kRenderFunc+`
	void main() {
	vec3 start = vColor;
	gl_FragDepth = 0.0;
	vec3 backPosition = GetBackPosition(start);
	vec3 dir = backPosition - start;
	float len = length(dir);
	float lenVox = length((texVox * start) - (texVox * backPosition));
	if ((lenVox < 0.5) || (len > 3.0)) { //length limit for parallel rays
		fColor = vec4(0.0,0.0,0.0,0.0);
		return;
	}
	float sliceSize = len / lenVox; //e.g. if ray length is 1.0 and traverses 50 voxels, each voxel is 0.02 in unit cube
	float stepSize = sliceSize; //quality: larger step is faster traversal, but fewer samples
	float opacityCorrection = stepSize/sliceSize;
	dir = normalize(dir);
	vec4 deltaDir = vec4(dir.xyz * stepSize, stepSize);
	vec4 samplePos = vec4(start.xyz, 0.0); //ray position
	vec4 colAcc = vec4(0.0,0.0,0.0,0.0);
	vec4 firstHit = vec4(0.0,0.0,0.0,2.0 * len);
	const float earlyTermination = 0.95;
	float backNearest = len; //assume no hit
	float dis = len;
	//check if axial plane is closest
	vec4 aClip = vec4(0.0, 0.0, 1.0, (1.0- clipPlane.z) - 0.5);
	float adis = (-aClip.a - dot(aClip.xyz, samplePos.xyz-0.5)) / dot(dir,aClip.xyz);
	if (adis > 0.0)
		dis = min(adis, dis);
	//check of coronal plane is closest
	vec4 cClip = vec4(0.0, 1.0, 0.0, (1.0- clipPlane.y) - 0.5);
	float cdis = (-cClip.a - dot(cClip.xyz, samplePos.xyz-0.5)) / dot(dir,cClip.xyz);
	if (cdis > 0.0)
		dis = min(cdis, dis);
	//check if coronal slice is closest
	vec4 sClip = vec4(1.0, 0.0, 0.0, (1.0- clipPlane.x) - 0.5);
	float sdis = (-sClip.a - dot(sClip.xyz, samplePos.xyz-0.5)) / dot(dir,sClip.xyz);
	if (sdis > 0.0)
		dis = min(sdis, dis);
	if ((dis > 0.0) && (dis < len)) {
		samplePos = vec4(samplePos.xyz+dir * dis, dis);
		colAcc = texture(volume, samplePos.xyz);
		colAcc.a = earlyTermination;
		firstHit = samplePos;
		backNearest = min(backNearest, samplePos.a);
	}
	//the following are only used by overlays
	vec4 clipPlaneColorX = clipPlaneColor;
	bool isColorPlaneInVolume = false;
	float lenNoClip = len;
	bool isClip = false;
	vec4 clipPos = applyClip(dir, samplePos, len, isClip);
	float stepSizeFast = sliceSize * 1.9;
	vec4 deltaDirFast = vec4(dir.xyz * stepSizeFast, stepSizeFast);
	if (samplePos.a < 0.0)
		vec4 samplePos = vec4(start.xyz, 0.0); //ray position
	float ran = fract(sin(gl_FragCoord.x * 12.9898 + gl_FragCoord.y * 78.233) * 43758.5453);
	samplePos += deltaDir * ran; //jitter ray
`+kRenderTail,fragRenderShader=`#version 300 es
#line 215
precision highp int;
precision highp float;
uniform vec3 rayDir;
uniform vec3 texVox;
uniform int backgroundMasksOverlays;
uniform vec3 volScale;
uniform vec4 clipPlane;
uniform highp sampler3D volume, overlay;
uniform float overlays;
uniform float backOpacity;
uniform mat4 mvpMtx;
uniform mat4 matRAS;
uniform vec4 clipPlaneColor;
uniform float renderOverlayBlend;
uniform highp sampler3D drawing;
uniform highp sampler2D colormap;
uniform vec2 renderDrawAmbientOcclusionXY;
in vec3 vColor;
out vec4 fColor;
`+kRenderFunc+kRenderInit+`while (samplePos.a <= len) {
		vec4 colorSample = texture(volume, samplePos.xyz);
		samplePos += deltaDir; //advance ray position
		if (colorSample.a >= 0.01) {
			if (firstHit.a > lenNoClip)
				firstHit = samplePos;
			backNearest = min(backNearest, samplePos.a);
			colorSample.a = 1.0-pow((1.0 - colorSample.a), opacityCorrection);
			colorSample.rgb *= colorSample.a;
			colAcc= (1.0 - colAcc.a) * colorSample + colAcc;
			if ( colAcc.a > earlyTermination )
				break;
		}
	}
`+kRenderTail,fragRenderGradientShader=`#version 300 es
#line 215
precision highp int;
precision highp float;
uniform vec3 rayDir;
uniform vec3 texVox;
uniform int backgroundMasksOverlays;
uniform vec3 volScale;
uniform vec4 clipPlane;
uniform highp sampler3D volume, overlay;
uniform float overlays;
uniform float backOpacity;
uniform mat4 mvpMtx;
uniform mat4 normMtx;
uniform mat4 matRAS;
uniform vec4 clipPlaneColor;
uniform float renderOverlayBlend;
uniform highp sampler3D drawing, gradient;
uniform highp sampler2D colormap;
uniform highp sampler2D matCap;
uniform vec2 renderDrawAmbientOcclusionXY;
uniform float gradientAmount;
in vec3 vColor;
out vec4 fColor;
`+kRenderFunc+kRenderInit+`
	float startPos = samplePos.a;
	float clipClose = clipPos.a + 3.0 * deltaDir.a; //do not apply gradients near clip plane
	float brighten = 2.0; //modulating makes average intensity darker 0.5 * 0.5 = 0.25
	//vec4 prevGrad = vec4(0.0);
	while (samplePos.a <= len) {
		vec4 colorSample = texture(volume, samplePos.xyz);
		if (colorSample.a >= 0.0) {
			vec4 grad = texture(gradient, samplePos.xyz);
			grad.rgb = normalize(grad.rgb*2.0 - 1.0);
			//if (grad.a < prevGrad.a)
			//	grad.rgb = prevGrad.rgb;
			//prevGrad = grad;
			vec3 n = mat3(normMtx) * grad.rgb;
			n.y = - n.y;
			vec4 mc = vec4(texture(matCap, n.xy * 0.5 + 0.5).rgb, 1.0) * brighten;
			mc = mix(vec4(1.0), mc, gradientAmount);
			if (samplePos.a > clipClose)
				colorSample.rgb *= mc.rgb;
			if (firstHit.a > lenNoClip)
				firstHit = samplePos;
			backNearest = min(backNearest, samplePos.a);
			colorSample.a = 1.0-pow((1.0 - colorSample.a), opacityCorrection);
			colorSample.rgb *= colorSample.a;
			colAcc= (1.0 - colAcc.a) * colorSample + colAcc;
			if ( colAcc.a > earlyTermination )
				break;
		}
		samplePos += deltaDir; //advance ray position
	}
`+kRenderTail,vertSliceMMShader=`#version 300 es
#line 392
layout(location=0) in vec3 pos;
uniform int axCorSag;
uniform mat4 mvpMtx;
uniform mat4 frac2mm;
uniform float slice;
out vec3 texPos;
void main(void) {
	texPos = vec3(pos.x, pos.y, slice);
	if (axCorSag > 1)
		texPos = vec3(slice, pos.x, pos.y);
	else if (axCorSag > 0)
		texPos = vec3(pos.x, slice, pos.y);
	vec4 mm = frac2mm * vec4(texPos, 1.0);
	gl_Position = mvpMtx * mm;
}`,kFragSliceHead=`#version 300 es
#line 411
precision highp int;
precision highp float;
uniform highp sampler3D volume, overlay;
uniform int backgroundMasksOverlays;
uniform float overlayOutlineWidth;
uniform float overlayAlphaShader;
uniform int axCorSag;
uniform float overlays;
uniform float opacity;
uniform float drawOpacity;
uniform bool isAlphaClipDark;
uniform highp sampler3D drawing;
uniform highp sampler2D colormap;
in vec3 texPos;
out vec4 color;`+kDrawFunc+`void main() {
	//color = vec4(1.0, 0.0, 1.0, 1.0);return;
	vec4 background = texture(volume, texPos);
	color = vec4(background.rgb, opacity);
	if ((isAlphaClipDark) && (background.a == 0.0)) color.a = 0.0; //FSLeyes clipping range
	vec4 ocolor = vec4(0.0);
	float overlayAlpha = overlayAlphaShader;
	if (overlays > 0.0) {
		ocolor = texture(overlay, texPos);
		//dFdx for "boxing" issue 435 has aliasing on some implementations (coarse vs fine)
		//however, this only identifies 50% of the edges due to aliasing effects
		// http://www.aclockworkberry.com/shader-derivative-functions/
		// https://bgolus.medium.com/distinctive-derivative-differences-cce38d36797b
		//if ((ocolor.a >= 1.0) && ((dFdx(ocolor.a) != 0.0) || (dFdy(ocolor.a) != 0.0)  ))
		//	ocolor.rbg = vec3(0.0, 0.0, 0.0);
		bool isOutlineBelowNotAboveThreshold = true;
		if (isOutlineBelowNotAboveThreshold) {
			if ((overlayOutlineWidth > 0.0) && (ocolor.a < 1.0)) { //check voxel neighbors for edge
				vec3 vx = (overlayOutlineWidth ) / vec3(textureSize(overlay, 0));
				//6 voxel neighbors that share a face
				vec3 vxR = vec3(texPos.x+vx.x, texPos.y, texPos.z);
				vec3 vxL = vec3(texPos.x-vx.x, texPos.y, texPos.z);
				vec3 vxA = vec3(texPos.x, texPos.y+vx.y, texPos.z);
				vec3 vxP = vec3(texPos.x, texPos.y-vx.y, texPos.z);
				vec3 vxS = vec3(texPos.x, texPos.y, texPos.z+vx.z);
				vec3 vxI = vec3(texPos.x, texPos.y, texPos.z-vx.z);
				float a = 0.0;
				if (axCorSag != 2) {
					a = max(a, texture(overlay, vxR).a);
					a = max(a, texture(overlay, vxL).a);
				}
				if (axCorSag != 1) {
					a = max(a, texture(overlay, vxA).a);
					a = max(a, texture(overlay, vxP).a);
				}
				if (axCorSag != 0) {
					a = max(a, texture(overlay, vxS).a);
					a = max(a, texture(overlay, vxI).a);
				}
				bool isCheckCorners = true;
				if (isCheckCorners) {
					//12 voxel neighbors that share an edge
					vec3 vxRA = vec3(texPos.x+vx.x, texPos.y+vx.y, texPos.z);
					vec3 vxLA = vec3(texPos.x-vx.x, texPos.y+vx.y, texPos.z);
					vec3 vxRP = vec3(texPos.x+vx.x, texPos.y-vx.y, texPos.z);
					vec3 vxLP = vec3(texPos.x-vx.x, texPos.y-vx.y, texPos.z);
					vec3 vxRS = vec3(texPos.x+vx.x, texPos.y, texPos.z+vx.z);
					vec3 vxLS = vec3(texPos.x-vx.x, texPos.y, texPos.z+vx.z);
					vec3 vxRI = vec3(texPos.x+vx.x, texPos.y, texPos.z-vx.z);
					vec3 vxLI = vec3(texPos.x-vx.x, texPos.y, texPos.z-vx.z);
					vec3 vxAS = vec3(texPos.x, texPos.y+vx.y, texPos.z+vx.z);
					vec3 vxPS = vec3(texPos.x, texPos.y-vx.y, texPos.z+vx.z);
					vec3 vxAI = vec3(texPos.x, texPos.y+vx.y, texPos.z-vx.z);
					vec3 vxPI = vec3(texPos.x, texPos.y-vx.y, texPos.z-vx.z);

					if (axCorSag == 0) { //axial corners
						a = max(a, texture(overlay, vxRA).a);
						a = max(a, texture(overlay, vxLA).a);
						a = max(a, texture(overlay, vxRP).a);
						a = max(a, texture(overlay, vxLP).a);
					}
					if (axCorSag == 1) { //coronal corners
						a = max(a, texture(overlay, vxRS).a);
						a = max(a, texture(overlay, vxLS).a);
						a = max(a, texture(overlay, vxRI).a);
						a = max(a, texture(overlay, vxLI).a);
					}
					if (axCorSag == 2) { //sagittal corners
						a = max(a, texture(overlay, vxAS).a);
						a = max(a, texture(overlay, vxPS).a);
						a = max(a, texture(overlay, vxAI).a);
						a = max(a, texture(overlay, vxPI).a);
					}
				}
				if (a >= 1.0) {
					ocolor = vec4(0.0, 0.0, 0.0, 1.0);
					overlayAlpha = 1.0;
				}
			}

		} else {
			if ((overlayOutlineWidth > 0.0) && (ocolor.a >= 1.0)) { //check voxel neighbors for edge
				vec3 vx = (overlayOutlineWidth ) / vec3(textureSize(overlay, 0));
				vec3 vxR = vec3(texPos.x+vx.x, texPos.y, texPos.z);
				vec3 vxL = vec3(texPos.x-vx.x, texPos.y, texPos.z);
				vec3 vxA = vec3(texPos.x, texPos.y+vx.y, texPos.z);
				vec3 vxP = vec3(texPos.x, texPos.y-vx.y, texPos.z);
				vec3 vxS = vec3(texPos.x, texPos.y, texPos.z+vx.z);
				vec3 vxI = vec3(texPos.x, texPos.y, texPos.z-vx.z);
				float a = 1.0;
				if (axCorSag != 2) {
					a = min(a, texture(overlay, vxR).a);
					a = min(a, texture(overlay, vxL).a);
				}
				if (axCorSag != 1) {
					a = min(a, texture(overlay, vxA).a);
					a = min(a, texture(overlay, vxP).a);
				}
				if (axCorSag != 0) {
					a = min(a, texture(overlay, vxS).a);
					a = min(a, texture(overlay, vxI).a);
				}
				if (a < 1.0) {
					ocolor = vec4(0.0, 0.0, 0.0, 1.0);
					overlayAlpha = 1.0;
				}
			}
		} //outline above threshold
	}

`,kFragSliceTail=`	ocolor.a *= overlayAlpha;
	vec4 dcolor = drawColor(texture(drawing, texPos).r, drawOpacity);
	if (dcolor.a > 0.0) {
		color.rgb = mix(color.rgb, dcolor.rgb, dcolor.a);
		color.a = max(drawOpacity, color.a);
	}
	if ((backgroundMasksOverlays > 0) && (background.a == 0.0))
		return;
	float a = color.a + ocolor.a * (1.0 - color.a); // premultiplied alpha
	if (a == 0.0) return;
	color.rgb = mix(color.rgb, ocolor.rgb, ocolor.a / a);
	color.a = a;
}`,fragSliceMMShader=kFragSliceHead+kFragSliceTail,fragSliceV1Shader=kFragSliceHead+`	if (ocolor.a > 0.0) {
		//https://gamedev.stackexchange.com/questions/102889/is-it-possible-to-convert-vec4-to-int-in-glsl-using-opengl-es
		uint alpha = uint(ocolor.a * 255.0);
		vec3 xyzFlip = vec3(float((uint(1) & alpha) > uint(0)), float((uint(2) & alpha) > uint(0)), float((uint(4) & alpha) > uint(0)));
		//convert from 0 and 1 to -1 and 1
		xyzFlip = (xyzFlip * 2.0) - 1.0;
		//https://math.stackexchange.com/questions/1905533/find-perpendicular-distance-from-point-to-line-in-3d
		//v1 principle direction of tensor for this voxel
		vec3 v1 = ocolor.rgb;
		//flips encode polarity to convert from 0..1 to -1..1 (27 bits vs 24 bit precision)
		v1 = normalize( v1 * xyzFlip);
		vec3 vxl = fract(texPos * vec3(textureSize(volume, 0))) - 0.5;
		//vxl coordinates now -0.5..+0.5 so 0,0,0 is origin
		vxl.x = -vxl.x;
		float t = dot(vxl,v1);
		vec3 P = t * v1;
		float dx = length(P-vxl);
		ocolor.a = 1.0 - smoothstep(0.2,0.25, dx);
		//if modulation was applied, use that to scale alpha not color:
		ocolor.a *= length(ocolor.rgb);
		ocolor.rgb = normalize(ocolor.rgb);
		//compute distance one half voxel closer to viewer:
		float pan = 0.5;
		if (axCorSag == 0)
			vxl.z -= pan;
		if (axCorSag == 1)
			vxl.y -= pan;
		if (axCorSag == 2)
			vxl.x += pan;
		t = dot(vxl,v1);
		P = t * v1;
		float dx2 = length(P-vxl);
		ocolor.rgb += (dx2-dx-(0.5 * pan)) * 1.0;
	}
`+kFragSliceTail,fragRectShader=`#version 300 es
#line 480
precision highp int;
precision highp float;
uniform vec4 lineColor;
out vec4 color;
void main() {
	color = lineColor;
}`,vertColorbarShader=`#version 300 es
#line 490
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform vec4 leftTopWidthHeight;
out vec2 vColor;
void main(void) {
	//convert pixel x,y space 1..canvasWidth,1..canvasHeight to WebGL 1..-1,-1..1
	vec2 frac;
	frac.x = (leftTopWidthHeight.x + (pos.x * leftTopWidthHeight.z)) / canvasWidthHeight.x; //0..1
	frac.y = 1.0 - ((leftTopWidthHeight.y + ((1.0 - pos.y) * leftTopWidthHeight.w)) / canvasWidthHeight.y); //1..0
	frac = (frac * 2.0) - 1.0;
	gl_Position = vec4(frac, 0.0, 1.0);
	vColor = pos.xy;
}`,fragColorbarShader=`#version 300 es
#line 506
precision highp int;
precision highp float;
uniform highp sampler2D colormap;
uniform float layer;
in vec2 vColor;
out vec4 color;
void main() {
	float nlayer = float(textureSize(colormap, 0).y);
	float fmap = (0.5 + layer) / nlayer;
	color = vec4(texture(colormap, vec2(vColor.x, fmap)).rgb, 1.0);
}`,vertRectShader=`#version 300 es
#line 520
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform vec4 leftTopWidthHeight;
void main(void) {
	//convert pixel x,y space 1..canvasWidth,1..canvasHeight to WebGL 1..-1,-1..1
	vec2 frac;
	frac.x = (leftTopWidthHeight.x + (pos.x * leftTopWidthHeight.z)) / canvasWidthHeight.x; //0..1
	frac.y = 1.0 - ((leftTopWidthHeight.y + ((1.0 - pos.y) * leftTopWidthHeight.w)) / canvasWidthHeight.y); //1..0
	frac = (frac * 2.0) - 1.0;
	gl_Position = vec4(frac, 0.0, 1.0);
}`,vertLineShader=`#version 300 es
#line 534
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform float thickness;
uniform vec4 startXYendXY;
void main(void) {
	vec2 posXY = mix(startXYendXY.xy, startXYendXY.zw, pos.x);
	vec2 dir = normalize(startXYendXY.xy - startXYendXY.zw);
	posXY += vec2(-dir.y, dir.x) * thickness * (pos.y - 0.5);
	posXY.x = (posXY.x) / canvasWidthHeight.x; //0..1
	posXY.y = 1.0 - (posXY.y / canvasWidthHeight.y); //1..0
	gl_Position = vec4((posXY * 2.0) - 1.0, 0.0, 1.0);
}`,vertLine3DShader=`#version 300 es
#line 534
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform float thickness;
uniform vec2 startXY;
uniform vec3 endXYZ; // transformed XYZ point
void main(void) {	
	vec2 posXY = mix(startXY.xy, endXYZ.xy, pos.x);
	vec2 startDiff = endXYZ.xy - startXY.xy;
	float startDistance = length(startDiff);
	vec2 diff = endXYZ.xy - posXY;
	float currentDistance = length(diff);
	vec2 dir = normalize(startXY.xy - endXYZ.xy);
	posXY += vec2(-dir.y, dir.x) * thickness * (pos.y - 0.5);
	posXY.x = (posXY.x) / canvasWidthHeight.x; //0..1
	posXY.y = 1.0 - (posXY.y / canvasWidthHeight.y); //1..0	
	float z = endXYZ.z * ( 1.0 - abs(currentDistance/startDistance)); 
	gl_Position = vec4((posXY * 2.0) - 1.0, z, 1.0);
}`,vertBmpShader=`#version 300 es
#line 549
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform vec4 leftTopWidthHeight;
out vec2 vUV;
void main(void) {
	//convert pixel x,y space 1..canvasWidth,1..canvasHeight to WebGL 1..-1,-1..1
	vec2 frac;
	frac.x = (leftTopWidthHeight.x + (pos.x * leftTopWidthHeight.z)) / canvasWidthHeight.x; //0..1
	frac.y = 1.0 - ((leftTopWidthHeight.y + ((1.0 - pos.y) * leftTopWidthHeight.w)) / canvasWidthHeight.y); //1..0
	frac = (frac * 2.0) - 1.0;
	gl_Position = vec4(frac, 0.0, 1.0);
	vUV = vec2(pos.x, 1.0 - pos.y);
}`,fragBmpShader=`#version 300 es
#line 565
precision highp int;
precision highp float;
uniform highp sampler2D bmpTexture;
in vec2 vUV;
out vec4 color;
void main() {
	color = texture(bmpTexture, vUV);
}`,vertFontShader=`#version 300 es
#line 576
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform vec4 leftTopWidthHeight;
uniform vec4 uvLeftTopWidthHeight;
out vec2 vUV;
void main(void) {
	//convert pixel x,y space 1..canvasWidth,1..canvasHeight to WebGL 1..-1,-1..1
	vec2 frac;
	frac.x = (leftTopWidthHeight.x + (pos.x * leftTopWidthHeight.z)) / canvasWidthHeight.x; //0..1
	frac.y = 1.0 - ((leftTopWidthHeight.y + ((1.0 - pos.y) * leftTopWidthHeight.w)) / canvasWidthHeight.y); //1..0
	frac = (frac * 2.0) - 1.0;
	gl_Position = vec4(frac, 0.0, 1.0);
	vUV = vec2(uvLeftTopWidthHeight.x + (pos.x * uvLeftTopWidthHeight.z), uvLeftTopWidthHeight.y  + ((1.0 - pos.y) * uvLeftTopWidthHeight.w) );
}`,fragFontShader=`#version 300 es
#line 593
precision highp int;
precision highp float;
uniform highp sampler2D fontTexture;
uniform vec4 fontColor;
uniform float screenPxRange;
in vec2 vUV;
out vec4 color;
float median(float r, float g, float b) {
	return max(min(r, g), min(max(r, g), b));
}
void main() {
	vec3 msd = texture(fontTexture, vUV).rgb;
	float sd = median(msd.r, msd.g, msd.b);
	float screenPxDistance = screenPxRange*(sd - 0.5);
	float opacity = clamp(screenPxDistance + 0.5, 0.0, 1.0);
	color = vec4(fontColor.rgb , fontColor.a * opacity);
}`,vertCircleShader=`#version 300 es
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform vec4 leftTopWidthHeight;
uniform vec4 uvLeftTopWidthHeight;
out vec2 vUV;
void main(void) {
	//convert pixel x,y space 1..canvasWidth,1..canvasHeight to WebGL 1..-1,-1..1
	vec2 frac;
	frac.x = (leftTopWidthHeight.x + (pos.x * leftTopWidthHeight.z)) / canvasWidthHeight.x; //0..1
	frac.y = 1.0 - ((leftTopWidthHeight.y + ((1.0 - pos.y) * leftTopWidthHeight.w)) / canvasWidthHeight.y); //1..0
	frac = (frac * 2.0) - 1.0;
	gl_Position = vec4(frac, 0.0, 1.0);
	vUV = pos.xy;
}`,fragCircleShader=`#version 300 es
precision highp int;
precision highp float;
uniform vec4 circleColor;
uniform float fillPercent;
in vec2 vUV;
out vec4 color;
void main() {
	/* Check if the pixel is inside the circle
		 and color it with a gradient. Otherwise, color it 
		 transparent   */
	float distance = length(vUV-vec2(0.5,0.5));
	if ( distance < 0.5 && distance >= (1.0 - fillPercent) / 2.0){
			color = vec4(circleColor.r,circleColor.g,circleColor.b,circleColor.a) ;			
	}else{
			color = vec4(0.0,0.0,0.0,0.0);
	}
}
`,vertOrientShader=`#version 300 es
#line 613
precision highp int;
precision highp float;
in vec3 vPos;
out vec2 TexCoord;
void main() {
	TexCoord = vPos.xy;
	gl_Position = vec4( (vPos.xy-vec2(0.5,0.5)) * 2.0, 0.0, 1.0);
}`,fragOrientShaderU=`#version 300 es
uniform highp usampler3D intensityVol;
`,fragOrientShaderI=`#version 300 es
uniform highp isampler3D intensityVol;
`,fragOrientShaderF=`#version 300 es
uniform highp sampler3D intensityVol;
`,fragOrientShaderAtlas=`#line 636
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform float layer;
uniform highp sampler2D colormap;
uniform lowp sampler3D blend3D;
uniform float opacity;
uniform vec4 xyzaFrac;
uniform mat4 mtx;
void main(void) {
	vec4 vx = vec4(TexCoord.x, TexCoord.y, coordZ, 1.0) * mtx;
	uint idx = uint(texture(intensityVol, vx.xyz).r);
	FragColor = vec4(0.0, 0.0, 0.0, 0.0);
	if (idx == uint(0))
		return;
	//idx = ((idx - uint(1)) % uint(100))+uint(1);
	float textureWidth = float(textureSize(colormap, 0).x);
	float fx = (float(idx)+0.5) / textureWidth;
	float nlayer = float(textureSize(colormap, 0).y);
	float y = ((2.0 * layer) + 1.5)/nlayer;
	FragColor = texture(colormap, vec2(fx, y)).rgba;
	float alpha = FragColor.a;
	FragColor.a *= opacity;
	if (xyzaFrac.a > 0.0) { //outline
		vx = vec4(TexCoord.x+xyzaFrac.x, TexCoord.y, coordZ, 1.0) * mtx;
		uint R = uint(texture(intensityVol, vx.xyz).r);
		vx = vec4(TexCoord.x-xyzaFrac.x, TexCoord.y, coordZ, 1.0) * mtx;
		uint L = uint(texture(intensityVol, vx.xyz).r);
		vx = vec4(TexCoord.x, TexCoord.y+xyzaFrac.y, coordZ, 1.0) * mtx;
		uint A = uint(texture(intensityVol, vx.xyz).r);
		vx = vec4(TexCoord.x, TexCoord.y-xyzaFrac.y, coordZ, 1.0) * mtx;
		uint P = uint(texture(intensityVol, vx.xyz).r);
		vx = vec4(TexCoord.x, TexCoord.y, coordZ+xyzaFrac.z, 1.0) * mtx;
		uint S = uint(texture(intensityVol, vx.xyz).r);
		vx = vec4(TexCoord.x, TexCoord.y, coordZ-xyzaFrac.z, 1.0) * mtx;
		uint I = uint(texture(intensityVol, vx.xyz).r);
		if ((idx != R) || (idx != L) || (idx != A) || (idx != P) || (idx != S) || (idx != I))
			FragColor.a = alpha * xyzaFrac.a;
	}
}`,fragOrientShader=`#line 691
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform float layer;
uniform float scl_slope;
uniform float scl_inter;
uniform float cal_max;
uniform float cal_min;
uniform float cal_maxNeg;
uniform float cal_minNeg;
uniform bool isAlphaThreshold;
uniform bool isAdditiveBlend;
uniform highp sampler2D colormap;
uniform lowp sampler3D blend3D;
uniform int modulation;
uniform highp sampler3D modulationVol;
uniform float opacity;
uniform mat4 mtx;
void main(void) {
	vec4 vx = vec4(TexCoord.xy, coordZ, 1.0) * mtx;
	if ((vx.x < 0.0) || (vx.x > 1.0) || (vx.y < 0.0) || (vx.y > 1.0) || (vx.z < 0.0) || (vx.z > 1.0)) {
		//set transparent if out of range
		//https://webglfundamentals.org/webgl/webgl-3d-textures-repeat-clamp.html
		FragColor = texture(blend3D, vec3(TexCoord.xy, coordZ));
		return;
	}
	float f = (scl_slope * float(texture(intensityVol, vx.xyz).r)) + scl_inter;
	float mn = cal_min;
	float mx = cal_max;
	if (isAlphaThreshold)
		mn = 0.0;
	float r = max(0.00001, abs(mx - mn));
	mn = min(mn, mx);
	float txl = mix(0.0, 1.0, (f - mn) / r);
	//https://stackoverflow.com/questions/5879403/opengl-texture-coordinates-in-pixel-space
	float nlayer = float(textureSize(colormap, 0).y);
	//each volume has two color maps:
	// (layer*2) = negative and (layer * 2) + 1 = postive
	float y = ((2.0 * layer) + 1.5)/nlayer;
	FragColor = texture(colormap, vec2(txl, y)).rgba;
	//negative colors
	mn = cal_minNeg;
	mx = cal_maxNeg;
	if (isAlphaThreshold)
		mx = 0.0;
	//if ((!isnan(cal_minNeg)) && ( f < mx)) {
	if ((cal_minNeg < cal_maxNeg) && ( f < mx)) {
		r = max(0.00001, abs(mx - mn));
		mn = min(mn, mx);
		txl = 1.0 - mix(0.0, 1.0, (f - mn) / r);
		y = ((2.0 * layer) + 0.5)/nlayer;
		FragColor = texture(colormap, vec2(txl, y));
	}
	if (layer > 0.7)
		FragColor.a = step(0.00001, FragColor.a);
	//if (modulation > 10)
	//	FragColor.a *= texture(modulationVol, vx.xyz).r;
	//	FragColor.rgb *= texture(modulationVol, vx.xyz).r;
	if (isAlphaThreshold) {
		if ((cal_minNeg != cal_maxNeg) && ( f < 0.0) && (f > cal_maxNeg))
			FragColor.a = pow(-f / -cal_maxNeg, 2.0);
		else if ((f > 0.0) && (cal_min > 0.0))
			FragColor.a *= pow(f / cal_min, 2.0); //issue435:  A = (V/X)**2
		//FragColor.g = 0.0;
	}
	if (modulation == 1) {
		FragColor.rgb *= texture(modulationVol, vx.xyz).r;
	} else if (modulation == 2) {
		FragColor.a = texture(modulationVol, vx.xyz).r;
	}
	FragColor.a *= opacity;
	if (layer < 1.0) return;
	vec4 prevColor = texture(blend3D, vec3(TexCoord.xy, coordZ));
	// https://en.wikipedia.org/wiki/Alpha_compositing
	float aout = FragColor.a + (1.0 - FragColor.a) * prevColor.a;
	if (aout <= 0.0) return;
	if (isAdditiveBlend)
		FragColor.rgb = ((FragColor.rgb * FragColor.a) + (prevColor.rgb * prevColor.a)) / aout;
	else
		FragColor.rgb = ((FragColor.rgb * FragColor.a) + (prevColor.rgb * prevColor.a * (1.0 - FragColor.a))) / aout;
	FragColor.a = aout;
}`,fragRGBOrientShader=`#line 773
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform float layer;
uniform float scl_slope;
uniform float scl_inter;
uniform float cal_max;
uniform float cal_min;
uniform highp sampler2D colormap;
uniform lowp sampler3D blend3D;
uniform float opacity;
uniform mat4 mtx;
uniform bool hasAlpha;
uniform int modulation;
uniform highp sampler3D modulationVol;
void main(void) {
	vec4 vx = vec4(TexCoord.xy, coordZ, 1.0) * mtx;
	uvec4 aColor = texture(intensityVol, vx.xyz);
	FragColor = vec4(float(aColor.r) / 255.0, float(aColor.g) / 255.0, float(aColor.b) / 255.0, float(aColor.a) / 255.0);
	if (modulation == 1)
		FragColor.rgb *= texture(modulationVol, vx.xyz).r;
	if (!hasAlpha) {
		FragColor.a = (FragColor.r * 0.21 + FragColor.g * 0.72 + FragColor.b * 0.07);
		//next line: we could binarize alpha, but see rendering of visible human
		//FragColor.a = step(0.01, FragColor.a);
	}
	if (modulation == 2)
		FragColor.a = texture(modulationVol, vx.xyz).r;
	FragColor.a *= opacity;
}`,vertGrowCutShader=`#version 300 es
#line 808
precision highp int;
precision highp float;
in vec3 vPos;
out vec2 TexCoord;
void main() {
	TexCoord = vPos.xy;
	gl_Position = vec4((vPos.x - 0.5) * 2.0, (vPos.y - 0.5) * 2.0, 0.0, 1.0);
}`,fragGrowCutShader=`#version 300 es
#line 829
	precision highp float;
	precision highp int;
	precision highp isampler3D;
	layout(location = 0) out int label;
	layout(location = 1) out int strength;
	in vec2 TexCoord;
	uniform int finalPass;
	uniform float coordZ;
	uniform lowp sampler3D in3D;
	uniform highp isampler3D backTex; // background
	uniform highp isampler3D labelTex; // label
	uniform highp isampler3D strengthTex; // strength
void main(void) {
	vec3 interpolatedTextureCoordinate = vec3(TexCoord.xy, coordZ);
	ivec3 size = textureSize(backTex, 0);
	ivec3 texelIndex = ivec3(floor(interpolatedTextureCoordinate * vec3(size)));
	int background = texelFetch(backTex, texelIndex, 0).r;
	label = texelFetch(labelTex, texelIndex, 0).r;
	strength = texelFetch(strengthTex, texelIndex, 0).r;
	for (int k = -1; k <= 1; k++) {
		for (int j = -1; j <= 1; j++) {
			for (int i = -1; i <= 1; i++) {
				if (i != 0 && j != 0 && k != 0) {
					ivec3 neighborIndex = texelIndex + ivec3(i,j,k);
					int neighborBackground = texelFetch(backTex, neighborIndex, 0).r;
					int neighborStrength = texelFetch(strengthTex, neighborIndex, 0).r;
					int strengthCost = abs(neighborBackground - background);
					int takeoverStrength = neighborStrength - strengthCost;
					if (takeoverStrength > strength) {
						strength = takeoverStrength;
						label = texelFetch(labelTex, neighborIndex, 0).r;
					}
				}
			}
		}
	}
	if (finalPass < 1)
		return;
	int ok = 1;
	ivec4 labelCount = ivec4(0,0,0,0);
	for (int k = -1; k <= 1; k++)
		for (int j = -1; j <= 1; j++)
			for (int i = -1; i <= 1; i++) {
				ivec3 neighborIndex = texelIndex + ivec3(i,j,k);
				int ilabel = texelFetch(labelTex, neighborIndex, 0).r;
				if ((ilabel < 0) || (ilabel > 3))
					ok = 0;
				else
					labelCount[ilabel]++;
			}
	if (ok != 1) {
		return;
	}
	int maxIdx = 0;
	for (int i = 1; i < 4; i++) {
		if (labelCount[i] > labelCount[maxIdx])
			maxIdx = i;
	}
	label = maxIdx;
}`,vertSurfaceShader=`#version 300 es
layout(location=0) in vec3 pos;
uniform mat4 mvpMtx;
void main(void) {
	gl_Position = mvpMtx * vec4(pos, 1.0);
}`,fragSurfaceShader=`#version 300 es
precision highp int;
precision highp float;
uniform vec4 surfaceColor;
out vec4 color;
void main() {
	color = surfaceColor;
}`,vertFiberShader=`#version 300 es
layout(location=0) in vec3 pos;
layout(location=1) in vec4 clr;
out vec4 vClr;
uniform mat4 mvpMtx;
void main(void) {
	gl_Position = mvpMtx * vec4(pos, 1.0);
	vClr = clr;
}`,fragFiberShader=`#version 300 es
precision highp int;
precision highp float;
in vec4 vClr;
out vec4 color;
uniform float opacity;
void main() {
	color = vec4(vClr.rgb, opacity);
}`,vertMeshShader=`#version 300 es
layout(location=0) in vec3 pos;
layout(location=1) in vec4 norm;
layout(location=2) in vec4 clr;
uniform mat4 mvpMtx;
//uniform mat4 modelMtx;
uniform mat4 normMtx;
out vec4 vClr;
out vec3 vN;
out vec4 vP;
void main(void) {
	vec3 lightPosition = vec3(0.0, 0.0, -10.0);
	vP = vec4(pos, 1.0);
	gl_Position = mvpMtx * vP;
	vN = normalize((normMtx * vec4(norm.xyz,1.0)).xyz);
	//vV = -vec3(modelMtx*vec4(pos,1.0));
	vClr = clr;
}`,fragMeshDepthShader=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
out vec4 color;
vec4 packFloatToVec4i(const float value) {
	const vec4 bitSh = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);
	const vec4 bitMsk = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);
	vec4 res = fract(value * bitSh);
	res -= res.xxyz * bitMsk;
	return res;
}
void main() {
	color = packFloatToVec4i(gl_FragCoord.z);
}`,fragMeshToonShader=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
float stepmix(float edge0, float edge1, float E, float x){
	float T = clamp(0.5 * (x - edge0 + E) / E, 0.0, 1.0);
	return mix(edge0, edge1, T);
}
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0);
	float ambient = 0.3;
	float diffuse = 0.6;
	float specular = 0.5;
	float shininess = 50.0;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float df = max(0.0, dot(n, l));
	float sf = pow(max(dot(reflect(l, n), r), 0.0), shininess);
	const float A = 0.1;
	const float B = 0.3;
	const float C = 0.6;
	const float D = 1.0;
	float E = fwidth(df);
	if (df > A - E && df < A + E) df = stepmix(A, B, E, df);
	else if (df > B - E && df < B + E) df = stepmix(B, C, E, df);
	else if (df > C - E && df < C + E) df = stepmix(C, D, E, df);
	else if (df < A) df = 0.0;
	else if (df < B) df = B;
	else if (df < C) df = C;
	else df = D;
	E = fwidth(sf);
	if (sf > 0.5 - E && sf < 0.5 + E)
		sf = smoothstep(0.5 - E, 0.5 + E, sf);
	else
		sf = step(0.5, sf);
	vec3 a = vClr.rgb * ambient;
	vec3 d = max(df, 0.0) * vClr.rgb * diffuse;
	color.rgb = a + d + (specular * sf);
	color.a = opacity;
}`,fragMeshOutlineShader=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float ambient = 0.3;
	float diffuse = 0.6;
	float specular = 0.25;
	float shininess = 10.0;
	float PenWidth = 0.6;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = dot(n, l);
	float view = abs(dot(n,r)); //with respect to viewer
	if (PenWidth < view) discard;
	vec3 a = vClr.rgb * ambient;
	vec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	color.rgb = a + d + s;
	color.a = opacity;
}`,fragMeshEdgeShader=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float diffuse = 1.0;
	float specular = 0.2;
	float shininess = 10.0;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 0.0, -5.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = max(dot(n, l), 0.0);
	vec3 d = lightNormDot * vClr.rgb * diffuse;
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	color = vec4(d + s, opacity);
}`,fragMeshDiffuseEdgeShader=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	float diffuse = 1.4;
	vec3 l = vec3(0.0, 0.0, -1.0);
	float lightNormDot = max(dot(normalize(vN), l), 0.0);
	color = vec4(lightNormDot * vClr.rgb * diffuse, opacity);
}`,fragMeshShader=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float ambient = 0.35;
	float diffuse = 0.5;
	float specular = 0.2;
	float shininess = 10.0;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = dot(n, l);
	vec3 a = vClr.rgb * ambient;
	vec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	color = vec4(a + d + s, opacity);
}`,fragMeshMatcapShader=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
uniform sampler2D matCap;
out vec4 color;
void main() {
	vec3 n = normalize(vN);
	vec2 uv = n.xy * 0.5 + 0.5;
	uv.y = 1.0 - uv.y;
	vec3 clr = texture(matCap,uv.xy).rgb * vClr.rgb;
	color = vec4(clr, opacity);
}`,fragMeshMatteShader=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	float ambient = 0.35;
	float diffuse = 0.6;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = dot(n, l);
	vec3 a = vClr.rgb * ambient;
	vec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;
	color = vec4(a + d, opacity);
}`,fragMeshHemiShader=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float ambient = 0.35;
	float diffuse = 0.5;
	float specular = 0.2;
	float shininess = 10.0;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = dot(n, l);
	vec3 up = vec3(0.0, 1.0, 0.0);
	float ax = dot(n, up) * 0.5 + 0.5;  //Shreiner et al. (2013) OpenGL Programming Guide, 8th Ed., p 388. ISBN-10: 0321773039
	vec3 upClr = vec3(1.0, 1.0, 0.95);
	vec3 downClr = vec3(0.4, 0.4, 0.6);
	vec3 a = vClr.rgb * ambient;
	a *= mix(downClr, upClr, ax);
	vec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	color = vec4(a + d + s, opacity);
}`,fragMeshShaderSHBlue=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
//Spherical harmonics constants
const float C1 = 0.429043;
const float C2 = 0.511664;
const float C3 = 0.743125;
const float C4 = 0.886227;
const float C5 = 0.247708;
//Spherical harmonics coefficients
// Ramamoorthi, R., and P. Hanrahan. 2001b. "An Efficient Representation for Irradiance Environment Maps." In Proceedings of SIGGRAPH 2001, pp. 497–500.
// https://github.com/eskimoblood/processingSketches/blob/master/data/shader/shinyvert.glsl
// https://github.com/eskimoblood/processingSketches/blob/master/data/shader/shinyvert.glsl
// Constants for Eucalyptus Grove lighting
const vec3 L00  = vec3( 0.3783264,  0.4260425,  0.4504587);
const vec3 L1m1 = vec3( 0.2887813,  0.3586803,  0.4147053);
const vec3 L10  = vec3( 0.0379030,  0.0295216,  0.0098567);
const vec3 L11  = vec3(-0.1033028, -0.1031690, -0.0884924);
const vec3 L2m2 = vec3(-0.0621750, -0.0554432, -0.0396779);
const vec3 L2m1 = vec3( 0.0077820, -0.0148312, -0.0471301);
const vec3 L20  = vec3(-0.0935561, -0.1254260, -0.1525629);
const vec3 L21  = vec3(-0.0572703, -0.0502192, -0.0363410);
const vec3 L22  = vec3( 0.0203348, -0.0044201, -0.0452180);
vec3 SH(vec3 vNormal) {
	vNormal = vec3(vNormal.x,vNormal.z,vNormal.y);
	vec3 diffuseColor = C1 * L22 * (vNormal.x * vNormal.x - vNormal.y * vNormal.y) +
	C3 * L20 * vNormal.z * vNormal.z +
	C4 * L00 -
	C5 * L20 +
	2.0 * C1 * L2m2 * vNormal.x * vNormal.y +
	2.0 * C1 * L21  * vNormal.x * vNormal.z +
	2.0 * C1 * L2m1 * vNormal.y * vNormal.z +
	2.0 * C2 * L11  * vNormal.x +
	2.0 * C2 * L1m1 * vNormal.y +
	2.0 * C2 * L10  * vNormal.z;
	return diffuseColor;
}
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float ambient = 0.3;
	float diffuse = 0.6;
	float specular = 0.1;
	float shininess = 10.0;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	vec3 a = vClr.rgb * ambient;
	vec3 d = vClr.rgb * diffuse * SH(-reflect(n, vec3(l.x, l.y, -l.z)) );
	color = vec4(a + d + s, opacity);
}`,vertFlatMeshShader=`#version 300 es
layout(location=0) in vec3 pos;
layout(location=1) in vec4 norm;
layout(location=2) in vec4 clr;
uniform mat4 mvpMtx;
//uniform mat4 modelMtx;
uniform mat4 normMtx;
out vec4 vClr;
flat out vec3 vN;
void main(void) {
	gl_Position = mvpMtx * vec4(pos, 1.0);
	vN = normalize((normMtx * vec4(norm.xyz,1.0)).xyz);
	//vV = -vec3(modelMtx*vec4(pos,1.0));
	vClr = clr;
}`,fragFlatMeshShader=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
flat in vec3 vN;
out vec4 color;
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float ambient = 0.35;
	float diffuse = 0.5;
	float specular = 0.2;
	float shininess = 10.0;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = dot(n, l);
	vec3 a = vClr.rgb * ambient;
	vec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	color = vec4(a + d + s, opacity);
}`,fragVolumePickingShader=`#version 300 es
#line 1260
//precision highp int;
precision highp float;
uniform vec3 rayDir;
uniform vec3 volScale;
uniform vec3 texVox;
uniform vec4 clipPlane;
uniform highp sampler3D volume, overlay;
uniform float overlays;
uniform mat4 matRAS;
uniform mat4 mvpMtx;
uniform float drawOpacity, renderOverlayBlend;
uniform highp sampler3D drawing;
uniform highp sampler2D colormap;
uniform int backgroundMasksOverlays;
in vec3 vColor;
out vec4 fColor;
`+kRenderFunc+`
void main() {
	int id = 254;
	vec3 start = vColor;
	gl_FragDepth = 0.0;
	fColor = vec4(0.0, 0.0, 0.0, 0.0); //assume no hit: ID = 0
	float fid = float(id & 255)/ 255.0;
	vec3 backPosition = GetBackPosition(start);
	vec3 dir = backPosition - start;
	float len = length(dir);
	float lenVox = length((texVox * start) - (texVox * backPosition));
	if ((lenVox < 0.5) || (len > 3.0)) return;//discard; //length limit for parallel rays
	float sliceSize = len / lenVox; //e.g. if ray length is 1.0 and traverses 50 voxels, each voxel is 0.02 in unit cube
	float stepSize = sliceSize; //quality: larger step is faster traversal, but fewer samples
	float opacityCorrection = stepSize/sliceSize;
	dir = normalize(dir);
	vec4 samplePos = vec4(start.xyz, 0.0); //ray position
	float lenNoClip = len;
	bool isClip = false;
	vec4 clipPos = applyClip(dir, samplePos, len, isClip);
	if (isClip) fColor = vec4(samplePos.xyz, 253.0 / 255.0); //assume no hit: ID = 0
	//start: OPTIONAL fast pass: rapid traversal until first hit
	float stepSizeFast = sliceSize * 1.9;
	vec4 deltaDirFast = vec4(dir.xyz * stepSizeFast, stepSizeFast);
	while (samplePos.a <= len) {
		float val = texture(volume, samplePos.xyz).a;
		if (val > 0.01) {
			fColor = vec4(samplePos.rgb, fid);
			gl_FragDepth = frac2ndc(samplePos.xyz);
			break;
		}
		samplePos += deltaDirFast; //advance ray position
	}
	//end: fast pass
	if ((overlays < 1.0) || (backgroundMasksOverlays > 0)) {
		return; //background hit, no overlays
	}
	//overlay pass
	len = min(lenNoClip, samplePos.a); //only find overlay closer than background
	samplePos = vec4(start.xyz, 0.0); //ray position
	while (samplePos.a <= len) {
		float val = texture(overlay, samplePos.xyz).a;
		if (val > 0.01) {
			fColor = vec4(samplePos.rgb, fid);
			gl_FragDepth = frac2ndc(samplePos.xyz);
			return;
		}
		samplePos += deltaDirFast; //advance ray position
	}
	//if (fColor.a == 0.0) discard; //no hit in either background or overlays
	//you only get here if there is a hit with the background that is closer than any overlay
}`,vertOrientCubeShader=`#version 300 es
// an attribute is an input (in) to a vertex shader.
// It will receive data from a buffer
layout(location=0)  in vec3 a_position;
layout(location=1)  in vec3 a_color;
// A matrix to transform the positions by
uniform mat4 u_matrix;
out vec3 vColor;
// all shaders have a main function
void main() {
	// Multiply the position by the matrix.
	vec4 pos = vec4(a_position, 1.0);
	gl_Position = u_matrix * vec4(pos);
	vColor = a_color;
}
`,fragOrientCubeShader=`#version 300 es
precision highp float;
uniform vec4 u_color;
in vec3 vColor;
out vec4 outColor;
void main() {
	outColor = vec4(vColor, 1.0);
}`,vertPassThroughShader=`#version 300 es
#line 1359
precision highp int;
precision highp float;
in vec3 vPos;
out vec2 TexCoord;
void main() {
	TexCoord = vPos.xy;
	vec2 viewCoord = (vPos.xy - 0.5) * 2.0;
	gl_Position = vec4((vPos.xy - 0.5) * 2.0, 0.0, 1.0);
}`,fragPassThroughShader=`#version 300 es
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform lowp sampler3D in3D;
void main(void) {
 FragColor = texture(in3D, vec3(TexCoord.xy, coordZ));
}`,blurVertShader=`#version 300 es
#line 286
precision highp int;
precision highp float;
in vec3 vPos;
out vec2 TexCoord;
void main() {
    TexCoord = vPos.xy;
    gl_Position = vec4( (vPos.xy-vec2(0.5,0.5))* 2.0, 0.0, 1.0);
}`,blurFragShader=`#version 300 es
#line 298
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform float dX;
uniform float dY;
uniform float dZ;
uniform highp sampler3D intensityVol;
void main(void) {
 vec3 vx = vec3(TexCoord.xy, coordZ);
 vec4 samp = texture(intensityVol,vx+vec3(+dX,+dY,+dZ));
 samp += texture(intensityVol,vx+vec3(+dX,+dY,-dZ));
 samp += texture(intensityVol,vx+vec3(+dX,-dY,+dZ));
 samp += texture(intensityVol,vx+vec3(+dX,-dY,-dZ));
 samp += texture(intensityVol,vx+vec3(-dX,+dY,+dZ));
 samp += texture(intensityVol,vx+vec3(-dX,+dY,-dZ));
 samp += texture(intensityVol,vx+vec3(-dX,-dY,+dZ));
 samp += texture(intensityVol,vx+vec3(-dX,-dY,-dZ));
 FragColor = samp*0.125;
}`,sobelFragShader=`#version 300 es
#line 323
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform float dX;
uniform float dY;
uniform float dZ;
uniform highp sampler3D intensityVol;
void main(void) {
  vec3 vx = vec3(TexCoord.xy, coordZ);
  //Neighboring voxels 'T'op/'B'ottom, 'A'nterior/'P'osterior, 'R'ight/'L'eft
  float TAR = texture(intensityVol,vx+vec3(+dX,+dY,+dZ)).r;
  float TAL = texture(intensityVol,vx+vec3(+dX,+dY,-dZ)).r;
  float TPR = texture(intensityVol,vx+vec3(+dX,-dY,+dZ)).r;
  float TPL = texture(intensityVol,vx+vec3(+dX,-dY,-dZ)).r;
  float BAR = texture(intensityVol,vx+vec3(-dX,+dY,+dZ)).r;
  float BAL = texture(intensityVol,vx+vec3(-dX,+dY,-dZ)).r;
  float BPR = texture(intensityVol,vx+vec3(-dX,-dY,+dZ)).r;
  float BPL = texture(intensityVol,vx+vec3(-dX,-dY,-dZ)).r;
  vec4 gradientSample = vec4 (0.0, 0.0, 0.0, 0.0);
  gradientSample.r =   BAR+BAL+BPR+BPL -TAR-TAL-TPR-TPL;
  gradientSample.g =  TPR+TPL+BPR+BPL -TAR-TAL-BAR-BAL;
  gradientSample.b =  TAL+TPL+BAL+BPL -TAR-TPR-BAR-BPR;
  gradientSample.a = (abs(gradientSample.r)+abs(gradientSample.g)+abs(gradientSample.b))*0.29;
  gradientSample.rgb = normalize(gradientSample.rgb);
  gradientSample.rgb =  (gradientSample.rgb * 0.5)+0.5;
  FragColor = gradientSample;
}`,orientCube=new Float32Array([-1,-1,-1,.28,.28,.28,-1,-1,-1,.28,.28,.28,-1,1,-1,.28,.28,.28,1,-1,-1,.28,.28,.28,1,1,-1,.28,.28,.28,1,1,-1,.28,.28,.28,-1,-1,1,.8,.8,.8,-1,-1,1,.8,.8,.8,1,-1,1,.8,.8,.8,-1,1,1,.8,.8,.8,1,1,1,.8,.8,.8,1,1,1,.8,.8,.8,-1,1,-1,0,0,.74,-1,1,-1,0,0,.74,-1,1,1,0,0,.74,1,1,-1,0,0,.74,1,1,1,0,0,.74,1,1,1,0,0,.74,-1,-1,-1,.42,0,.42,-1,-1,-1,.42,0,.42,1,-1,-1,.42,0,.42,-1,-1,1,.42,0,.42,1,-1,1,.42,0,.42,1,-1,1,.42,0,.42,-1,-1,-1,.64,0,0,-1,-1,-1,.64,0,0,-1,-1,1,.64,0,0,-1,1,-1,.64,0,0,-1,1,1,.64,0,0,-1,1,1,.64,0,0,1,-1,-1,0,.5,0,1,-1,-1,0,.5,0,1,1,-1,0,.5,0,1,-1,1,0,.5,0,1,1,1,0,.5,0,1,1,1,0,.5,0,-.45,1,-.8,0,0,0,-.45,1,-.8,0,0,0,-.45,1,.8,0,0,0,-.25,1,-.8,0,0,0,-.25,1,.8,0,0,0,-.25,1,.8,0,0,0,-.25,1,.6,0,0,0,-.25,1,.6,0,0,0,-.25,1,.8,0,0,0,.45,1,.6,0,0,0,.25,1,.8,0,0,0,.25,1,.8,0,0,0,.25,1,.1,0,0,0,.25,1,.1,0,0,0,.25,1,.6,0,0,0,.45,1,.1,0,0,0,.45,1,.6,0,0,0,.45,1,.6,0,0,0,-.25,1,-.1,0,0,0,-.25,1,-.1,0,0,0,-.25,1,.1,0,0,0,.25,1,-.1,0,0,0,.45,1,.1,0,0,0,.45,1,.1,0,0,0,.45,-1,-.8,0,0,0,.45,-1,-.8,0,0,0,.05,-1,.8,0,0,0,.25,-1,-.8,0,0,0,-.15,-1,.8,0,0,0,-.15,-1,.8,0,0,0,-.25,-1,-.8,0,0,0,-.25,-1,-.8,0,0,0,.05,-1,.8,0,0,0,-.45,-1,-.8,0,0,0,-.15,-1,.8,0,0,0,-.15,-1,.8,0,0,0,.13,-1,-.3,0,0,0,.13,-1,-.3,0,0,0,.07,-1,-.1,0,0,0,-.33,-1,-.3,0,0,0,-.27,-1,-.1,0,0,0,-.27,-1,-.1,0,0,0,-.45,.6,1,0,0,0,-.45,.6,1,0,0,0,-.45,.4,1,0,0,0,-.25,.8,1,0,0,0,-.25,.4,1,0,0,0,-.25,.4,1,0,0,0,-.25,.8,1,0,0,0,-.25,.8,1,0,0,0,-.25,.6,1,0,0,0,.25,.8,1,0,0,0,.45,.6,1,0,0,0,.45,.6,1,0,0,0,.25,.8,1,0,0,0,.25,.8,1,0,0,0,.25,-.1,1,0,0,0,.45,.6,1,0,0,0,.45,.1,1,0,0,0,.45,.1,1,0,0,0,-.25,.1,1,0,0,0,-.25,.1,1,0,0,0,-.45,-.1,1,0,0,0,.25,.1,1,0,0,0,.25,-.1,1,0,0,0,.25,-.1,1,0,0,0,-.45,-.1,1,0,0,0,-.45,-.1,1,0,0,0,-.45,-.6,1,0,0,0,-.25,-.1,1,0,0,0,-.25,-.8,1,0,0,0,-.25,-.8,1,0,0,0,-.25,-.6,1,0,0,0,-.25,-.6,1,0,0,0,-.25,-.8,1,0,0,0,.45,-.6,1,0,0,0,.25,-.8,1,0,0,0,.25,-.8,1,0,0,0,.25,-.4,1,0,0,0,.25,-.4,1,0,0,0,.25,-.6,1,0,0,0,.45,-.4,1,0,0,0,.45,-.6,1,0,0,0,.45,-.6,1,0,0,0,-.1,-.8,-1,0,0,0,-.1,-.8,-1,0,0,0,-.1,.8,-1,0,0,0,.1,-.8,-1,0,0,0,.1,.8,-1,0,0,0,.1,.8,-1,0,0,0,-1,-.45,-.8,0,0,0,-1,-.45,-.8,0,0,0,-1,-.45,.8,0,0,0,-1,-.25,-.8,0,0,0,-1,-.25,.8,0,0,0,-1,-.25,.8,0,0,0,-1,-.25,-.8,0,0,0,-1,-.25,-.8,0,0,0,-1,-.25,-.6,0,0,0,-1,.45,-.8,0,0,0,-1,.45,-.6,0,0,0,-1,.45,-.6,0,0,0,1,.45,-.8,0,0,0,1,.45,-.8,0,0,0,1,.45,.8,0,0,0,1,.25,-.8,0,0,0,1,.25,.8,0,0,0,1,.25,.8,0,0,0,1,.25,.6,0,0,0,1,.25,.6,0,0,0,1,.25,.8,0,0,0,1,-.45,.6,0,0,0,1,-.25,.8,0,0,0,1,-.25,.8,0,0,0,1,-.25,.1,0,0,0,1,-.25,.1,0,0,0,1,-.25,.6,0,0,0,1,-.45,.1,0,0,0,1,-.45,.6,0,0,0,1,-.45,.6,0,0,0,1,.25,-.1,0,0,0,1,.25,-.1,0,0,0,1,.25,.1,0,0,0,1,-.25,-.1,0,0,0,1,-.45,.1,0,0,0,1,-.45,.1,0,0,0,1,-.25,-.8,0,0,0,1,-.25,-.8,0,0,0,1,-.05,-.1,0,0,0,1,-.45,-.8,0,0,0,1,-.25,-.1,0,0,0,1,-.25,-.1,0,0,0]),_NiivueObject3D=class{constructor(n,u,p,v,d=null,g=null){__publicField(this,"sphereIdx",[]),__publicField(this,"sphereVtx",[]),__publicField(this,"renderShaders",[]),__publicField(this,"isVisible",!0),__publicField(this,"isPickable",!0),__publicField(this,"vertexBuffer"),__publicField(this,"indexCount"),__publicField(this,"indexBuffer"),__publicField(this,"vao"),__publicField(this,"mode"),__publicField(this,"glFlags",0),__publicField(this,"id"),__publicField(this,"colorId"),__publicField(this,"modelMatrix",create$3()),__publicField(this,"scale",[1,1,1]),__publicField(this,"position",[0,0,0]),__publicField(this,"rotation",[0,0,0]),__publicField(this,"rotationRadians",0),__publicField(this,"extentsMin",[]),__publicField(this,"extentsMax",[]),__publicField(this,"furthestVertexFromOrigin"),__publicField(this,"originNegate"),__publicField(this,"fieldOfViewDeObliqueMM"),__publicField(this,"mm"),this.vertexBuffer=u,this.indexCount=v,this.indexBuffer=d,this.vao=g,this.mode=p,this.id=n,this.colorId=[(n>>0&255)/255,(n>>8&255)/255,(n>>16&255)/255,(n>>24&255)/255]}};__publicField(_NiivueObject3D,"BLEND",1);__publicField(_NiivueObject3D,"CULL_FACE",2);__publicField(_NiivueObject3D,"CULL_FRONT",4);__publicField(_NiivueObject3D,"CULL_BACK",8);__publicField(_NiivueObject3D,"ENABLE_DEPTH_TEST",16);__publicField(_NiivueObject3D,"generateCrosshairs",function(l,n,u,p,v,d,g=20,_=0){const C=_NiivueObject3D.generateCrosshairsGeometry(l,u,p,v,d,g,_);return new _NiivueObject3D(n,C.vertexBuffer,l.TRIANGLES,C.indexCount,C.indexBuffer,C.vao)});__publicField(_NiivueObject3D,"generateCrosshairsGeometry",function(l,n,u,p,v,d=20,g=0){const _=[],C=[],E=v*g;if(E<=0){let e=fromValues$2(u[0],n[1],n[2]),P=fromValues$2(p[0],n[1],n[2]);_NiivueObject3D.makeCylinder(_,C,e,P,v,d),e=fromValues$2(n[0],u[1],n[2]),P=fromValues$2(n[0],p[1],n[2]),_NiivueObject3D.makeCylinder(_,C,e,P,v,d),e=fromValues$2(n[0],n[1],u[2]),P=fromValues$2(n[0],n[1],p[2]),_NiivueObject3D.makeCylinder(_,C,e,P,v,d)}else{let e=fromValues$2(u[0],n[1],n[2]),P=fromValues$2(n[0]-E,n[1],n[2]);_NiivueObject3D.makeCylinder(_,C,e,P,v,d,!1),e=fromValues$2(n[0]+E,n[1],n[2]),P=fromValues$2(p[0],n[1],n[2]),_NiivueObject3D.makeCylinder(_,C,e,P,v,d,!1),e=fromValues$2(n[0],u[1],n[2]),P=fromValues$2(n[0],n[1]-E,n[2]),_NiivueObject3D.makeCylinder(_,C,e,P,v,d,!1),e=fromValues$2(n[0],n[1]+E,n[2]),P=fromValues$2(n[0],p[1],n[2]),_NiivueObject3D.makeCylinder(_,C,e,P,v,d,!1),e=fromValues$2(n[0],n[1],u[2]),P=fromValues$2(n[0],n[1],n[2]-E),_NiivueObject3D.makeCylinder(_,C,e,P,v,d,!1),e=fromValues$2(n[0],n[1],n[2]+E),P=fromValues$2(n[0],n[1],p[2]),_NiivueObject3D.makeCylinder(_,C,e,P,v,d,!1)}const w=l.createBuffer();if(w===null)throw new Error("could not instantiate vertex buffer");l.bindBuffer(l.ARRAY_BUFFER,w),l.bufferData(l.ARRAY_BUFFER,new Float32Array(_),l.STATIC_DRAW);const m=l.createBuffer();if(m===null)throw new Error("could not instantiate index buffer");l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,m),l.bufferData(l.ELEMENT_ARRAY_BUFFER,new Uint32Array(C),l.STATIC_DRAW);const y=l.createVertexArray();return l.bindVertexArray(y),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,m),l.bindBuffer(l.ARRAY_BUFFER,w),l.enableVertexAttribArray(0),l.vertexAttribPointer(0,3,l.FLOAT,!1,0,0),l.bindVertexArray(null),{vertexBuffer:w,indexBuffer:m,indexCount:C.length,vao:y}});__publicField(_NiivueObject3D,"getFirstPerpVector",function(l){const n=fromValues$2(0,0,0);return l[0]===0?n[0]=1:l[1]===0?n[1]=1:l[2]===0?n[2]=1:(n[0]=l[2],n[1]=l[2],n[2]=-(l[0]+l[1]),normalize$1(n,n)),n});__publicField(_NiivueObject3D,"subdivide",function(l,n){let u=l.length/3,p=n.length/3;const v=p,d=create$2(),g=create$2();for(let _=0;_<v;_++){const C=n[_*3+0],E=n[_*3+1],w=n[_*3+2],m=fromValues$2(l[C*3+0],l[C*3+1],l[C*3+2]),y=fromValues$2(l[E*3+0],l[E*3+1],l[E*3+2]),e=fromValues$2(l[w*3+0],l[w*3+1],l[w*3+2]);add$1(d,m,y),normalize$1(g,d),l.push(...g),add$1(d,y,e),normalize$1(g,d),l.push(...g),add$1(d,m,e),normalize$1(g,d),l.push(...g);let P=[u,u+1,u+2];n.push(...P),P=[C,u,u+2],n.push(...P),P=[u,E,u+1],n.push(...P),n[_*3+0]=u+2,n[_*3+1]=u+1,n[_*3+2]=w,p=p+3,u=u+3}});__publicField(_NiivueObject3D,"weldVertices",function(l,n){const u=l.length/3;let p=0;const v=new Int32Array(u);for(let _=0;_<u-1;_++){if(v[_]!==0)continue;v[_]=p;let C=_*3;const E=l[C],w=l[C+1],m=l[C+2];for(let y=_+1;y<u;y++)C+=3,E===l[C]&&w===l[C+1]&&m===l[C+2]&&(v[y]=p);p++}if(p===u)return l;const d=n.length;for(let _=0;_<d;_++)n[_]=v[n[_]];const g=l.slice(0,p*3-1);for(let _=0;_<u-1;_++){const C=_*3,E=v[_]*3;g[E]=l[C],g[E+1]=l[C+1],g[E+2]=l[C+2]}return g});__publicField(_NiivueObject3D,"makeSphere",function(l,n,u,p=[0,0,0]){let v=[0,0,1,.894,0,.447,.276,.851,.447,-.724,.526,.447,-.724,-.526,.447,.276,-.851,.447,.724,.526,-.447,-.276,.851,-.447,-.894,0,-.447,-.276,-.851,-.447,.724,-.526,-.447,0,0,-1];const d=[0,1,2,0,2,3,0,3,4,0,4,5,0,5,1,7,6,11,8,7,11,9,8,11,10,9,11,6,10,11,6,2,1,7,3,2,8,4,3,9,5,4,10,1,5,6,7,2,7,8,3,8,9,4,9,10,5,10,6,1];_NiivueObject3D.subdivide(v,d),_NiivueObject3D.subdivide(v,d),v=_NiivueObject3D.weldVertices(v,d);for(let E=0;E<v.length;E++)v[E]=v[E]*u;const g=v.length/3;let _=0;for(let E=0;E<g;E++)v[_]=v[_]+p[0],_++,v[_]=v[_]+p[1],_++,v[_]=v[_]+p[2],_++;const C=Math.floor(l.length/3);for(let E=0;E<d.length;E++)d[E]=d[E]+C;n.push(...d),l.push(...v)});__publicField(_NiivueObject3D,"makeCylinder",function(l,n,u,p,v,d=20,g=!0){d<3&&(d=3);const _=create$2();subtract$1(_,p,u),normalize$1(_,_);const C=_NiivueObject3D.getFirstPerpVector(_),E=create$2();cross(E,_,C),normalize$1(E,E);let w=2*d,m=2*d;g&&(m+=2*d,w+=2);const y=Math.floor(l.length/3),e=new Uint32Array(m*3),P=new Float32Array(w*3);function O(H,G){P[H*3+0]=G[0],P[H*3+1]=G[1],P[H*3+2]=G[2]}function U(H,G,Y,X){e[H*3+0]=G+y,e[H*3+1]=Y+y,e[H*3+2]=X+y}const W=2*d,V=W+1;g&&(O(W,u),O(V,p));const $=create$2(),b=create$2();for(let H=0;H<d;H++){const G=Math.cos(H/d*2*Math.PI),Y=Math.sin(H/d*2*Math.PI);$[0]=v*(G*C[0]+Y*E[0]),$[1]=v*(G*C[1]+Y*E[1]),$[2]=v*(G*C[2]+Y*E[2]),add$1(b,u,$),O(H,b),add$1(b,p,$),O(H+d,b);let X=0;H<d-1&&(X=H+1),U(H*2,H,X,H+d),U(H*2+1,X,X+d,H+d),g&&(U(d*2+H,H,W,X),U(d*2+H+d,V,H+d,X+d))}n.push(...e),l.push(...P)});__publicField(_NiivueObject3D,"makeColoredCylinder",function(l,n,u,p,v,d,g=[192,0,0,255],_=20,C=!1){let E=l.length/3;_NiivueObject3D.makeCylinder(l,n,p,v,d,_,C),E=l.length/3-E;const w=[];for(let m=0;m<E*4-1;m+=4)w[m]=g[0],w[m+1]=g[1],w[m+2]=g[2],w[m+3]=g[3];u.push(...w)});__publicField(_NiivueObject3D,"makeColoredSphere",function(l,n,u,p,v=[0,0,0],d=[0,0,192,255]){let g=l.length/3;_NiivueObject3D.makeSphere(l,n,p,v),g=l.length/3-g;const _=[];for(let C=0;C<g*4-1;C+=4)_[C]=d[0],_[C+1]=d[1],_[C+2]=d[2],_[C+3]=d[3];u.push(..._)});var NiivueObject3D=_NiivueObject3D,cmaps_exports={};__export$1(cmaps_exports,{$itksnap:()=>itksnap_default,$slicer3d:()=>slicer3d_default,actc:()=>actc_default,afni_blues_inv:()=>afni_blues_inv_default,afni_reds_inv:()=>afni_reds_inv_default,bcgwhw:()=>bcgwhw_default,bcgwhw_dark:()=>bcgwhw_dark_default,blue:()=>blue_default,blue2cyan:()=>blue2cyan_default,blue2magenta:()=>blue2magenta_default,blue2red:()=>blue2red_default,bluegrn:()=>bluegrn_default,bone:()=>bone_default,bronze:()=>bronze_default,cet_l17:()=>cet_l17_default,cividis:()=>cividis_default,cool:()=>cool_default,copper:()=>copper_default,copper2:()=>copper2_default,ct_airways:()=>ct_airways_default,ct_artery:()=>ct_artery_default,ct_bones:()=>ct_bones_default,ct_brain:()=>ct_brain_default,ct_brain_gray:()=>ct_brain_gray_default,ct_cardiac:()=>ct_cardiac_default,ct_head:()=>ct_head_default,ct_kidneys:()=>ct_kidneys_default,ct_liver:()=>ct_liver_default,ct_muscles:()=>ct_muscles_default,ct_scalp:()=>ct_scalp_default,ct_skull:()=>ct_skull_default,ct_soft:()=>ct_soft_default,ct_soft_tissue:()=>ct_soft_tissue_default,ct_surface:()=>ct_surface_default,ct_vessels:()=>ct_vessels_default,ct_w_contrast:()=>ct_w_contrast_default,cubehelix:()=>cubehelix_default,electric_blue:()=>electric_blue_default,freesurfer:()=>freesurfer_default,ge_color:()=>ge_color_default,gold:()=>gold_default,gray:()=>gray_default,green:()=>green_default,green2cyan:()=>green2cyan_default,green2orange:()=>green2orange_default,hot:()=>hot_default,hotiron:()=>hotiron_default,hsv:()=>hsv_default,inferno:()=>inferno_default,jet:()=>jet_default,linspecer:()=>linspecer_default,magma:()=>magma_default,mako:()=>mako_default,nih:()=>nih_default,plasma:()=>plasma_default,random:()=>random_default,red:()=>red_default,redyell:()=>redyell_default,rocket:()=>rocket_default,roi_i256:()=>roi_i256_default,surface:()=>surface_default,turbo:()=>turbo_default,violet:()=>violet_default,viridis:()=>viridis_default,warm:()=>warm_default,winter:()=>winter_default,x_rain:()=>x_rain_default});var itksnap_default={R:[0,255,0,0,255,0,255,255,0,205,210,102,0,0,46,255,106,221,233,165,255,147,218,75,255,60,255,255,218,0,188,255,255,222,127,139,124,255,70,0,238,238,240,245,184,32,255,25,112,34,248,245,255,144,173,65,255,250,128,50,244,255,123,255,173,255,127,255,143,220,253,255,0,0,128,255,250,148,178,255,135,100,240,250,255,107,135,0,139,245,186,255,255,0,210,255,47,72,175,128,176,255,139,240,255,216,119,219,72,255,199,154,189,240,230,0,85,64,153,205,250,95,0,255,224,176,138,30,240,152,160],G:[0,0,255,0,255,255,0,239,0,133,180,205,0,139,139,228,90,160,150,42,250,112,112,0,182,179,235,228,165,128,143,105,218,184,255,69,252,255,130,100,130,232,255,222,134,178,20,25,128,139,248,255,160,238,255,105,99,240,0,205,164,255,104,165,216,192,255,140,188,20,245,250,206,255,0,250,128,0,34,127,206,149,230,235,245,142,206,0,0,245,85,228,222,191,105,248,79,61,238,128,224,240,0,255,215,191,136,112,209,0,21,205,183,248,230,250,107,224,50,92,250,158,128,69,255,196,43,144,128,251,82],B:[0,0,0,255,0,255,255,213,205,63,140,170,128,139,87,225,205,221,122,42,250,219,214,130,193,113,205,196,32,128,143,180,185,135,0,19,0,224,180,0,238,170,240,179,11,170,147,112,144,34,255,250,122,144,47,225,71,230,0,50,96,240,238,0,230,203,212,0,143,60,230,240,209,127,128,205,114,211,34,80,235,237,140,215,238,35,250,139,139,220,211,181,173,255,30,220,79,139,238,0,230,245,0,255,0,216,153,147,204,255,133,50,107,255,250,154,47,208,204,92,210,160,0,0,255,222,226,255,128,152,45],A:[0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],I:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130]},slicer3d_default={labels:["background","tissue","bone","skin","connective tissue","blood","organ","mass","muscle","foreign object","waste","teeth","fat","gray matter","white matter","nerve","vein","artery","capillary","ligament","tendon","cartilage","meniscus","lymph node","lymphatic vessel","cerebro-spinal fluid","bile","urine","feces","gas","fluid","edema","bleeding","necrosis","clot","embolism","head","central nervous system","brain","gray matter of brain","telencephalon","cerebral cortex","right frontal lobe","left frontal lobe","right temporal lobe","left temporal lobe","right parietal lobe","left parietal lobe","right occipital lobe","left occipital lobe","right insular lobe","left insular lobe","right limbic lobe","left limbic lobe","right striatum","left striatum","right caudate nucleus","left caudate nucleus","right putamen","left putamen","right pallidum","left pallidum","right amygdaloid complex","left amygdaloid complex","diencephalon","thalamus","right thalamus","left thalamus","pineal gland","midbrain","substantia nigra","right substantia nigra","left substantia nigra","cerebral white matter","right superior longitudinal fasciculus","left superior longitudinal fasciculus","right inferior longitudinal fasciculus","left inferior longitudinal fasciculus","right arcuate fasciculus","left arcuate fasciculus","right uncinate fasciculus","left uncinate fasciculus","right cingulum bundle","left cingulum bundle","projection fibers","right corticospinal tract","left corticospinal tract","right optic radiation","left optic radiation","right medial lemniscus","left medial lemniscus","right superior cerebellar peduncle","left superior cerebellar peduncle","right middle cerebellar peduncle","left middle cerebellar peduncle","right inferior cerebellar peduncle","left inferior cerebellar peduncle","optic chiasm","right optic tract","left optic tract","right fornix","left fornix","commissural fibers","corpus callosum","posterior commissure","cerebellar white matter","CSF space","ventricles of brain","right lateral ventricle","left lateral ventricle","right third ventricle","left third ventricle","cerebral aqueduct","fourth ventricle","subarachnoid space","spinal cord","gray matter of spinal cord","white matter of spinal cord","endocrine system of brain","pituitary gland","adenohypophysis","neurohypophysis","meninges","dura mater","arachnoid","pia mater","muscles of head","salivary glands","lips","nose","tongue","soft palate","right inner ear","left inner ear","right external ear","left external ear","right middle ear","left middle ear","right eyeball","left eyeball","skull","right frontal bone","left frontal bone","right parietal bone","left parietal bone","right temporal bone","left temporal bone","right sphenoid bone","left sphenoid bone","right ethmoid bone","left ethmoid bone","occipital bone","maxilla","right zygomatic bone","right lacrimal bone","vomer bone","right palatine bone","left palatine bone","mandible","neck","muscles of neck","pharynx","larynx","thyroid gland","right parathyroid glands","left parathyroid glands","skeleton of neck","hyoid bone","cervical vertebral column","thorax","trachea","bronchi","right lung","left lung","superior lobe of right lung","superior lobe of left lung","middle lobe of right lung","inferior lobe of right lung","inferior lobe of left lung","pleura","heart","right atrium","left atrium","atrial septum","ventricular septum","right ventricle of heart","left ventricle of heart","mitral valve","tricuspid valve","aortic valve","pulmonary valve","aorta","pericardium","pericardial cavity","esophagus","thymus","mediastinum","skin of thoracic wall","muscles of thoracic wall","skeleton of thorax","thoracic vertebral column","ribs","sternum","right clavicle","left clavicle","abdominal cavity","abdomen","peritoneum","omentum","peritoneal cavity","retroperitoneal space","stomach","duodenum","small bowel","colon","anus","liver","biliary tree","gallbladder","pancreas","spleen","urinary system","right kidney","left kidney","right ureter","left ureter","urinary bladder","urethra","right adrenal gland","left adrenal gland","female internal genitalia","uterus","right fallopian tube","left fallopian tube","right ovary","left ovary","vagina","male internal genitalia","prostate","right seminal vesicle","left seminal vesicle","right deferent duct","left deferent duct","skin of abdominal wall","muscles of abdominal wall","skeleton of abdomen","lumbar vertebral column","female external genitalia","male external genitalia","skeleton of upper limb","muscles of upper limb","right upper limb","left upper limb","right shoulder","left shoulder","right arm"],R:[0,128,241,177,111,216,221,144,192,220,78,255,230,200,250,244,0,216,183,183,152,111,178,68,111,85,0,214,78,218,170,140,188,216,145,150,177,244,250,200,68,128,83,83,162,162,141,141,182,182,188,188,154,154,177,177,30,30,210,210,48,48,98,98,69,166,122,122,253,145,46,0,0,250,127,127,159,159,125,125,106,106,154,154,126,201,201,78,78,174,174,139,139,148,148,186,186,99,156,156,64,64,138,97,126,194,85,88,88,88,88,88,88,88,88,244,200,250,82,57,60,92,255,255,255,255,201,70,188,177,166,182,229,229,174,174,201,201,194,194,241,203,203,229,229,255,255,209,209,248,248,255,196,255,255,255,242,242,222,177,213,184,150,62,62,62,242,250,255,177,182,175,197,197,172,172,202,224,224,255,206,210,203,233,195,181,152,159,166,218,225,224,255,184,211,47,255,173,188,255,226,253,244,205,205,186,177,255,234,204,180,216,255,205,204,255,221,0,139,249,157,203,185,185,247,247,222,124,249,249,244,255,255,227,213,213,193,216,230,245,245,241,241,177,171,217,212,185,185,198,194,177,177,177,177,177],G:[0,174,214,122,184,101,130,238,104,245,63,250,220,200,250,214,151,101,156,214,189,184,212,172,197,188,145,230,63,255,250,224,65,191,60,98,122,214,250,200,131,174,146,146,115,115,93,93,166,166,135,135,150,150,140,140,111,111,157,157,129,129,153,153,110,113,101,101,135,92,101,108,108,250,150,150,116,116,102,102,174,174,146,146,126,160,160,152,152,140,140,126,126,120,120,135,135,106,171,171,123,123,95,113,161,195,188,106,106,106,106,106,106,106,106,214,200,250,174,157,143,162,244,244,244,244,121,163,91,122,84,105,147,147,122,122,112,112,142,142,213,179,179,204,204,243,243,185,185,223,223,230,172,255,250,237,217,217,198,122,124,105,208,162,162,162,206,210,255,122,228,216,165,165,138,138,164,186,186,245,110,115,108,138,100,85,55,63,70,123,130,97,244,122,171,150,244,121,95,239,202,232,217,179,179,124,122,255,234,142,119,132,253,167,168,224,130,145,150,180,108,136,102,102,182,182,154,186,186,186,170,181,190,153,141,141,123,146,158,172,172,172,172,124,85,198,188,135,135,175,98,122,122,122,122,122],B:[0,128,145,101,210,79,101,144,88,20,0,220,70,235,210,49,206,79,220,211,207,210,242,100,131,255,30,130,0,255,250,228,28,216,66,83,101,49,225,215,98,128,164,164,105,105,137,137,110,110,166,166,201,201,190,190,85,85,166,166,126,126,112,112,53,137,38,38,192,109,131,112,112,225,88,88,163,163,154,154,155,155,83,83,55,133,133,141,141,103,103,177,177,72,72,135,135,24,108,108,147,147,74,158,197,164,255,215,215,215,215,215,215,215,215,49,215,225,128,110,83,109,209,209,209,209,77,117,95,101,94,107,118,118,90,90,73,73,0,0,144,77,77,109,109,152,152,85,85,131,131,138,68,167,160,145,123,123,101,101,109,108,243,114,114,114,142,139,207,101,255,244,145,145,115,115,140,162,162,217,84,89,81,112,73,57,13,27,38,97,104,76,209,154,143,103,209,88,76,172,134,158,154,108,108,161,101,220,194,178,153,105,229,142,143,199,101,30,98,111,162,116,83,83,164,164,132,223,150,150,147,158,165,130,113,113,103,127,140,147,147,151,151,92,68,131,102,134,134,125,79,101,101,101,101,101],A:[0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],I:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},actc_default={R:[0,0,24,248,255],G:[0,0,177,254,0],B:[0,136,0,0,0],A:[0,32,64,78,128],I:[0,64,128,156,255]},bcgwhw_dark_default={R:[0,248,242,235,229,222,212,202,193,183,173,145,117,78,39,0,0,0,0,0,0,64,128,191,255,255,255,255,255,238,221,204,214,224,235,245,255,249,242,236,229,223,217,210,204,197,191,184,176,169,161,154,146,139,132,124,117,109,102,0],G:[0,251,247,243,239,235,235,235,235,235,235,216,197,174,150,127,153,178,204,229,255,255,255,255,255,220,185,150,115,77,38,0,31,61,92,122,153,138,122,107,92,77,61,46,31,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B:[0,254,253,252,251,250,251,252,253,254,255,226,198,132,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,40,80,120,160,200,199,198,197,196,196,195,194,193,192,191,184,176,169,161,154,146,139,132,124,117,109,102,0],A:[256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256],I:[0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,255]},bcgwhw_default={R:[255,248,242,235,229,222,212,202,193,183,173,145,117,78,39,0,0,0,0,0,0,64,128,191,255,255,255,255,255,238,221,204,214,224,235,245,255,249,242,236,229,223,217,210,204,197,191,184,176,169,161,154,146,139,132,124,117,109,102,0],G:[255,251,247,243,239,235,235,235,235,235,235,216,197,174,150,127,153,178,204,229,255,255,255,255,255,220,185,150,115,77,38,0,31,61,92,122,153,138,122,107,92,77,61,46,31,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B:[255,254,253,252,251,250,251,252,253,254,255,226,198,132,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,40,80,120,160,200,199,198,197,196,196,195,194,193,192,191,184,176,169,161,154,146,139,132,124,117,109,102,0],A:[256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256],I:[0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,255]},blue2red_default={R:[0,0,0,0,196,255],G:[0,32,128,128,128,32],B:[0,255,196,0,0,0],A:[0,128,64,64,64,128],I:[0,1,64,128,192,255]},blue2magenta_default={R:[0,255],G:[0,0],B:[255,255],A:[0,128],I:[0,255]},blue2cyan_default={R:[0,0],G:[0,255],B:[255,255],A:[0,128],I:[0,255]},bluegrn_default={R:[0,0,0,0],G:[0,1,128,255],B:[0,222,127,32],A:[0,0,64,128],I:[0,1,128,255]},blue_default={R:[0,0,0],G:[0,0,0],B:[0,128,255],A:[0,64,128],I:[0,128,255]},bone_default={R:[0,103,255],G:[0,126,255],B:[0,165,255],A:[0,76,128],I:[0,153,255]},bronze_default={R:[0,43,103,199,216,255],G:[0,0,37,155,213,255],B:[0,0,20,97,201,255],A:[0,44,48,54,56,56],I:[0,64,128,196,240,255]},cet_l17_default={R:[0,9,24,33,40,46,52,57,62,66,70,74,78,81,85,88,91,94,98,101,103,106,109,112,114,117,119,121,124,126,128,130,133,135,137,139,141,143,145,147,149,151,153,155,157,159,161,163,164,166,168,169,171,172,174,175,177,178,180,181,183,184,186,187,189,190,191,193,194,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,222,223,224,224,225,226,226,227,228,228,229,229,230,231,231,232,233,233,234,234,235,235,236,236,236,237,237,237,238,238,238,239,239,239,240,240,240,241,241,241,242,242,242,243,243,243,243,243,243,243,243,244,244,244,244,244,244,244,244,244,244,244,245,245,245,245,245,245,245,245,245,245,245,245,245,245,245,245,244,244,244,244,244,244,244,244,244,244,244,244,244,244,244,243,243,243,243,243,243,243,243,243,243,243,243,242,242,242,242,242,242,242,242,241,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,243,243,244,244,245,246,246,247,247,248,249,249,250,250,251,251,252,252,253,253,254,254,254],G:[42,41,41,41,40,40,40,39,39,39,38,38,37,37,36,36,35,35,34,34,33,32,32,31,30,30,30,30,29,29,29,29,28,28,28,27,27,27,26,26,26,25,25,25,24,24,24,24,24,25,25,26,27,27,28,28,29,30,30,31,31,32,33,33,34,34,35,36,36,37,38,39,40,42,43,44,45,47,48,49,50,51,53,54,55,56,57,58,59,60,62,63,64,65,66,68,69,71,72,73,75,76,77,79,80,81,83,84,85,87,88,89,90,92,93,94,95,97,98,100,101,102,104,105,107,108,109,111,112,113,115,116,117,119,120,121,122,124,125,126,128,129,130,132,133,134,136,137,138,140,141,142,144,145,146,147,149,150,151,153,154,155,156,158,159,160,161,163,164,165,167,168,169,170,172,173,174,175,176,178,179,180,181,183,184,185,186,187,189,190,191,192,193,194,196,197,198,199,200,201,203,204,205,206,207,208,209,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,228,229,230,231,232,233,234,235,236,237,238,238,239,240,241,241,242,243,244,244,245,246,247,248,248,249,250,251,251,252,253,254,255],B:[167,167,166,166,166,165,165,165,164,164,164,163,163,162,162,162,161,161,161,160,160,160,159,159,158,158,157,157,156,155,155,154,154,153,153,152,151,151,150,150,149,149,148,147,147,146,146,145,144,144,143,143,142,141,141,140,139,139,138,137,137,136,135,135,134,133,133,132,131,131,130,130,129,128,128,127,127,126,125,125,124,124,123,123,122,121,121,120,119,119,118,118,117,116,116,116,115,115,114,114,113,113,113,112,112,111,111,110,110,109,109,109,108,108,107,107,106,106,106,106,106,105,105,105,105,105,105,105,104,104,104,104,104,103,103,103,103,103,102,102,102,103,103,103,103,104,104,104,104,104,105,105,105,105,106,106,106,106,106,107,107,107,107,108,108,109,110,111,111,112,113,113,114,115,115,116,117,117,118,119,120,120,121,122,122,123,124,125,126,128,129,130,131,132,134,135,136,137,138,140,141,142,143,144,146,147,148,149,150,152,153,155,157,158,160,162,163,165,167,168,170,172,173,175,177,178,180,182,183,185,187,188,190,193,196,199,201,204,207,210,212,215,218,221,224,226,229,232,235,238,240,243,246,249,252,255],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},cividis_default={R:[0,86,166,255],G:[32,92,156,233],B:[76,108,117,69],A:[0,56,80,88],I:[0,64,192,255]},cool_default={R:[0,0,0],G:[127,196,254],B:[255,255,255],A:[0,64,128],I:[0,128,255]},copper2_default={R:[0,61,122,183,244,255],G:[0,41,81,122,163,255],B:[0,25,51,76,102,255],A:[0,25,51,71,102,128],I:[0,51,102,153,204,255]},copper_default={R:[0,61,122,183,244,255],G:[0,41,81,122,163,203],B:[0,25,51,76,102,127],A:[0,25,51,71,102,128],I:[0,51,102,153,204,255]},ct_airways_default={min:-643,max:-235,R:[0,0,0],G:[154,154,154],B:[179,179,101],A:[0,32,0],I:[0,163,255]},ct_artery_default={min:114,max:800,R:[0,255,255,255],G:[0,0,129,255],B:[0,0,0,255],A:[0,64,88,228],I:[0,80,160,255]},ct_bones_default={min:180,max:600,R:[0,0,113,255],G:[0,0,109,250],B:[0,0,101,245],A:[0,0,100,160],I:[0,1,128,255]},ct_brain_gray_default={min:-10,max:110,R:[0,127,255],G:[0,127,255],B:[0,127,255],A:[0,48,128],I:[0,124,255]},ct_brain_default={min:-10,max:110,R:[0,199,255],G:[0,127,255],B:[0,127,255],A:[0,48,128],I:[0,124,255]},ct_cardiac_default={min:-80,max:1e3,R:[0,189,150,150,150,150,255],G:[0,169,54,54,54,54,240],B:[0,153,52,52,52,52,242],A:[0,32,64,0,0,64,64],I:[0,1,82,92,234,242,255]},ct_head_default={min:-590,max:600,R:[0,241,241,248,248,178,178,232,255,255,255],G:[0,156,156,222,222,36,36,51,255,255,255],B:[0,130,130,169,169,24,24,37,255,255,255],A:[0,8,0,0,0,64,64,0,0,222,222],I:[0,2,3,64,122,142,172,182,252,253,255]},ct_kidneys_default={min:114,max:302,R:[0,255,255],G:[0,129,255],B:[0,0,255],A:[0,88,228],I:[0,103,255]},ct_liver_default={min:-23,max:246,R:[0,44,255,255,255],G:[0,128,90,255,255],B:[0,0,70,0,255],A:[0,0,82,184,228],I:[0,64,131,196,255]},ct_muscles_default={min:-100,max:246,R:[0,128,159,255,255,255,255],G:[0,0,56,90,0,255,255],B:[0,0,41,70,0,0,255],A:[0,63,105,135,167,184,228],I:[0,100,128,155,180,209,255]},ct_scalp_default={min:-590,max:600,R:[0,241,241,248,248,178,232,255,255],G:[0,156,156,222,222,36,51,255,255],B:[0,130,130,169,169,24,37,255,255],A:[0,63,105,135,167,184,228,228,228],I:[0,1,52,127,137,162,172,252,255]},ct_skull_default={min:140,max:1024,R:[0,2,113,255],G:[0,1,109,250],B:[0,1,101,245],A:[0,1,96,168],I:[0,1,128,255]},ct_soft_default={min:-923,max:679,R:[0,0,0,0,0,255,255,255],G:[154,154,154,154,0,0,254,255],B:[179,179,179,179,0,0,0,255],A:[0,3,8,0,0,10,15,20],I:[0,30,62,88,170,200,232,255]},ct_soft_tissue_default={min:-10,max:110,R:[0,199,255],G:[0,127,255],B:[0,127,255],A:[0,48,128],I:[0,124,255]},ct_surface_default={min:-600,max:100,R:[0,134,255],G:[0,109,250],B:[0,101,245],A:[0,60,148],I:[0,128,255]},ct_vessels_default={min:114,max:246,R:[0,255,255],G:[0,128,255],B:[0,128,255],A:[0,64,96],I:[0,87,255]},ct_w_contrast_default={min:50,max:1e3,R:[98,210,169,128,255],G:[94,26,77,128,255],B:[45,21,74,128,255],A:[0,25,0,4,168],I:[0,41,87,154,255]},cubehelix_default={R:[0,13,21,26,27,25,22,21,22,28,39,54,75,98,124,148,171,189,202,210,213,211,206,200,195,193,195,201,211,225,240,255],G:[0,5,11,20,31,44,58,72,86,99,109,116,120,122,122,122,121,121,124,129,137,147,161,175,190,205,218,229,238,245,251,255],B:[0,14,30,46,61,71,77,78,75,68,60,52,48,47,53,65,83,105,131,157,183,205,222,235,241,243,242,240,239,240,245,255],A:[0,4,8,12,17,21,25,29,33,37,41,45,50,54,58,62,66,70,74,78,83,87,91,95,99,103,107,111,116,120,124,128],I:[0,8,16,25,33,41,49,58,66,74,82,90,99,107,115,123,132,140,148,156,165,173,181,189,197,206,214,222,230,239,247,255]},electric_blue_default={R:[0,10,136,255],G:[0,39,220,255],B:[0,223,253,255],A:[0,48,64,70],I:[0,92,192,255]},freesurfer_default={R:[0,245,205,120,196,220,230,0,122,236,12,204,42,119,220,103,60,255,165,160,0,245,205,120,196,220,230,0,122,236,13,220,103,255,165,160,0,120,200,255,255,164,164,164,234,0,0,0,0,0],G:[0,245,62,18,58,248,148,118,186,13,48,182,204,159,216,255,60,165,42,32,200,245,62,18,58,248,148,118,186,13,48,216,255,165,42,32,200,190,70,148,148,108,108,108,169,0,0,0,0,0],B:[0,245,78,134,250,164,34,14,220,176,255,142,164,176,20,255,60,0,42,240,200,245,78,134,250,164,34,14,220,176,255,20,255,0,42,240,221,150,255,10,10,226,226,226,30,64,112,160,208,255],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,2,3,4,5,7,8,10,11,12,13,14,15,16,17,18,24,26,28,30,31,41,42,43,44,46,47,49,50,51,52,53,54,58,60,62,63,72,77,78,79,80,81,82,85,251,252,253,254,255]},ge_color_default={R:[0,0,128,255,255],G:[0,128,0,128,255],B:[0,125,255,0,255],A:[0,32,64,96,128],I:[0,63,128,192,255]},gold_default={R:[0,142,227,255],G:[0,85,170,255],B:[0,14,76,255],A:[0,42,84,128],I:[0,85,170,255]},gray_default={R:[0,255],G:[0,255],B:[0,255],A:[0,128],I:[0,255]},green_default={R:[0,0,0],G:[0,128,255],B:[0,0,0],A:[0,64,128],I:[0,128,255]},green2cyan_default={R:[0,0,0],G:[72,72,255],B:[0,255,255],A:[0,64,128],I:[0,88,255]},green2orange_default={R:[0,255,255],G:[72,88,255],B:[0,0,0],A:[0,64,128],I:[0,88,255]},hotiron_default={R:[0,255,255,255],G:[0,0,126,255],B:[0,0,0,255],A:[0,64,96,128],I:[0,128,191,255]},hot_default={R:[3,255,255,255],G:[0,0,255,255],B:[0,0,0,255],A:[0,48,96,128],I:[0,95,191,255]},hsv_default={R:[255,255,0,0,0,255,255],G:[0,255,255,255,0,0,0],B:[0,0,0,255,255,255,0],A:[0,14,28,43,57,71,85],I:[0,43,85,128,170,213,255]},inferno_default={R:[0,120,237,240],G:[0,28,105,249],B:[4,109,37,33],A:[0,56,80,88],I:[0,64,192,255]},jet_default={R:[0,0,127,255,127],G:[0,127,255,127,0],B:[127,255,127,0,0],A:[0,32,64,96,128],I:[0,63,128,192,255]},linspecer_default={R:[94,50,90,152,215,238,249,254,252,241,209,158],G:[79,131,186,214,240,244,237,210,157,100,57,1],B:[162,189,167,164,155,169,168,123,86,68,79,66],A:[0,12,23,35,47,58,70,81,93,105,116,128],I:[0,23,46,70,93,116,139,162,185,209,232,255]},magma_default={R:[0,148,183,223,247,252],G:[0,44,55,74,112,253],B:[4,128,121,104,92,191],A:[0,44,53,64,75,107],I:[0,107,128,154,179,255]},mako_default={R:[11,59,55,222],G:[4,45,165,245],B:[5,91,172,229],A:[0,23,70,107],I:[0,56,167,255]},nih_default={R:[0,85,0,0,0,0,0,0,85,255,255,255,172],G:[0,0,0,0,85,170,255,255,255,255,85,0,0],B:[0,170,85,255,255,170,170,0,85,0,0,0,0],A:[0,5,10,21,26,32,37,42,48,53,64,72,85],I:[0,15,31,63,79,95,111,127,143,159,191,217,255]},plasma_default={R:[13,156,237,240],G:[8,23,121,249],B:[135,158,83,33],A:[0,56,80,88],I:[0,64,192,255]},random_default={R:[208,71,33,192,32,195,208,173,233,202,25,210,145,89,87,245,246,38,3,25,57,167,245,86,227,208,81,64,90,199,140,48,212,180,70,120,9,192,245,177,65,157,9,193,100,181,125,145,62,8,108,36,140,237,242,248,161,189,41,114,65,121,97,50,238,149,44,214,124,167,40,167,127,178,231,30,173,244,193,203,204,238,139,135,71,234,234,217,66,14,129,19,97,165,112,244,35,73,192,12,149,71,33,192,32,195,208,173,233,202,25,210,145,89,87,245,246,38,3,25,57,167,245,86,227,208,81,64,90,199,140,48,212,180,70,120,9,192,245,177,65,157,9,193,100,181,125,145,62,8,108,36,140,237,242,248,161,189,41,114,65,121,97,50,238,149,44,214,124,167,40,167,127,178,231,30,173,244,193,203,204,238,139,135,71,234,234,217,66,14,129,19,97,165,112,244,35,73,192,12,149,71,33,192,32,195,208,173,233,202,25,210,145,89,87,245,246,38,3,25,57,167,245,86,227,208,81,64,90,199,140,48,212,180,70,120,9,192,245,177,65,157,9,193,100,181,125,145,62,8,108,36,140,237,242,248],G:[182,46,78,199,79,89,41,208,135,20,154,35,21,43,230,113,191,147,208,37,28,27,86,203,25,209,148,187,139,111,48,102,76,110,106,130,37,160,34,222,90,165,245,222,102,47,19,130,4,232,137,211,240,11,140,21,42,22,241,61,99,115,199,166,114,190,204,60,233,66,115,230,125,103,203,125,13,176,94,131,39,198,167,124,67,175,254,1,15,198,62,237,159,31,218,58,244,47,61,67,94,46,78,199,79,89,41,208,135,20,154,35,21,43,230,113,191,147,208,37,28,27,86,203,25,209,148,187,139,111,48,102,76,110,106,130,37,160,34,222,90,165,245,222,102,47,19,130,4,232,137,211,240,11,140,21,42,22,241,61,99,115,199,166,114,190,204,60,233,66,115,230,125,103,203,125,13,176,94,131,39,198,167,124,67,175,254,1,15,198,62,237,159,31,218,58,244,47,61,67,94,46,78,199,79,89,41,208,135,20,154,35,21,43,230,113,191,147,208,37,28,27,86,203,25,209,148,187,139,111,48,102,76,110,106,130,37,160,34,222,90,165,245,222,102,47,19,130,4,232,137,211,240,11,140,21],B:[191,154,43,10,207,204,164,231,136,58,239,30,147,230,101,111,150,35,128,57,252,79,173,120,25,126,81,85,8,7,122,237,190,152,246,182,130,219,67,76,167,178,235,250,28,61,186,250,199,67,58,50,86,182,108,77,89,112,59,125,226,50,205,227,125,128,104,27,59,66,53,133,159,203,97,125,139,159,158,7,215,47,140,226,223,231,44,110,184,61,233,47,67,148,22,120,173,156,117,181,94,154,43,10,207,204,164,231,136,58,239,30,147,230,101,111,150,35,128,57,252,79,173,120,25,126,81,85,8,7,122,237,190,152,246,182,130,219,67,76,167,178,235,250,28,61,186,250,199,67,58,50,86,182,108,77,89,112,59,125,226,50,205,227,125,128,104,27,59,66,53,133,159,203,97,125,139,159,158,7,215,47,140,226,223,231,44,110,184,61,233,47,67,148,22,120,173,156,117,181,94,154,43,10,207,204,164,231,136,58,239,30,147,230,101,111,150,35,128,57,252,79,173,120,25,126,81,85,8,7,122,237,190,152,246,182,130,219,67,76,167,178,235,250,28,61,186,250,199,67,58,50,86,182,108,77],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},red_default={R:[0,128,255],G:[0,0,0],B:[0,0,0],A:[0,64,128],I:[0,128,255]},redyell_default={R:[192,224,255],G:[1,128,255],B:[0,0,0],A:[0,64,128],I:[0,128,255]},rocket_default={R:[3,112,144,188,236,246,255],G:[5,31,29,22,76,158,250],B:[26,87,91,86,62,117,235],A:[0,30,38,49,67,85,107],I:[0,73,92,118,160,205,255]},surface_default={R:[1,240,255],G:[1,128,255],B:[1,128,255],A:[0,76,128],I:[0,153,255]},turbo_default={R:[48,48,64,70,65,25,132,195,244,254,218,122],G:[18,18,64,107,150,226,255,241,199,158,57,4],B:[59,59,162,227,255,187,81,52,58,47,7,3],A:[0,22,26,30,34,43,52,57,63,67,77,86],I:[0,1,16,32,49,83,118,140,164,181,219,255]},violet_default={R:[0,128,255],G:[0,0,0],B:[0,128,255],A:[0,64,128],I:[0,128,255]},viridis_default={R:[68,49,53,253],G:[1,104,183,231],B:[84,142,121,37],A:[0,56,80,88],I:[0,64,192,255]},warm_default={R:[255,255,255],G:[127,196,254],B:[0,0,0],A:[0,64,128],I:[0,128,255]},winter_default={R:[0,0,0],G:[0,128,255],B:[255,196,128],A:[0,64,128],I:[0,128,255]},x_rain_default={R:[3,64,0,0,255,255,255],G:[0,0,0,255,255,192,3],B:[0,32,48,56,64,96,128],A:[0,8,16,24,32,52,80],I:[0,32,64,96,160,192,255]},afni_blues_inv_default={min:0,max:0,R:[0,37],G:[242,0],B:[255,255],A:[0,64],I:[0,255]},afni_reds_inv_default={R:[255,255],G:[255,11],B:[0,0],A:[0,64],I:[0,255]},roi_i256_default={min:0,max:0,R:[65,10,223,120,216,207,251,93,252,217,21,253,131,165,173,143,144,217,86,89,63,254,172,1,142,107,42,78,221,8,222,71,127,126,167,33,104,2,208,216,0,251,7,105,2,101,248,190,253,62,255,224,166,37,110,138,45,34,6,37,69,201,43,122,199,37,173,194,103,211,75,159,96,4,239,98,110,193,253,166,40,255,48,130,140,243,101,9,177,220,133,32,4,81,48,48,210,109,60,132,1,119,1,159,247,33,212,187,253,144,196,254,168,79,64,196,39,97,73,173,104,216,217,43,101,119,254,5,237,103,203,122,57,87,251,164,19,75,200,2,252,150,66,0,255,157,23,254,55,16,240,161,69,253,207,195,5,60,255,251,200,217,134,123,253,180,27,246,130,136,250,232,4,125,140,22,253,255,13,180,123,61,254,111,10,185,76,192,255,223,186,61,198,5,172,13,83,172,171,6,23,73,134,133,109,61,213,55,57,132,36,209,2,144,1,253,68,155,3,160,2,77,121,70,67,176,223,131,4,162,232,255,150,94,235,191,207,10,246,0,225,4,209,116,57,112,172,253,1,6,92,227,73,62,135,223],G:[162,50,112,245,4,124,176,243,56,125,183,139,182,68,189,4,225,10,20,223,7,46,31,193,225,250,219,41,2,100,83,181,34,150,72,223,168,248,80,253,7,117,214,2,248,10,3,59,179,160,90,244,146,4,207,4,125,255,96,100,1,208,130,51,116,181,236,53,244,5,165,28,181,86,96,42,254,1,134,194,214,92,41,204,137,86,207,3,143,3,100,239,164,94,65,251,131,244,173,57,143,107,217,53,210,0,148,250,45,198,81,40,61,218,252,88,171,0,248,24,248,4,41,100,187,46,208,145,43,168,121,46,175,250,125,107,233,112,207,231,174,215,53,9,43,153,52,124,128,65,210,147,255,147,63,200,148,254,0,179,241,42,239,2,230,8,82,135,87,16,3,87,86,151,254,8,255,86,53,19,7,192,171,201,253,247,197,103,251,126,0,149,54,183,61,126,79,113,10,103,184,75,11,195,222,136,149,131,8,99,240,177,252,255,198,16,7,68,178,66,191,150,73,26,211,109,78,209,240,254,1,166,247,131,2,0,167,127,133,10,43,99,235,3,214,142,176,82,132,38,10,249,255,215,44,81],B:[176,182,248,37,117,35,96,69,32,152,108,20,237,250,2,89,141,216,111,251,211,149,10,44,214,103,31,251,3,32,252,246,97,1,219,167,197,4,36,116,206,118,106,43,205,204,114,69,127,205,87,80,41,251,145,204,253,161,247,1,149,9,43,253,97,72,136,161,171,181,26,255,108,80,218,214,231,255,84,31,109,4,218,3,217,36,68,85,241,39,221,2,240,2,173,42,206,5,110,46,103,27,212,184,2,207,246,45,116,72,110,253,38,105,248,159,243,81,192,93,141,145,24,157,234,131,57,178,62,75,65,176,148,40,253,66,76,240,51,154,17,251,139,253,207,9,114,49,200,254,96,73,138,118,204,102,137,89,145,161,4,112,66,234,147,178,212,205,185,11,203,131,2,250,118,169,1,185,154,53,171,197,61,175,249,96,15,254,95,5,222,75,246,194,2,61,180,25,133,165,15,233,59,35,221,140,109,7,114,255,198,0,115,168,252,23,242,80,75,142,137,255,12,182,68,201,4,111,37,228,83,248,24,192,249,5,54,223,160,122,160,114,145,119,252,31,253,250,10,214,8,47,0,142,222,70],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},ColorTables=class{constructor(){__publicField(this,"gamma",1),__publicField(this,"version",.1),__publicField(this,"cluts",{});const n=Object.keys(cmaps_exports).filter(u=>!u.startsWith("$")).sort(new Intl.Collator("en").compare);for(const u of n)this.cluts[u]=cmaps_exports[u]}addColormap(l,n){this.cluts[l]=n}colormaps(){return Object.keys(this.cluts)}colorMaps(){return this.colormaps()}colormapFromKey(l){let n=this.cluts[l];return n!==void 0||(n=this.cluts[l.toLowerCase()],n!==void 0)?n:(l.length>0&&log$1.warn("No color map named "+l),{min:0,max:0,R:[0,255],G:[0,255],B:[0,255],A:[0,255],I:[0,255]})}colormap(l="",n=!1){const u=this.colormapFromKey(l);return this.makeLut(u.R,u.G,u.B,u.A,u.I,n)}makeLabelLut(l,n=255){if(l.R===void 0||l.G===void 0||l.B===void 0)throw new Error(`Invalid colormap table: ${l}`);const u=l.R.length,p=l.I??[...Array(u).keys()];if(u!==l.G.length||u!==l.B.length||u!==p.length)throw new Error(`colormap does not make sense: ${l}`);let v=new Uint8ClampedArray(u).fill(n);v[0]=0,l.A!==void 0&&(v=Uint8ClampedArray.from(l.A));const d=Math.min(...p),g=Math.max(...p),_=g-d+1,C=new Uint8ClampedArray(_*4).fill(0);for(let w=0;w<u;w++){let m=(p[w]-d)*4;C[m++]=l.R[w],C[m++]=l.G[w],C[m++]=l.B[w],C[m++]=v[w]}const E={lut:C,min:d,max:g};if(l.labels){const w=l.labels.length;if(w===_)E.labels=l.labels;else if(w===u){E.labels=Array(_).fill("?");for(let m=0;m<u;m++){const y=p[m];E.labels[y]=l.labels[m]}}}return E}async makeLabelLutFromUrl(l){const u=await(await fetch(l)).json();return this.makeLabelLut(u)}makeDrawLut(l){let n=typeof l=="object"?l:cmaps_exports[l];n===void 0&&(n={min:0,max:0,R:[0,255,0,0,255,0,255],G:[0,0,255,0,255,255,0],B:[0,0,0,255,0,255,255],A:[0,255,255,255,255,255,255],I:[0,255]});const u=this.makeLabelLut(n,255);if(u.labels===void 0&&(u.labels=[]),u.labels.length<256){const g=u.labels.length;for(let _=g;_<256;_++)u.labels.push(_.toString())}const p=new Uint8ClampedArray(256*4);let v=0;for(let g=0;g<256;g++)p[v++]=255,p[v++]=0,p[v++]=0,p[v++]=255;p[3]=0;const d=Math.min(u.lut.length,256*4);if(d>0)for(let g=0;g<d;g++)p[g]=u.lut[g];return{lut:p,labels:u.labels}}makeLut(l,n,u,p,v,d){const g=l.length,_=[...l],C=[...n],E=[...u];if(!v){v=new Array(g);for(let e=0;e<g;e++)v[e]=e/(g-1)*255}p||(p=new Array(g).fill(64),p[0]=0);let w=Uint8ClampedArray.from(p),m=Uint8ClampedArray.from(v);if(d)for(let e=0;e<g;e++)_[e]=l[g-1-e],C[e]=n[g-1-e],E[e]=u[g-1-e],w[e]=255-p[g-1-e],m[e]=255-v[g-1-e];const y=new Uint8ClampedArray(256*4);if(typeof m>"u"){m=new Uint8ClampedArray(g).fill(0);for(let e=0;e<g;e++)m[e]=Math.round(e*255/(g-1))}typeof w>"u"&&(w=new Uint8ClampedArray(g).fill(64),w[0]=0);for(let e=0;e<g-1;e++){const P=m[e];let O=m[e+1];e===0&&P!==0&&log$1.warn("colormap issue: indices expected to start with 0 not ",P),e===m.length-2&&O!==255&&(log$1.warn("padding colormap: indices expected end with 255 not ",O),O=255);const U=O-P;let W=P*4;for(let V=P;V<=O;V++){const $=(V-P)/U;y[W++]=_[e]+$*(_[e+1]-_[e]),y[W++]=C[e]+$*(C[e+1]-C[e]),y[W++]=E[e]+$*(E[e+1]-E[e]),y[W++]=w[e]+$*(w[e+1]-w[e])}}if(this.gamma===1)return y;for(let e=0;e<255*4;e++)e%4!==3&&(y[e]=Math.pow(y[e]/255,1/this.gamma)*255);return y}},cmapper=new ColorTables,NVMeshUtilities=class{static getClusterBoundaryU8(l,n){const u=new Array(l.length).fill(!1),p=new Array(l.length).fill(!1);for(let g=0;g<l.length;g++)l[g]>0&&(p[g]=!0);const v=n.length/3;let d=0;for(let g=0;g<v;g++){const _=n[d],C=n[d+1],E=n[d+2];d+=3,!(p[_]===p[C]&&p[_]===p[E]&&p[C]===p[E])&&(u[_]=!0,u[C]=!0,u[E]=!0)}return u}static getClusterBoundary(l,n){const u=new Uint32Array(l.buffer),p=new Array(u.length).fill(!1),v=n.length/3;let d=0;for(let g=0;g<v;g++){const _=n[d],C=n[d+1],E=n[d+2];d+=3,!(u[_]===u[C]&&u[_]===u[E]&&u[C]===u[E])&&(p[_]=!0,p[C]=!0,p[E]=!0)}return p}static getExtents(l){if(!ArrayBuffer.isView(l)&&!Array.isArray(l)||l.length<3)return{mxDx:0,extentsMin:0,extentsMax:0};let n=0;const u=fromValues$2(l[0],l[1],l[2]),p=fromValues$2(l[0],l[1],l[2]);for(let g=0;g<l.length;g+=3){const _=fromValues$2(l[g],l[g+1],l[g+2]);n=Math.max(n,len(_)),min(u,u,_),max$2(p,p,_)}const v=[u[0],u[1],u[2]],d=[p[0],p[1],p[2]];return{mxDx:n,extentsMin:v,extentsMax:d}}static generateNormals(l,n){const u=[];let p;const v=l.length;let d,g,_,C,E,w,m,y,e;const P=new Float32Array(v),O=n.length;for(p=0;p<O;p+=3){m=n[p]*3,y=n[p+1]*3,e=n[p+2]*3;const U=[l[m],l[m+1],l[m+2]],W=[l[y],l[y+1],l[y+2]],V=[l[e],l[e+1],l[e+2]];d=W[0]-U[0],g=W[1]-U[1],_=W[2]-U[2],C=V[0]-U[0],E=V[1]-U[1],w=V[2]-U[2],u[0]=E*_-w*g,u[1]=w*d-C*_,u[2]=C*g-E*d,P[m]+=u[0],P[m+1]+=u[1],P[m+2]+=u[2],P[y]+=u[0],P[y+1]+=u[1],P[y+2]+=u[2],P[e]+=u[0],P[e+1]+=u[1],P[e+2]+=u[2]}for(p=0;p<v;p+=3){u[0]=-1*P[p],u[1]=-1*P[p+1],u[2]=-1*P[p+2];let U=u[0]*u[0]+u[1]*u[1]+u[2]*u[2];U>0&&(U=1/Math.sqrt(U),u[0]*=U,u[1]*=U,u[2]*=U),P[p]=u[0],P[p+1]=u[1],P[p+2]=u[2]}return P}},utiltiesLogger=log$1,NVMeshLoaders=class Kt{static readTRACT(n){const u=n.byteLength;if(u<20)throw new Error("File too small to be niml.tract: bytes = "+u);const p=new DataView(n),v=new Uint8Array(n);let d=0;function g(){for(;d<u&&v[d]!==60;)d++;const O=d;for(;d<u&&v[d]!==62;)d++;return d++,d-O<1?"":new TextDecoder().decode(n.slice(O,d-1)).trim()}let _=g();function C(O){const U=_.indexOf(O);if(U<0)return 0;const W=_.indexOf('"',U)+1,V=_.indexOf('"',W),$=_.slice(W,V);return parseInt($)}const E=C("N_tracts=");(!_.startsWith("<network")||E<1)&&log$1.warn("This is not a valid niml.tract file "+_);let w=0;const m=[];m.push(w);const y=[],e=[];for(let O=0;O<E;O++){_=g();const U=C("ni_dimen="),W=C("Bundle_Tag="),V=_.includes("binary.lsbfirst");for(let $=0;$<U;$++){d+=4;const b=p.getUint32(d,V)/3;d+=4;for(let H=0;H<b;H++)y.push(p.getFloat32(d,V)),d+=4,y.push(-p.getFloat32(d,V)),d+=4,y.push(p.getFloat32(d,V)),d+=4;w+=b,m.push(w),e.push(W)}_=g()}const P=[];return P.push({id:"tract",vals:Float32Array.from(e)}),{pts:new Float32Array(y),offsetPt0:new Uint32Array(m),dps:P}}static readTT(n){function u(E){let w=E.byteLength;if(w<40)throw new Error("File too small to be MAT v4: bytes = "+E.byteLength);let m=new DataView(E),y=m.getUint16(0,!0),e=E;if(y===35615||y===8075){const H=decompressSync$1(new Uint8Array(E));m=new DataView(H.buffer),y=m.getUint16(0,!0),e=H.buffer,w=e.byteLength}const P=new TextDecoder("utf-8"),O=new Uint8Array(e);let U=0;const W={};function V(H){return Math.floor(H/10)%10}function $(H,G,Y){const X=new Uint8Array(O.subarray(G,Y));return H===1?new Float32Array(X.buffer):H===2?new Int32Array(X.buffer):H===3?new Int16Array(X.buffer):H===4?new Uint16Array(X.buffer):H===5?new Uint8Array(X.buffer):new Float64Array(X.buffer)}function b(){const H=m.getUint32(U,!0),G=m.getUint32(U+4,!0),Y=m.getUint32(U+8,!0),X=m.getUint32(U+12,!0),j=m.getUint32(U+16,!0);if(U+=20,X!==0)throw new Error("Matlab V4 reader does not support imaginary numbers");const h=G*Y;if(h<1)throw new Error("mrows * ncols must be greater than one");const ae=new Uint8Array(O.subarray(U,U+j)),le=P.decode(ae).trim().replaceAll("\0",""),he=V(H);let pe=8;if(he>=1&&he<=2)pe=4;else if(he>=3&&he<=4)pe=2;else if(he===5)pe=1;else if(he!==0)throw new Error("impossible Matlab v4 datatype");if(U+=j,H>50)throw new Error("Does not appear to be little-endian V4 Matlab file");const Ae=U+h*pe;W[le]=$(he,U,Ae),U=Ae}for(;U+20<w;)b();return W}let p=new Uint32Array(0),v=new Float32Array(0);const d=u(n);if(!("trans_to_mni"in d))throw new Error("TT format file must have 'trans_to_mni'");if(!("voxel_size"in d))throw new Error("TT format file must have 'voxel_size'");if(!("track"in d))throw new Error("TT format file must have 'track'");let g=create$3();const _=d.trans_to_mni;g=fromValues$3(_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7],_[8],_[9],_[10],_[11],_[12],_[13],_[14],_[15]),transpose$1(g,g);function C(E){const w=new DataView(E.buffer),m=[];let y=0,e=0;for(;e<E.length;){m.push(e);const U=w.getUint32(e,!0);e=e+U+13,y+=U}p=new Uint32Array(m.length+1),v=new Float32Array(y);let P=0;for(let U=0;U<m.length;U++){p[U]=P/3;let W=m[U];const V=w.getUint32(W,!0)/3;let $=w.getInt32(W+4,!0),b=w.getInt32(W+8,!0),H=w.getInt32(W+12,!0);W+=16,v[P++]=$,v[P++]=b,v[P++]=H;for(let G=2;G<=V;G++)$=$+w.getInt8(W++),b=b+w.getInt8(W++),H=H+w.getInt8(W++),v[P++]=$,v[P++]=b,v[P++]=H}for(let U=0;U<P;U++)v[U]=v[U]/32;let O=0;for(let U=0;U<P/3;U++){const W=fromValues$1(v[O],v[O+1],v[O+2],1);transformMat4(W,W,g),v[O++]=W[0],v[O++]=W[1],v[O++]=W[2]}p[m.length]=P/3}return C(d.track),{pts:v,offsetPt0:p}}static readTRX(n){function u(P){const O=(P&31744)>>10,U=P&1023;return(P>>15?-1:1)*(O?O===31?U?NaN:1/0:Math.pow(2,O-15)*(1+U/1024):6103515625e-14*(U/1024))}let p=0,v=0,d=new Float32Array([]);const g=[],_=[],C=[],E=[];let w=[],m=!1;const y=unzipSync$1(new Uint8Array(n),{filter(P){return P.originalSize>0}}),e=Object.keys(y);for(let P=0,O=e.length;P<O;P++){const U=e[P].split("/"),W=U.slice(-1)[0];if(W.startsWith("."))continue;const V=U.slice(-2)[0],$=W.split(".")[0],b=y[e[P]];if(W.includes("header.json")){const Y=new TextDecoder().decode(b);w=JSON.parse(Y);continue}let H=0,G=[];if(W.endsWith(".uint64")||W.endsWith(".int64")){H=b.length/8,G=new Uint32Array(H);const Y=new Uint32Array(b.buffer);let X=0;for(let j=0;j<H;j++)G[j]=Y[X],Y[X+1]!==0&&(m=!0),X+=2}else if(W.endsWith(".uint32"))G=new Uint32Array(b.buffer);else if(W.endsWith(".uint16"))G=new Uint16Array(b.buffer);else if(W.endsWith(".uint8"))G=new Uint8Array(b.buffer);else if(W.endsWith(".int32"))G=new Int32Array(b.buffer);else if(W.endsWith(".int16"))G=new Int16Array(b.buffer);else if(W.endsWith(".int8"))G=new Int8Array(b.buffer);else if(W.endsWith(".float64"))G=new Float64Array(b.buffer);else if(W.endsWith(".float32"))G=new Float32Array(b.buffer);else if(W.endsWith(".float16")){H=b.length/2,G=new Float32Array(H);const Y=new Uint16Array(b.buffer),X=new Float32Array(65536);for(let j=0;j<65536;j++)X[j]=u(j);for(let j=0;j<H;j++)G[j]=X[Y[j]]}else continue;if(H=G.length,V.includes("groups")){_.push({id:$,vals:Float32Array.from(G.slice())});continue}if(V.includes("dpv")){E.push({id:$,vals:Float32Array.from(G.slice())});continue}if(V.includes("dps")){C.push({id:$,vals:Float32Array.from(G.slice())});continue}if(W.startsWith("offsets.")){p=H;for(let Y=0;Y<H;Y++)g[Y]=G[Y]}W.startsWith("positions.3.")&&(v=H,d=new Float32Array(G))}if(p===0||v===0)throw new Error("Failure reading TRX format (no offsets or points).");if(m)throw new Error("Too many vertices: JavaScript does not support 64 bit integers");return g[p]=v/3,{pts:d,offsetPt0:new Uint32Array(g),dpg:_,dps:C,dpv:E,header:w}}static readTSF(n,u=0){const p=new Float32Array(u),v=n.byteLength;if(v<20)throw new Error("File too small to be TSF: bytes = "+v);const d=new Uint8Array(n);let g=0;function _(){for(;g<v&&d[g]===10;)g++;const y=g;for(;g<v&&d[g]!==10;)g++;return g++,g-y<1?"":new TextDecoder().decode(n.slice(y,g-1))}let C=_();if(!C.includes("mrtrix track scalars"))throw new Error("Not a valid TSF file");let E=-1;for(;g<v&&!C.includes("END");)if(C=_(),C.toLowerCase().startsWith("file:")&&(E=parseInt(C.split(" ").pop())),C.toLowerCase().startsWith("datatype:")&&!C.endsWith("Float32LE"))throw new Error("Only supports TSF files with Float32LE");if(E<20)throw new Error("Not a valid TSF file (missing file offset)");g=E;const w=new DataView(n);let m=0;for(;g+4<=v&&m<u;){const y=w.getFloat32(g,!0);if(g+=4,isFinite(y))p[m++]=y;else if(!isNaN(y))break}return p}static readTCK(n){const u=n.byteLength;if(u<20)throw new Error("File too small to be TCK: bytes = "+u);const p=new Uint8Array(n);let v=0;function d(){for(;v<u&&p[v]===10;)v++;const P=v;for(;v<u&&p[v]!==10;)v++;return v++,v-P<1?"":new TextDecoder().decode(n.slice(P,v-1))}let g=d();if(!g.includes("mrtrix tracks"))throw new Error("Not a valid TCK file");let _=-1;for(;v<u&&!g.includes("END");)g=d(),g.toLowerCase().startsWith("file:")&&(_=parseInt(g.split(" ").pop()));if(_<20)throw new Error("Not a valid TCK file (missing file offset)");v=_;const C=new DataView(n);let E=0,w=new Uint32Array(u/(4*4)),m=0,y=0,e=new Float32Array(u/4);for(w[0]=0;v+12<u;){const P=C.getFloat32(v,!0);v+=4;const O=C.getFloat32(v,!0);v+=4;const U=C.getFloat32(v,!0);if(v+=4,isFinite(P))e[y++]=P,e[y++]=O,e[y++]=U,E++;else if(w[m++]=E,!isNaN(P))break}return e=e.slice(0,y),w=w.slice(0,m),{pts:e,offsetPt0:w}}static readTRK(n){let u=new DataView(n),p=u.getUint32(0,!0);if(p!==1128354388){let ae;if(p===4247762216)throw new Error("zstd TRK decompression is not supported");ae=decompressSync$1(new Uint8Array(n)),n=ae.buffer,u=new DataView(n),p=u.getUint32(0,!0)}const v=u.getUint32(992,!0),d=u.getUint32(996,!0);if(v>2||d!==1e3||p!==1128354388)throw new Error("Not a valid TRK file");const g=u.getInt16(36,!0),_=[];for(let ae=0;ae<g;ae++){const le=new Uint8Array(n.slice(38+ae*20,58+ae*20)),he=new TextDecoder().decode(le).split("\0").shift();_.push({id:he.trim(),vals:[]})}const C=u.getFloat32(12,!0),E=u.getFloat32(16,!0),w=u.getFloat32(20,!0),m=fromValues$3(1/C,0,0,-.5,0,1/E,0,-.5,0,0,1/w,-.5,0,0,0,1),y=u.getInt16(238,!0),e=[];for(let ae=0;ae<y;ae++){const le=new Uint8Array(n.slice(240+ae*20,260+ae*20)),he=new TextDecoder().decode(le).split("\0").shift();e.push({id:he.trim(),vals:[]})}const P=create$3();for(let ae=0;ae<16;ae++)P[ae]=u.getFloat32(440+ae*4,!0);P[15]===0&&(log$1.warn("TRK vox_to_ras not set"),identity$1(P));const O=create$3();mul$1(O,m,P);let U=null,W=null;U=new Int32Array(n.slice(d)),W=new Float32Array(U.buffer);const V=U.length;if(V<1)throw new Error("Empty TRK file.");let $=0,b=0,H=new Uint32Array(U.length/4),G=0,Y=new Float32Array(U.length),X=0;for(;$<V;){const ae=U[$];$=$+1,H[G++]=b;for(let le=0;le<ae;le++){const he=W[$+0],pe=W[$+1],Ae=W[$+2];if($+=3,Y[X++]=he*O[0]+pe*O[1]+Ae*O[2]+O[3],Y[X++]=he*O[4]+pe*O[5]+Ae*O[6]+O[7],Y[X++]=he*O[8]+pe*O[9]+Ae*O[10]+O[11],g>0)for(let ge=0;ge<g;ge++)_[ge].vals.push(W[$]),$++;b++}if(y>0)for(let le=0;le<y;le++)e[le].vals.push(W[$]),$++}const j=[];for(let ae=0;ae<e.length;ae++)j.push({id:e[ae].id,vals:Float32Array.from(e[ae].vals)});const h=[];for(let ae=0;ae<_.length;ae++)h.push({id:_[$].id,vals:Float32Array.from(_[$].vals)});return H[G++]=b,Y=Y.slice(0,X),H=H.slice(0,G),{pts:Y,offsetPt0:H,dps:j,dpv:h}}static readTxtVTK(n){const v=new TextDecoder("utf-8").decode(n).split(`
`);if(v.length<7||!v[0].startsWith("# vtk DataFile"))throw new Error("Invalid VTK image");if(!v[2].startsWith("ASCII"))throw new Error("Not ASCII VTK mesh");let g=3;for(;v[g].length<1;)g++;if(!v[g].includes("POLYDATA"))throw new Error("Not ASCII VTK polydata");for(g++;v[g].length<1;)g++;if(!v[g].startsWith("POINTS"))throw new Error("Not VTK POINTS");let _=v[g].trim().split(/\s+/);const C=parseInt(_[1]),E=C*3,w=new Float32Array(C*3);let m=0;for(;m<C*3;){g++;const O=v[g].trim().trim().split(/\s+/);for(let U=0;U<O.length&&!(m>=E);U++)w[m]=parseFloat(O[U]),m++}const y=[];for(g++;v[g].length<1;)g++;if(_=v[g].trim().split(/\s+/),g++,_[0].includes("LINES")){const P=parseInt(_[1]);if(P<1)throw new Error("Corrupted VTK ASCII");let O=v[g].trim();const U=[];let W=[];if(O.startsWith("OFFSETS")){g++;let V=0;for(;V<P;){O=v[g].trim(),g++;const $=O.trim().split(/\s+/);for(let b=0;b<$.length&&(U[V]=parseInt($[b]),V++,!(V>=P));b++);}W=Array.from(w)}else{let V=function(){O=v[g].trim();const G=O.trim().split(/\s+/);b=[];for(let Y=0;Y<G.length;Y++)b.push(parseInt(G[Y]));H=0,g++},$=0;U[0]=0;let b=[],H=0;V();for(let G=0;G<P;G++){H>=b.length&&V();const Y=b[H++];$+=Y,U[G+1]=$;for(let X=0;X<Y;X++){H>=b.length&&V();const j=b[H++]*3;W.push(w[j+0]),W.push(w[j+1]),W.push(w[j+2])}}}return{pts:Float32Array.from(W),offsetPt0:Uint32Array.from(U)}}else if(_[0].includes("TRIANGLE_STRIPS")){const P=parseInt(_[1]);for(let O=0;O<P;O++){const U=v[g].trim();g++;const W=U.trim().split(/\s+/),V=parseInt(W[0])-2;let $=1;for(let b=0;b<V;b++)b%2?(y.push(parseInt(W[$+2])),y.push(parseInt(W[$+1])),y.push(parseInt(W[$]))):(y.push(parseInt(W[$])),y.push(parseInt(W[$+1])),y.push(parseInt(W[$+2]))),$+=1}}else if(_[0].includes("POLYGONS")){const P=parseInt(_[1]);for(let O=0;O<P;O++){const U=v[g].trim();g++;const W=U.trim().split(/\s+/),V=parseInt(W[0])-2,$=parseInt(W[1]);let b=parseInt(W[2]);for(let H=0;H<V;H++){const G=parseInt(W[3+H]);y.push($),y.push(b),y.push(G),b=G}}}else throw new Error("Unsupported ASCII VTK datatype "+_[0]);const e=new Uint32Array(y);return{positions:w,indices:e}}static readLayer(n="",u,p,v=.5,d="warm",g="winter",_=!1,C=null,E=null,w=0){const m={...NVMeshLayerDefaults,colormapInvert:!1,alphaThreshold:!1,isTransparentBelowCalMin:!0,isAdditiveBlend:!1,colorbarVisible:!0},y=/(?:\.([^.]+))?$/;let e=y.exec(n)[1];e=e.toUpperCase(),e==="GZ"&&(e=y.exec(n.slice(0,-3))[1],e=e.toUpperCase());const P=p.vertexCount/3;if(p.offsetPt0){if(e!=="TSF")throw new Error("readLayer for streamlines only supports TSF files.");const W=p.pts.length/3,V=n.split("/");let $="Unknown";V.length>1&&V.pop()&&($=$.split(".").slice(0,-1).join("."));const b=Kt.readTSF(u,W);p.dpv||(p.dpv=[]);const H=b.reduce((Y,X)=>Math.min(Y,X)),G=b.reduce((Y,X)=>Math.max(Y,X));return p.dpv.push({id:$,vals:Float32Array.from(b.slice()),global_min:H,global_max:G,cal_min:H,cal_max:G}),m}if(P<3){log$1.error("n_vert < 3 in layer");return}if(e==="MZ3")m.values=Kt.readMZ3(u,P);else if(e==="ANNOT"){const W=Kt.readANNOT(u,P,!0);W instanceof Uint32Array?m.values=W:(m.values=W.scalars,m.colormapLabel=W.colormapLabel)}else if(e==="CRV"||e==="CURV")m.values=Kt.readCURV(u,P),m.isTransparentBelowCalMin=!1;else if(e==="GII"){const W=Kt.readGII(u,P);m.values=W.scalars,m.colormapLabel=W.colormapLabel}else if(e==="MGH"||e==="MGZ"){const W=Kt.readMGH(u,P,!0);"scalars"in W?(m.values=W.scalars,m.colormapLabel=W.colormapLabel):m.values=W}else if(e==="NII")m.values=Kt.readNII(u,P,p.anatomicalStructurePrimary);else if(e==="SMP")m.values=Kt.readSMP(u,P);else if(e==="STC")m.values=Kt.readSTC(u,P);else return log$1.warn("Unknown layer overlay format "+n),m;if(!m.values){log$1.error("no values in layer");return}m.nFrame4D=m.values.length/P,m.frame4D=0,m.outlineBorder=w;let O=m.values[0],U=m.values[0];for(let W=0;W<m.values.length;W++)O=Math.min(O,m.values[W]),U=Math.max(U,m.values[W]);return m.global_min=O,m.global_max=U,m.cal_min=C||0,C||(m.cal_min=O),m.cal_max=E||0,E||(m.cal_max=U),m.cal_minNeg=NaN,m.cal_maxNeg=NaN,m.opacity=v,m.colormap=d,m.colormapNegative=g,m.useNegativeCmap=_,m}static readSMP(n,u){const p=n.byteLength;let v=new DataView(n),d=v.getUint16(0,!0);if(d>5){const m=decompressSync$1(new Uint8Array(n));v=new DataView(m.buffer),d=v.getUint16(0,!0),n=m.buffer}d>5&&log$1.error("Unsupported or invalid BrainVoyager SMP version "+d);const g=v.getUint32(2,!0);g!==u&&log$1.error("SMP file has "+g+" vertices, background mesh has "+u);const _=v.getUint16(6,!0),C=new Float32Array(g*_);let E=9;function w(){const m=E;for(;E<p&&v.getUint8(E)!==0;)E++;return E++,new TextDecoder().decode(n.slice(m,E-1))}w();for(let m=0;m<_;m++){const y={};y.mapType=v.getUint32(E,!0),E+=4,d>=3&&y.mapType===3&&(y.nLags=v.getUint32(E,!0),E+=4,y.mnLag=v.getUint32(E,!0),E+=4,y.mxLag=v.getUint32(E,!0),E+=4,y.ccOverlay=v.getUint32(E,!0),E+=4),y.clusterSize=v.getUint32(E,!0),E+=4,y.clusterCheck=v.getUint8(E),E+=1,y.critThresh=v.getFloat32(E,!0),E+=4,y.maxThresh=v.getFloat32(E,!0),E+=4,d>=4&&(y.includeValuesGreaterThreshMax=v.getUint32(E,!0),E+=4),y.df1=v.getUint32(E,!0),E+=4,y.df2=v.getUint32(E,!0),E+=4,d>=5?(y.posNegFlag=v.getUint32(E,!0),E+=4):y.posNegFlag=3,y.cortexBonferroni=v.getUint32(E,!0),E+=4,y.posMinRGB=[0,0,0],y.posMaxRGB=[0,0,0],y.negMinRGB=[0,0,0],y.negMaxRGB=[0,0,0],d>=2&&(y.posMinRGB[0]=v.getUint8(E),E++,y.posMinRGB[1]=v.getUint8(E),E++,y.posMinRGB[2]=v.getUint8(E),E++,y.posMaxRGB[0]=v.getUint8(E),E++,y.posMaxRGB[1]=v.getUint8(E),E++,y.posMaxRGB[2]=v.getUint8(E),E++,d>=4&&(y.negMinRGB[0]=v.getUint8(E),E++,y.negMinRGB[1]=v.getUint8(E),E++,y.negMinRGB[2]=v.getUint8(E),E++,y.negMaxRGB[0]=v.getUint8(E),E++,y.negMaxRGB[1]=v.getUint8(E),E++,y.negMaxRGB[2]=v.getUint8(E),E++),y.enableSMPColor=v.getUint8(E),E++,d>=4&&(y.lut=w()),y.colorAlpha=v.getFloat32(E,!0),E+=4),y.name=w();const e=new Float32Array(n,E,g);C.set(e,m*g),E+=g*4}return C}static readSTC(n,u){const p=new DataView(n),v=p.getInt32(8,!1);if(v!==u)throw new Error("Overlay has "+v+" vertices, expected "+u);let d=12+v*4;const g=p.getUint32(d,!1);d+=4;const _=new Float32Array(g*v);for(let C=0;C<g*v;C++)_[C]=p.getFloat32(d,!1),d+=4;return _}static readCURV(n,u){const p=new DataView(n),v=p.getUint8(0),d=p.getUint8(1),g=p.getUint8(2),_=p.getUint32(3,!1),C=p.getUint32(11,!1);if((v!==255||d!==255||g!==255)&&utiltiesLogger.debug("Unable to recognize file type: does not appear to be FreeSurfer format."),u!==_)throw new Error("CURV file has different number of vertices ( "+_+")than mesh ("+u+")");if(n.byteLength<15+4*_*C)throw new Error("CURV file smaller than specified");const E=new Float32Array(C*_);let w=15;for(let P=0;P<C*_;P++)E[P]=p.getFloat32(w,!1),w+=4;let m=E[0],y=E[0];for(let P=0;P<E.length;P++)m=Math.min(m,E[P]),y=Math.max(y,E[P]);const e=1/(y-m);for(let P=0;P<E.length;P++)E[P]=1-(E[P]-m)*e;return E}static readANNOT(n,u,p=!1){const v=new DataView(n),d=v.getUint32(0,!1);if(u!==d)throw new Error("ANNOT file has different number of vertices than mesh");if(n.byteLength<4+8*d)throw new Error("ANNOT file smaller than specified");let g=0;const _=new Uint32Array(d);for(let V=0;V<d;V++){const $=v.getUint32(g+=4,!1);_[$]=v.getUint32(g+=4,!1)}if(!p)return _;let C=0;try{C=v.getInt32(g+=4,!1)}catch{return _}if(C!==1||v.getInt32(g+=4,!1)>0)return _;const m=v.getInt32(g+=4,!1),y=v.getInt32(g+=4,!1);g+=y;const e=v.getInt32(g+=4,!1);if(e<1)return _;const P={R:Array(m).fill(0),G:Array(m).fill(0),B:Array(m).fill(0),A:Array(m).fill(0),I:Array(m).fill(0),labels:Array(m).fill("")};for(let V=0;V<e;V++){const $=v.getInt32(g+=4,!1),b=v.getInt32(g+=4,!1);g+=4;let H="";for(let h=0;h<b;h++){const ae=v.getUint8(g++);if(ae===0)break;H+=String.fromCharCode(ae)}g-=4;const G=v.getInt32(g+=4,!1),Y=v.getInt32(g+=4,!1),X=v.getInt32(g+=4,!1),j=v.getInt32(g+=4,!1);if($<0||$>=m){log$1.warn("annot entry out of range");continue}P.R[$]=G,P.G[$]=Y,P.B[$]=X,P.A[$]=j,P.I[$]=(j<<24)+(X<<16)+(Y<<8)+G,P.labels[$]=H}const O=new Float32Array(d);O.fill(-1);let U=0;for(let V=0;V<u;V++){const $=_[V];for(let b=0;b<m;b++)if(P.I[b]===$){O[V]=b;break}O[V]<0&&(U++,O[V]=0)}U>0&&log$1.error(`annot vertex colors do not match ${U} of ${d} vertices.`);for(let V=0;V<m;V++)P.I[V]=V;const W=cmapper.makeLabelLut(P);return{scalars:O,colormapLabel:W}}static readNV(n){const u=n.byteLength,p=new Uint8Array(n);let v=0;function d(){for(;v<u&&p[v]===10;)v++;const y=v;for(;v<u&&p[v]!==10;)v++;return v++,v-y<1?"":new TextDecoder().decode(n.slice(y,v-1))}let g=0,_=0,C=0,E=0,w,m;for(;v<u;){const y=d();if(y.startsWith("#"))continue;const e=y.trim().split(/\s+/);if(g<1){g=parseInt(e[0]),w=new Float32Array(g*3);continue}if(C<g*3){w[C]=parseFloat(e[0]),w[C+1]=parseFloat(e[1]),w[C+2]=parseFloat(e[2]),C+=3;continue}if(_<1){_=parseInt(e[0]),m=new Uint32Array(_*3);continue}if(E>=_*3)break;m[E+2]=parseInt(e[0])-1,m[E+1]=parseInt(e[1])-1,m[E+0]=parseInt(e[2])-1,E+=3}return{positions:w,indices:m}}static readASC(n){const u=n.byteLength,p=new Uint8Array(n);let v=0;function d(){for(;v<u&&p[v]===10;)v++;const e=v;for(;v<u&&p[v]!==10;)v++;return v++,v-e<1?"":new TextDecoder().decode(n.slice(e,v-1))}let g=d();g.startsWith("#!ascii")||log$1.warn("Invalid ASC mesh"),g=d();let _=g.trim().split(/\s+/);const C=parseInt(_[0]),E=parseInt(_[1]),w=new Float32Array(C*3);let m=0;for(let e=0;e<C;e++)g=d(),_=g.trim().split(/\s+/),w[m]=parseFloat(_[0]),w[m+1]=parseFloat(_[1]),w[m+2]=parseFloat(_[2]),m+=3;const y=new Uint32Array(E*3);m=0;for(let e=0;e<E;e++)g=d(),_=g.trim().split(/\s+/),y[m]=parseInt(_[0]),y[m+1]=parseInt(_[1]),y[m+2]=parseInt(_[2]),m+=3;return{positions:w,indices:y}}static readVTK(n){const u=n.byteLength;if(u<20)throw new Error("File too small to be VTK: bytes = "+n.byteLength);const p=new Uint8Array(n);let v=0;function d(O=!0){if(O)for(;v<u&&p[v]===10;)v++;const U=v;for(;v<u&&p[v]!==10;)v++;return v++,v-U<1?"":new TextDecoder().decode(n.slice(U,v-1))}let g=d();if(!g.startsWith("# vtk DataFile"))throw new Error("Invalid VTK mesh");if(g=d(!1),g=d(),g.startsWith("ASCII"))return Kt.readTxtVTK(n);if(!g.startsWith("BINARY"))throw new Error("Invalid VTK image, expected ASCII or BINARY "+g);if(g=d(),!g.includes("POLYDATA"))throw new Error("Only able to read VTK POLYDATA "+g);g=d(),(!g.includes("POINTS")||!g.includes("double")&&!g.includes("float"))&&log$1.warn("Only able to read VTK float or double POINTS"+g);const _=g.includes("double");let C=g.trim().split(/\s+/);const w=parseInt(C[1])*3,m=new Float32Array(w),y=new DataView(n);if(_)for(let O=0;O<w;O++)m[O]=y.getFloat64(v,!1),v+=8;else for(let O=0;O<w;O++)m[O]=y.getFloat32(v,!1),v+=4;g=d(),C=g.trim().split(/\s+/);const e=[];if(C[0].includes("LINES")){const O=parseInt(C[1]),U=v;if(g=d(),g.startsWith("OFFSETS")){let b=!1;g.includes("int64")&&(b=!0);const H=new Uint32Array(O);if(b){let Y=!1;for(let X=0;X<O;X++){let j=y.getInt32(v,!1);j!==0&&(Y=!0),v+=4,j=y.getInt32(v,!1),v+=4,H[X]=j}Y&&log$1.warn("int32 overflow: JavaScript does not support int64")}else for(let Y=0;Y<O;Y++){const X=y.getInt32(v,!1);v+=4,H[Y]=X}return{pts:m,offsetPt0:H}}v=U;let W=0;const V=[],$=[];V.push(W);for(let b=0;b<O;b++){const H=y.getInt32(v,!1);v+=4,W+=H,V.push(W);for(let G=0;G<H;G++){const Y=y.getInt32(v,!1)*3;v+=4,$.push(m[Y+0]),$.push(m[Y+1]),$.push(m[Y+2])}}return{pts:Float32Array.from($),offsetPt0:Uint32Array.from(V)}}else if(C[0].includes("TRIANGLE_STRIPS")){const O=parseInt(C[1]);for(let U=0;U<O;U++){const W=y.getInt32(v,!1)-2;v+=4;for(let V=0;V<W;V++)V%2?(e.push(y.getInt32(v+8,!1)),e.push(y.getInt32(v+4,!1)),e.push(y.getInt32(v,!1))):(e.push(y.getInt32(v,!1)),e.push(y.getInt32(v+4,!1)),e.push(y.getInt32(v+8,!1))),v+=4;v+=8}}else if(C[0].includes("POLYGONS")){const O=parseInt(C[1]);for(let U=0;U<O;U++){const W=y.getInt32(v,!1)-2;if(U===0&&W>65535)throw new Error("Invalid VTK binary polygons using little-endian data (MRtrix)");v+=4;const V=y.getInt32(v,!1);v+=4;let $=y.getInt32(v,!1);v+=4;for(let b=0;b<W;b++){const H=y.getInt32(v,!1);v+=4,e.push(V),e.push($),e.push(H),$=H}}}else throw new Error("Unsupported binary VTK datatype "+C[0]);const P=new Uint32Array(e);return{positions:m,indices:P}}static readDFS(n){const u=new DataView(n),p=u.getUint32(0,!0),v=u.getUint16(4,!0);(p!==1599292996||v!==17740)&&log$1.warn("Not a little-endian brainsuite DFS mesh");const d=u.getUint32(12,!0),g=u.getUint32(24,!0),_=u.getUint32(28,!0),C=u.getUint32(48,!0);let E=d;const w=new Uint32Array(n,E,g*3);E+=g*3*4;const m=new Float32Array(n,E,_*3);for(let e=0;e<_*3;e+=3){const P=m[e];m[e]=m[e+1],m[e+1]=P}let y;return C>=0&&(y=new Float32Array(n,C,_*3)),{positions:m,indices:w,colors:y}}static readMZ3(n,u=0){if(n.byteLength<20)throw new Error("File too small to be mz3: bytes = "+n.byteLength);let p=new DataView(n),v=p.getUint16(0,!0),d=n;if(v===35615||v===8075){const G=decompressSync$1(new Uint8Array(n));p=new DataView(G.buffer),v=p.getUint16(0,!0),d=G.buffer}const g=p.getUint16(2,!0),_=p.getUint32(4,!0);let C=p.getUint32(8,!0);const E=p.getUint32(12,!0);if(utiltiesLogger.debug("MZ3 magic %d attr %d face %d vert %d skip %d",v,g,_,C,E),v!==23117)throw new Error("Invalid MZ3 file");const w=(g&1)!==0,m=(g&2)!==0,y=(g&4)!==0;let e=(g&8)!==0;const P=(g&16)!==0;if(g>63)throw new Error("Unsupported future version of MZ3 file");let O=4;P&&(O=8);let U=0;if(u>0&&!w&&_<1&&!y&&(e=!0),e){let G=u;u===0&&(G=C);const Y=16+E+(w?1:0)*_*12+(m?1:0)*G*12+(y?1:0)*G*4,X=Math.floor((d.byteLength-Y)/O);C!==u&&X%u===0&&(log$1.warn("Issue 729: mz3 mismatch scalar NVERT does not match mesh NVERT"),C=u),U=Math.floor(X/C),U<1&&(log$1.warn("Corrupt MZ3: file reports NSCALAR but not enough bytes"),e=!1)}if(C<3&&u<3)throw new Error("Not a mesh MZ3 file (maybe scalar)");u>0&&u!==C&&log$1.warn("Layer has "+C+"vertices, but background mesh has "+u);let W=16+E,V=null;w&&(V=new Uint32Array(d,W,_*3),W+=_*3*4);let $=null;m&&($=new Float32Array(d,W,C*3),W+=C*3*4);let b=null;if(y){b=new Float32Array(C*3);const G=new Uint8Array(d,W,C*4);W+=C*4;let Y=0,X=0;for(let j=0;j<C;j++){for(let h=0;h<3;h++)b[Y]=G[X]/255,Y++,X++;X++}}let H=new Float32Array;if(!y&&e&&U>0){if(P){const G=new Float64Array(d,W,U*C);H=Float32Array.from(G)}else H=new Float32Array(d,W,U*C);W+=O*U*C}return u>0?H:{positions:$,indices:V,scalars:H,colors:b}}static readPLY(n){const u=n.byteLength,p=new Uint8Array(n);let v=0;function d(){for(;v<u&&p[v]===10;)v++;const X=v;for(;v<u&&p[v]!==10;)v++;return v++,v-X<1?"":new TextDecoder().decode(n.slice(X,v-1))}let g=d();if(!g.startsWith("ply"))throw new Error("Not a valid PLY file");g=d();const _=g.includes("ascii");function C(X){if(X==="char"||X==="uchar"||X==="int8"||X==="uint8")return 1;if(X==="short"||X==="ushort"||X==="int16"||X==="uint16")return 2;if(X==="int"||X==="uint"||X==="int32"||X==="uint32"||X==="float"||X==="float32")return 4;if(X==="double")return 8;throw new Error("Unknown data type: "+X)}const E=g.includes("binary_little_endian");let w=0,m=!1,y=0,e=0,P=0,O=0,U=0,W=0,V=0;for(;v<u&&!g.startsWith("end_header");){if(g=d(),g.startsWith("comment"))continue;let X=g.split(/\s/);if(g.startsWith("element vertex"))for(w=parseInt(X[X.length-1]),g=d(),X=g.split(/\s/);g.startsWith("property");){const j=X[1];X[2]==="x"&&j.startsWith("double")?m=!0:X[2]==="x"&&!j.startsWith("float")&&log$1.error("Error: expect ply xyz to be float or double: "+g),y+=C(j),g=d(),X=g.split(/\s/)}if(g.startsWith("element face"))for(V=parseInt(X[X.length-1]),g=d(),X=g.split(/\s/);g.startsWith("property");){if(X[1]==="list")P=C(X[2]),O=C(X[3]),e+=P+3*O;else{const j=C(X[1]);e+=j,O===0&&(U+=j,W++)}g=d(),X=g.split(/\s/)}}if(_){V<1&&log$1.error(`Malformed ply format: faces ${V} `);const X=new Float32Array(w*3);let j=0;for(let le=0;le<w;le++){g=d();const he=g.split(/\s/);X[j]=parseFloat(he[0]),X[j+1]=parseFloat(he[1]),X[j+2]=parseFloat(he[2]),j+=3}let h=new Uint32Array(V*3),ae=0;for(let le=0;le<V;le++){g=d();const he=g.split(/\s/),pe=parseInt(he[W])-2;if(pe<1)break;if(ae+pe*3>h.length){const ye=new Uint32Array(h.length+h.length);ye.set(h),h=ye.slice()}const Ae=parseInt(he[W+1]);let ge=parseInt(he[W+2]);for(let ye=0;ye<pe;ye++){const we=parseInt(he[W+3+ye]);h[ae+0]=Ae,h[ae+1]=ge,h[ae+2]=we,ge=we,ae+=3}}return h.length!==ae&&(h=h.slice(0,ae)),{positions:X,indices:h}}(y<12||P<1||O<1||V<1)&&log$1.warn(`Malformed ply format: stride ${y} count ${P} iBytes ${O} iStrideBytes ${e} iPadBytes ${U} faces ${V}`);const $=new DataView(n);let b;if(v%4===0&&y===12&&E)b=new Float32Array(n,v,w*3),v+=w*y;else{b=new Float32Array(w*3);let X=0;for(let j=0;j<w;j++)m?(b[X]=$.getFloat64(v,E),b[X+1]=$.getFloat64(v+8,E),b[X+2]=$.getFloat64(v+16,E)):(b[X]=$.getFloat32(v,E),b[X+1]=$.getFloat32(v+4,E),b[X+2]=$.getFloat32(v+8,E)),X+=3,v+=y}const H=new Uint32Array(V*3);let G=!0,Y=0;if(P===1&&O===4&&e===13)for(let X=0;X<V;X++){const j=$.getUint8(v);v+=P,j!==3&&(G=!1),H[Y]=$.getUint32(v,E),v+=4,H[Y+1]=$.getUint32(v,E),v+=4,H[Y+2]=$.getUint32(v,E),v+=4,Y+=3}else{let X=v;for(let j=0;j<V;j++){v=X+U;let h=0;P===1?h=$.getUint8(v):P===2?h=$.getUint16(v,E):P===4&&(h=$.getUint32(v,E)),v+=P,h!==3&&(G=!1);for(let ae=0;ae<3;ae++)O===1?H[Y]=$.getUint8(v):O===2?H[Y]=$.getUint16(v,E):O===4&&(H[Y]=$.getUint32(v,E)),Y++,v+=O;X+=e}}return G||log$1.warn("Only able to read PLY meshes limited to triangles."),{positions:b,indices:H}}static readICO(n){const v=new TextDecoder("utf-8").decode(n).split(`
`);let d=v[0].trim().split(/\s+/);d.length>1&&log$1.warn("This is not a valid FreeSurfer ICO/TRI mesh.");const g=parseInt(d[0]),_=new Float32Array(g*3);let C=1;for(let m=0;m<g;m++){const y=v[C].trim().split(/\s+/);C++;let e=parseInt(y[0])-1;const P=parseFloat(y[1]),O=parseFloat(y[2]),U=parseFloat(y[3]);if(e<0||e>=g){log$1.error("ICO vertices corrupted");break}e*=3,_[e]=P,_[e+1]=O,_[e+2]=U}d=v[C].trim().split(/\s+/),C++;const E=parseInt(d[0]),w=new Uint32Array(E*3);for(let m=0;m<E;m++){const y=v[C].trim().split(/\s+/);C++;let e=parseInt(y[0])-1;const P=parseInt(y[1])-1,O=parseInt(y[2])-1,U=parseInt(y[3])-1;if(e<0||e>=E){log$1.error("ICO indices corrupted");break}e*=3,w[e]=P,w[e+1]=O,w[e+2]=U}for(let m=0;m<w.length;m+=3){const y=w[m];w[m]=w[m+1],w[m+1]=y}return{positions:_,indices:w}}static readGEO(n,u=!1){const d=new TextDecoder("utf-8").decode(n).split(`
`),g=d[0].trim().split(/\s+/),_=parseInt(g[0]);let C=parseInt(g[1]),E=parseInt(g[2]);const w=parseInt(g[3]);(_>1||w!==E*3)&&log$1.warn("Multi-part BYU/GEO header or not a triangular mesh.");const m=[];C*=3;let y=0,e=2;for(;y<C;){const V=d[e].trim().split(/\s+/);e++;for(let $=0;$<V.length&&(m.push(parseFloat(V[$])),y++,!(y>=C));$++);}const P=[];E*=3;let O=0;for(;O<E;){const V=d[e].trim().split(/\s+/);e++;for(let $=0;$<V.length&&(P.push(Math.abs(parseInt(V[$]))-1),O++,!(O>=E));$++);}if(u)for(let V=0;V<P.length;V+=3){const $=P[V];P[V]=P[V+1],P[V+1]=$}const U=new Float32Array(m),W=new Uint32Array(P);return{positions:U,indices:W}}static readOFF(n){const v=new TextDecoder("utf-8").decode(n).split(`
`),d=[],g=[];let _=0;v[_].includes("OFF")?_++:log$1.warn("File does not start with OFF");let C=v[_].trim().split(/\s+/);const E=parseInt(C[0]),w=parseInt(C[1]);_++;for(let e=0;e<E;e++)C=v[_].trim().split(/\s+/),d.push(parseFloat(C[0])),d.push(parseFloat(C[1])),d.push(parseFloat(C[2])),_++;for(let e=0;e<w;e++)C=v[_].trim().split(/\s+/),parseInt(C[0])!==3&&log$1.warn("Only able to read OFF files with triangular meshes"),g.push(parseInt(C[1])),g.push(parseInt(C[2])),g.push(parseInt(C[3])),_++;const m=new Float32Array(d),y=new Uint32Array(g);return{positions:m,indices:y}}static readOBJMNI(n){const v=new TextDecoder("utf-8").decode(n).trim().split(/\s*,\s*|\s+/);(v.length<1||v[0]!=="P")&&log$1.warn("This is not a valid MNI OBJ mesh.");let d=6;const g=parseInt(v[d++]),_=g*3,C=new Float32Array(_);for(let P=0;P<_;P++)C[P]=parseFloat(v[d++]);d+=_;const E=parseInt(v[d++]),w=parseInt(v[d++]);(E<1||w<0||w>2)&&log$1.warn("This is not a valid MNI OBJ mesh.");let m=1;w===1?m=E:w===1&&(m=g),d+=m*4,d+=E;const y=E*3,e=new Uint32Array(y);for(let P=0;P<y;P++)e[P]=parseInt(v[d++]);return{positions:C,indices:e}}static readOBJ(n){const p=new TextDecoder("utf-8").decode(n);if(p[0]==="P")return this.readOBJMNI(n);const v=p.split(`
`),d=v.length,g=[],_=[];for(let w=0;w<d;w++){const m=v[w];if(m[0]==="v"&&m[1]===" "){const y=m.trim().split(/\s+/);g.push(parseFloat(y[1])),g.push(parseFloat(y[2])),g.push(parseFloat(y[3]))}if(m[0]==="f"){const y=m.trim().split(/\s+/),e=y.length-3;if(e<1)break;let P=y[1].split("/");const O=parseInt(P[0])-1;P=y[2].split("/");let U=parseInt(P[0])-1;for(let W=0;W<e;W++){P=y[3+W].split("/");const V=parseInt(P[0])-1;_.push(O),_.push(U),_.push(V),U=V}}}const C=new Float32Array(g),E=new Uint32Array(_);return{positions:C,indices:E}}static readFreeSurfer(n){const u=new Uint8Array(n);if(u[0]===35&&u[1]===33&&u[2]===97)return Kt.readASC(n);const p=new DataView(n),v=p.getUint32(0,!1),d=p.getUint32(4,!1);(v!==4294966883||d!==1919246708)&&utiltiesLogger.debug("Unable to recognize file type: does not appear to be FreeSurfer format.");let g=0;for(;p.getUint8(g)!==10;)g++;g+=2;let _=p.getUint32(g,!1);g+=4;let C=p.getUint32(g,!1);g+=4,_*=3;const E=new Float32Array(_);for(let e=0;e<_;e++)E[e]=p.getFloat32(g,!1),g+=4;C*=3;const w=new Uint32Array(C);for(let e=0;e<C;e++)w[e]=p.getUint32(g,!1),g+=4;const m=p.getUint32(g,!1);g+=4;let y=m===20;if(!y){const e=p.getUint32(g,!1);g+=4;const P=p.getUint32(g,!1);g+=4,y=m===2&&e===0&&P===20}if(!y)log$1.warn("Unknown FreeSurfer Mesh extension code.");else{const P=new TextDecoder().decode(n.slice(g)).trim().split(`
`);for(let O=0;O<P.length;O++){if(!P[O].startsWith("cras"))continue;const W=P[O].split("=")[1].trim().split(" ").map(Number),V=Math.floor(E.length/3);let $=0;for(let b=0;b<V;b++)E[$]+=W[0],$++,E[$]+=W[1],$++,E[$]+=W[2],$++}}return{positions:E,indices:w}}static readSRF(n){const u=new Uint8Array(n);if(u[0]===35&&u[1]===33&&u[2]===97)return Kt.readASC(n);u[0]===31&&u[1]===139&&(n=decompressSync$1(new Uint8Array(n)).buffer);const p=new DataView(n),v=p.getFloat32(0,!0),d=p.getUint32(8,!0),g=p.getUint32(12,!0),_=p.getFloat32(16,!0),C=p.getFloat32(20,!0),E=p.getFloat32(24,!0),w=new Float32Array(d*3);let m=28,y=1;for(let G=0;G<d;G++)w[y]=-p.getFloat32(m,!0)+_,y+=3,m+=4;y=2;for(let G=0;G<d;G++)w[y]=-p.getFloat32(m,!0)+C,y+=3,m+=4;y=0;for(let G=0;G<d;G++)w[y]=-p.getFloat32(m,!0)+E,y+=3,m+=4;m=28+4*6*d;const e=p.getFloat32(m,!0),P=p.getFloat32(m+4,!0),O=p.getFloat32(m+8,!0),U=p.getFloat32(m+16,!0),W=p.getFloat32(m+20,!0),V=p.getFloat32(m+24,!0);m+=8*4;const $=new Float32Array(d*3),b=new Uint32Array(n,m,d);y=0;for(let G=0;G<d;G++){const Y=b[G];Y>1056964608&&($[y+0]=(Y>>16&255)/255,$[y+1]=(Y>>8&255)/255,$[y+2]=(Y&255)/255),Y===0&&($[y+0]=e,$[y+1]=P,$[y+2]=O),Y===1&&($[y+0]=U,$[y+1]=W,$[y+2]=V),y+=3}m+=d*4;for(let G=0;G<d;G++){const Y=p.getUint32(m,!0);m+=4+4*Y}const H=new Uint32Array(g*3);for(let G=0;G<g*3;G++)H[G]=p.getInt32(m,!0),m+=4;return v!==4&&log$1.warn("Not valid SRF"),{positions:w,indices:H,colors:$}}static readTxtSTL(n){const v=new TextDecoder("utf-8").decode(n).split(`
`);if(!v[0].startsWith("solid"))throw new Error("Not a valid STL file");const d=[];for(let E=1;E<v.length;E++){if(!v[E].includes("vertex"))continue;const w=v[E].trim().split(/\s+/);for(let m=1;m<w.length;m++)d.push(parseFloat(w[m]))}const g=Math.floor(d.length/3);if(g*3!==d.length)throw new Error("Unable to parse ASCII STL file.");const _=new Float32Array(d),C=new Uint32Array(g);for(let E=0;E<g;E++)C[E]=E;return{positions:_,indices:C}}static readSTL(n){if(n.byteLength<134)throw new Error("File too small to be STL: bytes = "+n.byteLength);const u=new DataView(n);if(u.getUint32(0,!0)===1768714099)return Kt.readTxtSTL(n);const v=u.getUint32(80,!0),d=3*v;if(n.byteLength<84+v*50)throw new Error("STL file too small to store triangles = "+v);const g=new Uint32Array(d),_=new Float32Array(d*3);let C=96,E=0;for(let w=0;w<v;w++){for(let m=0;m<9;m++)_[E]=u.getFloat32(C,!0),E+=1,C+=4;C+=14}for(let w=0;w<d;w++)g[w]=w;return{positions:_,indices:g}}static readNII2(n,u=0,p=""){let v=new Float32Array;const d=n.byteLength;let g=!0;const _=new DataView(n);let C=_.getUint16(0,g);if(C===469893120&&(g=!1,C=_.getUint16(0,g)),C!==540)throw new Error("Not a valid NIfTI-2 dataset");const E=Number(_.getBigInt64(168,g)),w=_.getFloat64(176,g),m=_.getFloat64(184,g);(w!==1||m!==0)&&log$1.warn("ignoring scale slope and intercept");const y=_.getUint32(504,g),e=_.getUint16(12,g);if(e!==2&&e!==4&&e!==8&&e!==16)throw new Error("Unsupported NIfTI datatype "+e);let P=1;const O=[1,1,1,1,1,1,1,1];for(let U=1;U<8;U++)O[U]=Math.max(Number(_.getBigInt64(16+U*8,g)),1),P*=O[U];if(y>=3e3&&y<=3099&&E>580){let U=function(){for(;j<d&&X[j]===10;)j++;const ge=j;for(;j<d&&X[j]!==10;)j++;return j++,j-ge<1?"":new TextDecoder().decode(n.slice(ge,j-1)).trim()},W=function(){let ge=U();if(!ge.startsWith("<")||ge.endsWith(">"))return ge;for(;j<d&&!ge.endsWith(">");)ge+=U();return ge},V=function(ge,ye=!1){const we=h.indexOf(ge);if(we<0)return 1;const be=h.indexOf('"',we)+1,Ve=h.indexOf('"',be),Ne=h.slice(be,Ve);return ye?Ne:parseInt(Ne)},$=0,b=0,H=0,G="",Y=new Uint32Array;const X=new Uint8Array(n);let j=552,h;const ae=O[5],le=new Float32Array(u*ae);for(;j<d&&(h=W(),!h.includes("</CIFTI>"));)if(h.includes("<BrainModel")){const ge=V("SurfaceNumberOfVertices="),ye=V("BrainStructure=",!0).toUpperCase();if(ge%u!==0)continue;let we=!1;if(p.includes("CORTEX")&&ye.includes("CORTEX")&&(we=!0),!we||(we=!1,p.includes("LEFT")&&ye.includes("LEFT")&&(we=!0),p.includes("RIGHT")&&ye.includes("RIGHT")&&(we=!0),!we))continue;if(H=ge,$=V("IndexOffset="),b=V("IndexCount="),G=ye,h.includes("<VertexIndices>")||(h=W()),!h.startsWith("<VertexIndices>")||!h.endsWith("</VertexIndices>"))return log$1.warn("Unable to find CIfTI <VertexIndices>"),le;h=h.slice(15,-16);const be=h.trim().split(/\s+/);be.length<b&&log$1.error("Error parsing VertexIndices"),Y=new Uint32Array(b);for(let Ve=0;Ve<b;Ve++)Y[Ve]=parseInt(be[Ve])}if(H===0||Y.length===0)return log$1.warn("Unable to find CIfTI structure that matches the mesh."),le;if(e!==16)return log$1.warn("Only able to read float32 CIfTI (only known datatype)."),le;const he=new Float32Array(b*ae),pe=E+ae*$*4;for(let ge=0;ge<b*ae;ge++)he[ge]=_.getFloat32(pe+ge*4,g);let Ae=0;for(let ge=0;ge<b;ge++)for(let ye=0;ye<ae;ye++)le[Y[ge]+ye*u]=he[Ae],Ae++;return log$1.debug("CIfTI diagnostics",H,G,$,b,$,p),le}if(P%u!==0)throw new Error("Vertices in NIfTI ("+P+") is not a multiple of number of vertices ("+u+")");if(g)e===16?v=new Float32Array(n,E,P):e===8?v=new Int32Array(n,E,P):e===4&&(v=new Int16Array(n,E,P));else if(e===16){v=new Float32Array(P);for(let U=0;U<P;U++)v[U]=_.getFloat32(E+U*4,g)}else if(e===8){v=new Int32Array(P);for(let U=0;U<P;U++)v[U]=_.getInt32(E+U*4,g)}else if(e===4){v=new Int16Array(P);for(let U=0;U<P;U++)v[U]=_.getInt16(E+U*2,g)}return e===2&&(v=new Uint8Array(n,E,P)),v}static readNII(n,u=0,p=""){let v=new Float32Array,d=!0,g=new DataView(n),_=g.getUint16(0,d);if(_===540||_===469893120)return Kt.readNII2(n,u,p);if(_===23553&&(d=!1,_=g.getUint16(0,d)),_!==348){const e=decompressSync$1(new Uint8Array(n));if(g=new DataView(e.buffer),n=e.buffer,_=g.getUint16(0,d),_===540||_===469893120)return Kt.readNII2(n,u,p);_===23553&&(d=!1,_=g.getUint16(0,d))}_!==348&&log$1.error("Not a valid NIfTI image.");const C=g.getFloat32(108,d),E=g.getFloat32(112,d),w=g.getFloat32(116,d);(E!==1||w!==0)&&log$1.warn("ignoring scale slope and intercept");const m=g.getUint16(70,d);if(m!==2&&m!==4&&m!==8&&m!==16)throw new Error("Unsupported NIfTI datatype "+m);let y=1;for(let e=1;e<8;e++){const P=g.getUint16(40+e*2,d);y*=Math.max(P,1)}if(y%u!==0)throw new Error("Vertices in NIfTI ("+y+") is not a multiple of number of vertices ("+u+")");if(d)m===16?v=new Float32Array(n,C,y):m===8?v=new Int32Array(n,C,y):m===4&&(v=new Int16Array(n,C,y));else if(m===16){v=new Float32Array(y);for(let e=0;e<y;e++)v[e]=g.getFloat32(C+e*4,d)}else if(m===8){v=new Int32Array(y);for(let e=0;e<y;e++)v[e]=g.getInt32(C+e*4,d)}else if(m===4){v=new Int16Array(y);for(let e=0;e<y;e++)v[e]=g.getInt16(C+e*2,d)}return m===2&&(v=new Uint8Array(n,C,y)),v}static readMGH(n,u=0,p=!1){let v=new DataView(n),d=n;if(v.getUint8(0)===31&&v.getUint8(1)===139){const Y=decompressSync$1(new Uint8Array(n));d=new ArrayBuffer(Y.byteLength),new Uint8Array(d).set(new Uint8Array(Y)),v=new DataView(Y.buffer)}const g=v.getInt32(0,!1),_=Math.max(1,v.getInt32(4,!1)),C=Math.max(1,v.getInt32(8,!1)),E=Math.max(1,v.getInt32(12,!1)),w=Math.max(1,v.getInt32(16,!1)),m=v.getInt32(20,!1);let y=284;const e=!1;(g!==1||m<0||m>4)&&log$1.warn("Not a valid MGH file");const P=_*C*E*w;let O=[];if(P%u!==0)return log$1.warn("Vertices in NIfTI ("+P+") is not a multiple of number of vertices ("+u+")"),O;if(m===3){O=new Float32Array(P);for(let Y=0;Y<P;Y++)O[Y]=v.getFloat32(y+Y*4,e)}else if(m===1){O=new Int32Array(P);for(let Y=0;Y<P;Y++)O[Y]=v.getInt32(y+Y*4,e)}else if(m===4){O=new Int16Array(P);for(let Y=0;Y<P;Y++)O[Y]=v.getInt16(y+Y*2,e)}else m===0&&(O=new Uint8Array(n,y,P));if(!p)return O;let U=4;m===4&&(U=2),m===0&&(U=1),y+=U*P,y+=4*4;const W=1,V=2,$=20,b=30,H=d.byteLength;let G;for(;y<H-8;){const Y=v.getInt32(y+=4,e);let X=0;switch(Y){case b:X=v.getInt32(y+=4,e)-1;break;case $:case V:X=0;break;case W:X=0;{let j=v.getInt32(y+=4,e);if(j>0)return log$1.warn("unsupported CTABreadFromBinaryV1"),O;if(j=-j,j!==2)return log$1.warn("CTABreadFromBinary: unknown version"),O;const h=v.getInt32(y+=4,e);if(h<0)return log$1.warn("CTABreadFromBinaryV2: nentries was ",h),O;const ae=v.getInt32(y+=4,e);y+=ae;const le=v.getInt32(y+=4,e);if(le<0)return O;const he={R:[],G:[],B:[],A:[],I:[],labels:[]};for(let pe=0;pe<le;pe++){const Ae=v.getInt32(y+=4,e),ge=v.getInt32(y+=4,e);let ye=y+4,we="";for(let k0=0;k0<ge;k0++){const Ue=v.getUint8(ye++);if(Ue===0)break;we+=String.fromCharCode(Ue)}y+=ge;const be=v.getInt32(y+=4,e),Ve=v.getInt32(y+=4,e),Ne=v.getInt32(y+=4,e),p0=255-v.getInt32(y+=4,e);he.I.push(Ae),he.R.push(be),he.G.push(Ve),he.B.push(Ne),he.A.push(p0),he.labels.push(we)}G=cmapper.makeLabelLut(he)}break;default:X=v.getInt32(y+=8,e)}y+=X}return{scalars:O,colormapLabel:G}}static readX3D(n){const u=n.byteLength;if(u<20)throw new Error("File too small to be X3D: bytes = "+u);const p=new Uint8Array(n);let v=0;function d(){for(;v<u&&p[v]!==60;)v++;const $=v;for(;v<u&&p[v]!==62;)v++;const b=v;return new TextDecoder().decode(n.slice($,b+1)).trim()}let g=d();function _($){const b=g.indexOf($+"=");if(b<0)return"";const H=g[b+$.length+1],G=g.indexOf(H,b)+1,Y=g.indexOf(H,G);return g.slice(G,Y)}function C($){const b=g.indexOf($+"=");if(b<0)return 1;const H=g[b+$.length+1],G=g.indexOf(H,b)+1,Y=g.indexOf(H,G);let X=g.slice(G,Y).trim();X=X.replace(/,\s*$/,"");const j=X.trim().split(/\s*,\s*|\s+/);if(j.length<2)return parseFloat(X);let h=new Array(j.length),ae=0;for(let le=0;le<j.length;le++){const he=parseFloat(j[le]);isFinite(he)&&(h[ae]=he,ae++)}return h=h.slice(0,ae),h}g.includes("xml version")||log$1.warn("Not a X3D image");let E=[],w=[],m=[],y=[],e=[0,0,0,0],P=[0,0,0,0],O=[255,255,255,255],U=[255,255,255,255];const W={};function V(){if(!g.endsWith("/>"))if(g.startsWith("<Appearance>"))for(;v<u&&!g.endsWith("</Appearance>");)g+=d();else for(;v<u&&!g.endsWith("/>");)g+=d();const $=_("USE");if($.length>1){$ in W?O=W[$]:log$1.warn("Unable to find DEF for "+$);return}const b=C("diffuseColor");if(b.length<3)return;O[0]=Math.round(b[0]*255),O[1]=Math.round(b[1]*255),O[2]=Math.round(b[2]*255);const H=_("DEF");H.length<1||(W[H]=O)}for(;v<u;)if(g=d(),O=U.slice(),g.startsWith("<Transform")&&(e=C("translation"),P=C("rotation")),g.startsWith("<Appearance")&&(V(),U=O.slice()),g.startsWith("<Shape")){let $=1,b=1,H=[],G=[];for(;v<u&&(g=d(),g.startsWith("<Appearance")&&V(),!g.startsWith("</Shape"));){if(g.startsWith("<Sphere")&&($=C("radius"),b=-1),g.startsWith("<Cylinder")&&($=C("radius"),b=C("height")),g.startsWith("<IndexedFaceSet")&&(b=-2,H=C("coordIndex")),g.startsWith("<IndexedTriangleSet")&&(b=-7,H=C("index")),g.startsWith("<IndexedTriangleStripSet")&&(b=-3,H=C("index")),g.startsWith("<Coordinate")){G=C("point");const Y=G.length%3;Y!==0&&(G=G.slice(0,-Y))}g.startsWith("<Color")&&(y=C("color")),g.startsWith("<Box")&&(b=-4,log$1.warn("Unsupported x3d shape: Box")),g.startsWith("<Cone")&&(b=-5,log$1.warn("Unsupported x3d shape: Cone")),g.startsWith("<ElevationGrid")&&(b=-6,log$1.warn("Unsupported x3d shape: ElevationGrid"))}if(!(b<-3&&b!==-7))if(b<-1){if(H.length<1||G.length<3||G.length===void 0){log$1.warn("Indexed mesh must specify indices and points");break}const Y=Math.floor(E.length/3);let X=2;if(b===-7)w=[...w,...H];else if(b===-2){let ae=0;for(;X<H.length;)H[X]>=0?(w.push(H[ae]+Y),w.push(H[X-1]+Y),w.push(H[X-0]+Y),X+=1):(X+=3,ae=X-2)}else for(;X<H.length;)H[X]>=0?(w.push(H[X-2]+Y),w.push(H[X-1]+Y),w.push(H[X-0]+Y),X+=1):X+=3;E=[...E,...G];const j=Math.floor(G.length/3),h=Array(j).fill(O).flat();if(y.length===j*3){let ae=0,le=0;for(let he=0;he<j;he++){for(let pe=0;pe<3;pe++)h[le]=Math.round(y[ae]*255),ae++,le++;le++}}m=[...m,...h]}else if(b<0)NiivueObject3D.makeColoredSphere(E,w,m,$,e,O);else{const Y=create$3();fromRotation(Y,P[3],[P[0],P[1],P[2]]);const X=fromValues$1(0,-b*.5,0,1),j=fromValues$1(0,+b*.5,0,1);transformMat4(X,X,Y),transformMat4(j,j,Y),add(X,X,e),add(j,j,e);const h=fromValues$2(X[0],X[1],X[2]),ae=fromValues$2(j[0],j[1],j[2]);NiivueObject3D.makeColoredCylinder(E,w,m,h,ae,$,O)}}return{positions:Float32Array.from(E),indices:Uint32Array.from(w),rgba255:Uint8Array.from(m)}}static readGII(n,u=0){let p=n.byteLength;if(p<20)throw new Error("File too small to be GII: bytes = "+p);let v=new TextDecoder("ascii").decode(n);if(v[0].charCodeAt(0)===31){const le=decompressSync$1(new Uint8Array(n));n=le.buffer,v=new TextDecoder("ascii").decode(le.buffer)}let d=0;function g(){let le=!0,he=d;for(;le;){for(;d<p&&v[d]!=="<";)d++;for(he=d;d<p&&v[d]!==">";)d++;if(le=v[d-1]==="/",he+1<p&&v[he+1]==="/"&&(d+=1,le=!0),d>=p)break}const pe=new TextDecoder().decode(n.slice(he+1,d)).trim(),Ae=pe.split(" ")[0].trim(),ge=d;let ye=d,we=d;if(v[he+1]!=="?"&&v[he+1]!=="!"){const be="</"+Ae+">";ye=v.indexOf(be,ge),we=ye+be.length-1}return{name:pe,startPos:he,contentStartPos:ge,contentEndPos:ye,endPos:we}}let _=g();if(!_.name.startsWith("?xml"))throw new Error("readGII: Invalid XML file");for(;!_.name.startsWith("GIFTI")&&_.endPos<p;)_=g();if(!_.name.startsWith("GIFTI")||_.contentStartPos===_.contentEndPos)throw new Error("readGII: XML file does not include GIFTI tag");p=_.contentEndPos;let C=new Float32Array,E=new Uint32Array,w=new Float32Array,m="",y=!1,e=!1,P=!1,O=!1,U=[1,1,1];const W=[0,0,0];let V=0,$=!1,b=!1,H=0,G=!1;_.endPos=_.contentStartPos;let Y="";function X(le,he=!1){const pe=Y.indexOf(le);if(pe<0)return 1;const Ae=Y.indexOf('"',pe)+1,ge=Y.indexOf('"',Ae),ye=Y.slice(Ae,ge);return he?parseFloat(ye):parseInt(ye)}function j(le){const he=Y.indexOf(le);if(he<0)return"";const pe=he+le.length,Ae=Y.indexOf("]",pe);return Y.slice(pe,Ae)}const h={R:[],G:[],B:[],A:[],I:[],labels:[]};for(;_.endPos<p&&_.name.length>1;){if(_=g(),_.name.startsWith("Label Key")&&(Y=_.name,h.I.push(X("Key=")),h.R.push(Math.round(255*X("Red=",!0))),h.G.push(Math.round(255*X("Green=",!0))),h.B.push(Math.round(255*X("Blue=",!0))),h.A.push(Math.round(255*X("Alpha",!0))),Y=new TextDecoder().decode(n.slice(_.contentStartPos+1,_.contentEndPos)).trim(),h.labels.push(j("<![CDATA["))),_.name.trim()==="Data"){if(P)continue;Y=new TextDecoder().decode(n.slice(_.contentStartPos+1,_.contentEndPos)).trim();let le;if(b){const he=U[0]*U[1]*U[2],pe=Y.split(/\s+/);if(he!==pe.length)throw new Error("Unable to parse ASCII GIfTI");if(V===2&&(V=8),V===32&&(V=16),V===8){le=new Int32Array(he);for(let Ae=0;Ae<he;Ae++)le[Ae]=parseInt(pe[Ae])}if(V===16){le=new Float32Array(he);for(let Ae=0;Ae<he;Ae++)le[Ae]=parseFloat(pe[Ae])}}else if(typeof Buffer>"u"){let he=function(pe){const Ae=atob(pe),ge=Ae.length,ye=new Uint8Array(ge);for(let we=0;we<ge;we++)ye[we]=Ae.charCodeAt(we);return ye};if($){const pe=he(Y.slice());le=decompressSync$1(new Uint8Array(pe))}else le=he(Y.slice())}else if($){const he=Buffer.from(Y.slice(),"base64");le=decompressSync$1(new Uint8Array(he))}else le=Buffer.from(Y.slice(),"base64");if(e){if(V!==16&&log$1.warn("expect positions as FLOAT32"),C=new Float32Array(le.buffer),O){const he=C.slice(),pe=he.length/3;let Ae=0;for(let ge=0;ge<pe;ge++)for(let ye=0;ye<3;ye++)C[Ae]=he[ye*pe+ge],Ae++}}else if(y){if(V!==8&&log$1.warn("expect indices as INT32"),E=new Uint32Array(le.buffer),O){const he=E.slice(),pe=he.length/3;let Ae=0;for(let ge=0;ge<pe;ge++)for(let ye=0;ye<3;ye++)E[Ae]=he[ye*pe+ge],Ae++}}else{let he=function(Ae,ge){const ye=Ae.length,we=new Float32Array(ye+ge.length);return we.set(Ae),we.set(ge,ye),we};H=U[0]*U[1]*U[2],u!==0&&H%u!==0&&log$1.warn("Number of vertices in scalar overlay ("+H+") does not match mesh ("+u+")");let pe;if(V===2){const Ae=new Uint8Array(le.buffer);pe=Float32Array.from(Ae)}else if(V===8){const Ae=new Int32Array(le.buffer);pe=Float32Array.from(Ae)}else if(V===16)pe=new Float32Array(le.buffer);else if(V===32){const Ae=new Float64Array(le.buffer);pe=Float32Array.from(Ae)}else throw new Error(`Invalid dataType: ${V}`);w=he(w,pe)}continue}if(_.name.trim()==="DataSpace"&&(Y=new TextDecoder().decode(n.slice(_.contentStartPos+1,_.contentEndPos)).trim(),Y.includes("NIFTI_XFORM_SCANNER_ANAT")&&(G=!0)),_.name.trim()==="MD"&&(Y=new TextDecoder().decode(n.slice(_.contentStartPos+1,_.contentEndPos)).trim(),Y.includes("AnatomicalStructurePrimary")&&Y.includes("CDATA[")&&(m=j("<Value><![CDATA[").toUpperCase()),Y.includes("VolGeom")&&Y.includes("CDATA["))){let le=-1;if(Y.includes("VolGeomC_R")&&(le=0),Y.includes("VolGeomC_A")&&(le=1),Y.includes("VolGeomC_S")&&(le=2),le<0)continue;W[le]=parseFloat(j("<Value><![CDATA["))}_.name.startsWith("DataArray")&&(Y=_.name,U=[1,1,1],$=Y.includes('Encoding="GZipBase64Binary"'),b=Y.includes('Encoding="ASCII"'),y=Y.includes('Intent="NIFTI_INTENT_TRIANGLE"'),e=Y.includes('Intent="NIFTI_INTENT_POINTSET"'),P=Y.includes('Intent="NIFTI_INTENT_VECTOR"'),O=Y.includes('ArrayIndexingOrder="ColumnMajorOrder"'),Y.includes('DataType="NIFTI_TYPE_UINT8"')&&(V=2),Y.includes('DataType="NIFTI_TYPE_INT32"')&&(V=8),Y.includes('DataType="NIFTI_TYPE_FLOAT32"')&&(V=16),Y.includes('DataType="NIFTI_TYPE_FLOAT64"')&&(V=32),U[0]=X("Dim0="),U[1]=X("Dim1="),U[2]=X("Dim2="))}let ae;if(h.I.length>1&&(ae=cmapper.makeLabelLut(h)),u>0)return{scalars:w,colormapLabel:ae,anatomicalStructurePrimary:m};if(C.length>2&&!G&&(W[0]!==0||W[1]!==0||W[2]!==0)){H=Math.floor(C.length/3);let le=0;for(let he=0;he<H;he++)C[le]+=W[0],le++,C[le]+=W[1],le++,C[le]+=W[2],le++}return{positions:C,indices:E,scalars:w,colormapLabel:ae,anatomicalStructurePrimary:m}}},NVMeshLayerDefaults={colormap:"gray",opacity:0,nFrame4D:0,frame4D:0,outlineBorder:0,cal_min:0,cal_max:0,cal_minNeg:0,cal_maxNeg:0,values:new Array},NVMesh2=class gi{constructor(n,u,p="",v=new Uint8Array([255,255,255,255]),d=1,g=!0,_,C=null,E=null,w=null,m=null,y=!0,e=""){__publicField(this,"id"),__publicField(this,"name"),__publicField(this,"anatomicalStructurePrimary"),__publicField(this,"colorbarVisible"),__publicField(this,"furthestVertexFromOrigin"),__publicField(this,"extentsMin"),__publicField(this,"extentsMax"),__publicField(this,"opacity"),__publicField(this,"visible"),__publicField(this,"meshShaderIndex",0),__publicField(this,"offsetPt0",null),__publicField(this,"colormapInvert",!1),__publicField(this,"fiberGroupColormap",null),__publicField(this,"indexBuffer"),__publicField(this,"vertexBuffer"),__publicField(this,"vao"),__publicField(this,"vaoFiber"),__publicField(this,"pts"),__publicField(this,"tris"),__publicField(this,"layers"),__publicField(this,"type","mesh"),__publicField(this,"data_type"),__publicField(this,"rgba255"),__publicField(this,"fiberLength"),__publicField(this,"fiberLengths"),__publicField(this,"fiberDither",.1),__publicField(this,"fiberColor","Global"),__publicField(this,"fiberDecimationStride",1),__publicField(this,"fiberSides",5),__publicField(this,"fiberRadius",0),__publicField(this,"f32PerVertex",5),__publicField(this,"fiberMask"),__publicField(this,"colormap"),__publicField(this,"dpg"),__publicField(this,"dps"),__publicField(this,"dpv"),__publicField(this,"hasConnectome",!1),__publicField(this,"connectome"),__publicField(this,"indexCount"),__publicField(this,"vertexCount",1),__publicField(this,"nodeScale",4),__publicField(this,"edgeScale",1),__publicField(this,"legendLineThickness",0),__publicField(this,"nodeColormap","warm"),__publicField(this,"edgeColormap","warm"),__publicField(this,"nodeColormapNegative"),__publicField(this,"edgeColormapNegative"),__publicField(this,"nodeMinColor"),__publicField(this,"nodeMaxColor"),__publicField(this,"edgeMin"),__publicField(this,"edgeMax"),__publicField(this,"nodes"),__publicField(this,"edges"),__publicField(this,"points"),this.anatomicalStructurePrimary=e,this.name=p,this.colorbarVisible=y,this.id=v4();const P=NVMeshUtilities.getExtents(n);if(this.furthestVertexFromOrigin=P.mxDx,this.extentsMin=P.extentsMin,this.extentsMax=P.extentsMax,this.opacity=d>1?1:d,this.visible=g,this.meshShaderIndex=0,this.indexBuffer=_.createBuffer(),this.vertexBuffer=_.createBuffer(),this.vao=_.createVertexArray(),_.bindVertexArray(this.vao),_.bindBuffer(_.ELEMENT_ARRAY_BUFFER,this.indexBuffer),_.bindBuffer(_.ARRAY_BUFFER,this.vertexBuffer),_.enableVertexAttribArray(0),_.enableVertexAttribArray(1),this.f32PerVertex!==7?(_.vertexAttribPointer(0,3,_.FLOAT,!1,20,0),_.vertexAttribPointer(1,4,_.BYTE,!0,20,12),_.enableVertexAttribArray(2),_.vertexAttribPointer(2,4,_.UNSIGNED_BYTE,!0,20,16)):(_.vertexAttribPointer(0,3,_.FLOAT,!1,28,0),_.vertexAttribPointer(1,3,_.FLOAT,!1,28,12),_.enableVertexAttribArray(2),_.vertexAttribPointer(2,4,_.UNSIGNED_BYTE,!0,28,24)),_.bindVertexArray(null),this.vaoFiber=_.createVertexArray(),this.offsetPt0=null,this.hasConnectome=!1,this.colormapInvert=!1,this.fiberGroupColormap=null,this.pts=n,this.layers=[],this.type="mesh",this.tris=u,v[3]<1){this.rgba255=v,this.fiberLength=2,this.fiberDither=.1,this.fiberColor="Global",this.fiberDecimationStride=1,this.fiberMask=[],this.colormap=C,this.dpg=E,this.dps=w,this.dpv=m,E&&this.initValuesArray(E),w&&this.initValuesArray(w),m&&this.initValuesArray(m),this.offsetPt0=u,this.updateFibers(_),_.bindVertexArray(this.vaoFiber),_.bindBuffer(_.ELEMENT_ARRAY_BUFFER,this.indexBuffer),_.bindBuffer(_.ARRAY_BUFFER,this.vertexBuffer),_.enableVertexAttribArray(0),_.vertexAttribPointer(0,3,_.FLOAT,!1,16,0),_.enableVertexAttribArray(1),_.vertexAttribPointer(1,4,_.UNSIGNED_BYTE,!0,16,12),_.bindVertexArray(null);return}if(C){this.connectome=C,this.hasConnectome=!0;const U=Object.keys(C);for(let W=0,V=U.length;W<V;W++)this[U[W]]=C[U[W]]}this.rgba255=v,this.updateMesh(_)}initValuesArray(n){for(let u=0;u<n.length;u++){const p=n[u].vals.reduce((d,g)=>Math.min(d,g)),v=n[u].vals.reduce((d,g)=>Math.max(d,g));n[u].global_min=p,n[u].global_max=v,n[u].cal_min=p,n[u].cal_max=v}return n}linesToCylinders(n,u,p){function v(j){return fromValues$2(j[0],j[1],j[2])}const d=Math.pow(2,32)-1,g=p.length;let _=0,C=0;for(let j=0;j<g;j++){if(p[j]===d){C++;continue}_++}const E=this.fiberSides,w=E*_,m=this.f32PerVertex;if(m!==5)throw Error("fiberSides > 1 requires f32PerVertex == 5");const y=new Float32Array(w*m),e=new Uint8Array(y.buffer);let P=0,O=create$1(),U=create$1(),W=create$1();const V=create$2();let $=create$2(),b=0;const H=this.fiberRadius;for(let j=0;j<g;j++){const h=p[j]===d;if(h&&b<1)continue;let ae=p[j]*4;if(b++,b<=1){O=fromValues$1(u[ae+0],u[ae+1],u[ae+2],u[ae+3]),U=clone(O),j+1<g&&p[j+1]!==d&&(ae=p[j+1]*4,W=fromValues$1(u[ae+0],u[ae+1],u[ae+2],u[ae+3]),subtract$1(V,v(O),v(W)),normalize$1(V,V),$=NiivueObject3D.getFirstPerpVector(V));continue}h?W=clone(U):W=fromValues$1(u[ae+0],u[ae+1],u[ae+2],u[ae+3]),subtract$1(V,v(O),v(W)),normalize$1(V,V);const le=create$2();cross(le,$,V);const he=create$2();cross(he,V,le),$=clone$1($);const pe=create$2();cross(pe,V,he),normalize$1(pe,pe);const Ae=create$2();for(let ge=0;ge<E;ge++){const ye=Math.cos(ge/E*2*Math.PI),we=Math.sin(ge/E*2*Math.PI);Ae[0]=H*(ye*he[0]+we*pe[0]),Ae[1]=H*(ye*he[1]+we*pe[1]),Ae[2]=H*(ye*he[2]+we*pe[2]),add$1(Ae,v(U),Ae);const be=P*m;y[be+0]=Ae[0],y[be+1]=Ae[1],y[be+2]=Ae[2];const Ve=create$2();subtract$1(Ve,Ae,v(U)),normalize$1(Ve,Ve);const Ne=(be+3)*4;e[Ne+0]=Ve[0]*127,e[Ne+1]=Ve[1]*127,e[Ne+2]=Ve[2]*127,y[be+4]=U[3],P++}O=clone(U),U=clone(W),h&&(b=0)}const G=(_-C)*E*2*3,Y=new Uint32Array(G);let X=0;P=0;for(let j=1;j<g;j++){if(p[j]===d){P+=E;continue}if(p[j-1]===d)continue;let h=P,ae=P+E;const le=ae,he=ae+E;for(let pe=0;pe<E;pe++)Y[X++]=h,Y[X++]=ae++,ae===he&&(ae=he-E),Y[X++]=ae,Y[X++]=h++,h===le&&(h=le-E),Y[X++]=ae,Y[X++]=h;P+=E}n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,Uint32Array.from(Y),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,this.vertexBuffer),n.bufferData(n.ARRAY_BUFFER,Float32Array.from(y),n.STATIC_DRAW),this.indexCount=G}updateFibers(n){if(!this.offsetPt0||!this.fiberLength)return;const u=this.pts,p=this.offsetPt0,v=p.length-1,d=u.length/3;if(!this.fiberLengths){this.fiberLengths=new Uint32Array(v);for(let G=0;G<v;G++){const Y=p[G]*3,X=(p[G+1]-1)*3;let j=0;for(let h=Y;h<X;h+=3){const ae=fromValues$2(u[h+0]-u[h+3],u[h+1]-u[h+4],u[h+2]-u[h+5]);j+=len(ae)}this.fiberLengths[G]=j}}const g=new Float32Array(d*4),_=new Uint32Array(g.buffer);let C=0,E=0;for(let G=0;G<d;G++)g[E+0]=u[C+0],g[E+1]=u[C+1],g[E+2]=u[C+2],C+=3,E+=4;const w=this.fiberDither,m=w*.5;function y(G,Y,X){const h=255*(w*Math.random()-m);return G=Math.max(Math.min(G+h,255),0),Y=Math.max(Math.min(Y+h,255),0),X=Math.max(Math.min(X+h,255),0),G+(Y<<8)+(X<<16)}function e(G,Y,X,j,h,ae,le){const he=fromValues$2(Math.abs(G-j),Math.abs(Y-h),Math.abs(X-ae));normalize$1(he,he);const pe=le-m;for(let Ae=0;Ae<3;Ae++)he[Ae]=255*Math.max(Math.min(Math.abs(he[Ae])+pe,1),0);return he[0]+(he[1]<<8)+(he[2]<<16)}const P=this.fiberColor.toLowerCase();let O=null,U=null;if(P.startsWith("dps")&&this.dps&&this.dps.length>0){const G=parseInt(P.substring(3));G<this.dps.length&&this.dps[G].vals.length===v&&(O=this.dps[G].vals)}if(P.startsWith("dpv")&&this.dpv&&this.dpv.length>0){const G=parseInt(P.substring(3));G<this.dpv.length&&this.dpv[G].vals.length===d&&(U=this.dpv[G])}const W=new Int16Array(v);if(this.dpg&&this.fiberGroupColormap!==null){const G=new Uint8ClampedArray(this.dpg.length*4),Y=new Array(this.dpg.length).fill(!1),X=this.fiberGroupColormap;X.A===void 0&&(X.A=Array.from(new Uint8ClampedArray(X.I.length).fill(255)));for(let j=0;j<X.I.length;j++){let h=X.I[j];h<0||h>=this.dpg.length||X.A[j]<1||(Y[h]=!0,h*=4,G[h]=X.R[j],G[h+1]=X.G[j],G[h+2]=X.B[j],G[h+3]=255)}W.fill(-1);for(let j=0;j<this.dpg.length;j++)if(Y[j])for(let h=0;h<this.dpg[j].vals.length;h++)W[this.dpg[j].vals[h]]=j;for(let j=0;j<v;j++){if(W[j]<0)continue;const h=W[j]%256*4,ae=y(G[h],G[h+1],G[h+2]),le=p[j],he=p[j+1]-1,pe=le*4+3,Ae=he*4+3;for(let ge=pe;ge<=Ae;ge+=4)_[ge]=ae}}else if(U){const G=cmapper.colormap(this.colormap,this.colormapInvert),Y=U.cal_min,X=U.cal_max;let j=3;for(let h=0;h<d;h++){let ae=Math.min(Math.max((U.vals[h]-Y)/(X-Y),0),1);ae=Math.round(Math.max(Math.min(255,ae*255)))*4;const le=G[ae]+(G[ae+1]<<8)+(G[ae+2]<<16);_[j]=le,j+=4}}else if(O){const G=cmapper.colormap(this.colormap,this.colormapInvert);let Y=O[0],X=O[0];for(let j=0;j<v;j++)Y=Math.min(Y,O[j]),X=Math.max(X,O[j]);X===Y&&(Y-=1);for(let j=0;j<v;j++){let h=(O[j]-Y)/(X-Y);h=Math.round(Math.max(Math.min(255,h*255)))*4;const ae=G[h]+(G[h+1]<<8)+(G[h+2]<<16),le=p[j],he=p[j+1]-1,pe=le*4+3,Ae=he*4+3;for(let ge=pe;ge<=Ae;ge+=4)_[ge]=ae}}else if(P.includes("fixed"))if(w===0){const G=this.rgba255[0]+(this.rgba255[1]<<8)+(this.rgba255[2]<<16);let Y=3;for(let X=0;X<d;X++)_[Y]=G,Y+=4}else for(let G=0;G<v;G++){const Y=y(this.rgba255[0],this.rgba255[1],this.rgba255[2]),X=p[G],j=p[G+1]-1,h=X*4+3,ae=j*4+3;for(let le=h;le<=ae;le+=4)_[le]=Y}else if(P.includes("local"))for(let G=0;G<v;G++){const Y=p[G],X=p[G+1]-1;let j=Y*3;const h=X*3,ae=w*Math.random();let le=e(u[j],u[j+1],u[j+2],u[j+4],u[j+5],u[j+6],ae),he=Y*4+3;for(;j<h;)_[he]=le,he+=4,j+=3,le=e(u[j-3],u[j-2],u[j-1],u[j+3],u[j+4],u[j+5],ae);_[he]=_[he-4]}else for(let G=0;G<v;G++){const Y=p[G],X=p[G+1]-1,j=Y*3,h=X*3,ae=e(u[j],u[j+1],u[j+2],u[h],u[h+1],u[h+2],w*Math.random()),le=Y*4+3,he=X*4+3;for(let pe=le;pe<=he;pe+=4)_[pe]=ae}const V=this.fiberLength,$=Math.pow(2,32)-1,b=[];let H=-1;for(let G=0;G<v;G++)if(!(W[G]<0)&&!(this.fiberLengths[G]<V)&&(H++,H%this.fiberDecimationStride===0)){for(let Y=p[G];Y<p[G+1];Y++)b.push(Y);b.push($)}this.fiberSides>2&&this.fiberRadius>0?this.linesToCylinders(n,g,b):(this.indexCount=b.length,n.bindBuffer(n.ARRAY_BUFFER,this.vertexBuffer),n.bufferData(n.ARRAY_BUFFER,Uint32Array.from(_),n.STATIC_DRAW),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,Uint32Array.from(b),n.STATIC_DRAW))}indexNearestXYZmm(n,u,p){const v=this.pts,d=this.pts.length/3;let g=0,_=1/0,C=0;for(let E=0;E<d;E++){const w=Math.pow(v[g]-n,2)+Math.pow(v[g+1]-u,2)+Math.pow(v[g+2]-p,2);w<_&&(_=w,C=E),g+=3}return _=Math.sqrt(_),[C,_]}updateMesh(n){if(this.offsetPt0){this.updateFibers(n);return}if(this.hasConnectome)return;if(!this.pts||!this.tris||!this.rgba255){log$1.warn("underspecified mesh");return}function u(E,w,m){return E*(1-m)+w*m}function p(E,w){return Math.min(E+w,255)}const v=this.generatePosNormClr(this.pts,this.tris,this.rgba255),d=this.pts.length/3,g=new Uint8Array(v.buffer);let _=0;const C=new Uint8Array(d*4);if(this.layers&&this.layers.length>0)for(let E=0;E<this.layers.length;E++){const w=this.layers[E],m=w.opacity;if(m<=0||w.cal_min>w.cal_max)continue;if(w.outlineBorder===void 0&&(w.outlineBorder=0),w.isAdditiveBlend===void 0&&(w.isAdditiveBlend=!1),w.colormapLabel&&w.colormapLabel.R&&!w.colormapLabel.lut&&(w.colormapLabel=cmapper.makeLabelLut(w.colormapLabel)),w.colormapLabel&&w.colormapLabel.lut){const $=w.colormapLabel.lut,b=Math.floor($.length/4),H=Math.min(Math.max(w.frame4D,0),w.nFrame4D-1),G=d*H,Y=new Uint8Array(d*4);let X=0;for(let h=0;h<w.values.length;h++){let ae=4*Math.min(Math.max(w.values[h+G],0),b-1);Y[X+0]=$[ae+0],Y[X+1]=$[ae+1],Y[X+2]=$[ae+2],X+=4}let j=new Array(d).fill(!1);w.outlineBorder>0&&(j=NVMeshUtilities.getClusterBoundary(Y,this.tris)),X=0;for(let h=0;h<w.values.length;h++){let ae=m;j[h]&&(ae=w.outlineBorder);let le=h*28+24;this.f32PerVertex!==7&&(le=h*20+16),g[le+0]=u(g[le+0],Y[X+0],ae),g[le+1]=u(g[le+1],Y[X+1],ae),g[le+2]=u(g[le+2],Y[X+2],ae),X+=4}continue}if(w.values instanceof Uint8Array){const V=new Uint8Array(w.values.buffer);let $=new Array(d).fill(!0);w.outlineBorder>0&&($=NVMeshUtilities.getClusterBoundary(V,this.tris));let b=0;for(let H=0;H<w.values.length;H++){let G=H*28+24;this.f32PerVertex!==7&&(G=H*20+16);let Y=m;$[H]&&(Y=w.outlineBorder),g[G+0]=u(g[G+0],V[b+0],Y),g[G+1]=u(g[G+1],V[b+1],Y),g[G+2]=u(g[G+2],V[b+2],Y),b+=4}continue}const y=cmapper.colormap(w.colormap,w.colormapInvert),e=Math.min(Math.max(w.frame4D,0),w.nFrame4D-1),P=d*e;w.isAdditiveBlend&&(_=Math.max(_,m)),w.useNegativeCmap&&(w.cal_min=Math.max(0,w.cal_min),w.cal_max=Math.max(w.cal_min+1e-6,w.cal_max)),w.isTransparentBelowCalMin===void 0&&(w.isTransparentBelowCalMin=!0);let O=w.cal_min;w.alphaThreshold&&(O=Math.min(O,0));const U=255/(w.cal_max-O);let W=w.cal_min;if(w.isTransparentBelowCalMin||(W=Number.NEGATIVE_INFINITY),w.outlineBorder<=0)for(let V=0;V<d;V++){const $=w.values[V+P];if($<W)continue;let b=Math.round(($-O)*U);if(b<0&&w.isTransparentBelowCalMin)continue;b=Math.max(0,b),b=Math.min(255,b)*4;let H=V*28+24;if(this.f32PerVertex!==7&&(H=V*20+16),w.isAdditiveBlend){const G=V*4;C[G+0]=p(C[G+0],y[b+0]),C[G+1]=p(C[G+1],y[b+1]),C[G+2]=p(C[G+2],y[b+2]),C[G+3]=p(C[G+3],255)}else{const G=m;g[H+0]=u(g[H+0],y[b+0],G),g[H+1]=u(g[H+1],y[b+1],G),g[H+2]=u(g[H+2],y[b+2],G)}}else{const V=new Uint8Array(d);for(let b=0;b<d;b++){let H=Math.round((w.values[b+P]-w.cal_min)*U);H<0||(H=Math.min(255,H),V[b]=H)}const $=NVMeshUtilities.getClusterBoundaryU8(V,this.tris);for(let b=0;b<d;b++){if(V[b]<1)continue;let H=m;$[b]&&(H=w.outlineBorder);const G=V[b]*4;let Y=b*28+24;this.f32PerVertex!==7&&(Y=b*20+16),g[Y+0]=u(g[Y+0],y[G+0],H),g[Y+1]=u(g[Y+1],y[G+1],H),g[Y+2]=u(g[Y+2],y[G+2],H)}}if(w.useNegativeCmap){const V=cmapper.colormap(w.colormapNegative,w.colormapInvert);if(w.outlineBorder<=0){let $=w.cal_min,b=w.cal_max;isFinite(w.cal_minNeg)&&isFinite(w.cal_minNeg)&&($=-w.cal_minNeg,b=-w.cal_maxNeg),b<$&&([$,b]=[b,$]);let H=$;H===0&&(H=Number.EPSILON),w.alphaThreshold&&($=0);const G=255/(b-$);for(let Y=0;Y<d;Y++){const X=-w.values[Y+P];if(X<H)continue;let j=Math.round((X-$)*G);if(j<0)continue;j=Math.min(255,j)*4;let h=Y*28+24;if(this.f32PerVertex!==7&&(h=Y*20+16),w.isAdditiveBlend){const ae=Y*4;C[ae+0]=p(C[ae+0],V[j+0]),C[ae+1]=p(C[ae+1],V[j+1]),C[ae+2]=p(C[ae+2],V[j+2]),C[ae+3]=p(C[ae+3],255)}else g[h+0]=u(g[h+0],V[j+0],m),g[h+1]=u(g[h+1],V[j+1],m),g[h+2]=u(g[h+2],V[j+2],m)}}else{const $=new Uint8Array(d);for(let H=0;H<d;H++){const G=Math.round((-w.values[H+P]-w.cal_min)*U);G<0||($[H]=Math.min(255,G))}const b=NVMeshUtilities.getClusterBoundaryU8($,this.tris);for(let H=0;H<d;H++){let G=255,Y=m;b[H]&&(Y=w.outlineBorder),G=Math.min(255,G)*4;let X=H*28+24;this.f32PerVertex!==7&&(X=H*20+16),g[X+0]=u(g[X+0],V[G+0],Y),g[X+1]=u(g[X+1],V[G+1],Y),g[X+2]=u(g[X+2],V[G+2],Y)}}}}if(_>0)for(let E=0;E<d;E++){let w=function(P,O){return Math.min(P*O*.00392156862745098,255)},m=E*28+24;this.f32PerVertex!==7&&(m=E*20+16);const y=E*4,e=Math.min(_,C[y+3]/255);e<=0||(g[m+0]=w(g[m+0],C[y+0]),g[m+1]=w(g[m+1],C[y+1]),g[m+2]=w(g[m+2],C[y+2]),g[m+0]=u(g[m+0],C[y+0],e),g[m+1]=u(g[m+1],C[y+1],e),g[m+2]=u(g[m+2],C[y+2],e))}n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,Uint32Array.from(this.tris),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,this.vertexBuffer),n.bufferData(n.ARRAY_BUFFER,Float32Array.from(v),n.STATIC_DRAW),this.indexCount=this.tris.length,this.vertexCount=this.pts.length}reverseFaces(n){if(this.offsetPt0||this.hasConnectome)return;const u=this.tris||[];for(let p=0;p<u.length;p+=3){const v=u[p];u[p]=u[p+1],u[p+1]=v}this.updateMesh(n)}setLayerProperty(n,u,p,v){const d=this.layers[n];if(!d||!(u in d)){log$1.warn("mesh does not have property ",u," for layer ",d);return}d[u]=p,this.updateMesh(v)}setProperty(n,u,p){if(!(n in this)){log$1.warn("mesh does not have property ",n,this);return}this[n]=u,this.updateMesh(p)}generatePosNormClr(n,u,p){(n.length<3||p.length<4)&&(log$1.error("Catastrophic failure generatePosNormClr()"),log$1.debug("this",this),log$1.debug("pts",n),log$1.debug("rgba",p));const v=NVMeshUtilities.generateNormals(n,u),d=n.length/3,g=d===p.length/4,_=this.f32PerVertex,C=new Float32Array(d*_),E=new Uint8Array(C.buffer);let w=0,m=0,y=0,e=(_-1)*4;for(let P=0;P<d;P++)C[y+0]=n[w+0],C[y+1]=n[w+1],C[y+2]=n[w+2],_!==7?(E[e-4]=v[w+0]*127,E[e-3]=v[w+1]*127,E[e-2]=v[w+2]*127):(C[y+3]=v[w+0],C[y+4]=v[w+1],C[y+5]=v[w+2]),E[e]=p[m+0],E[e+1]=p[m+1],E[e+2]=p[m+2],E[e+3]=p[m+3],g&&(m+=4),w+=3,y+=_,e+=_*4;return C}static readMesh(n,u,p,v=1,d=new Uint8Array([255,255,255,255]),g=!0){let _=new Uint32Array([]),C=new Float32Array([]),E="",w;const m=/(?:\.([^.]+))?$/;let y=m.exec(u)[1];if(y=y.toUpperCase(),y==="GZ"&&(y=m.exec(u.slice(0,-3))[1],y=y.toUpperCase()),y==="JCON"&&log$1.error("you should never see this message: load using nvconnectome not nvmesh"),y==="JSON"&&log$1.error("you should never see this message: load using nvconnectome not nvmesh"),d[3]=Math.max(1,d[3]),y==="TCK"||y==="TRK"||y==="TT"||y==="TRX"||y==="TRACT"){if(y==="TCK"?w=NVMeshLoaders.readTCK(n):y==="TRACT"?w=NVMeshLoaders.readTRACT(n):y==="TT"?w=NVMeshLoaders.readTT(n):y==="TRX"?w=NVMeshLoaders.readTRX(n):w=NVMeshLoaders.readTRK(n),typeof w>"u"){const U=new Float32Array([0,0,0,0,0,0]),W=new Uint32Array([0]);w={pts:U,offsetPt0:W},log$1.error("Creating empty tracts")}return d[3]=0,new gi(w.pts,w.offsetPt0,u,d,v,g,p,"inferno",w.dpg||null,w.dps||null,w.dpv||null)}if(y==="GII")w=NVMeshLoaders.readGII(n);else if(y==="MZ3")w=NVMeshLoaders.readMZ3(n),(w instanceof Float32Array||w.positions===null)&&log$1.warn("MZ3 does not have positions (statistical overlay?)");else if(y==="ASC")w=NVMeshLoaders.readASC(n);else if(y==="DFS")w=NVMeshLoaders.readDFS(n);else if(y==="BYU"||y==="G")w=NVMeshLoaders.readGEO(n);else if(y==="GEO")w=NVMeshLoaders.readGEO(n,!0);else if(y==="ICO"||y==="TRI")w=NVMeshLoaders.readICO(n);else if(y==="OFF")w=NVMeshLoaders.readOFF(n);else if(y==="NV")w=NVMeshLoaders.readNV(n);else if(y==="OBJ")w=NVMeshLoaders.readOBJ(n);else if(y==="PLY")w=NVMeshLoaders.readPLY(n);else if(y==="X3D")w=NVMeshLoaders.readX3D(n);else if(y==="FIB"||y==="VTK"){if(w=NVMeshLoaders.readVTK(n),"offsetPt0"in w)return d[3]=0,new gi(w.pts,w.offsetPt0,u,d,v,g,p,"inferno")}else y==="SRF"?w=NVMeshLoaders.readSRF(n):y==="STL"?w=NVMeshLoaders.readSTL(n):w=NVMeshLoaders.readFreeSurfer(n);if(w.anatomicalStructurePrimary&&(E=w.anatomicalStructurePrimary),w instanceof Float32Array)throw new Error("fatal: unknown mesh type loaded");if(!w.positions)throw new Error("positions not loaded");if(!w.indices)throw new Error("indices not loaded");if(C=w.positions,_=w.indices,"rgba255"in w&&w.rgba255.length>0&&(d=w.rgba255),"colors"in w&&w.colors&&w.colors.length===C.length){const U=C.length/3;d=new Uint8Array(U*4);let W=0,V=0;for(let $=0;$<U;$++)d[V++]=w.colors[W]*255,d[V++]=w.colors[W+1]*255,d[V++]=w.colors[W+2]*255,d[V++]=255,W+=3}const e=C.length/3;if(_.length/3<1||e<3)throw new Error("Mesh should have at least one triangle and three vertices");d[3]=Math.max(1,d[3]);const O=new gi(C,_,u,d,v,g,p,null,null,null,null,!0,E);return"scalars"in w&&w.scalars.length>0&&(NVMeshLoaders.readLayer(u,n,O,v,"gray"),O.updateMesh(p)),O}static async loadLayer(n,u){let p;function v(P){const O=window.atob(P),U=O.length,W=new Uint8Array(U);for(let V=0;V<U;V++)W[V]=O.charCodeAt(V);return W.buffer}if(n.base64!==void 0)p=v(n.base64);else{if(!n.url)throw new Error("layer: missing url");const P=await fetch(n.url,{headers:n.headers});if(!P.ok)throw Error(P.statusText);p=await P.arrayBuffer()}let d,g=[];if(n.name&&n.name!=="")d=n.name;else{if(!n.url)throw new Error("layer: missing url");try{g=new URL(n.url).pathname.split("/")}catch{g=n.url.split("/")}finally{d=g.slice(-1)[0]}}d.indexOf("?")>-1&&(d=d.slice(0,d.indexOf("?")));let _=.5;"opacity"in n&&(_=n.opacity);let C="warm";"colormap"in n&&(C=n.colormap);let E="winter";"colormapNegative"in n&&(E=n.colormapNegative);let w=!1;"useNegativeCmap"in n&&(w=n.useNegativeCmap);let m=null;"cal_min"in n&&(m=n.cal_min);let y=null;"cal_max"in n&&(y=n.cal_max);const e=NVMeshLoaders.readLayer(d,p,u,_,C,E,w,m,y);e&&u.layers.push(e)}static async loadFromUrl({url:n="",headers:u={},gl:p,name:v="",opacity:d=1,rgba255:g=[255,255,255,255],visible:_=!0,layers:C=[],buffer:E=new ArrayBuffer(0)}={}){let w=n.split("/");if(v===""){try{w=new URL(n).pathname.split("/")}catch{w=n.split("/")}v=w.slice(-1)[0],v.indexOf("?")>-1&&(v=v.slice(0,v.indexOf("?")))}if(n==="")throw Error("url must not be empty");if(!p)throw Error("gl context is null");let m;if(E.byteLength>0)m=E;else{const e=await fetch(n,{headers:u});if(!e.ok)throw Error(e.statusText);m=await e.arrayBuffer()}const y=await this.readMesh(m,v,p,d,new Uint8Array(g),_);if(!C||C.length<1)return y;for(let e=0;e<C.length;e++)await gi.loadLayer(C[e],y);return y.updateMesh(p),y}static async readFileAsync(n){return new Promise((u,p)=>{const v=new FileReader;v.onload=()=>{u(v.result)},v.onerror=p,v.readAsArrayBuffer(n)})}static async loadFromFile({file:n,gl:u,name:p="",opacity:v=1,rgba255:d=[255,255,255,255],visible:g=!0,layers:_=[]}={}){if(!n)throw new Error("file must be set");if(!u)throw new Error("rendering context must be set");const C=await gi.readFileAsync(n),E=gi.readMesh(C,p,u,v,new Uint8Array(d),g);if(!_||_.length<1)return E;for(let w=0;w<_.length;w++)await gi.loadLayer(_[w],E);return E.updateMesh(u),E}async loadFromBase64({base64:n,gl:u,name:p="",opacity:v=1,rgba255:d=[255,255,255,255],visible:g=!0,layers:_=[]}={}){if(!n)throw new Error("base64 must bet set");if(!u)throw new Error("rendering context must be set");function C(m){const y=window.atob(m),e=y.length,P=new Uint8Array(e);for(let O=0;O<e;O++)P[O]=y.charCodeAt(O);return P.buffer}const E=C(n),w=await gi.readMesh(E,p,u,v,new Uint8Array(d),g);if(!_||_.length<1)return w;for(let m=0;m<_.length;m++)await gi.loadLayer(_[m],w);return w.updateMesh(u),w}static readGII(n){return NVMeshLoaders.readGII(n)}static readX3D(n){return NVMeshLoaders.readX3D(n)}static readNII(n,u=0){return NVMeshLoaders.readNII(n,u)}static readNII2(n,u=0){return NVMeshLoaders.readNII2(n,u)}static readMGH(n){return NVMeshLoaders.readMGH(n)}static readSTL(n){return NVMeshLoaders.readSTL(n)}static readTxtSTL(n){return NVMeshLoaders.readTxtSTL(n)}static readSRF(n){return NVMeshLoaders.readSRF(n)}static readFreeSurfer(n){return NVMeshLoaders.readFreeSurfer(n)}static readOBJ(n){return NVMeshLoaders.readOBJ(n)}static readOFF(n){return NVMeshLoaders.readOFF(n)}static readGEO(n,u=!1){return NVMeshLoaders.readGEO(n,u)}static readICO(n){return NVMeshLoaders.readICO(n)}static readPLY(n){return NVMeshLoaders.readPLY(n)}static readMZ3(n,u=0){return NVMeshLoaders.readMZ3(n,u)}static readVTK(n){return NVMeshLoaders.readVTK(n)}static readASC(n){return NVMeshLoaders.readASC(n)}static readNV(n){return NVMeshLoaders.readNV(n)}static readANNOT(n,u,p=!1){return NVMeshLoaders.readANNOT(n,u,p)}static readCURV(n,u){return NVMeshLoaders.readCURV(n,u)}static readSTC(n,u){return NVMeshLoaders.readSTC(n,u)}static readSMP(n,u){return NVMeshLoaders.readSMP(n,u)}static readTxtVTK(n){return NVMeshLoaders.readTxtVTK(n)}static readTRK(n){return NVMeshLoaders.readTRK(n)}static readTCK(n){return NVMeshLoaders.readTCK(n)}static readTSF(n){return NVMeshLoaders.readTSF(n)}static readTT(n){return NVMeshLoaders.readTT(n)}static readTRX(n){return NVMeshLoaders.readTRX(n)}static readTRACT(n){return NVMeshLoaders.readTRACT(n)}},Shiny_default="data:image/jpeg;base64,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ZwAAAAAAAAALY3JvcFJlY3RUb3Bsb25nAAAAAAA4QklNA+0AAAAAABAASAAAAAEAAQBIAAAAAQABOEJJTQQmAAAAAAAOAAAAAAAAAAAAAD+AAAA4QklNBA0AAAAAAAQAAAAeOEJJTQQZAAAAAAAEAAAAHjhCSU0D8wAAAAAACQAAAAAAAAAAAQA4QklNJxAAAAAAAAoAAQAAAAAAAAABOEJJTQP1AAAAAABIAC9mZgABAGxmZgAGAAAAAAABAC9mZgABAKGZmgAGAAAAAAABADIAAAABAFoAAAAGAAAAAAABADUAAAABAC0AAAAGAAAAAAABOEJJTQP4AAAAAABwAAD/////////////////////////////A+gAAAAA/////////////////////////////wPoAAAAAP////////////////////////////8D6AAAAAD/////////////////////////////A+gAADhCSU0EAAAAAAAAAgAAOEJJTQQCAAAAAAACAAA4QklNBDAAAAAAAAEBADhCSU0ELQAAAAAABgABAAAAMjhCSU0ECAAAAAAAEAAAAAEAAAJAAAACQAAAAAA4QklNBB4AAAAAAAQAAAAAOEJJTQQaAAAAAAM9AAAABgAAAAAAAAAAAAACAAAAAgAAAAAEAG0AYwA2ADEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAgAAAAIAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAEAAAAAAABudWxsAAAAAgAAAAZib3VuZHNPYmpjAAAAAQAAAAAAAFJjdDEAAAAEAAAAAFRvcCBsb25nAAAAAAAAAABMZWZ0bG9uZwAAAAAAAAAAQnRvbWxvbmcAAAIAAAAAAFJnaHRsb25nAAACAAAAAAZzbGljZXNWbExzAAAAAU9iamMAAAABAAAAAAAFc2xpY2UAAAASAAAAB3NsaWNlSURsb25nAAAAAAAAAAdncm91cElEbG9uZwAAAAAAAAAGb3JpZ2luZW51bQAAAAxFU2xpY2VPcmlnaW4AAAANYXV0b0dlbmVyYXRlZAAAAABUeXBlZW51bQAAAApFU2xpY2VUeXBlAAAAAEltZyAAAAAGYm91bmRzT2JqYwAAAAEAAAAAAABSY3QxAAAABAAA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bnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTgtMDctMTJUMjA6MDc6NDcrMDE6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTA3LTEzVDE3OjU0OjI3KzAxOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE4LTA3LTEzVDE3OjU0OjI3KzAxOjAwIiBkYzpmb3JtYXQ9ImltYWdlL2pwZWciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3MmVhYjVmZS02NDZkLWVhNDMtODQyNC0xNWQzZTgwOWExNDQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo0OGNjMGI3YS1iYTJkLWZmNDAtYmNkNC1jNGQzMzIyZjBiNzQiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphYzFjM2NhNS1hYTg4LWI5NGMtOGE4MS05YmU4MjA3ZGZiODciPiA8cGhvdG9zaG9wOkRvY3VtZW50QW5jZXN0b3JzPiA8cmRmOkJhZz4gPHJkZjpsaT5hZG9iZTpkb2NpZDpwaG90b3Nob3A6YThjMGNhZTYtODNjYy1hYzQ4LWI2YzAtN2FiODNlOWJkMGM3PC9yZGY6bGk+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YWMxYzNjYTUtYWE4OC1iOTRjLThhODEtOWJlODIwN2RmYjg3IiBzdEV2dDp3aGVuPSIyMDE4LTA3LTEyVDIwOjA3OjQ3KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpjYmI3MzZlZC0zOTRhLTM2NDgtYThiOC02Mzk1MmY0NDcxMjIiIHN0RXZ0OndoZW49IjIwMTgtMDctMTNUMTY6MTM6NTgrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ2YjNkYTI3LWI4YjEtYmU0Yi1hYTQ4LTExZGM5NmZkNTIyZiIgc3RFdnQ6d2hlbj0iMjAxOC0wNy0xM1QxNzo1NDoyNyswMTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvanBlZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iZGVyaXZlZCIgc3RFdnQ6cGFyYW1ldGVycz0iY29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9qcGVnIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo3MmVhYjVmZS02NDZkLWVhNDMtODQyNC0xNWQzZTgwOWExNDQiIHN0RXZ0OndoZW49IjIwMTgtMDctMTNUMTc6NTQ6MjcrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ2YjNkYTI3LWI4YjEtYmU0Yi1hYTQ4LTExZGM5NmZkNTIyZiIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjg3NjM1NDk5LWZiMTItYWU0MC04NWEzLThkMWFiN2NkZGVhOSIgc3RSZWY6b3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmFjMWMzY2E1LWFhODgtYjk0Yy04YTgxLTliZTgyMDdkZmI4NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3hwYWNrZXQgZW5kPSJ3Ij8+/+IMWElDQ19QUk9GSUxFAAEBAAAMSExpbm8CEAAAbW50clJHQiBYWVogB84AAgAJAAYAMQAAYWNzcE1TRlQAAAAASUVDIHNSR0IAAAAAAAAAAAAAAAEAAPbWAAEAAAAA0y1IUCAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARY3BydAAAAVAAAAAzZGVzYwAAAYQAAABsd3RwdAAAAfAAAAAUYmtwdAAAAgQAAAAUclhZWgAAAhgAAAAUZ1hZWgAAAiwAAAAUYlhZWgAAAkAAAAAUZG1uZAAAAlQAAABwZG1kZAAAAsQAAACIdnVlZAAAA0wAAACGdmlldwAAA9QAAAAkbHVtaQAAA/gAAAAUbWVhcwAABAwAAAAkdGVjaAAABDAAAAAMclRSQwAABDwAAAgMZ1RSQwAABDwAAAgMYlRSQwAABDwAAAgMdGV4dAAAAABDb3B5cmlnaHQgKGMpIDE5OTggSGV3bGV0dC1Q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",Roboto_Regular_default="data:image/png;base64,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",Roboto_Regular_default2={atlas:{type:"msdf",distanceRange:2,size:59.65625,width:512,height:256,yOrigin:"bottom"},metrics:{emSize:1,lineHeight:1.171875,ascender:.927734375,descender:-.244140625,underlineY:-.09765625,underlineThickness:.048828125},glyphs:[{unicode:32,advance:.24755859375},{unicode:33,advance:.25732421875,planeBounds:{left:.056159633438645884,bottom:-.02437761405677056,right:.20702396031135412,top:.7299440203067705},atlasBounds:{left:488.5,bottom:145.5,right:497.5,top:190.5}},{unicode:34,advance:.31982421875,planeBounds:{left:.049409125974004715,bottom:.48691155587022,right:.2840869677759953,top:.77187750662978},atlasBounds:{left:486.5,bottom:213.5,right:500.5,top:230.5}},{unicode:35,advance:.61572265625,planeBounds:{left:.037219103997511785,bottom:-.02169206718177056,right:.6239137085024882,top:.7326295671817705},atlasBounds:{left:66.5,bottom:51.5,right:101.5,top:96.5}},{unicode:36,advance:.5615234375,planeBounds:{left:.02956531458715296,bottom:-.12381369908983761,right:.5324464041628472,top:.8484230740898377},atlasBounds:{left:109.5,bottom:197.5,right:139.5,top:255.5}},{unicode:37,advance:.732421875,planeBounds:{left:.026481776289942378,bottom:-.030073418674698794,right:.7137525987100576,top:.7410109186746989},atlasBounds:{left:88.5,bottom:144.5,right:129.5,top:190.5}},{unicode:38,advance:.62158203125,planeBounds:{left:.03225572125458355,bottom:-.030073418674698794,right:.6357130287454166,top:.7410109186746989},atlasBounds:{left:130.5,bottom:144.5,right:166.5,top:190.5}},{unicode:39,advance:.17431640625,planeBounds:{left:.028244602049502358,bottom:.49895501673814824,right:.14558352295049765,top:.7671582645118518},atlasBounds:{left:498.5,bottom:62.5,right:505.5,top:78.5}},{unicode:40,advance:.341796875,planeBounds:{left:.042983329377291775,bottom:-.250029542422407,right:.34471198312270823,top:.8227834486724072},atlasBounds:{left:.5,bottom:191.5,right:18.5,top:255.5}},{unicode:41,advance:.34765625,planeBounds:{left:-.003159248747708225,bottom:-.250029542422407,right:.29856940499770823,top:.8227834486724072},atlasBounds:{left:19.5,bottom:191.5,right:37.5,top:255.5}},{unicode:42,advance:.4306640625,planeBounds:{left:-.011208599684062338,bottom:.27785390031593765,right:.44138438093406235,top:.7304468809340623},atlasBounds:{left:449.5,bottom:23.5,right:476.5,top:50.5}},{unicode:43,advance:.56689453125,planeBounds:{left:.01353503347629649,bottom:.053493525733368255,right:.5499415290237036,top:.6066627242666317},atlasBounds:{left:361.5,bottom:17.5,right:393.5,top:50.5}},{unicode:44,advance:.1962890625,planeBounds:{left:-.009919475797210583,bottom:-.15981695975478,right:.1744702570472106,top:.12514899100478},atlasBounds:{left:498.5,bottom:79.5,right:509.5,top:96.5}},{unicode:45,advance:.27587890625,planeBounds:{left:-.00527594412977999,bottom:.24333249267450235,right:.27969000662978,top:.36067141357549765},atlasBounds:{left:52.5,bottom:7.5,right:69.5,top:14.5}},{unicode:46,advance:.26318359375,planeBounds:{left:.051032680313645884,bottom:-.027092319686354116,right:.20189700718635412,top:.12377200718635412},atlasBounds:{left:501.5,bottom:221.5,right:510.5,top:230.5}},{unicode:47,advance:.412109375,planeBounds:{left:-.013733006073205867,bottom:-.08573505127848349,right:.4053345685732059,top:.7356373950284835},atlasBounds:{left:252.5,bottom:206.5,right:277.5,top:255.5}},{unicode:48,advance:.5615234375,planeBounds:{left:.037458384830081196,bottom:-.030073418674698794,right:.5235767714199189,top:.7410109186746989},atlasBounds:{left:167.5,bottom:144.5,right:196.5,top:190.5}},{unicode:49,advance:.5615234375,planeBounds:{left:.06023674350936354,bottom:-.01998308280677056,right:.37872810024063647,top:.7343385515567705},atlasBounds:{left:488.5,bottom:97.5,right:507.5,top:142.5}},{unicode:50,advance:.5615234375,planeBounds:{left:.025334353719224725,bottom:-.01680925468177056,right:.5449781462807752,top:.7375123796817705},atlasBounds:{left:278.5,bottom:51.5,right:309.5,top:96.5}},{unicode:51,advance:.5615234375,planeBounds:{left:.028181041080081196,bottom:-.030073418674698794,right:.5142994276699189,top:.7410109186746989},atlasBounds:{left:197.5,bottom:144.5,right:226.5,top:190.5}},{unicode:52,advance:.5615234375,planeBounds:{left:.005886103858368255,bottom:-.02169206718177056,right:.5590553023916317,top:.7326295671817705},atlasBounds:{left:310.5,bottom:51.5,right:343.5,top:96.5}},{unicode:53,advance:.5615234375,planeBounds:{left:.055524791080081196,bottom:-.02657487968177056,right:.5416431776699189,top:.7277467546817705},atlasBounds:{left:344.5,bottom:51.5,right:373.5,top:96.5}},{unicode:54,advance:.5615234375,planeBounds:{left:.046003306705081196,bottom:-.034712090549698794,right:.5321216932949189,top:.7363722467996989},atlasBounds:{left:227.5,bottom:144.5,right:256.5,top:190.5}},{unicode:55,advance:.5615234375,planeBounds:{left:.018010134969224725,bottom:-.02169206718177056,right:.5376539275307752,top:.7326295671817705},atlasBounds:{left:374.5,bottom:51.5,right:405.5,top:96.5}},{unicode:56,advance:.5615234375,planeBounds:{left:.037702525455081196,bottom:-.030073418674698794,right:.5238209120449189,top:.7410109186746989},atlasBounds:{left:257.5,bottom:144.5,right:286.5,top:190.5}},{unicode:57,advance:.5615234375,planeBounds:{left:.029401744205081196,bottom:-.025434746799698794,right:.5155201307949189,top:.7456495905496989},atlasBounds:{left:287.5,bottom:144.5,right:316.5,top:190.5}},{unicode:58,advance:.2421875,planeBounds:{left:.046394008438645884,bottom:-.029431286627488215,right:.19725833531135412,top:.5572633178774882},atlasBounds:{left:439.5,bottom:61.5,right:448.5,top:96.5}},{unicode:59,advance:.21142578125,planeBounds:{left:.001066852327789419,bottom:-.16459733294591408,right:.1854565851722106,top:.556198895445914},atlasBounds:{left:406.5,bottom:53.5,right:417.5,top:96.5}},{unicode:60,advance:.50830078125,planeBounds:{left:.016948142433865897,bottom:.0726146348300812,right:.4527784200661341,top:.5587330214199189},atlasBounds:{left:394.5,bottom:21.5,right:420.5,top:50.5}},{unicode:61,advance:.548828125,planeBounds:{left:.051535540940937666,bottom:.17620354038436353,right:.5041285215590624,top:.49469489711563647},atlasBounds:{left:477.5,bottom:31.5,right:504.5,top:50.5}},{unicode:62,advance:.5224609375,planeBounds:{left:.047629290940937666,bottom:.0731029160800812,right:.5002222715590624,top:.5592213026699189},atlasBounds:{left:421.5,bottom:21.5,right:448.5,top:50.5}},{unicode:63,advance:.47216796875,planeBounds:{left:.016704001808865897,bottom:-.027876153049698794,right:.4525342794411341,top:.7432081842996989},atlasBounds:{left:317.5,bottom:144.5,right:343.5,top:190.5}},{unicode:64,advance:.89794921875,planeBounds:{left:.034064457306783605,bottom:-.23896750384690937,right:.8721996065996072,top:.7165065663469093},atlasBounds:{left:155.5,bottom:198.5,right:205.5,top:255.5}},{unicode:65,advance:.65234375,planeBounds:{left:-.008838044092129387,bottom:-.02169206718177056,right:.6616700753421295,top:.7326295671817705},atlasBounds:{left:237.5,bottom:51.5,right:277.5,top:96.5}},{unicode:66,advance:.62255859375,planeBounds:{left:.06464099434422473,bottom:-.02169206718177056,right:.5842847869057752,top:.7326295671817705},atlasBounds:{left:205.5,bottom:51.5,right:236.5,top:96.5}},{unicode:67,advance:.65087890625,planeBounds:{left:.038439807122511785,bottom:-.030073418674698794,right:.6251344116274882,top:.7410109186746989},atlasBounds:{left:344.5,bottom:144.5,right:379.5,top:190.5}},{unicode:68,advance:.65576171875,planeBounds:{left:.06301501010836826,bottom:-.02169206718177056,right:.6161842086416317,top:.7326295671817705},atlasBounds:{left:162.5,bottom:51.5,right:195.5,top:96.5}},{unicode:69,advance:.568359375,planeBounds:{left:.0652904160800812,bottom:-.02169206718177056,right:.5514088026699189,top:.7326295671817705},atlasBounds:{left:132.5,bottom:51.5,right:161.5,top:96.5}},{unicode:70,advance:.552734375,planeBounds:{left:.059675181705081196,bottom:-.02169206718177056,right:.5457935682949189,top:.7326295671817705},atlasBounds:{left:102.5,bottom:51.5,right:131.5,top:96.5}},{unicode:71,advance:.68115234375,planeBounds:{left:.040148791497511785,bottom:-.030073418674698794,right:.6268433960024882,top:.7410109186746989},atlasBounds:{left:380.5,bottom:144.5,right:415.5,top:190.5}},{unicode:72,advance:.712890625,planeBounds:{left:.062365588372511785,bottom:-.02169206718177056,right:.6490601928774882,top:.7326295671817705},atlasBounds:{left:30.5,bottom:51.5,right:65.5,top:96.5}},{unicode:73,advance:.27197265625,planeBounds:{left:.06917965680657412,bottom:-.02169206718177056,right:.20328128069342588,top:.7326295671817705},atlasBounds:{left:196.5,bottom:51.5,right:204.5,top:96.5}},{unicode:74,advance:.5517578125,planeBounds:{left:.007184947330081194,bottom:-.02657487968177056,right:.4933033339199188,top:.7277467546817705},atlasBounds:{left:.5,bottom:51.5,right:29.5,top:96.5}},{unicode:75,advance:.626953125,planeBounds:{left:.061633166497511785,bottom:-.02169206718177056,right:.6483277710024882,top:.7326295671817705},atlasBounds:{left:452.5,bottom:97.5,right:487.5,top:142.5}},{unicode:76,advance:.5380859375,planeBounds:{left:.06341786132300943,bottom:-.02169206718177056,right:.5327735449269906,top:.7326295671817705},atlasBounds:{left:423.5,bottom:97.5,right:451.5,top:142.5}},{unicode:77,advance:.873046875,planeBounds:{left:.05911847969322944,bottom:-.02169206718177056,right:.8134401140567705,top:.7326295671817705},atlasBounds:{left:377.5,bottom:97.5,right:422.5,top:142.5}},{unicode:78,advance:.712890625,planeBounds:{left:.062365588372511785,bottom:-.02169206718177056,right:.6490601928774882,top:.7326295671817705},atlasBounds:{left:341.5,bottom:97.5,right:376.5,top:142.5}},{unicode:79,advance:.6875,planeBounds:{left:.033395854136655315,bottom:-.030073418674698794,right:.6536158646133446,top:.7410109186746989},atlasBounds:{left:416.5,bottom:144.5,right:453.5,top:190.5}},{unicode:80,advance:.630859375,planeBounds:{left:.061550166358368255,bottom:-.02169206718177056,right:.6147193648916317,top:.7326295671817705},atlasBounds:{left:273.5,bottom:97.5,right:306.5,top:142.5}},{unicode:81,advance:.6875,planeBounds:{left:.030466166636655315,bottom:-.14391866037519643,right:.6506861771133446,top:.7445045978751964},atlasBounds:{left:214.5,bottom:202.5,right:251.5,top:255.5}},{unicode:82,advance:.61572265625,planeBounds:{left:.06350329135836826,bottom:-.02169206718177056,right:.6166724898916317,top:.7326295671817705},atlasBounds:{left:186.5,bottom:97.5,right:219.5,top:142.5}},{unicode:83,advance:.59326171875,planeBounds:{left:.020778681983368255,bottom:-.030073418674698794,right:.5739478805166317,top:.7410109186746989},atlasBounds:{left:454.5,bottom:144.5,right:487.5,top:190.5}},{unicode:84,advance:.5966796875,planeBounds:{left:.005480822747511787,bottom:-.02169206718177056,right:.5921754272524882,top:.7326295671817705},atlasBounds:{left:112.5,bottom:97.5,right:147.5,top:142.5}},{unicode:85,advance:.6484375,planeBounds:{left:.049098994483368255,bottom:-.02657487968177056,right:.6022681930166317,top:.7277467546817705},atlasBounds:{left:78.5,bottom:97.5,right:111.5,top:142.5}},{unicode:86,advance:.63623046875,planeBounds:{left:-.008269192599201152,bottom:-.02169206718177056,right:.6454762238492011,top:.7326295671817705},atlasBounds:{left:38.5,bottom:97.5,right:77.5,top:142.5}},{unicode:87,advance:.88720703125,planeBounds:{left:.011923628617731797,bottom:-.02169206718177056,right:.8835841838822683,top:.7326295671817705},atlasBounds:{left:220.5,bottom:97.5,right:272.5,top:142.5}},{unicode:88,advance:.626953125,planeBounds:{left:.004098979136655316,bottom:-.02169206718177056,right:.6243189896133446,top:.7326295671817705},atlasBounds:{left:.5,bottom:97.5,right:37.5,top:142.5}},{unicode:89,advance:.6005859375,planeBounds:{left:-.010793598988344685,bottom:-.02169206718177056,right:.6094264114883446,top:.7326295671817705},atlasBounds:{left:148.5,bottom:97.5,right:185.5,top:142.5}},{unicode:90,advance:.5986328125,planeBounds:{left:.024196650733368255,bottom:-.02169206718177056,right:.5773658492666317,top:.7326295671817705},atlasBounds:{left:307.5,bottom:97.5,right:340.5,top:142.5}},{unicode:91,advance:.26513671875,planeBounds:{left:.05437250871693295,bottom:-.17280296457569408,right:.27228764753306706,top:.8329592145756942},atlasBounds:{left:59.5,bottom:195.5,right:72.5,top:255.5}},{unicode:92,advance:.41015625,planeBounds:{left:.0014037126767941326,bottom:-.08573505127848349,right:.4204712873232059,top:.7356373950284835},atlasBounds:{left:278.5,bottom:206.5,right:303.5,top:255.5}},{unicode:93,advance:.26513671875,planeBounds:{left:-.020659233400995285,bottom:-.17280296457569408,right:.2140186084009953,top:.8329592145756942},atlasBounds:{left:94.5,bottom:195.5,right:108.5,top:255.5}},{unicode:94,advance:.41796875,planeBounds:{left:.006855376669722368,bottom:.33229482979472236,right:.40916024833027764,top:.7345997014552776},atlasBounds:{left:486.5,bottom:231.5,right:510.5,top:255.5}},{unicode:95,advance:.451171875,planeBounds:{left:-.017473255794918804,bottom:-.09553469482549765,right:.4686451307949188,top:.021804226075497646},atlasBounds:{left:70.5,bottom:7.5,right:99.5,top:14.5}},{unicode:96,advance:.30908203125,planeBounds:{left:.00391839948107648,bottom:.5860277898277895,right:.2553589442689235,top:.7704175226722105},atlasBounds:{left:36.5,bottom:3.5,right:51.5,top:14.5}},{unicode:97,advance:.5439453125,planeBounds:{left:.028181041080081196,bottom:-.029187146002488215,right:.5142994276699189,top:.5575074585024882},atlasBounds:{left:30.5,bottom:15.5,right:59.5,top:50.5}},{unicode:98,advance:.56103515625,planeBounds:{left:.048932994205081196,bottom:-.032187684160555265,right:.5350513807949189,top:.7724220591605554},atlasBounds:{left:304.5,bottom:207.5,right:333.5,top:255.5}},{unicode:99,advance:.5234375,planeBounds:{left:.024518931705081196,bottom:-.029187146002488215,right:.5106373182949189,top:.5575074585024882},atlasBounds:{left:.5,bottom:15.5,right:29.5,top:50.5}},{unicode:100,advance:.56396484375,planeBounds:{left:.026227916080081196,bottom:-.032187684160555265,right:.5123463026699189,top:.7724220591605554},atlasBounds:{left:334.5,bottom:207.5,right:363.5,top:255.5}},{unicode:101,advance:.52978515625,planeBounds:{left:.026472056705081196,bottom:-.029187146002488215,right:.5125904432949189,top:.5575074585024882},atlasBounds:{left:468.5,bottom:61.5,right:497.5,top:96.5}},{unicode:102,advance:.34716796875,planeBounds:{left:.004575110905578838,bottom:-.022177918535555265,right:.3733545765944212,top:.7824318247855554},atlasBounds:{left:364.5,bottom:207.5,right:386.5,top:255.5}},{unicode:103,advance:.56103515625,planeBounds:{left:.026960337955081196,bottom:-.22888445766762702,right:.5130787245449189,top:.558962582667627},atlasBounds:{left:28.5,bottom:143.5,right:57.5,top:190.5}},{unicode:104,advance:.55078125,planeBounds:{left:.049826556565937666,bottom:-.01892352016762703,right:.5024195371840624,top:.768923520167627},atlasBounds:{left:.5,bottom:143.5,right:27.5,top:190.5}},{unicode:105,advance:.24267578125,planeBounds:{left:.046882289688645884,bottom:-.01680925468177056,right:.19774661656135412,top:.7375123796817705},atlasBounds:{left:498.5,bottom:145.5,right:507.5,top:190.5}},{unicode:106,advance:.23876953125,planeBounds:{left:-.048979545900995285,bottom:-.2324562772148376,right:.1856982959009953,top:.7397804959648377},atlasBounds:{left:140.5,bottom:197.5,right:154.5,top:255.5}},{unicode:107,advance:.5068359375,planeBounds:{left:.044294322330081196,bottom:-.01892352016762703,right:.5304127089199189,top:.768923520167627},atlasBounds:{left:58.5,bottom:143.5,right:87.5,top:190.5}},{unicode:108,advance:.24267578125,planeBounds:{left:.05428707868157412,bottom:-.01892352016762703,right:.18838870256842588,top:.768923520167627},atlasBounds:{left:477.5,bottom:208.5,right:485.5,top:255.5}},{unicode:109,advance:.87646484375,planeBounds:{left:.04430890170737297,bottom:-.024304333502488215,right:.832155942042627,top:.5623902710024882},atlasBounds:{left:116.5,bottom:15.5,right:163.5,top:50.5}},{unicode:110,advance:.5517578125,planeBounds:{left:.049826556565937666,bottom:-.024304333502488215,right:.5024195371840624,top:.5623902710024882},atlasBounds:{left:60.5,bottom:15.5,right:87.5,top:50.5}},{unicode:111,advance:.5703125,planeBounds:{left:.025090213094224725,bottom:-.029187146002488215,right:.5447340056557752,top:.5575074585024882},atlasBounds:{left:193.5,bottom:15.5,right:224.5,top:50.5}},{unicode:112,advance:.56103515625,planeBounds:{left:.048444712955081196,bottom:-.22644305141762702,right:.5345630995449189,top:.561403988917627},atlasBounds:{left:447.5,bottom:208.5,right:476.5,top:255.5}},{unicode:113,advance:.568359375,planeBounds:{left:.025983775455081196,bottom:-.22644305141762702,right:.5121021620449189,top:.561403988917627},atlasBounds:{left:417.5,bottom:208.5,right:446.5,top:255.5}},{unicode:114,advance:.33837890625,planeBounds:{left:.045180595002291775,bottom:-.024304333502488215,right:.34690924874770823,top:.5623902710024882},atlasBounds:{left:449.5,bottom:61.5,right:467.5,top:96.5}},{unicode:115,advance:.515625,planeBounds:{left:.021669814448009427,bottom:-.029187146002488215,right:.4910254980519906,top:.5575074585024882},atlasBounds:{left:164.5,bottom:15.5,right:192.5,top:50.5}},{unicode:116,advance:.32666015625,planeBounds:{left:-.019433670483564695,bottom:-.02877457520298586,right:.3158203892335647,top:.675258950202986},atlasBounds:{left:418.5,bottom:54.5,right:438.5,top:96.5}},{unicode:117,advance:.55126953125,planeBounds:{left:.048117572190937666,bottom:-.034069958502488215,right:.5007105528090624,top:.5526246460024882},atlasBounds:{left:88.5,bottom:15.5,right:115.5,top:50.5}},{unicode:118,advance:.484375,planeBounds:{left:-.002092396419918806,bottom:-.02080579450955998,right:.4840259901699188,top:.5491261070095601},atlasBounds:{left:331.5,bottom:16.5,right:360.5,top:50.5}},{unicode:119,advance:.75146484375,planeBounds:{left:-.002649098431770561,bottom:-.02080579450955998,right:.7516725359317705,top:.5491261070095601},atlasBounds:{left:225.5,bottom:16.5,right:270.5,top:50.5}},{unicode:120,advance:.49560546875,planeBounds:{left:-.0046143729128470395,bottom:-.02080579450955998,right:.4982667166628471,top:.5491261070095601},atlasBounds:{left:300.5,bottom:16.5,right:330.5,top:50.5}},{unicode:121,advance:.47314453125,planeBounds:{left:-.007219349544918806,bottom:-.23645281704262702,right:.4788990370449188,top:.551394223292627},atlasBounds:{left:387.5,bottom:208.5,right:416.5,top:255.5}},{unicode:122,advance:.49560546875,planeBounds:{left:.018007705073009427,bottom:-.02080579450955998,right:.4873633886769906,top:.5491261070095601},atlasBounds:{left:271.5,bottom:16.5,right:299.5,top:50.5}},{unicode:123,advance:.33837890625,planeBounds:{left:.011572188891435306,bottom:-.20234398020069408,right:.3468262486085647,top:.8034181989506942},atlasBounds:{left:73.5,bottom:195.5,right:93.5,top:255.5}},{unicode:124,advance:.24365234375,planeBounds:{left:.06315671142450235,bottom:-.15466084787519643,right:.18049563232549765,top:.7337624103751964},atlasBounds:{left:206.5,bottom:202.5,right:213.5,top:255.5}},{unicode:125,advance:.33837890625,planeBounds:{left:-.010156326733564695,bottom:-.20234398020069408,right:.3250977329835647,top:.8034181989506942},atlasBounds:{left:38.5,bottom:195.5,right:58.5,top:255.5}},{unicode:126,advance:.68017578125,planeBounds:{left:.046984728997511785,bottom:.1766063915990047,right:.6336793335024882,top:.4112842334009953},atlasBounds:{left:.5,bottom:.5,right:35.5,top:14.5}}],kerning:[]},NVUtilities=class Vn{static arrayBufferToBase64(n){const u=new Uint8Array(n);return Vn.uint8tob64(u)}static uint8tob64(n){let u="";const p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v=n.byteLength,d=v%3,g=v-d;let _,C,E,w,m;for(let y=0;y<g;y=y+3)m=n[y]<<16|n[y+1]<<8|n[y+2],_=(m&16515072)>>18,C=(m&258048)>>12,E=(m&4032)>>6,w=m&63,u+=p[_]+p[C]+p[E]+p[w];return d===1?(m=n[g],_=(m&252)>>2,C=(m&3)<<4,u+=p[_]+p[C]+"=="):d===2&&(m=n[g]<<8|n[g+1],_=(m&64512)>>10,C=(m&1008)>>4,E=(m&15)<<2,u+=p[_]+p[C]+p[E]+"="),u}static download(n,u,p){const v=document.createElement("a"),d=new Blob([n],{type:p});v.href=URL.createObjectURL(d),v.download=u,v.click()}static readFileAsync(n){return new Promise((u,p)=>{const v=new FileReader;v.onload=()=>{u(v.result)},v.onerror=p,v.readAsArrayBuffer(n)})}static blobToBase64(n){return new Promise(u=>{const p=new FileReader;p.onloadend=()=>u(p.result),p.readAsDataURL(n)})}static decompressBase64String(n){const u=atob(n),p=new ArrayBuffer(u.length),v=new Uint8Array(p);for(let _=0;_<u.length;_++)v[_]=u.charCodeAt(_);const d=decompressSync$1(v);return new TextDecoder("utf-8").decode(d)}static compressToBase64String(n){const u=strToU8$1(n),p=gzipSync$1(u);return Vn.uint8tob64(p)}static arraysAreEqual(n,u){return arrayEqual$1(n,u)}static range(n,u,p){return Array.from({length:(u-n)/p+1},(v,d)=>n+d*p)}static sph2cartDeg(n,u){const p=-u*(Math.PI/180),v=(n-90)%360*(Math.PI/180),d=[Math.cos(p)*Math.cos(v),Math.cos(p)*Math.sin(v),Math.sin(p)],g=Math.sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);return g<=0||(d[0]/=g,d[1]/=g,d[2]/=g),d}static vox2mm(n,u){const p=clone$2(u);transpose$1(p,p);const v=fromValues$1(n[0],n[1],n[2],1);return transformMat4(v,v,p),fromValues$2(v[0],v[1],v[2])}},isPlatformLittleEndian=()=>{const l=new ArrayBuffer(2);return new DataView(l).setInt16(0,256,!0),new Int16Array(l)[0]===256},ImageType=(l=>(l[l.UNKNOWN=0]="UNKNOWN",l[l.NII=1]="NII",l[l.DCM=2]="DCM",l[l.DCM_MANIFEST=3]="DCM_MANIFEST",l[l.MIH=4]="MIH",l[l.MIF=5]="MIF",l[l.NHDR=6]="NHDR",l[l.NRRD=7]="NRRD",l[l.MHD=8]="MHD",l[l.MHA=9]="MHA",l[l.MGH=10]="MGH",l[l.MGZ=11]="MGZ",l[l.V=12]="V",l[l.V16=13]="V16",l[l.VMR=14]="VMR",l[l.HEAD=15]="HEAD",l[l.DCM_FOLDER=16]="DCM_FOLDER",l))(ImageType||{}),NVIMAGE_TYPE=Object.freeze({...ImageType,parse:l=>{let n=0;switch(l.toUpperCase()){case"":case"DCM":n=2;break;case"TXT":n=3;break;case"NII":n=1;break;case"MIH":n=4;break;case"MIF":n=5;break;case"NHDR":n=6;break;case"NRRD":n=7;break;case"MHD":n=8;break;case"MHA":n=9;break;case"MGH":n=10;break;case"MGZ":n=11;break;case"V":n=12;break;case"V16":n=13;break;case"VMR":n=14;break;case"HEAD":n=15;break}return n}}),NVImageFromUrlOptions=(l,n="",u="",p="gray",v=1,d=NaN,g=NaN,_=!0,C=.02,E=!1,w=!1,m="",y=0,e=NVIMAGE_TYPE.UNKNOWN,P=NaN,O=NaN,U=!0,W=!1,V=null)=>({url:l,urlImageData:n,name:u,colormap:p,colorMap:p,opacity:v,cal_min:d,cal_max:g,trustCalMinMax:_,percentileFrac:C,ignoreZeroVoxels:E,useQFormNotSForm:w,colormapNegative:m,imageType:e,cal_minNeg:P,cal_maxNeg:O,colorbarVisible:U,frame4D:y,alphaThreshold:W,colormapLabel:V});function getBestTransform(l,n,u){const p=l;let v=null;if(p){const d={colSize:n[0],rowSize:n[1],sliceSize:n[2]},g=u,_=[p[0],p[1],p[2]],C=[p[3],p[4],p[5]],E=[_[1]*C[2]-_[2]*C[1],_[2]*C[0]-_[0]*C[2],_[0]*C[1]-_[1]*C[0]];v=[[_[0]*d.colSize*-1,C[0]*d.rowSize*-1,E[0]*d.sliceSize*-1,-1*g[0]],[_[1]*d.colSize*-1,C[1]*d.rowSize*-1,E[1]*d.sliceSize*-1,-1*g[1]],[_[2]*d.colSize,C[2]*d.rowSize,E[2]*d.sliceSize,g[2]],[0,0,0,1]]}return v}function str2Buffer(l){const n=[];for(let u=0;u<l.length;u++){const p=l.charCodeAt(u);n.push(p&255)}return n}function hdrToArrayBuffer(l,n=!1){const v=new Uint8Array(348),d=new DataView(v.buffer);d.setInt32(0,348,l.littleEndian),d.setUint8(39,l.dim_info);for(let _=0;_<8;_++)d.setUint16(40+2*_,l.dims[_],l.littleEndian);d.setFloat32(56,l.intent_p1,l.littleEndian),d.setFloat32(60,l.intent_p2,l.littleEndian),d.setFloat32(64,l.intent_p3,l.littleEndian),d.setInt16(68,l.intent_code,l.littleEndian),n?(d.setInt16(70,2,l.littleEndian),d.setInt16(72,8,l.littleEndian)):(d.setInt16(70,l.datatypeCode,l.littleEndian),d.setInt16(72,l.numBitsPerVoxel,l.littleEndian)),d.setInt16(74,l.slice_start,l.littleEndian);for(let _=0;_<8;_++)d.setFloat32(76+4*_,l.pixDims[_],l.littleEndian);n?(d.setFloat32(108,352,l.littleEndian),d.setFloat32(112,1,l.littleEndian),d.setFloat32(116,0,l.littleEndian)):(d.setFloat32(108,l.vox_offset,l.littleEndian),d.setFloat32(112,l.scl_slope,l.littleEndian),d.setFloat32(116,l.scl_inter,l.littleEndian)),d.setInt16(120,l.slice_end,l.littleEndian),d.setUint8(122,l.slice_code),d.setUint8(123,l.xyzt_units),n?(d.setFloat32(124,0,l.littleEndian),d.setFloat32(128,0,l.littleEndian)):(d.setFloat32(124,l.cal_max,l.littleEndian),d.setFloat32(128,l.cal_min,l.littleEndian)),d.setFloat32(132,l.slice_duration,l.littleEndian),d.setFloat32(136,l.toffset,l.littleEndian),v.set(str2Buffer(l.description),148),v.set(str2Buffer(l.aux_file),228),d.setInt16(252,l.qform_code,l.littleEndian),d.setInt16(254,l.sform_code,l.littleEndian),d.setFloat32(256,l.quatern_b,l.littleEndian),d.setFloat32(260,l.quatern_c,l.littleEndian),d.setFloat32(264,l.quatern_d,l.littleEndian),d.setFloat32(268,l.qoffset_x,l.littleEndian),d.setFloat32(272,l.qoffset_y,l.littleEndian),d.setFloat32(276,l.qoffset_z,l.littleEndian);const g=l.affine.flat();for(let _=0;_<12;_++)d.setFloat32(280+4*_,g[_],l.littleEndian);return v.set(str2Buffer(l.intent_name),328),v.set(str2Buffer(l.magic),344),v}function getExtents(l,n=!0){const u=Math.round(l.length/3),p=fromValues$2(0,0,0),v=create$2(),d=create$2();let g=0,_=1;n&&(_=2);for(let m=0;m<_;m++){g=0;for(let e=0;e<u;e++){const P=fromValues$2(l[e*3],l[e*3+1],l[e*3+2]);e===0&&(copy(v,P),copy(d,P)),min(v,v,P),max$2(d,d,P),subtract$1(P,P,p);const O=len(P);g=Math.max(g,O)}if(m+1>=_)break;let y=!0;for(let e=0;e<3;++e)v[e]>p[e]&&(y=!1),d[e]<p[e]&&(y=!1);if(y)break;lerp(p,v,d,.5),log$1.debug("origin moved inside volume: ",p)}const C=[v[0],v[1],v[2]],E=[d[0],d[1],d[2]];return{min:C,max:E,furthestVertexFromOrigin:g,origin:p}}function isAffineOK(l){const n=[!1,!1,!1,!1],u=[!1,!1,!1,!1];for(let p=0;p<4;p++)for(let v=0;v<4;v++)if(isNaN(l[p][v]))return!1;for(let p=0;p<3;p++)for(let v=0;v<3;v++)l[p][v]!==0&&(n[p]=!0,u[v]=!0);for(let p=0;p<3;p++)if(!n[p]||!u[p])return!1;return!0}var NVImage=class Xi{constructor(n=null,u="",p="gray",v=1,d=null,g=NaN,_=NaN,C=!0,E=.02,w=!1,m=!1,y="",e=0,P=NVIMAGE_TYPE.UNKNOWN,O=NaN,U=NaN,W=!0,V=null){if(__publicField(this,"name"),__publicField(this,"id"),__publicField(this,"url"),__publicField(this,"headers"),__publicField(this,"_colormap"),__publicField(this,"_opacity"),__publicField(this,"percentileFrac"),__publicField(this,"ignoreZeroVoxels"),__publicField(this,"trustCalMinMax"),__publicField(this,"colormapNegative"),__publicField(this,"colormapLabel"),__publicField(this,"colormapInvert"),__publicField(this,"nFrame4D"),__publicField(this,"frame4D"),__publicField(this,"nTotalFrame4D"),__publicField(this,"cal_minNeg"),__publicField(this,"cal_maxNeg"),__publicField(this,"colorbarVisible",!0),__publicField(this,"modulationImage",null),__publicField(this,"modulateAlpha",0),__publicField(this,"series",[]),__publicField(this,"nVox3D"),__publicField(this,"oblique_angle"),__publicField(this,"maxShearDeg"),__publicField(this,"useQFormNotSForm"),__publicField(this,"alphaThreshold"),__publicField(this,"pixDims"),__publicField(this,"matRAS"),__publicField(this,"pixDimsRAS"),__publicField(this,"obliqueRAS"),__publicField(this,"dimsRAS"),__publicField(this,"permRAS"),__publicField(this,"img2RASstep"),__publicField(this,"img2RASstart"),__publicField(this,"toRAS"),__publicField(this,"toRASvox"),__publicField(this,"frac2mm"),__publicField(this,"frac2mmOrtho"),__publicField(this,"extentsMinOrtho"),__publicField(this,"extentsMaxOrtho"),__publicField(this,"mm2ortho"),__publicField(this,"hdr",null),__publicField(this,"imageType"),__publicField(this,"img"),__publicField(this,"imaginary"),__publicField(this,"fileObject"),__publicField(this,"dims"),__publicField(this,"onColormapChange",()=>{}),__publicField(this,"onOpacityChange",()=>{}),__publicField(this,"mm000"),__publicField(this,"mm100"),__publicField(this,"mm010"),__publicField(this,"mm001"),__publicField(this,"cal_min"),__publicField(this,"cal_max"),__publicField(this,"robust_min"),__publicField(this,"robust_max"),__publicField(this,"global_min"),__publicField(this,"global_max"),__publicField(this,"urlImgData"),__publicField(this,"isManifest"),__publicField(this,"limitFrames4D"),this.name=u,this.id=v4(),this._colormap=p,this._opacity=v>1?1:v,this.percentileFrac=E,this.ignoreZeroVoxels=w,this.trustCalMinMax=C,this.colormapNegative=y,this.colormapLabel=V,this.frame4D=e,this.cal_minNeg=O,this.cal_maxNeg=U,this.colorbarVisible=W,this.useQFormNotSForm=m,!n)return;const $=/(?:\.([^.]+))?$/;let b=$.exec(u)[1]||"";b=b.toUpperCase(),b==="GZ"&&(b=$.exec(u.slice(0,-3))[1],b=b.toUpperCase());let H=null;switch(P===NVIMAGE_TYPE.UNKNOWN&&(P=NVIMAGE_TYPE.parse(b)),this.imageType=P,P){case NVIMAGE_TYPE.DCM_FOLDER:case NVIMAGE_TYPE.DCM_MANIFEST:case NVIMAGE_TYPE.DCM:H=this.readDICOM(n);break;case NVIMAGE_TYPE.MIH:case NVIMAGE_TYPE.MIF:H=this.readMIF(n,d);break;case NVIMAGE_TYPE.NHDR:case NVIMAGE_TYPE.NRRD:H=this.readNRRD(n,d);break;case NVIMAGE_TYPE.MHD:case NVIMAGE_TYPE.MHA:H=this.readMHA(n,d);break;case NVIMAGE_TYPE.MGH:case NVIMAGE_TYPE.MGZ:H=this.readMGH(n);break;case NVIMAGE_TYPE.V:H=this.readECAT(n);break;case NVIMAGE_TYPE.V16:H=this.readV16(n);break;case NVIMAGE_TYPE.VMR:H=this.readVMR(n);break;case NVIMAGE_TYPE.HEAD:H=this.readHEAD(n,d);break;case NVIMAGE_TYPE.NII:this.hdr=nifti.readHeader(n),this.hdr!==null&&(this.hdr.cal_min===0&&this.hdr.cal_max===255&&(this.hdr.cal_max=0),nifti.isCompressed(n)?H=nifti.readImage(this.hdr,nifti.decompress(n)):H=nifti.readImage(this.hdr,n));break;default:throw new Error("Image type not supported")}if(this.hdr&&typeof this.hdr.magic=="number"&&(this.hdr.magic="n+1"),this.nFrame4D=1,this.hdr)for(let j=4;j<7;j++)this.hdr.dims[j]>1&&(this.nFrame4D*=this.hdr.dims[j]);if(this.frame4D=Math.min(this.frame4D,this.nFrame4D-1),this.nTotalFrame4D=this.nFrame4D,!this.hdr||!H)return;this.nVox3D=this.hdr.dims[1]*this.hdr.dims[2]*this.hdr.dims[3];const G=this.nVox3D*(this.hdr.numBitsPerVoxel/8),Y=H.byteLength/G;if(Y!==this.nFrame4D&&(Y>0&&Y*G===H.byteLength?log$1.debug("Loading the first "+Y+" of "+this.nFrame4D+" volumes"):log$1.warn("This header does not match voxel data",this.hdr,H.byteLength),this.nFrame4D=Y),(this.hdr.intent_code===1007||this.hdr.intent_code===2003)&&this.nFrame4D===3&&this.hdr.datatypeCode===16){const h=new Float32Array(H).slice();this.hdr.datatypeCode=2304,this.nFrame4D=1;for(let Ae=4;Ae<7;Ae++)this.hdr.dims[Ae]=1;this.hdr.dims[0]=3,H=new Uint8Array(this.nVox3D*4);let ae=1;for(let Ae=0;Ae<this.nVox3D*3;Ae++)ae=Math.max(ae,Math.abs(h[Ae]));const le=255/ae,he=this.nVox3D*2;let pe=0;for(let Ae=0;Ae<this.nVox3D;Ae++){const ge=h[Ae],ye=h[Ae+this.nVox3D],we=h[Ae+he];H[pe]=Math.abs(ge*le),H[pe+1]=Math.abs(ye*le),H[pe+2]=Math.abs(we*le);const be=+(ge>0)*1,Ve=+(ye>0)*2,Ne=+(we>0)*4;let p0=248+be+Ve+Ne;Math.abs(ge)+Math.abs(ye)+Math.abs(we)<.1&&(p0=0),H[pe+3]=p0,pe+=4}}(this.hdr.pixDims[1]===0||this.hdr.pixDims[2]===0||this.hdr.pixDims[3]===0)&&log$1.error("pixDims not plausible",this.hdr),(isNaN(this.hdr.scl_slope)||this.hdr.scl_slope===0)&&(this.hdr.scl_slope=1),isNaN(this.hdr.scl_inter)&&(this.hdr.scl_inter=0);let X=isAffineOK(this.hdr.affine);if(m||!X||this.hdr.qform_code>this.hdr.sform_code){log$1.debug("spatial transform based on QForm");const j=this.hdr.quatern_b,h=this.hdr.quatern_c,ae=this.hdr.quatern_d,le=Math.sqrt(1-(Math.pow(j,2)+Math.pow(h,2)+Math.pow(ae,2))),he=this.hdr.pixDims[0]===0?1:this.hdr.pixDims[0],pe=[[le*le+j*j-h*h-ae*ae,2*j*h-2*le*ae,2*j*ae+2*le*h],[2*j*h+2*le*ae,le*le+h*h-j*j-ae*ae,2*h*ae-2*le*j],[2*j*ae-2*le*h,2*h*ae+2*le*j,le*le+ae*ae-h*h-j*j]],Ae=this.hdr.affine;for(let ge=0;ge<3;ge+=1)for(let ye=0;ye<3;ye+=1)Ae[ge][ye]=pe[ge][ye]*this.hdr.pixDims[ye+1],ye===2&&(Ae[ge][ye]*=he);Ae[0][3]=this.hdr.qoffset_x,Ae[1][3]=this.hdr.qoffset_y,Ae[2][3]=this.hdr.qoffset_z,this.hdr.affine=Ae}if(X=isAffineOK(this.hdr.affine),!X){log$1.debug("Defective NIfTI: spatial transform does not make sense");let j=this.hdr.pixDims[1],h=this.hdr.pixDims[2],ae=this.hdr.pixDims[3];(isNaN(j)||j===0)&&(j=1),(isNaN(h)||h===0)&&(h=1),(isNaN(ae)||ae===0)&&(ae=1),this.hdr.pixDims[1]=j,this.hdr.pixDims[2]=h,this.hdr.pixDims[3]=ae;const le=[[j,0,0,0],[0,h,0,0],[0,0,ae,0],[0,0,0,1]];this.hdr.affine=le}if(this.hdr.datatypeCode!==128&&this.hdr.datatypeCode!==2304&&this.hdr.littleEndian!==isPlatformLittleEndian()&&this.hdr.numBitsPerVoxel>8){if(this.hdr.numBitsPerVoxel===16){const j=new Uint16Array(H);for(let h=0;h<j.length;h++){const ae=j[h];j[h]=((ae&255)<<8|ae>>8&255)<<16>>16}}else if(this.hdr.numBitsPerVoxel===32){const j=new Uint32Array(H);for(let h=0;h<j.length;h++){const ae=j[h];j[h]=(ae&255)<<24|(ae&65280)<<8|ae>>8&65280|ae>>24&255}}else if(this.hdr.numBitsPerVoxel===64){const j=this.hdr.numBitsPerVoxel/8,h=new Uint8Array(H);for(let ae=0;ae<h.length;ae+=j){let le=j-1;for(let he=0;he<le;he++){const pe=h[ae+he];h[ae+he]=h[ae+le],h[ae+le]=pe,le--}}}}switch(this.hdr.datatypeCode){case 2:this.img=new Uint8Array(H);break;case 4:this.img=new Int16Array(H);break;case 16:this.img=new Float32Array(H);break;case 64:this.img=new Float64Array(H);break;case 128:this.img=new Uint8Array(H);break;case 512:this.img=new Uint16Array(H);break;case 2304:this.img=new Uint8Array(H);break;case 256:{const j=new Int8Array(H),h=j.length;this.img=new Int16Array(h);for(let ae=0;ae<h;ae++)this.img[ae]=j[ae];this.hdr.datatypeCode=4,this.hdr.numBitsPerVoxel=16;break}case 1:{const j=this.hdr.dims[1]*this.hdr.dims[2]*Math.max(1,this.hdr.dims[3])*Math.max(1,this.hdr.dims[4]),h=new Uint8Array(H);this.img=new Uint8Array(j);const ae=new Uint8Array(8);for(let he=0;he<8;he++)ae[he]=Math.pow(2,he);let le=-1;for(let he=0;he<j;he++){const pe=he%8;pe===0&&le++,h[le]&ae[pe]&&(this.img[he]=1)}this.hdr.datatypeCode=2,this.hdr.numBitsPerVoxel=8;break}case 768:{const j=new Uint32Array(H),h=j.length;this.img=new Float64Array(h);for(let ae=0;ae<h-1;ae++)this.img[ae]=j[ae];this.hdr.datatypeCode=64;break}case 8:{const j=new Int32Array(H),h=j.length;this.img=new Float64Array(h);for(let ae=0;ae<h-1;ae++)this.img[ae]=j[ae];this.hdr.datatypeCode=64;break}case 1024:{const j=new BigInt64Array(H),h=j.length;this.img=new Float64Array(h);for(let ae=0;ae<h-1;ae++)this.img[ae]=Number(j[ae]);this.hdr.datatypeCode=64;break}case 32:{const j=new Float32Array(H),h=Math.floor(j.length/2);this.imaginary=new Float32Array(h),this.img=new Float32Array(h);let ae=0;for(let le=0;le<h-1;le++)this.img[le]=j[ae],this.imaginary[le]=j[ae+1],ae+=2;this.hdr.datatypeCode=16;break}default:throw new Error("datatype "+this.hdr.datatypeCode+" not supported")}this.calculateRAS(),isNaN(g)||(this.hdr.cal_min=g),isNaN(_)||(this.hdr.cal_max=_),this.calMinMax()}computeObliqueAngle(n){const u=clone$2(n);transpose$1(u,n);const p=Math.sqrt(u[0]*u[0]+u[1]*u[1]+u[2]*u[2]),v=Math.max(Math.max(Math.abs(u[0]),Math.abs(u[1])),Math.abs(u[2]))/p,d=Math.sqrt(u[4]*u[4]+u[5]*u[5]+u[6]*u[6]),g=Math.max(Math.max(Math.abs(u[4]),Math.abs(u[5])),Math.abs(u[6]))/d,_=Math.sqrt(u[8]*u[8]+u[9]*u[9]+u[10]*u[10]),C=Math.max(Math.max(Math.abs(u[8]),Math.abs(u[9])),Math.abs(u[10]))/_,E=Math.min(Math.min(v,g),C);let w=Math.abs(Math.acos(E)*180/3.141592653);return w>.01?log$1.warn("Warning voxels not aligned with world space: "+w+` degrees from plumb.
`):w=0,w}calculateOblique(){if(!this.matRAS)throw new Error("matRAS not defined");if(this.pixDimsRAS===void 0)throw new Error("pixDimsRAS not defined");if(!this.dimsRAS)throw new Error("dimsRAS not defined");this.oblique_angle=this.computeObliqueAngle(this.matRAS);const n=this.vox2mm([0,0,0],this.matRAS),u=this.vox2mm([1/this.pixDimsRAS[1],0,0],this.matRAS),p=this.vox2mm([0,1/this.pixDimsRAS[2],0],this.matRAS),v=this.vox2mm([0,0,1/this.pixDimsRAS[3]],this.matRAS);subtract$1(u,u,n),subtract$1(p,p,n),subtract$1(v,v,n);const d=fromValues$3(u[0],u[1],u[2],0,p[0],p[1],p[2],0,v[0],v[1],v[2],0,0,0,0,1);this.obliqueRAS=clone$2(d);const g=Math.abs(90-angle(u,p)*(180/Math.PI)),_=Math.abs(90-angle(u,v)*(180/Math.PI)),C=Math.abs(90-angle(p,v)*(180/Math.PI));this.maxShearDeg=Math.max(Math.max(g,_),C),this.maxShearDeg>.1&&log$1.warn("Warning: voxels are rhomboidal, maximum shear is %f degrees.",this.maxShearDeg);const E=fromValues$1(this.dimsRAS[1],this.dimsRAS[2],this.dimsRAS[3],1),w=clone$2(this.matRAS);transpose$1(w,w);const m=fromValues$1(-.5,-.5,-.5,0);translate(w,w,fromValues$2(m[0],m[1],m[2])),w[0]*=E[0],w[1]*=E[0],w[2]*=E[0],w[4]*=E[1],w[5]*=E[1],w[6]*=E[1],w[8]*=E[2],w[9]*=E[2],w[10]*=E[2],this.frac2mm=clone$2(w);const y=this.pixDimsRAS[1],e=this.pixDimsRAS[2],P=this.pixDimsRAS[3],O=clone$2(w);O[0]=y*E[0],O[1]=0,O[2]=0,O[4]=0,O[5]=e*E[1],O[6]=0,O[8]=0,O[9]=0,O[10]=P*E[2];const U=this.mm2vox([0,0,0],!0);O[12]=(-U[0]-.5)*y,O[13]=(-U[1]-.5)*e,O[14]=(-U[2]-.5)*P,this.frac2mmOrtho=clone$2(O),this.extentsMinOrtho=[O[12],O[13],O[14]],this.extentsMaxOrtho=[O[0]+O[12],O[5]+O[13],O[10]+O[14]],this.mm2ortho=create$3(),invert(this.mm2ortho,d)}THD_daxes_to_NIFTI(n,u,p){const v=this.hdr;if(v===null)throw new Error("HDR is not set");v.sform_code=2;const d="xxyyzzg";let g=-1,_=-1,C=-1;const E=["x","y","z"];E[0]=d[p[0]],E[1]=d[p[1]],E[2]=d[p[2]];const w=n.slice(0,3),m=u.slice(0,3);for(let y=0;y<3;y++)E[y]==="x"?g=y:E[y]==="y"?_=y:C=y;g<0||_<0||C<0||g===_||g===C||_===C||(v.pixDims[1]=Math.abs(w[0]),v.pixDims[2]=Math.abs(w[1]),v.pixDims[3]=Math.abs(w[2]),v.affine=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],v.affine[0][g]=-w[g],v.affine[1][_]=-w[_],v.affine[2][C]=w[C],v.affine[0][3]=-m[g],v.affine[1][3]=-m[_],v.affine[2][3]=m[C])}SetPixDimFromSForm(){if(!this.hdr)throw new Error("hdr not defined");const n=this.hdr.affine,u=fromValues$3(n[0][0],n[0][1],n[0][2],n[0][3],n[1][0],n[1][1],n[1][2],n[1][3],n[2][0],n[2][1],n[2][2],n[2][3],n[3][0],n[3][1],n[3][2],n[3][3]),p=this.vox2mm([0,0,0],u),v=this.vox2mm([1,0,0],u);subtract$1(v,v,p);const d=this.vox2mm([0,1,0],u);subtract$1(d,d,p);const g=this.vox2mm([0,0,1],u);subtract$1(g,g,p),this.hdr.pixDims[1]=length$1(v),this.hdr.pixDims[2]=length$1(d),this.hdr.pixDims[3]=length$1(g)}readDICOM(n){if(this.series=new daikon.Series,Array.isArray(n))for(let m=0;m<n.length;m++){const y=new DataView(n[m]),e=daikon.Series.parseImage(y);e===null?log$1.error(daikon.Series.parserError):e.hasPixelData()&&(this.series.images.length===0||e.getSeriesId()===this.series.images[0].getSeriesId())&&this.series.addImage(e)}else{const m=daikon.Series.parseImage(new DataView(n));m===null?log$1.error(daikon.Series.parserError):m.hasPixelData()&&(this.series.images.length===0||m.getSeriesId()===this.series.images[0].getSeriesId())&&this.series.addImage(m)}this.series.buildSeries(),this.hdr=new nifti.NIFTI1;const u=this.hdr;u.scl_inter=0,u.scl_slope=1,this.series.images[0].getDataScaleIntercept()&&(u.scl_inter=this.series.images[0].getDataScaleIntercept()),this.series.images[0].getDataScaleSlope()&&(u.scl_slope=this.series.images[0].getDataScaleSlope()),u.dims=[3,1,1,1,0,0,0,0],u.pixDims=[1,1,1,1,1,0,0,0],u.dims[1]=this.series.images[0].getCols(),u.dims[2]=this.series.images[0].getRows(),u.dims[3]=this.series.images[0].getNumberOfFrames(),this.series.images.length>1&&(u.dims[3]>1&&log$1.debug("To Do: multiple slices per file and multiple files (XA30 DWI)"),u.dims[3]=this.series.images.length);const p=this.series.images[0].getPixelSpacing();if(u.pixDims[1]=p[0],u.pixDims[2]=p[1],this.series.images.length>1){const m=fromValues$2(...this.series.images[0].getImagePosition()),y=fromValues$2(...this.series.images[1].getImagePosition()),e=fromValues$2(0,0,0);subtract$1(e,m,y),u.pixDims[3]=length$1(e)}else u.pixDims[3]=this.series.images[0].getSliceThickness();u.pixDims[4]=this.series.images[0].getTR()/1e3;const v=this.series.images[0].getDataType(),d=this.series.images[0].getBitsAllocated();u.numBitsPerVoxel=d,this.hdr.littleEndian=this.series.images[0].littleEndian,d===8&&v===2?u.datatypeCode=256:d===8&&v===3?u.datatypeCode=2:d===16&&v===2?u.datatypeCode=4:d===16&&v===3?u.datatypeCode=512:d===32&&v===2?u.datatypeCode=8:d===32&&v===3?u.datatypeCode=768:d===32&&v===4?u.datatypeCode=16:d===64&&v===4?u.datatypeCode=64:d===1?u.datatypeCode=1:log$1.warn("Unsupported DICOM format: "+v+" "+d);const g=u.pixDims.slice(1,4),_=getBestTransform(this.series.images[0].getImageDirections(),g,this.series.images[0].getImagePosition());_&&(u.sform_code=1,u.affine=[[_[0][0],_[0][1],_[0][2],_[0][3]],[_[1][0],_[1][1],_[1][2],_[1][3]],[_[2][0],_[2][1],_[2][2],_[2][3]],[0,0,0,1]]);let C,E=this.series.validatePixelDataLength(this.series.images[0]);const w=new Uint8Array(new ArrayBuffer(E*this.series.images.length));for(let m=0;m<this.series.images.length;m++)this.series.isMosaic?C=this.series.getMosaicData(this.series.images[m],this.series.images[m].getPixelDataBytes()):C=this.series.images[m].getPixelDataBytes(),E=this.series.validatePixelDataLength(this.series.images[m]),this.series.images[m].clearPixelData(),w.set(new Uint8Array(C,0,E),E*m);return w.buffer}readECAT(n){this.hdr=new nifti.NIFTI1;const u=this.hdr;u.dims=[3,1,1,1,0,0,0,0],u.pixDims=[1,1,1,1,1,0,0,0];const p=new DataView(n),v=p.getInt32(0,!1),d=p.getInt16(50,!1);if(v!==1296127058||d<1||d>14)throw new Error("Not a valid ECAT file");let g=512,_=0;const C=[];let E=new Float32Array;for(;;){const w=p.getInt32(g,!1),m=p.getInt32(g+12,!1);if(w+m!==31)break;let y=g+20,e=0,P=0;for(;e<31&&(P=p.getInt32(y,!1),y+=16,P!==0);){e++;let O=P*512;const U=O-512,W=p.getUint16(U,!1);u.dims[1]=p.getUint16(U+4,!1),u.dims[2]=p.getUint16(U+6,!1),u.dims[3]=p.getUint16(U+8,!1);const V=p.getFloat32(U+26,!1);u.pixDims[1]=p.getFloat32(U+34,!1)*10,u.pixDims[2]=p.getFloat32(U+38,!1)*10,u.pixDims[3]=p.getFloat32(U+42,!1)*10,u.pixDims[4]=p.getUint32(U+46,!1)/1e3,C.push(u.pixDims[4]);const $=u.dims[1]*u.dims[2]*u.dims[3],b=new Float32Array($);if(W===1)for(let G=0;G<$;G++)b[G]=p.getUint8(O)*V,O++;else if(W===6)for(let G=0;G<$;G++)b[G]=p.getUint16(O,!1)*V,O+=2;else if(W===7)for(let G=0;G<$;G++)b[G]=p.getUint32(O,!1)*V,O+=4;else log$1.warn("Unknown ECAT data type "+W);const H=E.slice(0);E=new Float32Array(H.length+b.length),E.set(H),E.set(b,H.length),_++}if(P===0)break;g+=512}if(u.dims[4]=_,u.pixDims[4]=C[0],_>1){u.dims[0]=4;let w=!1;for(let m=0;m<_;m++)C[m]!==C[0]&&(w=!0);w&&log$1.warn("Frame durations vary")}return u.sform_code=1,u.affine=[[-u.pixDims[1],0,0,(u.dims[1]-2)*.5*u.pixDims[1]],[0,-u.pixDims[2],0,(u.dims[2]-2)*.5*u.pixDims[2]],[0,0,-u.pixDims[3],(u.dims[3]-2)*.5*u.pixDims[3]],[0,0,0,1]],u.numBitsPerVoxel=32,u.datatypeCode=16,E}readV16(n){this.hdr=new nifti.NIFTI1;const u=this.hdr;u.dims=[3,1,1,1,0,0,0,0],u.pixDims=[1,1,1,1,1,0,0,0];const p=new DataView(n);return u.dims[1]=p.getUint16(0,!0),u.dims[2]=p.getUint16(2,!0),u.dims[3]=p.getUint16(4,!0),2*u.dims[1]*u.dims[2]*u.dims[3]+6!==n.byteLength&&log$1.warn("This does not look like a valid BrainVoyager V16 file"),u.numBitsPerVoxel=16,u.datatypeCode=512,log$1.warn("Warning: V16 files have no spatial transforms"),u.affine=[[0,0,-u.pixDims[1],(u.dims[1]-2)*.5*u.pixDims[1]],[-u.pixDims[2],0,0,(u.dims[2]-2)*.5*u.pixDims[2]],[0,-u.pixDims[3],0,(u.dims[3]-2)*.5*u.pixDims[3]],[0,0,0,1]],u.littleEndian=!0,n.slice(6)}readVMR(n){this.hdr=new nifti.NIFTI1;const u=this.hdr;u.dims=[3,1,1,1,0,0,0,0],u.pixDims=[1,1,1,1,1,0,0,0];const p=new DataView(n),v=p.getUint16(0,!0);v!==4&&log$1.warn("Not a valid version 4 VMR image"),u.dims[1]=p.getUint16(2,!0),u.dims[2]=p.getUint16(4,!0),u.dims[3]=p.getUint16(6,!0);const d=u.dims[1]*u.dims[2]*u.dims[3];if(v>=4){let g=8+d;const _=p.getUint32(g+88,!0);if(g=g+92,_>0){const C=n.byteLength;for(let E=0;E<_;E++){for(;g<C&&p.getUint8(g)!==0;)g++;for(g++,g+=4;g<C&&p.getUint8(g)!==0;)g++;g++;const w=p.getUint32(g,!0);g+=4;for(let m=0;m<w;m++)g+=4}}u.pixDims[1]=p.getFloat32(g+2,!0),u.pixDims[2]=p.getFloat32(g+6,!0),u.pixDims[3]=p.getFloat32(g+10,!0)}return log$1.warn("Warning: VMR spatial transform not implemented"),u.affine=[[0,0,-u.pixDims[1],(u.dims[1]-2)*.5*u.pixDims[1]],[-u.pixDims[2],0,0,(u.dims[2]-2)*.5*u.pixDims[2]],[0,-u.pixDims[3],0,(u.dims[3]-2)*.5*u.pixDims[3]],[0,0,0,1]],log$1.debug(u),u.numBitsPerVoxel=8,u.datatypeCode=2,n.slice(8,8+d)}readMGH(n){this.hdr=new nifti.NIFTI1;const u=this.hdr;u.littleEndian=!1,u.dims=[3,1,1,1,0,0,0,0],u.pixDims=[1,1,1,1,1,0,0,0];let p=n,v=new DataView(p);v.getUint8(0)===31&&v.getUint8(1)===139&&(p=decompressSync$1(new Uint8Array(n)).buffer,v=new DataView(p));const d=v.getInt32(0,!1),g=v.getInt32(4,!1),_=v.getInt32(8,!1),C=v.getInt32(12,!1),E=v.getInt32(16,!1),w=v.getInt32(20,!1),m=v.getFloat32(30,!1),y=v.getFloat32(34,!1),e=v.getFloat32(38,!1),P=v.getFloat32(42,!1),O=v.getFloat32(46,!1),U=v.getFloat32(50,!1),W=v.getFloat32(54,!1),V=v.getFloat32(58,!1),$=v.getFloat32(62,!1),b=v.getFloat32(66,!1),H=v.getFloat32(70,!1),G=v.getFloat32(74,!1),Y=v.getFloat32(78,!1),X=v.getFloat32(82,!1),j=v.getFloat32(86,!1);(d!==1||w<0||w>4)&&log$1.warn("Not a valid MGH file"),w===0?(u.numBitsPerVoxel=8,u.datatypeCode=2):w===4?(u.numBitsPerVoxel=16,u.datatypeCode=4):w===1?(u.numBitsPerVoxel=32,u.datatypeCode=8):w===3&&(u.numBitsPerVoxel=32,u.datatypeCode=16),u.dims[1]=g,u.dims[2]=_,u.dims[3]=C,u.dims[4]=E,E>1&&(u.dims[0]=4),u.pixDims[1]=m,u.pixDims[2]=y,u.pixDims[3]=e,u.vox_offset=284,u.sform_code=1;const h=fromValues$3(P*u.pixDims[1],W*u.pixDims[2],b*u.pixDims[3],0,O*u.pixDims[1],V*u.pixDims[2],H*u.pixDims[3],0,U*u.pixDims[1],$*u.pixDims[2],G*u.pixDims[3],0,0,0,0,1),ae=[u.dims[1]/2,u.dims[2]/2,u.dims[3]/2,1],le=[0,0,0,0];for(let pe=0;pe<3;pe++){le[pe]=0;for(let Ae=0;Ae<3;Ae++)le[pe]=le[pe]+h[Ae+pe*4]*ae[Ae]}u.affine=[[h[0],h[1],h[2],Y-le[0]],[h[4],h[5],h[6],X-le[1]],[h[8],h[9],h[10],j-le[2]],[0,0,0,1]];const he=u.dims[1]*u.dims[2]*u.dims[3]*u.dims[4]*(u.numBitsPerVoxel/8);return p.slice(u.vox_offset,u.vox_offset+he)}readHEAD(n,u){this.hdr=new nifti.NIFTI1;const p=this.hdr;p.dims[0]=3,p.pixDims=[1,1,1,1,1,0,0,0];let v=[0,0,0],d=[0,0,0],g=[1,1,1];const C=new TextDecoder().decode(n).split(/\r?\n/),E=(n.byteLength+8)%16,w=n.byteLength+(16-E);log$1.debug(n.byteLength,"len",w);const m=new Uint8Array(w);m.fill(0),m.set(new Uint8Array(n));const y=new nifti.NIFTIEXTENSION(w+8,42,m,!0);p.addExtension(y),p.extensionCode=42,p.extensionFlag[0]=1,p.extensionSize=w+8;const e=C.length;let P=0,O=!1;for(;P<e;){let W=C[P];if(P++,!W.startsWith("type"))continue;const V=W.includes("integer-attribute"),$=W.includes("float-attribute");if(W=C[P],P++,!W.startsWith("name"))continue;let b=W.split("= ");const H=b[1];W=C[P],P++,b=W.split("= ");let G=parseInt(b[1]);if(!(G<1)){if(W=C[P],P++,b=W.trim().split(/\s+/),$||V){for(;b.length<G;){W=C[P],P++;const Y=W.trim().split(/\s+/);b.push(...Y)}for(let Y=0;Y<G;Y++)b[Y]=parseFloat(b[Y])}switch(H){case"BYTEORDER_STRING":b[0].includes("LSB_FIRST")?p.littleEndian=!0:b[0].includes("MSB_FIRST")&&(p.littleEndian=!1);break;case"BRICK_TYPES":{p.dims[4]=G;const Y=parseInt(b[0]);Y===0?(p.numBitsPerVoxel=8,p.datatypeCode=2):Y===1?(p.numBitsPerVoxel=16,p.datatypeCode=4):Y===3?(p.numBitsPerVoxel=32,p.datatypeCode=16):log$1.warn("Unknown BRICK_TYPES ",Y)}break;case"IJK_TO_DICOM_REAL":if(G<12)break;O=!0,p.sform_code=2,p.affine=[[-b[0],-b[1],-b[2],-b[3]],[-b[4],-b[5],-b[6],-b[7]],[b[8],b[9],b[10],b[11]],[0,0,0,1]];break;case"DATASET_DIMENSIONS":G=Math.max(G,3);for(let Y=0;Y<G;Y++)p.dims[Y+1]=b[Y];break;case"ORIENT_SPECIFIC":v=b;break;case"ORIGIN":d=b;break;case"DELTA":g=b;break;case"TAXIS_FLOATS":p.pixDims[4]=b[0];break;default:log$1.warn("Unknown:",H)}}}O?this.SetPixDimFromSForm():this.THD_daxes_to_NIFTI(g,d,v);const U=p.numBitsPerVoxel/8*p.dims[1]*p.dims[2]*p.dims[3]*p.dims[4];if(!u)throw new Error("pairedImgData not set");return u.byteLength<U?decompressSync$1(new Uint8Array(u)).buffer:u.slice(0)}readMHA(n,u){const p=n.byteLength;if(p<20)throw new Error("File too small to be VTK: bytes = "+n.byteLength);const v=new Uint8Array(n);let d=0;function g(O){return O===10||O===13}function _(){for(;d<p&&g(v[d]);)d++;const O=d;for(;d<p&&!g(v[d]);)d++;return d-O<2?"":new TextDecoder().decode(n.slice(O,d))}let C=_();this.hdr=new nifti.NIFTI1;const E=this.hdr;E.pixDims=[1,1,1,1,1,0,0,0],E.dims=[1,1,1,1,1,1,1,1],E.littleEndian=!0;let w=!1,m=!1;const y=fromValues$4(NaN,0,0,0,1,0,0,0,1),e=fromValues$2(0,0,0);for(;C!=="";){let O=C.split(" ");if(O.length>2&&(O=O.slice(2)),C.startsWith("BinaryDataByteOrderMSB")&&O[0].includes("False")&&(E.littleEndian=!0),C.startsWith("BinaryDataByteOrderMSB")&&O[0].includes("True")&&(E.littleEndian=!1),C.startsWith("CompressedData")&&O[0].includes("True")&&(w=!0),C.startsWith("TransformMatrix"))for(let U=0;U<9;U++)y[U]=parseFloat(O[U]);if(C.startsWith("Offset"))for(let U=0;U<Math.min(O.length,3);U++)e[U]=parseFloat(O[U]);if(C.startsWith("ElementSpacing"))for(let U=0;U<O.length;U++)E.pixDims[U+1]=parseFloat(O[U]);if(C.startsWith("DimSize")){E.dims[0]=O.length;for(let U=0;U<O.length;U++)E.dims[U+1]=parseInt(O[U])}if(C.startsWith("ElementType"))switch(O[0]){case"MET_UCHAR":E.numBitsPerVoxel=8,E.datatypeCode=2;break;case"MET_CHAR":E.numBitsPerVoxel=8,E.datatypeCode=256;break;case"MET_SHORT":E.numBitsPerVoxel=16,E.datatypeCode=4;break;case"MET_USHORT":E.numBitsPerVoxel=16,E.datatypeCode=512;break;case"MET_INT":E.numBitsPerVoxel=32,E.datatypeCode=8;break;case"MET_UINT":E.numBitsPerVoxel=32,E.datatypeCode=768;break;case"MET_FLOAT":E.numBitsPerVoxel=32,E.datatypeCode=16;break;case"MET_DOUBLE":E.numBitsPerVoxel=64,E.datatypeCode=64;break;default:throw new Error("Unsupported NRRD data type: "+O[0])}if(C.startsWith("ObjectType")&&!O[0].includes("Image")&&log$1.warn("Only able to read ObjectType = Image, not "+C),C.startsWith("ElementDataFile")){O[0]!=="LOCAL"&&(m=!0);break}C=_()}const P=fromValues$4(E.pixDims[1],0,0,0,E.pixDims[2],0,0,0,E.pixDims[3]);return multiply$1(y,y,P),E.affine=[[-y[0],-y[3],-y[6],-e[0]],[-y[1],-y[4],-y[7],-e[1]],[y[2],y[5],y[8],e[2]],[0,0,0,1]],E.vox_offset=d,m&&u?w?decompressSync$1(new Uint8Array(u.slice(0))).buffer:u.slice(0):w?decompressSync$1(new Uint8Array(n.slice(E.vox_offset))).buffer:n.slice(E.vox_offset)}readMIF(n,u){this.hdr=new nifti.NIFTI1;const p=this.hdr;p.pixDims=[1,1,1,1,1,0,0,0],p.dims=[1,1,1,1,1,1,1,1];let v=n.byteLength;if(v<20)throw new Error("File too small to be MIF: bytes = "+v);const d=new Uint8Array(n);d[0]===31&&d[1]===139&&(log$1.debug("MIF with GZ decompression"),n=decompressSync$1(new Uint8Array(n)).buffer,v=n.byteLength);let g=0;function _(){for(;g<v&&d[g]===10;)g++;const ae=g;for(;g<v&&d[g]!==10;)g++;return g++,g-ae<1?"":new TextDecoder().decode(n.slice(ae,g-1))}let C=_();if(!C.startsWith("mrtrix image"))throw new Error("Not a valid MIF file");const E=[];let w=0,m=0,y=!1;for(C=_();g<v&&!C.startsWith("END");){let ae=C.split(":");if(C=_(),ae.length<2)break;const le=ae[0];ae=ae[1].split(",");for(let he=0;he<ae.length;he++)ae[he]=ae[he].trim();switch(le){case"dim":p.dims[0]=ae.length;for(let he=0;he<ae.length;he++)p.dims[he+1]=parseInt(ae[he]);break;case"vox":for(let he=0;he<ae.length;he++)p.pixDims[he+1]=parseFloat(ae[he]),isNaN(p.pixDims[he+1])&&(p.pixDims[he+1]=0);break;case"layout":for(let he=0;he<ae.length;he++)E.push(parseInt(ae[he]));break;case"datatype":{const he=ae[0];he.startsWith("Int8")?p.datatypeCode=256:he.startsWith("UInt8")?p.datatypeCode=2:he.startsWith("Int16")?p.datatypeCode=4:he.startsWith("UInt16")?p.datatypeCode=512:he.startsWith("Int32")?p.datatypeCode=8:he.startsWith("UInt32")?p.datatypeCode=768:he.startsWith("Float32")?p.datatypeCode=16:he.startsWith("Float64")?p.datatypeCode=64:log$1.warn("Unsupported datatype "+he),he.includes("8")?p.numBitsPerVoxel=8:he.includes("16")?p.numBitsPerVoxel=16:he.includes("32")?p.numBitsPerVoxel=32:he.includes("64")&&(p.numBitsPerVoxel=64),p.littleEndian=!0,he.endsWith("LE")&&(p.littleEndian=!0),he.endsWith("BE")&&(p.littleEndian=!1)}break;case"transform":if(w>2||ae.length!==4)break;p.affine[w][0]=parseFloat(ae[0]),p.affine[w][1]=parseFloat(ae[1]),p.affine[w][2]=parseFloat(ae[2]),p.affine[w][3]=parseFloat(ae[3]),w++;break;case"RepetitionTime":m=parseFloat(ae[0]);break;case"file":y=!ae[0].startsWith(". "),y||(ae=ae[0].split(" "),p.vox_offset=parseInt(ae[1]));break}}const e=p.dims[0];e>5&&log$1.warn("reader only designed for a maximum of 5 dimensions (XYZTD)");let P=1;for(let ae=0;ae<e;ae++)P*=Math.max(p.dims[ae+1],1);log$1.debug(P);for(let ae=0;ae<3;ae++)for(let le=0;le<3;le++)p.affine[ae][le]*=p.pixDims[le+1];log$1.debug("mif affine:"+p.affine[0]),m>0&&(p.pixDims[4]=m),y&&!u&&log$1.warn("MIH header provided without paired image data");let O;u&&y?O=u.slice(0):O=n.slice(p.vox_offset,p.vox_offset+P*(p.numBitsPerVoxel/8)),E.length!==p.dims[0]&&log$1.warn("dims does not match layout");let U=1;const W=[1,1,1,1,1],V=[!1,!1,!1,!1,!1];for(let ae=0;ae<E.length;ae++)for(let le=0;le<E.length;le++)Math.abs(E[le])===ae&&(W[le]=U,(E[le]<0||Object.is(E[le],-0))&&(V[le]=!0),U*=p.dims[le+1]);let $=NVUtilities.range(0,p.dims[1]-1,1);V[0]&&($=NVUtilities.range(p.dims[1]-1,0,-1));for(let ae=0;ae<p.dims[1];ae++)$[ae]*=W[0];let b=NVUtilities.range(0,p.dims[2]-1,1);V[1]&&(b=NVUtilities.range(p.dims[2]-1,0,-1));for(let ae=0;ae<p.dims[2];ae++)b[ae]*=W[1];let H=NVUtilities.range(0,p.dims[3]-1,1);V[2]&&(H=NVUtilities.range(p.dims[3]-1,0,-1));for(let ae=0;ae<p.dims[3];ae++)H[ae]*=W[2];let G=NVUtilities.range(0,p.dims[4]-1,1);V[3]&&(G=NVUtilities.range(p.dims[4]-1,0,-1));for(let ae=0;ae<p.dims[4];ae++)G[ae]*=W[3];let Y=NVUtilities.range(0,p.dims[5]-1,1);V[4]&&(Y=NVUtilities.range(p.dims[5]-1,0,-1));for(let ae=0;ae<p.dims[5];ae++)Y[ae]*=W[4];let X=0,j,h;switch(p.numBitsPerVoxel){case 8:j=new Uint8Array(O),h=new Uint8Array(P);break;case 16:j=new Uint16Array(O),h=new Uint16Array(P);break;case 32:j=new Uint32Array(O),h=new Uint32Array(P);break;case 64:j=new BigUint64Array(O),h=new BigUint64Array(P);break;default:throw new Error("unknown numBitsPerVoxel")}for(let ae=0;ae<p.dims[5];ae++)for(let le=0;le<p.dims[4];le++)for(let he=0;he<p.dims[3];he++)for(let pe=0;pe<p.dims[2];pe++)for(let Ae=0;Ae<p.dims[1];Ae++)h[X]=j[$[Ae]+b[pe]+H[he]+G[le]+Y[ae]],X++;return h}readNRRD(n,u){this.hdr=new nifti.NIFTI1;const p=this.hdr;p.pixDims=[1,1,1,1,1,0,0,0];const v=n.byteLength;let d=null;const g=new Uint8Array(n);for(let O=1;O<v;O++)if(g[O-1]===10&&g[O]===10){const U=n.slice(0,O-1);d=new TextDecoder().decode(U),p.vox_offset=O+1;break}if(d===null)throw new Error("could not extract txt");const _=d.split(`
`);_[0].startsWith("NRRD")||alert("Invalid NRRD image");const C=_.length;let E=!1,w=!1,m=!1;const y=fromValues$4(NaN,0,0,0,1,0,0,0,1),e=fromValues$2(0,0,0);let P=create$4();for(let O=1;O<C;O++){let U=_[O];if(U[0]==="#")continue;U=U.toLowerCase();const W=U.split(":");if(W.length<2)continue;const V=W[0].trim();let $=W[1].trim();switch($=$.replaceAll(")"," "),$=$.replaceAll("("," "),$=$.trim(),V){case"data file":m=!0;break;case"encoding":$.includes("raw")?E=!1:$.includes("gz")?E=!0:alert("Unsupported NRRD encoding");break;case"type":switch($){case"uchar":case"unsigned char":case"uint8":case"uint8_t":p.numBitsPerVoxel=8,p.datatypeCode=2;break;case"signed char":case"int8":case"int8_t":p.numBitsPerVoxel=8,p.datatypeCode=256;break;case"short":case"short int":case"signed short":case"signed short int":case"int16":case"int16_t":p.numBitsPerVoxel=16,p.datatypeCode=4;break;case"ushort":case"unsigned short":case"unsigned short int":case"uint16":case"uint16_t":p.numBitsPerVoxel=16,p.datatypeCode=512;break;case"int":case"signed int":case"int32":case"int32_t":p.numBitsPerVoxel=32,p.datatypeCode=8;break;case"uint":case"unsigned int":case"uint32":case"uint32_t":p.numBitsPerVoxel=32,p.datatypeCode=768;break;case"float":p.numBitsPerVoxel=32,p.datatypeCode=16;break;case"double":p.numBitsPerVoxel=64,p.datatypeCode=64;break;default:throw new Error("Unsupported NRRD data type: "+$)}break;case"spacings":{const b=$.split(/[ ,]+/);for(let H=0;H<b.length;H++)p.pixDims[H+1]=parseFloat(b[H])}break;case"sizes":{const b=$.split(/[ ,]+/);p.dims[0]=b.length;for(let H=0;H<b.length;H++)p.dims[H+1]=parseInt(b[H])}break;case"endian":$.includes("little")?p.littleEndian=!0:$.includes("big")&&(p.littleEndian=!1);break;case"space directions":{const b=$.split(/[ ,]+/);if(b.length!==9)break;for(let H=0;H<9;H++)y[H]=parseFloat(b[H])}break;case"space origin":{const b=$.split(/[ ,]+/);if(b.length!==3)break;e[0]=parseFloat(b[0]),e[1]=parseFloat(b[1]),e[2]=parseFloat(b[2])}break;case"space units":$.includes("microns")&&(w=!0);break;case"space":$.includes("right-anterior-superior")||$.includes("RAS")?P=fromValues$4(1,0,0,0,1,0,0,0,1):$.includes("left-anterior-superior")||$.includes("LAS")?P=fromValues$4(-1,0,0,0,1,0,0,0,1):$.includes("left-posterior-superior")||$.includes("LPS")?P=fromValues$4(-1,0,0,0,-1,0,0,0,1):log$1.warn("Unsupported NRRD space value:",$);break;default:log$1.warn("Unknown:",V)}}if(!isNaN(y[0])){this.hdr.sform_code=2,w&&(multiplyScalar(y,y,.001),e[0]*=.001,e[1]*=.001,e[2]*=.001),P[0]<0&&(e[0]=-e[0]),P[4]<0&&(e[1]=-e[1]),P[8]<0&&(e[2]=-e[2]),multiply$1(y,P,y);const O=fromValues$3(y[0],y[3],y[6],e[0],y[1],y[4],y[7],e[1],y[2],y[5],y[8],e[2],0,0,0,1),U=this.vox2mm([0,0,0],O),W=this.vox2mm([1,0,0],O);subtract$1(W,W,U);const V=this.vox2mm([0,1,0],O);subtract$1(V,V,U);const $=this.vox2mm([0,0,1],O);subtract$1($,$,U),p.pixDims[1]=length$1(W),p.pixDims[2]=length$1(V),p.pixDims[3]=length$1($),p.affine=[[O[0],O[1],O[2],O[3]],[O[4],O[5],O[6],O[7]],[O[8],O[9],O[10],O[11]],[0,0,0,1]]}return m&&u?u.slice(0):(m&&log$1.warn("Missing data: NRRD header describes detached data file but only one URL provided"),E?decompressSync$1(new Uint8Array(n.slice(p.vox_offset))).buffer:n.slice(p.vox_offset))}calculateRAS(){if(!this.hdr)throw new Error("hdr not set");const n=this.hdr.affine,u=this.hdr,p=fromValues$4(Math.abs(n[0][0]),Math.abs(n[0][1]),Math.abs(n[0][2]),Math.abs(n[1][0]),Math.abs(n[1][1]),Math.abs(n[1][2]),Math.abs(n[2][0]),Math.abs(n[2][1]),Math.abs(n[2][2])),v=[1,1,1];p[3]>p[0]&&(v[0]=2),p[6]>p[0]&&p[6]>p[3]&&(v[0]=3),v[1]=1,v[0]===1?p[4]>p[7]?v[1]=2:v[1]=3:v[0]===2?p[1]>p[7]?v[1]=1:v[1]=3:p[1]>p[4]?v[1]=1:v[1]=2,v[2]=6-v[1]-v[0];let d=[1,2,3];d[v[0]-1]=1,d[v[1]-1]=2,d[v[2]-1]=3;let g=fromValues$3(n[0][0],n[0][1],n[0][2],n[0][3],n[1][0],n[1][1],n[1][2],n[1][3],n[2][0],n[2][1],n[2][2],n[2][3],0,0,0,1);this.mm000=this.vox2mm([-.5,-.5,-.5],g),this.mm100=this.vox2mm([u.dims[1]-.5,-.5,-.5],g),this.mm010=this.vox2mm([-.5,u.dims[2]-.5,-.5],g),this.mm001=this.vox2mm([-.5,-.5,u.dims[3]-.5],g);const _=create$3();copy$1(_,g);for(let U=0;U<3;U++)for(let W=0;W<3;W++)_[U*4+W]=g[U*4+d[W]-1];const C=[0,0,0];_[0]<0&&(C[0]=1),_[5]<0&&(C[1]=1),_[10]<0&&(C[2]=1),this.dimsRAS=[u.dims[0],u.dims[d[0]],u.dims[d[1]],u.dims[d[2]]],this.pixDimsRAS=[u.pixDims[0],u.pixDims[d[0]],u.pixDims[d[1]],u.pixDims[d[2]]],this.permRAS=d.slice();for(let U=0;U<3;U++)C[U]===1&&(this.permRAS[U]=-this.permRAS[U]);if(this.arrayEquals(d,[1,2,3])&&this.arrayEquals(C,[0,0,0])){this.toRAS=create$3(),this.matRAS=clone$2(g),this.calculateOblique(),this.img2RASstep=[1,this.dimsRAS[1],this.dimsRAS[1]*this.dimsRAS[2]],this.img2RASstart=[0,0,0];return}identity$1(g),g[0+0*4]=1-C[0]*2,g[1+1*4]=1-C[1]*2,g[2+2*4]=1-C[2]*2,g[3+0*4]=(u.dims[d[0]]-1)*C[0],g[3+1*4]=(u.dims[d[1]]-1)*C[1],g[3+2*4]=(u.dims[d[2]]-1)*C[2];const E=create$3();invert(E,g),multiply(E,E,_),this.matRAS=clone$2(E),g=fromValues$3(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1),g[d[0]-1+0*4]=-C[0]*2+1,g[d[1]-1+1*4]=-C[1]*2+1,g[d[2]-1+2*4]=-C[2]*2+1,g[3+0*4]=C[0],g[3+1*4]=C[1],g[3+2*4]=C[2],this.toRAS=clone$2(g),g[3]=0,g[7]=0,g[11]=0,g[12]=0,(this.permRAS[0]===-1||this.permRAS[1]===-1||this.permRAS[2]===-1)&&(g[12]=u.dims[1]-1),g[13]=0,(this.permRAS[0]===-2||this.permRAS[1]===-2||this.permRAS[2]===-2)&&(g[13]=u.dims[2]-1),g[14]=0,(this.permRAS[0]===-3||this.permRAS[1]===-3||this.permRAS[2]===-3)&&(g[14]=u.dims[3]-1),this.toRASvox=clone$2(g),log$1.debug(this.hdr.dims),log$1.debug(this.dimsRAS);const w=this.hdr;d=this.permRAS;const m=[Math.abs(d[0]),Math.abs(d[1]),Math.abs(d[2])],y=[w.dims[m[0]],w.dims[m[1]],w.dims[m[2]]],e=[1,w.dims[1],w.dims[1]*w.dims[2]],P=[e[m[0]-1],e[m[1]-1],e[m[2]-1]],O=[0,0,0];for(let U=0;U<3;U++)d[U]<0&&(O[U]=P[U]*(y[U]-1),P[U]=-P[U]);this.img2RASstep=P,this.img2RASstart=O,this.calculateOblique()}img2RAS(){if(!this.permRAS)throw new Error("permRAS undefined");if(!this.img)throw new Error("img undefined");if(!this.hdr)throw new Error("hdr undefined");const n=this.permRAS.slice();if(n[0]===1&&n[1]===2&&n[2]===3)return this.img;const u=this.hdr,p=this.img.slice(0,u.dims[1]*u.dims[1]*u.dims[2]*u.dims[3]),v=[Math.abs(n[0]),Math.abs(n[1]),Math.abs(n[2])],d=[u.dims[v[0]],u.dims[v[1]],u.dims[v[2]]],g=[1,u.dims[1],u.dims[1]*u.dims[2]],_=[g[v[0]-1],g[v[1]-1],g[v[2]-1]],C=[0,0,0];for(let w=0;w<3;w++)n[w]<0&&(C[w]=_[w]*(d[w]-1),_[w]=-_[w]);let E=0;for(let w=0;w<d[2];w++){const m=C[2]+w*_[2];for(let y=0;y<d[1];y++){const e=C[1]+y*_[1];for(let P=0;P<d[0];P++){const O=C[0]+P*_[0];p[E]=this.img[O+e+m],E++}}}return p}vox2mm(n,u){const p=clone$2(u);transpose$1(p,p);const v=fromValues$1(n[0],n[1],n[2],1);return transformMat4(v,v,p),fromValues$2(v[0],v[1],v[2])}mm2vox(n,u=!1){if(!this.matRAS)throw new Error("matRAS undefined");const p=clone$2(this.matRAS),v=clone$2(p);transpose$1(v,p),invert(v,v);const d=fromValues$1(n[0],n[1],n[2],1);transformMat4(d,d,v);const g=fromValues$2(d[0],d[1],d[2]);return u?g:[Math.round(g[0]),Math.round(g[1]),Math.round(g[2])]}arrayEquals(n,u){return Array.isArray(n)&&Array.isArray(u)&&n.length===u.length&&n.every((p,v)=>p===u[v])}setColormap(n){this._colormap=n,this.calMinMax(),this.onColormapChange&&this.onColormapChange(this)}setColormapLabel(n){this.colormapLabel=cmapper.makeLabelLut(n)}async setColormapLabelFromUrl(n){this.colormapLabel=await cmapper.makeLabelLutFromUrl(n)}get colormap(){return this._colormap}get colorMap(){return this._colormap}set colormap(n){this.setColormap(n)}set colorMap(n){this.setColormap(n)}get opacity(){return this._opacity}set opacity(n){this._opacity=n,this.onOpacityChange&&this.onOpacityChange(this)}calMinMax(){if(!this.hdr)throw new Error("hdr undefined");if(!this.img)throw new Error("img undefined");let n=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,p=0,v=0;const d=this.img.length,g=this.img.constructor!==Float64Array&&this.img.constructor!==Float32Array&&this.ignoreZeroVoxels;if(g)for(let Y=0;Y<d;Y++)n=Math.min(this.img[Y],n),u=Math.max(this.img[Y],u),this.img[Y]===0&&p++;else for(let Y=0;Y<d;Y++){if(isNaN(this.img[Y])){v++;continue}this.img[Y]===0&&(p++,this.ignoreZeroVoxels)||(n=Math.min(this.img[Y],n),u=Math.max(this.img[Y],u))}const _=this.intensityRaw2Scaled(n),C=this.intensityRaw2Scaled(u),E=cmapper.colormapFromKey(this._colormap);let w=0,m=0;if(E.min!==void 0&&(w=E.min),E.max!==void 0&&(m=E.max),w===m&&this.trustCalMinMax&&isFinite(this.hdr.cal_min)&&isFinite(this.hdr.cal_max)&&this.hdr.cal_max>this.hdr.cal_min)return this.cal_min=this.hdr.cal_min,this.cal_max=this.hdr.cal_max,this.robust_min=this.cal_min,this.robust_max=this.cal_max,this.global_min=_,this.global_max=C,[this.hdr.cal_min,this.hdr.cal_max,this.hdr.cal_min,this.hdr.cal_max];if(w!==m)return this.cal_min=w,this.cal_max=m,this.robust_min=this.cal_min,this.robust_max=this.cal_max,[w,m,w,m];const y=100*p/d;let e=!1;y>60&&!this.ignoreZeroVoxels&&(log$1.warn(`${Math.round(y)}% of voxels are zero: ignoring zeros for cal_max`),e=!0,this.ignoreZeroVoxels=!0),this.ignoreZeroVoxels||(p=0),p+=v;const P=Math.round((d-p)*this.percentileFrac);if(P<1||n===u)return log$1.debug("no variability in image intensity?"),this.cal_min=_,this.cal_max=C,this.robust_min=this.cal_min,this.robust_max=this.cal_max,this.global_min=_,this.global_max=C,[_,C,_,C];const O=1001,U=(O-1)/(u-n),W=new Array(O);for(let Y=0;Y<O;Y++)W[Y]=0;if(g)for(let Y=0;Y<d;Y++)W[Math.round((this.img[Y]-n)*U)]++;else if(this.ignoreZeroVoxels)for(let Y=0;Y<d;Y++)this.img[Y]!==0&&(isNaN(this.img[Y])||W[Math.round((this.img[Y]-n)*U)]++);else for(let Y=0;Y<d;Y++)isNaN(this.img[Y])||W[Math.round((this.img[Y]-n)*U)]++;let V=0,$=0;for(;V<P;)V+=W[$],$++;$--,V=0;let b=O;for(;V<P;)b--,V+=W[b];if($===b){let Y=-1;for(;Y!==0;)$>0&&($--,W[$]>0&&(Y=0)),Y!==0&&b<O-1&&(b++,W[b]>0&&(Y=0)),$===0&&b===O-1&&(Y=0)}let H=this.intensityRaw2Scaled($/U+n),G=this.intensityRaw2Scaled(b/U+n);return this.hdr.cal_min<this.hdr.cal_max&&this.hdr.cal_min>=_&&this.hdr.cal_max<=C&&(H=this.hdr.cal_min,G=this.hdr.cal_max),e&&(H=Math.min(H,0)),this.cal_min=H,this.cal_max=G,this.robust_min=this.cal_min,this.robust_max=this.cal_max,this.global_min=_,this.global_max=C,[H,G,_,C]}intensityRaw2Scaled(n){if(!this.hdr)throw new Error("hdr undefined");return this.hdr.scl_slope===0&&(this.hdr.scl_slope=1),n*this.hdr.scl_slope+this.hdr.scl_inter}intensityScaled2Raw(n){if(!this.hdr)throw new Error("hdr undefined");return this.hdr.scl_slope===0&&(this.hdr.scl_slope=1),(n-this.hdr.scl_inter)/this.hdr.scl_slope}saveToUint8Array(n,u=null){if(!this.hdr)throw new Error("hdr undefined");if(!this.img)throw new Error("img undefined");const p=u!==null,v=hdrToArrayBuffer(this.hdr,p),d=new Uint8Array(4);let g=new Uint8Array(this.img.buffer);p&&(g=new Uint8Array(u.buffer));const _=new Uint8Array(v.length+d.length+g.length);_.set(v),_.set(d,v.length),_.set(g,v.length+d.length);let C=null;return n.endsWith(".gz")?C=gzipSync$1(_,{filename:n,mtime:Date.now(),level:6}):C=_,C}saveToDisk(n="",u=null){const p=this.saveToUint8Array(n,u);if(n==="")return log$1.debug("saveToDisk: empty file name, returning data as Uint8Array rather than triggering download"),p;const v=new Blob([p.buffer],{type:"application/octet-stream"}),d=URL.createObjectURL(v),g=document.createElement("a");return g.setAttribute("href",d),g.setAttribute("download",n),g.style.visibility="hidden",document.body.appendChild(g),g.click(),document.body.removeChild(g),p}static async fetchDicomData(n,u={}){if(n==="")throw Error("url must not be empty");let v=/^(?:[a-z+]+:)?\/\//i.test(n)?n:new URL(n,window.location.href);/(?:.([^.]+))?$/.exec(v.pathname)||(v=new URL("niivue-manifest.txt",n));let _=await fetch(v,{headers:u});if(!_.ok)throw Error(_.statusText);const E=(await _.text()).split(`
`),m=/(.*\/).*/.exec(v)[0],y=[];for(const e of E){const P=new URL(e,m);if(_=await fetch(P,{headers:u}),!_.ok)throw Error(_.statusText);const O=await _.arrayBuffer();y.push(O)}return y}static async fetchPartial(n,u,p={}){try{return await fetch(n,{headers:{range:`bytes=0-'${u}`,stream:"true",...p}})}catch(v){return log$1.error(v),log$1.error("fetchPartial failed, trying again without range header"),await fetch(n,{headers:p})}}static async loadFromUrl({url:n="",urlImgData:u="",headers:p={},name:v="",colormap:d="gray",opacity:g=1,cal_min:_=NaN,cal_max:C=NaN,trustCalMinMax:E=!0,percentileFrac:w=.02,ignoreZeroVoxels:m=!1,useQFormNotSForm:y=!1,colormapNegative:e="",frame4D:P=0,isManifest:O=!1,limitFrames4D:U=NaN,imageType:W=NVIMAGE_TYPE.UNKNOWN,colorbarVisible:V=!0,buffer:$=new ArrayBuffer(0)}={}){if(n==="")throw Error("url must not be empty");let b=null,H=null;if(n instanceof Uint8Array&&(n=n.buffer),$.byteLength>0&&(n=$),n instanceof ArrayBuffer)if(H=n,v!=="")n=v;else{n="array.nii";const h=new Uint8Array(H);h[0]===31&&h[1]===139&&(n="array.nii.gz")}if(!isNaN(U)){let h=await this.fetchPartial(n,512,p);H=await h.arrayBuffer();let ae=new Uint8Array(H),le=!1;ae[0]===31&&ae[1]===139&&(le=!0,new Decompress$1(Ae=>{ae=Ae}).push(ae),H=ae.buffer);let he=ae[0]===92&&ae[1]===1;if(he||(he=ae[1]===92&&ae[0]===1),!he)H=null;else{const pe=nifti.readHeader(H);if(pe===null)throw new Error("could not read nifti header");const Ae=pe.numBitsPerVoxel/8;let ge=1;for(let Ve=1;Ve<4;Ve++)pe.dims[Ve]>1&&(ge*=pe.dims[Ve]);let ye=1;for(let Ve=4;Ve<7;Ve++)pe.dims[Ve]>1&&(ye*=pe.dims[Ve]);const we=Math.max(Math.min(U,ye),1),be=pe.vox_offset+we*ge*Ae;if(H.byteLength<be&&(h=await this.fetchPartial(n,be,p),H=await h.arrayBuffer(),le)){let Ve=new Uint8Array(H);new Decompress$1(p0=>{Ve=p0}).push(Ve),H=Ve.buffer}H.byteLength<be?H=null:H=H.slice(0,be)}}if(!H)if(O)H=await Xi.fetchDicomData(n,p),W=NVIMAGE_TYPE.DCM_MANIFEST;else{const h=await fetch(n,{headers:p});if(!h.ok)throw Error(h.statusText);H=await h.arrayBuffer()}const G=/(?:\.([^.]+))?$/;let Y="";v===""?Y=G.exec(n)[1]:Y=G.exec(v)[1],Y.toUpperCase()==="HEAD"&&u===""&&(u=n.substring(0,n.lastIndexOf("HEAD"))+"BRIK");let X;if(v===""){try{X=new URL(n).pathname.split("/")}catch{X=n.split("/")}v=X.slice(-1)[0],v.indexOf("?")>-1&&(v=v.slice(0,v.indexOf("?")))}let j=null;if(u.length>0){let h=await fetch(u,{headers:p});h.status===404&&u.lastIndexOf("BRIK")!==-1&&(h=await fetch(u+".gz",{headers:p})),j=await h.arrayBuffer()}if(!H)throw new Error("Unable to load buffer properly from volume");return b=new Xi(H,v,d,g,j,_,C,E,w,m,y,e,P,W),b.url=n,b.colorbarVisible=V,b}static readFileAsync(n,u=NaN){return new Promise((p,v)=>{const d=new FileReader;d.onload=()=>{n.name.lastIndexOf("gz")!==-1&&isNaN(u)?p(nifti.decompress(d.result)):p(d.result)},d.onerror=v,isNaN(u)?d.readAsArrayBuffer(n):d.readAsArrayBuffer(n.slice(0,u))})}static async loadFromFile({file:n,name:u="",colormap:p="gray",opacity:v=1,urlImgData:d=null,cal_min:g=NaN,cal_max:_=NaN,trustCalMinMax:C=!0,percentileFrac:E=.02,ignoreZeroVoxels:w=!1,useQFormNotSForm:m=!1,colormapNegative:y="",frame4D:e=0,limitFrames4D:P=NaN,imageType:O=NVIMAGE_TYPE.UNKNOWN}){let U=null,W=[];try{if(Array.isArray(n))for(let $=0;$<n.length;$++)W.push(await this.readFileAsync(n[$]));else{if(isNaN(P))W=await this.readFileAsync(n,P);else{W=await this.readFileAsync(n,512);let $=new Uint8Array(W),b=!1;$[0]===31&&$[1]===139&&(b=!0,new Decompress$1(Y=>{$=Y}).push($),W=$.buffer);let H=$[0]===92&&$[1]===1;if(H||(H=$[1]===92&&$[0]===1),!H)W=await this.readFileAsync(n);else{const G=nifti.readHeader(W);if(!G)throw new Error("could not read nifti header");const Y=G.numBitsPerVoxel/8;let X=1;for(let le=1;le<4;le++)G.dims[le]>1&&(X*=G.dims[le]);let j=1;for(let le=4;le<7;le++)G.dims[le]>1&&(j*=G.dims[le]);const h=Math.max(Math.min(P,j),1),ae=G.vox_offset+h*X*Y;if(W.byteLength<ae&&(W=await this.readFileAsync(n,ae),b)){let le=new Uint8Array(W);new Decompress$1(pe=>{le=pe}).push(le),W=le.buffer}if(W.byteLength<ae)throw new Error("failed to load image data (e.g. incompressible data)");W=W.slice(0,ae)}}u=n.name}let V=null;d&&(V=await this.readFileAsync(d)),U=new Xi(W,u,p,v,V,g,_,C,E,w,m,y,e,O),U.fileObject=n}catch(V){log$1.error(V),log$1.error(V)}if(U===null)throw new Error("could not build NVImage");return U}static createNiftiArray(n=[256,256,256],u=[1,1,1],p=[1,0,0,-128,0,1,0,-128,0,0,1,-128,0,0,0,1],v=2,d=new Uint8Array){const g=this.createNiftiHeader(n,u,p,v),_=hdrToArrayBuffer(g,!1);if(d.length<1)return _;const C=new Uint8Array(4),E=new Uint8Array(d.buffer),w=new Uint8Array(_.length+C.length+E.length);return w.set(_),w.set(C,_.length),w.set(E,_.length+C.length),w}static createNiftiHeader(n=[256,256,256],u=[1,1,1],p=[1,0,0,-128,0,1,0,-128,0,0,1,-128,0,0,0,1],v=2){const d=new nifti.NIFTI1;d.littleEndian=!0,d.dims=[3,1,1,1,0,0,0,0],d.dims[0]=Math.max(3,n.length);for(let _=0;_<n.length;_++)d.dims[_+1]=n[_];d.pixDims=[1,1,1,1,1,0,0,0];for(let _=0;_<n.length;_++)d.pixDims[_+1]=u[_];if(p.length===16){let _=0;for(let C=0;C<4;C++)for(let E=0;E<4;E++)d.affine[C][E]=p[_],_++}let g=8;return v===256||v===2?g=8:v===512||v===4?g=16:v===16||v===768||v===8?g=32:v===64?g=64:log$1.warn("Unsupported NIfTI datatypeCode: "+v),d.datatypeCode=v,d.numBitsPerVoxel=g,d.scl_inter=0,d.scl_slope=0,d.sform_code=2,d.magic="n+1",d.vox_offset=352,d}getVolumeData(n=[-1,0,0],u=[0,0,0],p="same"){let v=new Uint8Array;if(Math.min(...n)<0||Math.min(...u)<0)return[v,[0,0,0]];const d=this.dimsRAS.slice(1,4);for(let y=0;y<3;y++)if(n[y]=Math.min(n[y],d[y]-1),u[y]=Math.min(u[y],d[y]-1),u[y]<n[y]){const e=u[y];u[y]=n[y],n[y]=e}const g=[u[0]-n[0]+1,u[1]-n[1]+1,u[2]-n[2]+1],_=g[0]*g[1]*g[2];let C=this.hdr.datatypeCode;if(p==="uint8"?C=2:p==="float32"&&(C=16),C===2)v=new Uint8Array(_);else if(C===4)v=new Int16Array(_);else if(C===512)v=new Uint16Array(_);else if(C===16)v=new Float32Array(_);else if(C===64)v=new Float64Array(_);else return log$1.error("getVolumeData unsupported datatype"),[v,[0,0,0]];const E=this.img2RASstep,w=this.img2RASstart;let m=0;for(let y=n[2];y<=u[2];y++){const e=w[2]+y*E[2];for(let P=n[1];P<=u[1];P++){const O=e+w[1]+P*E[1];for(let U=n[0];U<=u[0];U++){const W=w[0]+U*E[0];v[m++]=this.img[W+O]}}}return[v,g]}setVolumeData(n=[-1,0,0],u=[0,0,0],p=new Uint8Array){if(p.length<1||Math.min(...n)<0||Math.min(...u)<0)return;const v=this.dimsRAS.slice(1,4);for(let w=0;w<3;w++)if(n[w]=Math.min(n[w],v[w]-1),u[w]=Math.min(u[w],v[w]-1),u[w]<n[w]){const m=u[w];u[w]=n[w],n[w]=m}const d=[u[0]-n[0]+1,u[1]-n[1]+1,u[2]-n[2]+1],g=d[0]*d[1]*d[2];if(p.length<g){log$1.error("setVolumeData image does not have enough voxels");return}const _=this.img2RASstep,C=this.img2RASstart;let E=0;for(let w=n[2];w<=u[2];w++){const m=C[2]+w*_[2];for(let y=n[1];y<=u[1];y++){const e=m+C[1]+y*_[1];for(let P=n[0];P<=u[0];P++){const O=C[0]+P*_[0];this.img[O+e]=p[E++]}}}}static loadFromBase64({base64:n,name:u="",colormap:p="gray",opacity:v=1,cal_min:d=NaN,cal_max:g=NaN,trustCalMinMax:_=!0,percentileFrac:C=.02,ignoreZeroVoxels:E=!1,useQFormNotSForm:w=!1,colormapNegative:m="",frame4D:y=0,imageType:e=NVIMAGE_TYPE.UNKNOWN,cal_minNeg:P=NaN,cal_maxNeg:O=NaN,colorbarVisible:U=!0,colormapLabel:W=null}){function V(b){const H=window.atob(b),G=H.length,Y=new Uint8Array(G);for(let X=0;X<G;X++)Y[X]=H.charCodeAt(X);return Y.buffer}let $=null;try{const b=V(n),H=null;$=new Xi(b,u,p,v,H,d,g,_,C,E,w,m,y,e,P,O,U,W)}catch(b){log$1.debug(b)}if($===null)throw new Error("could not load NVImage");return $}clone(){const n=new Xi;return n.id=v4(),n.hdr=Object.assign({},this.hdr),n.img=this.img.slice(),n.calculateRAS(),n.calMinMax(),n}zeroImage(){this.img.fill(0)}getImageMetadata(){if(!this.hdr)throw new Error("hdr undefined");const n=this.id,u=this.hdr.datatypeCode,p=this.hdr.dims,v=p[1],d=p[2],g=p[3],_=Math.max(1,p[4]),C=this.hdr.pixDims,E=C[1],w=C[2],m=C[3],y=C[4],e=Math.floor(this.hdr.numBitsPerVoxel/8);return{id:n,datatypeCode:u,nx:v,ny:d,nz:g,nt:_,dx:E,dy:w,dz:m,dt:y,bpv:e}}static zerosLike(n,u="same"){const p=n.clone();return p.zeroImage(),u==="uint8"&&(p.img=Uint8Array.from(p.img),p.hdr.datatypeCode=2,p.hdr.numBitsPerVoxel=8),u==="float32"&&(p.img=Float32Array.from(p.img),p.hdr.datatypeCode=16,p.hdr.numBitsPerVoxel=32),p}getValue(n,u,p,v=0,d=!1){if(!this.hdr)throw new Error("hdr undefined");if(!this.img)throw new Error("img undefined");const g=this.hdr.dims[1],_=this.hdr.dims[2],C=this.hdr.dims[3],E=this.permRAS.slice();if(E[0]!==1||E[1]!==2||E[2]!==3){const e=fromValues$1(n,u,p,1);transformMat4(e,e,this.toRASvox),n=e[0],u=e[1],p=e[2]}let w=n+u*g+p*g*_;if(this.hdr.datatypeCode===2304)return w*=4,Math.round(this.img[w]*.21+this.img[w+1]*.72+this.img[w+2]*.07);if(this.hdr.datatypeCode===128)return w*=3,Math.round(this.img[w]*.21+this.img[w+1]*.72+this.img[w+2]*.07);const m=v*g*_*C;let y=this.img[w+m];return d&&(y=this.imaginary[w+m]),this.hdr.scl_slope*y+this.hdr.scl_inter}toNiivueObject3D(n,u){const p=this.dimsRAS,v=this.matRAS,d=this.pixDimsRAS,g=-.5,_=-.5,C=-.5,E=p[1]-1+.5,w=p[2]-1+.5,m=p[3]-1+.5,y=this.vox2mm([g,_,C],v),e=this.vox2mm([g,w,C],v),P=this.vox2mm([g,_,m],v),O=this.vox2mm([g,w,m],v),U=this.vox2mm([E,_,C],v),W=this.vox2mm([E,w,C],v),V=this.vox2mm([E,_,m],v),$=this.vox2mm([E,w,m],v),b=[...P,0,0,1,...V,1,0,1,...$,1,1,1,...O,0,1,1,...y,0,0,0,...e,0,1,0,...W,1,1,0,...U,1,0,0],H=u.createBuffer();u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,H);const G=[0,3,2,2,1,0,4,7,6,6,5,4,5,6,2,2,3,5,4,0,1,1,7,4,7,1,2,2,6,7,4,5,3,3,0,4];u.bufferData(u.ELEMENT_ARRAY_BUFFER,new Uint16Array(G),u.STATIC_DRAW);const Y=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,Y),u.bufferData(u.ARRAY_BUFFER,new Float32Array(b),u.STATIC_DRAW);const X=u.createVertexArray();u.bindVertexArray(X),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,H),u.bindBuffer(u.ARRAY_BUFFER,Y),u.enableVertexAttribArray(0),u.vertexAttribPointer(0,3,u.FLOAT,!1,24,0),u.enableVertexAttribArray(1),u.vertexAttribPointer(1,3,u.FLOAT,!1,24,12),u.bindVertexArray(null);const j=new NiivueObject3D(n,Y,u.TRIANGLES,G.length,H,X),h=getExtents([...P,...V,...$,...O,...y,...e,...W,...U]);return j.extentsMin=h.min.slice(),j.extentsMax=h.max.slice(),j.furthestVertexFromOrigin=h.furthestVertexFromOrigin,j.originNegate=clone$1(h.origin),negate(j.originNegate,j.originNegate),j.fieldOfViewDeObliqueMM=[p[1]*d[1],p[2]*d[2],p[3]*d[3]],j}applyOptionsUpdate(n){this.hdr.cal_min=n.cal_min,this.hdr.cal_max=n.cal_max,Object.assign(this,n)}getImageOptions(){return NVImageFromUrlOptions("","",this.name,this._colormap,this.opacity,this.hdr.cal_min,this.hdr.cal_max,this.trustCalMinMax,this.percentileFrac,this.ignoreZeroVoxels,this.useQFormNotSForm,this.colormapNegative,this.frame4D,this.imageType)}toUint8Array(n=null){const u=n!==null,p=hdrToArrayBuffer({...this.hdr,vox_offset:352},u);let v=n;if(u){const C=this.permRAS;if(C[0]!==1||C[1]!==2||C[2]!==3){const E=this.hdr.dims,w=[0,0,0];for(let b=0;b<3;b++)for(let H=0;H<3;H++)Math.abs(C[b])-1===H&&(w[H]=b*Math.sign(C[b]));let m=1;const y=[1,1,1],e=[!1,!1,!1];for(let b=0;b<w.length;b++)for(let H=0;H<w.length;H++)Math.abs(w[H])===b&&(y[H]=m,(w[H]<0||Object.is(w[H],-0))&&(e[H]=!0),m*=E[H+1]);let P=NVUtilities.range(0,E[1]-1,1);e[0]&&(P=NVUtilities.range(E[1]-1,0,-1));for(let b=0;b<E[1];b++)P[b]*=y[0];let O=NVUtilities.range(0,E[2]-1,1);e[1]&&(O=NVUtilities.range(E[2]-1,0,-1));for(let b=0;b<E[2];b++)O[b]*=y[1];let U=NVUtilities.range(0,E[3]-1,1);e[2]&&(U=NVUtilities.range(E[3]-1,0,-1));for(let b=0;b<E[3];b++)U[b]*=y[2];const W=new Uint8Array(n),V=new Uint8Array(E[1]*E[2]*E[3]);let $=0;for(let b=0;b<E[3];b++)for(let H=0;H<E[2];H++)for(let G=0;G<E[1];G++)V[$]=W[P[G]+O[H]+U[b]],$++;v=V,log$1.debug("drawing bytes"),log$1.debug(v)}}const d=u?v:new Uint8Array(this.img.buffer),g=new Uint8Array(4),_=new Uint8Array(p.length+g.length+d.length);return _.set(p),_.set(g,p.length),_.set(d,p.length+g.length),_}convertVox2Frac(n){return fromValues$2((n[0]+.5)/this.dimsRAS[1],(n[1]+.5)/this.dimsRAS[2],(n[2]+.5)/this.dimsRAS[3])}convertFrac2Vox(n){return fromValues$2(Math.round(n[0]*this.dims[1]-.5),Math.round(n[1]*this.dims[2]-.5),Math.round(n[2]*this.dims[3]-.5))}convertFrac2MM(n,u=!1){const p=fromValues$1(n[0],n[1],n[2],1);return u?transformMat4(p,p,this.frac2mm):transformMat4(p,p,this.frac2mmOrtho),p}convertMM2Frac(n,u=!1){const p=fromValues$1(n[0],n[1],n[2],1),v=this.dimsRAS,d=fromValues$2(0,0,0);if(typeof v>"u")return d;if(!u){const _=clone$2(this.frac2mmOrtho);return invert(_,_),transformMat4(p,p,_),d[0]=p[0],d[1]=p[1],d[2]=p[2],d}if(v[1]<1||v[2]<1||v[3]<1)return d;const g=clone$2(this.matRAS);return invert(g,g),transpose$1(g,g),transformMat4(p,p,g),d[0]=(p[0]+.5)/v[1],d[1]=(p[1]+.5)/v[2],d[2]=(p[2]+.5)/v[3],d}},DRAG_MODE=(l=>(l[l.none=0]="none",l[l.contrast=1]="contrast",l[l.measurement=2]="measurement",l[l.pan=3]="pan",l[l.slicer3D=4]="slicer3D",l[l.callbackOnly=5]="callbackOnly",l))(DRAG_MODE||{}),DEFAULT_OPTIONS={textHeight:.06,colorbarHeight:.05,crosshairWidth:1,crosshairGap:0,rulerWidth:4,show3Dcrosshair:!1,backColor:[0,0,0,1],crosshairColor:[1,0,0,1],fontColor:[.5,.5,.5,1],selectionBoxColor:[1,1,1,.5],clipPlaneColor:[.7,0,.7,.5],rulerColor:[1,0,0,.8],colorbarMargin:.05,trustCalMinMax:!0,clipPlaneHotKey:"KeyC",viewModeHotKey:"KeyV",doubleTouchTimeout:500,longTouchTimeout:1e3,keyDebounceTime:50,isNearestInterpolation:!1,isResizeCanvas:!0,atlasOutline:0,isRuler:!1,isColorbar:!1,isOrientCube:!1,multiplanarPadPixels:0,multiplanarForceRender:!1,isRadiologicalConvention:!1,meshThicknessOn2D:1/0,dragMode:1,yoke3Dto2DZoom:!1,isDepthPickMesh:!1,isCornerOrientationText:!1,sagittalNoseLeft:!1,isSliceMM:!1,isV1SliceShader:!1,isHighResolutionCapable:!0,logLevel:"info",loadingText:"waiting for images...",isForceMouseClickToVoxelCenters:!1,dragAndDropEnabled:!0,drawingEnabled:!1,penValue:1,floodFillNeighbors:6,isFilledPen:!1,thumbnail:"",maxDrawUndoBitmaps:8,sliceType:3,meshXRay:0,isAntiAlias:null,limitFrames4D:NaN,isAdditiveBlend:!1,showLegend:!0,legendBackgroundColor:[.3,.3,.3,.5],legendTextColor:[1,1,1,1],multiplanarLayout:0,renderOverlayBlend:1,sliceMosaicString:""},INITIAL_SCENE_DATA={azimuth:110,elevation:10,crosshairPos:fromValues$2(.5,.5,.5),clipPlane:[0,0,0,0],clipPlaneDepthAziElev:[2,0,0],volScaleMultiplier:1,pan2Dxyzmm:fromValues$1(0,0,0,1)},NVDocument=class Zi{constructor(){__publicField(this,"data",{title:"Untitled document",imageOptionsArray:[],meshOptionsArray:[],opts:{...DEFAULT_OPTIONS},previewImageDataURL:"",labels:[],encodedImageBlobs:[],encodedDrawingBlob:""}),__publicField(this,"scene"),__publicField(this,"volumes",[]),__publicField(this,"meshDataObjects"),__publicField(this,"meshes",[]),__publicField(this,"drawBitmap",null),__publicField(this,"imageOptionsMap",new Map),__publicField(this,"meshOptionsMap",new Map),this.scene={onAzimuthElevationChange:()=>{},onZoom3DChange:()=>{},sceneData:INITIAL_SCENE_DATA,get renderAzimuth(){return this.sceneData.azimuth},set renderAzimuth(n){this.sceneData.azimuth=n,this.onAzimuthElevationChange&&this.onAzimuthElevationChange(this.sceneData.azimuth,this.sceneData.elevation)},get renderElevation(){return this.sceneData.elevation},set renderElevation(n){this.sceneData.elevation=n,this.onAzimuthElevationChange&&this.onAzimuthElevationChange(this.sceneData.azimuth,this.sceneData.elevation)},get volScaleMultiplier(){return this.sceneData.volScaleMultiplier},set volScaleMultiplier(n){this.sceneData.volScaleMultiplier=n,this.onZoom3DChange(n)},get crosshairPos(){return this.sceneData.crosshairPos},set crosshairPos(n){this.sceneData.crosshairPos=n},get clipPlane(){return this.sceneData.clipPlane},set clipPlane(n){this.sceneData.clipPlane=n},get clipPlaneDepthAziElev(){return this.sceneData.clipPlaneDepthAziElev},set clipPlaneDepthAziElev(n){this.sceneData.clipPlaneDepthAziElev=n},get pan2Dxyzmm(){return this.sceneData.pan2Dxyzmm},set pan2Dxyzmm(n){this.sceneData.pan2Dxyzmm=n}}}get title(){return this.data.title}get previewImageDataURL(){return this.data.previewImageDataURL}set previewImageDataURL(n){this.data.previewImageDataURL=n}set title(n){this.data.title=n}get imageOptionsArray(){return this.data.imageOptionsArray}get encodedImageBlobs(){return this.data.encodedImageBlobs}get encodedDrawingBlob(){return this.data.encodedDrawingBlob}get opts(){return this.data.opts}set opts(n){this.data.opts={...n}}get labels(){return this.data.labels}set labels(n){this.data.labels=n}get customData(){return this.data.customData}set customData(n){this.data.customData=n}hasImage(n){return this.volumes.find(u=>u.id===n.id)!==void 0}hasImageFromUrl(n){return this.data.imageOptionsArray.find(u=>u.url===n)!==void 0}addImageOptions(n,u){if(!this.hasImage(n)&&!u.name)if(u.url){const v=/^(?:[a-z+]+:)?\/\//i.test(u.url)?new URL(u.url):new URL(u.url,window.location.href);u.name=v.pathname.split("/").pop(),u.name.toLowerCase().endsWith(".gz")&&(u.name=u.name.slice(0,-3)),u.name.toLowerCase().endsWith(".nii")||(u.name+=".nii")}else u.name="untitled.nii";u.imageType=NVIMAGE_TYPE.NII,this.data.imageOptionsArray.push(u),this.imageOptionsMap.set(n.id,this.data.imageOptionsArray.length-1)}removeImage(n){if(this.imageOptionsMap.has(n.id)){const u=this.imageOptionsMap.get(n.id);this.data.imageOptionsArray.length>u&&this.data.imageOptionsArray.splice(u,1),this.imageOptionsMap.delete(n.id)}this.volumes=this.volumes.filter(u=>u.id!==n.id)}getImageOptions(n){return this.imageOptionsMap.has(n.id)?this.data.imageOptionsArray[this.imageOptionsMap.get(n.id)]:null}json(){const n={encodedImageBlobs:[],previewImageDataURL:this.data.previewImageDataURL,imageOptionsMap:new Map},u=[];if(n.sceneData={...this.scene.sceneData},n.opts={...this.opts},this.opts.meshThicknessOn2D===1/0&&(n.opts.meshThicknessOn2D="infinity"),n.labels=[...this.data.labels],n.customData=this.customData,this.volumes.length){let v=this.imageOptionsArray[0];if(v||(log$1.debug("no image options for base image"),v={name:"",colormap:"gray",opacity:1,pairedImgData:null,cal_min:NaN,cal_max:NaN,trustCalMinMax:!0,percentileFrac:.02,ignoreZeroVoxels:!1,useQFormNotSForm:!1,colormapNegative:"",colormapLabel:null,imageType:NVIMAGE_TYPE.NII,frame4D:0,limitFrames4D:NaN,url:"",urlImageData:"",alphaThreshold:!1,cal_minNeg:NaN,cal_maxNeg:NaN,colorbarVisible:!0}),v.colormap=this.volumes[0].colormap,v.opacity=this.volumes[0].opacity,v.cal_max=this.volumes[0].cal_max||NaN,v.cal_min=this.volumes[0].cal_min||NaN,v){u.push(v);const d=NVUtilities.uint8tob64(this.volumes[0].toUint8Array());n.encodedImageBlobs.push(d),this.drawBitmap&&(n.encodedDrawingBlob=NVUtilities.uint8tob64(this.volumes[0].toUint8Array(this.drawBitmap))),n.imageOptionsMap.set(this.volumes[0].id,0)}else throw new Error("image options for base layer not found");for(let d=1;d<this.volumes.length;d++){const g=this.volumes[d];let _=this.getImageOptions(g);_===null?(log$1.warn("no options found for image, using default"),_={name:"",colormap:"gray",opacity:1,pairedImgData:null,cal_min:NaN,cal_max:NaN,trustCalMinMax:!0,percentileFrac:.02,ignoreZeroVoxels:!1,useQFormNotSForm:!1,colormapNegative:"",colormapLabel:null,imageType:NVIMAGE_TYPE.NII,frame4D:0,limitFrames4D:NaN,url:"",urlImageData:"",alphaThreshold:!1,cal_minNeg:NaN,cal_maxNeg:NaN,colorbarVisible:!0}):"imageType"in _||(_.imageType=NVIMAGE_TYPE.NII),_.colormap=g.colormap,_.colormapLabel=g.colormapLabel,_.opacity=g.opacity,_.cal_max=g.cal_max||NaN,_.cal_min=g.cal_min||NaN,u.push(_);const C=NVUtilities.uint8tob64(g.toUint8Array());n.encodedImageBlobs.push(C),n.imageOptionsMap.set(g.id,d)}}n.imageOptionsArray=[...u];const p=[];n.connectomes=[];for(const v of this.meshes){if(v.type==="connectome"){n.connectomes.push(JSON.stringify(v.json()));continue}const d={pts:v.pts,tris:v.tris,name:v.name,rgba255:Uint8Array.from(v.rgba255),opacity:v.opacity,connectome:v.connectome,dpg:v.dpg,dps:v.dps,dpv:v.dpv,meshShaderIndex:v.meshShaderIndex,layers:v.layers.map(g=>({values:g.values,nFrame4D:g.nFrame4D,frame4D:0,outlineBorder:g.outlineBorder,global_min:g.global_min,global_max:g.global_max,cal_min:g.cal_min,cal_max:g.cal_max,opacity:g.opacity,colormap:g.colormap,colormapNegative:g.colormapNegative,colormapLabel:g.colormapLabel,useNegativeCmap:g.useNegativeCmap})),hasConnectome:v.hasConnectome,edgeColormap:v.edgeColormap,edgeColormapNegative:v.edgeColormapNegative,edgeMax:v.edgeMax,edgeMin:v.edgeMin,edges:v.edges&&Array.isArray(v.edges)?[...v.edges]:[],extentsMax:v.extentsMax,extentsMin:v.extentsMin,fiberGroupColormap:v.fiberGroupColormap,furthestVertexFromOrigin:v.furthestVertexFromOrigin,nodeColormap:v.nodeColormap,nodeColormapNegative:v.nodeColormapNegative,nodeMaxColor:v.nodeMaxColor,nodeMinColor:v.nodeMinColor,nodeScale:v.nodeScale,legendLineThickness:v.legendLineThickness,offsetPt0:v.offsetPt0,nodes:v.nodes};p.push(d)}return n.meshesString=JSON.stringify(serialize(p)),n}download(n){const u=this.json();NVUtilities.download(JSON.stringify(u),n,"application/json")}static deserializeMeshDataObjects(n){if(n.data.meshesString){n.meshDataObjects=deserialize(JSON.parse(n.data.meshesString));for(const u of n.meshDataObjects)for(const p of u.layers)"colorMap"in p&&(p.colormap=p.colorMap,delete p.colorMap),"colorMapNegative"in p&&(p.colormapNegative=p.colorMapNegative,delete p.colorMapNegative)}}static async loadFromUrl(n){const p=await(await fetch(n)).json();return Zi.loadFromJSON(p)}static async loadFromFile(n){const u=await NVUtilities.readFileAsync(n),p=new Zi,d=new TextDecoder().decode(u);return p.data=JSON.parse(d),p.data.opts.meshThicknessOn2D==="infinity"&&(p.data.opts.meshThicknessOn2D=1/0),p.scene.sceneData={...INITIAL_SCENE_DATA,...p.data.sceneData},Zi.deserializeMeshDataObjects(p),p}static loadFromJSON(n){const u=new Zi;return u.data=n,u.data.opts.meshThicknessOn2D==="infinity"&&(u.data.opts.meshThicknessOn2D=1/0),u.scene.sceneData={...INITIAL_SCENE_DATA,...n.sceneData},Zi.deserializeMeshDataObjects(u),u}},NVLabel3D=class{constructor(l,n,u){__publicField(this,"text"),__publicField(this,"style"),__publicField(this,"points"),this.text=l,this.style=n,this.points=u}},defaultOptions={name:"untitled connectome",nodeColormap:"warm",nodeColormapNegative:"winter",nodeMinColor:0,nodeMaxColor:4,nodeScale:3,edgeColormap:"warm",edgeColormapNegative:"winter",edgeMin:2,edgeMax:6,edgeScale:1,legendLineThickness:0},NVConnectome=class Qs extends NVMesh2{constructor(n,u){super(new Float32Array([]),new Uint32Array([]),u.name,new Uint8Array([]),1,!0,n,u),__publicField(this,"gl"),__publicField(this,"nodesChanged"),this.gl=n,this.type="connectome",this.nodes&&this.updateLabels(),this.nodesChanged=new EventTarget}static convertLegacyConnectome(n){const u={nodes:[],edges:[],...defaultOptions};for(const v in n)if(v in defaultOptions){const d=v;u[d]=n[d]}const p=n.nodes;for(let v=0;v<p.names.length;v++)u.nodes.push({name:p.names[v],x:p.X[v],y:p.Y[v],z:p.Z[v],colorValue:p.Color[v],sizeValue:p.Size[v]});for(let v=0;v<p.names.length-1;v++)for(let d=v+1;d<p.names.length;d++){const g=n.edges[v*p.names.length+d];u.edges.push({first:v,second:d,colorValue:g})}return u}static convertFreeSurferConnectome(n,u="warm"){let p=!0;if("data_type"in n?n.data_type!=="fs_pointset"&&(p=!1):p=!1,"points"in n||(p=!1),!p)throw Error("not a valid FreeSurfer json pointset");const v=n.points.map(g=>({name:Array.isArray(g.comments)&&g.comments.length>0&&"text"in g.comments[0]?g.comments[0].text:"",x:g.coordinates.x,y:g.coordinates.y,z:g.coordinates.z,colorValue:1,sizeValue:1,metadata:g.comments}));return{...defaultOptions,nodeColormap:u,edgeColormap:u,nodes:v,edges:[]}}updateLabels(){const n=this.nodes;if(n&&n.length>0){const u=n.reduce((E,w)=>E.sizeValue>w.sizeValue?E:w).sizeValue,p=this.nodeMinColor?this.nodeMinColor:n.reduce((E,w)=>E.colorValue<w.colorValue?E:w).colorValue,v=this.nodeMaxColor?this.nodeMaxColor:n.reduce((E,w)=>E.colorValue>w.colorValue?E:w).colorValue,d=cmapper.colormap(this.nodeColormap,this.colormapInvert),g=cmapper.colormap(this.nodeColormapNegative,this.colormapInvert),_="nodeColormapNegative"in this,C=this.legendLineThickness?this.legendLineThickness:0;for(let E=0;E<n.length;E++){let w=n[E].colorValue,m=!1;if(_&&w<0&&(m=!0,w=-w),p<v){if(w<p){log$1.warn("color value lower than min");continue}w=(w-p)/(v-p)}else w=1;w=Math.round(Math.max(Math.min(255,w*255)))*4;let y=[d[w],d[w+1],d[w+2],255];m&&(y=[g[w],g[w+1],g[w+2],255]),y=y.map(e=>e/255),log$1.debug("adding label for ",n[E]),n[E].label=new NVLabel3D(n[E].name,{textColor:y,bulletScale:n[E].sizeValue/u,bulletColor:y,lineWidth:C,lineColor:y,textScale:1,textAlignment:"left",lineTerminator:"none"},[n[E].x,n[E].y,n[E].z]),log$1.debug("label for node:",n[E].label)}}}addConnectomeNode(n){if(log$1.debug("adding node",n),!this.nodes)throw new Error("nodes not defined");this.nodes.push(n),this.updateLabels(),this.nodesChanged.dispatchEvent(new CustomEvent("nodeAdded",{detail:{node:n}}))}deleteConnectomeNode(n){const u=this.nodes.indexOf(n),p=this.edges;p&&(this.edges=p.filter(v=>v.first!==u&&v.second!==u)),this.nodes=this.nodes.filter(v=>v!==n),this.updateLabels(),this.updateConnectome(this.gl),this.nodesChanged.dispatchEvent(new CustomEvent("nodeDeleted",{detail:{node:n}}))}updateConnectomeNodeByIndex(n,u){this.nodes[n]=u,this.updateLabels(),this.updateConnectome(this.gl),this.nodesChanged.dispatchEvent(new CustomEvent("nodeChanged",{detail:{node:u}}))}updateConnectomeNodeByPoint(n,u){const p=this.nodes;if(!p)throw new Error("Node to update does not exist");const v=p.find(g=>NVUtilities.arraysAreEqual([g.x,g.y,g.z],n));if(!v)throw new Error(`Node with point ${n} to update does not exist`);const d=p.findIndex(g=>g===v);this.updateConnectomeNodeByIndex(d,u)}addConnectomeEdge(n,u,p){const v=this.edges;let d=v.find(g=>(g.first===n||g.second===n)&&g.first+g.second===n+u);return d||(d={first:n,second:u,colorValue:p},v.push(d),this.updateConnectome(this.gl),d)}deleteConnectomeEdge(n,u){const p=this.edges,v=p.find(d=>(d.first===n||d.first===u)&&d.first+d.second===n+u);if(v)this.edges=p.filter(d=>d!==v);else throw new Error(`edge between ${n} and ${u} not found`);return this.updateConnectome(this.gl),v}findClosestConnectomeNode(n,u){const p=this.nodes;if(!p||p.length===0)return null;const v=p.map((d,g)=>({node:d,distance:Math.sqrt(Math.pow(d.x-n[0],2)+Math.pow(d.y-n[1],2)+Math.pow(d.z-n[2],2)),index:g})).filter(d=>d.distance<u).sort((d,g)=>d.distance-g.distance);return v.length>0?v[0].node:null}updateConnectome(n){const u=[],p=[],v=[];let d=cmapper.colormap(this.nodeColormap,this.colormapInvert),g=cmapper.colormap(this.nodeColormapNegative,this.colormapInvert),_="nodeColormapNegative"in this;if(this.nodeMinColor===void 0||this.nodeMaxColor===void 0)throw new Error("nodeMinColor or nodeMaxColor is undefined");if(this.edgeMin===void 0||this.edgeMax===void 0)throw new Error("edgeMin or edgeMax undefined");let C=this.nodeMinColor,E=this.nodeMaxColor;const w=this.nodes,m=w.length;for(let W=0;W<m;W++){const V=w[W].sizeValue*this.nodeScale;if(V<=0)continue;let $=w[W].colorValue,b=!1;if(_&&$<0&&(b=!0,$=-$),C<E){if($<C)continue;$=($-C)/(E-C)}else $=1;$=Math.round(Math.max(Math.min(255,$*255)))*4;let H=[d[$],d[$+1],d[$+2],255];b&&(H=[g[$],g[$+1],g[$+2],255]);const G=fromValues$2(w[W].x,w[W].y,w[W].z);NiivueObject3D.makeColoredSphere(p,u,v,V,G,H)}d=cmapper.colormap(this.edgeColormap,this.colormapInvert),g=cmapper.colormap(this.edgeColormapNegative,this.colormapInvert),_="edgeColormapNegative"in this,C=this.edgeMin,E=this.edgeMax;const y=this.edges;for(const W of y){let V=W.colorValue;const $=_&&V<0;$&&(V=-V);const b=V*this.edgeScale;if(b<=0)continue;if(C<E){if(V<C)continue;V=(V-C)/(E-C)}else V=1;V=Math.round(Math.max(Math.min(255,V*255)))*4;let H=[d[V],d[V+1],d[V+2],255];$&&(H=[g[V],g[V+1],g[V+2],255]);const G=fromValues$2(w[W.first].x,w[W.first].y,w[W.first].z),Y=fromValues$2(w[W.second].x,w[W.second].y,w[W.second].z);NiivueObject3D.makeColoredCylinder(p,u,v,G,Y,b,H)}const e=new Float32Array(p),P=new Uint32Array(u),O=NVMeshUtilities.getExtents(e);this.furthestVertexFromOrigin=O.mxDx,this.extentsMin=O.extentsMin,this.extentsMax=O.extentsMax;const U=this.generatePosNormClr(e,P,new Uint8Array(v));n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,Uint32Array.from(P),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,this.vertexBuffer),n.bufferData(n.ARRAY_BUFFER,Float32Array.from(U),n.STATIC_DRAW),this.indexCount=u.length}updateMesh(n){this.updateConnectome(n),this.updateLabels()}json(){const n={};for(const u in this)(u in defaultOptions||u==="nodes"||u==="edges")&&(n[u]=this[u]);return n}static async loadConnectomeFromUrl(n,u){const v=await(await fetch(u)).json();return new Qs(n,v)}};function img2ras16(l){const n=l.hdr.dims,u=l.permRAS,p=n[1]*n[2]*n[3],v=new Int16Array(p),d=[0,0,0];for(let e=0;e<3;e++)for(let P=0;P<3;P++)Math.abs(u[e])-1===P&&(d[P]=e*Math.sign(u[e]));let g=1;const _=[1,1,1],C=[!1,!1,!1];for(let e=0;e<d.length;e++)for(let P=0;P<d.length;P++)Math.abs(d[P])===e&&(_[P]=g,(d[P]<0||Object.is(d[P],-0))&&(C[P]=!0),g*=n[P+1]);let E=NVUtilities.range(0,n[1]-1,1);C[0]&&(E=NVUtilities.range(n[1]-1,0,-1));for(let e=0;e<n[1];e++)E[e]*=_[0];let w=NVUtilities.range(0,n[2]-1,1);C[1]&&(w=NVUtilities.range(n[2]-1,0,-1));for(let e=0;e<n[2];e++)w[e]*=_[1];let m=NVUtilities.range(0,n[3]-1,1);C[2]&&(m=NVUtilities.range(n[3]-1,0,-1));for(let e=0;e<n[3];e++)m[e]*=_[2];let y=0;for(let e=0;e<n[3];e++)for(let P=0;P<n[2];P++)for(let O=0;O<n[1];O++)v[E[O]+w[P]+m[e]]=l.img[y],y++;return v}function nice(l,n){const u=Math.floor(Math.log(l)/Math.log(10)),p=l/Math.pow(10,u);let v;return n?p<1.5?v=1:p<3?v=2:p<7?v=5:v=10:p<=1?v=1:p<=2?v=2:p<=5?v=5:v=10,v*Math.pow(10,u)}function loose_label(l,n,u=4){const p=nice(n-l,!1),v=nice(p/(u-1),!0),d=Math.floor(l/v)*v,g=Math.ceil(n/v)*v;return[v,d,g,d===l&&g===n]}function tickSpacing(l,n){let u=loose_label(l,n,3);return u[3]||(u=loose_label(l,n,5)),u[3]||(u=loose_label(l,n,4)),u[3]||(u=loose_label(l,n,3)),u[3]||(u=loose_label(l,n,5)),[u[0],u[1],u[2]]}function deg2rad(l){return l*(Math.PI/180)}function negMinMax(l,n,u,p){let v=-l,d=-n;return isFinite(u)&&isFinite(p)&&(v=u,d=p),v>d&&([v,d]=[d,v]),[v,d]}function swizzleVec3(l,n=[0,1,2]){const u=create$2();return u[0]=l[n[0]],u[1]=l[n[1]],u[2]=l[n[2]],u}function isRadiological(l){const n=fromValues$1(1,0,0,0),u=create$1();return transformMat4(u,n,l),u[0]}function unProject(l,n,u,p){const v=fromValues$1(l,n,u,1),d=clone$2(p);invert(d,d),v[0]=v[0]*2-1,v[1]=v[1]*2-1,v[2]=v[2]*2-1;const g=create$1();return transformMat4(g,v,d),g[3]===0||(g[0]/=g[3],g[1]/=g[3],g[2]/=g[3]),g}function unpackFloatFromVec4i(l){const n=[5960464477539063e-23,152587890625e-16,.00390625,1];return(l[0]*n[0]+l[1]*n[1]+l[2]*n[2]+l[3]*n[3])/255}function clamp(l,n,u){return Math.min(Math.max(l,n),u)}function encodeRLE(l){const n=l.length;let u=0;const p=new Uint8Array(n+Math.ceil(.01*n)),v=new Int8Array(p.buffer);let d=0;for(;u<n;){let g=l[u];u++;let _=1;for(;_<129&&u<n&&l[u]===g;)u++,_++;if(_>1){v[d]=-_+1,d++,p[d]=g,d++;continue}for(;u<n&&!(_>127||u+2<n&&g!==l[u]&&l[u+2]===l[u]&&l[u+1]===l[u]);)g=l[u],u++,_++;p[d]=_-1,d++;for(let C=0;C<_;C++)p[d]=l[u-_+C],d++}return log$1.info("PackBits "+n+" -> "+d+" bytes (x"+n/d+")"),p.slice(0,d)}function decodeRLE(l,n){const u=new Uint8Array(l.buffer),p=new Int8Array(u.buffer);let v=0;const d=new Uint8Array(n);let g=0;for(;v<u.length;){const _=p[v];if(v++,_<0){const C=p[v];v++;for(let E=0;E<1-_;E++)d[g]=C,g++}else for(let C=0;C<_+1;C++)d[g]=p[v],v++,g++}return d}function intensityRaw2Scaled(l,n){return l.scl_slope===0&&(l.scl_slope=1),n*l.scl_slope+l.scl_inter}var MESH_EXTENSIONS=["ASC","BYU","DFS","FSM","PIAL","ORIG","INFLATED","SMOOTHWM","SPHERE","WHITE","G","GEO","GII","ICO","MZ3","NV","OBJ","OFF","PLY","SRF","STL","TCK","TRACT","TRI","TRK","TT","TRX","VTK","X3D","JCON","JSON"],LEFT_MOUSE_BUTTON=0,CENTER_MOUSE_BUTTON=1,RIGHT_MOUSE_BUTTON=2,TEXTURE0_BACK_VOL=33984,TEXTURE1_COLORMAPS=33985,TEXTURE2_OVERLAY_VOL=33986,TEXTURE3_FONT=33987,TEXTURE4_THUMBNAIL=33988,TEXTURE5_MATCAP=33989,TEXTURE6_GRADIENT=33990,TEXTURE7_DRAW=33991,TEXTURE8_GRADIENT_TEMP=33992,TEXTURE9_ORIENT=33993,TEXTURE10_BLEND=33994,TEXTURE11_GC_BACK=33995,TEXTURE12_GC_STRENGTH0=33996,TEXTURE13_GC_STRENGTH1=33997,TEXTURE14_GC_LABEL0=33998,TEXTURE15_GC_LABEL1=33999,defaultSaveImageOptions={filename:"",isSaveDrawing:!1,volumeByIndex:0},Niivue=class js{constructor(n=DEFAULT_OPTIONS){__publicField(this,"canvas",null),__publicField(this,"_gl",null),__publicField(this,"isBusy",!1),__publicField(this,"needsRefresh",!1),__publicField(this,"colormapTexture",null),__publicField(this,"colormapLists",[]),__publicField(this,"volumeTexture",null),__publicField(this,"gradientTexture",null),__publicField(this,"gradientTextureAmount",0),__publicField(this,"drawTexture",null),__publicField(this,"drawUndoBitmaps",[]),__publicField(this,"drawLut",cmapper.makeDrawLut("$itksnap")),__publicField(this,"drawOpacity",.8),__publicField(this,"renderDrawAmbientOcclusion",.4),__publicField(this,"colorbarHeight",0),__publicField(this,"drawPenLocation",[NaN,NaN,NaN]),__publicField(this,"drawPenAxCorSag",-1),__publicField(this,"drawFillOverwrites",!0),__publicField(this,"drawPenFillPts",[]),__publicField(this,"overlayTexture",null),__publicField(this,"overlayTextureID",null),__publicField(this,"sliceMMShader"),__publicField(this,"sliceV1Shader"),__publicField(this,"orientCubeShader"),__publicField(this,"orientCubeShaderVAO",null),__publicField(this,"rectShader"),__publicField(this,"renderShader"),__publicField(this,"lineShader"),__publicField(this,"line3DShader"),__publicField(this,"passThroughShader"),__publicField(this,"renderGradientShader"),__publicField(this,"renderSliceShader"),__publicField(this,"renderVolumeShader"),__publicField(this,"pickingMeshShader"),__publicField(this,"pickingImageShader"),__publicField(this,"colorbarShader"),__publicField(this,"fontShader",null),__publicField(this,"fiberShader"),__publicField(this,"fontTexture",null),__publicField(this,"circleShader"),__publicField(this,"matCapTexture",null),__publicField(this,"bmpShader",null),__publicField(this,"bmpTexture",null),__publicField(this,"thumbnailVisible",!1),__publicField(this,"bmpTextureWH",1),__publicField(this,"growCutShader"),__publicField(this,"orientShaderAtlasU",null),__publicField(this,"orientShaderAtlasI",null),__publicField(this,"orientShaderU",null),__publicField(this,"orientShaderI",null),__publicField(this,"orientShaderF",null),__publicField(this,"orientShaderRGBU",null),__publicField(this,"surfaceShader",null),__publicField(this,"blurShader",null),__publicField(this,"sobelShader",null),__publicField(this,"genericVAO",null),__publicField(this,"unusedVAO",null),__publicField(this,"crosshairs3D",null),__publicField(this,"DEFAULT_FONT_GLYPH_SHEET",Roboto_Regular_default),__publicField(this,"DEFAULT_FONT_METRICS",Roboto_Regular_default2),__publicField(this,"fontMetrics"),__publicField(this,"fontMets",null),__publicField(this,"backgroundMasksOverlays",0),__publicField(this,"overlayOutlineWidth",0),__publicField(this,"overlayAlphaShader",1),__publicField(this,"isAlphaClipDark",!1),__publicField(this,"position"),__publicField(this,"extentsMin"),__publicField(this,"extentsMax"),__publicField(this,"resizeObserver",null),__publicField(this,"syncOpts",{}),__publicField(this,"readyForSync",!1),__publicField(this,"uiData",{mousedown:!1,touchdown:!1,mouseButtonLeftDown:!1,mouseButtonCenterDown:!1,mouseButtonRightDown:!1,mouseDepthPicker:!1,clickedTile:-1,pan2DxyzmmAtMouseDown:[0,0,0,1],prevX:0,prevY:0,currX:0,currY:0,currentTouchTime:0,lastTouchTime:0,touchTimer:null,doubleTouch:!1,isDragging:!1,dragStart:[0,0],dragEnd:[0,0],dragClipPlaneStartDepthAziElev:[0,0,0],lastTwoTouchDistance:0,multiTouchGesture:!1}),__publicField(this,"back",null),__publicField(this,"overlays",[]),__publicField(this,"deferredVolumes",[]),__publicField(this,"deferredMeshes",[]),__publicField(this,"furthestVertexFromOrigin",100),__publicField(this,"volScale",[]),__publicField(this,"vox",[]),__publicField(this,"mousePos",[0,0]),__publicField(this,"screenSlices",[]),__publicField(this,"cuboidVertexBuffer"),__publicField(this,"otherNV",null),__publicField(this,"volumeObject3D",null),__publicField(this,"pivot3D",[0,0,0]),__publicField(this,"furthestFromPivot",10),__publicField(this,"currentClipPlaneIndex",0),__publicField(this,"lastCalled",new Date().getTime()),__publicField(this,"selectedObjectId",-1),__publicField(this,"CLIP_PLANE_ID",1),__publicField(this,"VOLUME_ID",254),__publicField(this,"DISTANCE_FROM_CAMERA",-.54),__publicField(this,"graph",{LTWH:[0,0,640,480],opacity:0,vols:[0],autoSizeMultiplanar:!1,normalizeValues:!1}),__publicField(this,"meshShaders",[{Name:"Phong",Frag:fragMeshShader},{Name:"Matte",Frag:fragMeshMatteShader},{Name:"Harmonic",Frag:fragMeshShaderSHBlue},{Name:"Hemispheric",Frag:fragMeshHemiShader},{Name:"Edge",Frag:fragMeshEdgeShader},{Name:"Diffuse",Frag:fragMeshDiffuseEdgeShader},{Name:"Outline",Frag:fragMeshOutlineShader},{Name:"Toon",Frag:fragMeshToonShader},{Name:"Flat",Frag:fragFlatMeshShader},{Name:"Matcap",Frag:fragMeshMatcapShader}]),__publicField(this,"dragModes",{contrast:1,measurement:2,none:0,pan:3,slicer3D:4,callbackOnly:5}),__publicField(this,"sliceTypeAxial",0),__publicField(this,"sliceTypeCoronal",1),__publicField(this,"sliceTypeSagittal",2),__publicField(this,"sliceTypeMultiplanar",3),__publicField(this,"sliceTypeRender",4),__publicField(this,"onDragRelease",()=>{}),__publicField(this,"onMouseUp",()=>{}),__publicField(this,"onLocationChange",()=>{}),__publicField(this,"onIntensityChange",()=>{}),__publicField(this,"onImageLoaded",()=>{}),__publicField(this,"onMeshLoaded",()=>{}),__publicField(this,"onFrameChange",()=>{}),__publicField(this,"onError",()=>{}),__publicField(this,"onColormapChange",()=>{}),__publicField(this,"onInfo",()=>{}),__publicField(this,"onWarn",()=>{}),__publicField(this,"onDebug",()=>{}),__publicField(this,"onVolumeAddedFromUrl",()=>{}),__publicField(this,"onVolumeWithUrlRemoved",()=>{}),__publicField(this,"onVolumeUpdated",()=>{}),__publicField(this,"onMeshAddedFromUrl",()=>{}),__publicField(this,"onMeshAdded",()=>{}),__publicField(this,"onMeshWithUrlRemoved",()=>{}),__publicField(this,"onZoom3DChange",()=>{}),__publicField(this,"onAzimuthElevationChange",()=>{}),__publicField(this,"onClipPlaneChange",()=>{}),__publicField(this,"onCustomMeshShaderAdded",()=>{}),__publicField(this,"onMeshShaderChanged",()=>{}),__publicField(this,"onMeshPropertyChanged",()=>{}),__publicField(this,"onDocumentLoaded",()=>{}),__publicField(this,"document",new NVDocument),__publicField(this,"mediaUrlMap",new Map),__publicField(this,"initialized",!1),__publicField(this,"currentDrawUndoBitmap"),__publicField(this,"loadingText");for(const u in n)typeof n[u]=="function"?this[u]=n[u]:this.opts[u]=DEFAULT_OPTIONS[u]===void 0?DEFAULT_OPTIONS[u]:n[u];this.opts.isHighResolutionCapable?this.uiData.dpr=window.devicePixelRatio||1:this.uiData.dpr=1,this.currentDrawUndoBitmap=this.opts.maxDrawUndoBitmaps,this.opts.drawingEnabled&&this.createEmptyDrawing(),this.opts.thumbnail.length>0&&(this.thumbnailVisible=!0),this.loadingText=this.opts.loadingText,log$1.setLogLevel(this.opts.logLevel)}get scene(){return this.document.scene}get opts(){return this.document.opts}get sliceMosaicString(){return this.document.opts.sliceMosaicString||""}set sliceMosaicString(n){this.document.opts.sliceMosaicString=n}get volumes(){return this.document.volumes}set volumes(n){this.document.volumes=n}get meshes(){return this.document.meshes}set meshes(n){this.document.meshes=n}get drawBitmap(){return this.document.drawBitmap}set drawBitmap(n){this.document.drawBitmap=n}get volScaleMultiplier(){return this.scene.volScaleMultiplier}set volScaleMultiplier(n){this.setScale(n)}async saveScene(n="niivue.png"){function u(v,d){const g=document.createElement("a");document.body.appendChild(g),g.style.display="none";const _=window.URL.createObjectURL(v);g.href=_,g.download=d,g.click(),g.remove()}const p=this.canvas;if(!p)throw new Error("canvas not defined");this.drawScene(),p.toBlob(v=>{v&&(n===""&&(n=`niivue-screenshot-${new Date().toString()}.png`,n=n.replace(/\s/g,"_")),u(v,n))})}async attachTo(n,u=null){return await this.attachToCanvas(document.getElementById(n),u),log$1.debug("attached to element with id: ",n),this}async attachToCanvas(n,u=null){return this.canvas=n,u===null&&(u=navigator.hardwareConcurrency>6,log$1.debug("AntiAlias ",u," Threads ",navigator.hardwareConcurrency)),this.gl=this.canvas.getContext("webgl2",{alpha:!0,antialias:u}),log$1.info("NIIVUE VERSION ",version$1),this.canvas.parentElement.style.backgroundColor="black",this.opts.isResizeCanvas&&(this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.display="block",this.canvas.width=this.canvas.offsetWidth,this.canvas.height=this.canvas.offsetHeight,window.addEventListener("resize",this.resizeListener.bind(this)),this.resizeObserver=new ResizeObserver(this.resizeListener.bind(this)),this.resizeObserver.observe(this.canvas.parentElement)),this.registerInteractions(),await this.init(),this.drawScene(),this}syncWith(n,u={"2d":!0,"3d":!0}){this.otherNV=n,this.syncOpts=u}broadcastTo(n,u={"2d":!0,"3d":!0}){this.otherNV=n,this.syncOpts=u}sync(){if(!this.gl||!this.otherNV||typeof this.otherNV>"u"||!this.gl.canvas.matches(":focus"))return;const n=this.frac2mm(this.scene.crosshairPos);if(this.otherNV instanceof js)this.syncOpts["2d"]&&(this.otherNV.scene.crosshairPos=this.otherNV.mm2frac(n)),this.syncOpts["3d"]&&(this.otherNV.scene.renderAzimuth=this.scene.renderAzimuth,this.otherNV.scene.renderElevation=this.scene.renderElevation),this.otherNV.drawScene(),this.otherNV.createOnLocationChange();else if(Array.isArray(this.otherNV))for(let u=0;u<this.otherNV.length;u++)this.otherNV[u]!==this&&(this.syncOpts["2d"]&&(this.otherNV[u].scene.crosshairPos=this.otherNV[u].mm2frac(n)),this.syncOpts["3d"]&&(this.otherNV[u].scene.renderAzimuth=this.scene.renderAzimuth,this.otherNV[u].scene.renderElevation=this.scene.renderElevation),this.otherNV[u].drawScene(),this.otherNV[u].createOnLocationChange())}arrayEquals(n,u){return Array.isArray(n)&&Array.isArray(u)&&n.length===u.length&&n.every((p,v)=>p===u[v])}resizeListener(){if(!(!this.canvas||!this.gl)){if(!this.opts.isResizeCanvas){this.opts.isHighResolutionCapable&&(log$1.warn("isHighResolutionCapable requires isResizeCanvas"),this.opts.isHighResolutionCapable=!1),this.uiData.dpr=1,this.drawScene();return}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.display="block",this.opts.isHighResolutionCapable?(this.uiData.dpr=window.devicePixelRatio||1,log$1.debug("devicePixelRatio: "+this.uiData.dpr)):this.uiData.dpr=1,"width"in this.canvas.parentElement?(this.canvas.width=this.canvas.parentElement.width*this.uiData.dpr,this.canvas.height=this.canvas.parentElement.height*this.uiData.dpr):(this.canvas.width=this.canvas.offsetWidth*this.uiData.dpr,this.canvas.height=this.canvas.offsetHeight*this.uiData.dpr),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.drawScene()}}getRelativeMousePosition(n,u){if(u=u||n.target,!u)return;const p=u.getBoundingClientRect();return{x:n.clientX-p.left,y:n.clientY-p.top}}getNoPaddingNoBorderCanvasRelativeMousePosition(n,u){return u=u||n.target,this.getRelativeMousePosition(n,u)}mouseContextMenuListener(n){n.preventDefault()}mouseDownListener(n){n.preventDefault(),this.drawPenLocation=[NaN,NaN,NaN],this.drawPenAxCorSag=-1,this.uiData.mousedown=!0,log$1.debug("mouse down"),log$1.debug(n);const u=this.getNoPaddingNoBorderCanvasRelativeMousePosition(n,this.gl.canvas);if(!u)return;const[p,v]=[u.x*this.uiData.dpr,u.y*this.uiData.dpr],d=this.getLabelAtPoint([p,v]);if(d){for(const g of this.meshes)if(g.type==="connectome")for(const _ of g.nodes)_.label===d&&(this.scene.crosshairPos=this.mm2frac([_.x,_.y,_.z]),this.updateGLVolume(),this.drawScene())}this.uiData.clickedTile=this.tileIndex(p,v),n.button===LEFT_MOUSE_BUTTON&&n.shiftKey?(this.uiData.mouseButtonCenterDown=!0,this.mouseCenterButtonHandler(n)):n.button===LEFT_MOUSE_BUTTON?(this.uiData.mouseButtonLeftDown=!0,this.mouseLeftButtonHandler(n)):n.button===RIGHT_MOUSE_BUTTON?(this.uiData.mouseButtonRightDown=!0,this.mouseRightButtonHandler(n)):n.button===CENTER_MOUSE_BUTTON&&(this.uiData.mouseButtonCenterDown=!0,this.mouseCenterButtonHandler(n))}mouseLeftButtonHandler(n){const u=this.getNoPaddingNoBorderCanvasRelativeMousePosition(n,this.gl.canvas);this.mouseDown(u.x,u.y),this.mouseClick(u.x,u.y)}mouseCenterButtonHandler(n){const u=this.getNoPaddingNoBorderCanvasRelativeMousePosition(n,this.gl.canvas);this.mousePos=[u.x*this.uiData.dpr,u.y*this.uiData.dpr],this.opts.dragMode!==0&&(this.setDragStart(u.x,u.y),this.uiData.isDragging||(this.uiData.pan2DxyzmmAtMouseDown=clone(this.scene.pan2Dxyzmm)),this.uiData.isDragging=!0,this.uiData.dragClipPlaneStartDepthAziElev=this.scene.clipPlaneDepthAziElev)}mouseRightButtonHandler(n){const u=this.getNoPaddingNoBorderCanvasRelativeMousePosition(n,this.gl.canvas);this.mousePos=[u.x*this.uiData.dpr,u.y*this.uiData.dpr],this.opts.dragMode!==0&&(this.setDragStart(u.x,u.y),this.uiData.isDragging||(this.uiData.pan2DxyzmmAtMouseDown=clone(this.scene.pan2Dxyzmm)),this.uiData.isDragging=!0,this.uiData.dragClipPlaneStartDepthAziElev=this.scene.clipPlaneDepthAziElev)}calculateMinMaxVoxIdx(n){if(n.length>2)throw new Error("array must not contain more than two values");return[Math.floor(Math.min(n[0],n[1])),Math.floor(Math.max(n[0],n[1]))]}calculateNewRange({volIdx:n=0}={}){if(this.opts.sliceType===4&&this.sliceMosaicString.length<1||this.uiData.dragStart[0]===this.uiData.dragEnd[0]&&this.uiData.dragStart[1]===this.uiData.dragEnd[1])return;let u=this.canvasPos2frac([this.uiData.dragStart[0],this.uiData.dragStart[1]]);if(u[0]<0)return;const p=this.frac2vox(u,n);if(u=this.canvasPos2frac([this.uiData.dragEnd[0],this.uiData.dragEnd[1]]),u[0]<0)return;const v=this.frac2vox(u,n);let d=-Number.MAX_VALUE,g=Number.MAX_VALUE;const _=this.calculateMinMaxVoxIdx([p[0],v[0]]),C=this.calculateMinMaxVoxIdx([p[1],v[1]]),E=this.calculateMinMaxVoxIdx([p[2],v[2]]);p[0]-v[0]===0?_[1]=p[0]+1:p[1]-v[1]===0?C[1]=p[1]+1:p[2]-v[2]===0&&(E[1]=p[2]+1);const w=this.volumes[n].hdr,m=this.volumes[n].img;if(!w||!m)return;const y=w.dims[1],e=w.dims[2];for(let U=E[0];U<E[1];U++){const W=U*y*e;for(let V=C[0];V<C[1];V++){const $=V*y;for(let b=_[0];b<_[1];b++){const H=W+$+b;g>m[H]&&(g=m[H]),d<m[H]&&(d=m[H])}}}if(g>=d)return;const P=intensityRaw2Scaled(w,g),O=intensityRaw2Scaled(w,d);this.volumes[n].cal_min=P,this.volumes[n].cal_max=O,this.onIntensityChange(this.volumes[n])}generateMouseUpCallback(n,u){const p=this.tileIndex(this.uiData.dragStart[0],this.uiData.dragStart[1]),v=this.tileIndex(this.uiData.dragEnd[0],this.uiData.dragEnd[1]);let d=-1;p===v&&(d=v);let g=-1;d>=0&&(g=this.screenSlices[d].axCorSag);const _=this.frac2mm(n),C=this.frac2mm(u),E=create$2();sub$2(E,fromValues$2(_[0],_[1],_[2]),fromValues$2(C[0],C[1],C[2]));const w=len(E),m=this.frac2vox(n),y=this.frac2vox(u);this.onDragRelease({fracStart:n,fracEnd:u,voxStart:m,voxEnd:y,mmStart:_,mmEnd:C,mmLength:w,tileIdx:d,axCorSag:g})}mouseUpListener(){function n(v){return Object.prototype.toString.call(v).indexOf("Function")>-1}const u={mouseButtonRightDown:this.uiData.mouseButtonRightDown,mouseButtonCenterDown:this.uiData.mouseButtonCenterDown,isDragging:this.uiData.isDragging,mousePos:this.mousePos,fracPos:this.canvasPos2frac(this.mousePos)};this.uiData.mousedown=!1,this.uiData.mouseButtonRightDown=!1;const p=this.uiData.mouseButtonCenterDown;if(this.uiData.mouseButtonCenterDown=!1,this.uiData.mouseButtonLeftDown=!1,this.drawPenFillPts.length>0?this.drawPenFilled():this.drawPenAxCorSag>=0&&this.drawAddUndoBitmap(),this.drawPenLocation=[NaN,NaN,NaN],this.drawPenAxCorSag=-1,n(this.onMouseUp)&&this.onMouseUp(u),this.uiData.isDragging){this.uiData.isDragging=!1,this.opts.dragMode===5&&this.drawScene();const v=this.canvasPos2frac([this.uiData.dragStart[0],this.uiData.dragStart[1]]),d=this.canvasPos2frac([this.uiData.dragEnd[0],this.uiData.dragEnd[1]]);if(this.generateMouseUpCallback(v,d),this.opts.dragMode!==1||p||this.uiData.dragStart[0]===this.uiData.dragEnd[0]&&this.uiData.dragStart[1]===this.uiData.dragEnd[1])return;this.calculateNewRange({volIdx:0}),this.refreshLayers(this.volumes[0],0)}this.drawScene()}checkMultitouch(n){if(this.uiData.touchdown&&!this.uiData.multiTouchGesture){const u=this.canvas.getBoundingClientRect();this.mouseDown(n.touches[0].clientX-u.left,n.touches[0].clientY-u.top),this.mouseClick(n.touches[0].clientX-u.left,n.touches[0].clientY-u.top)}}touchStartListener(n){n.preventDefault(),this.uiData.touchTimer||(this.uiData.touchTimer=setTimeout(()=>{this.resetBriCon(n)},this.opts.longTouchTimeout)),this.uiData.touchdown=!0,this.uiData.currentTouchTime=new Date().getTime();const u=this.uiData.currentTouchTime-this.uiData.lastTouchTime;if(u<this.opts.doubleTouchTimeout&&u>0){this.uiData.doubleTouch=!0,this.setDragStart(n.targetTouches[0].clientX-n.target.getBoundingClientRect().left,n.targetTouches[0].clientY-n.target.getBoundingClientRect().top),this.resetBriCon(n),this.uiData.lastTouchTime=this.uiData.currentTouchTime;return}else this.uiData.doubleTouch=!1,this.setDragStart(0,0),this.setDragEnd(0,0),this.uiData.lastTouchTime=this.uiData.currentTouchTime;this.uiData.touchdown&&n.touches.length<2?this.uiData.multiTouchGesture=!1:this.uiData.multiTouchGesture=!0,setTimeout(this.checkMultitouch.bind(this),1,n)}touchEndListener(n){if(n.preventDefault(),this.uiData.touchdown=!1,this.uiData.lastTwoTouchDistance=0,this.uiData.multiTouchGesture=!1,this.uiData.touchTimer&&(clearTimeout(this.uiData.touchTimer),this.uiData.touchTimer=null),this.uiData.isDragging){this.uiData.isDragging=!1,this.opts.dragMode===1&&(this.calculateNewRange(),this.refreshLayers(this.volumes[0],0));const u=this.canvasPos2frac([this.uiData.dragStart[0],this.uiData.dragStart[1]]),p=this.canvasPos2frac([this.uiData.dragEnd[0],this.uiData.dragEnd[1]]);this.generateMouseUpCallback(u,p)}this.mouseUpListener()}mouseMoveListener(n){if(this.uiData.mousedown){const u=this.getNoPaddingNoBorderCanvasRelativeMousePosition(n,this.gl.canvas);if(!u)return;const p=u.x*this.uiData.dpr,v=u.y*this.uiData.dpr;if(this.tileIndex(p,v)!==this.uiData.clickedTile)return;this.uiData.mouseButtonLeftDown?(this.mouseMove(u.x,u.y),this.mouseClick(u.x,u.y)):(this.uiData.mouseButtonRightDown||this.uiData.mouseButtonCenterDown)&&this.setDragEnd(u.x,u.y),this.drawScene(),this.uiData.prevX=this.uiData.currX,this.uiData.prevY=this.uiData.currY}}resetBriCon(n=null){if(this.uiData.isDragging)return;let u=!1;this.opts.sliceType===4&&(u=!0);let p=0,v=0;if(n!==null&&("targetTouches"in n?(p=n.targetTouches[0].clientX-n.target.getBoundingClientRect().left,v=n.targetTouches[0].clientY-n.target.getBoundingClientRect().top):(p=n.offsetX,v=n.offsetY),p*=this.uiData.dpr,v*=this.uiData.dpr,this.inRenderTile(p,v)>=0&&(u=!0)),u){this.uiData.mouseDepthPicker=!0,this.drawScene(),this.drawScene();return}this.opts.dragMode!==4&&(this.volumes.length<1||this.uiData.doubleTouch||(this.volumes[0].cal_min=this.volumes[0].robust_min,this.volumes[0].cal_max=this.volumes[0].robust_max,this.onIntensityChange(this.volumes[0]),this.refreshLayers(this.volumes[0],0),this.drawScene()))}setDragStart(n,u){n*=this.uiData.dpr,u*=this.uiData.dpr,this.uiData.dragStart[0]=n,this.uiData.dragStart[1]=u}setDragEnd(n,u){n*=this.uiData.dpr,u*=this.uiData.dpr,this.uiData.dragEnd[0]=n,this.uiData.dragEnd[1]=u}touchMoveListener(n){if(this.uiData.touchdown&&n.touches.length<2){const u=this.canvas.getBoundingClientRect();if(this.uiData.isDragging||(this.uiData.pan2DxyzmmAtMouseDown=clone(this.scene.pan2Dxyzmm)),this.uiData.isDragging=!0,this.uiData.doubleTouch&&this.uiData.isDragging){this.setDragEnd(n.targetTouches[0].clientX-n.target.getBoundingClientRect().left,n.targetTouches[0].clientY-n.target.getBoundingClientRect().top),this.drawScene();return}this.mouseClick(n.touches[0].clientX-u.left,n.touches[0].clientY-u.top),this.mouseMove(n.touches[0].clientX-u.left,n.touches[0].clientY-u.top)}else this.handlePinchZoom(n)}handlePinchZoom(n){if(n.targetTouches.length===2&&n.changedTouches.length===2){const u=Math.hypot(n.touches[0].pageX-n.touches[1].pageX,n.touches[0].pageY-n.touches[1].pageY),p=this.canvas.getBoundingClientRect();this.mousePos=[n.touches[0].clientX-p.left,n.touches[0].clientY-p.top],u<this.uiData.lastTwoTouchDistance?this.sliceScroll2D(-.01,n.touches[0].clientX-p.left,n.touches[0].clientY-p.top):this.sliceScroll2D(.01,n.touches[0].clientX-p.left,n.touches[0].clientY-p.top),this.uiData.lastTwoTouchDistance=u}}keyUpListener(n){if(n.code===this.opts.clipPlaneHotKey){const u=new Date().getTime();if(u-this.lastCalled>this.opts.keyDebounceTime){switch(this.currentClipPlaneIndex=(this.currentClipPlaneIndex+1)%7,this.currentClipPlaneIndex){case 0:this.scene.clipPlaneDepthAziElev=[2,0,0];break;case 1:this.scene.clipPlaneDepthAziElev=[0,270,0];break;case 2:this.scene.clipPlaneDepthAziElev=[0,90,0];break;case 3:this.scene.clipPlaneDepthAziElev=[0,0,0];break;case 4:this.scene.clipPlaneDepthAziElev=[0,180,0];break;case 5:this.scene.clipPlaneDepthAziElev=[0,0,-90];break;case 6:this.scene.clipPlaneDepthAziElev=[0,0,90];break}this.setClipPlane(this.scene.clipPlaneDepthAziElev)}this.lastCalled=u}else if(n.code===this.opts.viewModeHotKey){const u=new Date().getTime();u-this.lastCalled>this.opts.keyDebounceTime&&(this.setSliceType((this.opts.sliceType+1)%5),this.lastCalled=u)}}keyDownListener(n){n.code==="KeyH"&&this.opts.sliceType===4?this.setRenderAzimuthElevation(this.scene.renderAzimuth-1,this.scene.renderElevation):n.code==="KeyL"&&this.opts.sliceType===4?this.setRenderAzimuthElevation(this.scene.renderAzimuth+1,this.scene.renderElevation):n.code==="KeyJ"&&this.opts.sliceType===4?this.setRenderAzimuthElevation(this.scene.renderAzimuth,this.scene.renderElevation+1):n.code==="KeyK"&&this.opts.sliceType===4?this.setRenderAzimuthElevation(this.scene.renderAzimuth,this.scene.renderElevation-1):n.code==="KeyH"&&this.opts.sliceType!==4?this.moveCrosshairInVox(-1,0,0):n.code==="KeyL"&&this.opts.sliceType!==4?this.moveCrosshairInVox(1,0,0):n.code==="KeyU"&&this.opts.sliceType!==4&&n.ctrlKey?this.moveCrosshairInVox(0,0,1):n.code==="KeyD"&&this.opts.sliceType!==4&&n.ctrlKey?this.moveCrosshairInVox(0,0,-1):n.code==="KeyJ"&&this.opts.sliceType!==4?this.moveCrosshairInVox(0,-1,0):n.code==="KeyK"&&this.opts.sliceType!==4?this.moveCrosshairInVox(0,1,0):n.code==="KeyM"&&this.opts.sliceType!==4?(this.opts.dragMode++,this.opts.dragMode>=4&&(this.opts.dragMode=0),log$1.info("drag mode changed to ",DRAG_MODE[this.opts.dragMode])):n.code==="ArrowLeft"?this.setFrame4D(this.volumes[0].id,this.volumes[0].frame4D-1):n.code==="ArrowRight"?this.setFrame4D(this.volumes[0].id,this.volumes[0].frame4D+1):n.code==="Slash"&&n.shiftKey&&alert(`NIIVUE VERSION: ${version$1}`)}wheelListener(n){if(n.preventDefault(),n.stopPropagation(),this.thumbnailVisible)return;const u=this.canvas.getBoundingClientRect();n.deltaY<0?this.sliceScroll2D(-.01,n.clientX-u.left,n.clientY-u.top):this.sliceScroll2D(.01,n.clientX-u.left,n.clientY-u.top)}registerInteractions(){if(!this.canvas)throw new Error("canvas undefined");this.canvas.addEventListener("mousedown",this.mouseDownListener.bind(this)),this.canvas.addEventListener("mouseup",this.mouseUpListener.bind(this)),this.canvas.addEventListener("mousemove",this.mouseMoveListener.bind(this)),this.canvas.addEventListener("touchstart",this.touchStartListener.bind(this)),this.canvas.addEventListener("touchend",this.touchEndListener.bind(this)),this.canvas.addEventListener("touchmove",this.touchMoveListener.bind(this)),this.canvas.addEventListener("wheel",this.wheelListener.bind(this)),this.canvas.addEventListener("contextmenu",this.mouseContextMenuListener.bind(this)),this.canvas.addEventListener("dblclick",this.resetBriCon.bind(this)),this.canvas.addEventListener("dragenter",this.dragEnterListener.bind(this),!1),this.canvas.addEventListener("dragover",this.dragOverListener.bind(this),!1),this.canvas.addEventListener("drop",this.dropListener.bind(this),!1),this.canvas.setAttribute("tabindex","0"),this.canvas.addEventListener("keyup",this.keyUpListener.bind(this),!1),this.canvas.addEventListener("keydown",this.keyDownListener.bind(this),!1)}dragEnterListener(n){n.stopPropagation(),n.preventDefault()}dragOverListener(n){n.stopPropagation(),n.preventDefault()}getFileExt(n,u=!0){log$1.debug("fullname: ",n);const p=/(?:\.([^.]+))?$/;let v=p.exec(n)[1];return v=v.toUpperCase(),v==="GZ"&&(v=p.exec(n.slice(0,-3))[1],v=v.toUpperCase()),u?v:v.toLowerCase()}async addVolumeFromUrl(n){const u=await NVImage.loadFromUrl(n);return this.document.addImageOptions(u,n),u.onColormapChange=this.onColormapChange,this.mediaUrlMap.set(u,n.url),this.onVolumeAddedFromUrl&&this.onVolumeAddedFromUrl(n,u),this.addVolume(u),u}getMediaByUrl(n){return[...this.mediaUrlMap.entries()].filter(u=>u[1]===n).map(u=>u[0]).pop()}removeVolumeByUrl(n){const u=this.getMediaByUrl(n);if(u)this.removeVolume(u);else throw new Error("No volume with URL present")}readDirectory(n){const u=n.createReader();let p=[];const v=async g=>{const _=[],C=async E=>new Promise((w,m)=>E.file(w,m));for(let E=0;E<g.length;E++)_.push(await C(g[E]));return _},d=()=>{u.readEntries(g=>{g.length?(p=p.concat(g),d()):v(p).then(_=>{NVImage.loadFromFile({file:_,name:n.name,urlImgData:null,imageType:NVIMAGE_TYPE.DCM_FOLDER}).then(C=>this.addVolume(C)).catch(C=>{throw C})}).catch(_=>{throw _})})};return d(),p}isMeshExt(n){const u=this.getFileExt(n);return log$1.debug("dropped ext"),log$1.debug(u),MESH_EXTENSIONS.includes(u)}async loadFromArrayBuffer(n,u){const p=this.getFileExt(u);if(MESH_EXTENSIONS.includes(p)){await this.addMeshFromUrl({url:u,buffer:n});return}const v=NVImageFromUrlOptions(u);v.buffer=n,v.name=u,await this.addVolumeFromUrl(v)}async loadFromFile(n){const u=this.getFileExt(n.name);if(MESH_EXTENSIONS.includes(u)){await NVMesh2.loadFromFile({file:n,gl:this.gl,name:n.name}).then(p=>{this.addMesh(p)});return}await NVImage.loadFromFile({file:n,name:n.name}).then(p=>{this.addVolume(p)})}dropListener(n){if(n.stopPropagation(),n.preventDefault(),!this.opts.dragAndDropEnabled)return;const u=n.dataTransfer;if(!u)return;const p=u.getData("text/uri-list");if(p){const v=NVImageFromUrlOptions(p),d=this.getFileExt(p);log$1.debug("dropped ext"),log$1.debug(d),MESH_EXTENSIONS.includes(d)?this.addMeshFromUrl({url:p}).catch(g=>{throw g}):d==="NVD"?this.loadDocumentFromUrl(p).catch(g=>{throw g}):this.addVolumeFromUrl(v).catch(g=>{throw g})}else{const v=u.items;if(v.length>0){!n.shiftKey&&!n.altKey&&(this.volumes=[],this.overlays=[],this.meshes=[]),this.closeDrawing();for(const d of Array.from(v)){const g=d.webkitGetAsEntry();if(log$1.debug(g),!g)throw new Error("could not get entry from file");if(g.isFile){const _=this.getFileExt(g.name);if(_==="PNG"){g.file(E=>{this.loadBmpTexture(E).catch(w=>{throw w})});continue}let C;if(g.name.lastIndexOf("HEAD")!==-1)for(const E of Array.from(v)){const w=E.webkitGetAsEntry();if(!w)throw new Error("could not get paired entry");const m=g.name.substring(0,g.name.lastIndexOf("HEAD")),y=w.name.substring(0,w.name.lastIndexOf("BRIK"));m===y&&(C=w)}if(g.name.lastIndexOf("BRIK")!==-1)continue;if(MESH_EXTENSIONS.includes(_)){g.file(E=>{NVMesh2.loadFromFile({file:E,gl:this.gl,name:E.name}).then(w=>{this.addMesh(w)}).catch(w=>{throw w})});continue}else if(_==="NVD"){g.file(E=>{NVDocument.loadFromFile(E).then(w=>{this.loadDocument(w),log$1.debug("loaded document")}).catch(w=>{throw w})});break}g.file(E=>{C?C.file(w=>{NVImage.loadFromFile({file:E,urlImgData:w,limitFrames4D:this.opts.limitFrames4D}).then(m=>{this.addVolume(m)}).catch(m=>{throw m})}):NVImage.loadFromFile({file:E,urlImgData:C,limitFrames4D:this.opts.limitFrames4D}).then(w=>{n.altKey?(log$1.debug("alt key detected: assuming this is a drawing overlay"),this.drawClearAllUndoBitmaps(),this.loadDrawing(w)):this.addVolume(w)}).catch(w=>{throw w})})}else g.isDirectory&&this.readDirectory(g)}}}this.drawScene()}setMultiplanarPadPixels(n){this.opts.multiplanarPadPixels=n,this.drawScene()}setMultiplanarLayout(n){typeof n=="string"&&(n=parseInt(n)),this.opts.multiplanarLayout=n,this.drawScene()}setCornerOrientationText(n){this.opts.isCornerOrientationText=n,this.updateGLVolume()}setRadiologicalConvention(n){this.opts.isRadiologicalConvention=n,this.updateGLVolume()}setDefaults(n={},u=!1){this.document.opts={...DEFAULT_OPTIONS},this.scene.sceneData={...INITIAL_SCENE_DATA};for(const p in n)typeof n[p]=="function"?this[p]=n[p]:this.opts[p]=DEFAULT_OPTIONS[p]===void 0?DEFAULT_OPTIONS[p]:n[p];if(this.scene.pan2Dxyzmm=[0,0,0,1],u&&this.volumes&&this.volumes.length>0)for(let p=0;p<this.volumes.length;p++)this.volumes[p].cal_min=this.volumes[p].robust_min,this.volumes[p].cal_max=this.volumes[p].robust_max;this.updateGLVolume()}setMeshThicknessOn2D(n){this.opts.meshThicknessOn2D=n,this.updateGLVolume()}setSliceMosaicString(n){this.sliceMosaicString=n,this.updateGLVolume()}setSliceMM(n){this.opts.isSliceMM=n,this.updateGLVolume()}setAdditiveBlend(n){this.opts.isAdditiveBlend=n,this.updateGLVolume()}getRadiologicalConvention(){return this.opts.isRadiologicalConvention}setHighResolutionCapable(n){this.opts.isHighResolutionCapable=n,n&&!this.opts.isResizeCanvas&&(log$1.warn("isHighResolutionCapable requires isResizeCanvas"),this.opts.isHighResolutionCapable=!1),this.opts.isHighResolutionCapable||(this.uiData.dpr=1),this.resizeListener(),this.drawScene()}addVolume(n){this.volumes.push(n);const u=this.volumes.length===1?0:this.volumes.length-1;this.setVolume(n,u),this.onImageLoaded(n),log$1.debug("loaded volume",n.name),log$1.debug(n)}addMesh(n){this.meshes.push(n);const u=this.meshes.length===1?0:this.meshes.length-1;this.setMesh(n,u),this.onMeshLoaded(n)}getVolumeIndexByID(n){const u=this.volumes.length;for(let p=0;p<u;p++)if(this.volumes[p].id===n)return p;return-1}drawAddUndoBitmap(){if(!this.drawBitmap||this.drawBitmap.length<1){log$1.debug("drawAddUndoBitmap error: No drawing open");return}this.currentDrawUndoBitmap++,this.currentDrawUndoBitmap>=this.opts.maxDrawUndoBitmaps&&(this.currentDrawUndoBitmap=0),this.drawUndoBitmaps[this.currentDrawUndoBitmap]=encodeRLE(this.drawBitmap)}drawClearAllUndoBitmaps(){if(this.currentDrawUndoBitmap=this.opts.maxDrawUndoBitmaps,!(!this.drawUndoBitmaps||this.drawUndoBitmaps.length<1))for(let n=this.drawUndoBitmaps.length-1;n>=0;n--)this.drawUndoBitmaps[n]=new Uint8Array}drawUndo(){if(this.drawUndoBitmaps.length<1){log$1.debug("undo bitmaps not loaded");return}if(this.currentDrawUndoBitmap--,this.currentDrawUndoBitmap<0&&(this.currentDrawUndoBitmap=this.drawUndoBitmaps.length-1),this.currentDrawUndoBitmap>=this.drawUndoBitmaps.length&&(this.currentDrawUndoBitmap=0),this.drawUndoBitmaps[this.currentDrawUndoBitmap].length<2){log$1.debug("drawUndo is misbehaving");return}this.drawBitmap=decodeRLE(this.drawUndoBitmaps[this.currentDrawUndoBitmap],this.drawBitmap.length),this.refreshDrawing(!0)}loadDrawing(n){if(this.drawBitmap&&log$1.debug("Overwriting open drawing!"),!this.back)throw new Error("back undefined");this.drawClearAllUndoBitmaps();const u=n.hdr.dims;if(u[1]!==this.back.hdr.dims[1]||u[2]!==this.back.hdr.dims[2]||u[3]!==this.back.hdr.dims[3])return log$1.debug("drawing dimensions do not match background image"),!1;n.img.constructor!==Uint8Array&&log$1.debug("Drawings should be UINT8");const p=n.permRAS,v=u[1]*u[2]*u[3];this.drawBitmap=new Uint8Array(v),this.drawTexture=this.r8Tex(this.drawTexture,TEXTURE7_DRAW,this.back.dims,!0);const d=[0,0,0];for(let O=0;O<3;O++)for(let U=0;U<3;U++)Math.abs(p[O])-1===U&&(d[U]=O*Math.sign(p[O]));let g=1;const _=[1,1,1],C=[!1,!1,!1];for(let O=0;O<d.length;O++)for(let U=0;U<d.length;U++)Math.abs(d[U])===O&&(_[U]=g,(d[U]<0||Object.is(d[U],-0))&&(C[U]=!0),g*=u[U+1]);let E=NVUtilities.range(0,u[1]-1,1);C[0]&&(E=NVUtilities.range(u[1]-1,0,-1));for(let O=0;O<u[1];O++)E[O]*=_[0];let w=NVUtilities.range(0,u[2]-1,1);C[1]&&(w=NVUtilities.range(u[2]-1,0,-1));for(let O=0;O<u[2];O++)w[O]*=_[1];let m=NVUtilities.range(0,u[3]-1,1);C[2]&&(m=NVUtilities.range(u[3]-1,0,-1));for(let O=0;O<u[3];O++)m[O]*=_[2];const y=n.img,e=this.drawBitmap;let P=0;for(let O=0;O<u[3];O++)for(let U=0;U<u[2];U++)for(let W=0;W<u[1];W++)e[E[W]+w[U]+m[O]]=y[P],P++;return this.drawAddUndoBitmap(),this.refreshDrawing(!1),this.drawScene(),!0}binarize(n){const u=n.hdr.dims,p=u[1]*u[2]*u[3],v=new Uint8Array(p);for(let d=0;d<p;d++)n.img[d]!==0&&(v[d]=1);n.img=v,n.hdr.datatypeCode=2,n.hdr.cal_min=0,n.hdr.cal_max=1}async loadDrawingFromUrl(n,u=!1){this.drawBitmap&&log$1.debug("Overwriting open drawing!"),this.drawClearAllUndoBitmaps();let p=!1;try{const v=await NVImage.loadFromUrl(NVImageFromUrlOptions(n));u&&await this.binarize(v),p=this.loadDrawing(v)}catch{log$1.error("loadDrawingFromUrl() failed to load "+n),this.drawClearAllUndoBitmaps()}return p}findOtsu(n=2){if(this.volumes.length<1)return[];const u=this.volumes[0].img,p=u.length;if(p<1)return[];const v=256,d=v-1,g=new Array(v).fill(0),_=this.volumes[0].cal_min,C=this.volumes[0].cal_max;if(C<=_)return[];const E=(C-_)/v;function w(V){return V*E+_}const m=(v-1)/Math.abs(C-_),y=this.volumes[0].hdr.scl_inter,e=this.volumes[0].hdr.scl_slope;for(let V=0;V<p;V++){let $=u[V]*e+y;$=Math.min(Math.max($,_),C),$=Math.round(($-_)*m),g[$]++}const P=Array(v).fill(0).map(()=>Array(v).fill(0)),O=Array(v).fill(0).map(()=>Array(v).fill(0));for(let V=1;V<v;++V)P[V][V]=g[V],O[V][V]=V*g[V];for(let V=1;V<v-1;++V)P[1][V+1]=P[1][V]+g[V+1],O[1][V+1]=O[1][V]+(V+1)*g[V+1];for(let V=2;V<v;V++)for(let $=V+1;$<v;$++)P[V][$]=P[1][$]-P[1][V-1],O[V][$]=O[1][$]-O[1][V-1];for(let V=1;V<v;++V)for(let $=V+1;$<v;$++)P[V][$]!==0&&(P[V][$]=O[V][$]*O[V][$]/P[V][$]);let U=0;const W=[1/0,1/0,1/0];if(n>3)for(let V=0;V<v-3;V++)for(let $=V+1;$<v-2;$++)for(let b=$+1;b<v-1;b++){const H=P[0][V]+P[V+1][$]+P[$+1][b]+P[b+1][d];H>U&&(W[0]=V,W[1]=$,W[2]=b,U=H)}else if(n===3)for(let V=0;V<v-2;V++)for(let $=V+1;$<v-1;$++){const b=P[0][V]+P[V+1][$]+P[$+1][d];b>U&&(W[0]=V,W[1]=$,U=b)}else for(let V=0;V<v-1;V++){const $=P[0][V]+P[V+1][d];$>U&&(W[0]=V,U=$)}return[w(W[0]),w(W[1]),w(W[2])]}drawOtsu(n=2){if(this.volumes.length===0)return;const u=this.volumes[0].img.length,p=this.findOtsu(n);if(p.length<3)return;this.drawBitmap||this.createEmptyDrawing();const v=this.drawBitmap,d=this.volumes[0].img;for(let g=0;g<u;g++){if(v[g]!==0)continue;const _=d[g];_>p[0]&&(v[g]=1),_>p[1]&&(v[g]=2),_>p[2]&&(v[g]=3)}this.drawAddUndoBitmap(),this.refreshDrawing(!0)}removeHaze(n=5,u=0){const p=this.volumes[u].img,v=this.volumes[u].hdr,d=p.length;let g=2;(n===5||n===1)&&(g=4),(n===4||n===2)&&(g=3);const _=this.findOtsu(g);if(_.length<3)return;let C=_[0];n===1&&(C=_[2]),n===2&&(C=_[1]);const E=v.scl_inter,w=v.scl_slope,m=this.volumes[u].global_min;for(let y=0;y<d;y++)p[y]*w+E<C&&(p[y]=m);this.refreshLayers(this.volumes[u],0),this.drawScene()}saveImage(n=defaultSaveImageOptions){var _;const u={...defaultSaveImageOptions,...n},{filename:p,isSaveDrawing:v,volumeByIndex:d}=u;if(log$1.debug("saveImage",p,v,d),((_=this.back)==null?void 0:_.dims)===void 0)return log$1.debug("No voxelwise image open"),!1;if(v){if(!this.drawBitmap)return log$1.debug("No drawing open"),!1;const C=this.volumes[0].permRAS;if(C[0]===1&&C[1]===2&&C[2]===3)return log$1.debug("saving drawing"),this.volumes[0].saveToDisk(p,this.drawBitmap);{log$1.debug("saving drawing");const E=this.volumes[0].hdr.dims,w=[0,0,0];for(let H=0;H<3;H++)for(let G=0;G<3;G++)Math.abs(C[H])-1===G&&(w[G]=H*Math.sign(C[H]));let m=1;const y=[1,1,1],e=[!1,!1,!1];for(let H=0;H<w.length;H++)for(let G=0;G<w.length;G++)Math.abs(w[G])===H&&(y[G]=m,(w[G]<0||Object.is(w[G],-0))&&(e[G]=!0),m*=E[G+1]);let P=NVUtilities.range(0,E[1]-1,1);e[0]&&(P=NVUtilities.range(E[1]-1,0,-1));for(let H=0;H<E[1];H++)P[H]*=y[0];let O=NVUtilities.range(0,E[2]-1,1);e[1]&&(O=NVUtilities.range(E[2]-1,0,-1));for(let H=0;H<E[2];H++)O[H]*=y[1];let U=NVUtilities.range(0,E[3]-1,1);e[2]&&(U=NVUtilities.range(E[3]-1,0,-1));for(let H=0;H<E[3];H++)U[H]*=y[2];const W=new Uint8Array(this.drawBitmap),V=new Uint8Array(E[1]*E[2]*E[3]);let $=0;for(let H=0;H<E[3];H++)for(let G=0;G<E[2];G++)for(let Y=0;Y<E[1];Y++)V[$]=W[P[Y]+O[G]+U[H]],$++;return log$1.debug("saving drawing"),this.volumes[0].saveToDisk(p,V)}}return log$1.debug("saving image"),this.volumes[d].saveToDisk(p)}getMeshIndexByID(n){if(typeof n=="number")return n>=this.meshes.length?-1:n;const u=this.meshes.length;for(let p=0;p<u;p++)if(this.meshes[p].id===n)return p;return-1}setMeshProperty(n,u,p){const v=this.getMeshIndexByID(n);if(v<0){log$1.warn("setMeshProperty() id not loaded",n);return}this.meshes[v].setProperty(u,p,this.gl),this.updateGLVolume(),this.onMeshPropertyChanged(v,u,p)}indexNearestXYZmm(n,u,p,v){const d=this.getMeshIndexByID(n);return d<0?(log$1.warn("indexNearestXYZmm() id not loaded",n),[NaN,NaN]):this.meshes[d].indexNearestXYZmm(u,p,v)}reverseFaces(n){const u=this.getMeshIndexByID(n);if(u<0){log$1.warn("reverseFaces() id not loaded",n);return}this.meshes[u].reverseFaces(this.gl),this.updateGLVolume()}setMeshLayerProperty(n,u,p,v){const d=this.getMeshIndexByID(n);if(d<0){log$1.warn("setMeshLayerProperty() id not loaded",n);return}this.meshes[d].setLayerProperty(u,p,v,this.gl),this.updateGLVolume()}setPan2Dxyzmm(n){this.scene.pan2Dxyzmm=n,this.opts.yoke3Dto2DZoom&&(this.scene.volScaleMultiplier=n[3]),this.drawScene()}setRenderAzimuthElevation(n,u){this.scene.renderAzimuth=n,this.scene.renderElevation=u,this.onAzimuthElevationChange(n,u),this.drawScene()}getOverlayIndexByID(n){const u=this.overlays.length;for(let p=0;p<u;p++)if(this.overlays[p].id===n)return p;return-1}setVolume(n,u=0){const p=this.volumes.length;if(u>p)return;const v=this.getVolumeIndexByID(n.id);u===0?(this.volumes.splice(v,1),this.volumes.unshift(n),this.back=this.volumes[0],this.overlays=this.volumes.slice(1)):u<0?(this.volumes.splice(this.getVolumeIndexByID(n.id),1),this.back=this.volumes[0],this.volumes.length>1?this.overlays=this.volumes.slice(1):this.overlays=[]):(this.volumes.splice(v,1),this.volumes.splice(u,0,n),this.overlays=this.volumes.slice(1),this.back=this.volumes[0]),this.updateGLVolume()}setMesh(n,u=0){this.meshes.forEach(d=>{log$1.debug("MESH: ",d.name)});const p=this.meshes.length;if(u>p)return;const v=this.getMeshIndexByID(n.id);u===0?(this.meshes.splice(v,1),this.meshes.unshift(n)):u<0?this.meshes.splice(this.getMeshIndexByID(n.id),1):(this.meshes.splice(v,1),this.meshes.splice(u,0,n)),this.updateGLVolume(),this.meshes.forEach(d=>{log$1.debug(d.name)})}removeVolume(n){if(this.setVolume(n,-1),this.mediaUrlMap.has(n)){const u=this.mediaUrlMap.get(n);this.onVolumeWithUrlRemoved(u),this.mediaUrlMap.delete(n)}this.drawScene()}removeVolumeByIndex(n){if(n>=this.volumes.length)throw new Error("Index of volume out of bounds");this.removeVolume(this.volumes[n])}removeMesh(n){if(this.setMesh(n,-1),this.mediaUrlMap.has(n)){const u=this.mediaUrlMap.get(n);this.onMeshWithUrlRemoved(u),this.mediaUrlMap.delete(n)}}removeMeshByUrl(n){const u=this.getMediaByUrl(n);u&&(this.removeMesh(u),this.mediaUrlMap.delete(u),this.onMeshWithUrlRemoved(n))}moveVolumeToBottom(n){this.setVolume(n,0)}moveVolumeUp(n){const u=this.getVolumeIndexByID(n.id);this.setVolume(n,u+1)}moveVolumeDown(n){const u=this.getVolumeIndexByID(n.id);this.setVolume(n,u-1)}moveVolumeToTop(n){this.setVolume(n,this.volumes.length-1)}mouseDown(n,u){n*=this.uiData.dpr,u*=this.uiData.dpr,this.mousePos=[n,u]}mouseMove(n,u){n*=this.uiData.dpr,u*=this.uiData.dpr;const p=(n-this.mousePos[0])/this.uiData.dpr,v=(u-this.mousePos[1])/this.uiData.dpr;this.mousePos=[n,u],!(this.inRenderTile(n,u)<0)&&(Math.abs(p)<1&&Math.abs(v)<1||(this.scene.renderAzimuth+=p,this.scene.renderElevation+=v,this.drawScene()))}sph2cartDeg(n,u){const p=-u*(Math.PI/180),v=(n-90)%360*(Math.PI/180),d=[Math.cos(p)*Math.cos(v),Math.cos(p)*Math.sin(v),Math.sin(p)],g=Math.sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);return g<=0||(d[0]/=g,d[1]/=g,d[2]/=g),d}setClipPlane(n){const u=this.sph2cartDeg(n[1]+180,n[2]);this.scene.clipPlane=[u[0],u[1],u[2],n[0]],this.scene.clipPlaneDepthAziElev=n,this.onClipPlaneChange(this.scene.clipPlane),this.drawScene()}setCrosshairColor(n){this.opts.crosshairColor=n,this.drawScene()}setCrosshairWidth(n){this.opts.crosshairWidth=n,this.crosshairs3D&&(this.crosshairs3D.mm[0]=NaN),this.drawScene()}setDrawColormap(n){this.drawLut=cmapper.makeDrawLut(n),this.updateGLVolume()}setDrawingEnabled(n){this.opts.drawingEnabled=n,this.opts.drawingEnabled&&(this.drawBitmap||this.createEmptyDrawing()),this.drawScene()}setPenValue(n,u=!1){this.opts.penValue=n,this.opts.isFilledPen=u,this.drawScene()}setDrawOpacity(n){this.drawOpacity=n,this.drawScene()}setSelectionBoxColor(n){this.opts.selectionBoxColor=n}sliceScroll2D(n,u,p,v=!0){if(this.inGraphTile(u,p)){let d=this.volumes[0].frame4D;n>0&&d++,n<0&&d--,this.setFrame4D(this.volumes[0].id,d);return}if(n!==0&&this.opts.dragMode===3&&this.inRenderTile(this.uiData.dpr*u,this.uiData.dpr*p)===-1){let d=this.scene.pan2Dxyzmm[3]*(1+10*n);d=Math.round(d*10)/10;const g=this.scene.pan2Dxyzmm[3]-d;this.opts.yoke3Dto2DZoom&&(this.scene.volScaleMultiplier=d),this.scene.pan2Dxyzmm[3]=d;const _=this.frac2mm(this.scene.crosshairPos);this.scene.pan2Dxyzmm[0]+=g*_[0],this.scene.pan2Dxyzmm[1]+=g*_[1],this.scene.pan2Dxyzmm[2]+=g*_[2],this.drawScene();return}this.mouseClick(u,p,n,v)}setSliceType(n){return this.opts.sliceType=n,this.drawScene(),this}setOpacity(n,u){if(this.volumes[n].opacity=u,n===0){this.drawScene();return}this.updateGLVolume()}setScale(n){this.scene.volScaleMultiplier=n,this.drawScene()}setClipPlaneColor(n){this.opts.clipPlaneColor=n,this.renderShader.use(this.gl),this.gl.uniform4fv(this.renderShader.uniforms.clipPlaneColor,this.opts.clipPlaneColor),this.drawScene()}async setVolumeRenderIllumination(n=0){this.renderShader=this.renderVolumeShader,n>0&&(this.renderShader=this.renderGradientShader),n<0&&(this.renderShader=this.renderSliceShader),this.initRenderShader(this.renderShader,n),this.renderShader.use(this.gl),this.setClipPlaneColor(this.opts.clipPlaneColor),this.gradientTextureAmount=n,this.refreshLayers(this.volumes[0],0),this.drawScene()}overlayRGBA(n){const u=n.hdr,p=u.dims[1]*u.dims[2]*u.dims[3],v=new Uint8ClampedArray(p*4),d=.2*Math.min(Math.min(u.dims[1],u.dims[2]),u.dims[3]),g=.5*u.dims[1],_=.5*u.dims[2],C=.5*u.dims[3];let E=0;for(let w=0;w<u.dims[3];w++)for(let m=0;m<u.dims[2];m++)for(let y=0;y<u.dims[1];y++){const e=Math.abs(y-g),P=Math.abs(m-_),O=Math.abs(w-C),U=Math.sqrt(e*e+P*P+O*O);let W=0;U<d&&(W=255),v[E++]=0,v[E++]=W,v[E++]=0,v[E++]=W*.5}return v}vox2mm(n,u){return NVUtilities.vox2mm(n,u)}cloneVolume(n){return this.volumes[n].clone()}async loadDocumentFromUrl(n){const u=await NVDocument.loadFromUrl(n);this.loadDocument(u)}loadDocument(n){this.volumes=[],this.meshes=[],this.document=n,this.document.labels=this.document.labels?this.document.labels:[];const u={...DEFAULT_OPTIONS,...n.opts};this.scene.pan2Dxyzmm=n.scene.pan2Dxyzmm?n.scene.pan2Dxyzmm:[0,0,0,1],this.document.opts=u,this.setClipPlane(this.scene.clipPlaneDepthAziElev),log$1.debug("load document",n),this.mediaUrlMap.clear(),this.createEmptyDrawing();const p=n.encodedImageBlobs;for(let d=0;d<n.imageOptionsArray.length;d++){const g=n.imageOptionsArray[d],_=p[d];if(_){"colorMap"in g&&(g.colormap=g.colorMap);const C=NVImage.loadFromBase64({base64:_,...g});if(C){if(C.colormapLabel){const E=Object.keys(C.colormapLabel.lut).length,w=new Uint8ClampedArray(E);for(const m in C.colormapLabel.lut)w[m]=C.colormapLabel.lut[m];C.colormapLabel.lut=w}this.addVolume(C)}}}this.volumes.length>0&&(this.back=this.volumes[0]);const v=n.encodedDrawingBlob;if(v){const d=n.imageOptionsArray[0],g=NVImage.loadFromBase64({base64:v,...d});g&&this.loadDrawing(g)}for(const d of n.meshDataObjects??[]){const g={gl:this.gl,...d};log$1.debug(g);const _=new NVMesh2(g.pts,g.tris,g.name,g.rgba255,g.opacity,g.visible,this.gl,g.connectome,g.dpg,g.dps,g.dpv);_.meshShaderIndex=g.meshShaderIndex,_.layers=g.layers,_.updateMesh(this.gl),log$1.debug(_),this.addMesh(_)}if(n.data.connectomes)for(const d of n.data.connectomes){const g=JSON.parse(d),_=this.loadConnectomeAsMesh(g);_.updateMesh(this.gl),this.addMesh(_)}return this.updateGLVolume(),this.drawScene(),this.onDocumentLoaded(n),this}generateLoadDocumentJavaScript(n,u){const p=this.json(),v=NVUtilities.compressToBase64String(JSON.stringify(p));return`
        ${u}
        
        function saveNiivueAsHtml(pageName) {    
          //get new docstring
          const docString = nv1.json();
          const html = 
          document.getElementsByTagName("html")[0]
              .innerHTML.replace(base64, NVUtilities.compressToBase64String(JSON.stringify(docString)));
          NVUtilities.download(html, pageName, "application/html");
        }
        
        var nv1 = new Niivue();
        nv1.attachTo("${n}");  
        var base64 = "${v}";
        var jsonText = NVUtilities.decompressBase64String(base64);
        var json = JSON.parse(jsonText); // string -> JSON
        var doc = NVDocument.loadFromJSON(json);                
        nv1.loadDocument(doc);
        nv1.updateGLVolume();
      `}generateHTML(n="gl1",u){return`<!DOCTYPE html>
        <html lang="en">
          <head>
            <meta charset="utf-8" />
            <meta http-equiv="X-UA-Compatible" content="IE=edge" />
            <meta name="viewport" content="width=device-width,initial-scale=1.0" />
            <title>Save as HTML</title>
            <style>
            html {
              height: auto;
              min-height: 100%;
              margin: 0;
            }
            body {
              display: flex;
              flex-direction: column;
              margin: 0;
              min-height: 100%;
              width: 100%;
              position: absolute;
              font-family: system-ui, Arial, Helvetica, sans-serif;
              background: #ffffff;
              color: black;
              user-select: none; /* Standard syntax */
            }
            header {
              margin: 10px;
            }
            main {
              flex: 1;
              background: #000000;
              position: relative;
            }
            footer {
              margin: 10px;
            }
            canvas {
              position: absolute;
              cursor: crosshair;
            }
            canvas:focus {
              outline: 0px;
            }
            div {
              display: table-row;
              background-color: blue;
            }
            </style>
          </head>
          <body>
            <noscript>niivue requires JavaScript.</noscript>
            <header>
            Save the current scene as HTML
            <button id="save">Save as HTML</button>
            </header>
            <main>
              <canvas id="gl1"></canvas>
            </main>
            <script type="module" async>        
              ${this.generateLoadDocumentJavaScript(n,u)}
              function saveAsHtml() {
                saveNiivueAsHtml("page.html");
              }        
              // assign our event handler
              var button = document.getElementById("save");
              button.onclick = saveAsHtml;      
            <\/script>
          </body>
        </html>`}saveHTML(n="untitled.html",u="gl1",p){const v=this.generateHTML(u,p);NVUtilities.download(v,n,"application/html")}json(){return this.document.opts=this.opts,this.document.scene=this.scene,this.document.volumes=this.volumes,this.document.meshes=this.meshes,this.drawScene(),this.document.previewImageDataURL=this.canvas.toDataURL(),this.document.json()}async saveDocument(n="untitled.nvd"){this.document.title=n,log$1.debug("saveDocument",this.volumes[0]),this.drawScene(),this.document.previewImageDataURL=this.canvas.toDataURL(),this.document.volumes=this.volumes,this.document.meshes=this.meshes,this.document.download(n)}async loadVolumes(n){if(this.loadingText="loading...",this.drawScene(),this.thumbnailVisible)return this.deferredVolumes=n,this;this.volumes=[],this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT);for(let u=0;u<n.length;u++){n[u].colorMap!==void 0&&(n[u].colormap=n[u].colorMap);const p={url:n[u].url,headers:n[u].headers,name:n[u].name,colormap:n[u].colormap,colormapNegative:n[u].colormapNegative,opacity:n[u].opacity,urlImgData:n[u].urlImgData,cal_min:n[u].cal_min,cal_max:n[u].cal_max,trustCalMinMax:this.opts.trustCalMinMax,isManifest:n[u].isManifest,frame4D:n[u].frame4D,limitFrames4D:n[u].limitFrames4D||this.opts.limitFrames4D,colorbarVisible:n[u].colorbarVisible};await this.addVolumeFromUrl(p)}return this}async addMeshFromUrl(n){const u=this.getFileExt(n.url);if(u==="JCON"||u==="JSON"){const d=await(await fetch(n.url,{})).json(),g=this.loadConnectomeAsMesh(d);return this.mediaUrlMap.set(g,n.url),this.onMeshAddedFromUrl(n,g),this.addMesh(g),g}const p=await NVMesh2.loadFromUrl({...n,gl:this.gl});return this.mediaUrlMap.set(p,n.url),this.onMeshAddedFromUrl(n,p),this.addMesh(p),p}async loadMeshes(n){if(this.loadingText="loading...",this.drawScene(),this.thumbnailVisible)return this.deferredMeshes=n,this;this.initialized,this.meshes=[],this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT);for(let u=0;u<n.length;u++)await this.addMeshFromUrl(n[u]);return this.updateGLVolume(),this.drawScene(),this}async loadConnectomeFromUrl(n,u={}){const v=await(await fetch(n,{headers:u})).json();return this.loadConnectome(v)}async loadFreeSurferConnectomeFromUrl(n,u={}){const v=await(await fetch(n,{headers:u})).json();return this.loadFreeSurferConnectome(v)}async loadFreeSurferConnectome(n){const u=NVConnectome.convertFreeSurferConnectome(n);return this.loadConnectome(u)}handleNodeAdded(n){const u=n.detail.node,p=[1,1,1,1];this.addLabel(u.name,{textColor:p,bulletScale:1,bulletColor:p,lineWidth:0,lineColor:p,lineTerminator:"none",textScale:1},[u.x,u.y,u.z]),this.drawScene()}loadConnectomeAsMesh(n){let u=n;if("data_type"in n&&n.data_type==="fs_pointset")u=NVConnectome.convertFreeSurferConnectome(n),log$1.warn("converted FreeSurfer connectome",u);else if("nodes"in n){const p=n.nodes;"names"in p&&"X"in p&&"Y"in p&&"Z"in p&&"Color"in p&&"Size"in p&&(u=NVConnectome.convertLegacyConnectome(n),log$1.warn("converted legacy connectome",u))}else throw new Error("not a known connectome format");return new NVConnectome(this.gl,u)}loadConnectome(n){this.loadingText="loading...",this.drawScene(),this.meshes=[],this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT);const u=this.loadConnectomeAsMesh(n);return this.addMesh(u),this.drawScene(),this}createEmptyDrawing(){if(this.back===null||!this.back.dims||Math.min(Math.min(this.back.dims[1],this.back.dims[2]),this.back.dims[3])<1)return;const u=this.back.dims[1]*this.back.dims[2]*this.back.dims[3];this.drawBitmap=new Uint8Array(u),this.drawClearAllUndoBitmaps(),this.drawAddUndoBitmap(),this.drawTexture=this.r8Tex(this.drawTexture,TEXTURE7_DRAW,this.back.dims,!0),this.refreshDrawing(!1)}r16Tex(n,u,p,v){n&&this.gl.deleteTexture(n),n=this.gl.createTexture(),this.gl.activeTexture(u),this.gl.bindTexture(this.gl.TEXTURE_3D,n),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_R,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R16I,p[1],p[2],p[3]);const d=p[1]*p[2]*p[3];return v.length!==d&&(v=new Int16Array(d)),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,p[1],p[2],p[3],this.gl.RED_INTEGER,this.gl.SHORT,v),n}drawGrowCut(){if(!this.back||!this.back.dims)throw new Error("back not defined");const n=this.back.hdr,u=this.gl,p=n.dims[1]*n.dims[2]*n.dims[3];if(!this.drawBitmap||this.drawBitmap.length!==p){log$1.debug("bitmap dims are wrong");return}const v=u.createFramebuffer();u.bindFramebuffer(u.FRAMEBUFFER,v),u.disable(u.CULL_FACE),u.viewport(0,0,this.back.dims[1],this.back.dims[2]),u.disable(u.BLEND);let d=img2ras16(this.back);const g=this.r16Tex(null,TEXTURE11_GC_BACK,this.back.dims,d);for(let H=1;H<p;H++)d[H]=this.drawBitmap[H];const _=this.r16Tex(null,TEXTURE14_GC_LABEL0,this.back.dims,d),C=this.r16Tex(null,TEXTURE15_GC_LABEL1,this.back.dims,d),E=1e4;for(let H=1;H<p;H++)d[H]>0&&(d[H]=E);const w=this.r16Tex(null,TEXTURE12_GC_STRENGTH0,this.back.dims,d),m=this.r16Tex(null,TEXTURE13_GC_STRENGTH1,this.back.dims,d);u.bindVertexArray(this.genericVAO);const y=this.growCutShader;y.use(u);const e=128;u.uniform1i(y.uniforms.finalPass,0),u.uniform1i(y.uniforms.backTex,11);for(let H=0;H<e;H++){u.uniform1i(y.uniforms.labelTex,14),u.uniform1i(y.uniforms.strengthTex,12);for(let G=0;G<this.back.dims[3];G++){const Y=1/this.back.dims[3]*(G+.5);u.uniform1f(y.uniforms.coordZ,Y),u.framebufferTextureLayer(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,C,0,G),u.framebufferTextureLayer(u.FRAMEBUFFER,u.COLOR_ATTACHMENT1,m,0,G),u.drawBuffers([u.COLOR_ATTACHMENT0,u.COLOR_ATTACHMENT1]),u.checkFramebufferStatus(u.FRAMEBUFFER)!==u.FRAMEBUFFER_COMPLETE&&log$1.error("Incomplete framebuffer"),u.drawArrays(u.TRIANGLE_STRIP,0,4)}H===e-1&&u.uniform1i(y.uniforms.finalPass,1),u.uniform1i(y.uniforms.labelTex,15),u.uniform1i(y.uniforms.strengthTex,13);for(let G=0;G<this.back.dims[3];G++){const Y=1/this.back.dims[3]*(G+.5);u.uniform1f(y.uniforms.coordZ,Y),u.framebufferTextureLayer(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,_,0,G),u.framebufferTextureLayer(u.FRAMEBUFFER,u.COLOR_ATTACHMENT1,w,0,G),u.drawBuffers([u.COLOR_ATTACHMENT0,u.COLOR_ATTACHMENT1]),u.checkFramebufferStatus(u.FRAMEBUFFER)!==u.FRAMEBUFFER_COMPLETE&&log$1.error("Incomplete framebuffer"),u.drawArrays(u.TRIANGLE_STRIP,0,4)}}u.drawBuffers([u.COLOR_ATTACHMENT0]);const P=u.COLOR_ATTACHMENT1,O=_;u.readBuffer(P);const U=u.getParameter(u.IMPLEMENTATION_COLOR_READ_FORMAT),W=u.getParameter(u.IMPLEMENTATION_COLOR_READ_TYPE);(U!==u.RED_INTEGER||W!==u.SHORT)&&log$1.debug("readPixels will fail."),d=new Int16Array;const V=this.back.dims[1]*this.back.dims[2],$=new Int16Array(V);for(let H=0;H<this.back.dims[3];H++)u.framebufferTextureLayer(u.FRAMEBUFFER,P,O,0,H),u.readPixels(0,0,this.back.dims[1],this.back.dims[2],U,W,$),d=Int16Array.from([...d,...$]);let b=d[0];for(let H=0;H<d.length;H++)b=Math.max(b,d[H]);for(let H=1;H<p;H++)this.drawBitmap[H]=d[H];u.deleteTexture(g),u.deleteTexture(w),u.deleteTexture(m),u.deleteTexture(_),u.deleteTexture(C),u.bindVertexArray(this.unusedVAO),u.viewport(0,0,u.canvas.width,u.canvas.height),u.bindFramebuffer(u.FRAMEBUFFER,null),u.deleteFramebuffer(v),this.drawAddUndoBitmap(),this.refreshDrawing(!0)}drawPt(n,u,p,v){var C;if(!((C=this.back)!=null&&C.dims))throw new Error("back.dims not set");const d=this.back.dims[1],g=this.back.dims[2],_=this.back.dims[3];n=Math.min(Math.max(n,0),d-1),u=Math.min(Math.max(u,0),g-1),p=Math.min(Math.max(p,0),_-1),this.drawBitmap[n+u*d+p*d*g]=v}drawPenLine(n,u,p){const v=Math.abs(n[0]-u[0]),d=Math.abs(n[1]-u[1]),g=Math.abs(n[2]-u[2]);let _=-1,C=-1,E=-1;u[0]>n[0]&&(_=1),u[1]>n[1]&&(C=1),u[2]>n[2]&&(E=1);let w=n[0],m=n[1],y=n[2];const e=u[0],P=u[1],O=u[2];if(v>=d&&v>=g){let U=2*d-v,W=2*g-v;for(;w!==e;)w+=_,U>=0&&(m+=C,U-=2*v),W>=0&&(y+=E,W-=2*v),U+=2*d,W+=2*g,this.drawPt(w,m,y,p)}else if(d>=v&&d>=g){let U=2*v-d,W=2*g-d;for(;m!==P;)m+=C,U>=0&&(w+=_,U-=2*d),W>=0&&(y+=E,W-=2*d),U+=2*v,W+=2*g,this.drawPt(w,m,y,p)}else{let U=2*d-g,W=2*v-g;for(;y!==O;)y+=E,U>=0&&(m+=C,U-=2*g),W>=0&&(w+=_,W-=2*g),U+=2*d,W+=2*v,this.drawPt(w,m,y,p)}}drawFloodFillCore(n,u,p=6){var w;if(!((w=this.back)!=null&&w.dims))throw new Error("back.dims undefined");const v=[this.back.dims[1],this.back.dims[2],this.back.dims[3]],d=v[0],g=d*v[1];function _(m){return m[0]+m[1]*d+m[2]*g}function C(m){const y=Math.floor(m/g),e=Math.floor((m-y*g)/d);return[Math.floor(m%d),e,y]}const E=[];for(E.push(u),n[u]=2;E.length>0;){let m=function(P){const O=e.slice();if(O[0]+=P[0],O[1]+=P[1],O[2]+=P[2],O[0]<0||O[1]<0||O[2]<0||O[0]>=v[0]||O[1]>=v[1]||O[2]>=v[2])return;const U=_(O);n[U]===1&&(n[U]=2,E.push(U))};const y=E[0];E.shift();const e=C(y);m([0,0,-1]),m([0,0,1]),m([0,-1,0]),m([0,1,0]),m([-1,0,0]),m([1,0,0]),!(p<=6)&&(m([-1,-1,0]),m([1,1,0]),m([-1,1,0]),m([1,1,0]),m([0,-1,-1]),m([0,1,-1]),m([-1,0,-1]),m([1,0,-1]),m([0,-1,1]),m([0,1,1]),m([-1,0,1]),m([1,0,1]),!(p<=18)&&(m([-1,-1,-1]),m([1,-1,-1]),m([-1,1,-1]),m([1,1,-1]),m([-1,-1,1]),m([1,-1,1]),m([-1,1,1]),m([1,1,1])))}}drawFloodFill(n,u=0,p=0,v=NaN,d=NaN,g=6){var O;if(!this.drawBitmap)throw new Error("drawBitmap undefined");if(!((O=this.back)!=null&&O.dims))throw new Error("back.dims undefined");u=Math.abs(u);const _=[this.back.dims[1],this.back.dims[2],this.back.dims[3]];if(n[0]<0||n[1]<0||n[2]<0||n[0]>=_[0]||n[1]>=_[1]||n[2]>=_[2])return;const C=_[0],E=C*_[1],w=E*_[2],m=this.drawBitmap.slice();if(m.length!==E*_[2])return;function y(U){return U[0]+U[1]*C+U[2]*E}const e=y(n),P=m[e];if(P===u){p!==0?log$1.debug("drawFloodFill selected voxel is not part of a drawing"):log$1.debug("drawFloodFill selected voxel is already desired color");return}for(let U=1;U<w;U++)m[U]=0,this.drawBitmap[U]===P&&(m[U]=1);if(this.drawFloodFillCore(m,e,g),p!==0){const U=this.volumes[0].img2RAS();let W=U[e],V=W;if(isFinite(d)&&isFinite(v))W=d,V=v;else{for(let $=1;$<w;$++)m[$]===2&&(W=Math.max(W,U[$]),V=Math.min(V,U[$]));p===Number.POSITIVE_INFINITY&&(W=p),p===Number.NEGATIVE_INFINITY&&(V=p)}log$1.debug("Intensity range of selected cluster :",V,W);for(let $=1;$<w;$++)m[$]=0,U[$]>=V&&U[$]<=W&&(m[$]=1);this.drawFloodFillCore(m,e,g),u=P}for(let U=1;U<w;U++)m[U]===2&&(this.drawBitmap[U]=u);this.drawAddUndoBitmap(),this.refreshDrawing(!1)}drawPenFilled(){var P;const n=this.drawPenFillPts.length;if(n<2){this.drawPenFillPts=[];return}const u=this.drawPenAxCorSag;let p=0,v=1;if(u===1&&(v=2),u===2&&(p=1,v=2),!((P=this.back)!=null&&P.dims))throw new Error("back.dims undefined");const d=[this.back.dims[p+1],this.back.dims[v+1]],g=new Uint8Array(d[0]*d[1]);let _=1;function C(O,U){const W=Math.abs(O[0]-U[0]),V=Math.abs(O[1]-U[1]);g[O[0]+O[1]*d[0]]=_,g[U[0]+U[1]*d[0]]=_;let $=-1,b=-1;U[0]>O[0]&&($=1),U[1]>O[1]&&(b=1);let H=O[0],G=O[1];const Y=U[0],X=U[1];if(W>=V){let j=2*V-W;for(;H!==Y;)H+=$,j>=0&&(G+=b,j-=2*W),j+=2*V,g[H+G*d[0]]=_}else{let j=2*W-V;for(;G!==X;)G+=b,j>=0&&(H+=$,j-=2*V),j+=2*W,g[H+G*d[0]]=_}}const E=[this.drawPenFillPts[0][p],this.drawPenFillPts[0][v]];let w=E;for(let O=1;O<n;O++){const U=[this.drawPenFillPts[O][p],this.drawPenFillPts[O][v]];C(w,U),w=U}C(E,w);const m=[];function y(O){if(O[0]<0||O[1]<0||O[0]>=d[0]||O[1]>=d[1])return;const U=O[0]+O[1]*d[0];g[U]===0&&(m.push(O),g[U]=2)}for(let O=0;O<d[0];O++)y([O,0]);for(let O=0;O<d[0];O++)y([O,d[1]-1]);for(let O=0;O<d[1];O++)y([0,O]);for(let O=0;O<d[1];O++)y([d[0]-1,O]);for(;m.length>0;){const O=m.shift();y([O[0]-1,O[1]]),y([O[0]+1,O[1]]),y([O[0],O[1]-1]),y([O[0],O[1]+1])}_=this.opts.penValue;const e=this.drawPenFillPts[0][3-(p+v)];if(!this.drawBitmap)throw new Error("drawBitmap undefined");if(u===0){const O=e*d[0]*d[1];for(let U=0;U<d[0]*d[1];U++)g[U]!==2&&(this.drawBitmap[U+O]=_)}else{let O=1;const U=this.back.dims[1]*this.back.dims[2];let W=e*this.back.dims[1];u===2&&(O=this.back.dims[1],W=e);let V=0;for(let $=0;$<d[1];$++)for(let b=0;b<d[0];b++)g[V]!==2&&(this.drawBitmap[b*O+$*U+W]=_),V++}if(!this.drawFillOverwrites&&this.drawUndoBitmaps[this.currentDrawUndoBitmap].length>0){const O=this.drawBitmap.length,U=decodeRLE(this.drawUndoBitmaps[this.currentDrawUndoBitmap],O);for(let W=0;W<O;W++)U[W]!==0&&(this.drawBitmap[W]=U[W])}this.drawPenFillPts=[],this.drawAddUndoBitmap(),this.refreshDrawing(!1)}closeDrawing(){this.drawClearAllUndoBitmaps(),this.rgbaTex(this.drawTexture,TEXTURE7_DRAW,[2,2,2,2],!0),this.drawBitmap=null,this.drawScene()}refreshDrawing(n=!0){var v;if(!((v=this.back)!=null&&v.dims))throw new Error("back.dims undefined");if(!this.drawBitmap)throw new Error("drawBitmap undefined");const u=this.back.dims.slice(),p=this.back.dims[1]*this.back.dims[2]*this.back.dims[3];this.drawBitmap.length===8?(u[1]=2,u[2]=2,u[3]=2):p!==this.drawBitmap.length&&log$1.warn("Drawing bitmap must match the background image"),this.gl.activeTexture(TEXTURE7_DRAW),this.gl.bindTexture(this.gl.TEXTURE_3D,this.drawTexture),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,u[1],u[2],u[3],this.gl.RED,this.gl.UNSIGNED_BYTE,this.drawBitmap),n&&this.drawScene()}r8Tex(n,u,p,v=!1){if(n&&this.gl.deleteTexture(n),n=this.gl.createTexture(),this.gl.activeTexture(u),this.gl.bindTexture(this.gl.TEXTURE_3D,n),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_R,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R8,p[1],p[2],p[3]),v){const d=new Uint8Array(p[1]*p[2]*p[3]);this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,p[1],p[2],p[3],this.gl.RED,this.gl.UNSIGNED_BYTE,d)}return n}rgbaTex(n,u,p,v=!1){if(n&&this.gl.deleteTexture(n),n=this.gl.createTexture(),this.gl.activeTexture(u),this.gl.bindTexture(this.gl.TEXTURE_3D,n),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_R,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.RGBA8,p[1],p[2],p[3]),v){const d=new Uint8Array(p[1]*p[2]*p[3]*4);this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,p[1],p[2],p[3],this.gl.RGBA,this.gl.UNSIGNED_BYTE,d)}return n}requestCORSIfNotSameOrigin(n,u){new URL(u,window.location.href).origin!==window.location.origin&&(n.crossOrigin="")}async loadPngAsTexture(n,u){return new Promise((p,v)=>{const d=new Image;d.onload=()=>{if(!this.bmpShader)return;let g;u===4?(this.bmpTexture!==null&&this.gl.deleteTexture(this.bmpTexture),this.bmpTexture=this.gl.createTexture(),g=this.bmpTexture,this.bmpTextureWH=d.width/d.height,this.gl.activeTexture(TEXTURE4_THUMBNAIL),this.bmpShader.use(this.gl),this.gl.uniform1i(this.bmpShader.uniforms.bmpTexture,4)):u===5?(this.gl.activeTexture(TEXTURE5_MATCAP),this.matCapTexture!==null&&this.gl.deleteTexture(this.matCapTexture),this.matCapTexture=this.gl.createTexture(),g=this.matCapTexture):(this.fontShader.use(this.gl),this.gl.activeTexture(TEXTURE3_FONT),this.gl.uniform1i(this.fontShader.uniforms.fontTexture,3),this.fontTexture!==null&&this.gl.deleteTexture(this.fontTexture),this.fontTexture=this.gl.createTexture(),g=this.fontTexture),this.gl.bindTexture(this.gl.TEXTURE_2D,g),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,d),p(g),u!==4&&this.drawScene()},d.onerror=v,this.requestCORSIfNotSameOrigin(d,n),d.src=n})}async loadFontTexture(n){return this.loadPngAsTexture(n,3)}async loadBmpTexture(n){return this.loadPngAsTexture(n,4)}async loadMatCapTexture(n){return this.loadPngAsTexture(n,5)}initFontMets(){if(!this.fontMetrics)throw new Error("fontMetrics undefined");this.fontMets={distanceRange:this.fontMetrics.atlas.distanceRange,size:this.fontMetrics.atlas.size,mets:{}};for(let p=0;p<256;p++)this.fontMets.mets[p]={xadv:0,uv_lbwh:[0,0,0,0],lbwh:[0,0,0,0]};const n=this.fontMetrics.atlas.width,u=this.fontMetrics.atlas.height;for(let p=0;p<this.fontMetrics.glyphs.length;p++){const v=this.fontMetrics.glyphs[p],d=v.unicode;if(this.fontMets.mets[d].xadv=v.advance,v.planeBounds===void 0)continue;let g=v.atlasBounds.left/n,_=(u-v.atlasBounds.top)/u,C=(v.atlasBounds.right-v.atlasBounds.left)/n,E=(v.atlasBounds.top-v.atlasBounds.bottom)/u;this.fontMets.mets[d].uv_lbwh=[g,_,C,E],g=v.planeBounds.left,_=v.planeBounds.bottom,C=v.planeBounds.right-v.planeBounds.left,E=v.planeBounds.top-v.planeBounds.bottom,this.fontMets.mets[d].lbwh=[g,_,C,E]}}async loadFont(n=Roboto_Regular_default,u=Roboto_Regular_default2){await this.loadFontTexture(n);const p=await fetch(u);if(!p.ok)throw Error(p.statusText);const v=await p.text();this.fontMetrics=JSON.parse(v),this.initFontMets(),this.fontShader.use(this.gl),this.drawScene()}async loadDefaultMatCap(){return this.loadMatCapTexture(Shiny_default)}async loadDefaultFont(){await this.loadFontTexture(this.DEFAULT_FONT_GLYPH_SHEET),this.fontMetrics=this.DEFAULT_FONT_METRICS,this.initFontMets()}async initText(){this.fontShader=new Shader(this.gl,vertFontShader,fragFontShader),this.fontShader.use(this.gl),await this.loadDefaultFont(),await this.loadDefaultMatCap(),this.drawLoadingText(this.loadingText)}meshShaderNameToNumber(n="Phong"){const u=n.toLowerCase();for(let p=0;p<this.meshShaders.length;p++)if(this.meshShaders[p].Name.toLowerCase()===u)return p}setMeshShader(n,u=2){let p=0;if(typeof u=="number"?p=u:p=this.meshShaderNameToNumber(u),p===void 0)throw new Error("shaderIndex undefined");p=Math.min(p,this.meshShaders.length-1),p=Math.max(p,0);const v=this.getMeshIndexByID(n);if(v>=this.meshes.length){log$1.debug("Unable to change shader until mesh is loaded (maybe you need async)");return}this.meshes[v].meshShaderIndex=p,this.updateGLVolume(),this.onMeshShaderChanged(v,p)}createCustomMeshShader(n,u="Custom"){if(!n)throw new Error("Need fragment shader");const p=this.meshShaderNameToNumber(u);p>=0&&(this.gl.deleteProgram(this.meshShaders[p].shader.program),this.meshShaders.splice(p,1));const v=new Shader(this.gl,vertMeshShader,n);return v.use(this.gl),{Name:u,Frag:n,shader:v}}setCustomMeshShader(n="",u="Custom"){const p=this.createCustomMeshShader(n,u);return this.meshShaders.push(p),this.onCustomMeshShaderAdded(n,u),this.meshShaders.length-1}meshShaderNames(n=!0){const u=[];for(let p=0;p<this.meshShaders.length;p++)u.push(this.meshShaders[p].Name);return n===!0?u.sort():u}initRenderShader(n,u=0){n.use(this.gl),this.gl.uniform1i(n.uniforms.volume,0),this.gl.uniform1i(n.uniforms.colormap,1),this.gl.uniform1i(n.uniforms.overlay,2),this.gl.uniform1i(n.uniforms.drawing,7),this.gl.uniform1fv(n.uniforms.renderDrawAmbientOcclusion,[this.renderDrawAmbientOcclusion,1]),this.gl.uniform1f(n.uniforms.gradientAmount,u)}async init(){const n=this.gl.getExtension("WEBGL_debug_renderer_info");if(n){const g=this.gl.getParameter(n.UNMASKED_VENDOR_WEBGL),_=this.gl.getParameter(n.UNMASKED_RENDERER_WEBGL);log$1.info("renderer vendor: ",g),log$1.info("renderer: ",_)}else log$1.info("debug_renderer_info unavailable");const u=this.gl.getParameter(this.gl.RENDERER);log$1.info("firefox renderer: ",u),this.gl.clearDepth(0),this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(this.gl.FRONT),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.volumeTexture=this.rgbaTex(this.volumeTexture,TEXTURE0_BACK_VOL,[2,2,2,2],!0),this.overlayTexture=this.rgbaTex(this.overlayTexture,TEXTURE2_OVERLAY_VOL,[2,2,2,2],!0),this.drawTexture=this.r8Tex(this.drawTexture,TEXTURE7_DRAW,[2,2,2,2],!0);const p=[1,1,0,1,0,0,0,1,0,0,0,0],v=this.gl;this.cuboidVertexBuffer=v.createBuffer(),v.bindBuffer(v.ARRAY_BUFFER,this.cuboidVertexBuffer),v.bufferData(v.ARRAY_BUFFER,new Float32Array(p),v.STATIC_DRAW),this.genericVAO=v.createVertexArray(),v.bindVertexArray(this.genericVAO),v.bindBuffer(v.ARRAY_BUFFER,this.cuboidVertexBuffer),v.enableVertexAttribArray(0),v.vertexAttribPointer(0,3,v.FLOAT,!1,0,0),v.bindVertexArray(this.unusedVAO),this.pickingMeshShader=new Shader(v,vertMeshShader,fragMeshDepthShader),this.pickingMeshShader.use(v),this.pickingImageShader=new Shader(v,vertRenderShader,fragVolumePickingShader),this.pickingImageShader.use(v),v.uniform1i(this.pickingImageShader.uniforms.volume,0),v.uniform1i(this.pickingImageShader.uniforms.colormap,1),v.uniform1i(this.pickingImageShader.uniforms.overlay,2),v.uniform1i(this.pickingImageShader.uniforms.drawing,7),this.sliceMMShader=new Shader(v,vertSliceMMShader,fragSliceMMShader),this.sliceMMShader.use(v),v.uniform1i(this.sliceMMShader.uniforms.volume,0),v.uniform1i(this.sliceMMShader.uniforms.colormap,1),v.uniform1i(this.sliceMMShader.uniforms.overlay,2),v.uniform1i(this.sliceMMShader.uniforms.drawing,7),v.uniform1f(this.sliceMMShader.uniforms.drawOpacity,this.drawOpacity),this.sliceV1Shader=new Shader(v,vertSliceMMShader,fragSliceV1Shader),this.sliceV1Shader.use(v),v.uniform1i(this.sliceV1Shader.uniforms.volume,0),v.uniform1i(this.sliceV1Shader.uniforms.colormap,1),v.uniform1i(this.sliceV1Shader.uniforms.overlay,2),v.uniform1i(this.sliceV1Shader.uniforms.drawing,7),v.uniform1f(this.sliceV1Shader.uniforms.drawOpacity,this.drawOpacity),this.orientCubeShader=new Shader(v,vertOrientCubeShader,fragOrientCubeShader),this.orientCubeShaderVAO=v.createVertexArray(),v.bindVertexArray(this.orientCubeShaderVAO);const d=v.createBuffer();v.enableVertexAttribArray(0),v.enableVertexAttribArray(1),v.bindBuffer(v.ARRAY_BUFFER,d),v.bufferData(v.ARRAY_BUFFER,orientCube,v.STATIC_DRAW),v.vertexAttribPointer(0,3,v.FLOAT,!1,24,0),v.enableVertexAttribArray(1),v.vertexAttribPointer(1,3,v.FLOAT,!1,24,12),v.bindVertexArray(this.unusedVAO),this.rectShader=new Shader(v,vertRectShader,fragRectShader),this.rectShader.use(v),this.lineShader=new Shader(v,vertLineShader,fragRectShader),this.lineShader.use(v),this.line3DShader=new Shader(v,vertLine3DShader,fragRectShader),this.line3DShader.use(v),this.circleShader=new Shader(v,vertCircleShader,fragCircleShader),this.circleShader.use(v),this.renderVolumeShader=new Shader(v,vertRenderShader,fragRenderShader),this.initRenderShader(this.renderVolumeShader),this.renderSliceShader=new Shader(v,vertRenderShader,fragRenderSliceShader),this.initRenderShader(this.renderSliceShader),this.renderGradientShader=new Shader(v,vertRenderShader,fragRenderGradientShader),this.initRenderShader(this.renderGradientShader,.3),v.uniform1i(this.renderGradientShader.uniforms.matCap,5),v.uniform1i(this.renderGradientShader.uniforms.gradient,6),this.renderShader=this.renderVolumeShader,this.colorbarShader=new Shader(v,vertColorbarShader,fragColorbarShader),this.colorbarShader.use(v),v.uniform1i(this.colorbarShader.uniforms.colormap,1),this.blurShader=new Shader(v,blurVertShader,blurFragShader),this.sobelShader=new Shader(v,blurVertShader,sobelFragShader),this.growCutShader=new Shader(v,vertGrowCutShader,fragGrowCutShader),this.passThroughShader=new Shader(v,vertPassThroughShader,fragPassThroughShader),this.orientShaderAtlasU=new Shader(v,vertOrientShader,fragOrientShaderU.concat(fragOrientShaderAtlas)),this.orientShaderAtlasI=new Shader(v,vertOrientShader,fragOrientShaderI.concat(fragOrientShaderAtlas)),this.orientShaderU=new Shader(v,vertOrientShader,fragOrientShaderU.concat(fragOrientShader)),this.orientShaderI=new Shader(v,vertOrientShader,fragOrientShaderI.concat(fragOrientShader)),this.orientShaderF=new Shader(v,vertOrientShader,fragOrientShaderF.concat(fragOrientShader)),this.orientShaderRGBU=new Shader(v,vertOrientShader,fragOrientShaderU.concat(fragRGBOrientShader)),this.surfaceShader=new Shader(v,vertSurfaceShader,fragSurfaceShader),this.surfaceShader.use(v),this.fiberShader=new Shader(v,vertFiberShader,fragFiberShader),this.pickingImageShader.use(v);for(let g=0;g<this.meshShaders.length;g++){const _=this.meshShaders[g];_.Name==="Flat"?_.shader=new Shader(v,vertFlatMeshShader,fragFlatMeshShader):_.shader=new Shader(v,vertMeshShader,_.Frag),_.shader.use(v),_.shader.isMatcap=_.Name==="Matcap",_.shader.isMatcap&&v.uniform1i(_.shader.uniforms.matCap,5)}return this.bmpShader=new Shader(v,vertBmpShader,fragBmpShader),await this.initText(),this.opts.thumbnail.length>0&&(await this.loadBmpTexture(this.opts.thumbnail),this.thumbnailVisible=!0),this.updateGLVolume(),this.initialized=!0,this.resizeListener(),this.drawScene(),this}gradientGL(n){const u=this.gl,p=[0,0,0,0,1,0,1,0,0,1,1,0],v=u.createVertexArray();u.bindVertexArray(v);const d=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,d),u.bufferData(u.ARRAY_BUFFER,new Float32Array(p),u.STATIC_DRAW),u.enableVertexAttribArray(0),u.vertexAttribPointer(0,3,u.FLOAT,!1,0,0);const g=u.createFramebuffer();u.bindFramebuffer(u.FRAMEBUFFER,g),u.disable(u.CULL_FACE),u.viewport(0,0,n.dims[1],n.dims[2]),u.disable(u.BLEND);const _=this.rgbaTex(null,TEXTURE8_GRADIENT_TEMP,n.dims),C=this.blurShader;C.use(u),u.activeTexture(TEXTURE0_BACK_VOL),u.bindTexture(u.TEXTURE_3D,this.volumeTexture);const E=.7;u.uniform1i(C.uniforms.intensityVol,0),u.uniform1f(C.uniforms.dX,E/n.dims[1]),u.uniform1f(C.uniforms.dY,E/n.dims[2]),u.uniform1f(C.uniforms.dZ,E/n.dims[3]),u.bindVertexArray(v);for(let y=0;y<n.dims[3]-1;y++){const e=1/n.dims[3]*(y+.5);u.uniform1f(C.uniforms.coordZ,e),u.framebufferTextureLayer(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,_,0,y),u.clear(u.DEPTH_BUFFER_BIT),u.drawArrays(u.TRIANGLE_STRIP,0,p.length/3)}const w=this.sobelShader;w.use(u),u.activeTexture(TEXTURE8_GRADIENT_TEMP),u.bindTexture(u.TEXTURE_3D,_),u.uniform1i(w.uniforms.intensityVol,8);const m=.7;u.uniform1f(w.uniforms.dX,m/n.dims[1]),u.uniform1f(w.uniforms.dY,m/n.dims[2]),u.uniform1f(w.uniforms.dZ,m/n.dims[3]),u.uniform1f(w.uniforms.coordZ,.5),u.bindVertexArray(v),u.activeTexture(TEXTURE0_BACK_VOL),this.gradientTexture!==null&&u.deleteTexture(this.gradientTexture),this.gradientTexture=this.rgbaTex(this.gradientTexture,TEXTURE6_GRADIENT,n.dims);for(let y=0;y<n.dims[3]-1;y++){const e=1/n.dims[3]*(y+.5);u.uniform1f(w.uniforms.coordZ,e),u.framebufferTextureLayer(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,this.gradientTexture,0,y),u.clear(u.DEPTH_BUFFER_BIT),u.drawArrays(u.TRIANGLE_STRIP,0,p.length/3)}u.deleteFramebuffer(g),u.deleteTexture(_),u.deleteBuffer(d),u.bindFramebuffer(u.FRAMEBUFFER,null)}updateGLVolume(){let n=0;const u=this.volumes.length;this.refreshColormaps();for(let p=0;p<u;p++)this.volumes[p].toRAS&&(this.refreshLayers(this.volumes[p],n),n++);if(this.furthestVertexFromOrigin=0,u>0&&(this.furthestVertexFromOrigin=this.volumeObject3D.furthestVertexFromOrigin),this.meshes)for(let p=0;p<this.meshes.length;p++)this.furthestVertexFromOrigin=Math.max(this.furthestVertexFromOrigin,this.meshes[p].furthestVertexFromOrigin);this.onVolumeUpdated&&this.onVolumeUpdated(),this.drawScene()}getDescriptives(n=0,u=[],p=!1){const v=this.volumes[n].hdr;let d=v.scl_slope;isNaN(d)&&(d=1);let g=v.scl_inter;isNaN(g)&&(g=1);const _=this.volumes[n].img,C=_.length,E=new Float32Array(C);for(let Y=0;Y<C;Y++)E[Y]=_[Y]*d+g;const w=new Uint8Array(C);for(let Y=0;Y<C;Y++)w[Y]=1;if(u.length>0)for(let Y=0;Y<u.length;Y++){const X=this.volumes[u[Y]].img;if(X.length!==C){log$1.debug("Mask resolution does not match image. Skipping masking layer "+u[Y]);continue}for(let j=0;j<C;j++)(X[j]===0||isNaN(X[j]))&&(w[j]=0)}else if(u.length<1&&p)for(let Y=0;Y<C;Y++)(this.drawBitmap[Y]===0||isNaN(this.drawBitmap[Y]))&&(w[Y]=0);let m=0,y=0,e=0,P=Number.NEGATIVE_INFINITY,O=Number.POSITIVE_INFINITY,U=0,W=0,V=0;for(let Y=0;Y<C;Y++){if(w[Y]<1)continue;const X=E[Y];m++;let j=y+(X-y)/m;e=e+(X-y)*(X-j),y=j,X!==0&&(U++,j=W+(X-W)/U,V=V+(X-W)*(X-j),W=j,O=Math.min(X,P),P=Math.max(X,P))}const $=Math.sqrt(e/(m-1)),b=Math.sqrt(V/(U-1)),H=O,G=P;return m!==U&&(O=Math.min(0,P),P=Math.max(0,P)),{mean:y,stdev:$,nvox:m,volumeMM3:m*v.pixDims[1]*v.pixDims[2]*v.pixDims[3],volumeML:m*v.pixDims[1]*v.pixDims[2]*v.pixDims[3]*.001,min:O,max:P,meanNot0:W,stdevNot0:b,nvoxNot0:U,minNot0:H,maxNot0:G,cal_min:this.volumes[n].cal_min,cal_max:this.volumes[n].cal_max,robust_min:this.volumes[n].robust_min,robust_max:this.volumes[n].robust_max}}refreshLayers(n,u){var H;if(this.refreshColormaps(),this.volumes.length<1)return;const p=n.hdr;let v=n.img;n.frame4D>0&&n.frame4D<n.nFrame4D&&(v=n.img.slice(n.frame4D*n.nVox3D,(n.frame4D+1)*n.nVox3D));const d=n.opacity;if(u>1&&d===0)return;let g=null;if(!this.back)throw new Error("back undefined");this.gl.bindVertexArray(this.unusedVAO),this.crosshairs3D&&(this.crosshairs3D.mm[0]=NaN);let _=clone$2(n.toRAS);if(u===0){this.volumeObject3D=n.toNiivueObject3D(this.VOLUME_ID,this.gl),invert(_,_),this.back.matRAS=n.matRAS,this.back.dims=n.dimsRAS,this.back.pixDims=n.pixDimsRAS,g=this.rgbaTex(this.volumeTexture,TEXTURE0_BACK_VOL,n.dimsRAS);const{volScale:G,vox:Y}=this.sliceScale(!0);if(this.volScale=G,this.vox=Y,this.volumeObject3D.scale=G,!this.renderShader)throw new Error("renderShader undefined");this.renderShader.use(this.gl),this.gl.uniform3fv(this.renderShader.uniforms.texVox,Y),this.gl.uniform3fv(this.renderShader.uniforms.volScale,G);const X=this.pickingImageShader;X.use(this.gl),this.gl.uniform1i(X.uniforms.volume,0),this.gl.uniform1i(X.uniforms.colormap,1),this.gl.uniform1i(X.uniforms.overlay,2),this.gl.uniform3fv(X.uniforms.volScale,G),log$1.debug(this.volumeObject3D)}else{((H=this.back)==null?void 0:H.dims)===void 0&&log$1.error("Fatal error: Unable to render overlay: background dimensions not defined!");const G=this.mm2frac(n.mm000,0,!0);let Y=this.mm2frac(n.mm100,0,!0),X=this.mm2frac(n.mm010,0,!0),j=this.mm2frac(n.mm001,0,!0);Y=subtract$1(Y,Y,G),X=subtract$1(X,X,G),j=subtract$1(j,j,G),_=fromValues$3(Y[0],X[0],j[0],G[0],Y[1],X[1],j[1],G[1],Y[2],X[2],j[2],G[2],0,0,0,1),invert(_,_),u===1?(g=this.rgbaTex(this.overlayTexture,TEXTURE2_OVERLAY_VOL,this.back.dims),this.overlayTexture=g,this.overlayTextureID=g):g=this.overlayTextureID}const C=this.gl.createFramebuffer();this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,C),this.gl.disable(this.gl.CULL_FACE),this.gl.viewport(0,0,this.back.dims[1],this.back.dims[2]),this.gl.disable(this.gl.BLEND);const E=this.gl.createTexture();this.gl.activeTexture(TEXTURE9_ORIENT),this.gl.bindTexture(this.gl.TEXTURE_3D,E),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_R,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1);let w=this.orientShaderU;if(!p)throw new Error("hdr undefined");if(!v)throw new Error("img undefined");if(p.datatypeCode===2)p.intent_code===1002&&(w=this.orientShaderAtlasU),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R8UI,p.dims[1],p.dims[2],p.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,p.dims[1],p.dims[2],p.dims[3],this.gl.RED_INTEGER,this.gl.UNSIGNED_BYTE,v);else if(p.datatypeCode===4)w=this.orientShaderI,p.intent_code===1002&&(w=this.orientShaderAtlasI),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R16I,p.dims[1],p.dims[2],p.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,p.dims[1],p.dims[2],p.dims[3],this.gl.RED_INTEGER,this.gl.SHORT,v);else if(p.datatypeCode===16)this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R32F,p.dims[1],p.dims[2],p.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,p.dims[1],p.dims[2],p.dims[3],this.gl.RED,this.gl.FLOAT,v),w=this.orientShaderF;else if(p.datatypeCode===64){let G=new Float32Array;G=Float32Array.from(v),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R32F,p.dims[1],p.dims[2],p.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,p.dims[1],p.dims[2],p.dims[3],this.gl.RED,this.gl.FLOAT,G),w=this.orientShaderF}else p.datatypeCode===128?(w=this.orientShaderRGBU,w.use(this.gl),this.gl.uniform1i(w.uniforms.hasAlpha,0),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.RGB8UI,p.dims[1],p.dims[2],p.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,p.dims[1],p.dims[2],p.dims[3],this.gl.RGB_INTEGER,this.gl.UNSIGNED_BYTE,v)):p.datatypeCode===512?(p.intent_code===1002&&(w=this.orientShaderAtlasU),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R16UI,p.dims[1],p.dims[2],p.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,p.dims[1],p.dims[2],p.dims[3],this.gl.RED_INTEGER,this.gl.UNSIGNED_SHORT,v)):p.datatypeCode===2304&&(w=this.orientShaderRGBU,w.use(this.gl),this.gl.uniform1i(w.uniforms.hasAlpha,1),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.RGBA8UI,p.dims[1],p.dims[2],p.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,p.dims[1],p.dims[2],p.dims[3],this.gl.RGBA_INTEGER,this.gl.UNSIGNED_BYTE,v));n.global_min===void 0&&n.calMinMax();let m=null;if(this.gl.bindVertexArray(this.genericVAO),u>1){if(!this.back.dims)throw new Error("back.dims undefined");m=this.rgbaTex(m,TEXTURE10_BLEND,this.back.dims),this.gl.bindTexture(this.gl.TEXTURE_3D,m);const G=this.passThroughShader;G.use(this.gl),this.gl.uniform1i(G.uniforms.in3D,2);for(let Y=0;Y<this.back.dims[3];Y++){const X=1/this.back.dims[3]*(Y+.5);this.gl.uniform1f(G.uniforms.coordZ,X),this.gl.framebufferTextureLayer(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,m,0,Y),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}}else m=this.rgbaTex(m,TEXTURE10_BLEND,[2,2,2,2]);w.use(this.gl),this.gl.activeTexture(TEXTURE1_COLORMAPS);let y=null;if(n.colormapLabel!==null&&n.colormapLabel.lut.length>7){const G=n.colormapLabel.max-n.colormapLabel.min+1;y=this.createColormapTexture(y,1,G),this.gl.texSubImage2D(this.gl.TEXTURE_2D,0,0,0,G,1,this.gl.RGBA,this.gl.UNSIGNED_BYTE,n.colormapLabel.lut),this.gl.uniform1f(w.uniforms.cal_min,n.colormapLabel.min-.5),this.gl.uniform1f(w.uniforms.cal_max,n.colormapLabel.max+.5),this.gl.bindTexture(this.gl.TEXTURE_2D,y)}else this.gl.bindTexture(this.gl.TEXTURE_2D,this.colormapTexture),this.gl.uniform1f(w.uniforms.cal_min,n.cal_min),this.gl.uniform1f(w.uniforms.cal_max,n.cal_max);this.gl.uniform1i(w.uniforms.isAlphaThreshold,n.alphaThreshold),this.gl.uniform1i(w.uniforms.isAdditiveBlend,this.opts.isAdditiveBlend?1:0);let e=Number.POSITIVE_INFINITY,P=Number.NEGATIVE_INFINITY;if(n.colormapNegative.length>0&&(e=Math.min(-n.cal_min,-n.cal_max),P=Math.max(-n.cal_min,-n.cal_max),isFinite(n.cal_minNeg)&&isFinite(n.cal_maxNeg)&&(e=Math.min(n.cal_minNeg,n.cal_maxNeg),P=Math.max(n.cal_minNeg,n.cal_maxNeg))),!w)throw new Error("orientShader undefined");this.gl.uniform1f(w.uniforms.layer??null,u),this.gl.uniform1f(w.uniforms.cal_minNeg??null,e),this.gl.uniform1f(w.uniforms.cal_maxNeg??null,P),this.gl.bindTexture(this.gl.TEXTURE_3D,E),this.gl.uniform1i(w.uniforms.intensityVol??null,9),this.gl.uniform1i(w.uniforms.blend3D??null,10),this.gl.uniform1i(w.uniforms.colormap??null,1),this.gl.uniform1f(w.uniforms.scl_inter??null,p.scl_inter),this.gl.uniform1f(w.uniforms.scl_slope??null,p.scl_slope),this.gl.uniform1f(w.uniforms.opacity??null,d),this.gl.uniform1i(w.uniforms.modulationVol??null,7);let O=null;if(n.modulationImage!==null&&n.modulationImage>=0&&n.modulationImage<this.volumes.length){log$1.debug("modulating",this.volumes);const G=this.volumes[n.modulationImage].hdr;if(G.dims[1]===p.dims[1]&&G.dims[2]===p.dims[2]&&G.dims[3]===p.dims[3]){n.modulateAlpha?(this.gl.uniform1i(w.uniforms.modulation,2),this.gl.uniform1f(w.uniforms.opacity,1)):this.gl.uniform1i(w.uniforms.modulation,1),O=this.r8Tex(O,this.gl.TEXTURE7,p.dims,!0),this.gl.activeTexture(this.gl.TEXTURE7),this.gl.bindTexture(this.gl.TEXTURE_3D,O);const Y=p.dims[1]*p.dims[2]*p.dims[3],X=new Uint8Array(Y),j=this.volumes[n.modulationImage].cal_min,h=1/(this.volumes[n.modulationImage].cal_max-j),ae=this.volumes[n.modulationImage].img.buffer;let le=new Uint8Array(ae);switch(G.datatypeCode){case 4:le=new Int16Array(ae);break;case 16:le=new Float32Array(ae);break;case 64:le=new Float64Array(ae);break;case 128:le=new Uint8Array(ae);break;case 512:le=new Uint16Array(ae);break}log$1.debug(this.volumes[n.modulationImage]);const he=this.volumes[n.modulationImage].colormapNegative.length>0;let pe=this.volumes[n.modulationImage].cal_min,Ae=this.volumes[n.modulationImage].cal_max;isFinite(this.volumes[n.modulationImage].cal_minNeg)&&isFinite(this.volumes[n.modulationImage].cal_maxNeg)&&(pe=this.volumes[n.modulationImage].cal_minNeg,Ae=this.volumes[n.modulationImage].cal_minNeg),pe=Math.abs(pe),Ae=Math.abs(Ae),pe>Ae&&([pe,Ae]=[Ae,pe]);const ge=1/(Ae-pe);let ye=Math.abs(n.modulateAlpha);ye=Math.max(ye,1);const we=this.volumes[n.modulationImage].frame4D*Y;for(let be=0;be<Y;be++){const Ve=le[be+we]*G.scl_slope+G.scl_inter;let Ne=(Ve-j)*h;he&&Ve<0&&(Ne=(Math.abs(Ve)-pe)*ge),Ne=Math.min(Math.max(Ne,0),1),Ne=Math.pow(Ne,ye)*255,X[be]=Ne}this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,p.dims[1],p.dims[2],p.dims[3],this.gl.RED,this.gl.UNSIGNED_BYTE,X)}else log$1.debug("Modulation image dimensions do not match target")}else this.gl.uniform1i(w.uniforms.modulation,0);if(this.gl.uniformMatrix4fv(w.uniforms.mtx,!1,_),!this.back.dims)throw new Error("back.dims undefined");let U=0;p.intent_code===1002&&(U=this.opts.atlasOutline),this.gl.uniform4fv(w.uniforms.xyzaFrac,[1/this.back.dims[1],1/this.back.dims[2],1/this.back.dims[3],U]),log$1.debug("back dims: ",this.back.dims);for(let G=0;G<this.back.dims[3];G++){const Y=1/this.back.dims[3]*(G+.5);this.gl.uniform1f(w.uniforms.coordZ,Y),this.gl.framebufferTextureLayer(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,g,0,G),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}if(this.gl.bindVertexArray(this.unusedVAO),this.gl.deleteTexture(E),this.gl.deleteTexture(O),this.gl.deleteTexture(m),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.deleteFramebuffer(C),u===0&&(this.volumeTexture=g,this.gradientTextureAmount>0?this.gradientGL(p):(this.gradientTexture!==null&&this.gl.deleteTexture(this.gradientTexture),this.gradientTexture=null)),!this.renderShader)throw new Error("renderShader undefined");this.renderShader.use(this.gl);const W=this.sliceScale(!0),V=W.vox,$=W.volScale;if(this.gl.uniform1f(this.renderShader.uniforms.overlays,this.overlays),this.gl.uniform4fv(this.renderShader.uniforms.clipPlaneColor,this.opts.clipPlaneColor),this.gl.uniform1f(this.renderShader.uniforms.backOpacity,this.volumes[0].opacity),this.gl.uniform1f(this.renderShader.uniforms.renderOverlayBlend,this.opts.renderOverlayBlend),this.gl.uniform4fv(this.renderShader.uniforms.clipPlane,this.scene.clipPlane),this.gl.uniform3fv(this.renderShader.uniforms.texVox,V),this.gl.uniform3fv(this.renderShader.uniforms.volScale,$),!this.pickingImageShader)throw new Error("pickingImageShader undefined");this.pickingImageShader.use(this.gl),this.gl.uniform1f(this.pickingImageShader.uniforms.overlays,this.overlays.length),this.gl.uniform3fv(this.pickingImageShader.uniforms.texVox,V);let b=this.sliceMMShader;if(this.opts.isV1SliceShader&&(b=this.sliceV1Shader),!b)throw new Error("slice shader undefined");b.use(this.gl),this.gl.uniform1f(b.uniforms.overlays,this.overlays.length),this.gl.uniform1f(b.uniforms.drawOpacity,this.drawOpacity),y!==null&&(this.gl.deleteTexture(y),this.gl.activeTexture(TEXTURE1_COLORMAPS),this.gl.bindTexture(this.gl.TEXTURE_2D,this.colormapTexture)),this.gl.uniform1i(b.uniforms.drawing,7),this.gl.activeTexture(TEXTURE7_DRAW),this.gl.bindTexture(this.gl.TEXTURE_3D,this.drawTexture),this.updateInterpolation(u)}colormaps(){return cmapper.colormaps()}addColormap(n,u){cmapper.addColormap(n,u)}setColormap(n,u){const p=this.getVolumeIndexByID(n);this.volumes[p].colormap=u,this.updateGLVolume()}idx(n,u,p,v){return p*v[0]*v[1]+u*v[0]+n}check_previous_slice(n,u,p,v,d,g,_,C){const E=new Uint32Array(27);let w=0;if(!d)return 0;const m=n[this.idx(p,v,d,g)];if(_>=6){const y=this.idx(p,v,d-1,g);m===n[y]&&(E[w++]=u[y])}if(_>=18){if(p){const y=this.idx(p-1,v,d-1,g);m===n[y]&&(E[w++]=u[y])}if(v){const y=this.idx(p,v-1,d-1,g);m===n[y]&&(E[w++]=u[y])}if(p<g[0]-1){const y=this.idx(p+1,v,d-1,g);m===n[y]&&(E[w++]=u[y])}if(v<g[1]-1){const y=this.idx(p,v+1,d-1,g);m===n[y]&&(E[w++]=u[y])}}if(_===26){if(p&&v){const y=this.idx(p-1,v-1,d-1,g);m===n[y]&&(E[w++]=u[y])}if(p<g[0]-1&&v){const y=this.idx(p+1,v-1,d-1,g);m===n[y]&&(E[w++]=u[y])}if(p&&v<g[1]-1){const y=this.idx(p-1,v+1,d-1,g);m===n[y]&&(E[w++]=u[y])}if(p<g[0]-1&&v<g[1]-1){const y=this.idx(p+1,v+1,d-1,g);m===n[y]&&(E[w++]=u[y])}}return w?(this.fill_tratab(C,E,w),E[0]):0}do_initial_labelling(n,u,p){let v=1;const d=8192;let g=d,_=new Uint32Array(g).fill(0);const C=new Uint32Array(u[0]*u[1]*u[2]).fill(0),E=new Uint32Array(27);for(let w=0;w<u[2];w++)for(let m=0;m<u[1];m++)for(let y=0;y<u[0];y++){let e=0;const P=n[this.idx(y,m,w,u)];if(P!==0){if(E[0]=this.check_previous_slice(n,C,y,m,w,u,p,_),E[0]&&(e+=1),p>=6){if(y){const O=this.idx(y-1,m,w,u);P===n[O]&&(E[e++]=C[O])}if(m){const O=this.idx(y,m-1,w,u);P===n[O]&&(E[e++]=C[O])}}if(p>=18){if(m&&y){const O=this.idx(y-1,m-1,w,u);P===n[O]&&(E[e++]=C[O])}if(m&&y<u[0]-1){const O=this.idx(y+1,m-1,w,u);P===n[O]&&(E[e++]=C[O])}}if(e)C[this.idx(y,m,w,u)]=E[0],this.fill_tratab(_,E,e);else{if(C[this.idx(y,m,w,u)]=v,v>=g){g+=d;const O=new Uint32Array(g);O.set(_),_=O}_[v-1]=v,v++}}}for(let w=0;w<v-1;w++){let m=w;for(;_[m]!==m+1;)m=_[m]-1;_[w]=m+1}return[v-1,_,C]}fill_tratab(n,u,p){let v=0;const d=new Uint32Array(p+5).fill(0);let _=2147483647;for(let C=0;C<p;C++){let E=u[C];for(v=0;n[E-1]!==E;)if(E=n[E-1],v++,v>100){log$1.info(`
Ooh no!!`);break}d[C]=E,_=Math.min(_,E)}for(let C=0;C<p;C++)n[d[C]-1]=_}translate_labels(n,u,p,v){const d=u[0]*u[1]*u[2];let g=0;const _=new Uint32Array(d).fill(0);for(let w=0;w<v;w++)g=Math.max(g,p[w]);const C=new Uint32Array(g).fill(0);let E=0;for(let w=0;w<d;w++)n[w]&&(C[p[n[w]-1]-1]||(E+=1,C[p[n[w]-1]-1]=E),_[w]=C[p[n[w]-1]-1]);return[E,_]}largest_original_cluster_labels(n,u,p){const v=n.length,d=new Uint32Array(u+1).fill(0),g=new Uint32Array(u+1).fill(0);for(let E=0;E<v;E++){const w=n[E],m=p[E];d[m]=w,g[m]++}let _=0;for(let E=0;E<u+1;E++){const w=d[E];_=Math.max(_,w);for(let m=0;m<u+1;m++)m!==E&&w===d[m]&&(g[E]<g[m]||g[E]===g[m]&&E<m)&&(d[E]=0)}const C=new Uint32Array(v).fill(0);for(let E=0;E<v;E++)C[E]=d[p[E]];return[_,C]}bwlabel(n,u,p=26,v=!1,d=!1){const g=Date.now(),_=u[0]*u[1]*u[2],C=new Uint32Array(_).fill(0);if(![6,18,26].includes(p))return log$1.info("bwlabel: conn must be 6, 18 or 26."),[0,C];if(u[0]<2||u[1]<2||u[2]<1)return log$1.info("bwlabel: img must be 2 or 3-dimensional"),[0,C];if(v)for(let P=0;P<_;P++)n[P]!==0&&(C[P]=1);else C.set(n);let[E,w,m]=this.do_initial_labelling(C,u,p);w===void 0&&(w=new Uint32Array);const[y,e]=this.translate_labels(m,u,w,E);if(log$1.info(p+" neighbor clustering into "+y+" regions in "+(Date.now()-g)+"ms"),d){const[P,O]=this.largest_original_cluster_labels(C,y,e);return[P,O]}return[y,e]}async createConnectedLabelImage(n,u=26,p=!1,v=!1){var m,y;const d=this.getVolumeIndexByID(n),g=Uint32Array.from(((m=this.volumes[d].dims)==null?void 0:m.slice(1,4))??[]),_=Uint32Array.from(((y=this.volumes[d].img)==null?void 0:y.slice())??[]),[C,E]=this.bwlabel(_,g,u,p,v),w=this.volumes[d].clone();w.opacity=.5,w.colormap="random";for(let e=0;e<w.img.length;e++)w.img[e]=E[e];return w.cal_min=0,w.cal_max=C,w}async scalecropUint8(n,u=0,p=255,v,d){const g=n.length,_=new Uint8Array(g);for(let C=0;C<g;C++){let E=n[C];E=u+d*(E-v),E=Math.max(E,u),E=Math.min(E,p),_[C]=E}return _}async scalecropFloat32(n,u=0,p=1,v,d){const g=n.length,_=new Float32Array(g);for(let C=0;C<g;C++){let E=n[C];E=u+d*(E-v),E=Math.max(E,u),E=Math.min(E,p),_[C]=E}return _}getScale(n,u=0,p=255,v=0,d=.999){let g=n.global_min,_=n.global_max;if(n.hdr.datatypeCode===2)return[g,1];if((!isFinite(v)||!isFinite(d))&&isFinite(n.cal_min)&&isFinite(n.cal_max)&&n.cal_max>n.cal_min){g=n.cal_min,_=n.cal_max;const $=(p-u)/(_-g);return log$1.info(" Robust Rescale:  min: "+g+"  max: "+_+" scale: "+$),console.log("Robust Rescale:  min: "+g+"  max: "+_+" scale: "+$),[g,$]}const C=n.img,E=n.hdr.dims[1]*n.hdr.dims[2]*n.hdr.dims[3];if(n.hdr.scl_slope!==1||n.hdr.scl_inter!==0){const $=n.img,b=new Float32Array(n.img.length);for(let H=0;H<E;H++)b[H]=$[H]*n.hdr.scl_slope+n.hdr.scl_inter}if(g<0&&log$1.warn("WARNING: Input image has value(s) below 0.0 !"),log$1.info(" Input:    min: "+g+"  max: "+_),v===0&&d===1)return[g,1];let w=0;for(let $=0;$<E;$++)Math.abs(C[$])>=1e-15&&w++;const m=1e3,y=(_-g)/m,e=new Array(m).fill(0);for(let $=0;$<E;$++){const b=C[$];let H=Math.floor((b-g)/y);H=Math.min(H,m-1),e[H]++}const P=new Array(m).fill(0);P[0]=e[0];for(let $=1;$<m;$++)P[$]=P[$-1]+e[$];let O=Math.floor(v*E),U=0;for(;U<m&&!(P[U]>=O);)U++;const W=g;for(g=U*y+W,O=E-Math.floor((1-d)*w),U=0;U<m-1&&!(P[U+1]>=O);)U++;_=U*y+W;let V=1;return g!==_&&(V=(p-u)/(_-g)),log$1.info(" Rescale:  min: "+g+"  max: "+_+" scale: "+V),[g,V]}conformVox2Vox(n,u,p=256,v=1,d=!1){const g=u.flat(),_=fromValues$3(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),C=fromValues$1(n[1]/2,n[2]/2,n[3]/2,1),E=create$1(),w=create$3();transpose$1(w,_),transformMat4(E,C,w);const m=fromValues$2(E[0],E[1],E[2]),y=fromValues$2(v,v,v);let e=fromValues$3(-1,0,0,0,0,0,1,0,0,-1,0,0,0,0,0,1);d&&(e=fromValues$3(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),transpose$1(e,e);const P=fromValues$1(p,p,p,1),O=create$3();scale$3(O,e,y);const U=fromValues$1(P[0],P[1],P[2],1);transformMat4(U,U,O),scale$1(U,U,.5);const W=create$2();subtract$1(W,m,fromValues$2(U[0],U[1],U[2]));const V=create$3();transpose$1(V,O),V[3]=W[0],V[7]=W[1],V[11]=W[2];const $=create$3();invert($,V);const b=create$3();mul$1(b,_,$);const H=create$3();return invert(H,b),[V,b,H]}async createNiftiArray(n=[256,256,256],u=[1,1,1],p=[1,0,0,-128,0,1,0,-128,0,0,1,-128,0,0,0,1],v=2,d=new Uint8Array){return await NVImage.createNiftiArray(n,u,p,v,d)}async niftiArray2NVImage(n=new Uint8Array){return await NVImage.loadFromUrl({url:n})}async loadFromUrl(n){return await NVImage.loadFromUrl({url:n})}async conform(n,u=!1,p=!0,v=!1,d=!1){const C=this.conformVox2Vox(n.hdr.dims,n.hdr.affine.flat(),256,1,u),E=C[0],w=C[2],m=256*256*256,y=new Float32Array(m),e=new Float32Array(n.img),P=n.hdr.dims[1]*n.hdr.dims[2]*n.hdr.dims[3];if(n.hdr.scl_slope!==1||n.hdr.scl_inter!==0)for(let ae=0;ae<P;ae++)e[ae]=e[ae]*n.hdr.scl_slope+n.hdr.scl_inter;const O=n.hdr.dims[1],U=n.hdr.dims[2],W=n.hdr.dims[3],V=O*U;let $=-1;function b(ae,le,he){return ae+le*O+he*V}const H=w[0],G=w[4],Y=w[8];if(p)for(let ae=0;ae<256;ae++)for(let le=0;le<256;le++){const he=le*w[1]+ae*w[2]+w[3],pe=le*w[5]+ae*w[6]+w[7],Ae=le*w[9]+ae*w[10]+w[11];for(let ge=0;ge<256;ge++){const ye=ge*H+he,we=ge*G+pe,be=ge*Y+Ae,Ve=Math.floor(ye),Ne=Math.floor(we),p0=Math.floor(be);if($++,Ve<0||Ne<0||p0<0)continue;const k0=Math.ceil(ye),Ue=Math.ceil(we),xe=Math.ceil(be);if(k0>=O||Ue>=U||xe>=W)continue;const I0=ye-Ve,O0=we-Ne,Q0=be-p0,tt=1-I0,it=1-O0,U0=1-Q0,q0=b(Ve,Ne,p0);let Xe=0;Xe+=e[q0]*tt*it*U0,Xe+=e[q0+V]*tt*it*Q0,Xe+=e[q0+O]*tt*O0*U0,Xe+=e[q0+O+V]*tt*O0*Q0,Xe+=e[q0+1]*I0*it*U0,Xe+=e[q0+1+V]*I0*it*Q0,Xe+=e[q0+1+O]*I0*O0*U0,Xe+=e[q0+1+O+V]*I0*O0*Q0,y[$]=Xe}}else for(let ae=0;ae<256;ae++)for(let le=0;le<256;le++){const he=le*w[1]+ae*w[2]+w[3],pe=le*w[5]+ae*w[6]+w[7],Ae=le*w[9]+ae*w[10]+w[11];for(let ge=0;ge<256;ge++){const ye=Math.round(ge*H+he),we=Math.round(ge*G+pe),be=Math.round(ge*Y+Ae);$++,!(ye<0||we<0||be<0)&&(ye>=O||we>=U||be>=W||(y[$]=e[b(ye,we,be)]))}}let X=0;d&&(X=NaN);let j=new Uint8Array;if(v){const ae=await this.getScale(n,0,1,X),le=await this.scalecropFloat32(y,0,1,ae[0],ae[1]);j=await this.createNiftiArray([256,256,256],[1,1,1],Array.from(E),16,new Uint8Array(le.buffer))}else{const ae=await this.getScale(n,0,255,X),le=await this.scalecropUint8(y,0,255,ae[0],ae[1]);j=await this.createNiftiArray([256,256,256],[1,1,1],Array.from(E),2,le)}return await this.niftiArray2NVImage(j)}setRenderDrawAmbientOcclusion(n){if(!this.renderShader)throw new Error("renderShader undefined");this.renderDrawAmbientOcclusion=n,this.renderShader.use(this.gl),this.gl.uniform1fv(this.renderShader.uniforms.renderDrawAmbientOcclusion,[this.renderDrawAmbientOcclusion,1]),this.drawScene()}setColorMap(n,u){this.setColormap(n,u)}setColormapNegative(n,u){const p=this.getVolumeIndexByID(n);this.volumes[p].colormapNegative=u,this.updateGLVolume()}setModulationImage(n,u,p=0){const v=this.getVolumeIndexByID(n);let d=null;u.length>0&&(d=this.getVolumeIndexByID(u)),this.volumes[v].modulationImage=d,this.volumes[v].modulateAlpha=p,this.updateGLVolume()}setGamma(n=1){cmapper.gamma=n,this.updateGLVolume()}async loadDeferred4DVolumes(n){const u=this.getVolumeIndexByID(n),p=this.volumes[u];if(p.nTotalFrame4D<=p.nFrame4D)return;let v;p.fileObject?v=await NVImage.loadFromFile({file:p.fileObject}):v=await NVImage.loadFromUrl({url:p.url}),v&&(p.img=v.img.slice(),p.nTotalFrame4D=v.nTotalFrame4D,p.nFrame4D=v.nFrame4D,this.updateGLVolume())}setFrame4D(n,u){const p=this.getVolumeIndexByID(n),v=this.volumes[p];u>v.nFrame4D-1&&(u=v.nFrame4D-1),u<0&&(u=0),u!==v.frame4D&&(v.frame4D=u,this.updateGLVolume(),this.onFrameChange(v,u),this.createOnLocationChange())}getFrame4D(n){const u=this.getVolumeIndexByID(n);return this.volumes[u].frame4D}colormapFromKey(n){return cmapper.colormapFromKey(n)}colormap(n="",u=!1){return cmapper.colormap(n,u)}createColormapTexture(n=null,u=0,p=256){return n!==null&&this.gl.deleteTexture(n),u<1||p<1?null:(n=this.gl.createTexture(),this.gl.activeTexture(TEXTURE1_COLORMAPS),this.gl.bindTexture(this.gl.TEXTURE_2D,n),this.gl.texStorage2D(this.gl.TEXTURE_2D,1,this.gl.RGBA8,p,u),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_R,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),n)}addColormapList(n="",u=NaN,p=NaN,v=!1,d=!1,g=!0,_=!1){n.length<1&&(g=!1),this.colormapLists.push({name:n,min:u,max:p,alphaThreshold:v,negative:d,visible:g,invert:_})}refreshColormaps(){if(this.colormapLists=[],this.volumes.length<1&&this.meshes.length<1)return;const n=this.volumes.length;if(n>0)for(let g=0;g<n;g++){const _=this.volumes[g],C=negMinMax(_.cal_min,_.cal_max,_.cal_minNeg,_.cal_maxNeg);this.addColormapList(_.colormapNegative,C[0],C[1],_.alphaThreshold!==void 0,!0,_.colorbarVisible,_.colormapInvert),this.addColormapList(_.colormap,_.cal_min,_.cal_max,_.alphaThreshold!==void 0,!1,_.colorbarVisible,_.colormapInvert)}const u=this.meshes.length;if(u>0)for(let g=0;g<u;g++){const _=this.meshes[g];if(!_.colorbarVisible)continue;const C=_.layers.length;if("edgeColormap"in _&&"edges"in _&&_.edges!==void 0){const E=negMinMax(_.edgeMin,_.edgeMax,NaN,NaN);this.addColormapList(_.edgeColormapNegative,E[0],E[1],!1,!0,!0,_.colormapInvert),this.addColormapList(_.edgeColormap,_.edgeMin,_.edgeMax,!1,!1,!0,_.colormapInvert)}if(!(C<1))for(let E=0;E<C;E++){const w=this.meshes[g].layers[E];if(!w.colorbarVisible||w.colormap.length<1)continue;const m=negMinMax(w.cal_min,w.cal_max,w.cal_minNeg,w.cal_maxNeg);this.addColormapList(w.colormapNegative,m[0],m[1],w.alphaThreshold,!0,!0,w.colormapInvert),this.addColormapList(w.colormap,w.cal_min,w.cal_max,w.alphaThreshold,!1,!0,w.colormapInvert)}}const p=this.colormapLists.length;if(p<1)return;this.colormapTexture=this.createColormapTexture(this.colormapTexture,p+1);let v=new Uint8ClampedArray;function d(g){const _=new Uint8ClampedArray(v.length+g.length);_.set(v),_.set(g,v.length),v=_}for(let g=0;g<p;g++)d(Array.from(this.colormap(this.colormapLists[g].name,this.colormapLists[g].invert)));return d(Array.from(this.drawLut.lut)),this.gl.texSubImage2D(this.gl.TEXTURE_2D,0,0,0,256,p+1,this.gl.RGBA,this.gl.UNSIGNED_BYTE,v),this}sliceScale(n=!1){var g;let u=this.screenFieldOfViewMM(0);n&&(u=this.screenFieldOfViewVox(0));const p=Math.max(u[0],Math.max(u[1],u[2])),v=[u[0]/p,u[1]/p,u[2]/p];if(!((g=this.back)!=null&&g.dims))throw new Error("back.dims undefined");const d=[this.back.dims[1],this.back.dims[2],this.back.dims[3]];return{volScale:v,vox:d,longestAxis:p,dimsMM:u}}tileIndex(n,u){for(let p=0;p<this.screenSlices.length;p++){const v=this.screenSlices[p].leftTopWidthHeight;if(n>v[0]&&u>v[1]&&n<v[0]+v[2]&&u<v[1]+v[3])return p}return-1}inRenderTile(n,u){const p=this.tileIndex(n,u);return p>=0&&this.screenSlices[p].axCorSag===4?p:-1}sliceScroll3D(n=0){if(n!==0){if(this.volumes.length>0&&this.scene.clipPlaneDepthAziElev[0]<1.8){const u=this.scene.clipPlaneDepthAziElev.slice();return n>0&&(u[0]=Math.min(1.5,u[0]+.025)),n<0&&(u[0]=Math.max(-1.5,u[0]-.025)),u[0]!==this.scene.clipPlaneDepthAziElev[0]?(this.scene.clipPlaneDepthAziElev=u,this.setClipPlane(this.scene.clipPlaneDepthAziElev)):void 0}n>0&&(this.scene.volScaleMultiplier=Math.min(2,this.scene.volScaleMultiplier*1.1)),n<0&&(this.scene.volScaleMultiplier=Math.max(.5,this.scene.volScaleMultiplier*.9)),this.drawScene()}}deleteThumbnail(){this.bmpTexture&&(this.gl.deleteTexture(this.bmpTexture),this.bmpTexture=null,this.thumbnailVisible=!1)}inGraphTile(n,u){if(this.graph.opacity<=0||this.volumes.length<1||this.volumes[0].nFrame4D<1||!this.graph.plotLTWH||this.graph.plotLTWH[2]<1||this.graph.plotLTWH[3]<1)return!1;const p=[(n-this.graph.LTWH[0])/this.graph.LTWH[2],(u-this.graph.LTWH[1])/this.graph.LTWH[3]];return p[0]>0&&p[1]>0&&p[0]<=1&&p[1]<=1}mouseClick(n,u,p=0,v=!0){if(n*=this.uiData.dpr,u*=this.uiData.dpr,this.canvas.focus(),this.thumbnailVisible){this.thumbnailVisible=!1,Promise.all([this.loadVolumes(this.deferredVolumes),this.loadMeshes(this.deferredMeshes)]).catch(d=>{throw d});return}if(this.inGraphTile(n,u)){if(!this.graph.plotLTWH)throw new Error("plotLTWH undefined");const d=[(n-this.graph.plotLTWH[0])/this.graph.plotLTWH[2],(u-this.graph.plotLTWH[1])/this.graph.plotLTWH[3]];if(d[0]>0&&d[1]>0&&d[0]<=1&&d[1]<=1){const g=Math.round(d[0]*(this.volumes[0].nFrame4D-1));this.setFrame4D(this.volumes[0].id,g);return}d[0]>.5&&d[1]>1&&this.loadDeferred4DVolumes(this.volumes[0].id).catch(g=>{throw g});return}if(this.inRenderTile(n,u)>=0){this.sliceScroll3D(p),this.drawScene();return}if(!(this.screenSlices.length<1||this.gl.canvas.height<1||this.gl.canvas.width<1))for(let d=0;d<this.screenSlices.length;d++){const g=this.screenSlices[d].axCorSag;if(this.drawPenAxCorSag>=0&&this.drawPenAxCorSag!==g||g>2)continue;const _=this.screenXY2TextureFrac(n,u,d,!1);if(!(_[0]<0)){if(!v){this.scene.crosshairPos[2-g]=p,this.drawScene();return}if(p!==0){let C=1;p<0&&(C=-1);const E=[0,0,0];E[2-g]=C,this.moveCrosshairInVox(E[0],E[1],E[2]),this.drawScene(),this.createOnLocationChange(g);return}if(this.opts.isForceMouseClickToVoxelCenters?this.scene.crosshairPos=clone$1(this.vox2frac(this.frac2vox(_))):this.scene.crosshairPos=clone$1(_),this.opts.drawingEnabled){const C=this.frac2vox(this.scene.crosshairPos);if(!isFinite(this.opts.penValue)||this.opts.penValue<0||Object.is(this.opts.penValue,-0)){isFinite(this.opts.penValue)?this.drawFloodFill(C,Math.abs(this.opts.penValue),this.opts.floodFillNeighbors):this.drawFloodFill(C,0,this.opts.penValue,this.opts.floodFillNeighbors);return}if(isNaN(this.drawPenLocation[0]))this.drawPenAxCorSag=g,this.drawPenFillPts=[],this.drawPt(...C,this.opts.penValue);else{if(C[0]===this.drawPenLocation[0]&&C[1]===this.drawPenLocation[1]&&C[2]===this.drawPenLocation[2])return;this.drawPenLine(C,this.drawPenLocation,this.opts.penValue)}this.drawPenLocation=C,this.opts.isFilledPen&&this.drawPenFillPts.push(C),this.refreshDrawing(!1)}this.drawScene(),this.createOnLocationChange(g);return}}}drawRuler(){let n=[],u=[];for(let C=0;C<this.screenSlices.length;C++)if(this.screenSlices[C].axCorSag!==4&&this.screenSlices[C].fovMM.length>1){u=this.screenSlices[C].leftTopWidthHeight,n=this.screenSlices[C].fovMM;break}if(u.length<4)return;const v=100/n[0]*u[2],d=u[0]+.5*u[2]-.5*v,g=u[1]+u[3]-2*this.opts.rulerWidth,_=[d,g,d+v,g];this.drawRuler10cm(_)}drawRuler10cm(n){if(!this.lineShader)throw new Error("lineShader undefined");this.gl.bindVertexArray(this.genericVAO),this.lineShader.use(this.gl),this.gl.uniform4fv(this.lineShader.uniforms.lineColor,this.opts.rulerColor),this.gl.uniform2fv(this.lineShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform1f(this.lineShader.uniforms.thickness,this.opts.rulerWidth),this.gl.uniform4fv(this.lineShader.uniforms.startXYendXY,n),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4);const u=-.1*(n[0]-n[2]),p=n[1],v=p-2*this.opts.rulerWidth,d=p-4*this.opts.rulerWidth;for(let g=0;g<11;g++){const _=n[0]+g*u,C=[_,p,_,v];g%5===0&&(C[3]=d),this.gl.uniform4fv(this.lineShader.uniforms.startXYendXY,C),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}this.gl.bindVertexArray(this.unusedVAO)}screenXY2mm(n,u,p=-1){let v;for(let d=0;d<this.screenSlices.length;d++){let g=d;if(p>=0&&(g=p),this.screenSlices[g].axCorSag>2)continue;const C=this.screenSlices[g].leftTopWidthHeight;if(n<C[0]||u<C[1]||n>C[0]+C[2]||u>C[1]+C[3]||(v=this.screenXY2TextureFrac(n,u,g,!1),v[0]<0))continue;const E=this.frac2mm(v);return fromValues$1(E[0],E[1],E[2],g)}return fromValues$1(NaN,NaN,NaN,NaN)}dragForPanZoom(n){const u=this.screenXY2mm(n[2],n[3]);if(isNaN(u[0]))return;const p=this.screenXY2mm(n[0],n[1],u[3]);if(isNaN(p[0])||isNaN(u[0])||isNaN(u[3]))return;const v=create$1(),d=this.uiData.pan2DxyzmmAtMouseDown[3];sub$1(v,u,p),this.scene.pan2Dxyzmm[0]=this.uiData.pan2DxyzmmAtMouseDown[0]+d*v[0],this.scene.pan2Dxyzmm[1]=this.uiData.pan2DxyzmmAtMouseDown[1]+d*v[1],this.scene.pan2Dxyzmm[2]=this.uiData.pan2DxyzmmAtMouseDown[2]+d*v[2]}dragForCenterButton(n){this.dragForPanZoom(n)}dragForSlicer3D(n){let u=this.uiData.pan2DxyzmmAtMouseDown[3];const p=n[3]-n[1];u+=p*.01,u=Math.max(u,.1),u=Math.min(u,10);const d=this.scene.pan2Dxyzmm[3]-u;this.opts.yoke3Dto2DZoom&&(this.scene.volScaleMultiplier=u),this.scene.pan2Dxyzmm[3]=u;const g=this.frac2mm(this.scene.crosshairPos);this.scene.pan2Dxyzmm[0]+=d*g[0],this.scene.pan2Dxyzmm[1]+=d*g[1],this.scene.pan2Dxyzmm[2]+=d*g[2]}drawMeasurementTool(n){const u=this.gl;if(u.bindVertexArray(this.genericVAO),u.depthFunc(u.ALWAYS),u.enable(u.BLEND),u.blendFunc(u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA),!this.lineShader)throw new Error("lineShader undefined");this.lineShader.use(this.gl),u.uniform4fv(this.lineShader.uniforms.lineColor,this.opts.rulerColor),u.uniform2fv(this.lineShader.uniforms.canvasWidthHeight,[u.canvas.width,u.canvas.height]),u.uniform1f(this.lineShader.uniforms.thickness,this.opts.rulerWidth),u.uniform4fv(this.lineShader.uniforms.startXYendXY,n),u.drawArrays(u.TRIANGLE_STRIP,0,4);const p=this.opts.rulerColor;p[3]=1,u.uniform4fv(this.lineShader.uniforms.lineColor,p);const v=this.opts.rulerWidth;u.uniform1f(this.lineShader.uniforms.thickness,v*2);let d=[n[0],n[1]-v,n[0],n[1]+v];u.uniform4fv(this.lineShader.uniforms.startXYendXY,d),u.drawArrays(u.TRIANGLE_STRIP,0,4),d=[n[2],n[3]-v,n[2],n[3]+v],u.uniform4fv(this.lineShader.uniforms.startXYendXY,d),u.drawArrays(u.TRIANGLE_STRIP,0,4);let g=this.canvasPos2frac([n[0],n[1]]),_=this.canvasPos2frac([n[2],n[3]]);if(g[0]>=0&&_[0]>=0){const C=this.frac2mm(g);g=fromValues$2(C[0],C[1],C[2]);const E=this.frac2mm(_);_=fromValues$2(E[0],E[1],E[2]);const w=create$2();sub$2(w,g,_);const m=len(w);let y=2;m>9&&(y=1),m>99&&(y=0);const e=m.toFixed(y);this.drawTextBetween(n,e,1,p)}u.bindVertexArray(this.unusedVAO)}drawRect(n,u=[1,0,0,-1]){if(u[3]<0&&(u=this.opts.crosshairColor),!this.rectShader)throw new Error("rectShader undefined");this.rectShader.use(this.gl),this.gl.enable(this.gl.BLEND),this.gl.uniform4fv(this.rectShader.uniforms.lineColor,u),this.gl.uniform2fv(this.rectShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform4f(this.rectShader.uniforms.leftTopWidthHeight,n[0],n[1],n[2],n[3]),this.gl.bindVertexArray(this.genericVAO),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO)}drawCircle(n,u=this.opts.fontColor,p=1){if(!this.circleShader)throw new Error("circleShader undefined");this.circleShader.use(this.gl),this.gl.enable(this.gl.BLEND),this.gl.uniform4fv(this.circleShader.uniforms.circleColor,u),this.gl.uniform2fv(this.circleShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform4f(this.circleShader.uniforms.leftTopWidthHeight,n[0],n[1],n[2],n[3]),this.gl.uniform1f(this.circleShader.uniforms.fillPercent,p),this.gl.uniform4fv(this.circleShader.uniforms.circleColor,u),this.gl.bindVertexArray(this.genericVAO),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO)}drawSelectionBox(n){this.drawRect(n,this.opts.selectionBoxColor)}effectiveCanvasHeight(){return this.gl.canvas.height-this.colorbarHeight}effectiveCanvasWidth(){return this.gl.canvas.width-this.getLegendPanelWidth()}getAllLabels(){const v=this.meshes.filter(g=>g.type==="connectome").flatMap(g=>g.nodes).map(g=>g.label).filter(g=>g!==void 0);return[...this.document.labels,...v]}getBulletMarginWidth(){let n=0;const u=this.getAllLabels();if(u.length===0)return 0;const p=u.length===1?u[0].style.bulletScale:u.reduce((g,_)=>g.style.bulletScale>_.style.bulletScale?g:_).style.bulletScale,v=u.length===1?u[0]:u.reduce((g,_)=>{const C=this.opts.textHeight*this.gl.canvas.height*g.style.textScale,E=this.opts.textHeight*this.gl.canvas.height*_.style.textScale;return this.textHeight(C,g.text)>this.textHeight(E,_.text)?g:_}),d=this.opts.textHeight*this.gl.canvas.height*v.style.textScale;return n=this.textHeight(d,v.text)*p,n+=d,n}getLegendPanelWidth(){const n=this.getAllLabels();if(!this.opts.showLegend||n.length===0)return 0;const p=this.opts.textHeight*this.gl.canvas.height*1;let v=0;const d=n.reduce((E,w)=>{const m=this.opts.textHeight*this.gl.canvas.height*E.style.textScale,y=this.opts.textHeight*this.gl.canvas.height*w.style.textScale;return this.textWidth(m,E.text)>this.textWidth(y,w.text)?E:w}),g=this.opts.textHeight*this.gl.canvas.height*d.style.textScale,_=this.textWidth(g,d.text),C=this.getBulletMarginWidth();return _&&(v=C+_,v+=p*2),v}getLegendPanelHeight(){const n=this.getAllLabels();let u=0;const v=this.opts.textHeight*this.gl.canvas.height*1;for(const d of n){const g=this.opts.textHeight*this.gl.canvas.height*d.style.textScale,_=this.textHeight(g,d.text);u+=_}return u&&(u+=v/2*(n.length+1)),u}reserveColorbarPanel(){let n=Math.max(this.opts.textHeight,.01);n=n*Math.min(this.gl.canvas.height,this.gl.canvas.width);const u=3*n,p=[0,this.gl.canvas.height-u,this.gl.canvas.width,u];return this.colorbarHeight=p[3]+1,p}drawColorbarCore(n=0,u=[0,0,0,0],p=!1,v=0,d=1,g){if(u[2]<=0||u[3]<=0)return;let _=Math.max(this.opts.textHeight,.01);_=_*Math.min(this.gl.canvas.height,this.gl.canvas.width);let C=_;const E=3*_;let w=_;if(u[3]<E){if(u[3]<3)return;C=1,w=u[3]-2}this.gl.disable(this.gl.DEPTH_TEST),this.colorbarHeight=u[3]+1;const m=[u[0]+C,u[1],u[2]-2*C,w],y=[m[0]-1,m[1]-1,m[2]+2,m[3]+2];if(this.drawRect(y,this.opts.crosshairColor),!this.colorbarShader)throw new Error("colorbarShader undefined");this.colorbarShader.use(this.gl),this.gl.activeTexture(TEXTURE1_COLORMAPS),this.gl.bindTexture(this.gl.TEXTURE_2D,this.colormapTexture),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST);const e=n;if(this.gl.uniform1f(this.colorbarShader.uniforms.layer,e),this.gl.uniform2fv(this.colorbarShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.disable(this.gl.CULL_FACE),p){const Y=[m[0]+m[2],m[1],-m[2],m[3]];this.gl.uniform4fv(this.colorbarShader.uniforms.leftTopWidthHeight,Y)}else this.gl.uniform4fv(this.colorbarShader.uniforms.leftTopWidthHeight,m);this.gl.bindVertexArray(this.genericVAO),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR);let P=0;if(g&&d<0&&p?(P=d,d=0):g&&v>0&&(P=v,v=0),v===d||_<1)return;const O=Math.abs(d-v);let[U,W]=tickSpacing(v,d);W<v&&(W+=U);function V(Y){return Y.toFixed(6).replace(/\.?0*$/,"")}let $=W;const b=[0,m[1]+m[3]-_*.5,2,_*.75],H=b[1]+b[3],G=1;for(;$<=d;){b[0]=m[0]+($-v)/O*m[2],this.drawRect(b);const Y=V(G*$);this.drawTextBelow([b[0],H],Y),$+=U}if(P!==0){const Y=[m[0]+(P-v)/O*m[2],m[1]-m[3]*.25,2,m[3]*1.5];this.drawRect(Y)}}drawColorbar(){const n=this.colormapLists,u=n.length;if(u<1)return;let p=0;for(let C=0;C<u;C++)n[C].visible&&p++;if(p<1)return;let v=this.reserveColorbarPanel(),d=Math.max(this.opts.textHeight,.01);d=d*Math.min(this.gl.canvas.height,this.gl.canvas.width);const g=3*d;let _=v[2]/p;(v[2]<=0||v[3]<=0)&&(_=this.gl.canvas.width/p,v=[0,this.gl.canvas.height-g,_,g]),v[2]=_;for(let C=0;C<u;C++)n[C].visible&&(this.drawColorbarCore(C,v,n[C].negative,n[C].min,n[C].max,n[C].alphaThreshold),v[0]+=_)}textWidth(n,u){if(!u)return 0;let p=0;const v=new TextEncoder().encode(u);for(let d=0;d<u.length;d++)p+=n*this.fontMets.mets[v[d]].xadv;return p}textHeight(n,u){if(!u)return 0;const p=new Set(Array.from(u)),v=new TextEncoder().encode(Array.from(p).join("")),g=Object.values(this.fontMets.mets).filter((_,C)=>v.includes(C)).reduce((_,C)=>_.lbwh[3]>C.lbwh[3]?_:C).lbwh[3];return n*g}drawChar(n,u,p){if(!this.fontShader)throw new Error("fontShader undefined");const v=this.fontMets.mets[p],d=n[0]+u*v.lbwh[0],g=-(u*v.lbwh[1]),_=u*v.lbwh[2],C=u*v.lbwh[3],E=n[1]+(g-C)+u;return this.gl.uniform4f(this.fontShader.uniforms.leftTopWidthHeight,d,E,_,C),this.gl.uniform4fv(this.fontShader.uniforms.uvLeftTopWidthHeight,v.uv_lbwh),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),u*v.xadv}drawLoadingText(n){if(!this.canvas)throw new Error("canvas undefined");this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.gl.enable(this.gl.CULL_FACE),this.gl.enable(this.gl.BLEND),this.drawTextBelow([this.canvas.width/2,this.canvas.height/2],n,3)}drawText(n,u,p=1,v=null){if(this.opts.textHeight<=0)return;if(!this.fontShader)throw new Error("fontShader undefined");this.fontShader.use(this.gl);const d=this.opts.textHeight*Math.min(this.gl.canvas.height,this.gl.canvas.width)*p;this.gl.enable(this.gl.BLEND),this.gl.uniform2f(this.fontShader.uniforms.canvasWidthHeight,this.gl.canvas.width,this.gl.canvas.height),v===null&&(v=this.opts.fontColor),this.gl.uniform4fv(this.fontShader.uniforms.fontColor,v);let g=d/this.fontMets.size*this.fontMets.distanceRange;g=Math.max(g,1),this.gl.uniform1f(this.fontShader.uniforms.screenPxRange,g);const _=new TextEncoder().encode(u);this.gl.bindVertexArray(this.genericVAO);for(let C=0;C<u.length;C++)n[0]+=this.drawChar(n,d,_[C]);this.gl.bindVertexArray(this.unusedVAO)}drawTextRight(n,u,p=1,v=null){this.opts.textHeight<=0||(n[1]-=.5*this.opts.textHeight*this.gl.canvas.height,this.drawText(n,u,p,v))}drawTextLeft(n,u,p=1,v=null){if(this.opts.textHeight<=0)return;const d=this.opts.textHeight*this.gl.canvas.height*p;n[0]-=this.textWidth(d,u),n[1]-=.5*d,this.drawText(n,u,p,v)}drawTextRightBelow(n,u,p=1,v=null){this.opts.textHeight<=0||this.drawText(n,u,p,v)}drawTextBetween(n,u,p=1,v=null){if(this.opts.textHeight<=0)return;const d=[(n[0]+n[2])*.5,(n[1]+n[3])*.5],g=this.opts.textHeight*this.gl.canvas.height*p,_=this.textWidth(g,u);d[0]-=.5*_,d[1]-=.5*g;const C=[d[0]-1,d[1]-1,_+2,g+2];let E=v;E===null&&(E=this.opts.crosshairColor),E&&E[0]+E[1]+E[2]>.8?E=[0,0,0,.5]:E=[1,1,1,.5],this.drawRect(C,E),this.drawText(d,u,p,v)}drawTextBelow(n,u,p=1,v=null){if(this.opts.textHeight<=0)return;if(!this.canvas)throw new Error("canvas undefined");let d=this.opts.textHeight*this.gl.canvas.height*p,g=this.textWidth(d,u);g>this.canvas.width&&(p*=(this.canvas.width-2)/g,d=this.opts.textHeight*this.gl.canvas.height*p,g=this.textWidth(d,u)),n[0]-=.5*this.textWidth(d,u),n[0]=Math.max(n[0],1),n[0]=Math.min(n[0],this.canvas.width-g-1),this.drawText(n,u,p,v)}updateInterpolation(n,u=!1){let p=this.gl.LINEAR;!u&&this.opts.isNearestInterpolation&&(p=this.gl.NEAREST),n===0?this.gl.activeTexture(TEXTURE0_BACK_VOL):this.gl.activeTexture(TEXTURE2_OVERLAY_VOL),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MIN_FILTER,p),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MAG_FILTER,p)}setAtlasOutline(n){this.opts.atlasOutline=n,this.updateGLVolume(),this.drawScene()}setInterpolation(n){this.opts.isNearestInterpolation=n;const u=this.volumes.length;if(!(u<1)){for(let p=0;p<u;p++)this.updateInterpolation(p);this.drawScene()}}calculateMvpMatrix2D(n,u,p,v=1/0,d=0,g=0,_=0,C){this.gl.viewport(n[0],this.gl.canvas.height-(n[1]+n[3]),n[2],n[3]);let w=u[0],m=p[0],y=[w,u[1]],e=[m-w,p[1]-u[1]];C&&(y=[p[0],u[1]],e=[u[0]-p[0],p[1]-u[1]],w=-p[0],m=-u[0]);const P=2*Math.max(Math.abs(u[2]),Math.abs(p[2])),O=create$3();let U=.01,W=P*8;if(v!==1/0){let Y=C;_===0&&(g===0||g===180)&&(Y=!Y);let X=P*1.8-d;Y||(X=P*1.8+d),U=X-v,W=X+v}ortho(O,w,m,u[1],p[1],U,W);const V=create$3();V[0]=-1;const $=fromValues$2(0,0,-P*1.8);translate(V,V,$),rotateX(V,V,deg2rad(270-_)),rotateZ(V,V,deg2rad(g-180));const b=create$3();invert(b,V);const H=create$3();transpose$1(H,b);const G=create$3();return multiply(G,O,V),{modelViewProjectionMatrix:G,modelMatrix:V,normalMatrix:H,leftTopMM:y,fovMM:e}}swizzleVec3MM(n,u){return u===1?n=swizzleVec3(n,[0,2,1]):u===2&&(n=swizzleVec3(n,[1,2,0])),n}screenFieldOfViewVox(n=0){const u=clone$1(this.volumeObject3D.fieldOfViewDeObliqueMM);return this.swizzleVec3MM(u,n)}screenFieldOfViewMM(n=0,u=!1){if(!u&&!this.opts.isSliceMM)return this.screenFieldOfViewVox(n);const p=this.volumeObject3D.extentsMin,v=this.volumeObject3D.extentsMax;let d=fromValues$2(p[0],p[1],p[2]),g=fromValues$2(v[0],v[1],v[2]);d=this.swizzleVec3MM(d,n),g=this.swizzleVec3MM(g,n);const _=create$2();return subtract$1(_,g,d),_}screenFieldOfViewExtendedVox(n=0){const u=this.volumes[0].extentsMinOrtho,p=this.volumes[0].extentsMaxOrtho;let v=fromValues$2(u[0],u[1],u[2]),d=fromValues$2(p[0],p[1],p[2]);const g=create$3();v=this.swizzleVec3MM(v,n),d=this.swizzleVec3MM(d,n);const _=create$2();return subtract$1(_,d,v),{mnMM:v,mxMM:d,rotation:g,fovMM:_}}screenFieldOfViewExtendedMM(n=0){if(!this.volumeObject3D)throw new Error("volumeObject3D undefined");const u=this.volumeObject3D.extentsMin,p=this.volumeObject3D.extentsMax;let v=fromValues$2(u[0],u[1],u[2]),d=fromValues$2(p[0],p[1],p[2]);const g=create$3();v=this.swizzleVec3MM(v,n),d=this.swizzleVec3MM(d,n);const _=create$2();return subtract$1(_,d,v),{mnMM:v,mxMM:d,rotation:g,fovMM:_}}drawSliceOrientationText(n,u){this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height);let p="S";u===0&&(p="A");let v=this.opts.isRadiologicalConvention?"R":"L";if(u===2&&(v=this.opts.sagittalNoseLeft?"A":"P"),this.opts.isCornerOrientationText){this.drawTextRightBelow([n[0],n[1]],v+p);return}this.drawTextBelow([n[0]+n[2]*.5,n[1]],p),this.drawTextRight([n[0],n[1]+n[3]*.5],v)}xyMM2xyzMM(n,u){let p=2;n===1&&(p=1),n===2&&(p=0);let v=[0,0,0],d=[1,1,0],g=[1,0,1];v[p]=u,d[p]=u,g[p]=u,v=this.frac2mm(v),d=this.frac2mm(d),g=this.frac2mm(g),v=this.swizzleVec3MM(fromValues$2(v[0],v[1],v[2]),n),d=this.swizzleVec3MM(fromValues$2(d[0],d[1],d[2]),n),g=this.swizzleVec3MM(fromValues$2(g[0],g[1],g[2]),n);const _=(d[0]-v[0])*(g[1]-v[1])-(g[0]-v[0])*(d[1]-v[1]);let C=(d[0]-v[0])*(g[2]-v[2])-(g[0]-v[0])*(d[2]-v[2]);C/=_;let E=(d[1]-v[1])*(g[2]-v[2])-(g[1]-v[1])*(d[2]-v[2]);E/=_;const w=[0,0,0,0,0];return w[0]=v[0],w[1]=v[1],w[2]=v[2],w[3]=E,w[4]=C,w}draw2D(n,u,p=NaN){let v=this.volumes[0].frac2mm.slice(),d=this.screenFieldOfViewExtendedMM(u),g=create$3();this.opts.isSliceMM||(v=this.volumes[0].frac2mmOrtho.slice(),g=clone$2(this.volumes[0].mm2ortho),d=this.screenFieldOfViewExtendedVox(u));let _=this.opts.isRadiologicalConvention&&u<2;p===1/0||p===-1/0?(_=p!==1/0,u===1&&(_=!_)):this.opts.sagittalNoseLeft&&u===2&&(_=!_);let C=0,E=0;u===2?E=_?90:-90:u===1?E=_?180:0:(E=_?180:0,C=_?-90:90);const w=this.gl;if(n[2]===0||n[3]===0){const W=w.canvas.width/d.fovMM[0],V=w.canvas.height/d.fovMM[1],$=Math.min(W,V),b=W/$,H=V/$;d.fovMM[0]*=b,d.fovMM[1]*=H;let G=(d.mnMM[0]+d.mxMM[0])*.5;d.mnMM[0]=G-d.fovMM[0]*.5,d.mxMM[0]=G+d.fovMM[0]*.5,G=(d.mnMM[1]+d.mxMM[1])*.5,d.mnMM[1]=G-d.fovMM[1]*.5,d.mxMM[1]=G+d.fovMM[1]*.5,n=[0,0,w.canvas.width,w.canvas.height]}if(isNaN(p)){const W=this.scene.pan2Dxyzmm,V=this.swizzleVec3MM(fromValues$2(W[0],W[1],W[2]),u),$=this.scene.pan2Dxyzmm[3];d.mnMM[0]-=V[0],d.mxMM[0]-=V[0],d.mnMM[1]-=V[1],d.mxMM[1]-=V[1],d.mnMM[0]/=$,d.mxMM[0]/=$,d.mnMM[1]/=$,d.mxMM[1]/=$}let m=2;u===1&&(m=1),u===2&&(m=0);let y=this.scene.crosshairPos[m],e=this.frac2mm(this.scene.crosshairPos);!isNaN(p)&&p!==1/0&&p!==-1/0&&(e=this.frac2mm([.5,.5,.5]),e[m]=p,y=this.mm2frac(e)[m]);const P=e[m];w.clear(w.DEPTH_BUFFER_BIT);let O=this.calculateMvpMatrix2D(n,d.mnMM,d.mxMM,1/0,0,E,C,_);if(p===1/0||p===-1/0){const W=n.slice();this.draw3D(n,O.modelViewProjectionMatrix,O.modelMatrix,O.normalMatrix,E,C);const V=this.screenSlices[this.screenSlices.length-1];V.leftTopWidthHeight=W,V.axCorSag=u,V.sliceFrac=1/0,V.AxyzMxy=this.xyMM2xyzMM(u,y),V.leftTopMM=O.leftTopMM,V.fovMM=O.fovMM;return}w.enable(w.DEPTH_TEST),w.blendFunc(w.SRC_ALPHA,w.ONE_MINUS_SRC_ALPHA),w.disable(w.BLEND),w.depthFunc(w.GREATER),w.disable(w.CULL_FACE);let U=this.sliceMMShader;if(this.opts.isV1SliceShader&&(U=this.sliceV1Shader),!U)throw new Error("slice Shader undefined");if(U.use(this.gl),w.uniform1f(U.uniforms.overlayOutlineWidth,this.overlayOutlineWidth),w.uniform1f(U.uniforms.overlayAlphaShader,this.overlayAlphaShader),w.uniform1i(U.uniforms.isAlphaClipDark,this.isAlphaClipDark?1:0),w.uniform1i(U.uniforms.backgroundMasksOverlays,this.backgroundMasksOverlays),w.uniform1f(U.uniforms.drawOpacity,this.drawOpacity),w.enable(w.BLEND),w.blendFunc(w.SRC_ALPHA,w.ONE_MINUS_SRC_ALPHA),w.uniform1f(U.uniforms.opacity,this.volumes[0].opacity),w.uniform1i(U.uniforms.axCorSag,u),w.uniform1f(U.uniforms.slice,y),w.uniformMatrix4fv(U.uniforms.frac2mm,!1,v),w.uniformMatrix4fv(U.uniforms.mvpMtx,!1,O.modelViewProjectionMatrix.slice()),w.bindVertexArray(this.genericVAO),w.drawArrays(w.TRIANGLE_STRIP,0,4),w.bindVertexArray(this.unusedVAO),this.screenSlices.push({leftTopWidthHeight:n,axCorSag:u,sliceFrac:y,AxyzMxy:this.xyMM2xyzMM(u,y),leftTopMM:O.leftTopMM,screen2frac:[],fovMM:O.fovMM}),isNaN(p)&&this.drawCrosshairs3D(!0,1,O.modelViewProjectionMatrix,!0,this.opts.isSliceMM),this.opts.meshThicknessOn2D>0){this.opts.meshThicknessOn2D!==1/0&&(O=this.calculateMvpMatrix2D(n,d.mnMM,d.mxMM,this.opts.meshThicknessOn2D,P,E,C,_));const W=clone$2(O.modelViewProjectionMatrix);multiply(W,W,g),this.drawMesh3D(!0,1,W,O.modelMatrix,O.normalMatrix)}isNaN(p)&&this.drawCrosshairs3D(!1,.15,O.modelViewProjectionMatrix,!0,this.opts.isSliceMM),this.drawSliceOrientationText(n,u),this.readyForSync=!0}calculateMvpMatrix(n,u=[0,0,0,0],p,v){(u[2]===0||u[3]===0)&&(u=[0,0,this.gl.canvas.width,this.gl.canvas.height]);const d=u[2]/u[3];let g=this.furthestFromPivot;const _=this.pivot3D,C=create$3();g=.8*g/this.scene.volScaleMultiplier,d<1?ortho(C,-g,g,-g/d,g/d,g*.01,g*8):ortho(C,-g*d,g*d,-g,g,g*.01,g*8);const E=create$3();E[0]=-1;const w=fromValues$2(0,0,-g*1.8);translate(E,E,w),this.position&&translate(E,E,this.position),rotateX(E,E,deg2rad(270-v)),rotateZ(E,E,deg2rad(p-180)),translate(E,E,[-_[0],-_[1],-_[2]]);const m=create$3();invert(m,E);const y=create$3();transpose$1(y,m);const e=create$3();return multiply(e,C,E),[e,E,y]}calculateModelMatrix(n,u){if(!this.back)throw new Error("back undefined");const p=create$3();if(p[0]=-1,rotateX(p,p,deg2rad(270-u)),rotateZ(p,p,deg2rad(n-180)),this.back.obliqueRAS){const v=clone$2(this.back.obliqueRAS);multiply(p,p,v)}return p}calculateRayDirection(n,u){const p=this.calculateModelMatrix(n,u),v=fromValues$3(1,0,0,0,0,-1,0,0,0,0,-1,0,0,0,0,1),d=create$3();multiply(d,v,p);const g=create$3();invert(g,d);const _=fromValues$1(0,0,-1,1);transformMat4(_,_,g);const C=fromValues$2(_[0],_[1],_[2]);normalize$1(C,C);const E=5e-5;return Math.abs(C[0])<E&&(C[0]=E),Math.abs(C[1])<E&&(C[1]=E),Math.abs(C[2])<E&&(C[2]=E),C}sceneExtentsMinMax(n=!0){let u=fromValues$2(0,0,0),p=fromValues$2(0,0,0);if(this.volumes.length>0){if(!this.volumeObject3D)throw new Error("volumeObject3D undefined");u=fromValues$2(this.volumeObject3D.extentsMin[0],this.volumeObject3D.extentsMin[1],this.volumeObject3D.extentsMin[2]),p=fromValues$2(this.volumeObject3D.extentsMax[0],this.volumeObject3D.extentsMax[1],this.volumeObject3D.extentsMax[2]),n||(u=fromValues$2(this.volumes[0].extentsMinOrtho[0],this.volumes[0].extentsMinOrtho[1],this.volumes[0].extentsMinOrtho[2]),p=fromValues$2(this.volumes[0].extentsMaxOrtho[0],this.volumes[0].extentsMaxOrtho[1],this.volumes[0].extentsMaxOrtho[2]))}if(this.meshes.length>0){if(this.volumes.length<1){const d=this.meshes[0].extentsMin,g=this.meshes[0].extentsMax;u=fromValues$2(d[0],d[1],d[2]),p=fromValues$2(g[0],g[1],g[2])}for(let d=0;d<this.meshes.length;d++){const g=this.meshes[d].extentsMin,_=this.meshes[d].extentsMax,C=fromValues$2(g[0],g[1],g[2]);min(u,u,C);const E=fromValues$2(_[0],_[1],_[2]);max$2(p,p,E)}}const v=create$2();return subtract$1(v,p,u),[u,p,v]}setPivot3D(){const[n,u]=this.sceneExtentsMinMax(),p=create$2();add$1(p,n,u),scale$2(p,p,.5),this.pivot3D=[p[0],p[1],p[2]],subtract$1(p,u,n),this.extentsMin=n,this.extentsMax=u,this.furthestFromPivot=length$1(p)*.5}getMaxVols(){if(this.volumes.length<1)return 0;let n=0;for(let u=0;u<this.volumes.length;u++)n=Math.max(n,this.volumes[u].nFrame4D);return n}detectPartialllyLoaded4D(){if(this.volumes.length<1)return!1;for(let n=0;n<this.volumes.length;n++)if(this.volumes[n].nFrame4D<this.volumes[n].hdr.dims[4])return!0;return!1}drawGraph(){if(this.getMaxVols()<2)return;const n=this.graph;let u=0;if(this.graph.autoSizeMultiplanar&&this.opts.sliceType===3)for(let le=0;le<this.screenSlices.length;le++){const he=this.screenSlices[le].axCorSag;if(he===0&&(u=this.screenSlices[le].leftTopWidthHeight[1]),he!==2)continue;const pe=this.screenSlices[le].leftTopWidthHeight.slice();pe[1]===u?(n.LTWH[0]=pe[0]+pe[2],n.LTWH[1]=pe[1]):(n.LTWH[0]=pe[0],n.LTWH[1]=pe[1]+pe[3]),n.LTWH[2]=pe[2],n.LTWH[3]=pe[2]}if(n.opacity<=0||n.LTWH[2]<=5||n.LTWH[3]<=5||n.LTWH[0]+n.LTWH[2]>this.gl.canvas.width||n.LTWH[1]+n.LTWH[3]>this.gl.canvas.height)return;n.backColor=[.15,.15,.15,n.opacity],n.lineColor=[1,1,1,1],this.opts.backColor[0]+this.opts.backColor[1]+this.opts.backColor[2]>1.5&&(n.backColor=[.95,.95,.95,n.opacity],n.lineColor=[0,0,0,1]),n.textColor=n.lineColor.slice(),n.lineThickness=4,n.lineAlpha=1,n.lines=[];const p=[];if(n.vols.length<1)this.volumes[0]!=null&&p.push(0);else for(let le=0;le<n.vols.length;le++){const he=n.vols[le];this.volumes[he]==null||this.volumes[he].nFrame4D<2||p.push(he)}if(p.length<1)return;const v=this.volumes[p[0]].nFrame4D;if(this.graph.selectedColumn=this.volumes[p[0]].frame4D,v<2){log$1.debug("Unable to generate a graph: Selected volume is 3D not 4D");return}for(let le=0;le<p.length;le++){n.lines[le]=[];const he=this.frac2vox(this.scene.crosshairPos),pe=this.volumes[p[le]];let Ae=pe.nFrame4D;Ae=Math.min(Ae,v);for(let ge=0;ge<Ae;ge++){const ye=pe.getValue(he[0],he[1],he[2],ge);n.lines[le].push(ye)}}n.lineRGB=[[1,0,0],[0,.7,0],[0,0,1],[1,1,0],[1,0,1],[0,1,1],[1,1,1],[0,0,0]];let d=n.lines[0][0],g=n.lines[0][0];for(let le=0;le<n.lines.length;le++)for(let he=0;he<n.lines[le].length;he++){const pe=n.lines[le][he];d=Math.min(pe,d),g=Math.max(pe,g)}if(n.normalizeValues&&g>d){const le=g-d;for(let he=0;he<n.lines.length;he++)for(let pe=0;pe<n.lines[he].length;pe++){const Ae=n.lines[he][pe];n.lines[he][pe]=(Ae-d)/le}d=0,g=1}d>=g&&(g=d+1),this.drawRect(n.LTWH,n.backColor);const[_,C,E]=tickSpacing(d,g),w=Math.max(0,-1*Math.floor(Math.log(_)/Math.log(10)));d=Math.min(C,d),g=Math.max(E,g);function m(le){return le.toFixed(6).replace(/\.?0*$/,"")}const e=.07*(Math.min(n.LTWH[2],n.LTWH[3])/(this.fontMets.size*this.uiData.dpr));let P=this.opts.textHeight*this.gl.canvas.height*e;P<16&&(P=0);let O=0,U=C;if(P>0)for(;U<=g;){const le=U.toFixed(w),he=this.textWidth(P,le);O=Math.max(he,O),U+=_}const W=.05,V=Math.abs(n.LTWH[2]),$=Math.abs(n.LTWH[3]),b=[n.LTWH[0]+W*V+O,n.LTWH[1]+W*$,n.LTWH[2]-O-2*W*V,n.LTWH[3]-P-2*W*$];this.graph.LTWH=n.LTWH,this.graph.plotLTWH=b,this.drawRect(b,this.opts.backColor);const H=g-d,G=b[3]/H,Y=b[2]/(n.lines[0].length-1),X=b[1]+b[3];U=C+.5*_;const j=n.lineColor.slice();for(j[3]=.25*n.lineColor[3];U<=g;){const le=X-(U-d)*G;this.drawLine([b[0],le,b[0]+b[2],le],.5*n.lineThickness,j),U+=_}U=C;const h=.5*n.lineThickness;for(;U<=g;){const le=X-(U-d)*G;this.drawLine([b[0]-h,le,b[0]+b[2]+n.lineThickness,le],n.lineThickness,n.lineColor);const he=U.toFixed(w);P>0&&this.drawTextLeft([b[0]-6,le],he,e,n.textColor),U+=_}let ae=1;for(;n.lines[0].length/ae>20;)ae*=5;for(let le=0;le<n.lines[0].length;le+=ae){const he=le*Y+b[0];let pe=n.lineThickness;if(le%2===1)pe*=.5,this.drawLine([he,b[1],he,b[1]+b[3]],pe,j);else{const Ae=m(le);P>0&&this.drawTextBelow([he,2+b[1]+b[3]],Ae,e,n.textColor),this.drawLine([he,b[1],he,b[1]+b[3]],pe,n.lineColor)}}for(let le=0;le<n.lines.length;le++){let he=[1,0,0,n.lineAlpha];le<n.lineRGB.length&&(he=[n.lineRGB[le][0],n.lineRGB[le][1],n.lineRGB[le][2],n.lineAlpha]);for(let pe=1;pe<n.lines[le].length;pe++){const Ae=(pe-1)*Y,ge=pe*Y,ye=(n.lines[le][pe-1]-d)*G,we=(n.lines[le][pe]-d)*G,be=[b[0]+Ae,b[1]+b[3]-ye,b[0]+ge,b[1]+b[3]-we];this.drawLine(be,n.lineThickness,he)}}if(n.selectedColumn>=0&&n.selectedColumn<n.lines[0].length){const le=n.selectedColumn*Y+b[0];this.drawLine([le,b[1],le,b[1]+b[3]],n.lineThickness,[n.lineRGB[3][0],n.lineRGB[3][1],n.lineRGB[3][2],1])}this.detectPartialllyLoaded4D()&&this.drawTextBelow([b[0]+b[2],b[1]+b[3]+P*.5],"...",e,n.textColor)}depthPicker(n,u){if(!this.uiData.mouseDepthPicker)return;this.uiData.mouseDepthPicker=!1;const p=this.gl,v=this.mousePos[0]*n[2]/n[2],d=p.canvas.height-this.mousePos[1]*n[3]/n[3]-1,g=new Uint8Array(4);if(p.readPixels(v,d,1,1,p.RGBA,p.UNSIGNED_BYTE,g),this.selectedObjectId=g[3],this.selectedObjectId===this.VOLUME_ID){this.scene.crosshairPos=new Float32Array(g.slice(0,3)).map(y=>y/255);return}const _=unpackFloatFromVec4i(g);if(_>1)return;const C=(this.mousePos[0]-n[0])/n[2],E=(p.canvas.height-this.mousePos[1]-n[1])/n[3],w=unProject(C,E,_,u),m=this.mm2frac(w,0,!0);m[0]<0||m[0]>1||m[1]<0||m[1]>1||m[2]<0||m[2]>1||(this.scene.crosshairPos=this.mm2frac(w,0,!0))}drawImage3D(n,u,p){if(this.volumes.length===0)return;const v=this.gl,d=this.calculateRayDirection(u,p),g=this.volumeObject3D;if(g){v.enable(v.BLEND),v.blendFunc(v.SRC_ALPHA,v.ONE_MINUS_SRC_ALPHA),v.enable(v.CULL_FACE),v.cullFace(v.FRONT);let _=this.renderShader;if(this.uiData.mouseDepthPicker&&(_=this.pickingImageShader),_.use(this.gl),v.uniform1i(_.uniforms.backgroundMasksOverlays,this.backgroundMasksOverlays),this.gradientTextureAmount>0){v.activeTexture(TEXTURE6_GRADIENT),v.bindTexture(v.TEXTURE_3D,this.gradientTexture);const C=this.calculateModelMatrix(u,p),E=create$3();invert(E,C);const w=create$3();transpose$1(w,E),v.uniformMatrix4fv(_.uniforms.normMtx,!1,w)}this.drawBitmap&&this.drawBitmap.length>8?v.uniform2f(_.uniforms.renderDrawAmbientOcclusionXY,this.renderDrawAmbientOcclusion,this.drawOpacity):v.uniform2f(_.uniforms.renderDrawAmbientOcclusionXY,this.renderDrawAmbientOcclusion,0),v.uniformMatrix4fv(_.uniforms.mvpMtx,!1,n),v.uniformMatrix4fv(_.uniforms.matRAS,!1,this.back.matRAS),v.uniform3fv(_.uniforms.rayDir,d),this.gradientTextureAmount<0?v.uniform4fv(_.uniforms.clipPlane,[this.scene.crosshairPos[0],this.scene.crosshairPos[1],this.scene.crosshairPos[2],30]):v.uniform4fv(_.uniforms.clipPlane,this.scene.clipPlane),v.uniform1f(_.uniforms.drawOpacity,1),v.bindVertexArray(g.vao),v.drawElements(g.mode,g.indexCount,v.UNSIGNED_SHORT,0),v.bindVertexArray(this.unusedVAO)}}drawOrientationCube(n,u=0,p=0){if(!this.opts.isOrientCube)return;const v=.05*Math.min(n[2],n[3]);if(v<5)return;const d=this.gl;d.enable(d.CULL_FACE),d.cullFace(d.BACK),this.orientCubeShader.use(this.gl),d.bindVertexArray(this.orientCubeShaderVAO);const g=create$3(),_=create$3();ortho(_,0,d.canvas.width,0,d.canvas.height,-10*v,10*v);let C=0;n[1]===0&&(C=d.canvas.height-this.effectiveCanvasHeight()),translate(g,g,[1.8*v+n[0],C+1.8*v+n[1],0]),scale$3(g,g,[v,v,v]),rotateX(g,g,deg2rad(270-p)),rotateZ(g,g,deg2rad(-u));const E=create$3();multiply(E,_,g),d.uniformMatrix4fv(this.orientCubeShader.uniforms.u_matrix,!1,E),d.drawArrays(d.TRIANGLE_STRIP,0,168),d.bindVertexArray(this.unusedVAO),this.gl.disable(this.gl.CULL_FACE)}createOnLocationChange(n=NaN){const[u,p,v]=this.sceneExtentsMinMax(!0),d=Math.max(Math.max(v[0],v[1]),v[2]);function g(y){return Math.max(0,-Math.ceil(Math.log10(Math.abs(y))))}let _=g(d*.001);const C=this.frac2mm(this.scene.crosshairPos,0,!0);function E(y,e=0){return parseFloat(y.toFixed(e))}let w=E(C[0],_)+"×"+E(C[1],_)+"×"+E(C[2],_);if(this.volumes.length>0&&this.volumes[0].nFrame4D>0&&(w+="×"+E(this.volumes[0].frame4D)),this.volumes.length>0){let y=" = ";for(let O=0;O<this.volumes.length;O++){const U=this.volumes[O].mm2vox(C);let W=this.volumes[O].getValue(U[0],U[1],U[2],this.volumes[O].frame4D);if(_=3,this.volumes[O].colormapLabel!==null){const V=Math.round(W);V>=0&&V<this.volumes[O].colormapLabel.labels.length?y+=this.volumes[O].colormapLabel.labels[V]:y+="undefined("+E(W,_)+")"}else y+=E(W,_);this.volumes[O].imaginary&&(W=this.volumes[O].getValue(U[0],U[1],U[2],this.volumes[O].frame4D,!0),W>=0&&(y+="+"),y+=E(W,_)),y+="   "}w+=y;const e=this.back.dimsRAS,P=e[1]*e[2]*e[3];if(this.drawBitmap&&this.drawBitmap.length===P){const O=this.frac2vox(this.scene.crosshairPos),U=O[0]+O[1]*e[1]+O[2]*e[1]*e[2];w+=" "+this.drawLut.labels[this.drawBitmap[U]]}}const m={mm:this.frac2mm(this.scene.crosshairPos,0,!0),axCorSag:n,vox:this.frac2vox(this.scene.crosshairPos),frac:this.scene.crosshairPos,xy:[this.mousePos[0],this.mousePos[1]],values:this.volumes.map(y=>{const e=this.frac2mm(this.scene.crosshairPos,0,!0),P=y.mm2vox(e),O=y.getValue(P[0],P[1],P[2],y.frame4D);return{name:y.name,value:O,id:y.id,mm:e,vox:P}}),string:w};this.onLocationChange(m)}addLabel(n,u,p){const v={textColor:this.opts.legendTextColor,textScale:1,textAlignment:"left",lineWidth:0,lineColor:this.opts.legendTextColor,lineTerminator:"none",bulletScale:0,bulletColor:this.opts.legendTextColor},d=u?{...v,...u}:{...v},g=new NVLabel3D(n,d,p);return this.document.labels.push(g),g}calculateScreenPoint(n,u,p){const v=create$1();return transformMat4(v,[...n,1],u),v[3]!==0&&(v[0]=(v[0]/v[3]+1)*.5*p[2],v[1]=(1-v[1]/v[3])*.5*p[3],v[2]/=v[3],v[0]+=p[0],v[1]+=p[1]),v}getLabelAtPoint(n){log$1.debug("screenPoint",n);const u=this.getLegendPanelHeight(),p=this.getLegendPanelWidth(),v=this.gl.canvas.width-p;let d=(this.canvas.height-u)/2;if(log$1.debug("panelrect",v,d,v+p,d+u),n[0]<v||n[1]<d||n[0]>v+p||n[1]>d+u)return null;const _=this.opts.textHeight*Math.min(this.gl.canvas.height,this.gl.canvas.width)*1,C=this.getAllLabels();for(const E of C){const w=this.opts.textHeight*this.gl.canvas.height*E.style.textScale,m=this.textHeight(w,E.text);if(n[1]>=d&&n[1]<=d+m+_/2)return E;d+=m,d+=_/2}return null}drawLabelLine(n,u,p,v,d=!1){const g=Array.isArray(n.points)&&Array.isArray(n.points[0])?n.points:[n.points];for(const _ of g){const C=this.calculateScreenPoint(_,p,v);d?this.drawDottedLine([...u,C[0],C[1]],n.style.lineWidth,n.style.lineColor):this.draw3DLine(u,[C[0],C[1],C[2]],n.style.lineWidth,n.style.lineColor)}}draw3DLabel(n,u,p,v,d=0,g,_=!1){const C=n.text,E=u[0],w=u[1],m=this.opts.textHeight*Math.min(this.gl.canvas.height,this.gl.canvas.width)*1,y=this.textHeight(n.style.textScale,C)*m;if(n.style.lineWidth>0&&Array.isArray(n.points)&&this.drawLabelLine(n,[E,w+y],p,v,_),n.style.bulletScale){const P=n.style.bulletScale*y,O=y-P,U=w+O/2+P/2,W=E+(d-P)/2;this.drawCircle([W,U,P,P],n.style.bulletColor)}let e=E;if(n.style.textAlignment!=="left"){const P=this.textWidth(n.style.textScale,n.text)*m;if(n.style.textAlignment==="right")e=E+g-m*1.5-P;else{const O=g-(d||m);e+=(O-P)/2}}else e+=d;this.drawText([e,w],C,n.style.textScale,n.style.textColor)}draw3DLabels(n,u,p=!1){const v=this.getAllLabels();if(!this.opts.showLegend||v.length===0)return;if(!this.canvas)throw new Error("canvas undefined");const d=this.gl;d.disable(d.CULL_FACE),d.viewport(0,0,this.canvas.width,this.canvas.height);const _=this.opts.textHeight*Math.min(this.gl.canvas.height,this.gl.canvas.width)*1,C=this.getBulletMarginWidth(),E=this.getLegendPanelHeight(),w=this.getLegendPanelWidth(),m=d.canvas.width-w;let y=(this.canvas.height-E)/2;this.drawRect([d.canvas.width-w,y,w-_,E],this.opts.legendBackgroundColor);const e=d.getParameter(d.BLEND),P=d.getParameter(d.DEPTH_FUNC);p||(d.disable(d.BLEND),d.depthFunc(d.GREATER));for(const O of v){this.draw3DLabel(O,[m,y],n,u,C,w,p);const U=this.opts.textHeight*this.gl.canvas.height*O.style.textScale,W=this.textHeight(U,O.text);y+=W,y+=_/2}p||(d.depthFunc(P),e&&d.enable(d.BLEND))}draw3D(n=[0,0,0,0],u=null,p=null,v=null,d=null,g=0){const _=d!==null;this.setPivot3D(),_||(d=this.scene.renderAzimuth,g=this.scene.renderElevation);const C=this.gl;u===null&&([u,p,v]=this.calculateMvpMatrix(null,n,d,g));let E=[...n];if(n[2]===0||n[3]===0?(n=[0,0,C.canvas.width,C.canvas.height],E=[...n],this.screenSlices.push({leftTopWidthHeight:n,axCorSag:4,sliceFrac:0,AxyzMxy:[],leftTopMM:[],fovMM:[isRadiological(p),0]})):(this.screenSlices.push({leftTopWidthHeight:n.slice(),axCorSag:4,sliceFrac:0,AxyzMxy:[],leftTopMM:[],fovMM:[isRadiological(p),0]}),n[1]=C.canvas.height-n[3]-n[1]),C.enable(C.DEPTH_TEST),C.depthFunc(C.ALWAYS),C.depthMask(!0),C.clearDepth(0),this.draw3DLabels(u,E,!1),C.viewport(n[0],n[1],n[2],n[3]),this.volumes.length>0&&(this.updateInterpolation(0,!0),this.updateInterpolation(1,!0),this.drawImage3D(u,d,g)),this.updateInterpolation(0),this.updateInterpolation(1),_||this.drawCrosshairs3D(!0,1,u),this.drawMesh3D(!0,1,u,p,v),this.uiData.mouseDepthPicker){this.depthPicker(n,u),this.createOnLocationChange(),this.draw3D(n,u,p,v,d,g);return}this.opts.meshXRay>0&&this.drawMesh3D(!1,this.opts.meshXRay,u,p,v),this.draw3DLabels(u,E,!1),C.viewport(n[0],n[1],n[2],n[3]),_||this.drawCrosshairs3D(!1,.15,u),C.viewport(0,0,C.canvas.width,C.canvas.height),this.drawOrientationCube(n,d,g);const w="azimuth: "+this.scene.renderAzimuth.toFixed(0)+" elevation: "+this.scene.renderElevation.toFixed(0);return this.readyForSync=!0,this.sync(),this.draw3DLabels(u,E,!0),w}drawMesh3D(n=!0,u=1,p,v,d){if(this.meshes.length<1)return;const g=this.gl;p||([p,v,d]=this.calculateMvpMatrix(this.volumeObject3D,void 0,this.scene.renderAzimuth,this.scene.renderElevation)),g.enable(g.DEPTH_TEST),g.blendFunc(g.SRC_ALPHA,g.ONE_MINUS_SRC_ALPHA),g.disable(g.BLEND),g.depthFunc(g.GREATER),g.disable(g.CULL_FACE),n?(g.disable(g.BLEND),g.depthFunc(g.GREATER)):(g.enable(g.BLEND),g.depthFunc(g.ALWAYS),g.enable(g.CULL_FACE)),g.cullFace(g.BACK);let _=this.meshShaders[0].shader,C=!1;for(let E=0;E<this.meshes.length;E++)if(this.meshes[E].visible!==!1&&(_=this.meshShaders[this.meshes[E].meshShaderIndex].shader,this.uiData.mouseDepthPicker&&(_=this.pickingMeshShader),_.use(this.gl),g.uniformMatrix4fv(_.uniforms.mvpMtx,!1,p),g.uniformMatrix4fv(_.uniforms.normMtx,!1,d),g.uniform1f(_.uniforms.opacity,u),!(this.meshes[E].indexCount<3))){if(this.meshes[E].offsetPt0&&(this.meshes[E].fiberSides<3||this.meshes[E].fiberRadius<=0)){C=!0;continue}_.isMatcap&&(g.activeTexture(TEXTURE5_MATCAP),g.bindTexture(g.TEXTURE_2D,this.matCapTexture)),g.bindVertexArray(this.meshes[E].vao),g.drawElements(g.TRIANGLES,this.meshes[E].indexCount,g.UNSIGNED_INT,0),g.bindVertexArray(this.unusedVAO)}if(!C){g.enable(g.BLEND),g.depthFunc(g.ALWAYS);return}_=this.fiberShader,_.use(this.gl),g.uniformMatrix4fv(_.uniforms.mvpMtx,!1,p),g.uniform1f(_.uniforms.opacity,u);for(let E=0;E<this.meshes.length;E++)this.meshes[E].indexCount<3||this.meshes[E].offsetPt0&&(this.meshes[E].fiberSides>=3&&this.meshes[E].fiberRadius>0||(g.bindVertexArray(this.meshes[E].vaoFiber),g.drawElements(g.LINE_STRIP,this.meshes[E].indexCount,g.UNSIGNED_INT,0),g.bindVertexArray(this.unusedVAO)));g.enable(g.BLEND),g.depthFunc(g.ALWAYS),this.readyForSync=!0}drawCrosshairs3D(n=!0,u=1,p=null,v=!1,d=!0){if(!this.opts.show3Dcrosshair&&!v||this.opts.crosshairWidth<=0&&v)return;const g=this.gl,_=this.frac2mm(this.scene.crosshairPos,0,d);if(this.crosshairs3D===null||this.crosshairs3D.mm[0]!==_[0]||this.crosshairs3D.mm[1]!==_[1]||this.crosshairs3D.mm[2]!==_[2]){this.crosshairs3D!==null&&(g.deleteBuffer(this.crosshairs3D.indexBuffer),g.deleteBuffer(this.crosshairs3D.vertexBuffer));const[w,m,y]=this.sceneExtentsMinMax(d);let e=1;if(this.volumes.length>0){if(!this.back)throw new Error("back undefined");e=.5*Math.min(Math.min(this.back.pixDims[1],this.back.pixDims[2]),this.back.pixDims[3])}else(y[0]<50||y[0]>1e3)&&(e=y[0]*.02);e*=this.opts.crosshairWidth,this.crosshairs3D=NiivueObject3D.generateCrosshairs(this.gl,1,_,w,m,e,20,this.opts.crosshairGap),this.crosshairs3D.mm=_}if(!this.surfaceShader)throw new Error("surfaceShader undefined");const C=this.surfaceShader;C.use(this.gl),p==null&&([p]=this.calculateMvpMatrix(this.crosshairs3D,void 0,this.scene.renderAzimuth,this.scene.renderElevation)),g.uniformMatrix4fv(C.uniforms.mvpMtx,!1,p),g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,this.crosshairs3D.indexBuffer),g.enable(g.DEPTH_TEST);const E=[...this.opts.crosshairColor];n?(g.disable(g.BLEND),g.depthFunc(g.GREATER)):(g.enable(g.BLEND),g.blendFunc(g.SRC_ALPHA,g.ONE_MINUS_SRC_ALPHA),g.depthFunc(g.ALWAYS)),E[3]=u,g.uniform4fv(C.uniforms.surfaceColor,E),g.bindVertexArray(this.crosshairs3D.vao),g.drawElements(g.TRIANGLES,this.crosshairs3D.indexCount,g.UNSIGNED_INT,0),g.bindVertexArray(this.unusedVAO)}mm2frac(n,u=0,p=!1){if(this.volumes.length<1){const v=fromValues$2(.1,.5,.5),[d,g,_]=this.sceneExtentsMinMax();return v[0]=(n[0]-d[0])/_[0],v[1]=(n[1]-d[1])/_[1],v[2]=(n[2]-d[2])/_[2],isFinite(v)||(isFinite(v[0])||(v[0]=.5),isFinite(v[1])||(v[1]=.5),isFinite(v[2])||(v[2]=.5),this.meshes.length<1&&log$1.error("mm2frac() not finite: objects not (yet) loaded.")),v}return this.volumes[u].convertMM2Frac(n,p||this.opts.isSliceMM)}vox2frac(n,u=0){return this.volumes[u].convertVox2Frac(n)}frac2vox(n,u=0){return this.volumes.length<=u?[0,0,0]:this.volumes[u].convertFrac2Vox(n)}moveCrosshairInVox(n,u,p){const v=this.frac2vox(this.scene.crosshairPos);v[0]+=n,v[1]+=u,v[2]+=p,v[0]=clamp(v[0],0,this.volumes[0].dimsRAS[1]-1),v[1]=clamp(v[1],0,this.volumes[0].dimsRAS[2]-1),v[2]=clamp(v[2],0,this.volumes[0].dimsRAS[3]-1),this.scene.crosshairPos=this.vox2frac(v),this.createOnLocationChange(),this.drawScene()}frac2mm(n,u=0,p=!1){const v=fromValues$1(n[0],n[1],n[2],1);if(this.volumes.length>0)return this.volumes[u].convertFrac2MM(n,p||this.opts.isSliceMM);{const[d,g]=this.sceneExtentsMinMax(),_=(C,E,w)=>C*(1-w)+E*w;v[0]=_(d[0],g[0],n[0]),v[1]=_(d[1],g[1],n[1]),v[2]=_(d[2],g[2],n[2])}return v}screenXY2TextureFrac(n,u,p,v=!0){const d=fromValues$2(-1,-1,-1),g=this.screenSlices[p].axCorSag;if(g>2)return d;const _=this.screenSlices[p].leftTopWidthHeight.slice();let C=!1;_[2]<0&&(C=!0,_[0]+=_[2],_[2]=-_[2]);let E=(n-_[0])/_[2];C&&(E=1-E);const w=1-(u-_[1])/_[3];if(E<0||E>1||w<0||w>1||this.screenSlices[p].AxyzMxy.length<4)return d;let m=fromValues$2(0,0,0);m[0]=this.screenSlices[p].leftTopMM[0]+E*this.screenSlices[p].fovMM[0],m[1]=this.screenSlices[p].leftTopMM[1]+w*this.screenSlices[p].fovMM[1];const y=this.screenSlices[p].AxyzMxy;m[2]=y[2]+y[4]*(m[1]-y[1])-y[3]*(m[0]-y[0]),g===1&&(m=swizzleVec3(m,[0,2,1])),g===2&&(m=swizzleVec3(m,[2,0,1]));const e=this.mm2frac(m);return v&&(e[0]<0||e[0]>1||e[1]<0||e[1]>1||e[2]<0||e[2]>1)?d:e}canvasPos2frac(n){for(let u=0;u<this.screenSlices.length;u++){const p=this.screenXY2TextureFrac(n[0],n[1],u);if(p[0]>=0)return p}return[-1,-1,-1]}scaleSlice(n,u,p=0,v=0){const d=this.effectiveCanvasWidth()-p,g=this.effectiveCanvasHeight()-v;let _=d/n;u*_>g&&(_=g/u);const C=n*_,E=u*_;return[(d-C)*.5,(g-E)*.5,C,E,_]}drawThumbnail(){if(!this.bmpShader)throw new Error("bmpShader undefined");this.bmpShader.use(this.gl),this.gl.uniform2f(this.bmpShader.uniforms.canvasWidthHeight,this.gl.canvas.width,this.gl.canvas.height);let n=this.gl.canvas.height,u=this.gl.canvas.height*this.bmpTextureWH;u>this.gl.canvas.width&&(n=this.gl.canvas.width/this.bmpTextureWH,u=this.gl.canvas.width),this.gl.uniform4f(this.bmpShader.uniforms.leftTopWidthHeight,0,0,u,n),this.gl.bindVertexArray(this.genericVAO),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO)}drawLine(n,u=1,p=[1,0,0,-1]){if(this.gl.bindVertexArray(this.genericVAO),!this.lineShader)throw new Error("lineShader undefined");this.lineShader.use(this.gl),p[3]<0&&(p=this.opts.crosshairColor),this.gl.uniform4fv(this.lineShader.uniforms.lineColor,p),this.gl.uniform2fv(this.lineShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform1f(this.lineShader.uniforms.thickness,u),this.gl.uniform4fv(this.lineShader.uniforms.startXYendXY,n),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO)}draw3DLine(n,u,p=1,v=[1,0,0,-1]){if(this.gl.bindVertexArray(this.genericVAO),!this.line3DShader)throw new Error("line3DShader undefined");this.line3DShader.use(this.gl),v[3]<0&&(v=this.opts.crosshairColor),this.gl.uniform4fv(this.line3DShader.uniforms.lineColor,v),this.gl.uniform2fv(this.line3DShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform1f(this.line3DShader.uniforms.thickness,p),this.gl.uniform2fv(this.line3DShader.uniforms.startXY,n),this.gl.uniform3fv(this.line3DShader.uniforms.endXYZ,u),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO)}drawDottedLine(n,u=1,p=[1,0,0,-1]){if(this.gl.bindVertexArray(this.genericVAO),!this.lineShader)throw new Error("lineShader undefined");this.lineShader.use(this.gl);const v=p[3]<0?[...this.opts.crosshairColor]:[...p];v[3]=.3;const d=fromValues(n[2]-n[0],n[3]-n[1]),g=length(d);normalize(d,d);const C=this.opts.textHeight*Math.min(this.gl.canvas.height,this.gl.canvas.width)*1;scale(d,d,C/2);const E=length(d);let w=Math.floor(g/E);g%E&&w++;const m=[n[0],n[1]];this.gl.uniform4fv(this.lineShader.uniforms.lineColor,v),this.gl.uniform2fv(this.lineShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform1f(this.lineShader.uniforms.thickness,u);for(let y=0;y<w-1;y++){if(y%2){m[0]+=d[0],m[1]+=d[1];continue}const e=[m[0],m[1],m[0]+d[0],m[1]+d[1]];this.gl.uniform4fv(this.lineShader.uniforms.startXYendXY,e),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),m[0]+=d[0],m[1]+=d[1]}this.gl.bindVertexArray(this.unusedVAO)}drawGraphLine(n,u=[1,0,0,.5],p=2){this.drawLine(n,p,u)}drawCrossLinesMM(n,u,p,v,d){if(n<0||this.screenSlices.length<=n)return;const g=this.screenSlices[n];let _=g.sliceFrac;_===1/0&&log$1.warn("Rendering approximate cross lines in world view mode"),_===1/0&&(_=.5);let E=v.slice(),w=d.slice();const m=Math.max(1,this.opts.crosshairWidth);u===1&&(E=p.slice()),u===2&&(E=p.slice(),w=v.slice());function y(e){const P=fromValues(0,0);return P[0]=g.leftTopWidthHeight[0]+(e[0]-g.leftTopMM[0])/g.fovMM[0]*g.leftTopWidthHeight[2],P[1]=g.leftTopWidthHeight[1]+g.leftTopWidthHeight[3]-(e[1]-g.leftTopMM[1])/g.fovMM[1]*g.leftTopWidthHeight[3],P}if(E.length>0&&u===0){const e=_,P=1;for(let O=0;O<E.length;O++){const U=this.frac2mm([.5,.5,.5]);U[P]=E[O];let W=this.mm2frac(U);W=W[P];let V=this.frac2mm([0,W,e]);V=swizzleVec3(V,[0,1,2]);let $=this.frac2mm([1,W,e]);$=swizzleVec3($,[0,1,2]),V=y(V),$=y($),this.drawLine([V[0],V[1],$[0],$[1]],m)}}if(E.length>0&&u===1){const e=_,P=2;for(let O=0;O<E.length;O++){const U=this.frac2mm([.5,.5,.5]);U[P]=E[O];let W=this.mm2frac(U);W=W[P];let V=this.frac2mm([0,e,W]);V=swizzleVec3(V,[0,2,1]);let $=this.frac2mm([1,e,W]);$=swizzleVec3($,[0,2,1]),V=y(V),$=y($),this.drawLine([V[0],V[1],$[0],$[1]],m)}}if(E.length>0&&u===2){const e=_,P=2;for(let O=0;O<E.length;O++){const U=this.frac2mm([.5,.5,.5]);U[P]=E[O];let W=this.mm2frac(U);W=W[P];let V=this.frac2mm([e,0,W]);V=swizzleVec3(V,[1,2,0]);let $=this.frac2mm([e,1,W]);$=swizzleVec3($,[1,2,0]),V=y(V),$=y($),this.drawLine([V[0],V[1],$[0],$[1]],m)}}if(w.length>0&&u===0){const e=_,P=0;for(let O=0;O<w.length;O++){const U=this.frac2mm([.5,.5,.5]);U[P]=w[O];let W=this.mm2frac(U);W=W[P];let V=this.frac2mm([W,0,e]);V=swizzleVec3(V,[0,1,2]);let $=this.frac2mm([W,1,e]);$=swizzleVec3($,[0,1,2]),V=y(V),$=y($),this.drawLine([V[0],V[1],$[0],$[1]],m)}}if(w.length>0&&u===1){const e=_,P=0;for(let O=0;O<w.length;O++){const U=this.frac2mm([.5,.5,.5]);U[P]=w[O];let W=this.mm2frac(U);W=W[P];let V=this.frac2mm([W,e,0]);V=swizzleVec3(V,[0,2,1]);let $=this.frac2mm([W,e,1]);$=swizzleVec3($,[0,2,1]),V=y(V),$=y($),this.drawLine([V[0],V[1],$[0],$[1]],m)}}if(w.length>0&&u===2){const e=_,P=1;for(let O=0;O<w.length;O++){const U=this.frac2mm([.5,.5,.5]);U[P]=w[O];let W=this.mm2frac(U);W=W[P];let V=this.frac2mm([e,W,0]);V=swizzleVec3(V,[1,2,0]);let $=this.frac2mm([e,W,1]);$=swizzleVec3($,[1,2,0]),V=y(V),$=y($),this.drawLine([V[0],V[1],$[0],$[1]],m)}}}drawCrossLines(n,u,p,v,d){if(n<0||this.screenSlices.length<=n)return;if(this.opts.isSliceMM)return this.drawCrossLinesMM(n,u,p,v,d);if(this.screenSlices[n].sliceFrac===1/0)return this.drawCrossLinesMM(n,u,p,v,d);const g=this.screenSlices[n];let _=v.slice(),C=d.slice();if(u===1&&(_=p.slice()),u===2&&(_=p.slice(),C=v.slice()),_.length>0){const E=g.leftTopWidthHeight.slice();let w=2;u===0&&(w=1);const m=this.frac2mm([.5,.5,.5]);for(let y=0;y<_.length;y++){m[w]=_[y];const e=this.mm2frac(m);this.drawRect([E[0],E[1]+E[3]-e[w]*E[3],E[2],1])}}if(C.length>0){const E=g.leftTopWidthHeight.slice(),w=g.fovMM[0]<0;let m=0;u===2&&(m=1);const y=this.frac2mm([.5,.5,.5]);for(let e=0;e<C.length;e++){y[m]=C[e];const P=this.mm2frac(y);w?this.drawRect([E[0]+(E[2]-P[m]*E[2]),E[1],1,E[3]]):this.drawRect([E[0]+P[m]*E[2],E[1],1,E[3]])}}}drawMosaic(n){if(this.volumes.length===0){log$1.debug("Unable to draw mosaic until voxel-based image is loaded");return}this.screenSlices=[];const u=this.screenFieldOfViewMM(0,!0),p=this.screenFieldOfViewMM(0);n=n.replaceAll(";"," ;").trim();const v=[],d=[],g=[],_=n.split(/\s+/);let C=1;const E=this.opts.textHeight;for(let w=0;w<2;w++){let m=!1,y=!1;m=!1;let e=0,P=0,O=0,U=0,W=!1,V=0;for(let H=0;H<_.length;H++){const G=_[H];if(G.includes("X")){y=!0;continue}if(G.includes("L")){W=!G.includes("-");continue}if(G.includes("V")||G.includes("H")){H++;continue}G.includes("A")&&(V=0),G.includes("C")&&(V=1),G.includes("S")&&(V=2),G.includes("R")&&(m=!0),G.includes(";")&&(O+=e,U=Math.max(U,P),e=0,P=0);const Y=parseFloat(G);if(isNaN(Y))continue;let X=0,j=0,h=p;if(m&&(h=u),V===2?X=h[1]:X=h[0],V===0?j=h[1]:j=h[2],w===0)m||(V===0&&v.push(Y),V===1&&d.push(Y),V===2&&g.push(Y));else{const ae=[C*P,C*O,C*X,C*j];if(this.opts.textHeight=W?E:0,m){let le=Y<0?-1/0:1/0;Object.is(Y,-0)&&(le=-1/0),this.draw2D(ae,V,le)}else this.draw2D(ae,V,Y);y&&this.drawCrossLines(this.screenSlices.length-1,V,v,d,g),m=!1,y=!1}P+=X,e=Math.max(e,j)}if(O+=e,U=Math.max(U,P),U<=0||O<=0)break;const $=this.gl.canvas.width/U,b=this.effectiveCanvasHeight()/O;C=Math.min($,b)}this.opts.textHeight=E}drawSceneCore(){if(!this.initialized)return;if(this.colorbarHeight=0,this.gl.clearColor(this.opts.backColor[0],this.opts.backColor[1],this.opts.backColor[2],this.opts.backColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this.bmpTexture&&this.thumbnailVisible){this.drawThumbnail();return}let n="";if(this.volumes.length===0||typeof this.volumes[0].dims>"u"){if(this.meshes.length>0){this.screenSlices=[],this.opts.sliceType=4,this.draw3D(),this.opts.isColorbar&&this.drawColorbar();return}this.drawLoadingText(this.loadingText);return}if(this.back===null)return;if(this.uiData.isDragging&&this.scene.clipPlaneDepthAziElev[0]<1.8&&this.inRenderTile(this.uiData.dragStart[0],this.uiData.dragStart[1])>=0){const d=this.uiData.dragStart[0]-this.uiData.dragEnd[0],g=this.uiData.dragStart[1]-this.uiData.dragEnd[1],_=this.uiData.dragClipPlaneStartDepthAziElev.slice();if(_[1]-=d,_[1]=_[1]%360,_[2]+=g,_[1]!==this.scene.clipPlaneDepthAziElev[1]||_[2]!==this.scene.clipPlaneDepthAziElev[2])return this.scene.clipPlaneDepthAziElev=_,this.setClipPlane(this.scene.clipPlaneDepthAziElev)}if(this.sliceMosaicString.length<1&&this.opts.sliceType===4){this.opts.isColorbar&&this.reserveColorbarPanel(),this.screenSlices=[],this.draw3D(),this.opts.isColorbar&&this.drawColorbar();return}this.opts.isColorbar&&this.reserveColorbarPanel();const u=this.getMaxVols(),p=this.opts.sliceType===3&&u>1&&this.graph.autoSizeMultiplanar&&this.graph.opacity>0;if(this.sliceMosaicString.length>0)this.drawMosaic(this.sliceMosaicString);else if(this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.screenSlices=[],this.opts.sliceType===0)this.draw2D([0,0,0,0],0);else if(this.opts.sliceType===1)this.draw2D([0,0,0,0],1);else if(this.opts.sliceType===2)this.draw2D([0,0,0,0],2);else{const d=isFinite(this.drawPenLocation[0])&&this.opts.drawingEnabled,{volScale:g}=this.sliceScale();typeof this.opts.multiplanarPadPixels!="number"&&log$1.debug("multiplanarPadPixels must be numeric");const _=parseFloat(`${this.opts.multiplanarPadPixels}`),C=this.scaleSlice(g[0]+g[1],g[1]+g[2],_*1,_*1),E=Math.max(Math.max(g[1],g[2]),g[0]),w=this.scaleSlice(g[0]+g[0]+g[1],Math.max(g[1],g[2]),_*2),m=this.scaleSlice(g[0]+g[0]+g[1]+E,Math.max(g[1],g[2]),_*3),y=this.scaleSlice(E,g[1]+g[2]+g[2],0,_*2),e=this.scaleSlice(E,g[1]+g[2]+g[2]+E,0,_*3);let P=!d&&(u<2||!p),O=!1,U=!1,W=!1;if(this.opts.multiplanarLayout===1?O=!0:this.opts.multiplanarLayout===2?U=!0:this.opts.multiplanarLayout===3?W=!0:y[4]>w[4]&&y[4]>C[4]?O=!0:w[4]>C[4]?W=!0:U=!0,O){let V=y;this.opts.multiplanarForceRender||e[4]>=y[4]?V=e:P=!1;const $=g[0]*V[4],b=g[1]*V[4],H=g[2]*V[4],G=E*V[4];this.draw2D([V[0],V[1],$,b],0),this.draw2D([V[0],V[1]+b+_,$,H],1),this.draw2D([V[0],V[1]+b+_+H+_,b,H],2),P&&this.draw3D([V[0],V[1]+b+H+H+_*3,G,G])}else if(W){let V=w;this.opts.multiplanarForceRender||m[4]>=w[4]?V=m:P=!1;const $=g[0]*V[4],b=g[1]*V[4],H=g[2]*V[4];this.draw2D([V[0],V[1],$,b],0),this.draw2D([V[0]+$+_,V[1],$,H],1),this.draw2D([V[0]+$+$+_*2,V[1],b,H],2),P&&this.draw3D([V[0]+$+$+b+_*3,V[1],V[3],V[3]])}else if(U){const V=C,$=g[0]*V[4],b=g[1]*V[4],H=g[2]*V[4];this.draw2D([V[0],V[1]+H+_,$,b],0),this.draw2D([V[0],V[1],$,H],1),this.draw2D([V[0]+$+_,V[1],b,H],2),P&&this.draw3D([V[0]+$+_,V[1]+H+_,b,b])}}if(this.opts.isRuler&&this.drawRuler(),this.opts.isColorbar&&this.drawColorbar(),p&&this.drawGraph(),this.uiData.isDragging){if(this.uiData.mouseButtonCenterDown){this.dragForCenterButton([this.uiData.dragStart[0],this.uiData.dragStart[1],this.uiData.dragEnd[0],this.uiData.dragEnd[1]]);return}if(this.opts.dragMode===4){this.dragForSlicer3D([this.uiData.dragStart[0],this.uiData.dragStart[1],this.uiData.dragEnd[0],this.uiData.dragEnd[1]]);return}if(this.opts.dragMode===3){this.dragForPanZoom([this.uiData.dragStart[0],this.uiData.dragStart[1],this.uiData.dragEnd[0],this.uiData.dragEnd[1]]);return}if(this.inRenderTile(this.uiData.dragStart[0],this.uiData.dragStart[1])>=0)return;if(this.opts.dragMode===2){this.drawMeasurementTool([this.uiData.dragStart[0],this.uiData.dragStart[1],this.uiData.dragEnd[0],this.uiData.dragEnd[1]]);return}const d=Math.abs(this.uiData.dragStart[0]-this.uiData.dragEnd[0]),g=Math.abs(this.uiData.dragStart[1]-this.uiData.dragEnd[1]);this.drawSelectionBox([Math.min(this.uiData.dragStart[0],this.uiData.dragEnd[0]),Math.min(this.uiData.dragStart[1],this.uiData.dragEnd[1]),d,g])}const v=this.frac2mm([this.scene.crosshairPos[0],this.scene.crosshairPos[1],this.scene.crosshairPos[2]]);return n=v[0].toFixed(2)+"×"+v[1].toFixed(2)+"×"+v[2].toFixed(2),this.readyForSync=!0,this.sync(),n}drawScene(){if(this.isBusy){this.needsRefresh=!0;return}this.isBusy=!1,this.needsRefresh=!1;let n=this.drawSceneCore();return this._gl!==null&&this.gl.finish(),this.needsRefresh&&(n=this.drawScene()),n}get gl(){if(!this._gl)throw new Error("unable to get WebGL context. Maybe the browser doesn't support WebGL2.");return this._gl}set gl(n){this._gl=n}};const scriptRel="modulepreload",assetsURL=function(l,n){return new URL(l,n).href},seen={},__vitePreload=function l(n,u,p){let v=Promise.resolve();if(u&&u.length>0){const d=document.getElementsByTagName("link"),g=document.querySelector("meta[property=csp-nonce]"),_=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));v=Promise.all(u.map(C=>{if(C=assetsURL(C,p),C in seen)return;seen[C]=!0;const E=C.endsWith(".css"),w=E?'[rel="stylesheet"]':"";if(!!p)for(let e=d.length-1;e>=0;e--){const P=d[e];if(P.href===C&&(!E||P.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${C}"]${w}`))return;const y=document.createElement("link");if(y.rel=E?"stylesheet":scriptRel,E||(y.as="script",y.crossOrigin=""),y.href=C,_&&y.setAttribute("nonce",_),document.head.appendChild(y),E)return new Promise((e,P)=>{y.addEventListener("load",e),y.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${C}`)))})}))}return v.then(()=>n()).catch(d=>{const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d})};var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__require=(l=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(l,{get:(n,u)=>(typeof require<"u"?require:n)[u]}):l)(function(l){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+l+'" is not supported')}),__esm=(l,n)=>function(){return l&&(n=(0,l[__getOwnPropNames(l)[0]])(l=0)),n},__commonJS=(l,n)=>function(){return n||(0,l[__getOwnPropNames(l)[0]])((n={exports:{}}).exports,n),n.exports},__export=(l,n)=>{for(var u in n)__defProp(l,u,{get:n[u],enumerable:!0})},__copyProps=(l,n,u,p)=>{if(n&&typeof n=="object"||typeof n=="function")for(let v of __getOwnPropNames(n))!__hasOwnProp.call(l,v)&&v!==u&&__defProp(l,v,{get:()=>n[v],enumerable:!(p=__getOwnPropDesc(n,v))||p.enumerable});return l},__toESM=(l,n,u)=>(u=l!=null?__create(__getProtoOf(l)):{},__copyProps(n||!l||!l.__esModule?__defProp(u,"default",{value:l,enumerable:!0}):u,l)),__toCommonJS=l=>__copyProps(__defProp({},"__esModule",{value:!0}),l),backends,backendsSortedByPriority,registerBackend,tryResolveAndInitializeBackend,resolveBackendAndExecutionProviders,init_backend_impl=__esm({"common/dist/esm/backend-impl.js"(){backends=new Map,backendsSortedByPriority=[],registerBackend=(l,n,u)=>{if(n&&typeof n.init=="function"&&typeof n.createInferenceSessionHandler=="function"){const p=backends.get(l);if(p===void 0)backends.set(l,{backend:n,priority:u});else{if(p.priority>u)return;if(p.priority===u&&p.backend!==n)throw new Error(`cannot register backend "${l}" using priority ${u}`)}if(u>=0){const v=backendsSortedByPriority.indexOf(l);v!==-1&&backendsSortedByPriority.splice(v,1);for(let d=0;d<backendsSortedByPriority.length;d++)if(backends.get(backendsSortedByPriority[d]).priority<=u){backendsSortedByPriority.splice(d,0,l);return}backendsSortedByPriority.push(l)}return}throw new TypeError("not a valid backend")},tryResolveAndInitializeBackend=async l=>{const n=backends.get(l);if(!n)return"backend not found.";if(n.initialized)return n.backend;if(n.aborted)return n.error;{const u=!!n.initPromise;try{return u||(n.initPromise=n.backend.init(l)),await n.initPromise,n.initialized=!0,n.backend}catch(p){return u||(n.error=`${p}`,n.aborted=!0),n.error}finally{delete n.initPromise}}},resolveBackendAndExecutionProviders=async l=>{const n=l.executionProviders||[],u=n.map(C=>typeof C=="string"?C:C.name),p=u.length===0?backendsSortedByPriority:u;let v;const d=[],g=new Set;for(const C of p){const E=await tryResolveAndInitializeBackend(C);typeof E=="string"?d.push({name:C,err:E}):(v||(v=E),v===E&&g.add(C))}if(!v)throw new Error(`no available backend found. ERR: ${d.map(C=>`[${C.name}] ${C.err}`).join(", ")}`);for(const{name:C,err:E}of d)u.includes(C)&&console.warn(`removing requested execution provider "${C}" from session options because it is not available: ${E}`);const _=n.filter(C=>g.has(typeof C=="string"?C:C.name));return[v,new Proxy(l,{get:(C,E)=>E==="executionProviders"?_:Reflect.get(C,E)})]}}}),init_backend=__esm({"common/dist/esm/backend.js"(){init_backend_impl()}}),version,init_version=__esm({"common/dist/esm/version.js"(){version="1.19.0-dev.20240531-35697d2421"}}),logLevelValue,env,init_env_impl=__esm({"common/dist/esm/env-impl.js"(){init_version(),logLevelValue="warning",env={wasm:{},webgl:{},webgpu:{},versions:{common:version},set logLevel(l){if(l!==void 0){if(typeof l!="string"||["verbose","info","warning","error","fatal"].indexOf(l)===-1)throw new Error(`Unsupported logging level: ${l}`);logLevelValue=l}},get logLevel(){return logLevelValue}},Object.defineProperty(env,"logLevel",{enumerable:!0})}}),env2,init_env=__esm({"common/dist/esm/env.js"(){init_env_impl(),env2=env}}),tensorToDataURL,tensorToImageData,init_tensor_conversion_impl=__esm({"common/dist/esm/tensor-conversion-impl.js"(){tensorToDataURL=(l,n)=>{const u=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(1,1);u.width=l.dims[3],u.height=l.dims[2];const p=u.getContext("2d");if(p!=null){let v,d;(n==null?void 0:n.tensorLayout)!==void 0&&n.tensorLayout==="NHWC"?(v=l.dims[2],d=l.dims[3]):(v=l.dims[3],d=l.dims[2]);const g=(n==null?void 0:n.format)!==void 0?n.format:"RGB",_=n==null?void 0:n.norm;let C,E;_===void 0||_.mean===void 0?C=[255,255,255,255]:typeof _.mean=="number"?C=[_.mean,_.mean,_.mean,_.mean]:(C=[_.mean[0],_.mean[1],_.mean[2],0],_.mean[3]!==void 0&&(C[3]=_.mean[3])),_===void 0||_.bias===void 0?E=[0,0,0,0]:typeof _.bias=="number"?E=[_.bias,_.bias,_.bias,_.bias]:(E=[_.bias[0],_.bias[1],_.bias[2],0],_.bias[3]!==void 0&&(E[3]=_.bias[3]));const w=d*v;let m=0,y=w,e=w*2,P=-1;g==="RGBA"?(m=0,y=w,e=w*2,P=w*3):g==="RGB"?(m=0,y=w,e=w*2):g==="RBG"&&(m=0,e=w,y=w*2);for(let O=0;O<d;O++)for(let U=0;U<v;U++){const W=(l.data[m++]-E[0])*C[0],V=(l.data[y++]-E[1])*C[1],$=(l.data[e++]-E[2])*C[2],b=P===-1?255:(l.data[P++]-E[3])*C[3];p.fillStyle="rgba("+W+","+V+","+$+","+b+")",p.fillRect(U,O,1,1)}if("toDataURL"in u)return u.toDataURL();throw new Error("toDataURL is not supported")}else throw new Error("Can not access image data")},tensorToImageData=(l,n)=>{const u=typeof document<"u"?document.createElement("canvas").getContext("2d"):new OffscreenCanvas(1,1).getContext("2d");let p;if(u!=null){let v,d,g;(n==null?void 0:n.tensorLayout)!==void 0&&n.tensorLayout==="NHWC"?(v=l.dims[2],d=l.dims[1],g=l.dims[3]):(v=l.dims[3],d=l.dims[2],g=l.dims[1]);const _=n!==void 0&&n.format!==void 0?n.format:"RGB",C=n==null?void 0:n.norm;let E,w;C===void 0||C.mean===void 0?E=[255,255,255,255]:typeof C.mean=="number"?E=[C.mean,C.mean,C.mean,C.mean]:(E=[C.mean[0],C.mean[1],C.mean[2],255],C.mean[3]!==void 0&&(E[3]=C.mean[3])),C===void 0||C.bias===void 0?w=[0,0,0,0]:typeof C.bias=="number"?w=[C.bias,C.bias,C.bias,C.bias]:(w=[C.bias[0],C.bias[1],C.bias[2],0],C.bias[3]!==void 0&&(w[3]=C.bias[3]));const m=d*v;if(n!==void 0&&(n.format!==void 0&&g===4&&n.format!=="RGBA"||g===3&&n.format!=="RGB"&&n.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");const y=4;let e=0,P=1,O=2,U=3,W=0,V=m,$=m*2,b=-1;_==="RGBA"?(W=0,V=m,$=m*2,b=m*3):_==="RGB"?(W=0,V=m,$=m*2):_==="RBG"&&(W=0,$=m,V=m*2),p=u.createImageData(v,d);for(let H=0;H<d*v;e+=y,P+=y,O+=y,U+=y,H++)p.data[e]=(l.data[W++]-w[0])*E[0],p.data[P]=(l.data[V++]-w[1])*E[1],p.data[O]=(l.data[$++]-w[2])*E[2],p.data[U]=b===-1?255:(l.data[b++]-w[3])*E[3]}else throw new Error("Can not access image data");return p}}}),bufferToTensor,tensorFromImage,tensorFromTexture,tensorFromGpuBuffer,tensorFromPinnedBuffer,init_tensor_factory_impl=__esm({"common/dist/esm/tensor-factory-impl.js"(){init_tensor_impl(),bufferToTensor=(l,n)=>{if(l===void 0)throw new Error("Image buffer must be defined");if(n.height===void 0||n.width===void 0)throw new Error("Image height and width must be defined");if(n.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");const{height:u,width:p}=n,v=n.norm??{mean:255,bias:0};let d,g;typeof v.mean=="number"?d=[v.mean,v.mean,v.mean,v.mean]:d=[v.mean[0],v.mean[1],v.mean[2],v.mean[3]??255],typeof v.bias=="number"?g=[v.bias,v.bias,v.bias,v.bias]:g=[v.bias[0],v.bias[1],v.bias[2],v.bias[3]??0];const _=n.format!==void 0?n.format:"RGBA",C=n.tensorFormat!==void 0&&n.tensorFormat!==void 0?n.tensorFormat:"RGB",E=u*p,w=C==="RGBA"?new Float32Array(E*4):new Float32Array(E*3);let m=4,y=0,e=1,P=2,O=3,U=0,W=E,V=E*2,$=-1;_==="RGB"&&(m=3,y=0,e=1,P=2,O=-1),C==="RGBA"?$=E*3:C==="RBG"?(U=0,V=E,W=E*2):C==="BGR"&&(V=0,W=E,U=E*2);for(let H=0;H<E;H++,y+=m,P+=m,e+=m,O+=m)w[U++]=(l[y]+g[0])/d[0],w[W++]=(l[e]+g[1])/d[1],w[V++]=(l[P]+g[2])/d[2],$!==-1&&O!==-1&&(w[$++]=(l[O]+g[3])/d[3]);return C==="RGBA"?new Tensor("float32",w,[1,4,u,p]):new Tensor("float32",w,[1,3,u,p])},tensorFromImage=async(l,n)=>{const u=typeof HTMLImageElement<"u"&&l instanceof HTMLImageElement,p=typeof ImageData<"u"&&l instanceof ImageData,v=typeof ImageBitmap<"u"&&l instanceof ImageBitmap,d=typeof l=="string";let g,_=n??{};const C=()=>{if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(1,1);throw new Error("Canvas is not supported")},E=w=>w instanceof HTMLCanvasElement||w instanceof OffscreenCanvas?w.getContext("2d"):null;if(u){const w=C();w.width=l.width,w.height=l.height;const m=E(w);if(m!=null){let y=l.height,e=l.width;if(n!==void 0&&n.resizedHeight!==void 0&&n.resizedWidth!==void 0&&(y=n.resizedHeight,e=n.resizedWidth),n!==void 0){if(_=n,n.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");_.tensorFormat="RGBA",_.height=y,_.width=e}else _.tensorFormat="RGBA",_.height=y,_.width=e;m.drawImage(l,0,0),g=m.getImageData(0,0,e,y).data}else throw new Error("Can not access image data")}else if(p){let w,m;if(n!==void 0&&n.resizedWidth!==void 0&&n.resizedHeight!==void 0?(w=n.resizedHeight,m=n.resizedWidth):(w=l.height,m=l.width),n!==void 0&&(_=n),_.format="RGBA",_.height=w,_.width=m,n!==void 0){const y=C();y.width=m,y.height=w;const e=E(y);if(e!=null)e.putImageData(l,0,0),g=e.getImageData(0,0,m,w).data;else throw new Error("Can not access image data")}else g=l.data}else if(v){if(n===void 0)throw new Error("Please provide image config with format for Imagebitmap");const w=C();w.width=l.width,w.height=l.height;const m=E(w);if(m!=null){const y=l.height,e=l.width;return m.drawImage(l,0,0,e,y),g=m.getImageData(0,0,e,y).data,_.height=y,_.width=e,bufferToTensor(g,_)}else throw new Error("Can not access image data")}else{if(d)return new Promise((w,m)=>{const y=C(),e=E(y);if(!l||!e)return m();const P=new Image;P.crossOrigin="Anonymous",P.src=l,P.onload=()=>{y.width=P.width,y.height=P.height,e.drawImage(P,0,0,y.width,y.height);const O=e.getImageData(0,0,y.width,y.height);_.height=y.height,_.width=y.width,w(bufferToTensor(O.data,_))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(g!==void 0)return bufferToTensor(g,_);throw new Error("Input data provided is not supported - aborted tensor creation")},tensorFromTexture=(l,n)=>{const{width:u,height:p,download:v,dispose:d}=n,g=[1,p,u,4];return new Tensor({location:"texture",type:"float32",texture:l,dims:g,download:v,dispose:d})},tensorFromGpuBuffer=(l,n)=>{const{dataType:u,dims:p,download:v,dispose:d}=n;return new Tensor({location:"gpu-buffer",type:u??"float32",gpuBuffer:l,dims:p,download:v,dispose:d})},tensorFromPinnedBuffer=(l,n,u)=>new Tensor({location:"cpu-pinned",type:l,data:n,dims:u??[n.length]})}}),NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP,NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP,isTypedArrayChecked,checkTypedArray,init_tensor_impl_type_mapping=__esm({"common/dist/esm/tensor-impl-type-mapping.js"(){NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),isTypedArrayChecked=!1,checkTypedArray=()=>{if(!isTypedArrayChecked){isTypedArrayChecked=!0;const l=typeof BigInt64Array<"u"&&BigInt64Array.from,n=typeof BigUint64Array<"u"&&BigUint64Array.from,u=typeof Float16Array<"u"&&Float16Array.from;l&&(NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set("int64",BigInt64Array),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigInt64Array,"int64")),n&&(NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set("uint64",BigUint64Array),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigUint64Array,"uint64")),u?(NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set("float16",Float16Array),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(Float16Array,"float16")):NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set("float16",Uint16Array)}}}}),calculateSize,tensorReshape,init_tensor_utils_impl=__esm({"common/dist/esm/tensor-utils-impl.js"(){init_tensor_impl(),calculateSize=l=>{let n=1;for(let u=0;u<l.length;u++){const p=l[u];if(typeof p!="number"||!Number.isSafeInteger(p))throw new TypeError(`dims[${u}] must be an integer, got: ${p}`);if(p<0)throw new RangeError(`dims[${u}] must be a non-negative integer, got: ${p}`);n*=p}return n},tensorReshape=(l,n)=>{switch(l.location){case"cpu":return new Tensor(l.type,l.data,n);case"cpu-pinned":return new Tensor({location:"cpu-pinned",data:l.data,type:l.type,dims:n});case"texture":return new Tensor({location:"texture",texture:l.texture,type:l.type,dims:n});case"gpu-buffer":return new Tensor({location:"gpu-buffer",gpuBuffer:l.gpuBuffer,type:l.type,dims:n});default:throw new Error(`tensorReshape: tensor location ${l.location} is not supported`)}}}}),Tensor,init_tensor_impl=__esm({"common/dist/esm/tensor-impl.js"(){init_tensor_conversion_impl(),init_tensor_factory_impl(),init_tensor_impl_type_mapping(),init_tensor_utils_impl(),Tensor=class{constructor(l,n,u){checkTypedArray();let p,v;if(typeof l=="object"&&"location"in l)switch(this.dataLocation=l.location,p=l.type,v=l.dims,l.location){case"cpu-pinned":{const g=NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.get(p);if(!g)throw new TypeError(`unsupported type "${p}" to create tensor from pinned buffer`);if(!(l.data instanceof g))throw new TypeError(`buffer should be of type ${g.name}`);this.cpuData=l.data;break}case"texture":{if(p!=="float32")throw new TypeError(`unsupported type "${p}" to create tensor from texture`);this.gpuTextureData=l.texture,this.downloader=l.download,this.disposer=l.dispose;break}case"gpu-buffer":{if(p!=="float32"&&p!=="float16"&&p!=="int32"&&p!=="int64"&&p!=="uint32"&&p!=="uint8"&&p!=="bool")throw new TypeError(`unsupported type "${p}" to create tensor from gpu buffer`);this.gpuBufferData=l.gpuBuffer,this.downloader=l.download,this.disposer=l.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let g,_;if(typeof l=="string")if(p=l,_=u,l==="string"){if(!Array.isArray(n))throw new TypeError("A string tensor's data must be a string array.");g=n}else{const C=NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.get(l);if(C===void 0)throw new TypeError(`Unsupported tensor type: ${l}.`);if(Array.isArray(n)){if(l==="float16"&&C===Uint16Array)throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");l==="uint64"||l==="int64"?g=C.from(n,BigInt):g=C.from(n)}else if(n instanceof C)g=n;else throw new TypeError(`A ${p} tensor's data must be type of ${C}`)}else if(_=n,Array.isArray(l)){if(l.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");const C=typeof l[0];if(C==="string")p="string",g=l;else if(C==="boolean")p="bool",g=Uint8Array.from(l);else throw new TypeError(`Invalid element type of data array: ${C}.`)}else{const C=NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.get(l.constructor);if(C===void 0)throw new TypeError(`Unsupported type for tensor data: ${l.constructor}.`);p=C,g=l}if(_===void 0)_=[g.length];else if(!Array.isArray(_))throw new TypeError("A tensor's dims must be a number array");v=_,this.cpuData=g,this.dataLocation="cpu"}const d=calculateSize(v);if(this.cpuData&&d!==this.cpuData.length)throw new Error(`Tensor's size(${d}) does not match data length(${this.cpuData.length}).`);this.type=p,this.dims=v,this.size=d}static async fromImage(l,n){return tensorFromImage(l,n)}static fromTexture(l,n){return tensorFromTexture(l,n)}static fromGpuBuffer(l,n){return tensorFromGpuBuffer(l,n)}static fromPinnedBuffer(l,n,u){return tensorFromPinnedBuffer(l,n,u)}toDataURL(l){return tensorToDataURL(this,l)}toImageData(l){return tensorToImageData(this,l)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(l){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;const n=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=n,l&&this.disposer&&(this.disposer(),this.disposer=void 0),n}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(l){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return tensorReshape(this,l)}}}}),Tensor2,init_tensor=__esm({"common/dist/esm/tensor.js"(){init_tensor_impl(),Tensor2=Tensor}}),TRACE,TRACE_FUNC,TRACE_FUNC_BEGIN,TRACE_FUNC_END,init_trace=__esm({"common/dist/esm/trace.js"(){init_env_impl(),TRACE=(l,n)=>{(typeof env.trace>"u"?!env.wasm.trace:!env.trace)||console.timeStamp(`${l}::ORT::${n}`)},TRACE_FUNC=(l,n)=>{var v;const u=((v=new Error().stack)==null?void 0:v.split(/\r\n|\r|\n/g))||[];let p=!1;for(let d=0;d<u.length;d++){if(p&&!u[d].includes("TRACE_FUNC")){let g=`FUNC_${l}::${u[d].trim().split(" ")[1]}`;n&&(g+=`::${n}`),TRACE("CPU",g);return}u[d].includes("TRACE_FUNC")&&(p=!0)}},TRACE_FUNC_BEGIN=l=>{(typeof env.trace>"u"?!env.wasm.trace:!env.trace)||TRACE_FUNC("BEGIN",l)},TRACE_FUNC_END=l=>{(typeof env.trace>"u"?!env.wasm.trace:!env.trace)||TRACE_FUNC("END",l)}}}),InferenceSession,init_inference_session_impl=__esm({"common/dist/esm/inference-session-impl.js"(){init_backend_impl(),init_tensor(),init_trace(),InferenceSession=class Ys{constructor(n){this.handler=n}async run(n,u,p){TRACE_FUNC_BEGIN();const v={};let d={};if(typeof n!="object"||n===null||n instanceof Tensor2||Array.isArray(n))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let g=!0;if(typeof u=="object"){if(u===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(u instanceof Tensor2)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(u)){if(u.length===0)throw new TypeError("'fetches' cannot be an empty array.");g=!1;for(const E of u){if(typeof E!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(E)===-1)throw new RangeError(`'fetches' contains invalid output name: ${E}.`);v[E]=null}if(typeof p=="object"&&p!==null)d=p;else if(typeof p<"u")throw new TypeError("'options' must be an object.")}else{let E=!1;const w=Object.getOwnPropertyNames(u);for(const m of this.outputNames)if(w.indexOf(m)!==-1){const y=u[m];(y===null||y instanceof Tensor2)&&(E=!0,g=!1,v[m]=y)}if(E){if(typeof p=="object"&&p!==null)d=p;else if(typeof p<"u")throw new TypeError("'options' must be an object.")}else d=u}}else if(typeof u<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const E of this.inputNames)if(typeof n[E]>"u")throw new Error(`input '${E}' is missing in 'feeds'.`);if(g)for(const E of this.outputNames)v[E]=null;const _=await this.handler.run(n,v,d),C={};for(const E in _)if(Object.hasOwnProperty.call(_,E)){const w=_[E];w instanceof Tensor2?C[E]=w:C[E]=new Tensor2(w.type,w.data,w.dims)}return TRACE_FUNC_END(),C}async release(){return this.handler.dispose()}static async create(n,u,p,v){TRACE_FUNC_BEGIN();let d,g={};if(typeof n=="string"){if(d=n,typeof u=="object"&&u!==null)g=u;else if(typeof u<"u")throw new TypeError("'options' must be an object.")}else if(n instanceof Uint8Array){if(d=n,typeof u=="object"&&u!==null)g=u;else if(typeof u<"u")throw new TypeError("'options' must be an object.")}else if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer){const w=n;let m=0,y=n.byteLength;if(typeof u=="object"&&u!==null)g=u;else if(typeof u=="number"){if(m=u,!Number.isSafeInteger(m))throw new RangeError("'byteOffset' must be an integer.");if(m<0||m>=w.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${w.byteLength}).`);if(y=n.byteLength-m,typeof p=="number"){if(y=p,!Number.isSafeInteger(y))throw new RangeError("'byteLength' must be an integer.");if(y<=0||m+y>w.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${w.byteLength-m}].`);if(typeof v=="object"&&v!==null)g=v;else if(typeof v<"u")throw new TypeError("'options' must be an object.")}else if(typeof p<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof u<"u")throw new TypeError("'options' must be an object.");d=new Uint8Array(w,m,y)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");const[_,C]=await resolveBackendAndExecutionProviders(g),E=await _.createInferenceSessionHandler(d,C);return TRACE_FUNC_END(),new Ys(E)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}}}),InferenceSession2,init_inference_session=__esm({"common/dist/esm/inference-session.js"(){init_inference_session_impl(),InferenceSession2=InferenceSession}}),init_tensor_conversion=__esm({"common/dist/esm/tensor-conversion.js"(){}}),init_tensor_factory=__esm({"common/dist/esm/tensor-factory.js"(){}}),init_onnx_model=__esm({"common/dist/esm/onnx-model.js"(){}}),init_onnx_value=__esm({"common/dist/esm/onnx-value.js"(){}}),noBackendErrMsg,TrainingSession,init_training_session_impl=__esm({"common/dist/esm/training-session-impl.js"(){init_backend_impl(),init_tensor(),noBackendErrMsg="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.",TrainingSession=class Ks{constructor(n,u,p){this.handler=n,this.hasOptimizerModel=u,this.hasEvalModel=p}get trainingInputNames(){return this.handler.inputNames}get trainingOutputNames(){return this.handler.outputNames}get evalInputNames(){if(this.hasEvalModel)return this.handler.evalInputNames;throw new Error("This training session has no evalModel loaded.")}get evalOutputNames(){if(this.hasEvalModel)return this.handler.evalOutputNames;throw new Error("This training session has no evalModel loaded.")}static async create(n,u){const p=n.evalModel||"",v=n.optimizerModel||"",d=u||{},[g,_]=await resolveBackendAndExecutionProviders(d);if(g.createTrainingSessionHandler){const C=await g.createTrainingSessionHandler(n.checkpointState,n.trainModel,p,v,_);return new Ks(C,!!n.optimizerModel,!!n.evalModel)}else throw new Error(noBackendErrMsg)}typeNarrowingForRunStep(n,u,p,v,d){const g={};let _={};if(typeof p!="object"||p===null||p instanceof Tensor2||Array.isArray(p))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let C=!0;if(typeof v=="object"){if(v===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(v instanceof Tensor2)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(v)){if(v.length===0)throw new TypeError("'fetches' cannot be an empty array.");C=!1;for(const E of v){if(typeof E!="string")throw new TypeError("'fetches' must be a string array or an object.");if(u.indexOf(E)===-1)throw new RangeError(`'fetches' contains invalid output name: ${E}.`);g[E]=null}if(typeof d=="object"&&d!==null)_=d;else if(typeof d<"u")throw new TypeError("'options' must be an object.")}else{let E=!1;const w=Object.getOwnPropertyNames(v);for(const m of u)if(w.indexOf(m)!==-1){const y=v[m];(y===null||y instanceof Tensor2)&&(E=!0,C=!1,g[m]=y)}if(E){if(typeof d=="object"&&d!==null)_=d;else if(typeof d<"u")throw new TypeError("'options' must be an object.")}else _=v}}else if(typeof v<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const E of n)if(typeof p[E]>"u")throw new Error(`input '${E}' is missing in 'feeds'.`);if(C)for(const E of u)g[E]=null;return[g,_]}convertHandlerReturnTypeToMapOfTensors(n){const u={};for(const p in n)if(Object.hasOwnProperty.call(n,p)){const v=n[p];v instanceof Tensor2?u[p]=v:u[p]=new Tensor2(v.type,v.data,v.dims)}return u}async lazyResetGrad(){await this.handler.lazyResetGrad()}async runTrainStep(n,u,p){const[v,d]=this.typeNarrowingForRunStep(this.trainingInputNames,this.trainingOutputNames,n,u,p),g=await this.handler.runTrainStep(n,v,d);return this.convertHandlerReturnTypeToMapOfTensors(g)}async runOptimizerStep(n){if(this.hasOptimizerModel)await this.handler.runOptimizerStep(n||{});else throw new Error("This TrainingSession has no OptimizerModel loaded.")}async runEvalStep(n,u,p){if(this.hasEvalModel){const[v,d]=this.typeNarrowingForRunStep(this.evalInputNames,this.evalOutputNames,n,u,p),g=await this.handler.runEvalStep(n,v,d);return this.convertHandlerReturnTypeToMapOfTensors(g)}else throw new Error("This TrainingSession has no EvalModel loaded.")}async getParametersSize(n=!0){return this.handler.getParametersSize(n)}async loadParametersBuffer(n,u=!0){const p=await this.getParametersSize(u);if(n.length!==4*p)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(n,u)}async getContiguousParameters(n=!0){return this.handler.getContiguousParameters(n)}async release(){return this.handler.dispose()}}}}),TrainingSession2,init_training_session=__esm({"common/dist/esm/training-session.js"(){init_training_session_impl(),TrainingSession2=TrainingSession}}),esm_exports={};__export(esm_exports,{InferenceSession:()=>InferenceSession2,TRACE:()=>TRACE,TRACE_FUNC_BEGIN:()=>TRACE_FUNC_BEGIN,TRACE_FUNC_END:()=>TRACE_FUNC_END,Tensor:()=>Tensor2,TrainingSession:()=>TrainingSession2,env:()=>env2,registerBackend:()=>registerBackend});var init_esm=__esm({"common/dist/esm/index.js"(){init_backend(),init_env(),init_inference_session(),init_tensor(),init_tensor_conversion(),init_tensor_factory(),init_trace(),init_onnx_model(),init_onnx_value(),init_training_session()}});function log(l,n,u,p){if(n===void 0)return createCategorizedLogger(l);if(u===void 0)logInternal(l,n);else if(typeof u=="number"&&p===void 0)logInternal(l,n);else if(typeof u=="string"&&p===void 0)logInternal(l,u,1,n);else if(typeof u=="string"&&typeof p=="number")logInternal(l,u,p,n);else throw new TypeError("input is valid")}function createCategorizedLogger(l){return{verbose:log.verbose.bind(null,l),info:log.info.bind(null,l),warning:log.warning.bind(null,l),error:log.error.bind(null,l),fatal:log.fatal.bind(null,l)}}function logInternal(l,n,u,p){const v=LOGGER_CONFIG_MAP[p||""]||LOGGER_CONFIG_MAP[""];SEVERITY_VALUE[l]<SEVERITY_VALUE[v.minimalSeverity]||(v.logDateTime&&(n=`${new Date().toISOString()}|${n}`),v.logSourceLocation,LOGGER_PROVIDER_MAP[v.provider].log(l,n,p))}var NoOpLoggerProvider,ConsoleLoggerProvider,SEVERITY_VALUE,LOGGER_PROVIDER_MAP,LOGGER_DEFAULT_CONFIG,LOGGER_CONFIG_MAP,Logger,Event$1,EventRecord,Profiler,now,init_instrument=__esm({"web/lib/onnxjs/instrument.ts"(){NoOpLoggerProvider=class{log(l,n,u){}},ConsoleLoggerProvider=class{log(l,n,u){console.log(`${this.color(l)} ${u?"\x1B[35m"+u+"\x1B[0m ":""}${n}`)}color(l){switch(l){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${l}`)}}},SEVERITY_VALUE={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},LOGGER_PROVIDER_MAP={none:new NoOpLoggerProvider,console:new ConsoleLoggerProvider},LOGGER_DEFAULT_CONFIG={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1},LOGGER_CONFIG_MAP={"":LOGGER_DEFAULT_CONFIG},(l=>{function n(E,w){l("verbose",E,w)}l.verbose=n;function u(E,w){l("info",E,w)}l.info=u;function p(E,w){l("warning",E,w)}l.warning=p;function v(E,w){l("error",E,w)}l.error=v;function d(E,w){l("fatal",E,w)}l.fatal=d;function g(E){LOGGER_CONFIG_MAP={},_("",E||{})}l.reset=g;function _(E,w){if(E==="*")g(w);else{const m=LOGGER_CONFIG_MAP[E]||LOGGER_DEFAULT_CONFIG;LOGGER_CONFIG_MAP[E]={provider:w.provider||m.provider,minimalSeverity:w.minimalSeverity||m.minimalSeverity,logDateTime:w.logDateTime===void 0?m.logDateTime:w.logDateTime,logSourceLocation:w.logSourceLocation===void 0?m.logSourceLocation:w.logSourceLocation}}}l.set=_;function C(E){const w={};E.logLevel&&(w.minimalSeverity=E.logLevel),_("",w)}l.setWithEnv=C})(log||(log={})),Logger=log,Event$1=class{constructor(l,n,u,p,v,d){this.category=l,this.name=n,this.startTime=u,this.endCallback=p,this.timer=v,this.ctx=d}async end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}},EventRecord=class{constructor(l,n,u,p){this.category=l,this.name=n,this.startTime=u,this.endTime=p}},Profiler=class{constructor(l,n,u){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=l===void 0?1e4:l,this._flushBatchSize=n===void 0?10:n,this._flushIntervalInMilliseconds=u===void 0?5e3:u}static create(l){return l===void 0?new this:new this(l.maxNumberEvents,l.flushBatchSize,l.flushIntervalInMilliseconds)}start(){this._started=!0,this._timingEvents=[],this._flushTime=now(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(l,n,u,p){const v=this._started?this.begin(l,n,p):void 0;let d=!1;const g=u();if(g&&typeof g.then=="function")return d=!0,new Promise((_,C)=>{g.then(async E=>{v&&await v.end(),_(E)},async E=>{v&&await v.end(),C(E)})});if(!d&&v){const _=v.end();if(_&&typeof _.then=="function")return new Promise((C,E)=>{_.then(()=>{C(g)},w=>{E(w)})})}return g}begin(l,n,u){if(!this._started)throw new Error("profiler is not started yet");if(u===void 0){const p=now();return this.flush(p),new Event$1(l,n,p,v=>this.endSync(v))}else{const p=u.beginTimer();return new Event$1(l,n,0,async v=>this.end(v),p,u)}}async end(l){const n=await l.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new EventRecord(l.category,l.name,l.startTime,n)),this.flush(n))}endSync(l){const n=now();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new EventRecord(l.category,l.name,l.startTime,n)),this.flush(n))}logOneEvent(l){Logger.verbose(`Profiler.${l.category}`,`${(l.endTime-l.startTime).toFixed(2)}ms on event '${l.name}' at ${l.endTime.toFixed(2)}`)}flush(l){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||l-this._flushTime>=this._flushIntervalInMilliseconds){for(const n=this._flushPointer;this._flushPointer<n+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=now()}}get started(){return this._started}},now=typeof performance<"u"&&performance.now?()=>performance.now():Date.now}});function resolveOperator(l,n,u){for(const p of u){const v=p[0],d=p[1],g=p[2],_=p[3],C=p[4];if(l.opType===v){for(const E of n)if((E.domain===d||E.domain==="ai.onnx"&&d==="")&&matchSelector(E.version,g))return{opImpl:_,opInit:C}}}throw new TypeError(`cannot resolve operator '${l.opType}' with opsets: ${n.map(p=>`${p.domain||"ai.onnx"} v${p.version}`).join(", ")}`)}function matchSelector(l,n){if(n.endsWith("+")){const u=Number.parseInt(n.substring(0,n.length-1),10);return!isNaN(u)&&u<=l}else if(n.split("-").length===2){const u=n.split("-"),p=Number.parseInt(u[0],10),v=Number.parseInt(u[1],10);return!isNaN(p)&&!isNaN(v)&&p<=l&&l<=v}else return Number.parseInt(n,10)===l}var init_opset=__esm({"web/lib/onnxjs/opset.ts"(){}}),require_guid=__commonJS({"web/node_modules/guid-typescript/dist/guid.js"(l){l.__esModule=!0;var n=function(){function u(p){if(!p)throw new TypeError("Invalid argument; `value` has no value.");this.value=u.EMPTY,p&&u.isGuid(p)&&(this.value=p)}return u.isGuid=function(p){var v=p.toString();return p&&(p instanceof u||u.validator.test(v))},u.create=function(){return new u([u.gen(2),u.gen(1),u.gen(1),u.gen(1),u.gen(3)].join("-"))},u.createEmpty=function(){return new u("emptyguid")},u.parse=function(p){return new u(p)},u.raw=function(){return[u.gen(2),u.gen(1),u.gen(1),u.gen(1),u.gen(3)].join("-")},u.gen=function(p){for(var v="",d=0;d<p;d++)v+=((1+Math.random())*65536|0).toString(16).substring(1);return v},u.prototype.equals=function(p){return u.isGuid(p)&&this.value===p.toString()},u.prototype.isEmpty=function(){return this.value===u.EMPTY},u.prototype.toString=function(){return this.value},u.prototype.toJSON=function(){return{value:this.value}},u.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),u.EMPTY="00000000-0000-0000-0000-000000000000",u}();l.Guid=n}});function Long(l,n,u){this.low=l|0,this.high=n|0,this.unsigned=!!u}function isLong(l){return(l&&l.__isLong__)===!0}function ctz32(l){var n=Math.clz32(l&-l);return l?31-n:n}function fromInt(l,n){var u,p,v;return n?(l>>>=0,(v=0<=l&&l<256)&&(p=UINT_CACHE[l],p)?p:(u=fromBits(l,0,!0),v&&(UINT_CACHE[l]=u),u)):(l|=0,(v=-128<=l&&l<128)&&(p=INT_CACHE[l],p)?p:(u=fromBits(l,l<0?-1:0,!1),v&&(INT_CACHE[l]=u),u))}function fromNumber(l,n){if(isNaN(l))return n?UZERO:ZERO;if(n){if(l<0)return UZERO;if(l>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(l<=-TWO_PWR_63_DBL)return MIN_VALUE;if(l+1>=TWO_PWR_63_DBL)return MAX_VALUE}return l<0?fromNumber(-l,n).neg():fromBits(l%TWO_PWR_32_DBL|0,l/TWO_PWR_32_DBL|0,n)}function fromBits(l,n,u){return new Long(l,n,u)}function fromString(l,n,u){if(l.length===0)throw Error("empty string");if(typeof n=="number"?(u=n,n=!1):n=!!n,l==="NaN"||l==="Infinity"||l==="+Infinity"||l==="-Infinity")return n?UZERO:ZERO;if(u=u||10,u<2||36<u)throw RangeError("radix");var p;if((p=l.indexOf("-"))>0)throw Error("interior hyphen");if(p===0)return fromString(l.substring(1),n,u).neg();for(var v=fromNumber(pow_dbl(u,8)),d=ZERO,g=0;g<l.length;g+=8){var _=Math.min(8,l.length-g),C=parseInt(l.substring(g,g+_),u);if(_<8){var E=fromNumber(pow_dbl(u,_));d=d.mul(E).add(fromNumber(C))}else d=d.mul(v),d=d.add(fromNumber(C))}return d.unsigned=n,d}function fromValue(l,n){return typeof l=="number"?fromNumber(l,n):typeof l=="string"?fromString(l,n):fromBits(l.low,l.high,typeof n=="boolean"?n:l.unsigned)}var wasm,INT_CACHE,UINT_CACHE,pow_dbl,TWO_PWR_16_DBL,TWO_PWR_24_DBL,TWO_PWR_32_DBL,TWO_PWR_64_DBL,TWO_PWR_63_DBL,TWO_PWR_24,ZERO,UZERO,ONE,UONE,NEG_ONE,MAX_VALUE,MAX_UNSIGNED_VALUE,MIN_VALUE,LongPrototype,long_default,init_long=__esm({"web/node_modules/long/index.js"(){wasm=null;try{wasm=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}Long.prototype.__isLong__,Object.defineProperty(Long.prototype,"__isLong__",{value:!0}),Long.isLong=isLong,INT_CACHE={},UINT_CACHE={},Long.fromInt=fromInt,Long.fromNumber=fromNumber,Long.fromBits=fromBits,pow_dbl=Math.pow,Long.fromString=fromString,Long.fromValue=fromValue,TWO_PWR_16_DBL=65536,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(TWO_PWR_24_DBL),ZERO=fromInt(0),Long.ZERO=ZERO,UZERO=fromInt(0,!0),Long.UZERO=UZERO,ONE=fromInt(1),Long.ONE=ONE,UONE=fromInt(1,!0),Long.UONE=UONE,NEG_ONE=fromInt(-1),Long.NEG_ONE=NEG_ONE,MAX_VALUE=fromBits(-1,2147483647,!1),Long.MAX_VALUE=MAX_VALUE,MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0),Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE,MIN_VALUE=fromBits(0,-2147483648,!1),Long.MIN_VALUE=MIN_VALUE,LongPrototype=Long.prototype,LongPrototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},LongPrototype.toNumber=function(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)},LongPrototype.toString=function(n){if(n=n||10,n<2||36<n)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(MIN_VALUE)){var u=fromNumber(n),p=this.div(u),v=p.mul(u).sub(this);return p.toString(n)+v.toInt().toString(n)}else return"-"+this.neg().toString(n);for(var d=fromNumber(pow_dbl(n,6),this.unsigned),g=this,_="";;){var C=g.div(d),E=g.sub(C.mul(d)).toInt()>>>0,w=E.toString(n);if(g=C,g.isZero())return w+_;for(;w.length<6;)w="0"+w;_=""+w+_}},LongPrototype.getHighBits=function(){return this.high},LongPrototype.getHighBitsUnsigned=function(){return this.high>>>0},LongPrototype.getLowBits=function(){return this.low},LongPrototype.getLowBitsUnsigned=function(){return this.low>>>0},LongPrototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var n=this.high!=0?this.high:this.low,u=31;u>0&&!(n&1<<u);u--);return this.high!=0?u+33:u+1},LongPrototype.isZero=function(){return this.high===0&&this.low===0},LongPrototype.eqz=LongPrototype.isZero,LongPrototype.isNegative=function(){return!this.unsigned&&this.high<0},LongPrototype.isPositive=function(){return this.unsigned||this.high>=0},LongPrototype.isOdd=function(){return(this.low&1)===1},LongPrototype.isEven=function(){return(this.low&1)===0},LongPrototype.equals=function(n){return isLong(n)||(n=fromValue(n)),this.unsigned!==n.unsigned&&this.high>>>31===1&&n.high>>>31===1?!1:this.high===n.high&&this.low===n.low},LongPrototype.eq=LongPrototype.equals,LongPrototype.notEquals=function(n){return!this.eq(n)},LongPrototype.neq=LongPrototype.notEquals,LongPrototype.ne=LongPrototype.notEquals,LongPrototype.lessThan=function(n){return this.comp(n)<0},LongPrototype.lt=LongPrototype.lessThan,LongPrototype.lessThanOrEqual=function(n){return this.comp(n)<=0},LongPrototype.lte=LongPrototype.lessThanOrEqual,LongPrototype.le=LongPrototype.lessThanOrEqual,LongPrototype.greaterThan=function(n){return this.comp(n)>0},LongPrototype.gt=LongPrototype.greaterThan,LongPrototype.greaterThanOrEqual=function(n){return this.comp(n)>=0},LongPrototype.gte=LongPrototype.greaterThanOrEqual,LongPrototype.ge=LongPrototype.greaterThanOrEqual,LongPrototype.compare=function(n){if(isLong(n)||(n=fromValue(n)),this.eq(n))return 0;var u=this.isNegative(),p=n.isNegative();return u&&!p?-1:!u&&p?1:this.unsigned?n.high>>>0>this.high>>>0||n.high===this.high&&n.low>>>0>this.low>>>0?-1:1:this.sub(n).isNegative()?-1:1},LongPrototype.comp=LongPrototype.compare,LongPrototype.negate=function(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)},LongPrototype.neg=LongPrototype.negate,LongPrototype.add=function(n){isLong(n)||(n=fromValue(n));var u=this.high>>>16,p=this.high&65535,v=this.low>>>16,d=this.low&65535,g=n.high>>>16,_=n.high&65535,C=n.low>>>16,E=n.low&65535,w=0,m=0,y=0,e=0;return e+=d+E,y+=e>>>16,e&=65535,y+=v+C,m+=y>>>16,y&=65535,m+=p+_,w+=m>>>16,m&=65535,w+=u+g,w&=65535,fromBits(y<<16|e,w<<16|m,this.unsigned)},LongPrototype.subtract=function(n){return isLong(n)||(n=fromValue(n)),this.add(n.neg())},LongPrototype.sub=LongPrototype.subtract,LongPrototype.multiply=function(n){if(this.isZero())return this;if(isLong(n)||(n=fromValue(n)),wasm){var u=wasm.mul(this.low,this.high,n.low,n.high);return fromBits(u,wasm.get_high(),this.unsigned)}if(n.isZero())return this.unsigned?UZERO:ZERO;if(this.eq(MIN_VALUE))return n.isOdd()?MIN_VALUE:ZERO;if(n.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return n.isNegative()?this.neg().mul(n.neg()):this.neg().mul(n).neg();if(n.isNegative())return this.mul(n.neg()).neg();if(this.lt(TWO_PWR_24)&&n.lt(TWO_PWR_24))return fromNumber(this.toNumber()*n.toNumber(),this.unsigned);var p=this.high>>>16,v=this.high&65535,d=this.low>>>16,g=this.low&65535,_=n.high>>>16,C=n.high&65535,E=n.low>>>16,w=n.low&65535,m=0,y=0,e=0,P=0;return P+=g*w,e+=P>>>16,P&=65535,e+=d*w,y+=e>>>16,e&=65535,e+=g*E,y+=e>>>16,e&=65535,y+=v*w,m+=y>>>16,y&=65535,y+=d*E,m+=y>>>16,y&=65535,y+=g*C,m+=y>>>16,y&=65535,m+=p*w+v*E+d*C+g*_,m&=65535,fromBits(e<<16|P,m<<16|y,this.unsigned)},LongPrototype.mul=LongPrototype.multiply,LongPrototype.divide=function(n){if(isLong(n)||(n=fromValue(n)),n.isZero())throw Error("division by zero");if(wasm){if(!this.unsigned&&this.high===-2147483648&&n.low===-1&&n.high===-1)return this;var u=(this.unsigned?wasm.div_u:wasm.div_s)(this.low,this.high,n.low,n.high);return fromBits(u,wasm.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?UZERO:ZERO;var p,v,d;if(this.unsigned){if(n.unsigned||(n=n.toUnsigned()),n.gt(this))return UZERO;if(n.gt(this.shru(1)))return UONE;d=UZERO}else{if(this.eq(MIN_VALUE)){if(n.eq(ONE)||n.eq(NEG_ONE))return MIN_VALUE;if(n.eq(MIN_VALUE))return ONE;var g=this.shr(1);return p=g.div(n).shl(1),p.eq(ZERO)?n.isNegative()?ONE:NEG_ONE:(v=this.sub(n.mul(p)),d=p.add(v.div(n)),d)}else if(n.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return n.isNegative()?this.neg().div(n.neg()):this.neg().div(n).neg();if(n.isNegative())return this.div(n.neg()).neg();d=ZERO}for(v=this;v.gte(n);){p=Math.max(1,Math.floor(v.toNumber()/n.toNumber()));for(var _=Math.ceil(Math.log(p)/Math.LN2),C=_<=48?1:pow_dbl(2,_-48),E=fromNumber(p),w=E.mul(n);w.isNegative()||w.gt(v);)p-=C,E=fromNumber(p,this.unsigned),w=E.mul(n);E.isZero()&&(E=ONE),d=d.add(E),v=v.sub(w)}return d},LongPrototype.div=LongPrototype.divide,LongPrototype.modulo=function(n){if(isLong(n)||(n=fromValue(n)),wasm){var u=(this.unsigned?wasm.rem_u:wasm.rem_s)(this.low,this.high,n.low,n.high);return fromBits(u,wasm.get_high(),this.unsigned)}return this.sub(this.div(n).mul(n))},LongPrototype.mod=LongPrototype.modulo,LongPrototype.rem=LongPrototype.modulo,LongPrototype.not=function(){return fromBits(~this.low,~this.high,this.unsigned)},LongPrototype.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},LongPrototype.clz=LongPrototype.countLeadingZeros,LongPrototype.countTrailingZeros=function(){return this.low?ctz32(this.low):ctz32(this.high)+32},LongPrototype.ctz=LongPrototype.countTrailingZeros,LongPrototype.and=function(n){return isLong(n)||(n=fromValue(n)),fromBits(this.low&n.low,this.high&n.high,this.unsigned)},LongPrototype.or=function(n){return isLong(n)||(n=fromValue(n)),fromBits(this.low|n.low,this.high|n.high,this.unsigned)},LongPrototype.xor=function(n){return isLong(n)||(n=fromValue(n)),fromBits(this.low^n.low,this.high^n.high,this.unsigned)},LongPrototype.shiftLeft=function(n){return isLong(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?fromBits(this.low<<n,this.high<<n|this.low>>>32-n,this.unsigned):fromBits(0,this.low<<n-32,this.unsigned)},LongPrototype.shl=LongPrototype.shiftLeft,LongPrototype.shiftRight=function(n){return isLong(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?fromBits(this.low>>>n|this.high<<32-n,this.high>>n,this.unsigned):fromBits(this.high>>n-32,this.high>=0?0:-1,this.unsigned)},LongPrototype.shr=LongPrototype.shiftRight,LongPrototype.shiftRightUnsigned=function(n){return isLong(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?fromBits(this.low>>>n|this.high<<32-n,this.high>>>n,this.unsigned):n===32?fromBits(this.high,0,this.unsigned):fromBits(this.high>>>n-32,0,this.unsigned)},LongPrototype.shru=LongPrototype.shiftRightUnsigned,LongPrototype.shr_u=LongPrototype.shiftRightUnsigned,LongPrototype.rotateLeft=function(n){var u;return isLong(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?fromBits(this.high,this.low,this.unsigned):n<32?(u=32-n,fromBits(this.low<<n|this.high>>>u,this.high<<n|this.low>>>u,this.unsigned)):(n-=32,u=32-n,fromBits(this.high<<n|this.low>>>u,this.low<<n|this.high>>>u,this.unsigned))},LongPrototype.rotl=LongPrototype.rotateLeft,LongPrototype.rotateRight=function(n){var u;return isLong(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?fromBits(this.high,this.low,this.unsigned):n<32?(u=32-n,fromBits(this.high<<u|this.low>>>n,this.low<<u|this.high>>>n,this.unsigned)):(n-=32,u=32-n,fromBits(this.low<<u|this.high>>>n,this.high<<u|this.low>>>n,this.unsigned))},LongPrototype.rotr=LongPrototype.rotateRight,LongPrototype.toSigned=function(){return this.unsigned?fromBits(this.low,this.high,!1):this},LongPrototype.toUnsigned=function(){return this.unsigned?this:fromBits(this.low,this.high,!0)},LongPrototype.toBytes=function(n){return n?this.toBytesLE():this.toBytesBE()},LongPrototype.toBytesLE=function(){var n=this.high,u=this.low;return[u&255,u>>>8&255,u>>>16&255,u>>>24,n&255,n>>>8&255,n>>>16&255,n>>>24]},LongPrototype.toBytesBE=function(){var n=this.high,u=this.low;return[n>>>24,n>>>16&255,n>>>8&255,n&255,u>>>24,u>>>16&255,u>>>8&255,u&255]},Long.fromBytes=function(n,u,p){return p?Long.fromBytesLE(n,u):Long.fromBytesBE(n,u)},Long.fromBytesLE=function(n,u){return new Long(n[0]|n[1]<<8|n[2]<<16|n[3]<<24,n[4]|n[5]<<8|n[6]<<16|n[7]<<24,u)},Long.fromBytesBE=function(n,u){return new Long(n[4]<<24|n[5]<<16|n[6]<<8|n[7],n[0]<<24|n[1]<<16|n[2]<<8|n[3],u)},long_default=Long}}),flatbuffers,init_flatbuffers=__esm({"web/node_modules/flatbuffers/js/flatbuffers.mjs"(){flatbuffers={},flatbuffers.Offset,flatbuffers.Table,flatbuffers.SIZEOF_SHORT=2,flatbuffers.SIZEOF_INT=4,flatbuffers.FILE_IDENTIFIER_LENGTH=4,flatbuffers.SIZE_PREFIX_LENGTH=4,flatbuffers.Encoding={UTF8_BYTES:1,UTF16_STRING:2},flatbuffers.int32=new Int32Array(2),flatbuffers.float32=new Float32Array(flatbuffers.int32.buffer),flatbuffers.float64=new Float64Array(flatbuffers.int32.buffer),flatbuffers.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,flatbuffers.Long=function(l,n){this.low=l|0,this.high=n|0},flatbuffers.Long.create=function(l,n){return l==0&&n==0?flatbuffers.Long.ZERO:new flatbuffers.Long(l,n)},flatbuffers.Long.prototype.toFloat64=function(){return(this.low>>>0)+this.high*4294967296},flatbuffers.Long.prototype.equals=function(l){return this.low==l.low&&this.high==l.high},flatbuffers.Long.ZERO=new flatbuffers.Long(0,0),flatbuffers.Builder=function(l){if(l)var n=l;else var n=1024;this.bb=flatbuffers.ByteBuffer.allocate(n),this.space=n,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},flatbuffers.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},flatbuffers.Builder.prototype.forceDefaults=function(l){this.force_defaults=l},flatbuffers.Builder.prototype.dataBuffer=function(){return this.bb},flatbuffers.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},flatbuffers.Builder.prototype.prep=function(l,n){l>this.minalign&&(this.minalign=l);for(var u=~(this.bb.capacity()-this.space+n)+1&l-1;this.space<u+l+n;){var p=this.bb.capacity();this.bb=flatbuffers.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-p}this.pad(u)},flatbuffers.Builder.prototype.pad=function(l){for(var n=0;n<l;n++)this.bb.writeInt8(--this.space,0)},flatbuffers.Builder.prototype.writeInt8=function(l){this.bb.writeInt8(this.space-=1,l)},flatbuffers.Builder.prototype.writeInt16=function(l){this.bb.writeInt16(this.space-=2,l)},flatbuffers.Builder.prototype.writeInt32=function(l){this.bb.writeInt32(this.space-=4,l)},flatbuffers.Builder.prototype.writeInt64=function(l){this.bb.writeInt64(this.space-=8,l)},flatbuffers.Builder.prototype.writeFloat32=function(l){this.bb.writeFloat32(this.space-=4,l)},flatbuffers.Builder.prototype.writeFloat64=function(l){this.bb.writeFloat64(this.space-=8,l)},flatbuffers.Builder.prototype.addInt8=function(l){this.prep(1,0),this.writeInt8(l)},flatbuffers.Builder.prototype.addInt16=function(l){this.prep(2,0),this.writeInt16(l)},flatbuffers.Builder.prototype.addInt32=function(l){this.prep(4,0),this.writeInt32(l)},flatbuffers.Builder.prototype.addInt64=function(l){this.prep(8,0),this.writeInt64(l)},flatbuffers.Builder.prototype.addFloat32=function(l){this.prep(4,0),this.writeFloat32(l)},flatbuffers.Builder.prototype.addFloat64=function(l){this.prep(8,0),this.writeFloat64(l)},flatbuffers.Builder.prototype.addFieldInt8=function(l,n,u){(this.force_defaults||n!=u)&&(this.addInt8(n),this.slot(l))},flatbuffers.Builder.prototype.addFieldInt16=function(l,n,u){(this.force_defaults||n!=u)&&(this.addInt16(n),this.slot(l))},flatbuffers.Builder.prototype.addFieldInt32=function(l,n,u){(this.force_defaults||n!=u)&&(this.addInt32(n),this.slot(l))},flatbuffers.Builder.prototype.addFieldInt64=function(l,n,u){(this.force_defaults||!n.equals(u))&&(this.addInt64(n),this.slot(l))},flatbuffers.Builder.prototype.addFieldFloat32=function(l,n,u){(this.force_defaults||n!=u)&&(this.addFloat32(n),this.slot(l))},flatbuffers.Builder.prototype.addFieldFloat64=function(l,n,u){(this.force_defaults||n!=u)&&(this.addFloat64(n),this.slot(l))},flatbuffers.Builder.prototype.addFieldOffset=function(l,n,u){(this.force_defaults||n!=u)&&(this.addOffset(n),this.slot(l))},flatbuffers.Builder.prototype.addFieldStruct=function(l,n,u){n!=u&&(this.nested(n),this.slot(l))},flatbuffers.Builder.prototype.nested=function(l){if(l!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},flatbuffers.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},flatbuffers.Builder.prototype.slot=function(l){this.vtable[l]=this.offset()},flatbuffers.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},flatbuffers.Builder.growByteBuffer=function(l){var n=l.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var u=n<<1,p=flatbuffers.ByteBuffer.allocate(u);return p.setPosition(u-n),p.bytes().set(l.bytes(),u-n),p},flatbuffers.Builder.prototype.addOffset=function(l){this.prep(flatbuffers.SIZEOF_INT,0),this.writeInt32(this.offset()-l+flatbuffers.SIZEOF_INT)},flatbuffers.Builder.prototype.startObject=function(l){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=l;for(var n=0;n<l;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()},flatbuffers.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var l=this.offset(),n=this.vtable_in_use-1;n>=0&&this.vtable[n]==0;n--);for(var u=n+1;n>=0;n--)this.addInt16(this.vtable[n]!=0?l-this.vtable[n]:0);var p=2;this.addInt16(l-this.object_start);var v=(u+p)*flatbuffers.SIZEOF_SHORT;this.addInt16(v);var d=0,g=this.space;e:for(n=0;n<this.vtables.length;n++){var _=this.bb.capacity()-this.vtables[n];if(v==this.bb.readInt16(_)){for(var C=flatbuffers.SIZEOF_SHORT;C<v;C+=flatbuffers.SIZEOF_SHORT)if(this.bb.readInt16(g+C)!=this.bb.readInt16(_+C))continue e;d=this.vtables[n];break}}return d?(this.space=this.bb.capacity()-l,this.bb.writeInt32(this.space,d-l)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-l,this.offset()-l)),this.isNested=!1,l},flatbuffers.Builder.prototype.finish=function(l,n,u){var p=u?flatbuffers.SIZE_PREFIX_LENGTH:0;if(n){var v=n;if(this.prep(this.minalign,flatbuffers.SIZEOF_INT+flatbuffers.FILE_IDENTIFIER_LENGTH+p),v.length!=flatbuffers.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+flatbuffers.FILE_IDENTIFIER_LENGTH);for(var d=flatbuffers.FILE_IDENTIFIER_LENGTH-1;d>=0;d--)this.writeInt8(v.charCodeAt(d))}this.prep(this.minalign,flatbuffers.SIZEOF_INT+p),this.addOffset(l),p&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},flatbuffers.Builder.prototype.finishSizePrefixed=function(l,n){this.finish(l,n,!0)},flatbuffers.Builder.prototype.requiredField=function(l,n){var u=this.bb.capacity()-l,p=u-this.bb.readInt32(u),v=this.bb.readInt16(p+n)!=0;if(!v)throw new Error("FlatBuffers: field "+n+" must be set")},flatbuffers.Builder.prototype.startVector=function(l,n,u){this.notNested(),this.vector_num_elems=n,this.prep(flatbuffers.SIZEOF_INT,l*n),this.prep(u,l*n)},flatbuffers.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},flatbuffers.Builder.prototype.createString=function(l){if(l instanceof Uint8Array)var n=l;else for(var n=[],u=0;u<l.length;){var p,v=l.charCodeAt(u++);if(v<55296||v>=56320)p=v;else{var d=l.charCodeAt(u++);p=(v<<10)+d+-56613888}p<128?n.push(p):(p<2048?n.push(p>>6&31|192):(p<65536?n.push(p>>12&15|224):n.push(p>>18&7|240,p>>12&63|128),n.push(p>>6&63|128)),n.push(p&63|128))}this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length);for(var u=0,g=this.space,_=this.bb.bytes();u<n.length;u++)_[g++]=n[u];return this.endVector()},flatbuffers.Builder.prototype.createLong=function(l,n){return flatbuffers.Long.create(l,n)},flatbuffers.ByteBuffer=function(l){this.bytes_=l,this.position_=0},flatbuffers.ByteBuffer.allocate=function(l){return new flatbuffers.ByteBuffer(new Uint8Array(l))},flatbuffers.ByteBuffer.prototype.clear=function(){this.position_=0},flatbuffers.ByteBuffer.prototype.bytes=function(){return this.bytes_},flatbuffers.ByteBuffer.prototype.position=function(){return this.position_},flatbuffers.ByteBuffer.prototype.setPosition=function(l){this.position_=l},flatbuffers.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},flatbuffers.ByteBuffer.prototype.readInt8=function(l){return this.readUint8(l)<<24>>24},flatbuffers.ByteBuffer.prototype.readUint8=function(l){return this.bytes_[l]},flatbuffers.ByteBuffer.prototype.readInt16=function(l){return this.readUint16(l)<<16>>16},flatbuffers.ByteBuffer.prototype.readUint16=function(l){return this.bytes_[l]|this.bytes_[l+1]<<8},flatbuffers.ByteBuffer.prototype.readInt32=function(l){return this.bytes_[l]|this.bytes_[l+1]<<8|this.bytes_[l+2]<<16|this.bytes_[l+3]<<24},flatbuffers.ByteBuffer.prototype.readUint32=function(l){return this.readInt32(l)>>>0},flatbuffers.ByteBuffer.prototype.readInt64=function(l){return new flatbuffers.Long(this.readInt32(l),this.readInt32(l+4))},flatbuffers.ByteBuffer.prototype.readUint64=function(l){return new flatbuffers.Long(this.readUint32(l),this.readUint32(l+4))},flatbuffers.ByteBuffer.prototype.readFloat32=function(l){return flatbuffers.int32[0]=this.readInt32(l),flatbuffers.float32[0]},flatbuffers.ByteBuffer.prototype.readFloat64=function(l){return flatbuffers.int32[flatbuffers.isLittleEndian?0:1]=this.readInt32(l),flatbuffers.int32[flatbuffers.isLittleEndian?1:0]=this.readInt32(l+4),flatbuffers.float64[0]},flatbuffers.ByteBuffer.prototype.writeInt8=function(l,n){this.bytes_[l]=n},flatbuffers.ByteBuffer.prototype.writeUint8=function(l,n){this.bytes_[l]=n},flatbuffers.ByteBuffer.prototype.writeInt16=function(l,n){this.bytes_[l]=n,this.bytes_[l+1]=n>>8},flatbuffers.ByteBuffer.prototype.writeUint16=function(l,n){this.bytes_[l]=n,this.bytes_[l+1]=n>>8},flatbuffers.ByteBuffer.prototype.writeInt32=function(l,n){this.bytes_[l]=n,this.bytes_[l+1]=n>>8,this.bytes_[l+2]=n>>16,this.bytes_[l+3]=n>>24},flatbuffers.ByteBuffer.prototype.writeUint32=function(l,n){this.bytes_[l]=n,this.bytes_[l+1]=n>>8,this.bytes_[l+2]=n>>16,this.bytes_[l+3]=n>>24},flatbuffers.ByteBuffer.prototype.writeInt64=function(l,n){this.writeInt32(l,n.low),this.writeInt32(l+4,n.high)},flatbuffers.ByteBuffer.prototype.writeUint64=function(l,n){this.writeUint32(l,n.low),this.writeUint32(l+4,n.high)},flatbuffers.ByteBuffer.prototype.writeFloat32=function(l,n){flatbuffers.float32[0]=n,this.writeInt32(l,flatbuffers.int32[0])},flatbuffers.ByteBuffer.prototype.writeFloat64=function(l,n){flatbuffers.float64[0]=n,this.writeInt32(l,flatbuffers.int32[flatbuffers.isLittleEndian?0:1]),this.writeInt32(l+4,flatbuffers.int32[flatbuffers.isLittleEndian?1:0])},flatbuffers.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+flatbuffers.SIZEOF_INT+flatbuffers.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var l="",n=0;n<flatbuffers.FILE_IDENTIFIER_LENGTH;n++)l+=String.fromCharCode(this.readInt8(this.position_+flatbuffers.SIZEOF_INT+n));return l},flatbuffers.ByteBuffer.prototype.__offset=function(l,n){var u=l-this.readInt32(l);return n<this.readInt16(u)?this.readInt16(u+n):0},flatbuffers.ByteBuffer.prototype.__union=function(l,n){return l.bb_pos=n+this.readInt32(n),l.bb=this,l},flatbuffers.ByteBuffer.prototype.__string=function(l,n){l+=this.readInt32(l);var u=this.readInt32(l),p="",v=0;if(l+=flatbuffers.SIZEOF_INT,n===flatbuffers.Encoding.UTF8_BYTES)return this.bytes_.subarray(l,l+u);for(;v<u;){var d,g=this.readUint8(l+v++);if(g<192)d=g;else{var _=this.readUint8(l+v++);if(g<224)d=(g&31)<<6|_&63;else{var C=this.readUint8(l+v++);if(g<240)d=(g&15)<<12|(_&63)<<6|C&63;else{var E=this.readUint8(l+v++);d=(g&7)<<18|(_&63)<<12|(C&63)<<6|E&63}}}d<65536?p+=String.fromCharCode(d):(d-=65536,p+=String.fromCharCode((d>>10)+55296,(d&1023)+56320))}return p},flatbuffers.ByteBuffer.prototype.__indirect=function(l){return l+this.readInt32(l)},flatbuffers.ByteBuffer.prototype.__vector=function(l){return l+this.readInt32(l)+flatbuffers.SIZEOF_INT},flatbuffers.ByteBuffer.prototype.__vector_len=function(l){return this.readInt32(l+this.readInt32(l))},flatbuffers.ByteBuffer.prototype.__has_identifier=function(l){if(l.length!=flatbuffers.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+flatbuffers.FILE_IDENTIFIER_LENGTH);for(var n=0;n<flatbuffers.FILE_IDENTIFIER_LENGTH;n++)if(l.charCodeAt(n)!=this.readInt8(this.position_+flatbuffers.SIZEOF_INT+n))return!1;return!0},flatbuffers.ByteBuffer.prototype.createLong=function(l,n){return flatbuffers.Long.create(l,n)}}}),onnxruntime,init_ort_generated=__esm({"web/lib/onnxjs/ort-schema/flatbuffers/ort-generated.ts"(){init_flatbuffers(),(l=>{(n=>{(u=>{(p=>{p[p.UNDEFINED=0]="UNDEFINED",p[p.FLOAT=1]="FLOAT",p[p.INT=2]="INT",p[p.STRING=3]="STRING",p[p.TENSOR=4]="TENSOR",p[p.GRAPH=5]="GRAPH",p[p.FLOATS=6]="FLOATS",p[p.INTS=7]="INTS",p[p.STRINGS=8]="STRINGS",p[p.TENSORS=9]="TENSORS",p[p.GRAPHS=10]="GRAPHS",p[p.SPARSE_TENSOR=11]="SPARSE_TENSOR",p[p.SPARSE_TENSORS=12]="SPARSE_TENSORS"})(u.AttributeType||(u.AttributeType={}))})(n.fbs||(n.fbs={}))})(l.experimental||(l.experimental={}))})(onnxruntime||(onnxruntime={})),(l=>{(n=>{(u=>{(p=>{p[p.UNKNOWN=0]="UNKNOWN",p[p.VALUE=1]="VALUE",p[p.PARAM=2]="PARAM"})(u.DimensionValueType||(u.DimensionValueType={}))})(n.fbs||(n.fbs={}))})(l.experimental||(l.experimental={}))})(onnxruntime||(onnxruntime={})),(l=>{(n=>{(u=>{(p=>{p[p.UNDEFINED=0]="UNDEFINED",p[p.FLOAT=1]="FLOAT",p[p.UINT8=2]="UINT8",p[p.INT8=3]="INT8",p[p.UINT16=4]="UINT16",p[p.INT16=5]="INT16",p[p.INT32=6]="INT32",p[p.INT64=7]="INT64",p[p.STRING=8]="STRING",p[p.BOOL=9]="BOOL",p[p.FLOAT16=10]="FLOAT16",p[p.DOUBLE=11]="DOUBLE",p[p.UINT32=12]="UINT32",p[p.UINT64=13]="UINT64",p[p.COMPLEX64=14]="COMPLEX64",p[p.COMPLEX128=15]="COMPLEX128",p[p.BFLOAT16=16]="BFLOAT16",p[p.FLOAT8E4M3FN=17]="FLOAT8E4M3FN",p[p.FLOAT8E4M3FNUZ=18]="FLOAT8E4M3FNUZ",p[p.FLOAT8E5M2=19]="FLOAT8E5M2",p[p.FLOAT8E5M2FNUZ=20]="FLOAT8E5M2FNUZ"})(u.TensorDataType||(u.TensorDataType={}))})(n.fbs||(n.fbs={}))})(l.experimental||(l.experimental={}))})(onnxruntime||(onnxruntime={})),(l=>{(n=>{(u=>{(p=>{p[p.Primitive=0]="Primitive",p[p.Fused=1]="Fused"})(u.NodeType||(u.NodeType={}))})(n.fbs||(n.fbs={}))})(l.experimental||(l.experimental={}))})(onnxruntime||(onnxruntime={})),(l=>{(n=>{(u=>{(p=>{p[p.NONE=0]="NONE",p[p.tensor_type=1]="tensor_type",p[p.sequence_type=2]="sequence_type",p[p.map_type=3]="map_type"})(u.TypeInfoValue||(u.TypeInfoValue={}))})(n.fbs||(n.fbs={}))})(l.experimental||(l.experimental={}))})(onnxruntime||(onnxruntime={})),(l=>{(n=>{(u=>{class p{constructor(){this.bb=null,this.bb_pos=0}__init(d,g){return this.bb_pos=d,this.bb=g,this}static getRootAsShape(d,g){return(g||new p).__init(d.readInt32(d.position())+d.position(),d)}static getSizePrefixedRootAsShape(d,g){return d.setPosition(d.position()+flatbuffers.SIZE_PREFIX_LENGTH),(g||new p).__init(d.readInt32(d.position())+d.position(),d)}dim(d,g){let _=this.bb.__offset(this.bb_pos,4);return _?(g||new l.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_)+d*4),this.bb):null}dimLength(){let d=this.bb.__offset(this.bb_pos,4);return d?this.bb.__vector_len(this.bb_pos+d):0}static startShape(d){d.startObject(1)}static addDim(d,g){d.addFieldOffset(0,g,0)}static createDimVector(d,g){d.startVector(4,g.length,4);for(let _=g.length-1;_>=0;_--)d.addOffset(g[_]);return d.endVector()}static startDimVector(d,g){d.startVector(4,g,4)}static endShape(d){return d.endObject()}static createShape(d,g){return p.startShape(d),p.addDim(d,g),p.endShape(d)}}u.Shape=p})(n.fbs||(n.fbs={}))})(l.experimental||(l.experimental={}))})(onnxruntime||(onnxruntime={})),(l=>{(n=>{(u=>{class p{constructor(){this.bb=null,this.bb_pos=0}__init(d,g){return this.bb_pos=d,this.bb=g,this}static getRootAsDimension(d,g){return(g||new p).__init(d.readInt32(d.position())+d.position(),d)}static getSizePrefixedRootAsDimension(d,g){return d.setPosition(d.position()+flatbuffers.SIZE_PREFIX_LENGTH),(g||new p).__init(d.readInt32(d.position())+d.position(),d)}value(d){let g=this.bb.__offset(this.bb_pos,4);return g?(d||new l.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+g),this.bb):null}denotation(d){let g=this.bb.__offset(this.bb_pos,6);return g?this.bb.__string(this.bb_pos+g,d):null}static startDimension(d){d.startObject(2)}static addValue(d,g){d.addFieldOffset(0,g,0)}static addDenotation(d,g){d.addFieldOffset(1,g,0)}static endDimension(d){return d.endObject()}static createDimension(d,g,_){return p.startDimension(d),p.addValue(d,g),p.addDenotation(d,_),p.endDimension(d)}}u.Dimension=p})(n.fbs||(n.fbs={}))})(l.experimental||(l.experimental={}))})(onnxruntime||(onnxruntime={})),(l=>{(n=>{(u=>{class p{constructor(){this.bb=null,this.bb_pos=0}__init(d,g){return this.bb_pos=d,this.bb=g,this}static getRootAsDimensionValue(d,g){return(g||new p).__init(d.readInt32(d.position())+d.position(),d)}static getSizePrefixedRootAsDimensionValue(d,g){return d.setPosition(d.position()+flatbuffers.SIZE_PREFIX_LENGTH),(g||new p).__init(d.readInt32(d.position())+d.position(),d)}dimType(){let d=this.bb.__offset(this.bb_pos,4);return d?this.bb.readInt8(this.bb_pos+d):0}dimValue(){let d=this.bb.__offset(this.bb_pos,6);return d?this.bb.readInt64(this.bb_pos+d):this.bb.createLong(0,0)}dimParam(d){let g=this.bb.__offset(this.bb_pos,8);return g?this.bb.__string(this.bb_pos+g,d):null}static startDimensionValue(d){d.startObject(3)}static addDimType(d,g){d.addFieldInt8(0,g,0)}static addDimValue(d,g){d.addFieldInt64(1,g,d.createLong(0,0))}static addDimParam(d,g){d.addFieldOffset(2,g,0)}static endDimensionValue(d){return d.endObject()}static createDimensionValue(d,g,_,C){return p.startDimensionValue(d),p.addDimType(d,g),p.addDimValue(d,_),p.addDimParam(d,C),p.endDimensionValue(d)}}u.DimensionValue=p})(n.fbs||(n.fbs={}))})(l.experimental||(l.experimental={}))})(onnxruntime||(onnxruntime={})),(l=>{(n=>{(u=>{class p{constructor(){this.bb=null,this.bb_pos=0}__init(d,g){return this.bb_pos=d,this.bb=g,this}static getRootAsTensorTypeAndShape(d,g){return(g||new p).__init(d.readInt32(d.position())+d.position(),d)}static getSizePrefixedRootAsTensorTypeAndShape(d,g){return d.setPosition(d.position()+flatbuffers.SIZE_PREFIX_LENGTH),(g||new p).__init(d.readInt32(d.position())+d.position(),d)}elemType(){let d=this.bb.__offset(this.bb_pos,4);return d?this.bb.readInt32(this.bb_pos+d):0}shape(d){let g=this.bb.__offset(this.bb_pos,6);return g?(d||new l.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+g),this.bb):null}static startTensorTypeAndShape(d){d.startObject(2)}static addElemType(d,g){d.addFieldInt32(0,g,0)}static addShape(d,g){d.addFieldOffset(1,g,0)}static endTensorTypeAndShape(d){return d.endObject()}static createTensorTypeAndShape(d,g,_){return p.startTensorTypeAndShape(d),p.addElemType(d,g),p.addShape(d,_),p.endTensorTypeAndShape(d)}}u.TensorTypeAndShape=p})(n.fbs||(n.fbs={}))})(l.experimental||(l.experimental={}))})(onnxruntime||(onnxruntime={})),(l=>{(n=>{(u=>{class p{constructor(){this.bb=null,this.bb_pos=0}__init(d,g){return this.bb_pos=d,this.bb=g,this}static getRootAsMapType(d,g){return(g||new p).__init(d.readInt32(d.position())+d.position(),d)}static getSizePrefixedRootAsMapType(d,g){return d.setPosition(d.position()+flatbuffers.SIZE_PREFIX_LENGTH),(g||new p).__init(d.readInt32(d.position())+d.position(),d)}keyType(){let d=this.bb.__offset(this.bb_pos,4);return d?this.bb.readInt32(this.bb_pos+d):0}valueType(d){let g=this.bb.__offset(this.bb_pos,6);return g?(d||new l.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+g),this.bb):null}static startMapType(d){d.startObject(2)}static addKeyType(d,g){d.addFieldInt32(0,g,0)}static addValueType(d,g){d.addFieldOffset(1,g,0)}static endMapType(d){return d.endObject()}static createMapType(d,g,_){return p.startMapType(d),p.addKeyType(d,g),p.addValueType(d,_),p.endMapType(d)}}u.MapType=p})(n.fbs||(n.fbs={}))})(l.experimental||(l.experimental={}))})(onnxruntime||(onnxruntime={})),(l=>{(n=>{(u=>{class p{constructor(){this.bb=null,this.bb_pos=0}__init(d,g){return this.bb_pos=d,this.bb=g,this}static getRootAsSequenceType(d,g){return(g||new p).__init(d.readInt32(d.position())+d.position(),d)}static getSizePrefixedRootAsSequenceType(d,g){return d.setPosition(d.position()+flatbuffers.SIZE_PREFIX_LENGTH),(g||new p).__init(d.readInt32(d.position())+d.position(),d)}elemType(d){let g=this.bb.__offset(this.bb_pos,4);return g?(d||new l.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+g),this.bb):null}static startSequenceType(d){d.startObject(1)}static addElemType(d,g){d.addFieldOffset(0,g,0)}static endSequenceType(d){return d.endObject()}static createSequenceType(d,g){return p.startSequenceType(d),p.addElemType(d,g),p.endSequenceType(d)}}u.SequenceType=p})(n.fbs||(n.fbs={}))})(l.experimental||(l.experimental={}))})(onnxruntime||(onnxruntime={})),(l=>{(n=>{(u=>{class p{constructor(){this.bb=null,this.bb_pos=0}__init(d,g){return this.bb_pos=d,this.bb=g,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(d,g,_,C){return d.prep(4,12),d.writeInt32(C),d.writeInt32(_),d.writeInt32(g),d.offset()}}u.EdgeEnd=p})(n.fbs||(n.fbs={}))})(l.experimental||(l.experimental={}))})(onnxruntime||(onnxruntime={})),(l=>{(n=>{(u=>{class p{constructor(){this.bb=null,this.bb_pos=0}__init(d,g){return this.bb_pos=d,this.bb=g,this}static getRootAsNodeEdge(d,g){return(g||new p).__init(d.readInt32(d.position())+d.position(),d)}static getSizePrefixedRootAsNodeEdge(d,g){return d.setPosition(d.position()+flatbuffers.SIZE_PREFIX_LENGTH),(g||new p).__init(d.readInt32(d.position())+d.position(),d)}nodeIndex(){let d=this.bb.__offset(this.bb_pos,4);return d?this.bb.readUint32(this.bb_pos+d):0}inputEdges(d,g){let _=this.bb.__offset(this.bb_pos,6);return _?(g||new l.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+_)+d*12,this.bb):null}inputEdgesLength(){let d=this.bb.__offset(this.bb_pos,6);return d?this.bb.__vector_len(this.bb_pos+d):0}outputEdges(d,g){let _=this.bb.__offset(this.bb_pos,8);return _?(g||new l.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+_)+d*12,this.bb):null}outputEdgesLength(){let d=this.bb.__offset(this.bb_pos,8);return d?this.bb.__vector_len(this.bb_pos+d):0}static startNodeEdge(d){d.startObject(3)}static addNodeIndex(d,g){d.addFieldInt32(0,g,0)}static addInputEdges(d,g){d.addFieldOffset(1,g,0)}static startInputEdgesVector(d,g){d.startVector(12,g,4)}static addOutputEdges(d,g){d.addFieldOffset(2,g,0)}static startOutputEdgesVector(d,g){d.startVector(12,g,4)}static endNodeEdge(d){return d.endObject()}static createNodeEdge(d,g,_,C){return p.startNodeEdge(d),p.addNodeIndex(d,g),p.addInputEdges(d,_),p.addOutputEdges(d,C),p.endNodeEdge(d)}}u.NodeEdge=p})(n.fbs||(n.fbs={}))})(l.experimental||(l.experimental={}))})(onnxruntime||(onnxruntime={})),(l=>{(n=>{(u=>{class p{constructor(){this.bb=null,this.bb_pos=0}__init(d,g){return this.bb_pos=d,this.bb=g,this}static getRootAsNode(d,g){return(g||new p).__init(d.readInt32(d.position())+d.position(),d)}static getSizePrefixedRootAsNode(d,g){return d.setPosition(d.position()+flatbuffers.SIZE_PREFIX_LENGTH),(g||new p).__init(d.readInt32(d.position())+d.position(),d)}name(d){let g=this.bb.__offset(this.bb_pos,4);return g?this.bb.__string(this.bb_pos+g,d):null}docString(d){let g=this.bb.__offset(this.bb_pos,6);return g?this.bb.__string(this.bb_pos+g,d):null}domain(d){let g=this.bb.__offset(this.bb_pos,8);return g?this.bb.__string(this.bb_pos+g,d):null}sinceVersion(){let d=this.bb.__offset(this.bb_pos,10);return d?this.bb.readInt32(this.bb_pos+d):0}index(){let d=this.bb.__offset(this.bb_pos,12);return d?this.bb.readUint32(this.bb_pos+d):0}opType(d){let g=this.bb.__offset(this.bb_pos,14);return g?this.bb.__string(this.bb_pos+g,d):null}type(){let d=this.bb.__offset(this.bb_pos,16);return d?this.bb.readInt32(this.bb_pos+d):0}executionProviderType(d){let g=this.bb.__offset(this.bb_pos,18);return g?this.bb.__string(this.bb_pos+g,d):null}inputs(d,g){let _=this.bb.__offset(this.bb_pos,20);return _?this.bb.__string(this.bb.__vector(this.bb_pos+_)+d*4,g):null}inputsLength(){let d=this.bb.__offset(this.bb_pos,20);return d?this.bb.__vector_len(this.bb_pos+d):0}outputs(d,g){let _=this.bb.__offset(this.bb_pos,22);return _?this.bb.__string(this.bb.__vector(this.bb_pos+_)+d*4,g):null}outputsLength(){let d=this.bb.__offset(this.bb_pos,22);return d?this.bb.__vector_len(this.bb_pos+d):0}attributes(d,g){let _=this.bb.__offset(this.bb_pos,24);return _?(g||new l.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_)+d*4),this.bb):null}attributesLength(){let d=this.bb.__offset(this.bb_pos,24);return d?this.bb.__vector_len(this.bb_pos+d):0}inputArgCounts(d){let g=this.bb.__offset(this.bb_pos,26);return g?this.bb.readInt32(this.bb.__vector(this.bb_pos+g)+d*4):0}inputArgCountsLength(){let d=this.bb.__offset(this.bb_pos,26);return d?this.bb.__vector_len(this.bb_pos+d):0}inputArgCountsArray(){let d=this.bb.__offset(this.bb_pos,26);return d?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+d),this.bb.__vector_len(this.bb_pos+d)):null}implicitInputs(d,g){let _=this.bb.__offset(this.bb_pos,28);return _?this.bb.__string(this.bb.__vector(this.bb_pos+_)+d*4,g):null}implicitInputsLength(){let d=this.bb.__offset(this.bb_pos,28);return d?this.bb.__vector_len(this.bb_pos+d):0}static startNode(d){d.startObject(13)}static addName(d,g){d.addFieldOffset(0,g,0)}static addDocString(d,g){d.addFieldOffset(1,g,0)}static addDomain(d,g){d.addFieldOffset(2,g,0)}static addSinceVersion(d,g){d.addFieldInt32(3,g,0)}static addIndex(d,g){d.addFieldInt32(4,g,0)}static addOpType(d,g){d.addFieldOffset(5,g,0)}static addType(d,g){d.addFieldInt32(6,g,0)}static addExecutionProviderType(d,g){d.addFieldOffset(7,g,0)}static addInputs(d,g){d.addFieldOffset(8,g,0)}static createInputsVector(d,g){d.startVector(4,g.length,4);for(let _=g.length-1;_>=0;_--)d.addOffset(g[_]);return d.endVector()}static startInputsVector(d,g){d.startVector(4,g,4)}static addOutputs(d,g){d.addFieldOffset(9,g,0)}static createOutputsVector(d,g){d.startVector(4,g.length,4);for(let _=g.length-1;_>=0;_--)d.addOffset(g[_]);return d.endVector()}static startOutputsVector(d,g){d.startVector(4,g,4)}static addAttributes(d,g){d.addFieldOffset(10,g,0)}static createAttributesVector(d,g){d.startVector(4,g.length,4);for(let _=g.length-1;_>=0;_--)d.addOffset(g[_]);return d.endVector()}static startAttributesVector(d,g){d.startVector(4,g,4)}static addInputArgCounts(d,g){d.addFieldOffset(11,g,0)}static createInputArgCountsVector(d,g){d.startVector(4,g.length,4);for(let _=g.length-1;_>=0;_--)d.addInt32(g[_]);return d.endVector()}static startInputArgCountsVector(d,g){d.startVector(4,g,4)}static addImplicitInputs(d,g){d.addFieldOffset(12,g,0)}static createImplicitInputsVector(d,g){d.startVector(4,g.length,4);for(let _=g.length-1;_>=0;_--)d.addOffset(g[_]);return d.endVector()}static startImplicitInputsVector(d,g){d.startVector(4,g,4)}static endNode(d){return d.endObject()}static createNode(d,g,_,C,E,w,m,y,e,P,O,U,W,V){return p.startNode(d),p.addName(d,g),p.addDocString(d,_),p.addDomain(d,C),p.addSinceVersion(d,E),p.addIndex(d,w),p.addOpType(d,m),p.addType(d,y),p.addExecutionProviderType(d,e),p.addInputs(d,P),p.addOutputs(d,O),p.addAttributes(d,U),p.addInputArgCounts(d,W),p.addImplicitInputs(d,V),p.endNode(d)}}u.Node=p})(n.fbs||(n.fbs={}))})(l.experimental||(l.experimental={}))})(onnxruntime||(onnxruntime={})),(l=>{(n=>{(u=>{class p{constructor(){this.bb=null,this.bb_pos=0}__init(d,g){return this.bb_pos=d,this.bb=g,this}static getRootAsValueInfo(d,g){return(g||new p).__init(d.readInt32(d.position())+d.position(),d)}static getSizePrefixedRootAsValueInfo(d,g){return d.setPosition(d.position()+flatbuffers.SIZE_PREFIX_LENGTH),(g||new p).__init(d.readInt32(d.position())+d.position(),d)}name(d){let g=this.bb.__offset(this.bb_pos,4);return g?this.bb.__string(this.bb_pos+g,d):null}docString(d){let g=this.bb.__offset(this.bb_pos,6);return g?this.bb.__string(this.bb_pos+g,d):null}type(d){let g=this.bb.__offset(this.bb_pos,8);return g?(d||new l.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+g),this.bb):null}static startValueInfo(d){d.startObject(3)}static addName(d,g){d.addFieldOffset(0,g,0)}static addDocString(d,g){d.addFieldOffset(1,g,0)}static addType(d,g){d.addFieldOffset(2,g,0)}static endValueInfo(d){return d.endObject()}static createValueInfo(d,g,_,C){return p.startValueInfo(d),p.addName(d,g),p.addDocString(d,_),p.addType(d,C),p.endValueInfo(d)}}u.ValueInfo=p})(n.fbs||(n.fbs={}))})(l.experimental||(l.experimental={}))})(onnxruntime||(onnxruntime={})),(l=>{(n=>{(u=>{class p{constructor(){this.bb=null,this.bb_pos=0}__init(d,g){return this.bb_pos=d,this.bb=g,this}static getRootAsTypeInfo(d,g){return(g||new p).__init(d.readInt32(d.position())+d.position(),d)}static getSizePrefixedRootAsTypeInfo(d,g){return d.setPosition(d.position()+flatbuffers.SIZE_PREFIX_LENGTH),(g||new p).__init(d.readInt32(d.position())+d.position(),d)}denotation(d){let g=this.bb.__offset(this.bb_pos,4);return g?this.bb.__string(this.bb_pos+g,d):null}valueType(){let d=this.bb.__offset(this.bb_pos,6);return d?this.bb.readUint8(this.bb_pos+d):0}value(d){let g=this.bb.__offset(this.bb_pos,8);return g?this.bb.__union(d,this.bb_pos+g):null}static startTypeInfo(d){d.startObject(3)}static addDenotation(d,g){d.addFieldOffset(0,g,0)}static addValueType(d,g){d.addFieldInt8(1,g,0)}static addValue(d,g){d.addFieldOffset(2,g,0)}static endTypeInfo(d){return d.endObject()}static createTypeInfo(d,g,_,C){return p.startTypeInfo(d),p.addDenotation(d,g),p.addValueType(d,_),p.addValue(d,C),p.endTypeInfo(d)}}u.TypeInfo=p})(n.fbs||(n.fbs={}))})(l.experimental||(l.experimental={}))})(onnxruntime||(onnxruntime={})),(l=>{(n=>{(u=>{class p{constructor(){this.bb=null,this.bb_pos=0}__init(d,g){return this.bb_pos=d,this.bb=g,this}static getRootAsOperatorSetId(d,g){return(g||new p).__init(d.readInt32(d.position())+d.position(),d)}static getSizePrefixedRootAsOperatorSetId(d,g){return d.setPosition(d.position()+flatbuffers.SIZE_PREFIX_LENGTH),(g||new p).__init(d.readInt32(d.position())+d.position(),d)}domain(d){let g=this.bb.__offset(this.bb_pos,4);return g?this.bb.__string(this.bb_pos+g,d):null}version(){let d=this.bb.__offset(this.bb_pos,6);return d?this.bb.readInt64(this.bb_pos+d):this.bb.createLong(0,0)}static startOperatorSetId(d){d.startObject(2)}static addDomain(d,g){d.addFieldOffset(0,g,0)}static addVersion(d,g){d.addFieldInt64(1,g,d.createLong(0,0))}static endOperatorSetId(d){return d.endObject()}static createOperatorSetId(d,g,_){return p.startOperatorSetId(d),p.addDomain(d,g),p.addVersion(d,_),p.endOperatorSetId(d)}}u.OperatorSetId=p})(n.fbs||(n.fbs={}))})(l.experimental||(l.experimental={}))})(onnxruntime||(onnxruntime={})),(l=>{(n=>{(u=>{class p{constructor(){this.bb=null,this.bb_pos=0}__init(d,g){return this.bb_pos=d,this.bb=g,this}static getRootAsTensor(d,g){return(g||new p).__init(d.readInt32(d.position())+d.position(),d)}static getSizePrefixedRootAsTensor(d,g){return d.setPosition(d.position()+flatbuffers.SIZE_PREFIX_LENGTH),(g||new p).__init(d.readInt32(d.position())+d.position(),d)}name(d){let g=this.bb.__offset(this.bb_pos,4);return g?this.bb.__string(this.bb_pos+g,d):null}docString(d){let g=this.bb.__offset(this.bb_pos,6);return g?this.bb.__string(this.bb_pos+g,d):null}dims(d){let g=this.bb.__offset(this.bb_pos,8);return g?this.bb.readInt64(this.bb.__vector(this.bb_pos+g)+d*8):this.bb.createLong(0,0)}dimsLength(){let d=this.bb.__offset(this.bb_pos,8);return d?this.bb.__vector_len(this.bb_pos+d):0}dataType(){let d=this.bb.__offset(this.bb_pos,10);return d?this.bb.readInt32(this.bb_pos+d):0}rawData(d){let g=this.bb.__offset(this.bb_pos,12);return g?this.bb.readUint8(this.bb.__vector(this.bb_pos+g)+d):0}rawDataLength(){let d=this.bb.__offset(this.bb_pos,12);return d?this.bb.__vector_len(this.bb_pos+d):0}rawDataArray(){let d=this.bb.__offset(this.bb_pos,12);return d?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+d),this.bb.__vector_len(this.bb_pos+d)):null}stringData(d,g){let _=this.bb.__offset(this.bb_pos,14);return _?this.bb.__string(this.bb.__vector(this.bb_pos+_)+d*4,g):null}stringDataLength(){let d=this.bb.__offset(this.bb_pos,14);return d?this.bb.__vector_len(this.bb_pos+d):0}static startTensor(d){d.startObject(6)}static addName(d,g){d.addFieldOffset(0,g,0)}static addDocString(d,g){d.addFieldOffset(1,g,0)}static addDims(d,g){d.addFieldOffset(2,g,0)}static createDimsVector(d,g){d.startVector(8,g.length,8);for(let _=g.length-1;_>=0;_--)d.addInt64(g[_]);return d.endVector()}static startDimsVector(d,g){d.startVector(8,g,8)}static addDataType(d,g){d.addFieldInt32(3,g,0)}static addRawData(d,g){d.addFieldOffset(4,g,0)}static createRawDataVector(d,g){d.startVector(1,g.length,1);for(let _=g.length-1;_>=0;_--)d.addInt8(g[_]);return d.endVector()}static startRawDataVector(d,g){d.startVector(1,g,1)}static addStringData(d,g){d.addFieldOffset(5,g,0)}static createStringDataVector(d,g){d.startVector(4,g.length,4);for(let _=g.length-1;_>=0;_--)d.addOffset(g[_]);return d.endVector()}static startStringDataVector(d,g){d.startVector(4,g,4)}static endTensor(d){return d.endObject()}static createTensor(d,g,_,C,E,w,m){return p.startTensor(d),p.addName(d,g),p.addDocString(d,_),p.addDims(d,C),p.addDataType(d,E),p.addRawData(d,w),p.addStringData(d,m),p.endTensor(d)}}u.Tensor=p})(n.fbs||(n.fbs={}))})(l.experimental||(l.experimental={}))})(onnxruntime||(onnxruntime={})),(l=>{(n=>{(u=>{class p{constructor(){this.bb=null,this.bb_pos=0}__init(d,g){return this.bb_pos=d,this.bb=g,this}static getRootAsSparseTensor(d,g){return(g||new p).__init(d.readInt32(d.position())+d.position(),d)}static getSizePrefixedRootAsSparseTensor(d,g){return d.setPosition(d.position()+flatbuffers.SIZE_PREFIX_LENGTH),(g||new p).__init(d.readInt32(d.position())+d.position(),d)}values(d){let g=this.bb.__offset(this.bb_pos,4);return g?(d||new l.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+g),this.bb):null}indices(d){let g=this.bb.__offset(this.bb_pos,6);return g?(d||new l.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+g),this.bb):null}dims(d){let g=this.bb.__offset(this.bb_pos,8);return g?this.bb.readInt64(this.bb.__vector(this.bb_pos+g)+d*8):this.bb.createLong(0,0)}dimsLength(){let d=this.bb.__offset(this.bb_pos,8);return d?this.bb.__vector_len(this.bb_pos+d):0}static startSparseTensor(d){d.startObject(3)}static addValues(d,g){d.addFieldOffset(0,g,0)}static addIndices(d,g){d.addFieldOffset(1,g,0)}static addDims(d,g){d.addFieldOffset(2,g,0)}static createDimsVector(d,g){d.startVector(8,g.length,8);for(let _=g.length-1;_>=0;_--)d.addInt64(g[_]);return d.endVector()}static startDimsVector(d,g){d.startVector(8,g,8)}static endSparseTensor(d){return d.endObject()}static createSparseTensor(d,g,_,C){return p.startSparseTensor(d),p.addValues(d,g),p.addIndices(d,_),p.addDims(d,C),p.endSparseTensor(d)}}u.SparseTensor=p})(n.fbs||(n.fbs={}))})(l.experimental||(l.experimental={}))})(onnxruntime||(onnxruntime={})),(l=>{(n=>{(u=>{class p{constructor(){this.bb=null,this.bb_pos=0}__init(d,g){return this.bb_pos=d,this.bb=g,this}static getRootAsAttribute(d,g){return(g||new p).__init(d.readInt32(d.position())+d.position(),d)}static getSizePrefixedRootAsAttribute(d,g){return d.setPosition(d.position()+flatbuffers.SIZE_PREFIX_LENGTH),(g||new p).__init(d.readInt32(d.position())+d.position(),d)}name(d){let g=this.bb.__offset(this.bb_pos,4);return g?this.bb.__string(this.bb_pos+g,d):null}docString(d){let g=this.bb.__offset(this.bb_pos,6);return g?this.bb.__string(this.bb_pos+g,d):null}type(){let d=this.bb.__offset(this.bb_pos,8);return d?this.bb.readInt32(this.bb_pos+d):0}f(){let d=this.bb.__offset(this.bb_pos,10);return d?this.bb.readFloat32(this.bb_pos+d):0}i(){let d=this.bb.__offset(this.bb_pos,12);return d?this.bb.readInt64(this.bb_pos+d):this.bb.createLong(0,0)}s(d){let g=this.bb.__offset(this.bb_pos,14);return g?this.bb.__string(this.bb_pos+g,d):null}t(d){let g=this.bb.__offset(this.bb_pos,16);return g?(d||new l.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+g),this.bb):null}g(d){let g=this.bb.__offset(this.bb_pos,18);return g?(d||new l.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+g),this.bb):null}floats(d){let g=this.bb.__offset(this.bb_pos,20);return g?this.bb.readFloat32(this.bb.__vector(this.bb_pos+g)+d*4):0}floatsLength(){let d=this.bb.__offset(this.bb_pos,20);return d?this.bb.__vector_len(this.bb_pos+d):0}floatsArray(){let d=this.bb.__offset(this.bb_pos,20);return d?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+d),this.bb.__vector_len(this.bb_pos+d)):null}ints(d){let g=this.bb.__offset(this.bb_pos,22);return g?this.bb.readInt64(this.bb.__vector(this.bb_pos+g)+d*8):this.bb.createLong(0,0)}intsLength(){let d=this.bb.__offset(this.bb_pos,22);return d?this.bb.__vector_len(this.bb_pos+d):0}strings(d,g){let _=this.bb.__offset(this.bb_pos,24);return _?this.bb.__string(this.bb.__vector(this.bb_pos+_)+d*4,g):null}stringsLength(){let d=this.bb.__offset(this.bb_pos,24);return d?this.bb.__vector_len(this.bb_pos+d):0}tensors(d,g){let _=this.bb.__offset(this.bb_pos,26);return _?(g||new l.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_)+d*4),this.bb):null}tensorsLength(){let d=this.bb.__offset(this.bb_pos,26);return d?this.bb.__vector_len(this.bb_pos+d):0}graphs(d,g){let _=this.bb.__offset(this.bb_pos,28);return _?(g||new l.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_)+d*4),this.bb):null}graphsLength(){let d=this.bb.__offset(this.bb_pos,28);return d?this.bb.__vector_len(this.bb_pos+d):0}static startAttribute(d){d.startObject(13)}static addName(d,g){d.addFieldOffset(0,g,0)}static addDocString(d,g){d.addFieldOffset(1,g,0)}static addType(d,g){d.addFieldInt32(2,g,0)}static addF(d,g){d.addFieldFloat32(3,g,0)}static addI(d,g){d.addFieldInt64(4,g,d.createLong(0,0))}static addS(d,g){d.addFieldOffset(5,g,0)}static addT(d,g){d.addFieldOffset(6,g,0)}static addG(d,g){d.addFieldOffset(7,g,0)}static addFloats(d,g){d.addFieldOffset(8,g,0)}static createFloatsVector(d,g){d.startVector(4,g.length,4);for(let _=g.length-1;_>=0;_--)d.addFloat32(g[_]);return d.endVector()}static startFloatsVector(d,g){d.startVector(4,g,4)}static addInts(d,g){d.addFieldOffset(9,g,0)}static createIntsVector(d,g){d.startVector(8,g.length,8);for(let _=g.length-1;_>=0;_--)d.addInt64(g[_]);return d.endVector()}static startIntsVector(d,g){d.startVector(8,g,8)}static addStrings(d,g){d.addFieldOffset(10,g,0)}static createStringsVector(d,g){d.startVector(4,g.length,4);for(let _=g.length-1;_>=0;_--)d.addOffset(g[_]);return d.endVector()}static startStringsVector(d,g){d.startVector(4,g,4)}static addTensors(d,g){d.addFieldOffset(11,g,0)}static createTensorsVector(d,g){d.startVector(4,g.length,4);for(let _=g.length-1;_>=0;_--)d.addOffset(g[_]);return d.endVector()}static startTensorsVector(d,g){d.startVector(4,g,4)}static addGraphs(d,g){d.addFieldOffset(12,g,0)}static createGraphsVector(d,g){d.startVector(4,g.length,4);for(let _=g.length-1;_>=0;_--)d.addOffset(g[_]);return d.endVector()}static startGraphsVector(d,g){d.startVector(4,g,4)}static endAttribute(d){return d.endObject()}static createAttribute(d,g,_,C,E,w,m,y,e,P,O,U,W,V){return p.startAttribute(d),p.addName(d,g),p.addDocString(d,_),p.addType(d,C),p.addF(d,E),p.addI(d,w),p.addS(d,m),p.addT(d,y),p.addG(d,e),p.addFloats(d,P),p.addInts(d,O),p.addStrings(d,U),p.addTensors(d,W),p.addGraphs(d,V),p.endAttribute(d)}}u.Attribute=p})(n.fbs||(n.fbs={}))})(l.experimental||(l.experimental={}))})(onnxruntime||(onnxruntime={})),(l=>{(n=>{(u=>{class p{constructor(){this.bb=null,this.bb_pos=0}__init(d,g){return this.bb_pos=d,this.bb=g,this}static getRootAsGraph(d,g){return(g||new p).__init(d.readInt32(d.position())+d.position(),d)}static getSizePrefixedRootAsGraph(d,g){return d.setPosition(d.position()+flatbuffers.SIZE_PREFIX_LENGTH),(g||new p).__init(d.readInt32(d.position())+d.position(),d)}initializers(d,g){let _=this.bb.__offset(this.bb_pos,4);return _?(g||new l.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_)+d*4),this.bb):null}initializersLength(){let d=this.bb.__offset(this.bb_pos,4);return d?this.bb.__vector_len(this.bb_pos+d):0}nodeArgs(d,g){let _=this.bb.__offset(this.bb_pos,6);return _?(g||new l.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_)+d*4),this.bb):null}nodeArgsLength(){let d=this.bb.__offset(this.bb_pos,6);return d?this.bb.__vector_len(this.bb_pos+d):0}nodes(d,g){let _=this.bb.__offset(this.bb_pos,8);return _?(g||new l.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_)+d*4),this.bb):null}nodesLength(){let d=this.bb.__offset(this.bb_pos,8);return d?this.bb.__vector_len(this.bb_pos+d):0}maxNodeIndex(){let d=this.bb.__offset(this.bb_pos,10);return d?this.bb.readUint32(this.bb_pos+d):0}nodeEdges(d,g){let _=this.bb.__offset(this.bb_pos,12);return _?(g||new l.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_)+d*4),this.bb):null}nodeEdgesLength(){let d=this.bb.__offset(this.bb_pos,12);return d?this.bb.__vector_len(this.bb_pos+d):0}inputs(d,g){let _=this.bb.__offset(this.bb_pos,14);return _?this.bb.__string(this.bb.__vector(this.bb_pos+_)+d*4,g):null}inputsLength(){let d=this.bb.__offset(this.bb_pos,14);return d?this.bb.__vector_len(this.bb_pos+d):0}outputs(d,g){let _=this.bb.__offset(this.bb_pos,16);return _?this.bb.__string(this.bb.__vector(this.bb_pos+_)+d*4,g):null}outputsLength(){let d=this.bb.__offset(this.bb_pos,16);return d?this.bb.__vector_len(this.bb_pos+d):0}sparseInitializers(d,g){let _=this.bb.__offset(this.bb_pos,18);return _?(g||new l.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_)+d*4),this.bb):null}sparseInitializersLength(){let d=this.bb.__offset(this.bb_pos,18);return d?this.bb.__vector_len(this.bb_pos+d):0}static startGraph(d){d.startObject(8)}static addInitializers(d,g){d.addFieldOffset(0,g,0)}static createInitializersVector(d,g){d.startVector(4,g.length,4);for(let _=g.length-1;_>=0;_--)d.addOffset(g[_]);return d.endVector()}static startInitializersVector(d,g){d.startVector(4,g,4)}static addNodeArgs(d,g){d.addFieldOffset(1,g,0)}static createNodeArgsVector(d,g){d.startVector(4,g.length,4);for(let _=g.length-1;_>=0;_--)d.addOffset(g[_]);return d.endVector()}static startNodeArgsVector(d,g){d.startVector(4,g,4)}static addNodes(d,g){d.addFieldOffset(2,g,0)}static createNodesVector(d,g){d.startVector(4,g.length,4);for(let _=g.length-1;_>=0;_--)d.addOffset(g[_]);return d.endVector()}static startNodesVector(d,g){d.startVector(4,g,4)}static addMaxNodeIndex(d,g){d.addFieldInt32(3,g,0)}static addNodeEdges(d,g){d.addFieldOffset(4,g,0)}static createNodeEdgesVector(d,g){d.startVector(4,g.length,4);for(let _=g.length-1;_>=0;_--)d.addOffset(g[_]);return d.endVector()}static startNodeEdgesVector(d,g){d.startVector(4,g,4)}static addInputs(d,g){d.addFieldOffset(5,g,0)}static createInputsVector(d,g){d.startVector(4,g.length,4);for(let _=g.length-1;_>=0;_--)d.addOffset(g[_]);return d.endVector()}static startInputsVector(d,g){d.startVector(4,g,4)}static addOutputs(d,g){d.addFieldOffset(6,g,0)}static createOutputsVector(d,g){d.startVector(4,g.length,4);for(let _=g.length-1;_>=0;_--)d.addOffset(g[_]);return d.endVector()}static startOutputsVector(d,g){d.startVector(4,g,4)}static addSparseInitializers(d,g){d.addFieldOffset(7,g,0)}static createSparseInitializersVector(d,g){d.startVector(4,g.length,4);for(let _=g.length-1;_>=0;_--)d.addOffset(g[_]);return d.endVector()}static startSparseInitializersVector(d,g){d.startVector(4,g,4)}static endGraph(d){return d.endObject()}static createGraph(d,g,_,C,E,w,m,y,e){return p.startGraph(d),p.addInitializers(d,g),p.addNodeArgs(d,_),p.addNodes(d,C),p.addMaxNodeIndex(d,E),p.addNodeEdges(d,w),p.addInputs(d,m),p.addOutputs(d,y),p.addSparseInitializers(d,e),p.endGraph(d)}}u.Graph=p})(n.fbs||(n.fbs={}))})(l.experimental||(l.experimental={}))})(onnxruntime||(onnxruntime={})),(l=>{(n=>{(u=>{class p{constructor(){this.bb=null,this.bb_pos=0}__init(d,g){return this.bb_pos=d,this.bb=g,this}static getRootAsModel(d,g){return(g||new p).__init(d.readInt32(d.position())+d.position(),d)}static getSizePrefixedRootAsModel(d,g){return d.setPosition(d.position()+flatbuffers.SIZE_PREFIX_LENGTH),(g||new p).__init(d.readInt32(d.position())+d.position(),d)}irVersion(){let d=this.bb.__offset(this.bb_pos,4);return d?this.bb.readInt64(this.bb_pos+d):this.bb.createLong(0,0)}opsetImport(d,g){let _=this.bb.__offset(this.bb_pos,6);return _?(g||new l.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_)+d*4),this.bb):null}opsetImportLength(){let d=this.bb.__offset(this.bb_pos,6);return d?this.bb.__vector_len(this.bb_pos+d):0}producerName(d){let g=this.bb.__offset(this.bb_pos,8);return g?this.bb.__string(this.bb_pos+g,d):null}producerVersion(d){let g=this.bb.__offset(this.bb_pos,10);return g?this.bb.__string(this.bb_pos+g,d):null}domain(d){let g=this.bb.__offset(this.bb_pos,12);return g?this.bb.__string(this.bb_pos+g,d):null}modelVersion(){let d=this.bb.__offset(this.bb_pos,14);return d?this.bb.readInt64(this.bb_pos+d):this.bb.createLong(0,0)}docString(d){let g=this.bb.__offset(this.bb_pos,16);return g?this.bb.__string(this.bb_pos+g,d):null}graph(d){let g=this.bb.__offset(this.bb_pos,18);return g?(d||new l.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+g),this.bb):null}graphDocString(d){let g=this.bb.__offset(this.bb_pos,20);return g?this.bb.__string(this.bb_pos+g,d):null}static startModel(d){d.startObject(9)}static addIrVersion(d,g){d.addFieldInt64(0,g,d.createLong(0,0))}static addOpsetImport(d,g){d.addFieldOffset(1,g,0)}static createOpsetImportVector(d,g){d.startVector(4,g.length,4);for(let _=g.length-1;_>=0;_--)d.addOffset(g[_]);return d.endVector()}static startOpsetImportVector(d,g){d.startVector(4,g,4)}static addProducerName(d,g){d.addFieldOffset(2,g,0)}static addProducerVersion(d,g){d.addFieldOffset(3,g,0)}static addDomain(d,g){d.addFieldOffset(4,g,0)}static addModelVersion(d,g){d.addFieldInt64(5,g,d.createLong(0,0))}static addDocString(d,g){d.addFieldOffset(6,g,0)}static addGraph(d,g){d.addFieldOffset(7,g,0)}static addGraphDocString(d,g){d.addFieldOffset(8,g,0)}static endModel(d){return d.endObject()}static createModel(d,g,_,C,E,w,m,y,e,P){return p.startModel(d),p.addIrVersion(d,g),p.addOpsetImport(d,_),p.addProducerName(d,C),p.addProducerVersion(d,E),p.addDomain(d,w),p.addModelVersion(d,m),p.addDocString(d,y),p.addGraph(d,e),p.addGraphDocString(d,P),p.endModel(d)}}u.Model=p})(n.fbs||(n.fbs={}))})(l.experimental||(l.experimental={}))})(onnxruntime||(onnxruntime={})),(l=>{(n=>{(u=>{class p{constructor(){this.bb=null,this.bb_pos=0}__init(d,g){return this.bb_pos=d,this.bb=g,this}static getRootAsKernelCreateInfos(d,g){return(g||new p).__init(d.readInt32(d.position())+d.position(),d)}static getSizePrefixedRootAsKernelCreateInfos(d,g){return d.setPosition(d.position()+flatbuffers.SIZE_PREFIX_LENGTH),(g||new p).__init(d.readInt32(d.position())+d.position(),d)}nodeIndices(d){let g=this.bb.__offset(this.bb_pos,4);return g?this.bb.readUint32(this.bb.__vector(this.bb_pos+g)+d*4):0}nodeIndicesLength(){let d=this.bb.__offset(this.bb_pos,4);return d?this.bb.__vector_len(this.bb_pos+d):0}nodeIndicesArray(){let d=this.bb.__offset(this.bb_pos,4);return d?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+d),this.bb.__vector_len(this.bb_pos+d)):null}kernelDefHashes(d){let g=this.bb.__offset(this.bb_pos,6);return g?this.bb.readUint64(this.bb.__vector(this.bb_pos+g)+d*8):this.bb.createLong(0,0)}kernelDefHashesLength(){let d=this.bb.__offset(this.bb_pos,6);return d?this.bb.__vector_len(this.bb_pos+d):0}static startKernelCreateInfos(d){d.startObject(2)}static addNodeIndices(d,g){d.addFieldOffset(0,g,0)}static createNodeIndicesVector(d,g){d.startVector(4,g.length,4);for(let _=g.length-1;_>=0;_--)d.addInt32(g[_]);return d.endVector()}static startNodeIndicesVector(d,g){d.startVector(4,g,4)}static addKernelDefHashes(d,g){d.addFieldOffset(1,g,0)}static createKernelDefHashesVector(d,g){d.startVector(8,g.length,8);for(let _=g.length-1;_>=0;_--)d.addInt64(g[_]);return d.endVector()}static startKernelDefHashesVector(d,g){d.startVector(8,g,8)}static endKernelCreateInfos(d){return d.endObject()}static createKernelCreateInfos(d,g,_){return p.startKernelCreateInfos(d),p.addNodeIndices(d,g),p.addKernelDefHashes(d,_),p.endKernelCreateInfos(d)}}u.KernelCreateInfos=p})(n.fbs||(n.fbs={}))})(l.experimental||(l.experimental={}))})(onnxruntime||(onnxruntime={})),(l=>{(n=>{(u=>{class p{constructor(){this.bb=null,this.bb_pos=0}__init(d,g){return this.bb_pos=d,this.bb=g,this}static getRootAsSubGraphSessionState(d,g){return(g||new p).__init(d.readInt32(d.position())+d.position(),d)}static getSizePrefixedRootAsSubGraphSessionState(d,g){return d.setPosition(d.position()+flatbuffers.SIZE_PREFIX_LENGTH),(g||new p).__init(d.readInt32(d.position())+d.position(),d)}graphId(d){let g=this.bb.__offset(this.bb_pos,4);return g?this.bb.__string(this.bb_pos+g,d):null}sessionState(d){let g=this.bb.__offset(this.bb_pos,6);return g?(d||new l.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+g),this.bb):null}static startSubGraphSessionState(d){d.startObject(2)}static addGraphId(d,g){d.addFieldOffset(0,g,0)}static addSessionState(d,g){d.addFieldOffset(1,g,0)}static endSubGraphSessionState(d){let g=d.endObject();return d.requiredField(g,4),g}static createSubGraphSessionState(d,g,_){return p.startSubGraphSessionState(d),p.addGraphId(d,g),p.addSessionState(d,_),p.endSubGraphSessionState(d)}}u.SubGraphSessionState=p})(n.fbs||(n.fbs={}))})(l.experimental||(l.experimental={}))})(onnxruntime||(onnxruntime={})),(l=>{(n=>{(u=>{class p{constructor(){this.bb=null,this.bb_pos=0}__init(d,g){return this.bb_pos=d,this.bb=g,this}static getRootAsSessionState(d,g){return(g||new p).__init(d.readInt32(d.position())+d.position(),d)}static getSizePrefixedRootAsSessionState(d,g){return d.setPosition(d.position()+flatbuffers.SIZE_PREFIX_LENGTH),(g||new p).__init(d.readInt32(d.position())+d.position(),d)}kernels(d){let g=this.bb.__offset(this.bb_pos,4);return g?(d||new l.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+g),this.bb):null}subGraphSessionStates(d,g){let _=this.bb.__offset(this.bb_pos,6);return _?(g||new l.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+_)+d*4),this.bb):null}subGraphSessionStatesLength(){let d=this.bb.__offset(this.bb_pos,6);return d?this.bb.__vector_len(this.bb_pos+d):0}static startSessionState(d){d.startObject(2)}static addKernels(d,g){d.addFieldOffset(0,g,0)}static addSubGraphSessionStates(d,g){d.addFieldOffset(1,g,0)}static createSubGraphSessionStatesVector(d,g){d.startVector(4,g.length,4);for(let _=g.length-1;_>=0;_--)d.addOffset(g[_]);return d.endVector()}static startSubGraphSessionStatesVector(d,g){d.startVector(4,g,4)}static endSessionState(d){return d.endObject()}static createSessionState(d,g,_){return p.startSessionState(d),p.addKernels(d,g),p.addSubGraphSessionStates(d,_),p.endSessionState(d)}}u.SessionState=p})(n.fbs||(n.fbs={}))})(l.experimental||(l.experimental={}))})(onnxruntime||(onnxruntime={})),(l=>{(n=>{(u=>{class p{constructor(){this.bb=null,this.bb_pos=0}__init(d,g){return this.bb_pos=d,this.bb=g,this}static getRootAsInferenceSession(d,g){return(g||new p).__init(d.readInt32(d.position())+d.position(),d)}static getSizePrefixedRootAsInferenceSession(d,g){return d.setPosition(d.position()+flatbuffers.SIZE_PREFIX_LENGTH),(g||new p).__init(d.readInt32(d.position())+d.position(),d)}static bufferHasIdentifier(d){return d.__has_identifier("ORTM")}ortVersion(d){let g=this.bb.__offset(this.bb_pos,4);return g?this.bb.__string(this.bb_pos+g,d):null}model(d){let g=this.bb.__offset(this.bb_pos,6);return g?(d||new l.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+g),this.bb):null}sessionState(d){let g=this.bb.__offset(this.bb_pos,8);return g?(d||new l.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+g),this.bb):null}static startInferenceSession(d){d.startObject(3)}static addOrtVersion(d,g){d.addFieldOffset(0,g,0)}static addModel(d,g){d.addFieldOffset(1,g,0)}static addSessionState(d,g){d.addFieldOffset(2,g,0)}static endInferenceSession(d){return d.endObject()}static finishInferenceSessionBuffer(d,g){d.finish(g,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(d,g){d.finish(g,"ORTM",!0)}static createInferenceSession(d,g,_,C){return p.startInferenceSession(d),p.addOrtVersion(d,g),p.addModel(d,_),p.addSessionState(d,C),p.endInferenceSession(d)}}u.InferenceSession=p})(n.fbs||(n.fbs={}))})(l.experimental||(l.experimental={}))})(onnxruntime||(onnxruntime={}))}}),require_aspromise=__commonJS({"web/node_modules/@protobufjs/aspromise/index.js"(l,n){n.exports=u;function u(p,v){for(var d=new Array(arguments.length-1),g=0,_=2,C=!0;_<arguments.length;)d[g++]=arguments[_++];return new Promise(function(w,m){d[g]=function(e){if(C)if(C=!1,e)m(e);else{for(var P=new Array(arguments.length-1),O=0;O<P.length;)P[O++]=arguments[O];w.apply(null,P)}};try{p.apply(v||null,d)}catch(y){C&&(C=!1,m(y))}})}}}),require_base64=__commonJS({"web/node_modules/@protobufjs/base64/index.js"(l){var n=l;n.length=function(_){var C=_.length;if(!C)return 0;for(var E=0;--C%4>1&&_.charAt(C)==="=";)++E;return Math.ceil(_.length*3)/4-E};var u=new Array(64),p=new Array(123);for(v=0;v<64;)p[u[v]=v<26?v+65:v<52?v+71:v<62?v-4:v-59|43]=v++;var v;n.encode=function(_,C,E){for(var w=null,m=[],y=0,e=0,P;C<E;){var O=_[C++];switch(e){case 0:m[y++]=u[O>>2],P=(O&3)<<4,e=1;break;case 1:m[y++]=u[P|O>>4],P=(O&15)<<2,e=2;break;case 2:m[y++]=u[P|O>>6],m[y++]=u[O&63],e=0;break}y>8191&&((w||(w=[])).push(String.fromCharCode.apply(String,m)),y=0)}return e&&(m[y++]=u[P],m[y++]=61,e===1&&(m[y++]=61)),w?(y&&w.push(String.fromCharCode.apply(String,m.slice(0,y))),w.join("")):String.fromCharCode.apply(String,m.slice(0,y))};var d="invalid encoding";n.decode=function(_,C,E){for(var w=E,m=0,y,e=0;e<_.length;){var P=_.charCodeAt(e++);if(P===61&&m>1)break;if((P=p[P])===void 0)throw Error(d);switch(m){case 0:y=P,m=1;break;case 1:C[E++]=y<<2|(P&48)>>4,y=P,m=2;break;case 2:C[E++]=(y&15)<<4|(P&60)>>2,y=P,m=3;break;case 3:C[E++]=(y&3)<<6|P,m=0;break}}if(m===1)throw Error(d);return E-w},n.test=function(_){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(_)}}}),require_eventemitter=__commonJS({"web/node_modules/@protobufjs/eventemitter/index.js"(l,n){n.exports=u;function u(){this._listeners={}}u.prototype.on=function(v,d,g){return(this._listeners[v]||(this._listeners[v]=[])).push({fn:d,ctx:g||this}),this},u.prototype.off=function(v,d){if(v===void 0)this._listeners={};else if(d===void 0)this._listeners[v]=[];else for(var g=this._listeners[v],_=0;_<g.length;)g[_].fn===d?g.splice(_,1):++_;return this},u.prototype.emit=function(v){var d=this._listeners[v];if(d){for(var g=[],_=1;_<arguments.length;)g.push(arguments[_++]);for(_=0;_<d.length;)d[_].fn.apply(d[_++].ctx,g)}return this}}}),require_float=__commonJS({"web/node_modules/@protobufjs/float/index.js"(l,n){n.exports=u(u);function u(_){return typeof Float32Array<"u"?function(){var C=new Float32Array([-0]),E=new Uint8Array(C.buffer),w=E[3]===128;function m(O,U,W){C[0]=O,U[W]=E[0],U[W+1]=E[1],U[W+2]=E[2],U[W+3]=E[3]}function y(O,U,W){C[0]=O,U[W]=E[3],U[W+1]=E[2],U[W+2]=E[1],U[W+3]=E[0]}_.writeFloatLE=w?m:y,_.writeFloatBE=w?y:m;function e(O,U){return E[0]=O[U],E[1]=O[U+1],E[2]=O[U+2],E[3]=O[U+3],C[0]}function P(O,U){return E[3]=O[U],E[2]=O[U+1],E[1]=O[U+2],E[0]=O[U+3],C[0]}_.readFloatLE=w?e:P,_.readFloatBE=w?P:e}():function(){function C(w,m,y,e){var P=m<0?1:0;if(P&&(m=-m),m===0)w(1/m>0?0:2147483648,y,e);else if(isNaN(m))w(2143289344,y,e);else if(m>34028234663852886e22)w((P<<31|2139095040)>>>0,y,e);else if(m<11754943508222875e-54)w((P<<31|Math.round(m/1401298464324817e-60))>>>0,y,e);else{var O=Math.floor(Math.log(m)/Math.LN2),U=Math.round(m*Math.pow(2,-O)*8388608)&8388607;w((P<<31|O+127<<23|U)>>>0,y,e)}}_.writeFloatLE=C.bind(null,p),_.writeFloatBE=C.bind(null,v);function E(w,m,y){var e=w(m,y),P=(e>>31)*2+1,O=e>>>23&255,U=e&8388607;return O===255?U?NaN:P*(1/0):O===0?P*1401298464324817e-60*U:P*Math.pow(2,O-150)*(U+8388608)}_.readFloatLE=E.bind(null,d),_.readFloatBE=E.bind(null,g)}(),typeof Float64Array<"u"?function(){var C=new Float64Array([-0]),E=new Uint8Array(C.buffer),w=E[7]===128;function m(O,U,W){C[0]=O,U[W]=E[0],U[W+1]=E[1],U[W+2]=E[2],U[W+3]=E[3],U[W+4]=E[4],U[W+5]=E[5],U[W+6]=E[6],U[W+7]=E[7]}function y(O,U,W){C[0]=O,U[W]=E[7],U[W+1]=E[6],U[W+2]=E[5],U[W+3]=E[4],U[W+4]=E[3],U[W+5]=E[2],U[W+6]=E[1],U[W+7]=E[0]}_.writeDoubleLE=w?m:y,_.writeDoubleBE=w?y:m;function e(O,U){return E[0]=O[U],E[1]=O[U+1],E[2]=O[U+2],E[3]=O[U+3],E[4]=O[U+4],E[5]=O[U+5],E[6]=O[U+6],E[7]=O[U+7],C[0]}function P(O,U){return E[7]=O[U],E[6]=O[U+1],E[5]=O[U+2],E[4]=O[U+3],E[3]=O[U+4],E[2]=O[U+5],E[1]=O[U+6],E[0]=O[U+7],C[0]}_.readDoubleLE=w?e:P,_.readDoubleBE=w?P:e}():function(){function C(w,m,y,e,P,O){var U=e<0?1:0;if(U&&(e=-e),e===0)w(0,P,O+m),w(1/e>0?0:2147483648,P,O+y);else if(isNaN(e))w(0,P,O+m),w(2146959360,P,O+y);else if(e>17976931348623157e292)w(0,P,O+m),w((U<<31|2146435072)>>>0,P,O+y);else{var W;if(e<22250738585072014e-324)W=e/5e-324,w(W>>>0,P,O+m),w((U<<31|W/4294967296)>>>0,P,O+y);else{var V=Math.floor(Math.log(e)/Math.LN2);V===1024&&(V=1023),W=e*Math.pow(2,-V),w(W*4503599627370496>>>0,P,O+m),w((U<<31|V+1023<<20|W*1048576&1048575)>>>0,P,O+y)}}}_.writeDoubleLE=C.bind(null,p,0,4),_.writeDoubleBE=C.bind(null,v,4,0);function E(w,m,y,e,P){var O=w(e,P+m),U=w(e,P+y),W=(U>>31)*2+1,V=U>>>20&2047,$=4294967296*(U&1048575)+O;return V===2047?$?NaN:W*(1/0):V===0?W*5e-324*$:W*Math.pow(2,V-1075)*($+4503599627370496)}_.readDoubleLE=E.bind(null,d,0,4),_.readDoubleBE=E.bind(null,g,4,0)}(),_}function p(_,C,E){C[E]=_&255,C[E+1]=_>>>8&255,C[E+2]=_>>>16&255,C[E+3]=_>>>24}function v(_,C,E){C[E]=_>>>24,C[E+1]=_>>>16&255,C[E+2]=_>>>8&255,C[E+3]=_&255}function d(_,C){return(_[C]|_[C+1]<<8|_[C+2]<<16|_[C+3]<<24)>>>0}function g(_,C){return(_[C]<<24|_[C+1]<<16|_[C+2]<<8|_[C+3])>>>0}}}),require_inquire=__commonJS({"web/node_modules/@protobufjs/inquire/index.js"(exports,module){module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(l){}return null}}}),require_utf8=__commonJS({"web/node_modules/@protobufjs/utf8/index.js"(l){var n=l;n.length=function(p){for(var v=0,d=0,g=0;g<p.length;++g)d=p.charCodeAt(g),d<128?v+=1:d<2048?v+=2:(d&64512)===55296&&(p.charCodeAt(g+1)&64512)===56320?(++g,v+=4):v+=3;return v},n.read=function(p,v,d){var g=d-v;if(g<1)return"";for(var _=null,C=[],E=0,w;v<d;)w=p[v++],w<128?C[E++]=w:w>191&&w<224?C[E++]=(w&31)<<6|p[v++]&63:w>239&&w<365?(w=((w&7)<<18|(p[v++]&63)<<12|(p[v++]&63)<<6|p[v++]&63)-65536,C[E++]=55296+(w>>10),C[E++]=56320+(w&1023)):C[E++]=(w&15)<<12|(p[v++]&63)<<6|p[v++]&63,E>8191&&((_||(_=[])).push(String.fromCharCode.apply(String,C)),E=0);return _?(E&&_.push(String.fromCharCode.apply(String,C.slice(0,E))),_.join("")):String.fromCharCode.apply(String,C.slice(0,E))},n.write=function(p,v,d){for(var g=d,_,C,E=0;E<p.length;++E)_=p.charCodeAt(E),_<128?v[d++]=_:_<2048?(v[d++]=_>>6|192,v[d++]=_&63|128):(_&64512)===55296&&((C=p.charCodeAt(E+1))&64512)===56320?(_=65536+((_&1023)<<10)+(C&1023),++E,v[d++]=_>>18|240,v[d++]=_>>12&63|128,v[d++]=_>>6&63|128,v[d++]=_&63|128):(v[d++]=_>>12|224,v[d++]=_>>6&63|128,v[d++]=_&63|128);return d-g}}}),require_pool=__commonJS({"web/node_modules/@protobufjs/pool/index.js"(l,n){n.exports=u;function u(p,v,d){var g=d||8192,_=g>>>1,C=null,E=g;return function(m){if(m<1||m>_)return p(m);E+m>g&&(C=p(g),E=0);var y=v.call(C,E,E+=m);return E&7&&(E=(E|7)+1),y}}}}),require_longbits=__commonJS({"web/node_modules/protobufjs/src/util/longbits.js"(l,n){n.exports=p;var u=require_minimal();function p(_,C){this.lo=_>>>0,this.hi=C>>>0}var v=p.zero=new p(0,0);v.toNumber=function(){return 0},v.zzEncode=v.zzDecode=function(){return this},v.length=function(){return 1};var d=p.zeroHash="\0\0\0\0\0\0\0\0";p.fromNumber=function(C){if(C===0)return v;var E=C<0;E&&(C=-C);var w=C>>>0,m=(C-w)/4294967296>>>0;return E&&(m=~m>>>0,w=~w>>>0,++w>4294967295&&(w=0,++m>4294967295&&(m=0))),new p(w,m)},p.from=function(C){if(typeof C=="number")return p.fromNumber(C);if(u.isString(C))if(u.Long)C=u.Long.fromString(C);else return p.fromNumber(parseInt(C,10));return C.low||C.high?new p(C.low>>>0,C.high>>>0):v},p.prototype.toNumber=function(C){if(!C&&this.hi>>>31){var E=~this.lo+1>>>0,w=~this.hi>>>0;return E||(w=w+1>>>0),-(E+w*4294967296)}return this.lo+this.hi*4294967296},p.prototype.toLong=function(C){return u.Long?new u.Long(this.lo|0,this.hi|0,!!C):{low:this.lo|0,high:this.hi|0,unsigned:!!C}};var g=String.prototype.charCodeAt;p.fromHash=function(C){return C===d?v:new p((g.call(C,0)|g.call(C,1)<<8|g.call(C,2)<<16|g.call(C,3)<<24)>>>0,(g.call(C,4)|g.call(C,5)<<8|g.call(C,6)<<16|g.call(C,7)<<24)>>>0)},p.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},p.prototype.zzEncode=function(){var C=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^C)>>>0,this.lo=(this.lo<<1^C)>>>0,this},p.prototype.zzDecode=function(){var C=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^C)>>>0,this.hi=(this.hi>>>1^C)>>>0,this},p.prototype.length=function(){var C=this.lo,E=(this.lo>>>28|this.hi<<4)>>>0,w=this.hi>>>24;return w===0?E===0?C<16384?C<128?1:2:C<2097152?3:4:E<16384?E<128?5:6:E<2097152?7:8:w<128?9:10}}}),require_minimal=__commonJS({"web/node_modules/protobufjs/src/util/minimal.js"(l){var n=l;n.asPromise=require_aspromise(),n.base64=require_base64(),n.EventEmitter=require_eventemitter(),n.float=require_float(),n.inquire=require_inquire(),n.utf8=require_utf8(),n.pool=require_pool(),n.LongBits=require_longbits(),n.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node),n.global=n.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||l,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(d){return typeof d=="number"&&isFinite(d)&&Math.floor(d)===d},n.isString=function(d){return typeof d=="string"||d instanceof String},n.isObject=function(d){return d&&typeof d=="object"},n.isset=n.isSet=function(d,g){var _=d[g];return _!=null&&d.hasOwnProperty(g)?typeof _!="object"||(Array.isArray(_)?_.length:Object.keys(_).length)>0:!1},n.Buffer=function(){try{var v=n.inquire("buffer").Buffer;return v.prototype.utf8Write?v:null}catch{return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(d){return typeof d=="number"?n.Buffer?n._Buffer_allocUnsafe(d):new n.Array(d):n.Buffer?n._Buffer_from(d):typeof Uint8Array>"u"?d:new Uint8Array(d)},n.Array=typeof Uint8Array<"u"?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(d){return d?n.LongBits.from(d).toHash():n.LongBits.zeroHash},n.longFromHash=function(d,g){var _=n.LongBits.fromHash(d);return n.Long?n.Long.fromBits(_.lo,_.hi,g):_.toNumber(!!g)};function u(v,d,g){for(var _=Object.keys(d),C=0;C<_.length;++C)(v[_[C]]===void 0||!g)&&(v[_[C]]=d[_[C]]);return v}n.merge=u,n.lcFirst=function(d){return d.charAt(0).toLowerCase()+d.substring(1)};function p(v){function d(g,_){if(!(this instanceof d))return new d(g,_);Object.defineProperty(this,"message",{get:function(){return g}}),Error.captureStackTrace?Error.captureStackTrace(this,d):Object.defineProperty(this,"stack",{value:new Error().stack||""}),_&&u(this,_)}return d.prototype=Object.create(Error.prototype,{constructor:{value:d,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return v},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),d}n.newError=p,n.ProtocolError=p("ProtocolError"),n.oneOfGetter=function(d){for(var g={},_=0;_<d.length;++_)g[d[_]]=1;return function(){for(var C=Object.keys(this),E=C.length-1;E>-1;--E)if(g[C[E]]===1&&this[C[E]]!==void 0&&this[C[E]]!==null)return C[E]}},n.oneOfSetter=function(d){return function(g){for(var _=0;_<d.length;++_)d[_]!==g&&delete this[d[_]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var v=n.Buffer;if(!v){n._Buffer_from=n._Buffer_allocUnsafe=null;return}n._Buffer_from=v.from!==Uint8Array.from&&v.from||function(g,_){return new v(g,_)},n._Buffer_allocUnsafe=v.allocUnsafe||function(g){return new v(g)}}}}),require_writer=__commonJS({"web/node_modules/protobufjs/src/writer.js"(l,n){n.exports=w;var u=require_minimal(),p,v=u.LongBits,d=u.base64,g=u.utf8;function _(V,$,b){this.fn=V,this.len=$,this.next=void 0,this.val=b}function C(){}function E(V){this.head=V.head,this.tail=V.tail,this.len=V.len,this.next=V.states}function w(){this.len=0,this.head=new _(C,0,0),this.tail=this.head,this.states=null}var m=function(){return u.Buffer?function(){return(w.create=function(){return new p})()}:function(){return new w}};w.create=m(),w.alloc=function($){return new u.Array($)},u.Array!==Array&&(w.alloc=u.pool(w.alloc,u.Array.prototype.subarray)),w.prototype._push=function($,b,H){return this.tail=this.tail.next=new _($,b,H),this.len+=b,this};function y(V,$,b){$[b]=V&255}function e(V,$,b){for(;V>127;)$[b++]=V&127|128,V>>>=7;$[b]=V}function P(V,$){this.len=V,this.next=void 0,this.val=$}P.prototype=Object.create(_.prototype),P.prototype.fn=e,w.prototype.uint32=function($){return this.len+=(this.tail=this.tail.next=new P(($=$>>>0)<128?1:$<16384?2:$<2097152?3:$<268435456?4:5,$)).len,this},w.prototype.int32=function($){return $<0?this._push(O,10,v.fromNumber($)):this.uint32($)},w.prototype.sint32=function($){return this.uint32(($<<1^$>>31)>>>0)};function O(V,$,b){for(;V.hi;)$[b++]=V.lo&127|128,V.lo=(V.lo>>>7|V.hi<<25)>>>0,V.hi>>>=7;for(;V.lo>127;)$[b++]=V.lo&127|128,V.lo=V.lo>>>7;$[b++]=V.lo}w.prototype.uint64=function($){var b=v.from($);return this._push(O,b.length(),b)},w.prototype.int64=w.prototype.uint64,w.prototype.sint64=function($){var b=v.from($).zzEncode();return this._push(O,b.length(),b)},w.prototype.bool=function($){return this._push(y,1,$?1:0)};function U(V,$,b){$[b]=V&255,$[b+1]=V>>>8&255,$[b+2]=V>>>16&255,$[b+3]=V>>>24}w.prototype.fixed32=function($){return this._push(U,4,$>>>0)},w.prototype.sfixed32=w.prototype.fixed32,w.prototype.fixed64=function($){var b=v.from($);return this._push(U,4,b.lo)._push(U,4,b.hi)},w.prototype.sfixed64=w.prototype.fixed64,w.prototype.float=function($){return this._push(u.float.writeFloatLE,4,$)},w.prototype.double=function($){return this._push(u.float.writeDoubleLE,8,$)};var W=u.Array.prototype.set?function($,b,H){b.set($,H)}:function($,b,H){for(var G=0;G<$.length;++G)b[H+G]=$[G]};w.prototype.bytes=function($){var b=$.length>>>0;if(!b)return this._push(y,1,0);if(u.isString($)){var H=w.alloc(b=d.length($));d.decode($,H,0),$=H}return this.uint32(b)._push(W,b,$)},w.prototype.string=function($){var b=g.length($);return b?this.uint32(b)._push(g.write,b,$):this._push(y,1,0)},w.prototype.fork=function(){return this.states=new E(this),this.head=this.tail=new _(C,0,0),this.len=0,this},w.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new _(C,0,0),this.len=0),this},w.prototype.ldelim=function(){var $=this.head,b=this.tail,H=this.len;return this.reset().uint32(H),H&&(this.tail.next=$.next,this.tail=b,this.len+=H),this},w.prototype.finish=function(){for(var $=this.head.next,b=this.constructor.alloc(this.len),H=0;$;)$.fn($.val,b,H),H+=$.len,$=$.next;return b},w._configure=function(V){p=V,w.create=m(),p._configure()}}}),require_writer_buffer=__commonJS({"web/node_modules/protobufjs/src/writer_buffer.js"(l,n){n.exports=v;var u=require_writer();(v.prototype=Object.create(u.prototype)).constructor=v;var p=require_minimal();function v(){u.call(this)}v._configure=function(){v.alloc=p._Buffer_allocUnsafe,v.writeBytesBuffer=p.Buffer&&p.Buffer.prototype instanceof Uint8Array&&p.Buffer.prototype.set.name==="set"?function(_,C,E){C.set(_,E)}:function(_,C,E){if(_.copy)_.copy(C,E,0,_.length);else for(var w=0;w<_.length;)C[E++]=_[w++]}},v.prototype.bytes=function(_){p.isString(_)&&(_=p._Buffer_from(_,"base64"));var C=_.length>>>0;return this.uint32(C),C&&this._push(v.writeBytesBuffer,C,_),this};function d(g,_,C){g.length<40?p.utf8.write(g,_,C):_.utf8Write?_.utf8Write(g,C):_.write(g,C)}v.prototype.string=function(_){var C=p.Buffer.byteLength(_);return this.uint32(C),C&&this._push(d,C,_),this},v._configure()}}),require_reader=__commonJS({"web/node_modules/protobufjs/src/reader.js"(l,n){n.exports=_;var u=require_minimal(),p,v=u.LongBits,d=u.utf8;function g(e,P){return RangeError("index out of range: "+e.pos+" + "+(P||1)+" > "+e.len)}function _(e){this.buf=e,this.pos=0,this.len=e.length}var C=typeof Uint8Array<"u"?function(P){if(P instanceof Uint8Array||Array.isArray(P))return new _(P);throw Error("illegal buffer")}:function(P){if(Array.isArray(P))return new _(P);throw Error("illegal buffer")},E=function(){return u.Buffer?function(O){return(_.create=function(W){return u.Buffer.isBuffer(W)?new p(W):C(W)})(O)}:C};_.create=E(),_.prototype._slice=u.Array.prototype.subarray||u.Array.prototype.slice,_.prototype.uint32=function(){var P=4294967295;return function(){if(P=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(P=(P|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(P=(P|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(P=(P|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(P=(P|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return P;if((this.pos+=5)>this.len)throw this.pos=this.len,g(this,10);return P}}(),_.prototype.int32=function(){return this.uint32()|0},_.prototype.sint32=function(){var P=this.uint32();return P>>>1^-(P&1)|0};function w(){var e=new v(0,0),P=0;if(this.len-this.pos>4){for(;P<4;++P)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<P*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;P=0}else{for(;P<3;++P){if(this.pos>=this.len)throw g(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<P*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<P*7)>>>0,e}if(this.len-this.pos>4){for(;P<5;++P)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<P*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;P<5;++P){if(this.pos>=this.len)throw g(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<P*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}_.prototype.bool=function(){return this.uint32()!==0};function m(e,P){return(e[P-4]|e[P-3]<<8|e[P-2]<<16|e[P-1]<<24)>>>0}_.prototype.fixed32=function(){if(this.pos+4>this.len)throw g(this,4);return m(this.buf,this.pos+=4)},_.prototype.sfixed32=function(){if(this.pos+4>this.len)throw g(this,4);return m(this.buf,this.pos+=4)|0};function y(){if(this.pos+8>this.len)throw g(this,8);return new v(m(this.buf,this.pos+=4),m(this.buf,this.pos+=4))}_.prototype.float=function(){if(this.pos+4>this.len)throw g(this,4);var P=u.float.readFloatLE(this.buf,this.pos);return this.pos+=4,P},_.prototype.double=function(){if(this.pos+8>this.len)throw g(this,4);var P=u.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,P},_.prototype.bytes=function(){var P=this.uint32(),O=this.pos,U=this.pos+P;if(U>this.len)throw g(this,P);if(this.pos+=P,Array.isArray(this.buf))return this.buf.slice(O,U);if(O===U){var W=u.Buffer;return W?W.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,O,U)},_.prototype.string=function(){var P=this.bytes();return d.read(P,0,P.length)},_.prototype.skip=function(P){if(typeof P=="number"){if(this.pos+P>this.len)throw g(this,P);this.pos+=P}else do if(this.pos>=this.len)throw g(this);while(this.buf[this.pos++]&128);return this},_.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!==4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},_._configure=function(e){p=e,_.create=E(),p._configure();var P=u.Long?"toLong":"toNumber";u.merge(_.prototype,{int64:function(){return w.call(this)[P](!1)},uint64:function(){return w.call(this)[P](!0)},sint64:function(){return w.call(this).zzDecode()[P](!1)},fixed64:function(){return y.call(this)[P](!0)},sfixed64:function(){return y.call(this)[P](!1)}})}}}),require_reader_buffer=__commonJS({"web/node_modules/protobufjs/src/reader_buffer.js"(l,n){n.exports=v;var u=require_reader();(v.prototype=Object.create(u.prototype)).constructor=v;var p=require_minimal();function v(d){u.call(this,d)}v._configure=function(){p.Buffer&&(v.prototype._slice=p.Buffer.prototype.slice)},v.prototype.string=function(){var g=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+g,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+g,this.len))},v._configure()}}),require_service=__commonJS({"web/node_modules/protobufjs/src/rpc/service.js"(l,n){n.exports=p;var u=require_minimal();(p.prototype=Object.create(u.EventEmitter.prototype)).constructor=p;function p(v,d,g){if(typeof v!="function")throw TypeError("rpcImpl must be a function");u.EventEmitter.call(this),this.rpcImpl=v,this.requestDelimited=!!d,this.responseDelimited=!!g}p.prototype.rpcCall=function v(d,g,_,C,E){if(!C)throw TypeError("request must be specified");var w=this;if(!E)return u.asPromise(v,w,d,g,_,C);if(!w.rpcImpl){setTimeout(function(){E(Error("already ended"))},0);return}try{return w.rpcImpl(d,g[w.requestDelimited?"encodeDelimited":"encode"](C).finish(),function(y,e){if(y)return w.emit("error",y,d),E(y);if(e===null){w.end(!0);return}if(!(e instanceof _))try{e=_[w.responseDelimited?"decodeDelimited":"decode"](e)}catch(P){return w.emit("error",P,d),E(P)}return w.emit("data",e,d),E(null,e)})}catch(m){w.emit("error",m,d),setTimeout(function(){E(m)},0);return}},p.prototype.end=function(d){return this.rpcImpl&&(d||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}}}),require_rpc=__commonJS({"web/node_modules/protobufjs/src/rpc.js"(l){var n=l;n.Service=require_service()}}),require_roots=__commonJS({"web/node_modules/protobufjs/src/roots.js"(l,n){n.exports={}}}),require_index_minimal=__commonJS({"web/node_modules/protobufjs/src/index-minimal.js"(l){var n=l;n.build="minimal",n.Writer=require_writer(),n.BufferWriter=require_writer_buffer(),n.Reader=require_reader(),n.BufferReader=require_reader_buffer(),n.util=require_minimal(),n.rpc=require_rpc(),n.roots=require_roots(),n.configure=u;function u(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}u()}}),require_minimal2=__commonJS({"web/node_modules/protobufjs/minimal.js"(l,n){n.exports=require_index_minimal()}}),require_onnx=__commonJS({"web/lib/onnxjs/ort-schema/protobuf/onnx.js"(l,n){var u=require_minimal2(),p=u.Reader,v=u.Writer,d=u.util,g=u.roots.default||(u.roots.default={});g.onnx=function(){var _={};return _.Version=function(){var C={},E=Object.create(C);return E[C[0]="_START_VERSION"]=0,E[C[1]="IR_VERSION_2017_10_10"]=1,E[C[2]="IR_VERSION_2017_10_30"]=2,E[C[3]="IR_VERSION_2017_11_3"]=3,E[C[4]="IR_VERSION_2019_1_22"]=4,E[C[5]="IR_VERSION_2019_3_18"]=5,E[C[6]="IR_VERSION_2019_9_19"]=6,E[C[7]="IR_VERSION_2020_5_8"]=7,E[C[8]="IR_VERSION_2021_7_30"]=8,E[C[9]="IR_VERSION"]=9,E}(),_.AttributeProto=function(){function C(E){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],this.sparseTensors=[],this.typeProtos=[],E)for(var w=Object.keys(E),m=0;m<w.length;++m)E[w[m]]!=null&&(this[w[m]]=E[w[m]])}return C.prototype.name="",C.prototype.refAttrName="",C.prototype.docString="",C.prototype.type=0,C.prototype.f=0,C.prototype.i=d.Long?d.Long.fromBits(0,0,!1):0,C.prototype.s=d.newBuffer([]),C.prototype.t=null,C.prototype.g=null,C.prototype.sparseTensor=null,C.prototype.tp=null,C.prototype.floats=d.emptyArray,C.prototype.ints=d.emptyArray,C.prototype.strings=d.emptyArray,C.prototype.tensors=d.emptyArray,C.prototype.graphs=d.emptyArray,C.prototype.sparseTensors=d.emptyArray,C.prototype.typeProtos=d.emptyArray,C.create=function(w){return new C(w)},C.encode=function(w,m){if(m||(m=v.create()),w.name!=null&&Object.hasOwnProperty.call(w,"name")&&m.uint32(10).string(w.name),w.f!=null&&Object.hasOwnProperty.call(w,"f")&&m.uint32(21).float(w.f),w.i!=null&&Object.hasOwnProperty.call(w,"i")&&m.uint32(24).int64(w.i),w.s!=null&&Object.hasOwnProperty.call(w,"s")&&m.uint32(34).bytes(w.s),w.t!=null&&Object.hasOwnProperty.call(w,"t")&&g.onnx.TensorProto.encode(w.t,m.uint32(42).fork()).ldelim(),w.g!=null&&Object.hasOwnProperty.call(w,"g")&&g.onnx.GraphProto.encode(w.g,m.uint32(50).fork()).ldelim(),w.floats!=null&&w.floats.length){m.uint32(58).fork();for(var y=0;y<w.floats.length;++y)m.float(w.floats[y]);m.ldelim()}if(w.ints!=null&&w.ints.length){m.uint32(66).fork();for(var y=0;y<w.ints.length;++y)m.int64(w.ints[y]);m.ldelim()}if(w.strings!=null&&w.strings.length)for(var y=0;y<w.strings.length;++y)m.uint32(74).bytes(w.strings[y]);if(w.tensors!=null&&w.tensors.length)for(var y=0;y<w.tensors.length;++y)g.onnx.TensorProto.encode(w.tensors[y],m.uint32(82).fork()).ldelim();if(w.graphs!=null&&w.graphs.length)for(var y=0;y<w.graphs.length;++y)g.onnx.GraphProto.encode(w.graphs[y],m.uint32(90).fork()).ldelim();if(w.docString!=null&&Object.hasOwnProperty.call(w,"docString")&&m.uint32(106).string(w.docString),w.tp!=null&&Object.hasOwnProperty.call(w,"tp")&&g.onnx.TypeProto.encode(w.tp,m.uint32(114).fork()).ldelim(),w.typeProtos!=null&&w.typeProtos.length)for(var y=0;y<w.typeProtos.length;++y)g.onnx.TypeProto.encode(w.typeProtos[y],m.uint32(122).fork()).ldelim();if(w.type!=null&&Object.hasOwnProperty.call(w,"type")&&m.uint32(160).int32(w.type),w.refAttrName!=null&&Object.hasOwnProperty.call(w,"refAttrName")&&m.uint32(170).string(w.refAttrName),w.sparseTensor!=null&&Object.hasOwnProperty.call(w,"sparseTensor")&&g.onnx.SparseTensorProto.encode(w.sparseTensor,m.uint32(178).fork()).ldelim(),w.sparseTensors!=null&&w.sparseTensors.length)for(var y=0;y<w.sparseTensors.length;++y)g.onnx.SparseTensorProto.encode(w.sparseTensors[y],m.uint32(186).fork()).ldelim();return m},C.encodeDelimited=function(w,m){return this.encode(w,m).ldelim()},C.decode=function(w,m){w instanceof p||(w=p.create(w));for(var y=m===void 0?w.len:w.pos+m,e=new g.onnx.AttributeProto;w.pos<y;){var P=w.uint32();switch(P>>>3){case 1:{e.name=w.string();break}case 21:{e.refAttrName=w.string();break}case 13:{e.docString=w.string();break}case 20:{e.type=w.int32();break}case 2:{e.f=w.float();break}case 3:{e.i=w.int64();break}case 4:{e.s=w.bytes();break}case 5:{e.t=g.onnx.TensorProto.decode(w,w.uint32());break}case 6:{e.g=g.onnx.GraphProto.decode(w,w.uint32());break}case 22:{e.sparseTensor=g.onnx.SparseTensorProto.decode(w,w.uint32());break}case 14:{e.tp=g.onnx.TypeProto.decode(w,w.uint32());break}case 7:{if(e.floats&&e.floats.length||(e.floats=[]),(P&7)===2)for(var O=w.uint32()+w.pos;w.pos<O;)e.floats.push(w.float());else e.floats.push(w.float());break}case 8:{if(e.ints&&e.ints.length||(e.ints=[]),(P&7)===2)for(var O=w.uint32()+w.pos;w.pos<O;)e.ints.push(w.int64());else e.ints.push(w.int64());break}case 9:{e.strings&&e.strings.length||(e.strings=[]),e.strings.push(w.bytes());break}case 10:{e.tensors&&e.tensors.length||(e.tensors=[]),e.tensors.push(g.onnx.TensorProto.decode(w,w.uint32()));break}case 11:{e.graphs&&e.graphs.length||(e.graphs=[]),e.graphs.push(g.onnx.GraphProto.decode(w,w.uint32()));break}case 23:{e.sparseTensors&&e.sparseTensors.length||(e.sparseTensors=[]),e.sparseTensors.push(g.onnx.SparseTensorProto.decode(w,w.uint32()));break}case 15:{e.typeProtos&&e.typeProtos.length||(e.typeProtos=[]),e.typeProtos.push(g.onnx.TypeProto.decode(w,w.uint32()));break}default:w.skipType(P&7);break}}return e},C.decodeDelimited=function(w){return w instanceof p||(w=new p(w)),this.decode(w,w.uint32())},C.verify=function(w){if(typeof w!="object"||w===null)return"object expected";if(w.name!=null&&w.hasOwnProperty("name")&&!d.isString(w.name))return"name: string expected";if(w.refAttrName!=null&&w.hasOwnProperty("refAttrName")&&!d.isString(w.refAttrName))return"refAttrName: string expected";if(w.docString!=null&&w.hasOwnProperty("docString")&&!d.isString(w.docString))return"docString: string expected";if(w.type!=null&&w.hasOwnProperty("type"))switch(w.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 11:case 13:case 6:case 7:case 8:case 9:case 10:case 12:case 14:break}if(w.f!=null&&w.hasOwnProperty("f")&&typeof w.f!="number")return"f: number expected";if(w.i!=null&&w.hasOwnProperty("i")&&!d.isInteger(w.i)&&!(w.i&&d.isInteger(w.i.low)&&d.isInteger(w.i.high)))return"i: integer|Long expected";if(w.s!=null&&w.hasOwnProperty("s")&&!(w.s&&typeof w.s.length=="number"||d.isString(w.s)))return"s: buffer expected";if(w.t!=null&&w.hasOwnProperty("t")){var m=g.onnx.TensorProto.verify(w.t);if(m)return"t."+m}if(w.g!=null&&w.hasOwnProperty("g")){var m=g.onnx.GraphProto.verify(w.g);if(m)return"g."+m}if(w.sparseTensor!=null&&w.hasOwnProperty("sparseTensor")){var m=g.onnx.SparseTensorProto.verify(w.sparseTensor);if(m)return"sparseTensor."+m}if(w.tp!=null&&w.hasOwnProperty("tp")){var m=g.onnx.TypeProto.verify(w.tp);if(m)return"tp."+m}if(w.floats!=null&&w.hasOwnProperty("floats")){if(!Array.isArray(w.floats))return"floats: array expected";for(var y=0;y<w.floats.length;++y)if(typeof w.floats[y]!="number")return"floats: number[] expected"}if(w.ints!=null&&w.hasOwnProperty("ints")){if(!Array.isArray(w.ints))return"ints: array expected";for(var y=0;y<w.ints.length;++y)if(!d.isInteger(w.ints[y])&&!(w.ints[y]&&d.isInteger(w.ints[y].low)&&d.isInteger(w.ints[y].high)))return"ints: integer|Long[] expected"}if(w.strings!=null&&w.hasOwnProperty("strings")){if(!Array.isArray(w.strings))return"strings: array expected";for(var y=0;y<w.strings.length;++y)if(!(w.strings[y]&&typeof w.strings[y].length=="number"||d.isString(w.strings[y])))return"strings: buffer[] expected"}if(w.tensors!=null&&w.hasOwnProperty("tensors")){if(!Array.isArray(w.tensors))return"tensors: array expected";for(var y=0;y<w.tensors.length;++y){var m=g.onnx.TensorProto.verify(w.tensors[y]);if(m)return"tensors."+m}}if(w.graphs!=null&&w.hasOwnProperty("graphs")){if(!Array.isArray(w.graphs))return"graphs: array expected";for(var y=0;y<w.graphs.length;++y){var m=g.onnx.GraphProto.verify(w.graphs[y]);if(m)return"graphs."+m}}if(w.sparseTensors!=null&&w.hasOwnProperty("sparseTensors")){if(!Array.isArray(w.sparseTensors))return"sparseTensors: array expected";for(var y=0;y<w.sparseTensors.length;++y){var m=g.onnx.SparseTensorProto.verify(w.sparseTensors[y]);if(m)return"sparseTensors."+m}}if(w.typeProtos!=null&&w.hasOwnProperty("typeProtos")){if(!Array.isArray(w.typeProtos))return"typeProtos: array expected";for(var y=0;y<w.typeProtos.length;++y){var m=g.onnx.TypeProto.verify(w.typeProtos[y]);if(m)return"typeProtos."+m}}return null},C.fromObject=function(w){if(w instanceof g.onnx.AttributeProto)return w;var m=new g.onnx.AttributeProto;switch(w.name!=null&&(m.name=String(w.name)),w.refAttrName!=null&&(m.refAttrName=String(w.refAttrName)),w.docString!=null&&(m.docString=String(w.docString)),w.type){default:if(typeof w.type=="number"){m.type=w.type;break}break;case"UNDEFINED":case 0:m.type=0;break;case"FLOAT":case 1:m.type=1;break;case"INT":case 2:m.type=2;break;case"STRING":case 3:m.type=3;break;case"TENSOR":case 4:m.type=4;break;case"GRAPH":case 5:m.type=5;break;case"SPARSE_TENSOR":case 11:m.type=11;break;case"TYPE_PROTO":case 13:m.type=13;break;case"FLOATS":case 6:m.type=6;break;case"INTS":case 7:m.type=7;break;case"STRINGS":case 8:m.type=8;break;case"TENSORS":case 9:m.type=9;break;case"GRAPHS":case 10:m.type=10;break;case"SPARSE_TENSORS":case 12:m.type=12;break;case"TYPE_PROTOS":case 14:m.type=14;break}if(w.f!=null&&(m.f=Number(w.f)),w.i!=null&&(d.Long?(m.i=d.Long.fromValue(w.i)).unsigned=!1:typeof w.i=="string"?m.i=parseInt(w.i,10):typeof w.i=="number"?m.i=w.i:typeof w.i=="object"&&(m.i=new d.LongBits(w.i.low>>>0,w.i.high>>>0).toNumber())),w.s!=null&&(typeof w.s=="string"?d.base64.decode(w.s,m.s=d.newBuffer(d.base64.length(w.s)),0):w.s.length>=0&&(m.s=w.s)),w.t!=null){if(typeof w.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");m.t=g.onnx.TensorProto.fromObject(w.t)}if(w.g!=null){if(typeof w.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");m.g=g.onnx.GraphProto.fromObject(w.g)}if(w.sparseTensor!=null){if(typeof w.sparseTensor!="object")throw TypeError(".onnx.AttributeProto.sparseTensor: object expected");m.sparseTensor=g.onnx.SparseTensorProto.fromObject(w.sparseTensor)}if(w.tp!=null){if(typeof w.tp!="object")throw TypeError(".onnx.AttributeProto.tp: object expected");m.tp=g.onnx.TypeProto.fromObject(w.tp)}if(w.floats){if(!Array.isArray(w.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");m.floats=[];for(var y=0;y<w.floats.length;++y)m.floats[y]=Number(w.floats[y])}if(w.ints){if(!Array.isArray(w.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");m.ints=[];for(var y=0;y<w.ints.length;++y)d.Long?(m.ints[y]=d.Long.fromValue(w.ints[y])).unsigned=!1:typeof w.ints[y]=="string"?m.ints[y]=parseInt(w.ints[y],10):typeof w.ints[y]=="number"?m.ints[y]=w.ints[y]:typeof w.ints[y]=="object"&&(m.ints[y]=new d.LongBits(w.ints[y].low>>>0,w.ints[y].high>>>0).toNumber())}if(w.strings){if(!Array.isArray(w.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");m.strings=[];for(var y=0;y<w.strings.length;++y)typeof w.strings[y]=="string"?d.base64.decode(w.strings[y],m.strings[y]=d.newBuffer(d.base64.length(w.strings[y])),0):w.strings[y].length>=0&&(m.strings[y]=w.strings[y])}if(w.tensors){if(!Array.isArray(w.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");m.tensors=[];for(var y=0;y<w.tensors.length;++y){if(typeof w.tensors[y]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");m.tensors[y]=g.onnx.TensorProto.fromObject(w.tensors[y])}}if(w.graphs){if(!Array.isArray(w.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");m.graphs=[];for(var y=0;y<w.graphs.length;++y){if(typeof w.graphs[y]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");m.graphs[y]=g.onnx.GraphProto.fromObject(w.graphs[y])}}if(w.sparseTensors){if(!Array.isArray(w.sparseTensors))throw TypeError(".onnx.AttributeProto.sparseTensors: array expected");m.sparseTensors=[];for(var y=0;y<w.sparseTensors.length;++y){if(typeof w.sparseTensors[y]!="object")throw TypeError(".onnx.AttributeProto.sparseTensors: object expected");m.sparseTensors[y]=g.onnx.SparseTensorProto.fromObject(w.sparseTensors[y])}}if(w.typeProtos){if(!Array.isArray(w.typeProtos))throw TypeError(".onnx.AttributeProto.typeProtos: array expected");m.typeProtos=[];for(var y=0;y<w.typeProtos.length;++y){if(typeof w.typeProtos[y]!="object")throw TypeError(".onnx.AttributeProto.typeProtos: object expected");m.typeProtos[y]=g.onnx.TypeProto.fromObject(w.typeProtos[y])}}return m},C.toObject=function(w,m){m||(m={});var y={};if((m.arrays||m.defaults)&&(y.floats=[],y.ints=[],y.strings=[],y.tensors=[],y.graphs=[],y.typeProtos=[],y.sparseTensors=[]),m.defaults){if(y.name="",y.f=0,d.Long){var e=new d.Long(0,0,!1);y.i=m.longs===String?e.toString():m.longs===Number?e.toNumber():e}else y.i=m.longs===String?"0":0;m.bytes===String?y.s="":(y.s=[],m.bytes!==Array&&(y.s=d.newBuffer(y.s))),y.t=null,y.g=null,y.docString="",y.tp=null,y.type=m.enums===String?"UNDEFINED":0,y.refAttrName="",y.sparseTensor=null}if(w.name!=null&&w.hasOwnProperty("name")&&(y.name=w.name),w.f!=null&&w.hasOwnProperty("f")&&(y.f=m.json&&!isFinite(w.f)?String(w.f):w.f),w.i!=null&&w.hasOwnProperty("i")&&(typeof w.i=="number"?y.i=m.longs===String?String(w.i):w.i:y.i=m.longs===String?d.Long.prototype.toString.call(w.i):m.longs===Number?new d.LongBits(w.i.low>>>0,w.i.high>>>0).toNumber():w.i),w.s!=null&&w.hasOwnProperty("s")&&(y.s=m.bytes===String?d.base64.encode(w.s,0,w.s.length):m.bytes===Array?Array.prototype.slice.call(w.s):w.s),w.t!=null&&w.hasOwnProperty("t")&&(y.t=g.onnx.TensorProto.toObject(w.t,m)),w.g!=null&&w.hasOwnProperty("g")&&(y.g=g.onnx.GraphProto.toObject(w.g,m)),w.floats&&w.floats.length){y.floats=[];for(var P=0;P<w.floats.length;++P)y.floats[P]=m.json&&!isFinite(w.floats[P])?String(w.floats[P]):w.floats[P]}if(w.ints&&w.ints.length){y.ints=[];for(var P=0;P<w.ints.length;++P)typeof w.ints[P]=="number"?y.ints[P]=m.longs===String?String(w.ints[P]):w.ints[P]:y.ints[P]=m.longs===String?d.Long.prototype.toString.call(w.ints[P]):m.longs===Number?new d.LongBits(w.ints[P].low>>>0,w.ints[P].high>>>0).toNumber():w.ints[P]}if(w.strings&&w.strings.length){y.strings=[];for(var P=0;P<w.strings.length;++P)y.strings[P]=m.bytes===String?d.base64.encode(w.strings[P],0,w.strings[P].length):m.bytes===Array?Array.prototype.slice.call(w.strings[P]):w.strings[P]}if(w.tensors&&w.tensors.length){y.tensors=[];for(var P=0;P<w.tensors.length;++P)y.tensors[P]=g.onnx.TensorProto.toObject(w.tensors[P],m)}if(w.graphs&&w.graphs.length){y.graphs=[];for(var P=0;P<w.graphs.length;++P)y.graphs[P]=g.onnx.GraphProto.toObject(w.graphs[P],m)}if(w.docString!=null&&w.hasOwnProperty("docString")&&(y.docString=w.docString),w.tp!=null&&w.hasOwnProperty("tp")&&(y.tp=g.onnx.TypeProto.toObject(w.tp,m)),w.typeProtos&&w.typeProtos.length){y.typeProtos=[];for(var P=0;P<w.typeProtos.length;++P)y.typeProtos[P]=g.onnx.TypeProto.toObject(w.typeProtos[P],m)}if(w.type!=null&&w.hasOwnProperty("type")&&(y.type=m.enums===String?g.onnx.AttributeProto.AttributeType[w.type]===void 0?w.type:g.onnx.AttributeProto.AttributeType[w.type]:w.type),w.refAttrName!=null&&w.hasOwnProperty("refAttrName")&&(y.refAttrName=w.refAttrName),w.sparseTensor!=null&&w.hasOwnProperty("sparseTensor")&&(y.sparseTensor=g.onnx.SparseTensorProto.toObject(w.sparseTensor,m)),w.sparseTensors&&w.sparseTensors.length){y.sparseTensors=[];for(var P=0;P<w.sparseTensors.length;++P)y.sparseTensors[P]=g.onnx.SparseTensorProto.toObject(w.sparseTensors[P],m)}return y},C.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},C.getTypeUrl=function(w){return w===void 0&&(w="type.googleapis.com"),w+"/onnx.AttributeProto"},C.AttributeType=function(){var E={},w=Object.create(E);return w[E[0]="UNDEFINED"]=0,w[E[1]="FLOAT"]=1,w[E[2]="INT"]=2,w[E[3]="STRING"]=3,w[E[4]="TENSOR"]=4,w[E[5]="GRAPH"]=5,w[E[11]="SPARSE_TENSOR"]=11,w[E[13]="TYPE_PROTO"]=13,w[E[6]="FLOATS"]=6,w[E[7]="INTS"]=7,w[E[8]="STRINGS"]=8,w[E[9]="TENSORS"]=9,w[E[10]="GRAPHS"]=10,w[E[12]="SPARSE_TENSORS"]=12,w[E[14]="TYPE_PROTOS"]=14,w}(),C}(),_.ValueInfoProto=function(){function C(E){if(E)for(var w=Object.keys(E),m=0;m<w.length;++m)E[w[m]]!=null&&(this[w[m]]=E[w[m]])}return C.prototype.name="",C.prototype.type=null,C.prototype.docString="",C.create=function(w){return new C(w)},C.encode=function(w,m){return m||(m=v.create()),w.name!=null&&Object.hasOwnProperty.call(w,"name")&&m.uint32(10).string(w.name),w.type!=null&&Object.hasOwnProperty.call(w,"type")&&g.onnx.TypeProto.encode(w.type,m.uint32(18).fork()).ldelim(),w.docString!=null&&Object.hasOwnProperty.call(w,"docString")&&m.uint32(26).string(w.docString),m},C.encodeDelimited=function(w,m){return this.encode(w,m).ldelim()},C.decode=function(w,m){w instanceof p||(w=p.create(w));for(var y=m===void 0?w.len:w.pos+m,e=new g.onnx.ValueInfoProto;w.pos<y;){var P=w.uint32();switch(P>>>3){case 1:{e.name=w.string();break}case 2:{e.type=g.onnx.TypeProto.decode(w,w.uint32());break}case 3:{e.docString=w.string();break}default:w.skipType(P&7);break}}return e},C.decodeDelimited=function(w){return w instanceof p||(w=new p(w)),this.decode(w,w.uint32())},C.verify=function(w){if(typeof w!="object"||w===null)return"object expected";if(w.name!=null&&w.hasOwnProperty("name")&&!d.isString(w.name))return"name: string expected";if(w.type!=null&&w.hasOwnProperty("type")){var m=g.onnx.TypeProto.verify(w.type);if(m)return"type."+m}return w.docString!=null&&w.hasOwnProperty("docString")&&!d.isString(w.docString)?"docString: string expected":null},C.fromObject=function(w){if(w instanceof g.onnx.ValueInfoProto)return w;var m=new g.onnx.ValueInfoProto;if(w.name!=null&&(m.name=String(w.name)),w.type!=null){if(typeof w.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");m.type=g.onnx.TypeProto.fromObject(w.type)}return w.docString!=null&&(m.docString=String(w.docString)),m},C.toObject=function(w,m){m||(m={});var y={};return m.defaults&&(y.name="",y.type=null,y.docString=""),w.name!=null&&w.hasOwnProperty("name")&&(y.name=w.name),w.type!=null&&w.hasOwnProperty("type")&&(y.type=g.onnx.TypeProto.toObject(w.type,m)),w.docString!=null&&w.hasOwnProperty("docString")&&(y.docString=w.docString),y},C.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},C.getTypeUrl=function(w){return w===void 0&&(w="type.googleapis.com"),w+"/onnx.ValueInfoProto"},C}(),_.NodeProto=function(){function C(E){if(this.input=[],this.output=[],this.attribute=[],E)for(var w=Object.keys(E),m=0;m<w.length;++m)E[w[m]]!=null&&(this[w[m]]=E[w[m]])}return C.prototype.input=d.emptyArray,C.prototype.output=d.emptyArray,C.prototype.name="",C.prototype.opType="",C.prototype.domain="",C.prototype.attribute=d.emptyArray,C.prototype.docString="",C.create=function(w){return new C(w)},C.encode=function(w,m){if(m||(m=v.create()),w.input!=null&&w.input.length)for(var y=0;y<w.input.length;++y)m.uint32(10).string(w.input[y]);if(w.output!=null&&w.output.length)for(var y=0;y<w.output.length;++y)m.uint32(18).string(w.output[y]);if(w.name!=null&&Object.hasOwnProperty.call(w,"name")&&m.uint32(26).string(w.name),w.opType!=null&&Object.hasOwnProperty.call(w,"opType")&&m.uint32(34).string(w.opType),w.attribute!=null&&w.attribute.length)for(var y=0;y<w.attribute.length;++y)g.onnx.AttributeProto.encode(w.attribute[y],m.uint32(42).fork()).ldelim();return w.docString!=null&&Object.hasOwnProperty.call(w,"docString")&&m.uint32(50).string(w.docString),w.domain!=null&&Object.hasOwnProperty.call(w,"domain")&&m.uint32(58).string(w.domain),m},C.encodeDelimited=function(w,m){return this.encode(w,m).ldelim()},C.decode=function(w,m){w instanceof p||(w=p.create(w));for(var y=m===void 0?w.len:w.pos+m,e=new g.onnx.NodeProto;w.pos<y;){var P=w.uint32();switch(P>>>3){case 1:{e.input&&e.input.length||(e.input=[]),e.input.push(w.string());break}case 2:{e.output&&e.output.length||(e.output=[]),e.output.push(w.string());break}case 3:{e.name=w.string();break}case 4:{e.opType=w.string();break}case 7:{e.domain=w.string();break}case 5:{e.attribute&&e.attribute.length||(e.attribute=[]),e.attribute.push(g.onnx.AttributeProto.decode(w,w.uint32()));break}case 6:{e.docString=w.string();break}default:w.skipType(P&7);break}}return e},C.decodeDelimited=function(w){return w instanceof p||(w=new p(w)),this.decode(w,w.uint32())},C.verify=function(w){if(typeof w!="object"||w===null)return"object expected";if(w.input!=null&&w.hasOwnProperty("input")){if(!Array.isArray(w.input))return"input: array expected";for(var m=0;m<w.input.length;++m)if(!d.isString(w.input[m]))return"input: string[] expected"}if(w.output!=null&&w.hasOwnProperty("output")){if(!Array.isArray(w.output))return"output: array expected";for(var m=0;m<w.output.length;++m)if(!d.isString(w.output[m]))return"output: string[] expected"}if(w.name!=null&&w.hasOwnProperty("name")&&!d.isString(w.name))return"name: string expected";if(w.opType!=null&&w.hasOwnProperty("opType")&&!d.isString(w.opType))return"opType: string expected";if(w.domain!=null&&w.hasOwnProperty("domain")&&!d.isString(w.domain))return"domain: string expected";if(w.attribute!=null&&w.hasOwnProperty("attribute")){if(!Array.isArray(w.attribute))return"attribute: array expected";for(var m=0;m<w.attribute.length;++m){var y=g.onnx.AttributeProto.verify(w.attribute[m]);if(y)return"attribute."+y}}return w.docString!=null&&w.hasOwnProperty("docString")&&!d.isString(w.docString)?"docString: string expected":null},C.fromObject=function(w){if(w instanceof g.onnx.NodeProto)return w;var m=new g.onnx.NodeProto;if(w.input){if(!Array.isArray(w.input))throw TypeError(".onnx.NodeProto.input: array expected");m.input=[];for(var y=0;y<w.input.length;++y)m.input[y]=String(w.input[y])}if(w.output){if(!Array.isArray(w.output))throw TypeError(".onnx.NodeProto.output: array expected");m.output=[];for(var y=0;y<w.output.length;++y)m.output[y]=String(w.output[y])}if(w.name!=null&&(m.name=String(w.name)),w.opType!=null&&(m.opType=String(w.opType)),w.domain!=null&&(m.domain=String(w.domain)),w.attribute){if(!Array.isArray(w.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");m.attribute=[];for(var y=0;y<w.attribute.length;++y){if(typeof w.attribute[y]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");m.attribute[y]=g.onnx.AttributeProto.fromObject(w.attribute[y])}}return w.docString!=null&&(m.docString=String(w.docString)),m},C.toObject=function(w,m){m||(m={});var y={};if((m.arrays||m.defaults)&&(y.input=[],y.output=[],y.attribute=[]),m.defaults&&(y.name="",y.opType="",y.docString="",y.domain=""),w.input&&w.input.length){y.input=[];for(var e=0;e<w.input.length;++e)y.input[e]=w.input[e]}if(w.output&&w.output.length){y.output=[];for(var e=0;e<w.output.length;++e)y.output[e]=w.output[e]}if(w.name!=null&&w.hasOwnProperty("name")&&(y.name=w.name),w.opType!=null&&w.hasOwnProperty("opType")&&(y.opType=w.opType),w.attribute&&w.attribute.length){y.attribute=[];for(var e=0;e<w.attribute.length;++e)y.attribute[e]=g.onnx.AttributeProto.toObject(w.attribute[e],m)}return w.docString!=null&&w.hasOwnProperty("docString")&&(y.docString=w.docString),w.domain!=null&&w.hasOwnProperty("domain")&&(y.domain=w.domain),y},C.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},C.getTypeUrl=function(w){return w===void 0&&(w="type.googleapis.com"),w+"/onnx.NodeProto"},C}(),_.TrainingInfoProto=function(){function C(E){if(this.initializationBinding=[],this.updateBinding=[],E)for(var w=Object.keys(E),m=0;m<w.length;++m)E[w[m]]!=null&&(this[w[m]]=E[w[m]])}return C.prototype.initialization=null,C.prototype.algorithm=null,C.prototype.initializationBinding=d.emptyArray,C.prototype.updateBinding=d.emptyArray,C.create=function(w){return new C(w)},C.encode=function(w,m){if(m||(m=v.create()),w.initialization!=null&&Object.hasOwnProperty.call(w,"initialization")&&g.onnx.GraphProto.encode(w.initialization,m.uint32(10).fork()).ldelim(),w.algorithm!=null&&Object.hasOwnProperty.call(w,"algorithm")&&g.onnx.GraphProto.encode(w.algorithm,m.uint32(18).fork()).ldelim(),w.initializationBinding!=null&&w.initializationBinding.length)for(var y=0;y<w.initializationBinding.length;++y)g.onnx.StringStringEntryProto.encode(w.initializationBinding[y],m.uint32(26).fork()).ldelim();if(w.updateBinding!=null&&w.updateBinding.length)for(var y=0;y<w.updateBinding.length;++y)g.onnx.StringStringEntryProto.encode(w.updateBinding[y],m.uint32(34).fork()).ldelim();return m},C.encodeDelimited=function(w,m){return this.encode(w,m).ldelim()},C.decode=function(w,m){w instanceof p||(w=p.create(w));for(var y=m===void 0?w.len:w.pos+m,e=new g.onnx.TrainingInfoProto;w.pos<y;){var P=w.uint32();switch(P>>>3){case 1:{e.initialization=g.onnx.GraphProto.decode(w,w.uint32());break}case 2:{e.algorithm=g.onnx.GraphProto.decode(w,w.uint32());break}case 3:{e.initializationBinding&&e.initializationBinding.length||(e.initializationBinding=[]),e.initializationBinding.push(g.onnx.StringStringEntryProto.decode(w,w.uint32()));break}case 4:{e.updateBinding&&e.updateBinding.length||(e.updateBinding=[]),e.updateBinding.push(g.onnx.StringStringEntryProto.decode(w,w.uint32()));break}default:w.skipType(P&7);break}}return e},C.decodeDelimited=function(w){return w instanceof p||(w=new p(w)),this.decode(w,w.uint32())},C.verify=function(w){if(typeof w!="object"||w===null)return"object expected";if(w.initialization!=null&&w.hasOwnProperty("initialization")){var m=g.onnx.GraphProto.verify(w.initialization);if(m)return"initialization."+m}if(w.algorithm!=null&&w.hasOwnProperty("algorithm")){var m=g.onnx.GraphProto.verify(w.algorithm);if(m)return"algorithm."+m}if(w.initializationBinding!=null&&w.hasOwnProperty("initializationBinding")){if(!Array.isArray(w.initializationBinding))return"initializationBinding: array expected";for(var y=0;y<w.initializationBinding.length;++y){var m=g.onnx.StringStringEntryProto.verify(w.initializationBinding[y]);if(m)return"initializationBinding."+m}}if(w.updateBinding!=null&&w.hasOwnProperty("updateBinding")){if(!Array.isArray(w.updateBinding))return"updateBinding: array expected";for(var y=0;y<w.updateBinding.length;++y){var m=g.onnx.StringStringEntryProto.verify(w.updateBinding[y]);if(m)return"updateBinding."+m}}return null},C.fromObject=function(w){if(w instanceof g.onnx.TrainingInfoProto)return w;var m=new g.onnx.TrainingInfoProto;if(w.initialization!=null){if(typeof w.initialization!="object")throw TypeError(".onnx.TrainingInfoProto.initialization: object expected");m.initialization=g.onnx.GraphProto.fromObject(w.initialization)}if(w.algorithm!=null){if(typeof w.algorithm!="object")throw TypeError(".onnx.TrainingInfoProto.algorithm: object expected");m.algorithm=g.onnx.GraphProto.fromObject(w.algorithm)}if(w.initializationBinding){if(!Array.isArray(w.initializationBinding))throw TypeError(".onnx.TrainingInfoProto.initializationBinding: array expected");m.initializationBinding=[];for(var y=0;y<w.initializationBinding.length;++y){if(typeof w.initializationBinding[y]!="object")throw TypeError(".onnx.TrainingInfoProto.initializationBinding: object expected");m.initializationBinding[y]=g.onnx.StringStringEntryProto.fromObject(w.initializationBinding[y])}}if(w.updateBinding){if(!Array.isArray(w.updateBinding))throw TypeError(".onnx.TrainingInfoProto.updateBinding: array expected");m.updateBinding=[];for(var y=0;y<w.updateBinding.length;++y){if(typeof w.updateBinding[y]!="object")throw TypeError(".onnx.TrainingInfoProto.updateBinding: object expected");m.updateBinding[y]=g.onnx.StringStringEntryProto.fromObject(w.updateBinding[y])}}return m},C.toObject=function(w,m){m||(m={});var y={};if((m.arrays||m.defaults)&&(y.initializationBinding=[],y.updateBinding=[]),m.defaults&&(y.initialization=null,y.algorithm=null),w.initialization!=null&&w.hasOwnProperty("initialization")&&(y.initialization=g.onnx.GraphProto.toObject(w.initialization,m)),w.algorithm!=null&&w.hasOwnProperty("algorithm")&&(y.algorithm=g.onnx.GraphProto.toObject(w.algorithm,m)),w.initializationBinding&&w.initializationBinding.length){y.initializationBinding=[];for(var e=0;e<w.initializationBinding.length;++e)y.initializationBinding[e]=g.onnx.StringStringEntryProto.toObject(w.initializationBinding[e],m)}if(w.updateBinding&&w.updateBinding.length){y.updateBinding=[];for(var e=0;e<w.updateBinding.length;++e)y.updateBinding[e]=g.onnx.StringStringEntryProto.toObject(w.updateBinding[e],m)}return y},C.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},C.getTypeUrl=function(w){return w===void 0&&(w="type.googleapis.com"),w+"/onnx.TrainingInfoProto"},C}(),_.ModelProto=function(){function C(E){if(this.opsetImport=[],this.metadataProps=[],this.trainingInfo=[],this.functions=[],E)for(var w=Object.keys(E),m=0;m<w.length;++m)E[w[m]]!=null&&(this[w[m]]=E[w[m]])}return C.prototype.irVersion=d.Long?d.Long.fromBits(0,0,!1):0,C.prototype.opsetImport=d.emptyArray,C.prototype.producerName="",C.prototype.producerVersion="",C.prototype.domain="",C.prototype.modelVersion=d.Long?d.Long.fromBits(0,0,!1):0,C.prototype.docString="",C.prototype.graph=null,C.prototype.metadataProps=d.emptyArray,C.prototype.trainingInfo=d.emptyArray,C.prototype.functions=d.emptyArray,C.create=function(w){return new C(w)},C.encode=function(w,m){if(m||(m=v.create()),w.irVersion!=null&&Object.hasOwnProperty.call(w,"irVersion")&&m.uint32(8).int64(w.irVersion),w.producerName!=null&&Object.hasOwnProperty.call(w,"producerName")&&m.uint32(18).string(w.producerName),w.producerVersion!=null&&Object.hasOwnProperty.call(w,"producerVersion")&&m.uint32(26).string(w.producerVersion),w.domain!=null&&Object.hasOwnProperty.call(w,"domain")&&m.uint32(34).string(w.domain),w.modelVersion!=null&&Object.hasOwnProperty.call(w,"modelVersion")&&m.uint32(40).int64(w.modelVersion),w.docString!=null&&Object.hasOwnProperty.call(w,"docString")&&m.uint32(50).string(w.docString),w.graph!=null&&Object.hasOwnProperty.call(w,"graph")&&g.onnx.GraphProto.encode(w.graph,m.uint32(58).fork()).ldelim(),w.opsetImport!=null&&w.opsetImport.length)for(var y=0;y<w.opsetImport.length;++y)g.onnx.OperatorSetIdProto.encode(w.opsetImport[y],m.uint32(66).fork()).ldelim();if(w.metadataProps!=null&&w.metadataProps.length)for(var y=0;y<w.metadataProps.length;++y)g.onnx.StringStringEntryProto.encode(w.metadataProps[y],m.uint32(114).fork()).ldelim();if(w.trainingInfo!=null&&w.trainingInfo.length)for(var y=0;y<w.trainingInfo.length;++y)g.onnx.TrainingInfoProto.encode(w.trainingInfo[y],m.uint32(162).fork()).ldelim();if(w.functions!=null&&w.functions.length)for(var y=0;y<w.functions.length;++y)g.onnx.FunctionProto.encode(w.functions[y],m.uint32(202).fork()).ldelim();return m},C.encodeDelimited=function(w,m){return this.encode(w,m).ldelim()},C.decode=function(w,m){w instanceof p||(w=p.create(w));for(var y=m===void 0?w.len:w.pos+m,e=new g.onnx.ModelProto;w.pos<y;){var P=w.uint32();switch(P>>>3){case 1:{e.irVersion=w.int64();break}case 8:{e.opsetImport&&e.opsetImport.length||(e.opsetImport=[]),e.opsetImport.push(g.onnx.OperatorSetIdProto.decode(w,w.uint32()));break}case 2:{e.producerName=w.string();break}case 3:{e.producerVersion=w.string();break}case 4:{e.domain=w.string();break}case 5:{e.modelVersion=w.int64();break}case 6:{e.docString=w.string();break}case 7:{e.graph=g.onnx.GraphProto.decode(w,w.uint32());break}case 14:{e.metadataProps&&e.metadataProps.length||(e.metadataProps=[]),e.metadataProps.push(g.onnx.StringStringEntryProto.decode(w,w.uint32()));break}case 20:{e.trainingInfo&&e.trainingInfo.length||(e.trainingInfo=[]),e.trainingInfo.push(g.onnx.TrainingInfoProto.decode(w,w.uint32()));break}case 25:{e.functions&&e.functions.length||(e.functions=[]),e.functions.push(g.onnx.FunctionProto.decode(w,w.uint32()));break}default:w.skipType(P&7);break}}return e},C.decodeDelimited=function(w){return w instanceof p||(w=new p(w)),this.decode(w,w.uint32())},C.verify=function(w){if(typeof w!="object"||w===null)return"object expected";if(w.irVersion!=null&&w.hasOwnProperty("irVersion")&&!d.isInteger(w.irVersion)&&!(w.irVersion&&d.isInteger(w.irVersion.low)&&d.isInteger(w.irVersion.high)))return"irVersion: integer|Long expected";if(w.opsetImport!=null&&w.hasOwnProperty("opsetImport")){if(!Array.isArray(w.opsetImport))return"opsetImport: array expected";for(var m=0;m<w.opsetImport.length;++m){var y=g.onnx.OperatorSetIdProto.verify(w.opsetImport[m]);if(y)return"opsetImport."+y}}if(w.producerName!=null&&w.hasOwnProperty("producerName")&&!d.isString(w.producerName))return"producerName: string expected";if(w.producerVersion!=null&&w.hasOwnProperty("producerVersion")&&!d.isString(w.producerVersion))return"producerVersion: string expected";if(w.domain!=null&&w.hasOwnProperty("domain")&&!d.isString(w.domain))return"domain: string expected";if(w.modelVersion!=null&&w.hasOwnProperty("modelVersion")&&!d.isInteger(w.modelVersion)&&!(w.modelVersion&&d.isInteger(w.modelVersion.low)&&d.isInteger(w.modelVersion.high)))return"modelVersion: integer|Long expected";if(w.docString!=null&&w.hasOwnProperty("docString")&&!d.isString(w.docString))return"docString: string expected";if(w.graph!=null&&w.hasOwnProperty("graph")){var y=g.onnx.GraphProto.verify(w.graph);if(y)return"graph."+y}if(w.metadataProps!=null&&w.hasOwnProperty("metadataProps")){if(!Array.isArray(w.metadataProps))return"metadataProps: array expected";for(var m=0;m<w.metadataProps.length;++m){var y=g.onnx.StringStringEntryProto.verify(w.metadataProps[m]);if(y)return"metadataProps."+y}}if(w.trainingInfo!=null&&w.hasOwnProperty("trainingInfo")){if(!Array.isArray(w.trainingInfo))return"trainingInfo: array expected";for(var m=0;m<w.trainingInfo.length;++m){var y=g.onnx.TrainingInfoProto.verify(w.trainingInfo[m]);if(y)return"trainingInfo."+y}}if(w.functions!=null&&w.hasOwnProperty("functions")){if(!Array.isArray(w.functions))return"functions: array expected";for(var m=0;m<w.functions.length;++m){var y=g.onnx.FunctionProto.verify(w.functions[m]);if(y)return"functions."+y}}return null},C.fromObject=function(w){if(w instanceof g.onnx.ModelProto)return w;var m=new g.onnx.ModelProto;if(w.irVersion!=null&&(d.Long?(m.irVersion=d.Long.fromValue(w.irVersion)).unsigned=!1:typeof w.irVersion=="string"?m.irVersion=parseInt(w.irVersion,10):typeof w.irVersion=="number"?m.irVersion=w.irVersion:typeof w.irVersion=="object"&&(m.irVersion=new d.LongBits(w.irVersion.low>>>0,w.irVersion.high>>>0).toNumber())),w.opsetImport){if(!Array.isArray(w.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");m.opsetImport=[];for(var y=0;y<w.opsetImport.length;++y){if(typeof w.opsetImport[y]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");m.opsetImport[y]=g.onnx.OperatorSetIdProto.fromObject(w.opsetImport[y])}}if(w.producerName!=null&&(m.producerName=String(w.producerName)),w.producerVersion!=null&&(m.producerVersion=String(w.producerVersion)),w.domain!=null&&(m.domain=String(w.domain)),w.modelVersion!=null&&(d.Long?(m.modelVersion=d.Long.fromValue(w.modelVersion)).unsigned=!1:typeof w.modelVersion=="string"?m.modelVersion=parseInt(w.modelVersion,10):typeof w.modelVersion=="number"?m.modelVersion=w.modelVersion:typeof w.modelVersion=="object"&&(m.modelVersion=new d.LongBits(w.modelVersion.low>>>0,w.modelVersion.high>>>0).toNumber())),w.docString!=null&&(m.docString=String(w.docString)),w.graph!=null){if(typeof w.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");m.graph=g.onnx.GraphProto.fromObject(w.graph)}if(w.metadataProps){if(!Array.isArray(w.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");m.metadataProps=[];for(var y=0;y<w.metadataProps.length;++y){if(typeof w.metadataProps[y]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");m.metadataProps[y]=g.onnx.StringStringEntryProto.fromObject(w.metadataProps[y])}}if(w.trainingInfo){if(!Array.isArray(w.trainingInfo))throw TypeError(".onnx.ModelProto.trainingInfo: array expected");m.trainingInfo=[];for(var y=0;y<w.trainingInfo.length;++y){if(typeof w.trainingInfo[y]!="object")throw TypeError(".onnx.ModelProto.trainingInfo: object expected");m.trainingInfo[y]=g.onnx.TrainingInfoProto.fromObject(w.trainingInfo[y])}}if(w.functions){if(!Array.isArray(w.functions))throw TypeError(".onnx.ModelProto.functions: array expected");m.functions=[];for(var y=0;y<w.functions.length;++y){if(typeof w.functions[y]!="object")throw TypeError(".onnx.ModelProto.functions: object expected");m.functions[y]=g.onnx.FunctionProto.fromObject(w.functions[y])}}return m},C.toObject=function(w,m){m||(m={});var y={};if((m.arrays||m.defaults)&&(y.opsetImport=[],y.metadataProps=[],y.trainingInfo=[],y.functions=[]),m.defaults){if(d.Long){var e=new d.Long(0,0,!1);y.irVersion=m.longs===String?e.toString():m.longs===Number?e.toNumber():e}else y.irVersion=m.longs===String?"0":0;if(y.producerName="",y.producerVersion="",y.domain="",d.Long){var e=new d.Long(0,0,!1);y.modelVersion=m.longs===String?e.toString():m.longs===Number?e.toNumber():e}else y.modelVersion=m.longs===String?"0":0;y.docString="",y.graph=null}if(w.irVersion!=null&&w.hasOwnProperty("irVersion")&&(typeof w.irVersion=="number"?y.irVersion=m.longs===String?String(w.irVersion):w.irVersion:y.irVersion=m.longs===String?d.Long.prototype.toString.call(w.irVersion):m.longs===Number?new d.LongBits(w.irVersion.low>>>0,w.irVersion.high>>>0).toNumber():w.irVersion),w.producerName!=null&&w.hasOwnProperty("producerName")&&(y.producerName=w.producerName),w.producerVersion!=null&&w.hasOwnProperty("producerVersion")&&(y.producerVersion=w.producerVersion),w.domain!=null&&w.hasOwnProperty("domain")&&(y.domain=w.domain),w.modelVersion!=null&&w.hasOwnProperty("modelVersion")&&(typeof w.modelVersion=="number"?y.modelVersion=m.longs===String?String(w.modelVersion):w.modelVersion:y.modelVersion=m.longs===String?d.Long.prototype.toString.call(w.modelVersion):m.longs===Number?new d.LongBits(w.modelVersion.low>>>0,w.modelVersion.high>>>0).toNumber():w.modelVersion),w.docString!=null&&w.hasOwnProperty("docString")&&(y.docString=w.docString),w.graph!=null&&w.hasOwnProperty("graph")&&(y.graph=g.onnx.GraphProto.toObject(w.graph,m)),w.opsetImport&&w.opsetImport.length){y.opsetImport=[];for(var P=0;P<w.opsetImport.length;++P)y.opsetImport[P]=g.onnx.OperatorSetIdProto.toObject(w.opsetImport[P],m)}if(w.metadataProps&&w.metadataProps.length){y.metadataProps=[];for(var P=0;P<w.metadataProps.length;++P)y.metadataProps[P]=g.onnx.StringStringEntryProto.toObject(w.metadataProps[P],m)}if(w.trainingInfo&&w.trainingInfo.length){y.trainingInfo=[];for(var P=0;P<w.trainingInfo.length;++P)y.trainingInfo[P]=g.onnx.TrainingInfoProto.toObject(w.trainingInfo[P],m)}if(w.functions&&w.functions.length){y.functions=[];for(var P=0;P<w.functions.length;++P)y.functions[P]=g.onnx.FunctionProto.toObject(w.functions[P],m)}return y},C.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},C.getTypeUrl=function(w){return w===void 0&&(w="type.googleapis.com"),w+"/onnx.ModelProto"},C}(),_.StringStringEntryProto=function(){function C(E){if(E)for(var w=Object.keys(E),m=0;m<w.length;++m)E[w[m]]!=null&&(this[w[m]]=E[w[m]])}return C.prototype.key="",C.prototype.value="",C.create=function(w){return new C(w)},C.encode=function(w,m){return m||(m=v.create()),w.key!=null&&Object.hasOwnProperty.call(w,"key")&&m.uint32(10).string(w.key),w.value!=null&&Object.hasOwnProperty.call(w,"value")&&m.uint32(18).string(w.value),m},C.encodeDelimited=function(w,m){return this.encode(w,m).ldelim()},C.decode=function(w,m){w instanceof p||(w=p.create(w));for(var y=m===void 0?w.len:w.pos+m,e=new g.onnx.StringStringEntryProto;w.pos<y;){var P=w.uint32();switch(P>>>3){case 1:{e.key=w.string();break}case 2:{e.value=w.string();break}default:w.skipType(P&7);break}}return e},C.decodeDelimited=function(w){return w instanceof p||(w=new p(w)),this.decode(w,w.uint32())},C.verify=function(w){return typeof w!="object"||w===null?"object expected":w.key!=null&&w.hasOwnProperty("key")&&!d.isString(w.key)?"key: string expected":w.value!=null&&w.hasOwnProperty("value")&&!d.isString(w.value)?"value: string expected":null},C.fromObject=function(w){if(w instanceof g.onnx.StringStringEntryProto)return w;var m=new g.onnx.StringStringEntryProto;return w.key!=null&&(m.key=String(w.key)),w.value!=null&&(m.value=String(w.value)),m},C.toObject=function(w,m){m||(m={});var y={};return m.defaults&&(y.key="",y.value=""),w.key!=null&&w.hasOwnProperty("key")&&(y.key=w.key),w.value!=null&&w.hasOwnProperty("value")&&(y.value=w.value),y},C.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},C.getTypeUrl=function(w){return w===void 0&&(w="type.googleapis.com"),w+"/onnx.StringStringEntryProto"},C}(),_.TensorAnnotation=function(){function C(E){if(this.quantParameterTensorNames=[],E)for(var w=Object.keys(E),m=0;m<w.length;++m)E[w[m]]!=null&&(this[w[m]]=E[w[m]])}return C.prototype.tensorName="",C.prototype.quantParameterTensorNames=d.emptyArray,C.create=function(w){return new C(w)},C.encode=function(w,m){if(m||(m=v.create()),w.tensorName!=null&&Object.hasOwnProperty.call(w,"tensorName")&&m.uint32(10).string(w.tensorName),w.quantParameterTensorNames!=null&&w.quantParameterTensorNames.length)for(var y=0;y<w.quantParameterTensorNames.length;++y)g.onnx.StringStringEntryProto.encode(w.quantParameterTensorNames[y],m.uint32(18).fork()).ldelim();return m},C.encodeDelimited=function(w,m){return this.encode(w,m).ldelim()},C.decode=function(w,m){w instanceof p||(w=p.create(w));for(var y=m===void 0?w.len:w.pos+m,e=new g.onnx.TensorAnnotation;w.pos<y;){var P=w.uint32();switch(P>>>3){case 1:{e.tensorName=w.string();break}case 2:{e.quantParameterTensorNames&&e.quantParameterTensorNames.length||(e.quantParameterTensorNames=[]),e.quantParameterTensorNames.push(g.onnx.StringStringEntryProto.decode(w,w.uint32()));break}default:w.skipType(P&7);break}}return e},C.decodeDelimited=function(w){return w instanceof p||(w=new p(w)),this.decode(w,w.uint32())},C.verify=function(w){if(typeof w!="object"||w===null)return"object expected";if(w.tensorName!=null&&w.hasOwnProperty("tensorName")&&!d.isString(w.tensorName))return"tensorName: string expected";if(w.quantParameterTensorNames!=null&&w.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(w.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var m=0;m<w.quantParameterTensorNames.length;++m){var y=g.onnx.StringStringEntryProto.verify(w.quantParameterTensorNames[m]);if(y)return"quantParameterTensorNames."+y}}return null},C.fromObject=function(w){if(w instanceof g.onnx.TensorAnnotation)return w;var m=new g.onnx.TensorAnnotation;if(w.tensorName!=null&&(m.tensorName=String(w.tensorName)),w.quantParameterTensorNames){if(!Array.isArray(w.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");m.quantParameterTensorNames=[];for(var y=0;y<w.quantParameterTensorNames.length;++y){if(typeof w.quantParameterTensorNames[y]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");m.quantParameterTensorNames[y]=g.onnx.StringStringEntryProto.fromObject(w.quantParameterTensorNames[y])}}return m},C.toObject=function(w,m){m||(m={});var y={};if((m.arrays||m.defaults)&&(y.quantParameterTensorNames=[]),m.defaults&&(y.tensorName=""),w.tensorName!=null&&w.hasOwnProperty("tensorName")&&(y.tensorName=w.tensorName),w.quantParameterTensorNames&&w.quantParameterTensorNames.length){y.quantParameterTensorNames=[];for(var e=0;e<w.quantParameterTensorNames.length;++e)y.quantParameterTensorNames[e]=g.onnx.StringStringEntryProto.toObject(w.quantParameterTensorNames[e],m)}return y},C.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},C.getTypeUrl=function(w){return w===void 0&&(w="type.googleapis.com"),w+"/onnx.TensorAnnotation"},C}(),_.GraphProto=function(){function C(E){if(this.node=[],this.initializer=[],this.sparseInitializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],E)for(var w=Object.keys(E),m=0;m<w.length;++m)E[w[m]]!=null&&(this[w[m]]=E[w[m]])}return C.prototype.node=d.emptyArray,C.prototype.name="",C.prototype.initializer=d.emptyArray,C.prototype.sparseInitializer=d.emptyArray,C.prototype.docString="",C.prototype.input=d.emptyArray,C.prototype.output=d.emptyArray,C.prototype.valueInfo=d.emptyArray,C.prototype.quantizationAnnotation=d.emptyArray,C.create=function(w){return new C(w)},C.encode=function(w,m){if(m||(m=v.create()),w.node!=null&&w.node.length)for(var y=0;y<w.node.length;++y)g.onnx.NodeProto.encode(w.node[y],m.uint32(10).fork()).ldelim();if(w.name!=null&&Object.hasOwnProperty.call(w,"name")&&m.uint32(18).string(w.name),w.initializer!=null&&w.initializer.length)for(var y=0;y<w.initializer.length;++y)g.onnx.TensorProto.encode(w.initializer[y],m.uint32(42).fork()).ldelim();if(w.docString!=null&&Object.hasOwnProperty.call(w,"docString")&&m.uint32(82).string(w.docString),w.input!=null&&w.input.length)for(var y=0;y<w.input.length;++y)g.onnx.ValueInfoProto.encode(w.input[y],m.uint32(90).fork()).ldelim();if(w.output!=null&&w.output.length)for(var y=0;y<w.output.length;++y)g.onnx.ValueInfoProto.encode(w.output[y],m.uint32(98).fork()).ldelim();if(w.valueInfo!=null&&w.valueInfo.length)for(var y=0;y<w.valueInfo.length;++y)g.onnx.ValueInfoProto.encode(w.valueInfo[y],m.uint32(106).fork()).ldelim();if(w.quantizationAnnotation!=null&&w.quantizationAnnotation.length)for(var y=0;y<w.quantizationAnnotation.length;++y)g.onnx.TensorAnnotation.encode(w.quantizationAnnotation[y],m.uint32(114).fork()).ldelim();if(w.sparseInitializer!=null&&w.sparseInitializer.length)for(var y=0;y<w.sparseInitializer.length;++y)g.onnx.SparseTensorProto.encode(w.sparseInitializer[y],m.uint32(122).fork()).ldelim();return m},C.encodeDelimited=function(w,m){return this.encode(w,m).ldelim()},C.decode=function(w,m){w instanceof p||(w=p.create(w));for(var y=m===void 0?w.len:w.pos+m,e=new g.onnx.GraphProto;w.pos<y;){var P=w.uint32();switch(P>>>3){case 1:{e.node&&e.node.length||(e.node=[]),e.node.push(g.onnx.NodeProto.decode(w,w.uint32()));break}case 2:{e.name=w.string();break}case 5:{e.initializer&&e.initializer.length||(e.initializer=[]),e.initializer.push(g.onnx.TensorProto.decode(w,w.uint32()));break}case 15:{e.sparseInitializer&&e.sparseInitializer.length||(e.sparseInitializer=[]),e.sparseInitializer.push(g.onnx.SparseTensorProto.decode(w,w.uint32()));break}case 10:{e.docString=w.string();break}case 11:{e.input&&e.input.length||(e.input=[]),e.input.push(g.onnx.ValueInfoProto.decode(w,w.uint32()));break}case 12:{e.output&&e.output.length||(e.output=[]),e.output.push(g.onnx.ValueInfoProto.decode(w,w.uint32()));break}case 13:{e.valueInfo&&e.valueInfo.length||(e.valueInfo=[]),e.valueInfo.push(g.onnx.ValueInfoProto.decode(w,w.uint32()));break}case 14:{e.quantizationAnnotation&&e.quantizationAnnotation.length||(e.quantizationAnnotation=[]),e.quantizationAnnotation.push(g.onnx.TensorAnnotation.decode(w,w.uint32()));break}default:w.skipType(P&7);break}}return e},C.decodeDelimited=function(w){return w instanceof p||(w=new p(w)),this.decode(w,w.uint32())},C.verify=function(w){if(typeof w!="object"||w===null)return"object expected";if(w.node!=null&&w.hasOwnProperty("node")){if(!Array.isArray(w.node))return"node: array expected";for(var m=0;m<w.node.length;++m){var y=g.onnx.NodeProto.verify(w.node[m]);if(y)return"node."+y}}if(w.name!=null&&w.hasOwnProperty("name")&&!d.isString(w.name))return"name: string expected";if(w.initializer!=null&&w.hasOwnProperty("initializer")){if(!Array.isArray(w.initializer))return"initializer: array expected";for(var m=0;m<w.initializer.length;++m){var y=g.onnx.TensorProto.verify(w.initializer[m]);if(y)return"initializer."+y}}if(w.sparseInitializer!=null&&w.hasOwnProperty("sparseInitializer")){if(!Array.isArray(w.sparseInitializer))return"sparseInitializer: array expected";for(var m=0;m<w.sparseInitializer.length;++m){var y=g.onnx.SparseTensorProto.verify(w.sparseInitializer[m]);if(y)return"sparseInitializer."+y}}if(w.docString!=null&&w.hasOwnProperty("docString")&&!d.isString(w.docString))return"docString: string expected";if(w.input!=null&&w.hasOwnProperty("input")){if(!Array.isArray(w.input))return"input: array expected";for(var m=0;m<w.input.length;++m){var y=g.onnx.ValueInfoProto.verify(w.input[m]);if(y)return"input."+y}}if(w.output!=null&&w.hasOwnProperty("output")){if(!Array.isArray(w.output))return"output: array expected";for(var m=0;m<w.output.length;++m){var y=g.onnx.ValueInfoProto.verify(w.output[m]);if(y)return"output."+y}}if(w.valueInfo!=null&&w.hasOwnProperty("valueInfo")){if(!Array.isArray(w.valueInfo))return"valueInfo: array expected";for(var m=0;m<w.valueInfo.length;++m){var y=g.onnx.ValueInfoProto.verify(w.valueInfo[m]);if(y)return"valueInfo."+y}}if(w.quantizationAnnotation!=null&&w.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(w.quantizationAnnotation))return"quantizationAnnotation: array expected";for(var m=0;m<w.quantizationAnnotation.length;++m){var y=g.onnx.TensorAnnotation.verify(w.quantizationAnnotation[m]);if(y)return"quantizationAnnotation."+y}}return null},C.fromObject=function(w){if(w instanceof g.onnx.GraphProto)return w;var m=new g.onnx.GraphProto;if(w.node){if(!Array.isArray(w.node))throw TypeError(".onnx.GraphProto.node: array expected");m.node=[];for(var y=0;y<w.node.length;++y){if(typeof w.node[y]!="object")throw TypeError(".onnx.GraphProto.node: object expected");m.node[y]=g.onnx.NodeProto.fromObject(w.node[y])}}if(w.name!=null&&(m.name=String(w.name)),w.initializer){if(!Array.isArray(w.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");m.initializer=[];for(var y=0;y<w.initializer.length;++y){if(typeof w.initializer[y]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");m.initializer[y]=g.onnx.TensorProto.fromObject(w.initializer[y])}}if(w.sparseInitializer){if(!Array.isArray(w.sparseInitializer))throw TypeError(".onnx.GraphProto.sparseInitializer: array expected");m.sparseInitializer=[];for(var y=0;y<w.sparseInitializer.length;++y){if(typeof w.sparseInitializer[y]!="object")throw TypeError(".onnx.GraphProto.sparseInitializer: object expected");m.sparseInitializer[y]=g.onnx.SparseTensorProto.fromObject(w.sparseInitializer[y])}}if(w.docString!=null&&(m.docString=String(w.docString)),w.input){if(!Array.isArray(w.input))throw TypeError(".onnx.GraphProto.input: array expected");m.input=[];for(var y=0;y<w.input.length;++y){if(typeof w.input[y]!="object")throw TypeError(".onnx.GraphProto.input: object expected");m.input[y]=g.onnx.ValueInfoProto.fromObject(w.input[y])}}if(w.output){if(!Array.isArray(w.output))throw TypeError(".onnx.GraphProto.output: array expected");m.output=[];for(var y=0;y<w.output.length;++y){if(typeof w.output[y]!="object")throw TypeError(".onnx.GraphProto.output: object expected");m.output[y]=g.onnx.ValueInfoProto.fromObject(w.output[y])}}if(w.valueInfo){if(!Array.isArray(w.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");m.valueInfo=[];for(var y=0;y<w.valueInfo.length;++y){if(typeof w.valueInfo[y]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");m.valueInfo[y]=g.onnx.ValueInfoProto.fromObject(w.valueInfo[y])}}if(w.quantizationAnnotation){if(!Array.isArray(w.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");m.quantizationAnnotation=[];for(var y=0;y<w.quantizationAnnotation.length;++y){if(typeof w.quantizationAnnotation[y]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");m.quantizationAnnotation[y]=g.onnx.TensorAnnotation.fromObject(w.quantizationAnnotation[y])}}return m},C.toObject=function(w,m){m||(m={});var y={};if((m.arrays||m.defaults)&&(y.node=[],y.initializer=[],y.input=[],y.output=[],y.valueInfo=[],y.quantizationAnnotation=[],y.sparseInitializer=[]),m.defaults&&(y.name="",y.docString=""),w.node&&w.node.length){y.node=[];for(var e=0;e<w.node.length;++e)y.node[e]=g.onnx.NodeProto.toObject(w.node[e],m)}if(w.name!=null&&w.hasOwnProperty("name")&&(y.name=w.name),w.initializer&&w.initializer.length){y.initializer=[];for(var e=0;e<w.initializer.length;++e)y.initializer[e]=g.onnx.TensorProto.toObject(w.initializer[e],m)}if(w.docString!=null&&w.hasOwnProperty("docString")&&(y.docString=w.docString),w.input&&w.input.length){y.input=[];for(var e=0;e<w.input.length;++e)y.input[e]=g.onnx.ValueInfoProto.toObject(w.input[e],m)}if(w.output&&w.output.length){y.output=[];for(var e=0;e<w.output.length;++e)y.output[e]=g.onnx.ValueInfoProto.toObject(w.output[e],m)}if(w.valueInfo&&w.valueInfo.length){y.valueInfo=[];for(var e=0;e<w.valueInfo.length;++e)y.valueInfo[e]=g.onnx.ValueInfoProto.toObject(w.valueInfo[e],m)}if(w.quantizationAnnotation&&w.quantizationAnnotation.length){y.quantizationAnnotation=[];for(var e=0;e<w.quantizationAnnotation.length;++e)y.quantizationAnnotation[e]=g.onnx.TensorAnnotation.toObject(w.quantizationAnnotation[e],m)}if(w.sparseInitializer&&w.sparseInitializer.length){y.sparseInitializer=[];for(var e=0;e<w.sparseInitializer.length;++e)y.sparseInitializer[e]=g.onnx.SparseTensorProto.toObject(w.sparseInitializer[e],m)}return y},C.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},C.getTypeUrl=function(w){return w===void 0&&(w="type.googleapis.com"),w+"/onnx.GraphProto"},C}(),_.TensorProto=function(){function C(E){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],E)for(var w=Object.keys(E),m=0;m<w.length;++m)E[w[m]]!=null&&(this[w[m]]=E[w[m]])}return C.prototype.dims=d.emptyArray,C.prototype.dataType=0,C.prototype.segment=null,C.prototype.floatData=d.emptyArray,C.prototype.int32Data=d.emptyArray,C.prototype.stringData=d.emptyArray,C.prototype.int64Data=d.emptyArray,C.prototype.name="",C.prototype.docString="",C.prototype.rawData=d.newBuffer([]),C.prototype.externalData=d.emptyArray,C.prototype.dataLocation=0,C.prototype.doubleData=d.emptyArray,C.prototype.uint64Data=d.emptyArray,C.create=function(w){return new C(w)},C.encode=function(w,m){if(m||(m=v.create()),w.dims!=null&&w.dims.length){m.uint32(10).fork();for(var y=0;y<w.dims.length;++y)m.int64(w.dims[y]);m.ldelim()}if(w.dataType!=null&&Object.hasOwnProperty.call(w,"dataType")&&m.uint32(16).int32(w.dataType),w.segment!=null&&Object.hasOwnProperty.call(w,"segment")&&g.onnx.TensorProto.Segment.encode(w.segment,m.uint32(26).fork()).ldelim(),w.floatData!=null&&w.floatData.length){m.uint32(34).fork();for(var y=0;y<w.floatData.length;++y)m.float(w.floatData[y]);m.ldelim()}if(w.int32Data!=null&&w.int32Data.length){m.uint32(42).fork();for(var y=0;y<w.int32Data.length;++y)m.int32(w.int32Data[y]);m.ldelim()}if(w.stringData!=null&&w.stringData.length)for(var y=0;y<w.stringData.length;++y)m.uint32(50).bytes(w.stringData[y]);if(w.int64Data!=null&&w.int64Data.length){m.uint32(58).fork();for(var y=0;y<w.int64Data.length;++y)m.int64(w.int64Data[y]);m.ldelim()}if(w.name!=null&&Object.hasOwnProperty.call(w,"name")&&m.uint32(66).string(w.name),w.rawData!=null&&Object.hasOwnProperty.call(w,"rawData")&&m.uint32(74).bytes(w.rawData),w.doubleData!=null&&w.doubleData.length){m.uint32(82).fork();for(var y=0;y<w.doubleData.length;++y)m.double(w.doubleData[y]);m.ldelim()}if(w.uint64Data!=null&&w.uint64Data.length){m.uint32(90).fork();for(var y=0;y<w.uint64Data.length;++y)m.uint64(w.uint64Data[y]);m.ldelim()}if(w.docString!=null&&Object.hasOwnProperty.call(w,"docString")&&m.uint32(98).string(w.docString),w.externalData!=null&&w.externalData.length)for(var y=0;y<w.externalData.length;++y)g.onnx.StringStringEntryProto.encode(w.externalData[y],m.uint32(106).fork()).ldelim();return w.dataLocation!=null&&Object.hasOwnProperty.call(w,"dataLocation")&&m.uint32(112).int32(w.dataLocation),m},C.encodeDelimited=function(w,m){return this.encode(w,m).ldelim()},C.decode=function(w,m){w instanceof p||(w=p.create(w));for(var y=m===void 0?w.len:w.pos+m,e=new g.onnx.TensorProto;w.pos<y;){var P=w.uint32();switch(P>>>3){case 1:{if(e.dims&&e.dims.length||(e.dims=[]),(P&7)===2)for(var O=w.uint32()+w.pos;w.pos<O;)e.dims.push(w.int64());else e.dims.push(w.int64());break}case 2:{e.dataType=w.int32();break}case 3:{e.segment=g.onnx.TensorProto.Segment.decode(w,w.uint32());break}case 4:{if(e.floatData&&e.floatData.length||(e.floatData=[]),(P&7)===2)for(var O=w.uint32()+w.pos;w.pos<O;)e.floatData.push(w.float());else e.floatData.push(w.float());break}case 5:{if(e.int32Data&&e.int32Data.length||(e.int32Data=[]),(P&7)===2)for(var O=w.uint32()+w.pos;w.pos<O;)e.int32Data.push(w.int32());else e.int32Data.push(w.int32());break}case 6:{e.stringData&&e.stringData.length||(e.stringData=[]),e.stringData.push(w.bytes());break}case 7:{if(e.int64Data&&e.int64Data.length||(e.int64Data=[]),(P&7)===2)for(var O=w.uint32()+w.pos;w.pos<O;)e.int64Data.push(w.int64());else e.int64Data.push(w.int64());break}case 8:{e.name=w.string();break}case 12:{e.docString=w.string();break}case 9:{e.rawData=w.bytes();break}case 13:{e.externalData&&e.externalData.length||(e.externalData=[]),e.externalData.push(g.onnx.StringStringEntryProto.decode(w,w.uint32()));break}case 14:{e.dataLocation=w.int32();break}case 10:{if(e.doubleData&&e.doubleData.length||(e.doubleData=[]),(P&7)===2)for(var O=w.uint32()+w.pos;w.pos<O;)e.doubleData.push(w.double());else e.doubleData.push(w.double());break}case 11:{if(e.uint64Data&&e.uint64Data.length||(e.uint64Data=[]),(P&7)===2)for(var O=w.uint32()+w.pos;w.pos<O;)e.uint64Data.push(w.uint64());else e.uint64Data.push(w.uint64());break}default:w.skipType(P&7);break}}return e},C.decodeDelimited=function(w){return w instanceof p||(w=new p(w)),this.decode(w,w.uint32())},C.verify=function(w){if(typeof w!="object"||w===null)return"object expected";if(w.dims!=null&&w.hasOwnProperty("dims")){if(!Array.isArray(w.dims))return"dims: array expected";for(var m=0;m<w.dims.length;++m)if(!d.isInteger(w.dims[m])&&!(w.dims[m]&&d.isInteger(w.dims[m].low)&&d.isInteger(w.dims[m].high)))return"dims: integer|Long[] expected"}if(w.dataType!=null&&w.hasOwnProperty("dataType")&&!d.isInteger(w.dataType))return"dataType: integer expected";if(w.segment!=null&&w.hasOwnProperty("segment")){var y=g.onnx.TensorProto.Segment.verify(w.segment);if(y)return"segment."+y}if(w.floatData!=null&&w.hasOwnProperty("floatData")){if(!Array.isArray(w.floatData))return"floatData: array expected";for(var m=0;m<w.floatData.length;++m)if(typeof w.floatData[m]!="number")return"floatData: number[] expected"}if(w.int32Data!=null&&w.hasOwnProperty("int32Data")){if(!Array.isArray(w.int32Data))return"int32Data: array expected";for(var m=0;m<w.int32Data.length;++m)if(!d.isInteger(w.int32Data[m]))return"int32Data: integer[] expected"}if(w.stringData!=null&&w.hasOwnProperty("stringData")){if(!Array.isArray(w.stringData))return"stringData: array expected";for(var m=0;m<w.stringData.length;++m)if(!(w.stringData[m]&&typeof w.stringData[m].length=="number"||d.isString(w.stringData[m])))return"stringData: buffer[] expected"}if(w.int64Data!=null&&w.hasOwnProperty("int64Data")){if(!Array.isArray(w.int64Data))return"int64Data: array expected";for(var m=0;m<w.int64Data.length;++m)if(!d.isInteger(w.int64Data[m])&&!(w.int64Data[m]&&d.isInteger(w.int64Data[m].low)&&d.isInteger(w.int64Data[m].high)))return"int64Data: integer|Long[] expected"}if(w.name!=null&&w.hasOwnProperty("name")&&!d.isString(w.name))return"name: string expected";if(w.docString!=null&&w.hasOwnProperty("docString")&&!d.isString(w.docString))return"docString: string expected";if(w.rawData!=null&&w.hasOwnProperty("rawData")&&!(w.rawData&&typeof w.rawData.length=="number"||d.isString(w.rawData)))return"rawData: buffer expected";if(w.externalData!=null&&w.hasOwnProperty("externalData")){if(!Array.isArray(w.externalData))return"externalData: array expected";for(var m=0;m<w.externalData.length;++m){var y=g.onnx.StringStringEntryProto.verify(w.externalData[m]);if(y)return"externalData."+y}}if(w.dataLocation!=null&&w.hasOwnProperty("dataLocation"))switch(w.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:break}if(w.doubleData!=null&&w.hasOwnProperty("doubleData")){if(!Array.isArray(w.doubleData))return"doubleData: array expected";for(var m=0;m<w.doubleData.length;++m)if(typeof w.doubleData[m]!="number")return"doubleData: number[] expected"}if(w.uint64Data!=null&&w.hasOwnProperty("uint64Data")){if(!Array.isArray(w.uint64Data))return"uint64Data: array expected";for(var m=0;m<w.uint64Data.length;++m)if(!d.isInteger(w.uint64Data[m])&&!(w.uint64Data[m]&&d.isInteger(w.uint64Data[m].low)&&d.isInteger(w.uint64Data[m].high)))return"uint64Data: integer|Long[] expected"}return null},C.fromObject=function(w){if(w instanceof g.onnx.TensorProto)return w;var m=new g.onnx.TensorProto;if(w.dims){if(!Array.isArray(w.dims))throw TypeError(".onnx.TensorProto.dims: array expected");m.dims=[];for(var y=0;y<w.dims.length;++y)d.Long?(m.dims[y]=d.Long.fromValue(w.dims[y])).unsigned=!1:typeof w.dims[y]=="string"?m.dims[y]=parseInt(w.dims[y],10):typeof w.dims[y]=="number"?m.dims[y]=w.dims[y]:typeof w.dims[y]=="object"&&(m.dims[y]=new d.LongBits(w.dims[y].low>>>0,w.dims[y].high>>>0).toNumber())}if(w.dataType!=null&&(m.dataType=w.dataType|0),w.segment!=null){if(typeof w.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");m.segment=g.onnx.TensorProto.Segment.fromObject(w.segment)}if(w.floatData){if(!Array.isArray(w.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");m.floatData=[];for(var y=0;y<w.floatData.length;++y)m.floatData[y]=Number(w.floatData[y])}if(w.int32Data){if(!Array.isArray(w.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");m.int32Data=[];for(var y=0;y<w.int32Data.length;++y)m.int32Data[y]=w.int32Data[y]|0}if(w.stringData){if(!Array.isArray(w.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");m.stringData=[];for(var y=0;y<w.stringData.length;++y)typeof w.stringData[y]=="string"?d.base64.decode(w.stringData[y],m.stringData[y]=d.newBuffer(d.base64.length(w.stringData[y])),0):w.stringData[y].length>=0&&(m.stringData[y]=w.stringData[y])}if(w.int64Data){if(!Array.isArray(w.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");m.int64Data=[];for(var y=0;y<w.int64Data.length;++y)d.Long?(m.int64Data[y]=d.Long.fromValue(w.int64Data[y])).unsigned=!1:typeof w.int64Data[y]=="string"?m.int64Data[y]=parseInt(w.int64Data[y],10):typeof w.int64Data[y]=="number"?m.int64Data[y]=w.int64Data[y]:typeof w.int64Data[y]=="object"&&(m.int64Data[y]=new d.LongBits(w.int64Data[y].low>>>0,w.int64Data[y].high>>>0).toNumber())}if(w.name!=null&&(m.name=String(w.name)),w.docString!=null&&(m.docString=String(w.docString)),w.rawData!=null&&(typeof w.rawData=="string"?d.base64.decode(w.rawData,m.rawData=d.newBuffer(d.base64.length(w.rawData)),0):w.rawData.length>=0&&(m.rawData=w.rawData)),w.externalData){if(!Array.isArray(w.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");m.externalData=[];for(var y=0;y<w.externalData.length;++y){if(typeof w.externalData[y]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");m.externalData[y]=g.onnx.StringStringEntryProto.fromObject(w.externalData[y])}}switch(w.dataLocation){default:if(typeof w.dataLocation=="number"){m.dataLocation=w.dataLocation;break}break;case"DEFAULT":case 0:m.dataLocation=0;break;case"EXTERNAL":case 1:m.dataLocation=1;break}if(w.doubleData){if(!Array.isArray(w.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");m.doubleData=[];for(var y=0;y<w.doubleData.length;++y)m.doubleData[y]=Number(w.doubleData[y])}if(w.uint64Data){if(!Array.isArray(w.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");m.uint64Data=[];for(var y=0;y<w.uint64Data.length;++y)d.Long?(m.uint64Data[y]=d.Long.fromValue(w.uint64Data[y])).unsigned=!0:typeof w.uint64Data[y]=="string"?m.uint64Data[y]=parseInt(w.uint64Data[y],10):typeof w.uint64Data[y]=="number"?m.uint64Data[y]=w.uint64Data[y]:typeof w.uint64Data[y]=="object"&&(m.uint64Data[y]=new d.LongBits(w.uint64Data[y].low>>>0,w.uint64Data[y].high>>>0).toNumber(!0))}return m},C.toObject=function(w,m){m||(m={});var y={};if((m.arrays||m.defaults)&&(y.dims=[],y.floatData=[],y.int32Data=[],y.stringData=[],y.int64Data=[],y.doubleData=[],y.uint64Data=[],y.externalData=[]),m.defaults&&(y.dataType=0,y.segment=null,y.name="",m.bytes===String?y.rawData="":(y.rawData=[],m.bytes!==Array&&(y.rawData=d.newBuffer(y.rawData))),y.docString="",y.dataLocation=m.enums===String?"DEFAULT":0),w.dims&&w.dims.length){y.dims=[];for(var e=0;e<w.dims.length;++e)typeof w.dims[e]=="number"?y.dims[e]=m.longs===String?String(w.dims[e]):w.dims[e]:y.dims[e]=m.longs===String?d.Long.prototype.toString.call(w.dims[e]):m.longs===Number?new d.LongBits(w.dims[e].low>>>0,w.dims[e].high>>>0).toNumber():w.dims[e]}if(w.dataType!=null&&w.hasOwnProperty("dataType")&&(y.dataType=w.dataType),w.segment!=null&&w.hasOwnProperty("segment")&&(y.segment=g.onnx.TensorProto.Segment.toObject(w.segment,m)),w.floatData&&w.floatData.length){y.floatData=[];for(var e=0;e<w.floatData.length;++e)y.floatData[e]=m.json&&!isFinite(w.floatData[e])?String(w.floatData[e]):w.floatData[e]}if(w.int32Data&&w.int32Data.length){y.int32Data=[];for(var e=0;e<w.int32Data.length;++e)y.int32Data[e]=w.int32Data[e]}if(w.stringData&&w.stringData.length){y.stringData=[];for(var e=0;e<w.stringData.length;++e)y.stringData[e]=m.bytes===String?d.base64.encode(w.stringData[e],0,w.stringData[e].length):m.bytes===Array?Array.prototype.slice.call(w.stringData[e]):w.stringData[e]}if(w.int64Data&&w.int64Data.length){y.int64Data=[];for(var e=0;e<w.int64Data.length;++e)typeof w.int64Data[e]=="number"?y.int64Data[e]=m.longs===String?String(w.int64Data[e]):w.int64Data[e]:y.int64Data[e]=m.longs===String?d.Long.prototype.toString.call(w.int64Data[e]):m.longs===Number?new d.LongBits(w.int64Data[e].low>>>0,w.int64Data[e].high>>>0).toNumber():w.int64Data[e]}if(w.name!=null&&w.hasOwnProperty("name")&&(y.name=w.name),w.rawData!=null&&w.hasOwnProperty("rawData")&&(y.rawData=m.bytes===String?d.base64.encode(w.rawData,0,w.rawData.length):m.bytes===Array?Array.prototype.slice.call(w.rawData):w.rawData),w.doubleData&&w.doubleData.length){y.doubleData=[];for(var e=0;e<w.doubleData.length;++e)y.doubleData[e]=m.json&&!isFinite(w.doubleData[e])?String(w.doubleData[e]):w.doubleData[e]}if(w.uint64Data&&w.uint64Data.length){y.uint64Data=[];for(var e=0;e<w.uint64Data.length;++e)typeof w.uint64Data[e]=="number"?y.uint64Data[e]=m.longs===String?String(w.uint64Data[e]):w.uint64Data[e]:y.uint64Data[e]=m.longs===String?d.Long.prototype.toString.call(w.uint64Data[e]):m.longs===Number?new d.LongBits(w.uint64Data[e].low>>>0,w.uint64Data[e].high>>>0).toNumber(!0):w.uint64Data[e]}if(w.docString!=null&&w.hasOwnProperty("docString")&&(y.docString=w.docString),w.externalData&&w.externalData.length){y.externalData=[];for(var e=0;e<w.externalData.length;++e)y.externalData[e]=g.onnx.StringStringEntryProto.toObject(w.externalData[e],m)}return w.dataLocation!=null&&w.hasOwnProperty("dataLocation")&&(y.dataLocation=m.enums===String?g.onnx.TensorProto.DataLocation[w.dataLocation]===void 0?w.dataLocation:g.onnx.TensorProto.DataLocation[w.dataLocation]:w.dataLocation),y},C.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},C.getTypeUrl=function(w){return w===void 0&&(w="type.googleapis.com"),w+"/onnx.TensorProto"},C.DataType=function(){var E={},w=Object.create(E);return w[E[0]="UNDEFINED"]=0,w[E[1]="FLOAT"]=1,w[E[2]="UINT8"]=2,w[E[3]="INT8"]=3,w[E[4]="UINT16"]=4,w[E[5]="INT16"]=5,w[E[6]="INT32"]=6,w[E[7]="INT64"]=7,w[E[8]="STRING"]=8,w[E[9]="BOOL"]=9,w[E[10]="FLOAT16"]=10,w[E[11]="DOUBLE"]=11,w[E[12]="UINT32"]=12,w[E[13]="UINT64"]=13,w[E[14]="COMPLEX64"]=14,w[E[15]="COMPLEX128"]=15,w[E[16]="BFLOAT16"]=16,w[E[17]="FLOAT8E4M3FN"]=17,w[E[18]="FLOAT8E4M3FNUZ"]=18,w[E[19]="FLOAT8E5M2"]=19,w[E[20]="FLOAT8E5M2FNUZ"]=20,w}(),C.Segment=function(){function E(w){if(w)for(var m=Object.keys(w),y=0;y<m.length;++y)w[m[y]]!=null&&(this[m[y]]=w[m[y]])}return E.prototype.begin=d.Long?d.Long.fromBits(0,0,!1):0,E.prototype.end=d.Long?d.Long.fromBits(0,0,!1):0,E.create=function(m){return new E(m)},E.encode=function(m,y){return y||(y=v.create()),m.begin!=null&&Object.hasOwnProperty.call(m,"begin")&&y.uint32(8).int64(m.begin),m.end!=null&&Object.hasOwnProperty.call(m,"end")&&y.uint32(16).int64(m.end),y},E.encodeDelimited=function(m,y){return this.encode(m,y).ldelim()},E.decode=function(m,y){m instanceof p||(m=p.create(m));for(var e=y===void 0?m.len:m.pos+y,P=new g.onnx.TensorProto.Segment;m.pos<e;){var O=m.uint32();switch(O>>>3){case 1:{P.begin=m.int64();break}case 2:{P.end=m.int64();break}default:m.skipType(O&7);break}}return P},E.decodeDelimited=function(m){return m instanceof p||(m=new p(m)),this.decode(m,m.uint32())},E.verify=function(m){return typeof m!="object"||m===null?"object expected":m.begin!=null&&m.hasOwnProperty("begin")&&!d.isInteger(m.begin)&&!(m.begin&&d.isInteger(m.begin.low)&&d.isInteger(m.begin.high))?"begin: integer|Long expected":m.end!=null&&m.hasOwnProperty("end")&&!d.isInteger(m.end)&&!(m.end&&d.isInteger(m.end.low)&&d.isInteger(m.end.high))?"end: integer|Long expected":null},E.fromObject=function(m){if(m instanceof g.onnx.TensorProto.Segment)return m;var y=new g.onnx.TensorProto.Segment;return m.begin!=null&&(d.Long?(y.begin=d.Long.fromValue(m.begin)).unsigned=!1:typeof m.begin=="string"?y.begin=parseInt(m.begin,10):typeof m.begin=="number"?y.begin=m.begin:typeof m.begin=="object"&&(y.begin=new d.LongBits(m.begin.low>>>0,m.begin.high>>>0).toNumber())),m.end!=null&&(d.Long?(y.end=d.Long.fromValue(m.end)).unsigned=!1:typeof m.end=="string"?y.end=parseInt(m.end,10):typeof m.end=="number"?y.end=m.end:typeof m.end=="object"&&(y.end=new d.LongBits(m.end.low>>>0,m.end.high>>>0).toNumber())),y},E.toObject=function(m,y){y||(y={});var e={};if(y.defaults){if(d.Long){var P=new d.Long(0,0,!1);e.begin=y.longs===String?P.toString():y.longs===Number?P.toNumber():P}else e.begin=y.longs===String?"0":0;if(d.Long){var P=new d.Long(0,0,!1);e.end=y.longs===String?P.toString():y.longs===Number?P.toNumber():P}else e.end=y.longs===String?"0":0}return m.begin!=null&&m.hasOwnProperty("begin")&&(typeof m.begin=="number"?e.begin=y.longs===String?String(m.begin):m.begin:e.begin=y.longs===String?d.Long.prototype.toString.call(m.begin):y.longs===Number?new d.LongBits(m.begin.low>>>0,m.begin.high>>>0).toNumber():m.begin),m.end!=null&&m.hasOwnProperty("end")&&(typeof m.end=="number"?e.end=y.longs===String?String(m.end):m.end:e.end=y.longs===String?d.Long.prototype.toString.call(m.end):y.longs===Number?new d.LongBits(m.end.low>>>0,m.end.high>>>0).toNumber():m.end),e},E.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},E.getTypeUrl=function(m){return m===void 0&&(m="type.googleapis.com"),m+"/onnx.TensorProto.Segment"},E}(),C.DataLocation=function(){var E={},w=Object.create(E);return w[E[0]="DEFAULT"]=0,w[E[1]="EXTERNAL"]=1,w}(),C}(),_.SparseTensorProto=function(){function C(E){if(this.dims=[],E)for(var w=Object.keys(E),m=0;m<w.length;++m)E[w[m]]!=null&&(this[w[m]]=E[w[m]])}return C.prototype.values=null,C.prototype.indices=null,C.prototype.dims=d.emptyArray,C.create=function(w){return new C(w)},C.encode=function(w,m){if(m||(m=v.create()),w.values!=null&&Object.hasOwnProperty.call(w,"values")&&g.onnx.TensorProto.encode(w.values,m.uint32(10).fork()).ldelim(),w.indices!=null&&Object.hasOwnProperty.call(w,"indices")&&g.onnx.TensorProto.encode(w.indices,m.uint32(18).fork()).ldelim(),w.dims!=null&&w.dims.length){m.uint32(26).fork();for(var y=0;y<w.dims.length;++y)m.int64(w.dims[y]);m.ldelim()}return m},C.encodeDelimited=function(w,m){return this.encode(w,m).ldelim()},C.decode=function(w,m){w instanceof p||(w=p.create(w));for(var y=m===void 0?w.len:w.pos+m,e=new g.onnx.SparseTensorProto;w.pos<y;){var P=w.uint32();switch(P>>>3){case 1:{e.values=g.onnx.TensorProto.decode(w,w.uint32());break}case 2:{e.indices=g.onnx.TensorProto.decode(w,w.uint32());break}case 3:{if(e.dims&&e.dims.length||(e.dims=[]),(P&7)===2)for(var O=w.uint32()+w.pos;w.pos<O;)e.dims.push(w.int64());else e.dims.push(w.int64());break}default:w.skipType(P&7);break}}return e},C.decodeDelimited=function(w){return w instanceof p||(w=new p(w)),this.decode(w,w.uint32())},C.verify=function(w){if(typeof w!="object"||w===null)return"object expected";if(w.values!=null&&w.hasOwnProperty("values")){var m=g.onnx.TensorProto.verify(w.values);if(m)return"values."+m}if(w.indices!=null&&w.hasOwnProperty("indices")){var m=g.onnx.TensorProto.verify(w.indices);if(m)return"indices."+m}if(w.dims!=null&&w.hasOwnProperty("dims")){if(!Array.isArray(w.dims))return"dims: array expected";for(var y=0;y<w.dims.length;++y)if(!d.isInteger(w.dims[y])&&!(w.dims[y]&&d.isInteger(w.dims[y].low)&&d.isInteger(w.dims[y].high)))return"dims: integer|Long[] expected"}return null},C.fromObject=function(w){if(w instanceof g.onnx.SparseTensorProto)return w;var m=new g.onnx.SparseTensorProto;if(w.values!=null){if(typeof w.values!="object")throw TypeError(".onnx.SparseTensorProto.values: object expected");m.values=g.onnx.TensorProto.fromObject(w.values)}if(w.indices!=null){if(typeof w.indices!="object")throw TypeError(".onnx.SparseTensorProto.indices: object expected");m.indices=g.onnx.TensorProto.fromObject(w.indices)}if(w.dims){if(!Array.isArray(w.dims))throw TypeError(".onnx.SparseTensorProto.dims: array expected");m.dims=[];for(var y=0;y<w.dims.length;++y)d.Long?(m.dims[y]=d.Long.fromValue(w.dims[y])).unsigned=!1:typeof w.dims[y]=="string"?m.dims[y]=parseInt(w.dims[y],10):typeof w.dims[y]=="number"?m.dims[y]=w.dims[y]:typeof w.dims[y]=="object"&&(m.dims[y]=new d.LongBits(w.dims[y].low>>>0,w.dims[y].high>>>0).toNumber())}return m},C.toObject=function(w,m){m||(m={});var y={};if((m.arrays||m.defaults)&&(y.dims=[]),m.defaults&&(y.values=null,y.indices=null),w.values!=null&&w.hasOwnProperty("values")&&(y.values=g.onnx.TensorProto.toObject(w.values,m)),w.indices!=null&&w.hasOwnProperty("indices")&&(y.indices=g.onnx.TensorProto.toObject(w.indices,m)),w.dims&&w.dims.length){y.dims=[];for(var e=0;e<w.dims.length;++e)typeof w.dims[e]=="number"?y.dims[e]=m.longs===String?String(w.dims[e]):w.dims[e]:y.dims[e]=m.longs===String?d.Long.prototype.toString.call(w.dims[e]):m.longs===Number?new d.LongBits(w.dims[e].low>>>0,w.dims[e].high>>>0).toNumber():w.dims[e]}return y},C.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},C.getTypeUrl=function(w){return w===void 0&&(w="type.googleapis.com"),w+"/onnx.SparseTensorProto"},C}(),_.TensorShapeProto=function(){function C(E){if(this.dim=[],E)for(var w=Object.keys(E),m=0;m<w.length;++m)E[w[m]]!=null&&(this[w[m]]=E[w[m]])}return C.prototype.dim=d.emptyArray,C.create=function(w){return new C(w)},C.encode=function(w,m){if(m||(m=v.create()),w.dim!=null&&w.dim.length)for(var y=0;y<w.dim.length;++y)g.onnx.TensorShapeProto.Dimension.encode(w.dim[y],m.uint32(10).fork()).ldelim();return m},C.encodeDelimited=function(w,m){return this.encode(w,m).ldelim()},C.decode=function(w,m){w instanceof p||(w=p.create(w));for(var y=m===void 0?w.len:w.pos+m,e=new g.onnx.TensorShapeProto;w.pos<y;){var P=w.uint32();switch(P>>>3){case 1:{e.dim&&e.dim.length||(e.dim=[]),e.dim.push(g.onnx.TensorShapeProto.Dimension.decode(w,w.uint32()));break}default:w.skipType(P&7);break}}return e},C.decodeDelimited=function(w){return w instanceof p||(w=new p(w)),this.decode(w,w.uint32())},C.verify=function(w){if(typeof w!="object"||w===null)return"object expected";if(w.dim!=null&&w.hasOwnProperty("dim")){if(!Array.isArray(w.dim))return"dim: array expected";for(var m=0;m<w.dim.length;++m){var y=g.onnx.TensorShapeProto.Dimension.verify(w.dim[m]);if(y)return"dim."+y}}return null},C.fromObject=function(w){if(w instanceof g.onnx.TensorShapeProto)return w;var m=new g.onnx.TensorShapeProto;if(w.dim){if(!Array.isArray(w.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");m.dim=[];for(var y=0;y<w.dim.length;++y){if(typeof w.dim[y]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");m.dim[y]=g.onnx.TensorShapeProto.Dimension.fromObject(w.dim[y])}}return m},C.toObject=function(w,m){m||(m={});var y={};if((m.arrays||m.defaults)&&(y.dim=[]),w.dim&&w.dim.length){y.dim=[];for(var e=0;e<w.dim.length;++e)y.dim[e]=g.onnx.TensorShapeProto.Dimension.toObject(w.dim[e],m)}return y},C.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},C.getTypeUrl=function(w){return w===void 0&&(w="type.googleapis.com"),w+"/onnx.TensorShapeProto"},C.Dimension=function(){function E(m){if(m)for(var y=Object.keys(m),e=0;e<y.length;++e)m[y[e]]!=null&&(this[y[e]]=m[y[e]])}E.prototype.dimValue=null,E.prototype.dimParam=null,E.prototype.denotation="";var w;return Object.defineProperty(E.prototype,"value",{get:d.oneOfGetter(w=["dimValue","dimParam"]),set:d.oneOfSetter(w)}),E.create=function(y){return new E(y)},E.encode=function(y,e){return e||(e=v.create()),y.dimValue!=null&&Object.hasOwnProperty.call(y,"dimValue")&&e.uint32(8).int64(y.dimValue),y.dimParam!=null&&Object.hasOwnProperty.call(y,"dimParam")&&e.uint32(18).string(y.dimParam),y.denotation!=null&&Object.hasOwnProperty.call(y,"denotation")&&e.uint32(26).string(y.denotation),e},E.encodeDelimited=function(y,e){return this.encode(y,e).ldelim()},E.decode=function(y,e){y instanceof p||(y=p.create(y));for(var P=e===void 0?y.len:y.pos+e,O=new g.onnx.TensorShapeProto.Dimension;y.pos<P;){var U=y.uint32();switch(U>>>3){case 1:{O.dimValue=y.int64();break}case 2:{O.dimParam=y.string();break}case 3:{O.denotation=y.string();break}default:y.skipType(U&7);break}}return O},E.decodeDelimited=function(y){return y instanceof p||(y=new p(y)),this.decode(y,y.uint32())},E.verify=function(y){if(typeof y!="object"||y===null)return"object expected";var e={};if(y.dimValue!=null&&y.hasOwnProperty("dimValue")&&(e.value=1,!d.isInteger(y.dimValue)&&!(y.dimValue&&d.isInteger(y.dimValue.low)&&d.isInteger(y.dimValue.high))))return"dimValue: integer|Long expected";if(y.dimParam!=null&&y.hasOwnProperty("dimParam")){if(e.value===1)return"value: multiple values";if(e.value=1,!d.isString(y.dimParam))return"dimParam: string expected"}return y.denotation!=null&&y.hasOwnProperty("denotation")&&!d.isString(y.denotation)?"denotation: string expected":null},E.fromObject=function(y){if(y instanceof g.onnx.TensorShapeProto.Dimension)return y;var e=new g.onnx.TensorShapeProto.Dimension;return y.dimValue!=null&&(d.Long?(e.dimValue=d.Long.fromValue(y.dimValue)).unsigned=!1:typeof y.dimValue=="string"?e.dimValue=parseInt(y.dimValue,10):typeof y.dimValue=="number"?e.dimValue=y.dimValue:typeof y.dimValue=="object"&&(e.dimValue=new d.LongBits(y.dimValue.low>>>0,y.dimValue.high>>>0).toNumber())),y.dimParam!=null&&(e.dimParam=String(y.dimParam)),y.denotation!=null&&(e.denotation=String(y.denotation)),e},E.toObject=function(y,e){e||(e={});var P={};return e.defaults&&(P.denotation=""),y.dimValue!=null&&y.hasOwnProperty("dimValue")&&(typeof y.dimValue=="number"?P.dimValue=e.longs===String?String(y.dimValue):y.dimValue:P.dimValue=e.longs===String?d.Long.prototype.toString.call(y.dimValue):e.longs===Number?new d.LongBits(y.dimValue.low>>>0,y.dimValue.high>>>0).toNumber():y.dimValue,e.oneofs&&(P.value="dimValue")),y.dimParam!=null&&y.hasOwnProperty("dimParam")&&(P.dimParam=y.dimParam,e.oneofs&&(P.value="dimParam")),y.denotation!=null&&y.hasOwnProperty("denotation")&&(P.denotation=y.denotation),P},E.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},E.getTypeUrl=function(y){return y===void 0&&(y="type.googleapis.com"),y+"/onnx.TensorShapeProto.Dimension"},E}(),C}(),_.TypeProto=function(){function C(w){if(w)for(var m=Object.keys(w),y=0;y<m.length;++y)w[m[y]]!=null&&(this[m[y]]=w[m[y]])}C.prototype.tensorType=null,C.prototype.sequenceType=null,C.prototype.mapType=null,C.prototype.optionalType=null,C.prototype.sparseTensorType=null,C.prototype.denotation="";var E;return Object.defineProperty(C.prototype,"value",{get:d.oneOfGetter(E=["tensorType","sequenceType","mapType","optionalType","sparseTensorType"]),set:d.oneOfSetter(E)}),C.create=function(m){return new C(m)},C.encode=function(m,y){return y||(y=v.create()),m.tensorType!=null&&Object.hasOwnProperty.call(m,"tensorType")&&g.onnx.TypeProto.Tensor.encode(m.tensorType,y.uint32(10).fork()).ldelim(),m.sequenceType!=null&&Object.hasOwnProperty.call(m,"sequenceType")&&g.onnx.TypeProto.Sequence.encode(m.sequenceType,y.uint32(34).fork()).ldelim(),m.mapType!=null&&Object.hasOwnProperty.call(m,"mapType")&&g.onnx.TypeProto.Map.encode(m.mapType,y.uint32(42).fork()).ldelim(),m.denotation!=null&&Object.hasOwnProperty.call(m,"denotation")&&y.uint32(50).string(m.denotation),m.sparseTensorType!=null&&Object.hasOwnProperty.call(m,"sparseTensorType")&&g.onnx.TypeProto.SparseTensor.encode(m.sparseTensorType,y.uint32(66).fork()).ldelim(),m.optionalType!=null&&Object.hasOwnProperty.call(m,"optionalType")&&g.onnx.TypeProto.Optional.encode(m.optionalType,y.uint32(74).fork()).ldelim(),y},C.encodeDelimited=function(m,y){return this.encode(m,y).ldelim()},C.decode=function(m,y){m instanceof p||(m=p.create(m));for(var e=y===void 0?m.len:m.pos+y,P=new g.onnx.TypeProto;m.pos<e;){var O=m.uint32();switch(O>>>3){case 1:{P.tensorType=g.onnx.TypeProto.Tensor.decode(m,m.uint32());break}case 4:{P.sequenceType=g.onnx.TypeProto.Sequence.decode(m,m.uint32());break}case 5:{P.mapType=g.onnx.TypeProto.Map.decode(m,m.uint32());break}case 9:{P.optionalType=g.onnx.TypeProto.Optional.decode(m,m.uint32());break}case 8:{P.sparseTensorType=g.onnx.TypeProto.SparseTensor.decode(m,m.uint32());break}case 6:{P.denotation=m.string();break}default:m.skipType(O&7);break}}return P},C.decodeDelimited=function(m){return m instanceof p||(m=new p(m)),this.decode(m,m.uint32())},C.verify=function(m){if(typeof m!="object"||m===null)return"object expected";var y={};if(m.tensorType!=null&&m.hasOwnProperty("tensorType")){y.value=1;{var e=g.onnx.TypeProto.Tensor.verify(m.tensorType);if(e)return"tensorType."+e}}if(m.sequenceType!=null&&m.hasOwnProperty("sequenceType")){if(y.value===1)return"value: multiple values";y.value=1;{var e=g.onnx.TypeProto.Sequence.verify(m.sequenceType);if(e)return"sequenceType."+e}}if(m.mapType!=null&&m.hasOwnProperty("mapType")){if(y.value===1)return"value: multiple values";y.value=1;{var e=g.onnx.TypeProto.Map.verify(m.mapType);if(e)return"mapType."+e}}if(m.optionalType!=null&&m.hasOwnProperty("optionalType")){if(y.value===1)return"value: multiple values";y.value=1;{var e=g.onnx.TypeProto.Optional.verify(m.optionalType);if(e)return"optionalType."+e}}if(m.sparseTensorType!=null&&m.hasOwnProperty("sparseTensorType")){if(y.value===1)return"value: multiple values";y.value=1;{var e=g.onnx.TypeProto.SparseTensor.verify(m.sparseTensorType);if(e)return"sparseTensorType."+e}}return m.denotation!=null&&m.hasOwnProperty("denotation")&&!d.isString(m.denotation)?"denotation: string expected":null},C.fromObject=function(m){if(m instanceof g.onnx.TypeProto)return m;var y=new g.onnx.TypeProto;if(m.tensorType!=null){if(typeof m.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");y.tensorType=g.onnx.TypeProto.Tensor.fromObject(m.tensorType)}if(m.sequenceType!=null){if(typeof m.sequenceType!="object")throw TypeError(".onnx.TypeProto.sequenceType: object expected");y.sequenceType=g.onnx.TypeProto.Sequence.fromObject(m.sequenceType)}if(m.mapType!=null){if(typeof m.mapType!="object")throw TypeError(".onnx.TypeProto.mapType: object expected");y.mapType=g.onnx.TypeProto.Map.fromObject(m.mapType)}if(m.optionalType!=null){if(typeof m.optionalType!="object")throw TypeError(".onnx.TypeProto.optionalType: object expected");y.optionalType=g.onnx.TypeProto.Optional.fromObject(m.optionalType)}if(m.sparseTensorType!=null){if(typeof m.sparseTensorType!="object")throw TypeError(".onnx.TypeProto.sparseTensorType: object expected");y.sparseTensorType=g.onnx.TypeProto.SparseTensor.fromObject(m.sparseTensorType)}return m.denotation!=null&&(y.denotation=String(m.denotation)),y},C.toObject=function(m,y){y||(y={});var e={};return y.defaults&&(e.denotation=""),m.tensorType!=null&&m.hasOwnProperty("tensorType")&&(e.tensorType=g.onnx.TypeProto.Tensor.toObject(m.tensorType,y),y.oneofs&&(e.value="tensorType")),m.sequenceType!=null&&m.hasOwnProperty("sequenceType")&&(e.sequenceType=g.onnx.TypeProto.Sequence.toObject(m.sequenceType,y),y.oneofs&&(e.value="sequenceType")),m.mapType!=null&&m.hasOwnProperty("mapType")&&(e.mapType=g.onnx.TypeProto.Map.toObject(m.mapType,y),y.oneofs&&(e.value="mapType")),m.denotation!=null&&m.hasOwnProperty("denotation")&&(e.denotation=m.denotation),m.sparseTensorType!=null&&m.hasOwnProperty("sparseTensorType")&&(e.sparseTensorType=g.onnx.TypeProto.SparseTensor.toObject(m.sparseTensorType,y),y.oneofs&&(e.value="sparseTensorType")),m.optionalType!=null&&m.hasOwnProperty("optionalType")&&(e.optionalType=g.onnx.TypeProto.Optional.toObject(m.optionalType,y),y.oneofs&&(e.value="optionalType")),e},C.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},C.getTypeUrl=function(m){return m===void 0&&(m="type.googleapis.com"),m+"/onnx.TypeProto"},C.Tensor=function(){function w(m){if(m)for(var y=Object.keys(m),e=0;e<y.length;++e)m[y[e]]!=null&&(this[y[e]]=m[y[e]])}return w.prototype.elemType=0,w.prototype.shape=null,w.create=function(y){return new w(y)},w.encode=function(y,e){return e||(e=v.create()),y.elemType!=null&&Object.hasOwnProperty.call(y,"elemType")&&e.uint32(8).int32(y.elemType),y.shape!=null&&Object.hasOwnProperty.call(y,"shape")&&g.onnx.TensorShapeProto.encode(y.shape,e.uint32(18).fork()).ldelim(),e},w.encodeDelimited=function(y,e){return this.encode(y,e).ldelim()},w.decode=function(y,e){y instanceof p||(y=p.create(y));for(var P=e===void 0?y.len:y.pos+e,O=new g.onnx.TypeProto.Tensor;y.pos<P;){var U=y.uint32();switch(U>>>3){case 1:{O.elemType=y.int32();break}case 2:{O.shape=g.onnx.TensorShapeProto.decode(y,y.uint32());break}default:y.skipType(U&7);break}}return O},w.decodeDelimited=function(y){return y instanceof p||(y=new p(y)),this.decode(y,y.uint32())},w.verify=function(y){if(typeof y!="object"||y===null)return"object expected";if(y.elemType!=null&&y.hasOwnProperty("elemType")&&!d.isInteger(y.elemType))return"elemType: integer expected";if(y.shape!=null&&y.hasOwnProperty("shape")){var e=g.onnx.TensorShapeProto.verify(y.shape);if(e)return"shape."+e}return null},w.fromObject=function(y){if(y instanceof g.onnx.TypeProto.Tensor)return y;var e=new g.onnx.TypeProto.Tensor;if(y.elemType!=null&&(e.elemType=y.elemType|0),y.shape!=null){if(typeof y.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");e.shape=g.onnx.TensorShapeProto.fromObject(y.shape)}return e},w.toObject=function(y,e){e||(e={});var P={};return e.defaults&&(P.elemType=0,P.shape=null),y.elemType!=null&&y.hasOwnProperty("elemType")&&(P.elemType=y.elemType),y.shape!=null&&y.hasOwnProperty("shape")&&(P.shape=g.onnx.TensorShapeProto.toObject(y.shape,e)),P},w.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},w.getTypeUrl=function(y){return y===void 0&&(y="type.googleapis.com"),y+"/onnx.TypeProto.Tensor"},w}(),C.Sequence=function(){function w(m){if(m)for(var y=Object.keys(m),e=0;e<y.length;++e)m[y[e]]!=null&&(this[y[e]]=m[y[e]])}return w.prototype.elemType=null,w.create=function(y){return new w(y)},w.encode=function(y,e){return e||(e=v.create()),y.elemType!=null&&Object.hasOwnProperty.call(y,"elemType")&&g.onnx.TypeProto.encode(y.elemType,e.uint32(10).fork()).ldelim(),e},w.encodeDelimited=function(y,e){return this.encode(y,e).ldelim()},w.decode=function(y,e){y instanceof p||(y=p.create(y));for(var P=e===void 0?y.len:y.pos+e,O=new g.onnx.TypeProto.Sequence;y.pos<P;){var U=y.uint32();switch(U>>>3){case 1:{O.elemType=g.onnx.TypeProto.decode(y,y.uint32());break}default:y.skipType(U&7);break}}return O},w.decodeDelimited=function(y){return y instanceof p||(y=new p(y)),this.decode(y,y.uint32())},w.verify=function(y){if(typeof y!="object"||y===null)return"object expected";if(y.elemType!=null&&y.hasOwnProperty("elemType")){var e=g.onnx.TypeProto.verify(y.elemType);if(e)return"elemType."+e}return null},w.fromObject=function(y){if(y instanceof g.onnx.TypeProto.Sequence)return y;var e=new g.onnx.TypeProto.Sequence;if(y.elemType!=null){if(typeof y.elemType!="object")throw TypeError(".onnx.TypeProto.Sequence.elemType: object expected");e.elemType=g.onnx.TypeProto.fromObject(y.elemType)}return e},w.toObject=function(y,e){e||(e={});var P={};return e.defaults&&(P.elemType=null),y.elemType!=null&&y.hasOwnProperty("elemType")&&(P.elemType=g.onnx.TypeProto.toObject(y.elemType,e)),P},w.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},w.getTypeUrl=function(y){return y===void 0&&(y="type.googleapis.com"),y+"/onnx.TypeProto.Sequence"},w}(),C.Map=function(){function w(m){if(m)for(var y=Object.keys(m),e=0;e<y.length;++e)m[y[e]]!=null&&(this[y[e]]=m[y[e]])}return w.prototype.keyType=0,w.prototype.valueType=null,w.create=function(y){return new w(y)},w.encode=function(y,e){return e||(e=v.create()),y.keyType!=null&&Object.hasOwnProperty.call(y,"keyType")&&e.uint32(8).int32(y.keyType),y.valueType!=null&&Object.hasOwnProperty.call(y,"valueType")&&g.onnx.TypeProto.encode(y.valueType,e.uint32(18).fork()).ldelim(),e},w.encodeDelimited=function(y,e){return this.encode(y,e).ldelim()},w.decode=function(y,e){y instanceof p||(y=p.create(y));for(var P=e===void 0?y.len:y.pos+e,O=new g.onnx.TypeProto.Map;y.pos<P;){var U=y.uint32();switch(U>>>3){case 1:{O.keyType=y.int32();break}case 2:{O.valueType=g.onnx.TypeProto.decode(y,y.uint32());break}default:y.skipType(U&7);break}}return O},w.decodeDelimited=function(y){return y instanceof p||(y=new p(y)),this.decode(y,y.uint32())},w.verify=function(y){if(typeof y!="object"||y===null)return"object expected";if(y.keyType!=null&&y.hasOwnProperty("keyType")&&!d.isInteger(y.keyType))return"keyType: integer expected";if(y.valueType!=null&&y.hasOwnProperty("valueType")){var e=g.onnx.TypeProto.verify(y.valueType);if(e)return"valueType."+e}return null},w.fromObject=function(y){if(y instanceof g.onnx.TypeProto.Map)return y;var e=new g.onnx.TypeProto.Map;if(y.keyType!=null&&(e.keyType=y.keyType|0),y.valueType!=null){if(typeof y.valueType!="object")throw TypeError(".onnx.TypeProto.Map.valueType: object expected");e.valueType=g.onnx.TypeProto.fromObject(y.valueType)}return e},w.toObject=function(y,e){e||(e={});var P={};return e.defaults&&(P.keyType=0,P.valueType=null),y.keyType!=null&&y.hasOwnProperty("keyType")&&(P.keyType=y.keyType),y.valueType!=null&&y.hasOwnProperty("valueType")&&(P.valueType=g.onnx.TypeProto.toObject(y.valueType,e)),P},w.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},w.getTypeUrl=function(y){return y===void 0&&(y="type.googleapis.com"),y+"/onnx.TypeProto.Map"},w}(),C.Optional=function(){function w(m){if(m)for(var y=Object.keys(m),e=0;e<y.length;++e)m[y[e]]!=null&&(this[y[e]]=m[y[e]])}return w.prototype.elemType=null,w.create=function(y){return new w(y)},w.encode=function(y,e){return e||(e=v.create()),y.elemType!=null&&Object.hasOwnProperty.call(y,"elemType")&&g.onnx.TypeProto.encode(y.elemType,e.uint32(10).fork()).ldelim(),e},w.encodeDelimited=function(y,e){return this.encode(y,e).ldelim()},w.decode=function(y,e){y instanceof p||(y=p.create(y));for(var P=e===void 0?y.len:y.pos+e,O=new g.onnx.TypeProto.Optional;y.pos<P;){var U=y.uint32();switch(U>>>3){case 1:{O.elemType=g.onnx.TypeProto.decode(y,y.uint32());break}default:y.skipType(U&7);break}}return O},w.decodeDelimited=function(y){return y instanceof p||(y=new p(y)),this.decode(y,y.uint32())},w.verify=function(y){if(typeof y!="object"||y===null)return"object expected";if(y.elemType!=null&&y.hasOwnProperty("elemType")){var e=g.onnx.TypeProto.verify(y.elemType);if(e)return"elemType."+e}return null},w.fromObject=function(y){if(y instanceof g.onnx.TypeProto.Optional)return y;var e=new g.onnx.TypeProto.Optional;if(y.elemType!=null){if(typeof y.elemType!="object")throw TypeError(".onnx.TypeProto.Optional.elemType: object expected");e.elemType=g.onnx.TypeProto.fromObject(y.elemType)}return e},w.toObject=function(y,e){e||(e={});var P={};return e.defaults&&(P.elemType=null),y.elemType!=null&&y.hasOwnProperty("elemType")&&(P.elemType=g.onnx.TypeProto.toObject(y.elemType,e)),P},w.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},w.getTypeUrl=function(y){return y===void 0&&(y="type.googleapis.com"),y+"/onnx.TypeProto.Optional"},w}(),C.SparseTensor=function(){function w(m){if(m)for(var y=Object.keys(m),e=0;e<y.length;++e)m[y[e]]!=null&&(this[y[e]]=m[y[e]])}return w.prototype.elemType=0,w.prototype.shape=null,w.create=function(y){return new w(y)},w.encode=function(y,e){return e||(e=v.create()),y.elemType!=null&&Object.hasOwnProperty.call(y,"elemType")&&e.uint32(8).int32(y.elemType),y.shape!=null&&Object.hasOwnProperty.call(y,"shape")&&g.onnx.TensorShapeProto.encode(y.shape,e.uint32(18).fork()).ldelim(),e},w.encodeDelimited=function(y,e){return this.encode(y,e).ldelim()},w.decode=function(y,e){y instanceof p||(y=p.create(y));for(var P=e===void 0?y.len:y.pos+e,O=new g.onnx.TypeProto.SparseTensor;y.pos<P;){var U=y.uint32();switch(U>>>3){case 1:{O.elemType=y.int32();break}case 2:{O.shape=g.onnx.TensorShapeProto.decode(y,y.uint32());break}default:y.skipType(U&7);break}}return O},w.decodeDelimited=function(y){return y instanceof p||(y=new p(y)),this.decode(y,y.uint32())},w.verify=function(y){if(typeof y!="object"||y===null)return"object expected";if(y.elemType!=null&&y.hasOwnProperty("elemType")&&!d.isInteger(y.elemType))return"elemType: integer expected";if(y.shape!=null&&y.hasOwnProperty("shape")){var e=g.onnx.TensorShapeProto.verify(y.shape);if(e)return"shape."+e}return null},w.fromObject=function(y){if(y instanceof g.onnx.TypeProto.SparseTensor)return y;var e=new g.onnx.TypeProto.SparseTensor;if(y.elemType!=null&&(e.elemType=y.elemType|0),y.shape!=null){if(typeof y.shape!="object")throw TypeError(".onnx.TypeProto.SparseTensor.shape: object expected");e.shape=g.onnx.TensorShapeProto.fromObject(y.shape)}return e},w.toObject=function(y,e){e||(e={});var P={};return e.defaults&&(P.elemType=0,P.shape=null),y.elemType!=null&&y.hasOwnProperty("elemType")&&(P.elemType=y.elemType),y.shape!=null&&y.hasOwnProperty("shape")&&(P.shape=g.onnx.TensorShapeProto.toObject(y.shape,e)),P},w.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},w.getTypeUrl=function(y){return y===void 0&&(y="type.googleapis.com"),y+"/onnx.TypeProto.SparseTensor"},w}(),C}(),_.OperatorSetIdProto=function(){function C(E){if(E)for(var w=Object.keys(E),m=0;m<w.length;++m)E[w[m]]!=null&&(this[w[m]]=E[w[m]])}return C.prototype.domain="",C.prototype.version=d.Long?d.Long.fromBits(0,0,!1):0,C.create=function(w){return new C(w)},C.encode=function(w,m){return m||(m=v.create()),w.domain!=null&&Object.hasOwnProperty.call(w,"domain")&&m.uint32(10).string(w.domain),w.version!=null&&Object.hasOwnProperty.call(w,"version")&&m.uint32(16).int64(w.version),m},C.encodeDelimited=function(w,m){return this.encode(w,m).ldelim()},C.decode=function(w,m){w instanceof p||(w=p.create(w));for(var y=m===void 0?w.len:w.pos+m,e=new g.onnx.OperatorSetIdProto;w.pos<y;){var P=w.uint32();switch(P>>>3){case 1:{e.domain=w.string();break}case 2:{e.version=w.int64();break}default:w.skipType(P&7);break}}return e},C.decodeDelimited=function(w){return w instanceof p||(w=new p(w)),this.decode(w,w.uint32())},C.verify=function(w){return typeof w!="object"||w===null?"object expected":w.domain!=null&&w.hasOwnProperty("domain")&&!d.isString(w.domain)?"domain: string expected":w.version!=null&&w.hasOwnProperty("version")&&!d.isInteger(w.version)&&!(w.version&&d.isInteger(w.version.low)&&d.isInteger(w.version.high))?"version: integer|Long expected":null},C.fromObject=function(w){if(w instanceof g.onnx.OperatorSetIdProto)return w;var m=new g.onnx.OperatorSetIdProto;return w.domain!=null&&(m.domain=String(w.domain)),w.version!=null&&(d.Long?(m.version=d.Long.fromValue(w.version)).unsigned=!1:typeof w.version=="string"?m.version=parseInt(w.version,10):typeof w.version=="number"?m.version=w.version:typeof w.version=="object"&&(m.version=new d.LongBits(w.version.low>>>0,w.version.high>>>0).toNumber())),m},C.toObject=function(w,m){m||(m={});var y={};if(m.defaults)if(y.domain="",d.Long){var e=new d.Long(0,0,!1);y.version=m.longs===String?e.toString():m.longs===Number?e.toNumber():e}else y.version=m.longs===String?"0":0;return w.domain!=null&&w.hasOwnProperty("domain")&&(y.domain=w.domain),w.version!=null&&w.hasOwnProperty("version")&&(typeof w.version=="number"?y.version=m.longs===String?String(w.version):w.version:y.version=m.longs===String?d.Long.prototype.toString.call(w.version):m.longs===Number?new d.LongBits(w.version.low>>>0,w.version.high>>>0).toNumber():w.version),y},C.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},C.getTypeUrl=function(w){return w===void 0&&(w="type.googleapis.com"),w+"/onnx.OperatorSetIdProto"},C}(),_.OperatorStatus=function(){var C={},E=Object.create(C);return E[C[0]="EXPERIMENTAL"]=0,E[C[1]="STABLE"]=1,E}(),_.FunctionProto=function(){function C(E){if(this.input=[],this.output=[],this.attribute=[],this.attributeProto=[],this.node=[],this.opsetImport=[],E)for(var w=Object.keys(E),m=0;m<w.length;++m)E[w[m]]!=null&&(this[w[m]]=E[w[m]])}return C.prototype.name="",C.prototype.input=d.emptyArray,C.prototype.output=d.emptyArray,C.prototype.attribute=d.emptyArray,C.prototype.attributeProto=d.emptyArray,C.prototype.node=d.emptyArray,C.prototype.docString="",C.prototype.opsetImport=d.emptyArray,C.prototype.domain="",C.create=function(w){return new C(w)},C.encode=function(w,m){if(m||(m=v.create()),w.name!=null&&Object.hasOwnProperty.call(w,"name")&&m.uint32(10).string(w.name),w.input!=null&&w.input.length)for(var y=0;y<w.input.length;++y)m.uint32(34).string(w.input[y]);if(w.output!=null&&w.output.length)for(var y=0;y<w.output.length;++y)m.uint32(42).string(w.output[y]);if(w.attribute!=null&&w.attribute.length)for(var y=0;y<w.attribute.length;++y)m.uint32(50).string(w.attribute[y]);if(w.node!=null&&w.node.length)for(var y=0;y<w.node.length;++y)g.onnx.NodeProto.encode(w.node[y],m.uint32(58).fork()).ldelim();if(w.docString!=null&&Object.hasOwnProperty.call(w,"docString")&&m.uint32(66).string(w.docString),w.opsetImport!=null&&w.opsetImport.length)for(var y=0;y<w.opsetImport.length;++y)g.onnx.OperatorSetIdProto.encode(w.opsetImport[y],m.uint32(74).fork()).ldelim();if(w.domain!=null&&Object.hasOwnProperty.call(w,"domain")&&m.uint32(82).string(w.domain),w.attributeProto!=null&&w.attributeProto.length)for(var y=0;y<w.attributeProto.length;++y)g.onnx.AttributeProto.encode(w.attributeProto[y],m.uint32(90).fork()).ldelim();return m},C.encodeDelimited=function(w,m){return this.encode(w,m).ldelim()},C.decode=function(w,m){w instanceof p||(w=p.create(w));for(var y=m===void 0?w.len:w.pos+m,e=new g.onnx.FunctionProto;w.pos<y;){var P=w.uint32();switch(P>>>3){case 1:{e.name=w.string();break}case 4:{e.input&&e.input.length||(e.input=[]),e.input.push(w.string());break}case 5:{e.output&&e.output.length||(e.output=[]),e.output.push(w.string());break}case 6:{e.attribute&&e.attribute.length||(e.attribute=[]),e.attribute.push(w.string());break}case 11:{e.attributeProto&&e.attributeProto.length||(e.attributeProto=[]),e.attributeProto.push(g.onnx.AttributeProto.decode(w,w.uint32()));break}case 7:{e.node&&e.node.length||(e.node=[]),e.node.push(g.onnx.NodeProto.decode(w,w.uint32()));break}case 8:{e.docString=w.string();break}case 9:{e.opsetImport&&e.opsetImport.length||(e.opsetImport=[]),e.opsetImport.push(g.onnx.OperatorSetIdProto.decode(w,w.uint32()));break}case 10:{e.domain=w.string();break}default:w.skipType(P&7);break}}return e},C.decodeDelimited=function(w){return w instanceof p||(w=new p(w)),this.decode(w,w.uint32())},C.verify=function(w){if(typeof w!="object"||w===null)return"object expected";if(w.name!=null&&w.hasOwnProperty("name")&&!d.isString(w.name))return"name: string expected";if(w.input!=null&&w.hasOwnProperty("input")){if(!Array.isArray(w.input))return"input: array expected";for(var m=0;m<w.input.length;++m)if(!d.isString(w.input[m]))return"input: string[] expected"}if(w.output!=null&&w.hasOwnProperty("output")){if(!Array.isArray(w.output))return"output: array expected";for(var m=0;m<w.output.length;++m)if(!d.isString(w.output[m]))return"output: string[] expected"}if(w.attribute!=null&&w.hasOwnProperty("attribute")){if(!Array.isArray(w.attribute))return"attribute: array expected";for(var m=0;m<w.attribute.length;++m)if(!d.isString(w.attribute[m]))return"attribute: string[] expected"}if(w.attributeProto!=null&&w.hasOwnProperty("attributeProto")){if(!Array.isArray(w.attributeProto))return"attributeProto: array expected";for(var m=0;m<w.attributeProto.length;++m){var y=g.onnx.AttributeProto.verify(w.attributeProto[m]);if(y)return"attributeProto."+y}}if(w.node!=null&&w.hasOwnProperty("node")){if(!Array.isArray(w.node))return"node: array expected";for(var m=0;m<w.node.length;++m){var y=g.onnx.NodeProto.verify(w.node[m]);if(y)return"node."+y}}if(w.docString!=null&&w.hasOwnProperty("docString")&&!d.isString(w.docString))return"docString: string expected";if(w.opsetImport!=null&&w.hasOwnProperty("opsetImport")){if(!Array.isArray(w.opsetImport))return"opsetImport: array expected";for(var m=0;m<w.opsetImport.length;++m){var y=g.onnx.OperatorSetIdProto.verify(w.opsetImport[m]);if(y)return"opsetImport."+y}}return w.domain!=null&&w.hasOwnProperty("domain")&&!d.isString(w.domain)?"domain: string expected":null},C.fromObject=function(w){if(w instanceof g.onnx.FunctionProto)return w;var m=new g.onnx.FunctionProto;if(w.name!=null&&(m.name=String(w.name)),w.input){if(!Array.isArray(w.input))throw TypeError(".onnx.FunctionProto.input: array expected");m.input=[];for(var y=0;y<w.input.length;++y)m.input[y]=String(w.input[y])}if(w.output){if(!Array.isArray(w.output))throw TypeError(".onnx.FunctionProto.output: array expected");m.output=[];for(var y=0;y<w.output.length;++y)m.output[y]=String(w.output[y])}if(w.attribute){if(!Array.isArray(w.attribute))throw TypeError(".onnx.FunctionProto.attribute: array expected");m.attribute=[];for(var y=0;y<w.attribute.length;++y)m.attribute[y]=String(w.attribute[y])}if(w.attributeProto){if(!Array.isArray(w.attributeProto))throw TypeError(".onnx.FunctionProto.attributeProto: array expected");m.attributeProto=[];for(var y=0;y<w.attributeProto.length;++y){if(typeof w.attributeProto[y]!="object")throw TypeError(".onnx.FunctionProto.attributeProto: object expected");m.attributeProto[y]=g.onnx.AttributeProto.fromObject(w.attributeProto[y])}}if(w.node){if(!Array.isArray(w.node))throw TypeError(".onnx.FunctionProto.node: array expected");m.node=[];for(var y=0;y<w.node.length;++y){if(typeof w.node[y]!="object")throw TypeError(".onnx.FunctionProto.node: object expected");m.node[y]=g.onnx.NodeProto.fromObject(w.node[y])}}if(w.docString!=null&&(m.docString=String(w.docString)),w.opsetImport){if(!Array.isArray(w.opsetImport))throw TypeError(".onnx.FunctionProto.opsetImport: array expected");m.opsetImport=[];for(var y=0;y<w.opsetImport.length;++y){if(typeof w.opsetImport[y]!="object")throw TypeError(".onnx.FunctionProto.opsetImport: object expected");m.opsetImport[y]=g.onnx.OperatorSetIdProto.fromObject(w.opsetImport[y])}}return w.domain!=null&&(m.domain=String(w.domain)),m},C.toObject=function(w,m){m||(m={});var y={};if((m.arrays||m.defaults)&&(y.input=[],y.output=[],y.attribute=[],y.node=[],y.opsetImport=[],y.attributeProto=[]),m.defaults&&(y.name="",y.docString="",y.domain=""),w.name!=null&&w.hasOwnProperty("name")&&(y.name=w.name),w.input&&w.input.length){y.input=[];for(var e=0;e<w.input.length;++e)y.input[e]=w.input[e]}if(w.output&&w.output.length){y.output=[];for(var e=0;e<w.output.length;++e)y.output[e]=w.output[e]}if(w.attribute&&w.attribute.length){y.attribute=[];for(var e=0;e<w.attribute.length;++e)y.attribute[e]=w.attribute[e]}if(w.node&&w.node.length){y.node=[];for(var e=0;e<w.node.length;++e)y.node[e]=g.onnx.NodeProto.toObject(w.node[e],m)}if(w.docString!=null&&w.hasOwnProperty("docString")&&(y.docString=w.docString),w.opsetImport&&w.opsetImport.length){y.opsetImport=[];for(var e=0;e<w.opsetImport.length;++e)y.opsetImport[e]=g.onnx.OperatorSetIdProto.toObject(w.opsetImport[e],m)}if(w.domain!=null&&w.hasOwnProperty("domain")&&(y.domain=w.domain),w.attributeProto&&w.attributeProto.length){y.attributeProto=[];for(var e=0;e<w.attributeProto.length;++e)y.attributeProto[e]=g.onnx.AttributeProto.toObject(w.attributeProto[e],m)}return y},C.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},C.getTypeUrl=function(w){return w===void 0&&(w="type.googleapis.com"),w+"/onnx.FunctionProto"},C}(),_}(),n.exports=g}});function assert(l,n){if(!l)throw new Error(typeof n=="string"?n:n())}function decodeUtf8String(l){return new TextDecoder().decode(l)}var import_onnx,ArrayUtil,MatMulUtil,BroadcastUtil,GemmUtil,ProtoUtil,LongUtil,ShapeUtil,SplitUtil,PoolConvUtil,MIN_CLIP,MAX_CLIP,init_util=__esm({"web/lib/onnxjs/util.ts"(){init_flatbuffers(),init_long(),import_onnx=__toESM(require_onnx()),init_tensor2(),ArrayUtil=class{static arraysEqual(l,n){if(l.length!==n.length)return!1;for(let u=0;u<l.length;u++)if(l[u]!==n[u])return!1;return!0}},MatMulUtil=class{static preprocessInputShapes(l,n){const u=l.length===1?[1,l[0]]:l,p=n.length===1?[n[0],1]:n;return[u,p]}static postprocessOutputShape(l,n,u){n===1&&l.splice(l.length-2,1),u===1&&l.pop()}static calcMatMulShape(l,n){return l[1]!==n[0]?void 0:[l[0],n[1]]}},BroadcastUtil=class sr{static calcShape(n,u,p=!1){const v=n.length,d=u.length;if(v===0)return u;if(d===0)return n;const g=Math.max(n.length,u.length),_=new Array(g);if(p){if(v<2||d<2)return;const C=MatMulUtil.calcMatMulShape([n[v-2],n[v-1]],[u[d-2],u[d-1]]);if(C===void 0)return;[_[g-2],_[g-1]]=C}for(let C=p?3:1;C<=g;C++){const E=v-C<0?1:n[v-C],w=d-C<0?1:u[d-C];if(E!==w&&E>1&&w>1)return;_[g-C]=Math.max(E,w)}return _}static index(n,u){const p=new Array(u.length);return sr.fillIndex(n,u,p),p}static fillIndex(n,u,p){const v=n.length-u.length;for(let d=0;d<u.length;d++)p[d]=n[v+d]%u[d]}static calc(n,u,p,v,d){const g=sr.calcShape(n.dims,u.dims);if(g){if(v&&!ShapeUtil.areEqual(g,n.dims))return;const _=ShapeUtil.size(g),C=v?n:new Tensor3(g,d||n.type);if(g.length===0)C.set([],p(n.get([]),u.get([])));else{const E=new Array(g.length),w=new Array(n.dims.length),m=new Array(u.dims.length);let y=0,e=0,P=!1,O=!1;n.dims.length===0&&(y=n.get([]),P=!0),u.dims.length===0&&(e=u.get([]),O=!0);let U;for(let W=0;W<_;W++){U=W;for(let V=g.length-1;V>=0;V--)E[V]=U%g[V],U=Math.floor(U/g[V]);P||(sr.fillIndex(E,n.dims,w),y=n.get(w)),O||(sr.fillIndex(E,u.dims,m),e=u.get(m)),C.set(E,p(y,e))}}return C}}static isValidBroadcast(n,u){const p=n.length,v=u.length;if(p>v)return!1;for(let d=1;d<=p;d++)if(n[p-d]!==1&&n[p-d]!==u[v-d])return!1;return!0}static getBroadcastDims(n,u){const p=n.length,v=[];for(let d=0;d<p;d++){const g=p-1-d,_=n[g]||1;(u[u.length-1-d]||1)>1&&_===1&&v.unshift(g)}return v}},GemmUtil=class{static getShapeOfGemmResult(l,n,u,p,v){if(l.length!==2||u.length!==2)throw new Error("shape need to be of size 2");let d,g,_;n?(d=l[1],g=l[0]):(d=l[0],g=l[1]);let C=-1;if(p?(_=u[0],C=1):(_=u[1],C=0),u[C]!==g)throw new Error("dimension mismatch");if(d<=0||_<=0||g<=0)throw new Error("invalid shape specified");if(v&&!BroadcastUtil.isValidBroadcast(v,[d,_]))throw new Error("gemm: invalid bias shape for broadcast");return[d,_,g]}},ProtoUtil=class zn{static tensorDataTypeFromProto(n){switch(n){case import_onnx.onnx.TensorProto.DataType.INT8:return"int8";case import_onnx.onnx.TensorProto.DataType.UINT8:return"uint8";case import_onnx.onnx.TensorProto.DataType.BOOL:return"bool";case import_onnx.onnx.TensorProto.DataType.INT16:return"int16";case import_onnx.onnx.TensorProto.DataType.UINT16:return"uint16";case import_onnx.onnx.TensorProto.DataType.INT32:return"int32";case import_onnx.onnx.TensorProto.DataType.UINT32:return"uint32";case import_onnx.onnx.TensorProto.DataType.FLOAT:return"float32";case import_onnx.onnx.TensorProto.DataType.DOUBLE:return"float64";case import_onnx.onnx.TensorProto.DataType.STRING:return"string";case import_onnx.onnx.TensorProto.DataType.INT64:return"int32";case import_onnx.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${import_onnx.onnx.TensorProto.DataType[n]}`)}}static tensorDataTypeStringToEnum(n){switch(n){case"int8":return import_onnx.onnx.TensorProto.DataType.INT8;case"uint8":return import_onnx.onnx.TensorProto.DataType.UINT8;case"bool":return import_onnx.onnx.TensorProto.DataType.BOOL;case"int16":return import_onnx.onnx.TensorProto.DataType.INT16;case"uint16":return import_onnx.onnx.TensorProto.DataType.UINT16;case"int32":return import_onnx.onnx.TensorProto.DataType.INT32;case"uint32":return import_onnx.onnx.TensorProto.DataType.UINT32;case"float32":return import_onnx.onnx.TensorProto.DataType.FLOAT;case"float64":return import_onnx.onnx.TensorProto.DataType.DOUBLE;case"string":return import_onnx.onnx.TensorProto.DataType.STRING;case"int64":return import_onnx.onnx.TensorProto.DataType.INT64;case"uint64":return import_onnx.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${n}`)}}static tensorDimsFromProto(n){return n.map(u=>long_default.isLong(u)?u.toNumber():u)}static tensorValueTypeFromProto(n){return{tensorType:zn.tensorDataTypeFromProto(n.elemType),shape:{dims:zn.tensorDimsFromProto(n.shape.dim.map(u=>u.dimValue))}}}static tensorDimsFromORTFormat(n){const u=[];for(let p=0;p<n.dimsLength();p++)u.push(LongUtil.longToNumber(n.dims(p)));return u}static tensorAttributesFromORTFormat(n){const u=[];for(let p=0;p<n.attributesLength();p++)u.push(n.attributes(p));return u}},LongUtil=class{static longToNumber(l,n){return long_default.isLong(l)?l.toNumber():l instanceof flatbuffers.Long?long_default.fromValue({low:l.low,high:l.high,unsigned:n??!1}).toNumber():l}static isLong(l){return long_default.isLong(l)||l instanceof flatbuffers.Long}},ShapeUtil=class Pi{static size(n){return Pi.getSizeFromDimensionRange(n,0,n.length)}static sizeFromDimension(n,u){if(u<0||u>n.length)throw new Error(`invalid dimension of ${u} for sizeFromDimension as Tensor has ${n.length} dimensions.`);return Pi.getSizeFromDimensionRange(n,u,n.length)}static sizeToDimension(n,u){if(u<0||u>n.length)throw new Error(`invalid dimension of ${u} for sizeToDimension as Tensor has ${n.length} dimensions.`);return Pi.getSizeFromDimensionRange(n,0,u)}static getSizeFromDimensionRange(n,u,p){let v=1;for(let d=u;d<p;d++){if(n[d]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");v*=n[d]}return v}static computeStrides(n){const u=n.length;if(u===0)return[];if(u===1)return[1];const p=new Array(u);p[u-1]=1,p[u-2]=n[u-1];for(let v=u-3;v>=0;--v)p[v]=p[v+1]*n[v+1];return p}static transpose(n){return n.slice().reverse()}static indicesToOffset(n,u,p){p===void 0&&(p=n.length);let v=0;for(let d=0;d<p;++d)v+=u[d]*n[d];return v}static offsetToIndices(n,u){const p=u.length;if(p===0)return[];if(p===1)return[n*u[0]];const v=new Array(u.length);for(let d=0;d<v.length-1;++d)v[d]=Math.floor(n/u[d]),n-=v[d]*u[d];return v[v.length-1]=n,v}static normalizeAxis(n,u){if(n<-u&&n>=u)throw new Error("unsupported axis for this operation.");return n<0?n+u:n}static normalizeAxes(n,u){return n.map(p=>this.normalizeAxis(p,u))}static incrementIndex(n,u,p){if(u.length===0||n.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(p===void 0)p=u.length;else if(p<=0||p>u.length)throw new Error("Incorrect axis to increment on");for(let v=p-1;v>=0&&(n[v]++,!(n[v]<u[v]));--v)n[v]=0}static calculateReshapedDims(n,u){if(u.length===0){if(n.length===0||Pi.size(n)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}const p=u.length,v=new Array(p);let d=-1,g=1;for(let C=0;C<p;C++){if(u[C]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(u[C]===-1){if(d!==-1)throw new Error("at most one dimension in shape hints can be -1");d=C}else{if(u[C]===0){if(C>=n.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");v[C]=n[C]}else v[C]=u[C];g*=v[C]}}const _=Pi.size(n);if(d!==-1){if(_%g!==0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${n}] Output shape: [${u}]`);v[d]=_/g}else if(g!==_)throw new Error("reshapedDims and originalDims don't have matching sizes");return v}static sortBasedOnPerm(n,u){return u?u.map(p=>n[p]):n.slice().reverse()}static padShape(n,u){const p=n.length;return n.map((v,d)=>v+u[d]+u[d+p])}static areEqual(n,u){return n.length!==u.length?!1:n.every((p,v)=>p===u[v])}static validateDimsAndCalcSize(n){if(n.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let u=1;for(const p of n){if(!Number.isInteger(p))throw new TypeError(`Invalid shape: ${p} is not an integer`);if(p<0||p>2147483647)throw new TypeError(`Invalid shape: length ${p} is not allowed`);u*=p}return u}static flattenShape(n,u){u<0&&(u+=n.length);const p=n.reduce((g,_)=>g*_,1),v=n.slice(u).reduce((g,_)=>g*_,1);return[p/v,v]}static squeezeShape(n,u){const p=new Array;u=Pi.normalizeAxes(u,n.length);for(let v=0;v<n.length;v++){const d=u.indexOf(v)>=0;if(d&&n[v]!==1)throw new Error("squeeze an axis of size different than 1");(u.length===0&&n[v]>1||u.length>0&&!d)&&p.push(n[v])}return p}static unsqueezeShape(n,u){const p=new Array(n.length+u.length);p.fill(0);for(let d=0;d<u.length;d++){const g=Pi.normalizeAxis(u[d],p.length);if(g>=p.length)throw new Error("'axes' has an out of range axis");if(p[g]!==0)throw new Error("'axes' has a duplicate axis");p[g]=1}let v=0;for(let d=0;d<p.length;d++)p[d]===0&&(p[d]=n[v++]);if(v!==n.length)throw new Error("the unsqueezed dimension could not be established");return p}},SplitUtil=class Xs{static splitShape(n,u,p,v){if(p.length===0){if(!v)throw new Error("need to know number of outputs when the 'split' attribute is not specified");Xs.determineSplit(n[u],v,p)}const d=[],g=[0];for(let _=0;_<p.length;++_){_!==0&&g.push(g[_-1]+p[_-1]);const C=n.slice();C[u]=p[_],d.push(C)}return[d,g]}static determineSplit(n,u,p){if(n%u!==0)throw new Error("cannot split tensor to equal sized parts");for(let v=0;v<u;++v)p.push(n/u)}},PoolConvUtil=class ar{static adjustPoolAttributes(n,u,p,v,d,g){if(!n&&p.length!==u.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(n)for(let _=0;_<u.length-2;_++)_>=p.length?p.push(u[_+2]):p[_]=u[_+2];for(let _=0;_<p.length;_++)if(_<v.length){if(v[_]<0)throw new Error("strides should be greater than or equal to 1")}else v.push(1);for(let _=0;_<p.length;_++)if(_<d.length){if(d[_]<0)throw new Error("dilations should be greater than or equal to 1")}else d.push(1);for(let _=0;_<p.length*2;_++)if(_<g.length){if(g[_]<0)throw new Error("pad should be greater than or equal to 1")}else g.push(0);for(let _=0;_<p.length;_++){if(p[_]<=0)throw new Error("kernel shapes need to be greater than 0");if(g[_]>=p[_]||g[_+p.length]>=p[_])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(n,u,p,v,d,g){if(g){if(d.length!==2*(n.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(u.length!==n.length-2)throw new Error("length of strides should be the length of data dimensions");if(v.length!==n.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let _=0;_<n.length-2;_++)ar.adjustPadAndReturnShape(n[_+2],u[_],p[_],v[_],d,_,_+n.length-2,g)}}static computePoolOutputShape(n,u,p,v,d,g,_){if(u.length<=0)throw new Error("input shape must be of size greater than 0");const C=[u[0],u[1]];return ar.computeShapeHelper(n,u,C,p,v,d,g,_),C}static computeConvOutputShape(n,u,p,v,d,g,_){if(n.length<=0||u.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const C=[n[0],u[0]];return ar.computeShapeHelper(!1,n,C,p,v,d,g,_),C}static computeShapeHelper(n,u,p,v,d,g,_,C){if(n)for(let E=0;E<u.length-2;E++)p.push(1);else for(let E=0;E<u.length-2;E++)p.push(ar.adjustPadAndReturnShape(u[E+2],v[E],d[E],g[E],_,E,E+u.length-2,C))}static adjustPadAndReturnShape(n,u,p,v,d,g,_,C){const E=p*(v-1)+1;if(C&&C!=="NOTSET")switch(C){case"VALID":return d[g]=0,d[_]=0,Math.floor((n-E)/u+1);case"SAME_LOWER":case"SAME_UPPER":if(p!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const m=((n+u-1)/u-1)*u+v-n;return d[g]=Math.floor(C==="SAME_LOWER"?(m+1)/2:m/2),d[_]=m-d[g],Math.floor((n+m-v)/u+1)}default:throw new Error("Unsupported AutoPad type")}else return Math.floor((n+d[g]+d[_]-E)/u+1)}},MIN_CLIP=-34028234663852886e22,MAX_CLIP=34028234663852886e22}});function sizeof(l){switch(l){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${l}`)}}function sizeofProto(l){switch(l){case import_onnx2.onnx.TensorProto.DataType.UINT8:case import_onnx2.onnx.TensorProto.DataType.INT8:case import_onnx2.onnx.TensorProto.DataType.BOOL:return 1;case import_onnx2.onnx.TensorProto.DataType.UINT16:case import_onnx2.onnx.TensorProto.DataType.INT16:return 2;case import_onnx2.onnx.TensorProto.DataType.FLOAT:case import_onnx2.onnx.TensorProto.DataType.INT32:case import_onnx2.onnx.TensorProto.DataType.UINT32:return 4;case import_onnx2.onnx.TensorProto.DataType.INT64:case import_onnx2.onnx.TensorProto.DataType.DOUBLE:case import_onnx2.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${import_onnx2.onnx.TensorProto.DataType[l]}`)}}function createView(l,n){return new(dataviewConstructor(n))(l)}function dataviewConstructor(l){switch(l){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function longToNumber(l,n){if(n===import_onnx2.onnx.TensorProto.DataType.INT64||n===ortFbs.TensorDataType.INT64){if(l.greaterThanOrEqual(2147483648)||l.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else if(n===import_onnx2.onnx.TensorProto.DataType.UINT32||n===ortFbs.TensorDataType.UINT32||n===import_onnx2.onnx.TensorProto.DataType.UINT64||n===ortFbs.TensorDataType.UINT64){if(l.greaterThanOrEqual(4294967296)||l.lessThan(0))throw new TypeError("uint64 is not supported")}else throw new TypeError(`not a LONG type: ${import_onnx2.onnx.TensorProto.DataType[n]}`);return l.toNumber()}function readProto(l,n,u){switch(n){case import_onnx2.onnx.TensorProto.DataType.BOOL:case import_onnx2.onnx.TensorProto.DataType.UINT8:return l.getUint8(u);case import_onnx2.onnx.TensorProto.DataType.INT8:return l.getInt8(u);case import_onnx2.onnx.TensorProto.DataType.UINT16:return l.getUint16(u,!0);case import_onnx2.onnx.TensorProto.DataType.INT16:return l.getInt16(u,!0);case import_onnx2.onnx.TensorProto.DataType.FLOAT:return l.getFloat32(u,!0);case import_onnx2.onnx.TensorProto.DataType.INT32:return l.getInt32(u,!0);case import_onnx2.onnx.TensorProto.DataType.UINT32:return l.getUint32(u,!0);case import_onnx2.onnx.TensorProto.DataType.INT64:return longToNumber(long_default.fromBits(l.getUint32(u,!0),l.getUint32(u+4,!0),!1),n);case import_onnx2.onnx.TensorProto.DataType.DOUBLE:return l.getFloat64(u,!0);case import_onnx2.onnx.TensorProto.DataType.UINT64:return longToNumber(long_default.fromBits(l.getUint32(u,!0),l.getUint32(u+4,!0),!0),n);default:throw new Error(`cannot read from DataView for type ${import_onnx2.onnx.TensorProto.DataType[n]}`)}}var import_guid_typescript,import_onnx2,ortFbs,Tensor3,init_tensor2=__esm({"web/lib/onnxjs/tensor.ts"(){import_guid_typescript=__toESM(require_guid()),init_long(),init_ort_generated(),import_onnx2=__toESM(require_onnx()),init_util(),ortFbs=onnxruntime.experimental.fbs,Tensor3=class Vr{constructor(n,u,p,v,d,g=import_guid_typescript.Guid.create()){this.dims=n,this.type=u,this.dataProvider=p,this.asyncDataProvider=v,this.cache=d,this.dataId=g,this.size=ShapeUtil.validateDimsAndCalcSize(n);const _=this.size,C=p===void 0&&v===void 0&&d===void 0;if(d!==void 0&&d.length!==_)throw new RangeError("Input dims doesn't match data length.");if(u==="string"){if(d!==void 0&&(!Array.isArray(d)||!d.every(E=>typeof E=="string")))throw new TypeError("cache should be a string array");C&&(this.cache=new Array(_))}else{if(d!==void 0){const E=dataviewConstructor(u);if(!(d instanceof E))throw new TypeError(`cache should be type ${E.name}`)}if(C){const E=new ArrayBuffer(_*sizeof(u));this.cache=createView(E,u)}}}get data(){if(this.cache===void 0){const n=this.dataProvider(this.dataId);if(n.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=n}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(n){return this.data[ShapeUtil.indicesToOffset(n,this.strides)]}set(n,u){this.data[ShapeUtil.indicesToOffset(n,this.strides)]=u}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=ShapeUtil.computeStrides(this.dims)),this._strides}static fromProto(n){if(!n)throw new Error("cannot construct Value from an empty tensor");const u=ProtoUtil.tensorDataTypeFromProto(n.dataType),p=ProtoUtil.tensorDimsFromProto(n.dims),v=new Vr(p,u);if(u==="string")n.stringData.forEach((d,g)=>{v.data[g]=decodeUtf8String(d)});else if(n.rawData&&typeof n.rawData.byteLength=="number"&&n.rawData.byteLength>0){const d=v.data,g=new DataView(n.rawData.buffer,n.rawData.byteOffset,n.rawData.byteLength),_=sizeofProto(n.dataType),C=n.rawData.byteLength/_;if(n.rawData.byteLength%_!==0)throw new Error("invalid buffer length");if(d.length!==C)throw new Error("buffer length mismatch");for(let E=0;E<C;E++){const w=readProto(g,n.dataType,E*_);d[E]=w}}else{let d;switch(n.dataType){case import_onnx2.onnx.TensorProto.DataType.FLOAT:d=n.floatData;break;case import_onnx2.onnx.TensorProto.DataType.INT32:case import_onnx2.onnx.TensorProto.DataType.INT16:case import_onnx2.onnx.TensorProto.DataType.UINT16:case import_onnx2.onnx.TensorProto.DataType.INT8:case import_onnx2.onnx.TensorProto.DataType.UINT8:case import_onnx2.onnx.TensorProto.DataType.BOOL:d=n.int32Data;break;case import_onnx2.onnx.TensorProto.DataType.INT64:d=n.int64Data;break;case import_onnx2.onnx.TensorProto.DataType.DOUBLE:d=n.doubleData;break;case import_onnx2.onnx.TensorProto.DataType.UINT32:case import_onnx2.onnx.TensorProto.DataType.UINT64:d=n.uint64Data;break;default:throw new Error("unspecific error")}if(d==null)throw new Error("failed to populate data from a tensorproto value");const g=v.data;if(g.length!==d.length)throw new Error("array length mismatch");for(let _=0;_<d.length;_++){const C=d[_];long_default.isLong(C)?g[_]=longToNumber(C,n.dataType):g[_]=C}}return v}static fromData(n,u,p){return new Vr(u,p,void 0,void 0,n)}static fromOrtTensor(n){if(!n)throw new Error("cannot construct Value from an empty tensor");const u=ProtoUtil.tensorDimsFromORTFormat(n),p=ProtoUtil.tensorDataTypeFromProto(n.dataType()),v=new Vr(u,p);if(p==="string")for(let d=0;d<n.stringDataLength();d++)v.data[d]=n.stringData(d);else if(n.rawDataArray()&&typeof n.rawDataLength()=="number"&&n.rawDataLength()>0){const d=v.data,g=new DataView(n.rawDataArray().buffer,n.rawDataArray().byteOffset,n.rawDataLength()),_=sizeofProto(n.dataType()),C=n.rawDataLength()/_;if(n.rawDataLength()%_!==0)throw new Error("invalid buffer length");if(d.length!==C)throw new Error("buffer length mismatch");for(let E=0;E<C;E++){const w=readProto(g,n.dataType(),E*_);d[E]=w}}return v}}}});function getGlsl(l){return l===1?GLSL_ES_2_0:GLSL_ES_3_0}function getVertexShaderSource(l){const n=getGlsl(l);return`${n.version}
      precision highp float;
      ${n.attribute} vec3 position;
      ${n.attribute} vec2 textureCoord;

      ${n.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`}function getFragShaderPreamble(l){const n=getGlsl(l);return`${n.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${n.varyingFrag} vec2 TexCoords;
    ${n.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `}function getDefaultFragShaderMain(l,n){const u=getGlsl(l);return`
  void main() {
    int indices[${n}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${u.output} = result;
  }
  `}var GLSL_ES_2_0,GLSL_ES_3_0,init_glsl_source=__esm({"web/lib/onnxjs/backends/webgl/glsl-source.ts"(){GLSL_ES_2_0={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},GLSL_ES_3_0={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"}}}),init_types=__esm({"web/lib/onnxjs/backends/webgl/types.ts"(){}});async function repeatedTry(l,n=p=>0,u){return new Promise((p,v)=>{let d=0;const g=()=>{if(l()){p();return}d++;const _=n(d);if(u!=null&&d>=u){v();return}setTimeout(g,_)};g()})}function generateShaderFuncNameFromInputSamplerName(l){return assert(typeof l<"u"&&l.length!==0,()=>"empty string found for sampler name"),"get"+l.charAt(0).toUpperCase()+l.slice(1)}function generateShaderFuncNameFromInputSamplerNameAtOutCoords(l){return assert(typeof l<"u"&&l.length!==0,()=>"empty string found for sampler name"),"get"+l.charAt(0).toUpperCase()+l.slice(1)+"AtOutCoords"}function squeezeInputShape(l,n){let u=JSON.parse(JSON.stringify(l));return u=n,u}function getSqueezedParams(l,n){return n.map(u=>l[u]).join(", ")}function getCoordsDataType(l){if(l<=1)return"int";if(l===2)return"ivec2";if(l===3)return"ivec3";if(l===4)return"ivec4";if(l===5)return"ivec5";if(l===6)return"ivec6";throw Error(`GPU for rank ${l} is not yet supported`)}function getGlChannels(l=6){return["x","y","z","w","u","v"].slice(0,l)}var init_utils=__esm({"web/lib/onnxjs/backends/webgl/utils.ts"(){init_util()}});function getVecChannels(l,n){return getGlChannels(n).map(u=>`${l}.${u}`)}function getChannels(l,n){return n===1?[l]:getVecChannels(l,n)}function unpackFromChannel(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}var init_packing_utils=__esm({"web/lib/onnxjs/backends/webgl/ops/packing-utils.ts"(){init_utils()}});function getOutOfBoundsCondition(l,n,u){if(l===0)return"false";if(l===1)return`rc > ${n[0]}`;let p="";for(let v=l-2;v<l;v++)p+=`${u[v]} >= ${n[v-l+2]}`,v<l-1&&(p+="||");return p}function getOutput(l,n){const u=l.length;if(u===0)return"getA(), 0, 0, 0";if(u===1)return`getA(rc),
            rc + 1 >= ${l[0]} ? 0. : getA(rc + 1),
            0, 0`;const p="r, c",v="r, cp1",d="rp1, c",g="rp1, cp1";let _="";if(u>2)for(let C=0;C<u-2;++C)_=_+`${n[C]},`;return`getA(${_}${p}),
          rEdge ? 0. : getA(${_}${d}),
          cEdge ? 0. : getA(${_}${v}),
          rEdge || cEdge ? 0. : getA(${_}${g})`}function getSetup(l,n,u,p){return l===0||l===1?"":`
    int r = ${n[l-2]};
    int c = ${n[l-1]};
    int rp1 = ${n[l-2]} + 1;
    int cp1 = ${n[l-1]} + 1;
    bool rEdge = rp1 >= ${p};
    bool cEdge = cp1 >= ${u};
    `}var packProgramMetadata,createPackProgramInfo,createPackProgramInfoLoader,init_pack=__esm({"web/lib/onnxjs/backends/webgl/ops/pack.ts"(){init_glsl_source(),init_types(),init_utils(),init_packing_utils(),packProgramMetadata={name:"pack",inputNames:["A"],inputTypes:[1]},createPackProgramInfo=(l,n)=>{const u=getGlsl(l.session.backend.glContext.version),p=n.dims,v=p.length,d=n.dims.length,g=getCoordsDataType(d),_=getChannels("rc",d),C=getSetup(d,_,p[p.length-2],p[p.length-1]);let E;v===0?E=[1,1]:v===1?E=[p[0],1]:E=[p[d-1],p[d-2]];const w=getOutOfBoundsCondition(d,E,_),m=getOutput(p,_),y=`
        void main() {
          ${g} rc = getOutputCoords();

          if(${w}) {
            ${u.output} = vec4(0);
          } else {
            ${C}

            ${u.output} = vec4(${m});
          }
        }
      `;return{...packProgramMetadata,hasMain:!0,output:{dims:n.dims,type:n.type,textureType:2},shaderSource:y}},createPackProgramInfoLoader=(l,n)=>({...packProgramMetadata,get:()=>createPackProgramInfo(l,n)})}});function processDims3D(l){if(l.length===0)return[1,1,1];let n=1;for(let u=0;u<l.length-2;++u)n*=l[u];return[n,l.length>1?l[l.length-2]:1,l[l.length-1]]}function isReshapeCheap(l,n){let u=!1;return l.length===0||n.length===0?u=!0:l.length<2||n.length<2?u=l[l.length-1]===n[n.length-1]:u=l[l.length-1]===n[n.length-1]&&l[l.length-2]===n[n.length-2],u}function getReshapedInputCoords(l){const n=ShapeUtil.computeStrides(l),u=["b","r","c"],p="index";return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${n.map((d,g)=>{const _=`int ${u[g]} = ${p} / ${d}`,C=g===n.length-1?`int ${u[g+1]} = ${p} - ${u[g]} * ${d}`:`index -= ${u[g]} * ${d}`;return`${_}; ${C};`}).join("")}
      return ivec3(b, r, c);
    }
  `}function getFlattenedIndexFrom3D(l){const n=ShapeUtil.computeStrides(l);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${n[0]} + coords.z * ${n[1]} + coords.y;
  }
`}var createPackedReshape3DProgramMetadata,createPackedReshape3DProgramInfo,createPackedReshape3DProgramInfoLoader,init_reshape_packed=__esm({"web/lib/onnxjs/backends/webgl/ops/reshape-packed.ts"(){init_util(),init_glsl_source(),init_types(),init_packing_utils(),createPackedReshape3DProgramMetadata=l=>({name:"Reshape (packed)",inputTypes:[2],inputNames:["A"],cacheHint:`${l}`}),createPackedReshape3DProgramInfo=(l,n,u,p)=>{const v=n.dims,d=p;let g="";for(let E=0;E<4;E++){let w="";switch(E){case 0:w="outputCoords = rc;";break;case 1:w="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:w="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:w="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}g+=`
        ${w}
        ${E>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${E}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${E>0?"}":""}
      `}const _=getGlsl(l.session.backend.glContext.version),C=`
      ${getReshapedInputCoords(v)}
      ${getFlattenedIndexFrom3D(d)}
      ${unpackFromChannel()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${d[2]};
        int cols = ${d[1]};

        ${g}
        ${_.output} = result;
      }
    `;return{...u,output:{dims:d,type:n.type,textureType:2},shaderSource:C,hasMain:!0}},createPackedReshape3DProgramInfoLoader=(l,n,u)=>{const p=createPackedReshape3DProgramMetadata(u);return{...p,get:()=>createPackedReshape3DProgramInfo(l,n,p,u)}}}}),encodeAsUint8,init_uint8_encode=__esm({"web/lib/onnxjs/backends/webgl/ops/uint8-encode.ts"(){init_glsl_source(),init_types(),encodeAsUint8=(l,n)=>{const u=n.shape,p=getGlsl(l.session.backend.glContext.version),v=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${p.texture2D}(X,TexCoords).r;
      ${p.output} = encodeAsUint8(value);
    }`,d={name:"Uint8Encode",inputTypes:[0],inputNames:["X"],output:{dims:u,type:n.tensor.type,textureType:3},shaderSource:v,hasMain:!0};return l.executeProgram(d,[n.tensor])}}});function getSourceCoords(l,n){if(l===1)return"rc";let u="";for(let p=0;p<l;p++)u+=n[p],p<l-1&&(u+=",");return u}var unpackProgramMetadata,createUnpackProgramInfo,createUnpackProgramInfoLoader,init_unpack=__esm({"web/lib/onnxjs/backends/webgl/ops/unpack.ts"(){init_glsl_source(),init_types(),init_utils(),init_packing_utils(),unpackProgramMetadata={name:"unpack",inputNames:["A"],inputTypes:[2]},createUnpackProgramInfo=(l,n)=>{const u=n.dims.length,p=getChannels("rc",u),v=p.slice(-2),d=getCoordsDataType(u),g=unpackFromChannel(),C=n.dims.length===0?"":getSourceCoords(u,p),E=u<=1?"rc":`vec2(${v.join(",")})`,w=getGlsl(l.session.backend.glContext.version),m=`
    ${g}
    void main() {
      ${d} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${C});

       ${w.output} = vec4(getChannel(packedInput, ${E}), 0, 0, 0);
     }
   `;return{...unpackProgramMetadata,hasMain:!0,output:{dims:n.dims,type:n.type,textureType:0},shaderSource:m}},createUnpackProgramInfoLoader=(l,n)=>({...unpackProgramMetadata,get:()=>createUnpackProgramInfo(l,n)})}}),RedFloat32DataEncoder,RGBAFloatDataEncoder,Uint8DataEncoder,init_texture_data_encoder=__esm({"web/lib/onnxjs/backends/webgl/texture-data-encoder.ts"(){init_instrument(),RedFloat32DataEncoder=class{constructor(l,n=1){if(n===1)this.internalFormat=l.R32F,this.format=l.RED,this.textureType=l.FLOAT,this.channelSize=n;else if(n===4)this.internalFormat=l.RGBA32F,this.format=l.RGBA,this.textureType=l.FLOAT,this.channelSize=n;else throw new Error(`Invalid number of channels: ${n}`)}encode(l,n){let u,p;return l.constructor!==Float32Array&&(Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),p=new Float32Array(l)),n*this.channelSize>l.length?(Logger.warning("Encoder","Source data too small. Allocating larger array"),p=l,u=this.allocate(n*this.channelSize),p.forEach((v,d)=>u[d]=v)):(p=l,u=p),u}allocate(l){return new Float32Array(l*4)}decode(l,n){return this.channelSize===1?l.filter((p,v)=>v%4===0).subarray(0,n):l.subarray(0,n)}},RGBAFloatDataEncoder=class{constructor(l,n=1,u){if(n!==1&&n!==4)throw new Error(`Invalid number of channels: ${n}`);this.internalFormat=l.RGBA,this.format=l.RGBA,this.channelSize=n,this.textureType=u||l.FLOAT}encode(l,n){let u=l;return this.channelSize===1&&(Logger.verbose("Encoder","Exploding into a larger array"),u=this.allocate(n),l.forEach((p,v)=>u[v*4]=p)),u}allocate(l){return new Float32Array(l*4)}decode(l,n){return this.channelSize===1?l.filter((p,v)=>v%4===0).subarray(0,n):l.subarray(0,n)}},Uint8DataEncoder=class{constructor(l,n=1){if(this.channelSize=4,n===1)this.internalFormat=l.ALPHA,this.format=l.ALPHA,this.textureType=l.UNSIGNED_BYTE,this.channelSize=n;else if(n===4)this.internalFormat=l.RGBA,this.format=l.RGBA,this.textureType=l.UNSIGNED_BYTE,this.channelSize=n;else throw new Error(`Invalid number of channels: ${n}`)}encode(l,n){return new Uint8Array(l.buffer,l.byteOffset,l.byteLength)}allocate(l){return new Uint8Array(l*this.channelSize)}decode(l,n){if(l instanceof Uint8Array)return l.subarray(0,n);throw new Error(`Invalid array type: ${l.constructor}`)}}}}),createTextureLayoutFromTextureType,calculateTextureWidthAndHeight,createTextureLayoutFromShape,init_texture_layout=__esm({"web/lib/onnxjs/backends/webgl/texture-layout.ts"(){init_util(),init_types(),createTextureLayoutFromTextureType=(l,n,u)=>{const p=u===0||u===1?1:4,v=u===2,d=u===1||u===2,g=u===4?n.length-1:void 0,_=u===4?n.map((C,E)=>E===n.length-1?C*4:C):void 0;return createTextureLayoutFromShape(l,n,p,_,{isPacked:v,reverseWH:d,breakAxis:g})},calculateTextureWidthAndHeight=(l,n,u)=>{const p=createTextureLayoutFromTextureType(l,n,u);return[p.width,p.height]},createTextureLayoutFromShape=(l,n,u=1,p,v)=>{const d=!!(v&&v.isPacked),[g,_]=l.computeTextureWH(d&&p||n,v),C=n.length;let E=n.slice(0);if(C===0&&(E=[1]),u===1)p=n;else if(d){if(u!==4)throw new Error("a packed texture must be 4-channel");p=n,C>0&&(E[C-1]=Math.ceil(E[C-1]/2)),C>1&&(E[C-2]=Math.ceil(E[C-2]/2))}else if(!p)throw new Error("Unpacked shape is needed when using channels > 1");return{width:g,height:_,channels:u,isPacked:d,shape:E,strides:ShapeUtil.computeStrides(E),unpackedShape:p,reversedWH:v&&v.reverseWH}}}}),getProgramInfoUniqueKey,WebGLInferenceHandler,init_inference_handler=__esm({"web/lib/onnxjs/backends/webgl/inference-handler.ts"(){init_instrument(),init_tensor2(),init_util(),init_pack(),init_reshape_packed(),init_uint8_encode(),init_unpack(),init_texture_data_encoder(),init_texture_layout(),init_types(),getProgramInfoUniqueKey=(l,n)=>{const u=n.map(v=>`${v.unpackedShape.join(",")};${v.width}x${v.height}`).join("_");let p=l.name;return l.cacheHint&&(p+="["+l.cacheHint+"]"),p+=":"+u,p},WebGLInferenceHandler=class{constructor(l){this.session=l,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(l,n){return calculateTextureWidthAndHeight(this.session.layoutStrategy,l,n)}executeProgram(l,n){if(n.length<l.inputNames.length)throw new Error(`Input size mustn't be less than ${l.inputNames.length}.`);if(l.inputNames.length!==l.inputTypes.length)throw new Error("input names size does not match input types");const u=[];for(let C=0;C<l.inputNames.length;++C)u[C]=this.getOrCreateTextureData(n[C],l.inputTypes[C]);const p=getProgramInfoUniqueKey(l,u);let v=this.session.programManager.getArtifact(p);const d=v?v.programInfo:typeof l.get=="function"?l.get():l,g=createTextureLayoutFromTextureType(this.session.layoutStrategy,d.output.dims,d.output.textureType),_=this.createTextureData(g,d.output.type);return v||(v=this.session.programManager.build(d,u,_),this.session.programManager.setArtifact(p,v)),this.runProgram(v,u,_),_}run(l,n){return this.executeProgram(l,n).tensor}runProgram(l,n,u){for(let p=0;p<n.length;++p)if(!!n[p].isPacked!=(l.programInfo.inputTypes[p]===2))throw new Error(`input[${p}] property packed inconsistent`);if(!!u.isPacked!=(l.programInfo.output.textureType===2))throw new Error("output property packed inconsistent");this.session.programManager.run(l,n,u)}getOrCreateTextureData(l,n){let u=this.getTextureData(l.dataId,n===2);if(!u&&(u=this.getTextureData(l.dataId,n!==2),u))return n===2?this.pack(u):this.unpack(u);if(!u){const p=createTextureLayoutFromTextureType(this.session.layoutStrategy,l.dims,n);if(n===4){const g=l.dims;if(g.length===4){const _=[g[0],Math.ceil(g[1]*g[2]*g[3]/4)],C=createTextureLayoutFromTextureType(this.session.layoutStrategy,_,n);let E=l.numberData;if(g[1]*g[2]*g[3]%4!==0){const w=g[0],m=g[1]*g[2]*g[3],y=Math.ceil(m*1/4)*4,e=w*y;E=new Float32Array(e);for(let P=0;P<w;++P){const O=P*m,U=P*y+P%1*m;E.set(l.numberData.subarray(O,O+m),U)}}return this.createTextureData(C,l.type,E,l,1)}}if(n===2){const v=createTextureLayoutFromShape(this.session.layoutStrategy,l.dims,1,[],{reverseWH:!0}),d=this.createTextureData(v,l.type,l.numberData,l,1);u=this.pack(d)}else u=this.createTextureData(p,l.type,l.numberData,l,1)}return u}createTextureDataFromLayoutBindTensor(l,n,u,p){return this.createTextureData(l,n,u,p,1)}createTextureData(l,n,u,p,v){Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(l)}]`);const d=this.session.textureManager.createTextureFromLayout(n,l,u,v);return this.createTextureDataFromTexture(l,n,d,p)}reshapeUnpacked(l,n){const u=this.getOrCreateTextureData(l,0),p={channels:u.channels,height:u.height,width:u.width,shape:n.length!==0?n:[1],strides:ShapeUtil.computeStrides(n),unpackedShape:n};return this.createTextureDataFromTexture(p,l.type,u.texture).tensor}reshapePacked(l,n){const u=this.getOrCreateTextureData(l,2);if(isReshapeCheap(l.dims,n)){const C={channels:u.channels,height:u.height,width:u.width,shape:n.length!==0?n:[1],strides:ShapeUtil.computeStrides(n),unpackedShape:n,isPacked:!0};return this.createTextureDataFromTexture(C,l.type,u.texture).tensor}const p=processDims3D(l.dims),v=processDims3D(n),d=this.reshapePacked(l,p),g=this.run(createPackedReshape3DProgramInfoLoader(this,d,v),[d]);return this.reshapePacked(g,n)}cast(l,n){const u=this.getOrCreateTextureData(l,0);return this.createTextureDataFromTexture(u,n,u.texture).tensor}createTextureDataFromTexture(l,n,u,p,v){const d={...l,tensor:p||new Tensor3(l.unpackedShape,n,g=>this.readTexture(d),async g=>this.readTextureAsync(d),void 0,v),texture:u};return this.setTextureData(d.tensor.dataId,d,l.isPacked),d}getTextureData(l,n=!1){return this.session.isInitializer(l)?this.session.getTextureData(l,n):n?this.packedTextureDataCache.get(l):this.unpackedTextureDataCache.get(l)}setTextureData(l,n,u=!1){this.session.isInitializer(l)?this.session.setTextureData(l,n,u):(u?this.packedTextureDataCache:this.unpackedTextureDataCache).set(l,n)}isTextureLayoutCached(l,n=!1){return!!this.getTextureData(l.dataId,n)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(l=>this.session.textureManager.releaseTexture(l)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(l=>this.session.textureManager.releaseTexture(l)),this.unpackedTextureDataCache=new Map}readTexture(l){return l.isPacked?this.readTexture(this.unpack(l)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(l,l.tensor.type,l.channels):this.session.textureManager.readUint8TextureAsFloat(encodeAsUint8(this,l))}async readTextureAsync(l){return l.isPacked?this.readTextureAsync(this.unpack(l)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(l,l.tensor.type,l.channels):this.session.textureManager.readUint8TextureAsFloat(encodeAsUint8(this,l))}pack(l){return this.executeProgram(createPackProgramInfoLoader(this,l.tensor),[l.tensor])}unpack(l){return this.executeProgram(createUnpackProgramInfoLoader(this,l.tensor),[l.tensor])}}}}),AttributeWithCacheKeyImpl,createAttributeWithCacheKey,init_attribute_with_cache_key=__esm({"web/lib/onnxjs/attribute-with-cache-key.ts"(){AttributeWithCacheKeyImpl=class{constructor(l){Object.assign(this,l)}get cacheKey(){return this.key||(this.key=Object.getOwnPropertyNames(this).sort().map(l=>`${this[l]}`).join(";")),this.key}},createAttributeWithCacheKey=l=>new AttributeWithCacheKeyImpl(l)}}),batchNormalizationProgramMetadata,batchNormalization,parseBatchNormalizationAttributes,createBatchNormalizationProgramInfo,validateInputs,init_batch_normalization=__esm({"web/lib/onnxjs/backends/webgl/ops/batch-normalization.ts"(){init_attribute_with_cache_key(),init_glsl_source(),init_types(),batchNormalizationProgramMetadata={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[0,0,0,0,0]},batchNormalization=(l,n,u)=>(validateInputs(n),[l.run({...batchNormalizationProgramMetadata,cacheHint:u.cacheKey,get:()=>createBatchNormalizationProgramInfo(l,n,u)},n)]),parseBatchNormalizationAttributes=l=>{const n=l.attributes.getFloat("epsilon",1e-5),u=l.attributes.getFloat("momentum",.9),p=l.attributes.getInt("spatial",1);return createAttributeWithCacheKey({epsilon:n,momentum:u,spatial:p})},createBatchNormalizationProgramInfo=(l,n,u)=>{const p=getGlsl(l.session.backend.glContext.version),v=n[0].dims.length,[d,g]=l.calculateTextureWidthAndHeight(n[1].dims,0),_=`
  float process(int[${v}] indices) {
    vec2 position = offsetToCoords(indices[1], ${d}, ${g});
    float scale = getColorAsFloat(${p.texture2D}(Scale, position));
    float mean = getColorAsFloat(${p.texture2D}(Mean, position));
    float variance = getColorAsFloat(${p.texture2D}(Variance, position));
    float b = getColorAsFloat(${p.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${u.epsilon})) ) + b;
  }`;return{...batchNormalizationProgramMetadata,output:{dims:n[0].dims,type:n[0].type,textureType:0},shaderSource:_}},validateInputs=l=>{if(!l||l.length!==5)throw new Error("BatchNormalization requires 5 inputs.");const n=l[0],u=l[1],p=l[2],v=l[3],d=l[4];if(n.dims.length<3||u.dims.length!==1||p.dims.length!==1||v.dims.length!==1||d.dims.length!==1)throw new Error("invalid input shape.");if(u.dims[0]!==n.dims[1]||p.dims[0]!==n.dims[1]||v.dims[0]!==n.dims[1]||d.dims[0]!==n.dims[1])throw new Error("invalid input shape.");if(n.type!=="float32"&&n.type!=="float64"||u.type!=="float32"&&u.type!=="float64"||p.type!=="float32"&&p.type!=="float64"||v.type!=="float32"&&v.type!=="float64"||d.type!=="float32"&&d.type!=="float64")throw new Error("invalid input tensor types.")}}}),GlslContext,GlslLib,GlslLibRoutine,GlslLibRoutineNode,TopologicalSortGlslRoutines,init_glsl_definitions=__esm({"web/lib/onnxjs/backends/webgl/glsl-definitions.ts"(){GlslContext=class{constructor(l,n,u,p){this.glContext=l,this.programInfo=n,this.inputTextureLayouts=u,this.outputTextureLayout=p}},GlslLib=class{constructor(l){this.context=l}},GlslLibRoutine=class{constructor(l,n){this.routineBody=l,this.dependencies=n}},GlslLibRoutineNode=class{constructor(l,n,u){this.name=l,u?this.dependencies=u:this.dependencies=[],n&&(this.routineBody=n)}addDependency(l){l&&this.dependencies.push(l)}},TopologicalSortGlslRoutines=class{static returnOrderedNodes(l){if(!l||l.length===0)return[];if(l.length===1)return l;const n=new Set,u=new Set,p=new Array;return this.createOrderedNodes(l,n,u,p),p}static createOrderedNodes(l,n,u,p){for(let v=0;v<l.length;++v)this.dfsTraverse(l[v],n,u,p)}static dfsTraverse(l,n,u,p){if(!l||u.has(l.name))return;if(n.has(l.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");n.add(l.name);const v=l.dependencies;if(v&&v.length>0)for(let d=0;d<v.length;++d)this.dfsTraverse(v[d],n,u,p);p.push(l),u.add(l.name),n.delete(l.name)}}}});function glslAdd(){const l="add_";return{body:`
  float ${l}(float a, float b) {
    return a + b;
  }
  vec4 ${l}(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:l,type:0}}function glslDiv(){const l="div_";return{body:`
  float ${l}(float a, float b) {
    return a / b;
  }
  vec4 ${l}(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:l,type:0}}function glslMul(){const l="mul_";return{body:`
  float ${l}(float a, float b) {
    return a * b;
  }
  vec4 ${l}(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:l,type:0}}function glslSub(){const l="sub_";return{body:`
  float ${l}(float a, float b) {
    return a - b;
  }
  vec4 ${l}(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:l,type:0}}function glslEqual(){const l="equal_";return{body:`
  float ${l}(float a, float b) {
    return float(a == b);
  }
  vec4 ${l}(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:l,type:0}}function glslGreater(){const l="greater_";return{body:`
  float ${l}(float a, float b) {
    return float(a > b);
  }
  vec4 ${l}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:l,type:0}}function glslLess(){const l="less_";return{body:`
  float ${l}(float a, float b) {
    return float(a < b);
  }
  vec4 ${l}(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:l,type:0}}function glslAnd(){const l="and_";return{body:`
  float ${l}(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 ${l}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:l,type:0}}function glslOr(){const l="or_";return{body:`
  float ${l}(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 ${l}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:l,type:0}}function glslXor(){const l="xor_";return{body:`
  float ${l}(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 ${l}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:l,type:0}}function glslPow(){return glslBuiltinBinary("pow")}function glslPRelu(){const l="prelu_";return{body:`
  float ${l}(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 ${l}(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:l,type:0}}function glslBuiltinBinary(l){const n=`${l}_`;return{body:`
  float ${n}(float a, float b) {
    return ${l}(a, b);
  }
  vec4 ${n}(vec4 v1, vec4 v2) {
    return ${l}(v1, v2);
  }
  `,name:n,type:0}}var createBinaryProgramInfoLoader,createBinaryProgramInfo,add2,and2,div,equal,greater,less,mul,or2,pow,pRelu,sub,xor2,init_binary_op=__esm({"web/lib/onnxjs/backends/webgl/ops/binary-op.ts"(){init_util(),init_glsl_definitions(),init_glsl_source(),init_types(),createBinaryProgramInfoLoader=(l,n,u,p=n[0].type,v)=>{const d=l.session.pack?2:0;return{name:u.name,inputNames:["A","B"],inputTypes:[d,d],cacheHint:v,get:()=>createBinaryProgramInfo(l,n,u,p)}},createBinaryProgramInfo=(l,n,u,p=n[0].type)=>{const v=l.session.pack?2:0,d=!ShapeUtil.areEqual(n[0].dims,n[1].dims);let g=n[0].dims;const _=l.session.pack;if(d){const w=BroadcastUtil.calcShape(n[0].dims,n[1].dims,!1);if(!w)throw new Error("Can't perform binary op on the given tensors");g=w;const m=g.length,y=n[0].dims.length!==0?n[0].dims.length:1,e=n[1].dims.length!==0?n[1].dims.length:1,P=n[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",O=n[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",U=getGlsl(l.session.backend.glContext.version),W=_?`
      ${u.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${u.name}(a, b);
        ${U.output} = result;
      }`:`
      ${u.body}
      float process(int indices[${m}]) {
        int aindices[${y}];
        int bindices[${e}];
        ${P}
        ${O}
        return ${u.name}(_A(aindices), _B(bindices));
      }`;return{name:u.name,inputNames:["A","B"],inputTypes:[v,v],output:{dims:g,type:p,textureType:v},shaderSource:W,hasMain:_}}const C=getGlsl(l.session.backend.glContext.version),E=`
    ${u.body}
    void main() {
      vec4 v1 = ${C.texture2D}(A, TexCoords);
      vec4 v2 = ${C.texture2D}(B, TexCoords);
      vec4 result = ${u.name}(v1, v2);
      ${C.output} = result;
    }
    `;return{name:u.name,inputNames:["A","B"],inputTypes:[v,v],output:{dims:n[0].dims,type:p,textureType:v},shaderSource:E,hasMain:!0}},add2=(l,n)=>[l.run(createBinaryProgramInfoLoader(l,n,glslAdd()),n)],and2=(l,n)=>[l.run(createBinaryProgramInfoLoader(l,n,glslAnd(),"bool"),n)],div=(l,n)=>[l.run(createBinaryProgramInfoLoader(l,n,glslDiv()),n)],equal=(l,n)=>[l.run(createBinaryProgramInfoLoader(l,n,glslEqual(),"bool"),n)],greater=(l,n)=>[l.run(createBinaryProgramInfoLoader(l,n,glslGreater(),"bool"),n)],less=(l,n)=>[l.run(createBinaryProgramInfoLoader(l,n,glslLess(),"bool"),n)],mul=(l,n)=>[l.run(createBinaryProgramInfoLoader(l,n,glslMul()),n)],or2=(l,n)=>[l.run(createBinaryProgramInfoLoader(l,n,glslOr(),"bool"),n)],pow=(l,n)=>[l.run(createBinaryProgramInfoLoader(l,n,glslPow()),n)],pRelu=(l,n)=>[l.run(createBinaryProgramInfoLoader(l,n,glslPRelu()),n)],sub=(l,n)=>[l.run(createBinaryProgramInfoLoader(l,n,glslSub()),n)],xor2=(l,n)=>[l.run(createBinaryProgramInfoLoader(l,n,glslXor(),"bool"),n)]}}),cast,parseCastAttributes,validateInputs2,init_cast=__esm({"web/lib/onnxjs/backends/webgl/ops/cast.ts"(){init_util(),cast=(l,n,u)=>(validateInputs2(n),[l.cast(n[0],u)]),parseCastAttributes=l=>ProtoUtil.tensorDataTypeFromProto(l.attributes.getInt("to")),validateInputs2=l=>{if(!l||l.length!==1)throw new Error("Cast requires 1 input.");if(l[0].type==="string")throw new Error("Invalid input type.")}}}),createPackedConcatProgramMetadata,createPackedConcatProgramInfo,createPackedConcatProgramInfoLoader,getShiftedChannelsSnippet,init_concat_packed=__esm({"web/lib/onnxjs/backends/webgl/ops/concat-packed.ts"(){init_glsl_source(),init_types(),init_utils(),init_packing_utils(),createPackedConcatProgramMetadata=(l,n)=>({name:"Concat (packed)",inputNames:Array.from({length:l},(u,p)=>`X${p}`),inputTypes:Array(l).fill(2),cacheHint:n}),createPackedConcatProgramInfo=(l,n,u,p)=>{const v=u[0].dims.slice();if(p>=v.length||p<-1*v.length)throw new Error("axis specified for concat doesn't match input dimensionality");p<0&&(p=v.length+p);const d=v.slice(0);for(let H=1;H<u.length;H++){const G=u[H].dims.slice();for(let Y=0;Y<v.length;Y++)if(Y===p)d[p]+=G[Y];else if(v[Y]!==G[Y])throw new Error("non concat dimensions must match")}const g=d.length,_=getChannels("coords",g),C=getCoordsDataType(g),E=unpackFromChannel(),w=u.map(H=>H.dims),m=getGlChannels(g),y=new Array(w.length-1);y[0]=w[0][p];for(let H=1;H<y.length;H++)y[H]=y[H-1]+w[H][p];const e=m[p],P=m.slice(-2),O=m.join();let U=`if (${e} < ${y[0]}) {
        return getChannel(
            getX0(${O}), vec2(${P.join()}));
        }`;for(let H=1;H<y.length;H++){const G=y[H-1];U+=`
            if (${e} < ${y[H]}  && ${e} >= ${y[H-1]}) {
              return getChannel(
                getX${H}(${getShiftedChannelsSnippet(m,e,G)}),
                vec2(${getShiftedChannelsSnippet(P,e,G)}));
            }`}const W=y.length,V=y[y.length-1];U+=`
            return getChannel(
              getX${W}(${getShiftedChannelsSnippet(m,e,V)}),
              vec2(${getShiftedChannelsSnippet(P,e,V)}));`;const $=getGlsl(l.session.backend.glContext.version),b=`
          ${E}
          float getValue(${m.map(H=>"int "+H)}) {
            ${U}
          }

          void main() {
            ${C} coords = getOutputCoords();
            int lastDim = coords.${m[g-1]};
            coords.${m[g-1]} = coords.${m[g-2]};
            coords.${m[g-2]} = lastDim;

            vec4 result = vec4(getValue(${_}), 0., 0., 0.);

            ${_[g-1]} = ${_[g-1]} + 1;
            if (${_[g-1]} < ${d[g-1]}) {
              result.g = getValue(${_});
            }

            ${_[g-2]} = ${_[g-2]} + 1;
            if (${_[g-2]} < ${d[g-2]}) {
              result.a = getValue(${_});
            }

            ${_[g-1]} = ${_[g-1]} - 1;
            if (${_[g-2]} < ${d[g-2]} &&
                ${_[g-1]} < ${d[g-1]}) {
              result.b = getValue(${_});
            }
            ${$.output} = result;
          }
        `;return{...n,output:{dims:d,type:u[0].type,textureType:2},shaderSource:b,hasMain:!0}},createPackedConcatProgramInfoLoader=(l,n,u)=>{const p=createPackedConcatProgramMetadata(n.length,u.cacheKey);return{...p,get:()=>createPackedConcatProgramInfo(l,p,n,u.axis)}},getShiftedChannelsSnippet=(l,n,u)=>{const p=l.indexOf(n);return l.map((d,g)=>g===p?`${d} - ${u}`:d).join()}}}),concat,createUnpackedConcatProgramMetadata,createUnpackedConcatProgramInfo,createUnpackedConcatProgramInfoLoader,getTextureIndexWhereDataResidesLinearSearch,getTextureIndexWhereDataResidesBinarySearch,getFetchDataFromCorrectTextureMethod,getGetSizeInConcatAxisValueFromIndexMethod,parseConcatAttributes,validateInputs3,init_concat=__esm({"web/lib/onnxjs/backends/webgl/ops/concat.ts"(){init_attribute_with_cache_key(),init_types(),init_concat_packed(),concat=(l,n,u)=>(validateInputs3(n),l.session.pack&&n[0].dims.length>1?[l.run(createPackedConcatProgramInfoLoader(l,n,u),n)]:[l.run(createUnpackedConcatProgramInfoLoader(l,n,u),n)]),createUnpackedConcatProgramMetadata=(l,n)=>({name:"Concat",inputNames:Array.from({length:l},(u,p)=>`X${p}`),inputTypes:Array(l).fill(0),cacheHint:n}),createUnpackedConcatProgramInfo=(l,n,u,p)=>{const v=u[0].dims.slice();if(p>=v.length||p<-1*v.length)throw new Error("axis specified for concat doesn't match input dimensionality");p<0&&(p=v.length+p);const d=v.slice(0);for(let e=1;e<u.length;e++){const P=u[e].dims.slice();for(let O=0;O<v.length;O++)if(O===p)d[p]+=P[O];else if(v[O]!==P[O])throw new Error("non concat dimensions must match")}const g=d.length,_=new Array(u.length);let C=0;for(let e=0;e<_.length;++e)C+=u[e].dims[p],_[e]=C;let E="";u.length<5?E=getTextureIndexWhereDataResidesLinearSearch(_):E=getTextureIndexWhereDataResidesBinarySearch(_);const w=getFetchDataFromCorrectTextureMethod(u.length,g),m=getGetSizeInConcatAxisValueFromIndexMethod(_),y=`
        ${w}
        ${m}
        ${E}
        float process(int indices[${g}]) {
          int textureIndex = getTextureWhereDataResides (indices[${p}]);

          if(textureIndex != 0) {
            indices[${p}] = indices[${p}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return{...n,output:{dims:d,type:u[0].type,textureType:0},shaderSource:y}},createUnpackedConcatProgramInfoLoader=(l,n,u)=>{const p=createUnpackedConcatProgramMetadata(n.length,u.cacheKey);return{...p,get:()=>createUnpackedConcatProgramInfo(l,p,n,u.axis)}},getTextureIndexWhereDataResidesLinearSearch=l=>`int getTextureWhereDataResides(int index) {
      ${l.map((u,p)=>`if(index<${u}) {return ${p};}
`).join("")}
    }`,getTextureIndexWhereDataResidesBinarySearch=l=>getTextureIndexWhereDataResidesLinearSearch(l),getFetchDataFromCorrectTextureMethod=(l,n)=>{const u=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${n}]) {`];for(let p=0;p<l;++p)p===0?u.push(`	if (textureIndex == ${p}) { return _X${p}(indices); }`):p===l-1?u.push(`	else { return _X${p}(indices); }`):u.push(`	else if (textureIndex == ${p}) { return _X${p}(indices); }`);return u.push("	}"),u.join(`
`)},getGetSizeInConcatAxisValueFromIndexMethod=l=>{const n=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let u=0;u<l.length;++u)u===0?n.push(`	if (index == ${u}) { return ${l[u]}; }`):u===l.length-1?n.push(`	else { return ${l[u]}; }`):n.push(`	else if (index == ${u}) { return ${l[u]}; }`);return n.push("	}"),n.join(`
`)},parseConcatAttributes=l=>createAttributeWithCacheKey({axis:l.attributes.getInt("axis")}),validateInputs3=l=>{if(!l||l.length<1)throw new Error("too few inputs");const n=l[0].type,u=l[0].dims.length;if(n==="string")throw new Error("string tensor is not supported yet");for(const p of l){if(p.type!==n)throw new Error("input tensors should be one type");if(p.dims.length!==u)throw new Error("input tensors should have the same shape")}}}});function glslAbs(){return glslBuiltinUnary("abs")}function glslAcos(){return glslBuiltinUnary("acos")}function glslAsin(){return glslBuiltinUnary("asin")}function glslAtan(){return glslBuiltinUnary("atan")}function glslCeil(){return glslBuiltinUnary("ceil")}function glslCos(){return glslBuiltinUnary("cos")}function glslElu(l){const n="elu";return{body:`
  const float alpha = float(${l});

  float ${n}_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 ${n}_(vec4 v) {
    return vec4(${n}_(v.x), ${n}_(v.y), ${n}_(v.z), ${n}_(v.w));
  }
  `,name:n,type:0}}function glslExp(){return glslBuiltinUnary("exp")}function glslFloor(){return glslBuiltinUnary("floor")}function glslClip(l,n){const u="clip";return{body:`
  const float min = float(${l});
  const float max = float(${n});

  float ${u}_(float a) {
    return clamp(a, min, max);
  }
  vec4 ${u}_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:u,type:0}}function glslIdentity(){const l="indentity";return{body:`
  float ${l}_(float a) {
    return a;
  }
  vec4 ${l}_(vec4 v) {
    return v;
  }
  `,name:l,type:0}}function glslLeakyRelu(l){const n="leakyRelu";return{body:`
  const float alpha = float(${l});

  float ${n}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${n}_(vec4 v) {
    return vec4(${n}_(v.x), ${n}_(v.y), ${n}_(v.z), ${n}_(v.w));
  }
  `,name:n,type:0}}function glslLog(){return glslBuiltinUnary("log")}function glslNeg(){const l="neg";return{body:`
  float ${l}_(float a) {
    return -a;
  }
  vec4 ${l}_(vec4 v) {
    return -v;
  }
  `,name:l,type:0}}function glslNot(){const l="not";return{body:`
  float ${l}_(float a) {
    return float( ! bool(a) );
  }
  bool ${l}_(bool a) {
    return !a;
  }
  vec4 ${l}_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 ${l}_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:l,type:0}}function glslSin(){return glslBuiltinUnary("sin")}function glslRelu(){const l="relu";return{body:`
  float ${l}_(float a) {
    return max( a, 0.0 );
  }
  vec4 ${l}_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:l,type:0}}function glslSigmoid(){const l="sigmoid";return{body:`
  float ${l}_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 ${l}_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:l,type:0}}function glslSqrt(){return glslBuiltinUnary("sqrt")}function glslTan(){return glslBuiltinUnary("tan")}function glslTanh(){const l="tanh";return{body:`
  float ${l}_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 ${l}_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:l,type:0}}function glslBuiltinUnary(l){return{body:`
  float ${l}_(float a) {
    return ${l}(a);
  }
  vec4 ${l}_(vec4 v) {
    return ${l}(v);
  }
  `,name:l,type:0}}var createElementwiseProgramInfo,createElementwiseProgramInfoLoader,abs,acos,asin,atan,clip,parseClipAttributes,clipV11,generateClipAttributesFromInputs,ceil,cos,elu,parseEluAttributes,exp,floor,identity,leakyRelu,parseLeakyReluAttributes,log2,neg,not2,relu,sigmoid,sin,sqrt,tan,tanh,init_unary_op=__esm({"web/lib/onnxjs/backends/webgl/ops/unary-op.ts"(){init_attribute_with_cache_key(),init_util(),init_glsl_definitions(),init_glsl_source(),init_types(),createElementwiseProgramInfo=(l,n,u,p)=>{const v=l.session.pack?2:0,d=getGlsl(l.session.backend.glContext.version);return{...n,output:{dims:u.dims,type:u.type,textureType:v},shaderSource:`
     ${p.body}
     void main() {
       vec4 v = ${d.texture2D}(A, TexCoords);
       v = ${p.name}_(v);
       ${d.output} = v;
     }
     `,hasMain:!0}},createElementwiseProgramInfoLoader=(l,n,u,p)=>{const v=l.session.pack?2:0,d={name:u.name,inputTypes:[v],inputNames:["A"],cacheHint:p};return{...d,get:()=>createElementwiseProgramInfo(l,d,n,u)}},abs=(l,n)=>[l.run(createElementwiseProgramInfoLoader(l,n[0],glslAbs()),n)],acos=(l,n)=>[l.run(createElementwiseProgramInfoLoader(l,n[0],glslAcos()),n)],asin=(l,n)=>[l.run(createElementwiseProgramInfoLoader(l,n[0],glslAsin()),n)],atan=(l,n)=>[l.run(createElementwiseProgramInfoLoader(l,n[0],glslAtan()),n)],clip=(l,n,u)=>[l.run(createElementwiseProgramInfoLoader(l,n[0],glslClip(u.min,u.max),u.cacheKey),n)],parseClipAttributes=l=>createAttributeWithCacheKey({min:l.attributes.getFloat("min",MIN_CLIP),max:l.attributes.getFloat("max",MAX_CLIP)}),clipV11=(l,n)=>{const u=generateClipAttributesFromInputs(l,n);return clip(l,[n[0]],u)},generateClipAttributesFromInputs=(l,n)=>{if(n.length>=3&&(!l.session.isInitializer(n[1].dataId)||!l.session.isInitializer(n[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const u=n.length>=3?n[1].numberData[0]:MIN_CLIP,p=n.length>=3?n[2].numberData[0]:MAX_CLIP;return createAttributeWithCacheKey({min:u,max:p})},ceil=(l,n)=>[l.run(createElementwiseProgramInfoLoader(l,n[0],glslCeil()),n)],cos=(l,n)=>[l.run(createElementwiseProgramInfoLoader(l,n[0],glslCos()),n)],elu=(l,n,u)=>[l.run(createElementwiseProgramInfoLoader(l,n[0],glslElu(u.alpha),u.cacheKey),n)],parseEluAttributes=l=>createAttributeWithCacheKey({alpha:l.attributes.getFloat("alpha",1)}),exp=(l,n)=>[l.run(createElementwiseProgramInfoLoader(l,n[0],glslExp()),n)],floor=(l,n)=>[l.run(createElementwiseProgramInfoLoader(l,n[0],glslFloor()),n)],identity=(l,n)=>[l.run(createElementwiseProgramInfoLoader(l,n[0],glslIdentity()),n)],leakyRelu=(l,n,u)=>[l.run(createElementwiseProgramInfoLoader(l,n[0],glslLeakyRelu(u.alpha),u.cacheKey),n)],parseLeakyReluAttributes=l=>createAttributeWithCacheKey({alpha:l.attributes.getFloat("alpha",.01)}),log2=(l,n)=>[l.run(createElementwiseProgramInfoLoader(l,n[0],glslLog()),n)],neg=(l,n)=>[l.run(createElementwiseProgramInfoLoader(l,n[0],glslNeg()),n)],not2=(l,n)=>[l.run(createElementwiseProgramInfoLoader(l,n[0],glslNot()),n)],relu=(l,n)=>[l.run(createElementwiseProgramInfoLoader(l,n[0],glslRelu()),n)],sigmoid=(l,n)=>[l.run(createElementwiseProgramInfoLoader(l,n[0],glslSigmoid()),n)],sin=(l,n)=>[l.run(createElementwiseProgramInfoLoader(l,n[0],glslSin()),n)],sqrt=(l,n)=>[l.run(createElementwiseProgramInfoLoader(l,n[0],glslSqrt()),n)],tan=(l,n)=>[l.run(createElementwiseProgramInfoLoader(l,n[0],glslTan()),n)],tanh=(l,n)=>[l.run(createElementwiseProgramInfoLoader(l,n[0],glslTanh()),n)]}});function getActivationSnippet(l){let n;switch(l.activation){case"Relu":n=glslRelu();break;case"Sigmoid":n=glslSigmoid();break;case"Clip":n=glslClip(l.clipMin,l.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const u=n.name,p=n.body,v=`value = ${u}_(value);`;return{activationFunction:p,applyActivation:v}}var parseInternalActivationAttributes,init_fuse_utils=__esm({"web/lib/onnxjs/backends/webgl/ops/fuse-utils.ts"(){init_util(),init_unary_op(),parseInternalActivationAttributes=l=>{const n=l.getString("activation","");if(n==="Clip"){const[u,p]=l.getFloats("activation_params",[MIN_CLIP,MAX_CLIP]);return{activation:n,clipMax:p,clipMin:u,activationCacheKey:`${n}:${u},${p}`}}return{activation:n,activationCacheKey:n}}}}),createUnpackedGroupedConvProgramMetadata,createUnpackedGroupedConvProgramInfo,createUnpackedGroupedConvProgramInfoLoader,init_conv_grouped=__esm({"web/lib/onnxjs/backends/webgl/ops/conv-grouped.ts"(){init_instrument(),init_glsl_source(),init_types(),init_conv(),init_fuse_utils(),createUnpackedGroupedConvProgramMetadata=(l,n)=>({name:"GroupedConv",inputNames:l?["X","W","Bias"]:["X","W"],inputTypes:l?[0,0,0]:[0,0],cacheHint:n}),createUnpackedGroupedConvProgramInfo=(l,n,u,p)=>{const d=n.length>2?"value += getBias(output_channel);":"",g=n[0].dims.slice(),_=n[1].dims.slice(),C=_[0]/p.group;Logger.verbose("GroupedConv",`autpPad:${p.autoPad}, dilations:${p.dilations}, group:${p.group}, kernelShape:${p.kernelShape}, pads:${p.pads}, strides:${p.strides}`);const E=calculateOutputShape(g,_,p.dilations,p.pads,p.strides),w=getGlsl(l.session.backend.glContext.version),{activationFunction:m,applyActivation:y}=getActivationSnippet(p),e=`
  const ivec2 strides = ivec2(${p.strides[0]}, ${p.strides[1]});
  const ivec2 pads = ivec2(${p.pads[0]}, ${p.pads[1]});
  ${m}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${C};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${_[1]}; wInChannel++) {
      int input_channel = group_id * ${_[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${_[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${p.dilations[0]};

        if (xHeight < 0 || xHeight >= ${g[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${_[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${p.dilations[1]};
          if (xWidth < 0 || xWidth >= ${g[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${d}
    ${y}
    ${w.output} = vec4(value, .0, .0, .0);
  }
`;return{...u,output:{dims:E,type:n[0].type,textureType:0},shaderSource:e,hasMain:!0}},createUnpackedGroupedConvProgramInfoLoader=(l,n,u)=>{const p=createUnpackedGroupedConvProgramMetadata(n.length>2,u.cacheKey);return{...p,get:()=>createUnpackedGroupedConvProgramInfo(l,n,p,u)}}}}),createPackedIm2ColProgramMetadata,createPackedIm2ColProgramInfo,createPackedIm2ColProgramInfoLoader,init_im2col_pack=__esm({"web/lib/onnxjs/backends/webgl/ops/im2col-pack.ts"(){init_glsl_source(),init_types(),init_packing_utils(),createPackedIm2ColProgramMetadata=l=>({name:"Im2Col (packed)",inputNames:["A"],inputTypes:[2],cacheHint:l}),createPackedIm2ColProgramInfo=(l,n,u,p,v,d)=>{const g=u.dims,_=p.dims,C=2,E=3,w=v.length,m=[_[1]*_[2]*_[3],v[2]*v[3]],y=_[2]*_[3],e=unpackFromChannel(),P=getGlsl(l.session.backend.glContext.version);let O="";for(let W=0;W<=1;W++)for(let V=0;V<=1;V++)O+=`
            blockIndex = rc.x + ${V};
            pos = rc.y + ${W};

            if(blockIndex < ${m[1]} && pos < ${m[0]}) {
              offsetY = int(blockIndex / (${v[w-1]})) * ${d.strides[0]} -
                ${d.pads[0]};
              d0 = offsetY + ${d.dilations[0]} * (imod(pos, ${y}) / ${_[2]});

              if(d0 < ${g[C]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${v[w-1]}) * ${d.strides[1]} -
                  ${d.pads[1]};
                d1 = offsetX + ${d.dilations[1]} * imod(imod(pos, ${y}), ${_[2]});

                if(d1 < ${g[E]} && d1 >= 0) {

                  ch = int(float(pos)/ ${y}.);
                    innerDims = vec2(d0, d1);
                    result[${W*2+V}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;const U=`
      ${e}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${O}
          ${P.output} = result;
      }
            `;return{...n,output:{dims:m,type:u.type,textureType:2},shaderSource:U,hasMain:!0}},createPackedIm2ColProgramInfoLoader=(l,n,u,p,v)=>{const d=createPackedIm2ColProgramMetadata(v.cacheKey);return{...d,get:()=>createPackedIm2ColProgramInfo(l,d,n,u,p,v)}}}});function createMatmulProgramInfo(l,n,u){const p=n[0].dims,v=n[1].dims,d=BroadcastUtil.calcShape(p,v,!0);if(!d)throw new Error("Can't use matmul on the given tensors");const g=getCoordsDataType(d.length),_=getGlChannels(),{activationFunction:C,applyActivation:E}=getActivationSnippet(u),w=n.length>2,m=w?"value += getBiasForMatmul();":"",y=w?`${getBiasForMatmul(g,_,n[2].dims,d,!1)}`:"",e=d.length,P=p.length,O=v.length,U=p[p.length-1],W=`
    ${C}
    ${y}
    float process(int indices[${e}]) {
        int a[${P}];
        int b[${O}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${U}; ++k) {
            a[${P-1}] = k;
            b[${O-2}] = k;
            value += _A(a) * _B(b);
        }
        ${m}
        ${E}
        return value;
    }`;return{...l,output:{dims:d,type:n[0].type,textureType:0},shaderSource:W}}function createMatmulProgramInfoLoader(l,n){const u=createMatmulProgramMetadata(l.length>2,n.activationCacheKey);return{...u,get:()=>createMatmulProgramInfo(u,l,n)}}function getBiasForMatmul(l,n,u,p,v){let d="";const g=u.length,_=p.length,C=_-g;_<2&&g>0?d="coords":d=u.map((O,U)=>`coords.${n[U+C]}`).join(", ");const w=BroadcastUtil.getBroadcastDims(u,p).map(O=>`coords.${n[O+C]} = 0;`).join(`
`),y=ShapeUtil.size(u)===1;let e="vec4(outputValue.xx, outputValue.yy)";return y&&(e="vec4(outputValue.x)"),v?`
vec4 getBiasForMatmul() {
  ${l} coords = getOutputCoords();
  ${w}
  vec4 outputValue = getBias(${d});
  return ${e};
}`:`
float getBiasForMatmul() {
  ${l} coords = getOutputCoords();
  ${w}
  return getBias(coords.x);
}`}var matMul,parseMatMulAttributes,createMatmulProgramMetadata,validateInputs4,init_matmul=__esm({"web/lib/onnxjs/backends/webgl/ops/matmul.ts"(){init_util(),init_types(),init_utils(),init_fuse_utils(),init_matmul_pack(),matMul=(l,n,u)=>(validateInputs4(n),l.session.pack?[l.run(createPackedMatmulProgramInfoLoader(l,n,u),n)]:[l.run(createMatmulProgramInfoLoader(n,u),n)]),parseMatMulAttributes=l=>parseInternalActivationAttributes(l.attributes),createMatmulProgramMetadata=(l,n)=>({name:"MatMul",inputNames:l?["A","B","Bias"]:["A","B"],inputTypes:l?[0,0,0]:[0,0],cacheHint:n}),validateInputs4=l=>{if(!l||l.length!==2)throw new Error("MatMul requires 2 inputs.");if(l[0].dims[l[0].dims.length-1]!==l[1].dims[l[1].dims.length-2])throw new Error("shared dimension does not match.");if(l[0].type!=="float32"&&l[0].type!=="float64"||l[1].type!=="float32"&&l[1].type!=="float64")throw new Error("inputs should be float type");if(l[0].type!==l[1].type)throw new Error("inputs types should match")}}});function getBcastSamplerForMatmul(l,n,u,p){let v=[],d=[];const g=u[0].dims,_=u[1].dims,C=g.length,E=_.length,w=p.length,m=w-C,y=w-E;v=g.map(($,b)=>`coords.${n[b+m]}`),v[C-1]="i*2",v.join(", "),d=_.map(($,b)=>`coords.${n[b+y]}`),d[E-2]="i*2",d.join(", ");const e=BroadcastUtil.getBroadcastDims(g,p),P=BroadcastUtil.getBroadcastDims(_,p),O=e.map($=>`coords.${n[$+m]} = 0;`).join(`
`),U=P.map($=>`coords.${n[$+y]} = 0;`).join(`
`),W=`int lastDim = coords.${n[w-1]};
  coords.${n[w-1]} = coords.${n[w-2]};
  coords.${n[w-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${l} coords = getOutputCoords();
  ${W}
  ${O}
  vec4 outputValue = getA(${v});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${l} coords = getOutputCoords();
  ${W}
  ${U}
  vec4 outputValue = getB(${d});
  return outputValue;
}`}function getA(l,n){let u="";for(let p=0;p<n-2;p++)u+=`rc.${l[p]}, `;return u+=`rc.${l[n-2]}, i*2`,u}function getB(l,n){let u="";for(let p=0;p<n-2;p++)u+=`rc.${l[p]}, `;return u+=`i*2, rc.${l[n-1]}`,u}var createPackedMatmulProgramMetadata,createPackedMatmulProgramInfo,createPackedMatmulProgramInfoLoader,init_matmul_pack=__esm({"web/lib/onnxjs/backends/webgl/ops/matmul-pack.ts"(){init_util(),init_glsl_source(),init_types(),init_utils(),init_fuse_utils(),init_matmul(),createPackedMatmulProgramMetadata=(l,n)=>({name:"MatMul (packed)",inputNames:l?["A","B","Bias"]:["A","B"],inputTypes:l?[2,2,2]:[2,2],cacheHint:n}),createPackedMatmulProgramInfo=(l,n,u,p)=>{const v=u.length>2,d=v?"value += getBiasForMatmul();":"",g=u[0].dims,_=u[1].dims,C=BroadcastUtil.calcShape(g,_,!0),E=!ShapeUtil.areEqual(u[0].dims,u[1].dims);if(!C)throw new Error("Can't use matmul on the given tensors");const w=g[g.length-1],m=Math.ceil(w/2),y=g.length,e=_.length,P=getGlsl(l.session.backend.glContext.version),O=getCoordsDataType(C.length),U=C.length,W=getGlChannels(),{activationFunction:V,applyActivation:$}=getActivationSnippet(p),b=v?`${getBiasForMatmul(O,W,u[2].dims,C,!0)}`:"",H=E?`${getBcastSamplerForMatmul(O,W,u,C)}`:"",G=E?"getAAtOutCoordsMatmul(i)":`getA(${getA(W,y)})`,Y=E?"getBAtOutCoordsMatmul(i)":`getB(${getB(W,e)})`,X=E?"":`${O} rc =
          getOutputCoords(); int lastDim = rc.${W[U-1]}; rc.${W[U-1]} =
          rc.${W[U-2]}; rc.${W[U-2]} = lastDim;
      `,j=`
            ${H}
            ${b}
            ${V}
            void main() {
              ${X}

              vec4 value = vec4(0);
              for (int i = 0; i < ${m}; i++) {
                vec4 a = ${G};
                vec4 b = ${Y};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${d}
              ${$}
              ${P.output} = value;
            }`;return{...n,output:{dims:C,type:u[0].type,textureType:2},shaderSource:j,hasMain:!0}},createPackedMatmulProgramInfoLoader=(l,n,u)=>{const p=createPackedMatmulProgramMetadata(n.length>2,u.activationCacheKey);return{...p,get:()=>createPackedMatmulProgramInfo(l,p,n,u)}}}}),conv2DPacked,init_conv_pack=__esm({"web/lib/onnxjs/backends/webgl/ops/conv-pack.ts"(){init_conv(),init_im2col_pack(),init_matmul_pack(),conv2DPacked=(l,n,u)=>{const p=n[0].dims,v=n[1].dims,d=calculateOutputShape(p,v,u.dilations,u.pads,u.strides),g=l.run(createPackedIm2ColProgramInfoLoader(l,n[0],n[1],d,u),[n[0]]),_=l.reshapePacked(n[1],[v[0],v[1]*v[2]*v[3]]),C=n.length===3?[_,g,n[2]]:[_,g],E=l.run(createPackedMatmulProgramInfoLoader(l,C,u),C);return l.reshapePacked(E,d)}}}),createIm2ColProgramMetadata,createIm2ColProgramInfo,createIm2ColProgramInfoLoader,calculateIm2ColDims,init_im2col=__esm({"web/lib/onnxjs/backends/webgl/ops/im2col.ts"(){init_types(),createIm2ColProgramMetadata=l=>({name:"Im2Col",inputNames:["X"],inputTypes:[0],cacheHint:l}),createIm2ColProgramInfo=(l,n,u,p,v,d)=>{const g=u.dims,_=p.dims,C=v.length,E=calculateIm2ColDims(g,_,v,4),w=`
        const int XC = ${g[1]};
        const int XH = ${g[2]};
        const int XW = ${g[3]};
        const int KH = ${d.kernelShape[0]};
        const int KW = ${d.kernelShape[1]};
        const int dilationH = ${d.dilations[0]};
        const int dilationW = ${d.dilations[1]};
        const int strideH = ${d.strides[0]};
        const int strideW = ${d.strides[1]};
        const int padH = ${d.pads[0]};
        const int padW = ${d.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${C}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${g.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return{...n,output:{dims:E,type:u.type,textureType:4},shaderSource:w}},createIm2ColProgramInfoLoader=(l,n,u,p,v)=>{const d=createIm2ColProgramMetadata(v.cacheKey);return{...d,get:()=>createIm2ColProgramInfo(l,d,n,u,p,v)}},calculateIm2ColDims=(l,n,u,p=4)=>[u[0],u[2],u[3],Math.ceil(l[1]*n[2]*n[3]/p)]}}),createDotProductProgramMetadata,createDotProductProgramInfo,createDotProductProgramInfoLoader,init_dot_product=__esm({"web/lib/onnxjs/backends/webgl/ops/dot-product.ts"(){init_util(),init_glsl_source(),init_types(),init_fuse_utils(),init_im2col(),createDotProductProgramMetadata=(l,n)=>({name:"ConvDotProduct",inputNames:l?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:l?[0,4,0]:[0,4],cacheKey:n.activationCacheKey}),createDotProductProgramInfo=(l,n,u,p,v)=>{const d=u[0].dims,g=u[1].dims,_=[g[0],Math.ceil(d[1]*g[2]*g[3]/4)],C=calculateIm2ColDims(d,g,p),[E,w]=l.calculateTextureWidthAndHeight(_,4),m=ShapeUtil.computeStrides(C),[y,e]=l.calculateTextureWidthAndHeight(C,4),P=p.length,O=u.length<3?"0.0":"_B(b)",U=Math.ceil(d[1]*g[2]*g[3]/4),{activationFunction:W,applyActivation:V}=getActivationSnippet(v),$=getGlsl(l.session.backend.glContext.version),b=`
${W}
float process(int indices[${P}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${m[0]} + im2col[1] * ${m[1]} + im2col[2] * ${m[2]};
  int kernelOffset = indices[1] * ${_[1]};
  float value = ${O};
  for (int i = 0; i < ${U}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${y}, ${e});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${E}, ${w});
    value += dot(${$.texture2D}(Im2Col, im2colCoords), ${$.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${V}
  return value;
}`;return{...n,output:{dims:p,type:u[0].type,textureType:0},shaderSource:b}},createDotProductProgramInfoLoader=(l,n,u,p)=>{const v=createDotProductProgramMetadata(n.length>2,p);return{...v,get:()=>createDotProductProgramInfo(l,v,n,u,p)}}}}),calculateOutputShape,conv,conv2d,conv2DUnpackedPointwise,conv2DUnpacked,getAdjustedConvAttributes,parseConvAttributes,validateInputs5,init_conv=__esm({"web/lib/onnxjs/backends/webgl/ops/conv.ts"(){init_attribute_with_cache_key(),init_util(),init_conv_grouped(),init_conv_pack(),init_dot_product(),init_fuse_utils(),init_im2col(),init_matmul(),calculateOutputShape=(l,n,u,p,v)=>{const d=l[0],g=l.slice(2),_=g.length,C=n[0],w=n.slice(2).map((P,O)=>P+(P-1)*(u[O]-1)),y=g.map((P,O)=>P+p[O]+p[O+_]).map((P,O)=>Math.floor((P-w[O]+v[O])/v[O]));return[d,C].concat(...y)},conv=(l,n,u)=>(validateInputs5(n,u),conv2d(l,n,u)),conv2d=(l,n,u)=>{const p=getAdjustedConvAttributes(u,n),v=l.session.pack,d=p.kernelShape[0]===1&&p.kernelShape[1]===1;return p.group>1?[l.run(createUnpackedGroupedConvProgramInfoLoader(l,n,p),n)]:d&&v?[conv2DUnpackedPointwise(l,n,p)]:v&&n[0].dims.length===4&&n[0].dims[0]===1&&!d?[conv2DPacked(l,n,p)]:[conv2DUnpacked(l,n,p)]},conv2DUnpackedPointwise=(l,n,u)=>{const p=n[0].dims,v=n[1].dims,d=calculateOutputShape(p,v,u.dilations,u.pads,u.strides),g=l.reshapeUnpacked(n[0],[p[1],p[2]*p[3]]),_=l.reshapeUnpacked(n[1],[v[0],v[1]]),C=n.length>2?[_,g,n[2]]:[_,g],E=l.run(createMatmulProgramInfoLoader(C,u),C);return l.reshapeUnpacked(E,d)},conv2DUnpacked=(l,n,u)=>{const p=n[0].dims,v=n[1].dims,d=calculateOutputShape(p,v,u.dilations,u.pads,u.strides),g=l.run(createIm2ColProgramInfoLoader(l,n[0],n[1],d,u),[n[0]]),_=n.length===3?[g,n[1],n[2]]:[g,n[1]];return l.run(createDotProductProgramInfoLoader(l,n,d,u),_)},getAdjustedConvAttributes=(l,n)=>{const u=l.kernelShape.slice();if(l.kernelShape.length===0)for(let d=2;d<n[1].dims.length;++d)u.push(n[1].dims[d]);const p=l.pads.slice();PoolConvUtil.adjustPadsBasedOnAutoPad(n[0].dims,l.strides,l.dilations,u,p,l.autoPad);const v=Object.assign({},l);return Object.assign(v,{kernelShape:u,pads:p,cacheKey:l.cacheKey}),v},parseConvAttributes=l=>{const n=l.attributes,u=parseInternalActivationAttributes(n),p=n.getString("auto_pad","NOTSET"),v=n.getInts("dilations",[1,1]),d=n.getInt("group",1),g=n.getInts("kernel_shape",[]),_=n.getInts("pads",[0,0,0,0]),C=n.getInts("strides",[1,1]);return createAttributeWithCacheKey({autoPad:p,dilations:v,group:d,kernelShape:g,pads:_,strides:C,...u})},validateInputs5=(l,n)=>{if(!l||l.length!==2&&l.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(l[0].dims.length!==4||l[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");const u=l[0].dims[1],p=l[1].dims[1]*n.group;if(u!==p)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(l.length===3&&(l[2].dims.length!==1||l[1].dims[0]!==l[2].dims[0]))throw new Error("invalid bias");const v=l[0].dims.length-2;if(n.dilations.length!==v)throw new Error(`dilations should be ${v}D`);if(n.strides.length!==v)throw new Error(`strides should be ${v}D`);if(n.pads.length!==v*2)throw new Error(`pads should be ${v*2}D`);if(n.kernelShape.length!==0&&n.kernelShape.length!==l[1].dims.length-2)throw new Error("invalid kernel shape");if(l[0].type!=="float32"||l[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(l.length===3&&l[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}}}),computeTotalPad,distributePadding,calculateOutputShapeAndPads,convTranspose,convTranspose2d,createConvTransposeProgramMetadata,createUnpackedConvTransposeProgramInfo,createUnpackedConvTransposeProgramInfoLoader,convTranspose2DUnpacked,getAdjustedConvTransposeAttributes,parseConvTransposeAttributes,validateInputs6,init_conv_transpose=__esm({"web/lib/onnxjs/backends/webgl/ops/conv-transpose.ts"(){init_attribute_with_cache_key(),init_glsl_source(),init_types(),init_fuse_utils(),computeTotalPad=(l,n,u,p,v,d)=>(l-1)*n+u+(p-1)*v+1-d,distributePadding=(l,n,u,p,v)=>{const d=Math.floor(l/2);n==="SAME_UPPER"?(u[p]=d,u[v]=l-d):n==="SAME_LOWER"&&(u[p]=l-d,u[v]=d)},calculateOutputShapeAndPads=(l,n,u,p,v,d,g,_)=>{const C=l.length-2,E=_.length===0;for(let w=0;w<C;++w){const m=E?l[w+2]*d[w]:_[w],y=computeTotalPad(l[w+2],d[w],v[w],n[w],u[w],m);distributePadding(y,p,v,w,w+C),E&&_.push(d[w]*(l[w+2]-1)+g[w]+(n[w]-1)*u[w]+1-v[w]-v[w+C])}},convTranspose=(l,n,u)=>(validateInputs6(n,u),convTranspose2d(l,n,u)),convTranspose2d=(l,n,u)=>{const p=getAdjustedConvTransposeAttributes(u,n);return[convTranspose2DUnpacked(l,n,p)]},createConvTransposeProgramMetadata=(l,n)=>({name:"ConvTranspose",inputNames:l?["X","W","B"]:["X","W"],inputTypes:l?[0,0,0]:[0,0],cacheHint:n}),createUnpackedConvTransposeProgramInfo=(l,n,u,p)=>{const d=n.length>2?"getB(output_channel)":"0.0",g=n[0].dims,_=n[1].dims,C=_[1],E=_[0]/p.group,w=[n[0].dims[0],n[1].dims[1]*p.group,...p.outputShape],m=getGlsl(l.session.backend.glContext.version),{activationFunction:y,applyActivation:e}=getActivationSnippet(p),P=`
  const ivec2 strides = ivec2(${p.strides[0]}, ${p.strides[1]});
  const ivec2 pads = ivec2(${p.pads[0]}, ${p.pads[1]});
  ${y}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${C};
    int wOutChannel = output_channel - group_id * ${C};

    float value = ${d};
    for (int inChannelOffset = 0; inChannelOffset < ${E}; inChannelOffset++) {
      int input_channel = group_id * ${E} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${_[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${_[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${p.dilations[0]}, wHOff * ${p.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${g[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${g[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${e}
    ${m.output} = vec4(value, .0, .0, .0);
  }
`;return{...u,output:{dims:w,type:n[0].type,textureType:0},shaderSource:P,hasMain:!0}},createUnpackedConvTransposeProgramInfoLoader=(l,n,u)=>{const p=createConvTransposeProgramMetadata(n.length>2,u.cacheKey);return{...p,get:()=>createUnpackedConvTransposeProgramInfo(l,n,p,u)}},convTranspose2DUnpacked=(l,n,u)=>l.run(createUnpackedConvTransposeProgramInfoLoader(l,n,u),n),getAdjustedConvTransposeAttributes=(l,n)=>{const u=l.kernelShape.slice();if(l.kernelShape.length===0)for(let _=2;_<n[1].dims.length;++_)u.push(n[1].dims[_]);const p=l.pads.slice(),v=l.outputShape.slice(),d=n[0].dims;calculateOutputShapeAndPads(d,u,l.dilations,l.autoPad,p,l.strides,l.outputPadding,v);const g=Object.assign({},l);return Object.assign(g,{kernelShape:u,pads:p,outputShape:v,cacheKey:l.cacheKey}),g},parseConvTransposeAttributes=l=>{const n=l.attributes,u=parseInternalActivationAttributes(n),p=n.getString("auto_pad","NOTSET"),v=n.getInts("dilations",[1,1]),d=n.getInt("group",1),g=n.getInts("kernel_shape",[]),_=n.getInts("output_padding",[0,0]),C=n.getInts("output_shape",[]),E=n.getInts("pads",[0,0,0,0]),w=n.getInts("strides",[1,1]);return createAttributeWithCacheKey({autoPad:p,dilations:v,group:d,kernelShape:g,outputPadding:_,outputShape:C,pads:E,strides:w,...u})},validateInputs6=(l,n)=>{if(!l||l.length!==2&&l.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(l[0].dims.length!==4||l[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");const u=l[0].dims[1],p=l[1].dims[0];if(u!==p)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const v=l[1].dims[1]*n.group;if(l.length===3&&(l[2].dims.length!==1||l[2].dims[0]!==v))throw new Error("invalid bias");const d=l[0].dims.length-2;if(n.dilations.length!==d)throw new Error(`dilations should be ${d}D`);if(n.strides.length!==d)throw new Error(`strides should be ${d}D`);if(n.pads.length!==d*2)throw new Error(`pads should be ${d*2}D`);if(n.outputPadding.length!==d)throw new Error(`output_padding should be ${d}D`);if(n.kernelShape.length!==0&&n.kernelShape.length!==l[1].dims.length-2)throw new Error("invalid kernel shape");if(n.outputShape.length!==0&&n.outputShape.length!==l[0].dims.length-2)throw new Error("invalid output shape");if(l[0].type!=="float32"||l[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(l.length===3&&l[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}}}),transposeProgramMetadata,transpose,parseTransposeAttributes,createTransposeProgramInfo,getAdjustedPerm,getOutputShape,getPermFunctionBody,validateInputs7,init_transpose=__esm({"web/lib/onnxjs/backends/webgl/ops/transpose.ts"(){init_attribute_with_cache_key(),init_util(),init_types(),transposeProgramMetadata={name:"Transpose",inputNames:["A"],inputTypes:[0]},transpose=(l,n,u)=>(validateInputs7(n),[l.run({...transposeProgramMetadata,cacheHint:u.cacheKey,get:()=>createTransposeProgramInfo(l,n[0],u.perm)},n)]),parseTransposeAttributes=l=>createAttributeWithCacheKey({perm:l.attributes.getInts("perm",[])}),createTransposeProgramInfo=(l,n,u)=>{const p=n.dims;u=getAdjustedPerm(p,u);const v=getOutputShape(p,u),d=p.length,g=`
      ${getPermFunctionBody("perm",u,d)}
      float process(int indices[${d}]) {
        int a[${d}];
        perm(a, indices);
        return _A(a);
      }`;return{...transposeProgramMetadata,output:{dims:v,type:n.type,textureType:0},shaderSource:g}},getAdjustedPerm=(l,n)=>(n&&n.length!==l.length&&(n=[...l.keys()].reverse()),n),getOutputShape=(l,n)=>(n=getAdjustedPerm(l,n),ShapeUtil.sortBasedOnPerm(l,n)),getPermFunctionBody=(l,n,u)=>{const p=[];p.push(`void ${l}(out int a[${u}], int src[${u}]) {`);for(let v=0;v<u;++v)p.push(`	a[${n[v]}]=src[${v}];`);return p.push("	}"),p.join(`
`)},validateInputs7=l=>{if(!l||l.length!==1)throw new Error("Transpose requires 1 input.");if(l[0].type!=="float32"&&l[0].type!=="float64")throw new Error("input should be float tensor")}}}),depthToSpace,parseDepthToSpaceAttributes,validateInputs8,init_depth_to_space=__esm({"web/lib/onnxjs/backends/webgl/ops/depth-to-space.ts"(){init_transpose(),depthToSpace=(l,n,u)=>{validateInputs8(n);const p=u.blocksize,v=p*p,d=u.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],g=u.mode==="DCR"?[n[0].dims[0],p,p,n[0].dims[1]/v,n[0].dims[2],n[0].dims[3]]:[n[0].dims[0],n[0].dims[1]/v,p,p,n[0].dims[2],n[0].dims[3]],_=l.reshapeUnpacked(n[0],g),C={perm:d,cacheKey:`${d}`},[E]=transpose(l,[_],C),w=[n[0].dims[0],n[0].dims[1]/v,n[0].dims[2]*p,n[0].dims[3]*p];return[l.reshapeUnpacked(E,w)]},parseDepthToSpaceAttributes=l=>{const n=l.attributes.getInt("blocksize");if(n<1)throw new Error(`blocksize must be >= 1, but got : ${n} for DepthToSpace`);const u=l.attributes.getString("mode","DCR");if(u!=="DCR"&&u!=="CRD")throw new Error(`unrecognized mode: ${u} for DepthToSpace`);return{mode:u,blocksize:n}},validateInputs8=l=>{if(l.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${l.length}`);if(l[0].type==="string"||l[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}}}),flatten,parseFlattenAttributes,validateInputs9,init_flatten=__esm({"web/lib/onnxjs/backends/webgl/ops/flatten.ts"(){init_util(),flatten=(l,n,u)=>{validateInputs9(n,u);const p=ShapeUtil.flattenShape(n[0].dims,u);return[l.reshapeUnpacked(n[0],p)]},parseFlattenAttributes=l=>l.attributes.getInt("axis",1),validateInputs9=(l,n)=>{if(!l||l.length!==1)throw new Error("Flatten requires 1 input.");const u=l[0].dims.length;if(u===0)throw new Error("scalar tensor is not supported.");if(n<-u||n>u)throw new Error("Invalid axis");if(l[0].type==="string")throw new Error("string tensor is not supported.")}}}),NUMBER_TYPES,init_operators=__esm({"web/lib/onnxjs/operators.ts"(){NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"]}}),gather,parseGatherAttributes,gatherProgramMetadata,createGatherProgramInfo,createGatherProgramInfoLoader,validateInputs10,init_gather=__esm({"web/lib/onnxjs/backends/webgl/ops/gather.ts"(){init_attribute_with_cache_key(),init_operators(),init_util(),init_types(),gather=(l,n,u)=>(validateInputs10(n,u.axis),[l.run(createGatherProgramInfoLoader(l,n,u),n)]),parseGatherAttributes=l=>createAttributeWithCacheKey({axis:l.attributes.getInt("axis",0)}),gatherProgramMetadata={name:"Gather",inputNames:["A","B"],inputTypes:[0,0]},createGatherProgramInfo=(l,n,u,p)=>{const v=u[0].dims.slice(),d=u[1].dims.slice(),g=new Array(v.length+d.length-1);p=ShapeUtil.normalizeAxis(p,v.length);const _=[];for(let y=0;y<g.length;y++)y<p?(g[y]=v[y],_.push(`inputIdx[${y}] = outputIdx[${y}];`)):y<p+d.length?(g[y]=d[y-p],_.push(`indexDataIdx[${y-p}] = outputIdx[${y}];`)):(g[y]=v[y-d.length+1],_.push(`inputIdx[${y-d.length+1}] = outputIdx[${y}];`));const C=g.length||1,E=v.length,w=d.length||1,m=`
      float process(int outputIdx[${C}]) {
        int inputIdx[${E}];
        int indexDataIdx[${w}];
        indexDataIdx[0] = 0;
        ${_.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${p}] = idx < 0 ? idx + ${v[p]} : idx;
        return _A(inputIdx);
      }`;return{...n,output:{dims:g,type:u[0].type,textureType:0},shaderSource:m}},createGatherProgramInfoLoader=(l,n,u)=>{const p={...gatherProgramMetadata,cacheHint:u.cacheKey};return{...p,get:()=>createGatherProgramInfo(l,p,n,u.axis)}},validateInputs10=(l,n)=>{if(!l||l.length!==2)throw new Error("Gather requires 2 inputs.");const u=l[0].dims.length;if(u<1)throw new Error("Invalid input shape.");if(n<-u||n>u-1)throw new Error("Invalid axis.");if(NUMBER_TYPES.indexOf(l[0].type)===-1)throw new Error("Invaid input type.");if(l[1].type!=="int32"&&l[1].type!=="int16")throw new Error("Invaid input type.")}}}),gemm,parseGemmAttributes,parseGemmAttributesV7,parseGemmAttributesV11,createGemmProgramInfoLoader,createGemmProgramInfo,validateInputs11,init_gemm=__esm({"web/lib/onnxjs/backends/webgl/ops/gemm.ts"(){init_attribute_with_cache_key(),init_util(),init_types(),gemm=(l,n,u)=>(validateInputs11(n,u),[l.run(createGemmProgramInfoLoader(n,u),n)]),parseGemmAttributes=(l,n)=>{const u=l.attributes.getInt("transA",0)!==0,p=l.attributes.getInt("transB",0)!==0,v=l.attributes.getFloat("alpha",1),d=l.attributes.getFloat("beta",1);return createAttributeWithCacheKey({transA:u,transB:p,alpha:v,beta:d,isOptionalC:n})},parseGemmAttributesV7=l=>parseGemmAttributes(l,!1),parseGemmAttributesV11=l=>parseGemmAttributes(l,!0),createGemmProgramInfoLoader=(l,n)=>{const u={name:"Gemm",inputNames:l.length===3?["A","B","C"]:["A","B"],inputTypes:l.length===3?[0,0,0]:[0,0],key:n.cacheKey};return{...u,get:()=>createGemmProgramInfo(u,l,n)}},createGemmProgramInfo=(l,n,u)=>{const p=n[0].dims.slice(),v=n[1].dims.slice(),[d,g]=GemmUtil.getShapeOfGemmResult(p,u.transA,v,u.transB,n.length===3?n[2].dims:void 0),_=[d,g];if(!_)throw new Error("Can't use gemm on the given tensors");let C=p[p.length-1],E="";u.transA&&(C=p[0]),u.transA&&u.transB?E="value += _A_T(a) * _B_T(b);":u.transA&&!u.transB?E="value += _A_T(a) * _B(b);":!u.transA&&u.transB?E="value += _A(a) * _B_T(b);":!u.transA&&!u.transB&&(E="value += _A(a) * _B(b);");const w=_.length,m=n.length===3?`int c[${n[2].dims.length}];`:"",y=n.length===3?"bcastIndices_C(indices, c);":"",e=n.length===3?"value += beta * _C(c);":"",P=`
      float process(int indices[${w}]) {
          int a[${w}];
          int b[${w}];
          ${m}

          copyVec(indices, a);
          copyVec(indices, b);
          ${y}

          float value = 0.0;
          for (int k=0; k<${C}; ++k) {
              a[${w-1}] = k;
              b[${w-2}] = k;
              ${E}
          }

          value = value * alpha;
          ${e}
          return value;
      }`;return{...l,output:{dims:_,type:n[0].type,textureType:0},variables:[{name:"alpha",type:"float",data:u.alpha},{name:"beta",type:"float",data:u.beta}],shaderSource:P}},validateInputs11=(l,n)=>{if(!l)throw new Error("Input is missing");if(n.isOptionalC&&(l.length<2||l.length>3))throw new Error("Invaid input shape.");if(!n.isOptionalC&&l.length!==3)throw new Error("Gemm requires 3 inputs");if(l.length===3&&l[2].dims.length!==1&&l[2].dims.length!==2)throw new Error("Invalid input shape of C");if(l[0].type!=="float32"&&l[0].type!=="float64"||l[1].type!=="float32"&&l[1].type!=="float64"||l.length===3&&l[2].type!=="float32"&&l[2].type!=="float64")throw new Error("Invalid input type.");if(l[0].type!==l[1].type||l.length===3&&l[0].type!==l[2].type)throw new Error("Input types are mismatched")}}}),imageScaler,parseImageScalerAttributes,imageScalerProgramMetadata,createImageScalerProgramInfo,createImageScalerProgramInfoLoader,createGetBiasMethod,validateInputs12,init_image_scaler=__esm({"web/lib/onnxjs/backends/webgl/ops/image-scaler.ts"(){init_attribute_with_cache_key(),init_types(),imageScaler=(l,n,u)=>(validateInputs12(n),[l.run(createImageScalerProgramInfoLoader(l,n,u),n)]),parseImageScalerAttributes=l=>{const n=l.attributes.getFloat("scale"),u=l.attributes.getFloats("bias");return createAttributeWithCacheKey({scale:n,bias:u})},imageScalerProgramMetadata={name:"ImageScaler",inputNames:["X"],inputTypes:[0]},createImageScalerProgramInfo=(l,n,u,p)=>{const v=u[0].dims.slice(),d=v.length,_=`
      ${createGetBiasMethod(p.bias.length)}
      float process(int indices[${d}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return{...n,output:{dims:v,type:u[0].type,textureType:0},variables:[{name:"bias",type:"float",arrayLength:p.bias.length,data:p.bias},{name:"scale",type:"float",data:p.scale}],shaderSource:_}},createImageScalerProgramInfoLoader=(l,n,u)=>{const p={...imageScalerProgramMetadata,cacheHint:u.cacheKey};return{...p,get:()=>createImageScalerProgramInfo(l,p,n,u)}},createGetBiasMethod=l=>{const n=[`float getBias(float bias[${l}], int channel) {`];for(let u=0;u<l;++u)u===0?n.push(`	if (channel == ${u}) { return bias[${u}]; }`):u===l-1?n.push(`	else { return bias[${u}]; }`):n.push(`	else if (channel == ${u}) { return bias[${u}]; }`);return n.push("	}"),n.join(`
`)},validateInputs12=l=>{if(!l||l.length!==1)throw new Error("ImageScaler requires 1 input.");if(l[0].dims.length!==4)throw new Error("Invalid input shape.");if(l[0].type!=="float32"&&l[0].type!=="float64")throw new Error("Invalid input type.")}}}),instanceNormalization,parseInstanceNormalizationAttributes,meanAndVarianceProgramMetadata,createMeanAndVarianceProgramInfo,createMeanAndVarianceProgramInfoLoader,computeOutputProgramMetadata,createComputeOutputProgramInfo,createComputeOutputProgramInfoLoader,validateInputs13,init_instance_normalization=__esm({"web/lib/onnxjs/backends/webgl/ops/instance-normalization.ts"(){init_glsl_source(),init_types(),instanceNormalization=(l,n,u)=>{validateInputs13(n);const p=l.run(createMeanAndVarianceProgramInfoLoader(n[0]),n);return[l.run(createComputeOutputProgramInfoLoader(l,n[0],u,p.dims),[n[0],p,n[1],n[2]])]},parseInstanceNormalizationAttributes=l=>l.attributes.getFloat("epsilon",1e-5),meanAndVarianceProgramMetadata={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[0]},createMeanAndVarianceProgramInfo=(l,n)=>{const u=n.dims.slice(),p=u[1],v=u[2]*u[3],d=[u[0],p],g=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${u[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${u[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${v});
        temp = 0.0;
        for(int a2=0; a2<${u[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${u[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${v});

        return v;
      }`;return{...l,output:{dims:d,type:n.type,textureType:4},shaderSource:g}},createMeanAndVarianceProgramInfoLoader=l=>({...meanAndVarianceProgramMetadata,get:()=>createMeanAndVarianceProgramInfo(meanAndVarianceProgramMetadata,l)}),computeOutputProgramMetadata={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[0,4,0,0]},createComputeOutputProgramInfo=(l,n,u,p,v)=>{const d=getGlsl(l.session.backend.glContext.version),[g,_]=l.calculateTextureWidthAndHeight(v,4),[C,E]=[g/4,_],w=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${C}, ${E});
        return ${d.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return{...n,output:{dims:u.dims,type:u.type,textureType:0},variables:[{name:"epsilon",type:"float",data:p}],shaderSource:w}},createComputeOutputProgramInfoLoader=(l,n,u,p)=>{const v={...computeOutputProgramMetadata,cacheHint:`${u}`};return{...v,get:()=>createComputeOutputProgramInfo(l,v,n,u,p)}},validateInputs13=l=>{if(!l||l.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");const n=l[0],u=l[1],p=l[2];if(n.dims.length<3||u.dims.length!==1||p.dims.length!==1)throw new Error("Invalid input shape.");if(u.dims[0]!==n.dims[1]||p.dims[0]!==n.dims[1])throw new Error("Input shapes are mismatched.");if(n.type!=="float32"&&n.type!=="float64"||u.type!=="float32"&&u.type!=="float64"||p.type!=="float32"&&p.type!=="float64")throw new Error("Invalid input type.");if(l[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}}});function createLrnProgramInfo(l,n){const u=l[0].dims[1],p=l[0].dims.length,v=-Math.floor((n.size-1)/2),d=Math.ceil((n.size-1)/2),g=`float(${n.alpha}) / float(${n.size})`,_=`float(${n.bias})`,C=`float(${n.beta})`,E=`
    float process(int indices[${p}]) {
        int c = indices[1];
        float x = _X(indices);
        float square_sum = 0.0;

        for (int i = ${v}; i <= ${d}; i++) {
          int idx = c + i;
          if (c >= 0 && c < ${u}) {
            indices[1] = idx;
            float j = _X(indices);
            square_sum += j * j;
          }
        }
        return x / pow(${_} + ${g} * square_sum, ${C});
    }`;return{...lrnProgramMetadata,cacheHint:n.cacheKey,output:{dims:l[0].dims,type:l[0].type,textureType:0},shaderSource:E}}function createLrnProgramInfoLoader(l,n){return{...lrnProgramMetadata,cacheHint:n.cacheKey,get:()=>createLrnProgramInfo(l,n)}}var lrn,parseLrnAttributes,lrnProgramMetadata,validateInputs14,init_lrn=__esm({"web/lib/onnxjs/backends/webgl/ops/lrn.ts"(){init_attribute_with_cache_key(),init_types(),lrn=(l,n,u)=>(validateInputs14(n),[l.run(createLrnProgramInfoLoader(n,u),n)]),parseLrnAttributes=l=>{const n=l.attributes.getFloat("alpha",1e-4),u=l.attributes.getFloat("beta",.75),p=l.attributes.getFloat("bias",1),v=l.attributes.getInt("size");return createAttributeWithCacheKey({alpha:n,beta:u,bias:p,size:v})},lrnProgramMetadata={name:"LRN",inputNames:["X"],inputTypes:[0]},validateInputs14=l=>{if(!l||l.length!==1)throw new Error("LRN requires 1 input.");if(l[0].dims.length!==4)throw new Error('currently only support LRN for input with "NCHW" format');if(l[0].type!=="float32")throw new Error("input should be float type")}}}),padProgramMetadata,padV2,parsePadAttributesV2,padV11,parsePadAttributesV11,generatePadAttributesFromInputs,createPadProgramInfo,validateInputsV2,validateInputsV11,getPadFunction,getPadConstant,getPadReflect,getPadEdge,init_pad=__esm({"web/lib/onnxjs/backends/webgl/ops/pad.ts"(){init_attribute_with_cache_key(),init_util(),init_glsl_source(),init_types(),padProgramMetadata={name:"Pad",inputNames:["A"],inputTypes:[0]},padV2=(l,n,u)=>(validateInputsV2(n),[l.run({...padProgramMetadata,cacheHint:u.cacheKey,get:()=>createPadProgramInfo(l,n[0],u)},n)]),parsePadAttributesV2=l=>{const n=l.attributes.getString("mode","constant"),u=l.attributes.getFloat("value",0),p=l.attributes.getInts("pads");return createAttributeWithCacheKey({mode:n,value:u,pads:p})},padV11=(l,n,u)=>{validateInputsV11(n);const p=generatePadAttributesFromInputs(l,n,u);return padV2(l,[n[0]],p)},parsePadAttributesV11=l=>l.attributes.getString("mode","constant"),generatePadAttributesFromInputs=(l,n,u)=>{if(!l.session.isInitializer(n[1].dataId)||n.length>=3&&!l.session.isInitializer(n[2].dataId))throw new Error("dynamic pad attributes are not allowed");const p=Array.from(n[1].integerData),v=n.length>=3?n[2].floatData[0]:0;return createAttributeWithCacheKey({mode:u,pads:p,value:v})},createPadProgramInfo=(l,n,u)=>{const p=ShapeUtil.padShape(n.dims.slice(),u.pads),v=p.length,g=`
      ${getPadFunction(l,n,u)}
      float process(int[${v}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[0],output:{dims:p,type:n.type,textureType:0},shaderSource:g}},validateInputsV2=l=>{if(!l||l.length!==1)throw new Error("Pad requires 1 input");if(l[0].type!=="float32"&&l[0].type!=="float64")throw new Error("Invalid input type.")},validateInputsV11=l=>{if(!l||l.length!==2&&l.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(l[1].type!=="int32")throw new Error("Invalid input type.");if(l.length>=3&&l[2].type==="string")throw new Error("Invalid input type.")},getPadFunction=(l,n,u)=>{const p=getGlsl(l.session.backend.glContext.version),[v,d]=l.calculateTextureWidthAndHeight(n.dims,0),g=ShapeUtil.computeStrides(n.dims);switch(u.mode){case"constant":return getPadConstant(p,n.dims,g,v,d,u.pads,u.value);case"reflect":return getPadReflect(p,n.dims,g,v,d,u.pads);case"edge":return getPadEdge(p,n.dims,g,v,d,u.pads);default:throw new Error("Invalid mode")}},getPadConstant=(l,n,u,p,v,d,g)=>{const _=n.length;let C="";for(let E=_-1;E>=0;--E)C+=`
        k = m[${E}] - ${d[E]};
        if (k < 0)  return constant;
        if (k >= ${n[E]}) return constant;
        offset += k * ${u[E]};
        `;return`
      float padA(int m[${_}]) {
        const float constant = float(${g});
        int offset = 0;
        int k = 0;
        ${C}
        vec2 coords = offsetToCoords(offset, ${p}, ${v});
        float value = getColorAsFloat(${l.texture2D}(A, coords));
        return value;
      }
      `},getPadReflect=(l,n,u,p,v,d)=>{const g=n.length;let _="";for(let C=g-1;C>=0;--C)_+=`
        k = m[${C}] - ${d[C]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(n[C]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${n[C]}) { k = _2n_1 - k; }
        }
        offset += k * ${u[C]};
        `;return`
      float padA(int m[${g}]) {
        int offset = 0;
        int k = 0;
        ${_}
        vec2 coords = offsetToCoords(offset, ${p}, ${v});
        float value = getColorAsFloat(${l.texture2D}(A, coords));
        return value;
      }
      `},getPadEdge=(l,n,u,p,v,d)=>{const g=n.length;let _="";for(let C=g-1;C>=0;--C)_+=`
        k = m[${C}] - ${d[C]};
        if (k < 0)  k = 0;
        if (k >= ${n[C]}) k = ${n[C]-1};
        offset += k * ${u[C]};
      `;return`
      float padA(int m[${g}]) {
        int offset = 0;
        int k = 0;
        ${_}
        vec2 coords = offsetToCoords(offset, ${p}, ${v});
        float value = getColorAsFloat(${l.texture2D}(A, coords));
        return value;
      }
      `}}}),averagePool,parseAveragePoolAttributes,createAveragePoolProgramInfo,globalAveragePool,parseGlobalAveragePoolAttributes,maxPool,parseMaxPoolAttributes,createMaxPoolProgramInfo,getAdjustedPoolAttributesAndOutputShape,globalMaxPoolAttributes,globalMaxPoolMetadata,globalMaxPool,validateInputs15,generatePoolingCode,copyArray,offsetToIndices,init_pool=__esm({"web/lib/onnxjs/backends/webgl/ops/pool.ts"(){init_attribute_with_cache_key(),init_util(),init_types(),averagePool=(l,n,u)=>{validateInputs15(n);const p={name:"AveragePool",inputNames:["X"],inputTypes:[0],cacheHint:u.cacheKey};return[l.run({...p,get:()=>createAveragePoolProgramInfo(n,p,!1,u)},n)]},parseAveragePoolAttributes=l=>{const n=l.attributes.getString("auto_pad","NOTSET"),u=l.attributes.getInt("ceil_mode",0),p=l.attributes.getInt("count_include_pad",0)!==0,v=l.attributes.getInts("kernel_shape"),d=l.attributes.getInts("strides",[]),g=l.attributes.getInts("pads",[]);if(u!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return createAttributeWithCacheKey({autoPad:n,ceilMode:u,countIncludePad:p,kernelShape:v,strides:d,pads:g})},createAveragePoolProgramInfo=(l,n,u,p)=>{const[v,d]=getAdjustedPoolAttributesAndOutputShape(l,p,u),g=ShapeUtil.size(v.kernelShape),_="value += _X(x);";let C="";v.countIncludePad?C+=`value /= float(${g});`:C+=`value /= float(${g} - pad);`;const w=`
        ${generatePoolingCode(l[0].dims,v,_,C,"0.0")}
      `;return{...n,output:{dims:d,type:l[0].type,textureType:0},shaderSource:w}},globalAveragePool=(l,n,u)=>{validateInputs15(n);const p={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[0],cacheHint:`${u.countIncludePad}`};return[l.run({...p,get:()=>createAveragePoolProgramInfo(n,p,!0,u)},n)]},parseGlobalAveragePoolAttributes=l=>{const n=l.attributes.getInt("count_include_pad",0)!==0;return createAttributeWithCacheKey({autoPad:"",ceilMode:0,countIncludePad:n,kernelShape:[],strides:[],pads:[]})},maxPool=(l,n,u)=>{validateInputs15(n);const p={name:"MaxPool",inputNames:["X"],inputTypes:[0],cacheHint:u.cacheKey};return[l.run({...p,get:()=>createMaxPoolProgramInfo(n,p,!1,u)},n)]},parseMaxPoolAttributes=l=>{const n=l.attributes.getString("auto_pad","NOTSET"),u=l.attributes.getInt("ceil_mode",0),p=l.attributes.getInts("kernel_shape"),v=l.attributes.getInts("strides",[]),d=l.attributes.getInts("pads",[]),g=l.attributes.getInt("storage_order",0),_=l.attributes.getInts("dilations",[]);if(g!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(u!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return createAttributeWithCacheKey({autoPad:n,ceilMode:u,countIncludePad:!1,kernelShape:p,strides:v,pads:d,storageOrder:g,dilations:_})},createMaxPoolProgramInfo=(l,n,u,p)=>{const[v,d]=getAdjustedPoolAttributesAndOutputShape(l,p,u),E=`
      ${generatePoolingCode(l[0].dims,v,`
      value = max(_X(x), value);
    `,"","-1e5")}
    `;return{...n,output:{dims:d,type:l[0].type,textureType:0},shaderSource:E}},getAdjustedPoolAttributesAndOutputShape=(l,n,u)=>{const p=l[0].dims.slice(),v=Object.hasOwnProperty.call(n,"dilations"),d=n.kernelShape.slice(),g=n.strides.slice(),_=v?n.dilations.slice():[],C=n.pads.slice();PoolConvUtil.adjustPoolAttributes(u,p,d,g,_,C);const E=PoolConvUtil.computePoolOutputShape(u,p,g,_,d,C,n.autoPad),w=Object.assign({},n);return v?Object.assign(w,{kernelShape:d,strides:g,pads:C,dilations:_,cacheKey:n.cacheKey}):Object.assign(w,{kernelShape:d,strides:g,pads:C,cacheKey:n.cacheKey}),[w,E]},globalMaxPoolAttributes={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},globalMaxPoolMetadata={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[0]},globalMaxPool=(l,n)=>(validateInputs15(n),[l.run({...globalMaxPoolMetadata,get:()=>createMaxPoolProgramInfo(n,globalMaxPoolMetadata,!0,globalMaxPoolAttributes)},n)]),validateInputs15=l=>{if(!l||l.length!==1)throw new Error("Pool ops requires 1 input.");if(l[0].type!=="float32"&&l[0].type!=="float64")throw new Error("Invalid input type.")},generatePoolingCode=(l,n,u,p,v)=>{const d=l.length;if(n.kernelShape.length<=2){const g=n.kernelShape[n.kernelShape.length-1],_=n.strides[n.strides.length-1],C=n.pads[n.pads.length/2-1],E=n.pads[n.pads.length-1],w=l[d-1];let m="",y="",e="";if(C+E!==0?m=`
          for (int i = 0; i < ${g}; i++) {
            x[${d} - 1] = indices[${d} - 1] * ${_} - ${C} + i;
            if (x[${d} - 1] < 0 || x[${d} - 1] >= ${w}) {
              pad++;
              continue;
            }
            ${u}
          }`:m=`
          for (int i = 0; i < ${g}; i++) {
            x[${d} - 1] = indices[${d} - 1] * ${_} - ${C} + i;
            ${u}
          }`,n.kernelShape.length===2){const O=n.kernelShape[n.kernelShape.length-2],U=n.strides[n.strides.length-2],W=n.pads[n.pads.length/2-2],V=n.pads[n.pads.length-2],$=l[d-2];W+V!==0?y=`
            for (int j = 0; j < ${O}; j++) {
              x[${d} - 2] = indices[${d} - 2] * ${U} - ${W} + j;
              if (x[${d} - 2] < 0 || x[${d} - 2] >= ${$}) {
                pad+= ${g};
                continue;
              }
          `:y=`
            for (int j = 0; j < ${O}; j++) {
              x[${d} - 2] = indices[${d} - 2] * ${U} - ${W} + j;
            `,e=`
          }
        `}return`
        float process(int indices[${d}]) {
          int x[${d}];
          copyVec(indices, x);

          float value = ${v};
          int pad = 0;
          ${y}
          ${m}
          ${e}
          ${p}
          return value;
        }
      `}else{const g=ShapeUtil.size(n.kernelShape),_=ShapeUtil.computeStrides(n.kernelShape),C=_.length,E=n.pads.length,w=offsetToIndices(C),m=copyArray(l,"inputDims"),y=copyArray(n.pads,"pads"),e=copyArray(_,"kernelStrides"),P=copyArray(n.strides,"strides"),O=n.pads.reduce((V,$)=>V+$);let U="";return O?U=`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${u}
          }`:U=`
          }
          ${u}
        `,`
        ${w}
        float process(int indices[${d}]) {
          int x[${d}];
          copyVec(indices, x);
          int offset[${C}];
          int pads[${E}];
          int inputDims[${d}];
          int kernelStrides[${C}];
          int strides[${C}];
          ${y}
          ${m}
          ${P}
          ${e}

          float value = ${v};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${g}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${d} - ${C}; j < ${d}; j++) {
              x[j] = indices[j] * strides[j - ${d} + ${C}]
                + offset[j - ${d} + ${C}] - pads[j - 2];
              ${U}
          }
          ${p}

          return value;
        }
      `}},copyArray=(l,n)=>{let u="";for(let p=0;p<l.length;p++)u+=`
      ${n}[${p}] = ${l[p]};
    `;return u},offsetToIndices=l=>`
  void offsetToIndices(int offset, int[${l}] strides, out int[${l}] indices) {
    if (${l} == 0) {
      return;
    }
    for (int i = 0; i < ${l} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${l} - 1] = offset;
  }`}}),reduce,parseReduceAttributes,createReduceProgramInfo,validateInputs16,reduceSum,reduceMean,reduceMax,reduceMin,reduceProd,reduceLogSum,reduceLogSumSquare,init_reduce=__esm({"web/lib/onnxjs/backends/webgl/ops/reduce.ts"(){init_attribute_with_cache_key(),init_operators(),init_util(),init_types(),reduce=(l,n,u,p,v)=>{validateInputs16(n);const d={name:p,inputNames:["A"],inputTypes:[0]};return[l.run({...d,cacheHint:u.cacheKey,get:()=>createReduceProgramInfo(l,n,u,p,v,d)},n)]},parseReduceAttributes=l=>{const n=l.attributes.getInts("axes",[]),u=l.attributes.getInt("keepdims",1)===1;return createAttributeWithCacheKey({axes:n,keepDims:u})},createReduceProgramInfo=(l,n,u,p,v,d)=>{const g=[],_=n[0].dims.length||1,C=[],E=ShapeUtil.normalizeAxes(u.axes,n[0].dims.length),w=v(n,E);let m=w[1];for(let P=0;P<n[0].dims.length;P++)E.indexOf(P)>=0||E.length===0?(u.keepDims&&g.push(1),m=`
          for(int j${P} = 0; j${P} < ${n[0].dims[P]}; j${P}++) {
            inputIdx[${P}] = j${P};
            ${m}
          }`):(C.push(`inputIdx[${P}] = outputIdx[${g.length}];`),g.push(n[0].dims[P]));const e=`
      float process(int outputIdx[${g.length||1}]) {
        float value;                 // final result
        int inputIdx[${_}];      // addressing input data
        ${C.join(`
`)}
        ${w[0]}       // init ops for reduce max/min
        ${m}
        ${w[2]}       // final computation for reduce mean
        return value;
      }`;return{...d,output:{dims:g,type:n[0].type,textureType:0},shaderSource:e}},validateInputs16=l=>{if(!l||l.length!==1)throw new Error("Reduce op requires 1 input.");if(NUMBER_TYPES.indexOf(l[0].type)===-1)throw new Error("Invalid input type.")},reduceSum=(l,n,u)=>reduce(l,n,u,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),reduceMean=(l,n,u)=>reduce(l,n,u,"ReduceMean",(v,d)=>{let g=1;for(let _=0;_<v[0].dims.length;_++)(d.indexOf(_)>=0||d.length===0)&&(g*=v[0].dims[_]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${g}.;`]}),reduceMax=(l,n,u)=>reduce(l,n,u,"ReduceMax",(v,d)=>{const g=[];for(let _=0;_<v[0].dims.length;_++)(d.indexOf(_)>=0||d.length===0)&&g.push(`inputIdx[${_}] = 0;`);return[`${g.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),reduceMin=(l,n,u)=>reduce(l,n,u,"ReduceMin",(v,d)=>{const g=[];for(let _=0;_<v[0].dims.length;_++)(d.indexOf(_)>=0||d.length===0)&&g.push(`inputIdx[${_}] = 0;`);return[`${g.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),reduceProd=(l,n,u)=>reduce(l,n,u,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),reduceLogSum=(l,n,u)=>reduce(l,n,u,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),reduceLogSumSquare=(l,n,u)=>reduce(l,n,u,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])}}),reshape,init_reshape=__esm({"web/lib/onnxjs/backends/webgl/ops/reshape.ts"(){init_util(),reshape=(l,n)=>{const u=ShapeUtil.calculateReshapedDims(n[0].dims,n[1].integerData);return l.session.pack?[l.reshapePacked(n[0],u)]:[l.reshapeUnpacked(n[0],u)]}}}),upsampleProgramMetadata,upsample,parseUpsampleAttributesV7,parseUpsampleAttributesV9,parseUpsampleAttributes,createUpsampleProgramInfo,validateInputs17,scalesValidation,init_upsample=__esm({"web/lib/onnxjs/backends/webgl/ops/upsample.ts"(){init_attribute_with_cache_key(),init_glsl_source(),init_types(),upsampleProgramMetadata={name:"Upsample",inputNames:["X"],inputTypes:[0]},upsample=(l,n,u)=>(validateInputs17(n,u),[l.run({...upsampleProgramMetadata,cacheHint:u.cacheKey,get:()=>createUpsampleProgramInfo(l,n,u)},n)]),parseUpsampleAttributesV7=l=>parseUpsampleAttributes(l,7),parseUpsampleAttributesV9=l=>parseUpsampleAttributes(l,9),parseUpsampleAttributes=(l,n)=>{const u=n>=10,p=l.attributes.getString("mode","nearest");if(p!=="nearest"&&p!=="linear"&&(n<11||p!=="cubic"))throw new Error(`unrecognized mode: ${p}`);let v=[];n<9&&(v=l.attributes.getFloats("scales"),scalesValidation(v,p,u));const d=l.attributes.getFloat("extrapolation_value",0),g=n>10?l.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(g)===-1)throw new Error(`coordinate_transform_mode '${g}' is not supported`);const _=g==="tf_crop_and_resize",C=_,E=p==="nearest"&&n>=11?l.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(E)===-1)throw new Error(`nearest_mode '${E}' is not supported`);const w=l.attributes.getFloat("cubic_coeff_a",-.75),m=l.attributes.getInt("exclude_outside",0)!==0;if(m&&p!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const y=n<11?!0:p==="nearest"&&g==="asymmetric"&&E==="floor";let e=0,P=0,O=0;return n>10?l.inputs.length>2?(e=1,P=2,O=3):(P=1,O=2):n===9&&(P=1),createAttributeWithCacheKey({opset:n,isResize:u,mode:p,scales:v,extrapolationValue:d,coordinateTransformMode:g,useExtrapolation:C,needRoiInput:_,nearestMode:E,cubicCoefficientA:w,excludeOutside:m,useNearest2xOptimization:y,roiInputIdx:e,scalesInputIdx:P,sizesInputIdx:O})},createUpsampleProgramInfo=(l,n,u)=>{const p=getGlsl(l.session.backend.glContext.version),[v,d]=l.calculateTextureWidthAndHeight(n[0].dims,0),g=n[0].dims.map((O,U)=>Math.floor(O*u.scales[U])),[_,C]=l.calculateTextureWidthAndHeight(g,0),E=g.length,w=new Array(E),m=new Array(E);let y=`
      int output_pitches[${E}];
      int input_pitches[${E}];
      `;for(let O=E-1;O>=0;O--)w[O]=O===E-1?1:w[O+1]*g[O+1],m[O]=O===E-1?1:m[O+1]*n[0].dims[O+1],y+=`
        output_pitches[${O}] = ${w[O]};
        input_pitches[${O}] = ${m[O]};
        `;const e=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${v}, ${d});
        float value = getColorAsFloat(${p.texture2D}(X, coords));
        return value;
      }
      `,P=u.mode==="nearest"?`
    ${e}
    float process(int indices[${E}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${_}, ${C});

      ${y}

      int d, m;
      for (int dim = 0; dim < ${E}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:E===4?`
    ${e}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${_}, ${C});

      ${y}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${n[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${e}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${_}, ${C});

      ${y}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${n[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return{...upsampleProgramMetadata,output:{dims:g,type:n[0].type,textureType:0},shaderSource:P,variables:[{name:"scales",type:"int",arrayLength:u.scales.length,data:u.scales.map(O=>Math.ceil(O))}]}},validateInputs17=(l,n)=>{if(!l||n.opset<9&&l.length!==1||n.opset>=9&&n.opset<11&&l.length!==2||n.opset>=11&&l.length<2)throw new Error("invalid inputs.");if(n.scales.length>0&&l[0].dims.length!==n.scales.length)throw new Error("Invalid input shape.");if(l[0].type==="string")throw new Error("Invalid input tensor types.")},scalesValidation=(l,n,u)=>{if(u){for(const p of l)if(p<=0)throw new Error("Scale value should be greater than 0.")}else for(const p of l)if(p<1)throw new Error("Scale value should be greater than or equal to 1.");if((n==="linear"||n==="cubic")&&l.length!==2&&(l.length!==4||l[0]!==1||l[1]!==1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${u?"Resize":"Upsample"} opeartor.`)}}}),resizeProgramMetadata,resize,parseResizeAttributesV10,parseResizeAttributesV11,createPackedResizeProgramInfo,prepareInputs,parseScalesData,parseScalesDataFromOutputSize,init_resize_packed=__esm({"web/lib/onnxjs/backends/webgl/ops/resize-packed.ts"(){init_glsl_source(),init_types(),init_utils(),init_packing_utils(),init_upsample(),resizeProgramMetadata={name:"Resize",inputNames:["A"],inputTypes:[2]},resize=(l,n,u)=>(validateInputs17(n,u),[l.run({...resizeProgramMetadata,cacheHint:u.cacheKey,get:()=>createPackedResizeProgramInfo(l,n,u)},n)]),parseResizeAttributesV10=l=>parseUpsampleAttributes(l,10),parseResizeAttributesV11=l=>parseUpsampleAttributes(l,11),createPackedResizeProgramInfo=(l,n,u)=>{const p=getGlsl(l.session.backend.glContext.version),[v,d]=prepareInputs(n,u);if(v.every($=>$===1)&&u.coordinateTransformMode!=="tf_crop_and_resize")return{...resizeProgramMetadata,output:{dims:d,type:n[0].type,textureType:2},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${p.texture2D}(X, TexCoords);
                    ${p.output} = v;
                }`};const _=d.length;if(_<2)throw new Error(`output dimension should be at least 2, but got ${_}`);const C=d[_-2],E=d[_-1],w=n[0].dims;if(_!==w.length)throw new Error(`output dimension should match input ${w.length}, but got ${_}`);const m=w[_-2],y=w[_-1],e=v[_-2],P=v[_-1];let O="";if(u.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${u.mode}'`);switch(u.coordinateTransformMode){case"asymmetric":O=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":O=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"pytorch_half_pixel":O=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 fcoords = vec4(coords);
                        return vec4(
                            ${E}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,
                            ${C}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,
                            ${E}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,
                            ${C}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0
                          );
                    }
                `;break;case"align_corners":O=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${E}.0 - 1.0, ${C}.0 - 1.0, ${E}.0 - 1.0,
                            ${C}.0 - 1.0);
                        vec4 original = vec4(${y}.0 - 1.0, ${m}.0 - 1.0, ${y}.0 - 1.0,
                            ${m}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${u.coordinateTransformMode}'`)}const U=getCoordsDataType(_),W=unpackFromChannel(),V=`
            const vec2 inputWH = vec2(${m}.0, ${y}.0);
            const vec4 scaleWHWH = vec4(float(${e}), float(${P}), float(${e}), float(${P}));
            ${W}
            ${O}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${U} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${C-1};
                bool hasNextCol = rc.z < ${E-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${p.output} = vec4(newValue);
            }
        `;return{...resizeProgramMetadata,output:{dims:d,type:n[0].type,textureType:2},hasMain:!0,shaderSource:V}},prepareInputs=(l,n)=>{const p=l[0].dims;let v=n.scales,d;if(v.length===0){const _=l[n.scalesInputIdx];if(_&&_.size!==0){if(l[n.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");v=parseScalesData(_,n.mode,n.isResize)}else{const C=l[n.sizesInputIdx];if(!C||C.size===0)throw new Error("Either scales or sizes MUST be provided as input.");d=Array.from(C.integerData),v=parseScalesDataFromOutputSize(d,p,n.mode,n.isResize)}}else if(l[n.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const g=d||p.map((_,C)=>Math.floor(_*v[C]));return[v,g]},parseScalesData=(l,n,u)=>{const p=Array.from(l.floatData);return scalesValidation(p,n,u),p},parseScalesDataFromOutputSize=(l,n,u,p)=>{const v=n.length,d=new Array(v);for(let g=0,_=v;g<_;g++)if(n[g]===0){if(l[g]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");d[g]=1}else d[g]=l[g]/n[g];return scalesValidation(d,u,p),d}}}),shape,validateInputs18,init_shape=__esm({"web/lib/onnxjs/backends/webgl/ops/shape.ts"(){init_tensor2(),shape=(l,n)=>(validateInputs18(n),[new Tensor3([n[0].dims.length],"int32",void 0,void 0,new Int32Array(n[0].dims))]),validateInputs18=l=>{if(!l||l.length!==1)throw new Error("Shape requires 1 input.")}}}),sliceProgramMetadata,slice,parseSliceAttributes,createSliceProgramInfo,validateInputs19,sliceV10,generateSliceAttributesFromInputs,validateInputsV10,init_slice=__esm({"web/lib/onnxjs/backends/webgl/ops/slice.ts"(){init_attribute_with_cache_key(),init_operators(),init_util(),init_types(),sliceProgramMetadata={name:"Slice",inputNames:["A"],inputTypes:[0]},slice=(l,n,u)=>(validateInputs19(n),[l.run({...sliceProgramMetadata,cacheHint:u.cacheKey,get:()=>createSliceProgramInfo(l,n[0],u)},n)]),parseSliceAttributes=l=>{const n=l.attributes.getInts("starts"),u=l.attributes.getInts("ends"),p=l.attributes.getInts("axes",[]);return createAttributeWithCacheKey({starts:n,ends:u,axes:p})},createSliceProgramInfo=(l,n,u)=>{const p=u.axes.length===0?n.dims.slice(0).map((m,y)=>y):u.axes,v=ShapeUtil.normalizeAxes(p,n.dims.length),d=u.starts.map((m,y)=>m>n.dims[v[y]]-1?n.dims[v[y]]:ShapeUtil.normalizeAxis(m,n.dims[v[y]])),g=u.ends.map((m,y)=>m>n.dims[v[y]]-1?n.dims[v[y]]:ShapeUtil.normalizeAxis(m,n.dims[v[y]])),_=n.dims.slice(),C=[];for(let m=0;m<v.length;m++)_[v[m]]=g[m]-d[m],d[m]>0&&C.push(`outputIdx[${v[m]}] += ${d[m]};`);const w=`
      float process(int outputIdx[${_.length}]) {
        ${C.join(`
      `)}
        return _A(outputIdx);
      }`;return{...sliceProgramMetadata,output:{dims:_,type:n.type,textureType:0},shaderSource:w}},validateInputs19=l=>{if(!l||l.length!==1)throw new Error("Slice requires 1 input.");if(NUMBER_TYPES.indexOf(l[0].type)===-1)throw new Error("Invalid input type.")},sliceV10=(l,n)=>{validateInputsV10(n);const u=generateSliceAttributesFromInputs(l,n);return[l.run({...sliceProgramMetadata,cacheHint:u.cacheKey,get:()=>createSliceProgramInfo(l,n[0],u)},[n[0]])]},generateSliceAttributesFromInputs=(l,n)=>{if(!l.session.isInitializer(n[1].dataId)||!l.session.isInitializer(n[2].dataId)||n.length>=4&&!l.session.isInitializer(n[3].dataId)||n.length>=5&&!l.session.isInitializer(n[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(n.length>=5&&n[4].integerData.some(g=>g!==1))throw new Error("currently non-1 steps is not supported for Slice");const u=Array.from(n[1].integerData),p=Array.from(n[2].integerData),v=n.length>=4?Array.from(n[3].integerData):[],d=`${v};${u};${p}`;return{starts:u,ends:p,axes:v,cacheKey:d}},validateInputsV10=l=>{if(!l||l.length<3||l.length>5)throw new Error("Invalid input number.");if(l[1].type!=="int32"||l[1].dims.length!==1)throw new Error("Invalid input type.");if(l[2].type!=="int32"||l[2].dims.length!==1)throw new Error("Invalid input type.");if(l.length>=4&&(l[3].type!=="int32"||l[3].dims.length!==1))throw new Error("Invalid input type.");if(l.length>=5&&(l[4].type!=="int32"||l[4].dims.length!==1))throw new Error("Invalid input type.")}}}),softmaxComputeMaxProgramMetadata,softmaxComputeScaleProgramMetadata,softmaxProgramMetadata,softmax,parseSoftmaxAttributes,parseSoftmaxAttributesV13,softmaxV13,computeSoftmax,createComputeMaxProgramInfo,createComputScaleProgramInfo,createSoftMaxProgramInfo,validateInputs20,init_softmax=__esm({"web/lib/onnxjs/backends/webgl/ops/softmax.ts"(){init_attribute_with_cache_key(),init_util(),init_glsl_source(),init_types(),init_transpose(),softmaxComputeMaxProgramMetadata={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[0]},softmaxComputeScaleProgramMetadata={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[0,0]},softmaxProgramMetadata={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[0,0,0]},softmax=(l,n,u)=>{validateInputs20(n);const p=n[0].dims.slice(),v=ShapeUtil.normalizeAxis(u.axis,p.length),d=ShapeUtil.sizeToDimension(p,v),g=ShapeUtil.sizeFromDimension(p,v);return computeSoftmax(l,n,u,d,g)},parseSoftmaxAttributes=l=>createAttributeWithCacheKey({axis:l.attributes.getInt("axis",1)}),parseSoftmaxAttributesV13=l=>createAttributeWithCacheKey({axis:l.attributes.getInt("axis",-1)}),softmaxV13=(l,n,u)=>{validateInputs20(n);const p=n[0].dims.slice(),v=ShapeUtil.normalizeAxis(u.axis,p.length),d=p.length,g=v!==d-1,_=[];let C=[],E=[],w;g&&(C=Array.from({length:d}).map((P,O)=>O),C[v]=d-1,C[d-1]=v,C.map(P=>_.push(p[P])),w=createAttributeWithCacheKey({perm:C}),E=transpose(l,n,w));const m=g?ShapeUtil.sizeToDimension(_,d-1):ShapeUtil.sizeToDimension(p,d-1),y=g?ShapeUtil.sizeFromDimension(_,d-1):ShapeUtil.sizeFromDimension(p,d-1),e=computeSoftmax(l,g?E:n,u,m,y);return g?transpose(l,e,w):e},computeSoftmax=(l,n,u,p,v)=>{const d=createComputeMaxProgramInfo(l,n[0],p,v,[p]),g=l.run({...softmaxComputeMaxProgramMetadata,cacheHint:u.cacheKey,get:()=>d},n),_=createComputScaleProgramInfo(l,n[0],p,v,d.output.dims,[p]),C=l.run({...softmaxComputeScaleProgramMetadata,cacheHint:u.cacheKey,get:()=>_},[n[0],g]),E=createSoftMaxProgramInfo(l,n[0],p,v,d.output.dims,_.output.dims);return[l.run({...softmaxProgramMetadata,cacheHint:u.cacheKey,get:()=>E},[n[0],g,C])]},createComputeMaxProgramInfo=(l,n,u,p,v)=>{const[d,g]=l.calculateTextureWidthAndHeight(n.dims,0),_=v.length;if(u<1||p<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(v.length!==1)throw new Error("Dimensionality of the output should be 1");if(v[0]!==u)throw new Error("Shape of the output should be equal to logical row count");const C=getGlsl(l.session.backend.glContext.version),E=`
      float process(int[${_}] indices) {
        int logical_row_start_offset = indices[0] * ${p};

        float max = getColorAsFloat(${C.texture2D}(A, offsetToCoords(logical_row_start_offset, ${d},
        ${g} )));
        for(int i=1; i<${p}; ++i)
        {
          float current = getColorAsFloat(${C.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${d}, ${g})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return{...softmaxComputeMaxProgramMetadata,output:{dims:v,type:n.type,textureType:0},shaderSource:E}},createComputScaleProgramInfo=(l,n,u,p,v,d)=>{const[g,_]=l.calculateTextureWidthAndHeight(n.dims,0),C=d.length;if(u<1||p<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(d.length!==1)throw new Error("Dimensionality of the output should be 1");if(d[0]!==u)throw new Error("Shape of the output should be equal to logical row count");if(v.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(v[0]!==u)throw new Error("Shape of the intermediate results should be equal to logical row count");const E=getGlsl(l.session.backend.glContext.version),w=`
      float process(int[${C}] indices) {
        int logical_row_start_offset = indices[0] * ${p};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${p}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${E.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${g}, ${_}))) - max);
        }

        return norm_factor;
      }`;return{...softmaxComputeScaleProgramMetadata,output:{dims:d,type:n.type,textureType:0},shaderSource:w}},createSoftMaxProgramInfo=(l,n,u,p,v,d)=>{const[g,_]=l.calculateTextureWidthAndHeight(n.dims,0),C=n.dims.length;if(u<1||p<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(v.length!==1||d.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(v[0]!==u||d[0]!==u)throw new Error("Shape of the intermediate results should be equal to logical row count");const E=`
      float process(int[${C}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${g}, ${_});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${p};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return{...softmaxProgramMetadata,output:{dims:n.dims,type:n.type,textureType:0},shaderSource:E}},validateInputs20=l=>{if(!l||l.length!==1)throw new Error("Softmax requires 1 input.");if(l[0].type!=="float32"&&l[0].type!=="float64")throw new Error("Invalid input type")}}}),splitProgramMetadata,split,parseSplitAttributes,getProgramCount,createSplitProgramInfo,validateInputs21,init_split=__esm({"web/lib/onnxjs/backends/webgl/ops/split.ts"(){init_attribute_with_cache_key(),init_util(),init_types(),splitProgramMetadata={name:"Split",inputNames:["A"],inputTypes:[0]},split=(l,n,u)=>{validateInputs21(n);const p=ShapeUtil.normalizeAxis(u.axis,n[0].dims.length),v=getProgramCount(l,n,p,u),d=[];for(let g=0;g<v;++g)d.push(l.run({...splitProgramMetadata,cacheHint:`${u.cacheKey};${g}`,get:()=>createSplitProgramInfo(l,n[0],u,p,g)},n));return d},parseSplitAttributes=l=>{const n=l.attributes.getInt("axis",0),u=l.attributes.getInts("split",[]),p=l.outputs.length;return createAttributeWithCacheKey({axis:n,split:u,numOutputs:p})},getProgramCount=(l,n,u,p)=>{const[,v]=SplitUtil.splitShape(n[0].dims,u,p.split,p.numOutputs);return v.length},createSplitProgramInfo=(l,n,u,p,v)=>{const[d,g]=SplitUtil.splitShape(n.dims,p,u.split,u.numOutputs),_=g[v],C=d[v],w=`
      float process(int indices[${C.length}]) {
        indices[${p}] += ${_};
        return _A(indices);
      }
    `;return{...splitProgramMetadata,cacheHint:`${u.cacheKey}:${v}`,output:{dims:C,type:n.type,textureType:0},shaderSource:w}},validateInputs21=l=>{if(!l||l.length!==1)throw new Error("Split requires one input.");if(l[0].type!=="int8"&&l[0].type!=="uint8"&&l[0].type!=="int16"&&l[0].type!=="uint16"&&l[0].type!=="int32"&&l[0].type!=="uint32"&&l[0].type!=="float32"&&l[0].type!=="float64"&&l[0].type!=="bool")throw new Error("Invalid input type.")}}}),squeeze,squeezeV13,parseSqueezeAttributes,validateInputs22,validateInputsV13,init_squeeze=__esm({"web/lib/onnxjs/backends/webgl/ops/squeeze.ts"(){init_util(),squeeze=(l,n,u)=>{validateInputs22(n);const p=ShapeUtil.squeezeShape(n[0].dims,u);return[l.reshapeUnpacked(n[0],p)]},squeezeV13=(l,n)=>(validateInputsV13(n),squeeze(l,[n[0]],Array.from(n[1].integerData))),parseSqueezeAttributes=l=>l.attributes.getInts("axes"),validateInputs22=l=>{if(!l||l.length!==1)throw new Error("Squeeze requires 1 input.");if(l[0].type==="string")throw new Error("invalid input tensor types.")},validateInputsV13=l=>{if(!l||l.length!==2)throw new Error("Squeeze requires 2 inputs.");if(l[1].type!=="int32")throw new Error("Invalid input type.")}}}),sum,createSumProgramInfo,validateInputs23,init_sum=__esm({"web/lib/onnxjs/backends/webgl/ops/sum.ts"(){init_glsl_source(),init_types(),sum=(l,n)=>{validateInputs23(n);const u={name:"Sum",inputNames:n.map((v,d)=>`X${d}`),inputTypes:new Array(n.length).fill(0)};return[l.run({...u,get:()=>createSumProgramInfo(l,n,u)},n)]},createSumProgramInfo=(l,n,u)=>{const p=getGlsl(l.session.backend.glContext.version),v=n[0].dims.slice(),g=`
      void main() {
        vec4 result = ${n.map((_,C)=>`${p.texture2D}(X${C},TexCoords)`).join(" + ")};
        ${p.output} = result;
      }
    `;return{...u,output:{dims:v,type:n[0].type,textureType:0},hasMain:!0,shaderSource:g}},validateInputs23=l=>{if(!l||l.length===0)throw new Error("Sum requires inputs.");const n=l[0].dims.length;for(let u=1;u<l.length;u++){if(n!==l[u].dims.length)throw new Error("Input shapes are mismatched.");for(let p=0;p<n;p++)if(l[0].dims[p]!==l[u].dims[p])throw new Error("Input shapes are not matched.")}if(l[0].type!=="float32"&&l[0].type!=="float64")throw new Error("Invalid input type.");for(let u=1;u<l.length;u++)if(l[0].type!==l[u].type)throw new Error("Input types are not matched.")}}}),tile,createTileProgramInfo,validateInputs24,init_tile=__esm({"web/lib/onnxjs/backends/webgl/ops/tile.ts"(){init_operators(),init_types(),tile=(l,n)=>{validateInputs24(n);const u={name:"Tile",inputNames:["A"],inputTypes:[0]};return[l.run({...u,get:()=>createTileProgramInfo(l,n,u)},n)]},createTileProgramInfo=(l,n,u)=>{const p=n[0].dims.slice(),v=new Array(p.length),d=[];for(let C=0;C<p.length;C++)v[C]=p[C]*n[1].numberData[C],d.push(`inputIdx[${C}] = int(mod(float(outputIdx[${C}]), ${p[C]}.));`);const g=v.length,_=`
      float process(int outputIdx[${g}]) {
        int inputIdx[${g}];
        ${d.join(`
`)}
        return _A(inputIdx);
      }
    `;return{...u,output:{dims:v,type:n[0].type,textureType:0},shaderSource:_}},validateInputs24=l=>{if(!l||l.length!==2)throw new Error("Tile requires 2 input.");if(l[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(l[1].dims[0]!==l[0].dims.length)throw new Error("Invalid input shape.");if(NUMBER_TYPES.indexOf(l[0].type)===-1)throw new Error("Invalid input type.");if(l[1].type!=="int32"&&l[1].type!=="int16")throw new Error("Invalid repeat type.")}}}),unsqueeze,unsqueezeV13,parseUnsqueezeAttributes,validateInputs25,validateInputsV132,init_unsqueeze=__esm({"web/lib/onnxjs/backends/webgl/ops/unsqueeze.ts"(){init_util(),unsqueeze=(l,n,u)=>{validateInputs25(n);const p=ShapeUtil.unsqueezeShape(n[0].dims,u);return[l.reshapeUnpacked(n[0],p)]},unsqueezeV13=(l,n)=>(validateInputsV132(n),unsqueeze(l,[n[0]],Array.from(n[1].integerData))),parseUnsqueezeAttributes=l=>l.attributes.getInts("axes"),validateInputs25=l=>{if(!l||l.length!==1)throw new Error("Unsqueeze requires 1 input.");if(l[0].type==="string")throw new Error("invalid input tensor types.")},validateInputsV132=l=>{if(!l||l.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(l[1].type!=="int32")throw new Error("Invalid input type.")}}}),WEBGL_OP_RESOLVE_RULES,init_op_resolve_rules=__esm({"web/lib/onnxjs/backends/webgl/op-resolve-rules.ts"(){init_batch_normalization(),init_binary_op(),init_cast(),init_concat(),init_conv(),init_conv_transpose(),init_depth_to_space(),init_flatten(),init_gather(),init_gemm(),init_image_scaler(),init_instance_normalization(),init_lrn(),init_matmul(),init_pad(),init_pool(),init_reduce(),init_reshape(),init_resize_packed(),init_shape(),init_slice(),init_softmax(),init_split(),init_squeeze(),init_sum(),init_tile(),init_transpose(),init_unary_op(),init_unsqueeze(),init_upsample(),WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",abs],["Acos","","7+",acos],["Add","","7+",add2],["And","","7+",and2],["Asin","","7+",asin],["Atan","","7+",atan],["AveragePool","","7+",averagePool,parseAveragePoolAttributes],["BatchNormalization","","7+",batchNormalization,parseBatchNormalizationAttributes],["Cast","","6+",cast,parseCastAttributes],["Ceil","","6+",ceil],["Clip","","6-10",clip,parseClipAttributes],["Clip","","11+",clipV11],["Concat","","4+",concat,parseConcatAttributes],["Conv","","1+",conv,parseConvAttributes],["ConvTranspose","","1+",convTranspose,parseConvTransposeAttributes],["Cos","","7+",cos],["Div","","7+",div],["Dropout","","7+",identity],["DepthToSpace","","1+",depthToSpace,parseDepthToSpaceAttributes],["Equal","","7+",equal],["Elu","","6+",elu,parseEluAttributes],["Exp","","6+",exp],["Flatten","","1+",flatten,parseFlattenAttributes],["Floor","","6+",floor],["FusedConv","com.microsoft","1+",conv,parseConvAttributes],["Gather","","1+",gather,parseGatherAttributes],["Gemm","","7-10",gemm,parseGemmAttributesV7],["Gemm","","11+",gemm,parseGemmAttributesV11],["GlobalAveragePool","","1+",globalAveragePool,parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",globalMaxPool],["Greater","","7+",greater],["Identity","","1+",identity],["ImageScaler","","1+",imageScaler,parseImageScalerAttributes],["InstanceNormalization","","6+",instanceNormalization,parseInstanceNormalizationAttributes],["LeakyRelu","","6+",leakyRelu,parseLeakyReluAttributes],["Less","","7+",less],["LRN","","1+",lrn,parseLrnAttributes],["Log","","6+",log2],["MatMul","","1+",matMul,parseMatMulAttributes],["MaxPool","","1+",maxPool,parseMaxPoolAttributes],["Mul","","7+",mul],["Neg","","6+",neg],["Not","","1+",not2],["Or","","7+",or2],["Pad","","2-10",padV2,parsePadAttributesV2],["Pad","","11+",padV11,parsePadAttributesV11],["Pow","","7+",pow],["PRelu","","7+",pRelu],["ReduceLogSum","","1+",reduceLogSum,parseReduceAttributes],["ReduceMax","","1+",reduceMax,parseReduceAttributes],["ReduceMean","","1+",reduceMean,parseReduceAttributes],["ReduceMin","","1+",reduceMin,parseReduceAttributes],["ReduceProd","","1+",reduceProd,parseReduceAttributes],["ReduceSum","","1-12",reduceSum,parseReduceAttributes],["ReduceSumSquare","","1+",reduceLogSumSquare,parseReduceAttributes],["Relu","","6+",relu],["Reshape","","5+",reshape],["Resize","","10",resize,parseResizeAttributesV10],["Resize","","11+",resize,parseResizeAttributesV11],["Shape","","1+",shape],["Sigmoid","","6+",sigmoid],["Sin","","7+",sin],["Slice","","10+",sliceV10],["Slice","","1-9",slice,parseSliceAttributes],["Softmax","","1-12",softmax,parseSoftmaxAttributes],["Softmax","","13+",softmaxV13,parseSoftmaxAttributesV13],["Split","","2-12",split,parseSplitAttributes],["Sqrt","","6+",sqrt],["Squeeze","","1-12",squeeze,parseSqueezeAttributes],["Squeeze","","13+",squeezeV13],["Sub","","7+",sub],["Sum","","6+",sum],["Tan","","7+",tan],["Tanh","","6+",tanh],["Tile","","6+",tile],["Transpose","","1+",transpose,parseTransposeAttributes],["Upsample","","7-8",upsample,parseUpsampleAttributesV7],["Upsample","","9",upsample,parseUpsampleAttributesV9],["Unsqueeze","","1-12",unsqueeze,parseUnsqueezeAttributes],["Unsqueeze","","13+",unsqueezeV13],["Xor","","7+",xor2]]}});function replaceInlines(l){const n={};let u;for(;(u=INLINE_FUNC_DEF_REGEX.exec(l))!==null;){const p=u[3].split(",").map(v=>{const d=v.trim().split(" ");return d&&d.length===2?{type:d[0],name:d[1]}:null}).filter(v=>v!==null);n[u[2]]={params:p,body:u[4]}}for(const p in n){const v=FUNC_CALL_REGEX.replace("__FUNC__",p),d=new RegExp(v,"gm");for(;(u=d.exec(l))!==null;){const g=u[1],_=u[2],C=u[3].split(","),E=g?`${g} ${_};`:"";let w=n[p].body,m="";n[p].params.forEach((e,P)=>{e&&(m+=`${e.type} ${e.name} = ${C[P]};
`)}),w=`${m}
 ${w}`,w=w.replace("return",`${_} = `);const y=`
      ${E}
      {
        ${w}
      }
      `;l=l.replace(u[0],y)}}return l=l.replace(INLINE_FUNC_DEF_REGEX,""),l}var INLINE_FUNC_DEF_REGEX,FUNC_CALL_REGEX,init_glsl_function_inliner=__esm({"web/lib/onnxjs/backends/webgl/glsl-function-inliner.ts"(){INLINE_FUNC_DEF_REGEX=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm,FUNC_CALL_REGEX="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;"}});function squeezeShape(l,n){const u=[],p=[],v=n!=null&&Array.isArray(n)&&n.length===0,d=n==null||v?null:parseAxisParam(n,l).sort();let g=0;for(let _=0;_<l.length;++_){if(d!=null){if(d[g]===_&&l[_]!==1)throw new Error(`Can't squeeze axis ${_} since its dim '${l[_]}' is not 1`);(d[g]==null||d[g]>_)&&l[_]===1&&(u.push(l[_]),p.push(_)),d[g]<=_&&g++}l[_]!==1&&(u.push(l[_]),p.push(_))}return{newShape:u,keptDims:p}}function parseAxisParam(l,n){const u=n.length;return l=l==null?n.map((p,v)=>v):[].concat(l),assert(l.every(p=>p>=-u&&p<u),()=>`All values in axis param must be in range [-${u}, ${u}) but got axis ${l}`),assert(l.every(isInt),()=>`All values in axis param must be integers but got axis ${l}`),l.map(p=>p<0?u+p:p)}function isInt(l){return l%1===0}function sizeFromShape(l){if(l.length===0)return 1;let n=l[0];for(let u=1;u<l.length;u++)n*=l[u];return n}function sizeToSquarishShape(l){const n=Math.ceil(Math.sqrt(l));return[n,Math.ceil(l/n)]}var PreferLogicalStrategy,init_texture_layout_strategy=__esm({"web/lib/onnxjs/backends/webgl/texture-layout-strategy.ts"(){init_instrument(),init_util(),PreferLogicalStrategy=class{constructor(l){this.maxTextureSize=l}computeTextureWH(l,n){const u=this.computeTexture(l,n);return n&&n.isPacked&&(u[0]/=2,u[1]/=2),n&&n.reverseWH?[u[1],u[0]]:u}computeTexture(l,n){const u=n&&n.isPacked;if(l.length===0)return u?[2,2]:[1,1];let p=this.maxTextureSize;if(n&&n.breakAxis!==void 0){const g=n.breakAxis>=l.length?1:l.slice(n.breakAxis).reduce((C,E)=>C*E),_=n.breakAxis<=0?1:l.slice(0,n.breakAxis).reduce((C,E)=>C*E);if(g>p||_>p)Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${l}, breakAxis:${n.breakAxis}`);else return[g,_]}let v=l.slice(0);u&&(p=p*2,v=v.map((g,_)=>_>=v.length-2?v[_]%2===0?v[_]:v[_]+1:v[_]),v.length===1&&(v=[2,v[0]])),v.length!==2&&(v=squeezeShape(v).newShape);const d=sizeFromShape(v);return v.length<=1&&d<=p?[1,d]:v.length===2&&v[0]<=p&&v[1]<=p?v:v.length===3&&v[0]*v[1]<=p&&v[2]<=p?[v[0]*v[1],v[2]]:v.length===3&&v[0]<=p&&v[1]*v[2]<=p?[v[0],v[1]*v[2]]:v.length===4&&v[0]*v[1]*v[2]<=p&&v[3]<=p?[v[0]*v[1]*v[2],v[3]]:v.length===4&&v[0]<=p&&v[1]*v[2]*v[3]<=p?[v[0],v[1]*v[2]*v[3]]:u?sizeToSquarishShape(d/4).map(g=>g*2):sizeToSquarishShape(d)}}}}),CoordsGlslLib,init_glsl_coordinate_lib=__esm({"web/lib/onnxjs/backends/webgl/glsl-coordinate-lib.ts"(){init_util(),init_glsl_definitions(),init_glsl_source(),init_texture_layout_strategy(),init_utils(),CoordsGlslLib=class extends GlslLib{constructor(l){super(l)}getFunctions(){return{...this.offsetToCoords(),...this.coordsToOffset(),...this.toVec(),...this.valueFrom(),...this.getCommonUtilFuncs(),...this.getInputsSamplingSnippets(),...this.getOutputSamplingSnippet()}}getCustomTypes(){return{}}offsetToCoords(){const l="offsetToCoords";return{offsetToCoords:new GlslLibRoutine(`
      vec2 ${l}(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){const l="coordsToOffset";return{coordsToOffset:new GlslLibRoutine(`
      int ${l}(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){const l=this.context.outputTextureLayout;return l.isPacked?this.getPackedOutputSamplingSnippet(l):this.getUnpackedOutputSamplingSnippet(l)}getPackedOutputSamplingSnippet(l){const n=l.unpackedShape,u=[l.width,l.height],p={},v="getOutputCoords";switch(n.length){case 0:p[v]=this.getOutputScalarCoords();break;case 1:p[v]=this.getOutputPacked1DCoords(n,u);break;case 2:p[v]=this.getOutputPacked2DCoords(n,u);break;case 3:p[v]=this.getOutputPacked3DCoords(n,u);break;default:p[v]=this.getOutputPackedNDCoords(n,u)}const g=`
      void setOutput(vec4 val) {
        ${getGlsl(this.context.glContext.version).output} = val;
      }
    `,_="floatTextureSetRGBA";return p[_]=new GlslLibRoutine(g),p}getUnpackedOutputSamplingSnippet(l){const n=l.unpackedShape,u=[l.width,l.height],p={},v="getOutputCoords";switch(n.length){case 0:p[v]=this.getOutputScalarCoords();break;case 1:p[v]=this.getOutputUnpacked1DCoords(n,u);break;case 2:p[v]=this.getOutputUnpacked2DCoords(n,u);break;case 3:p[v]=this.getOutputUnpacked3DCoords(n,u);break;case 4:p[v]=this.getOutputUnpacked4DCoords(n,u);break;case 5:p[v]=this.getOutputUnpacked5DCoords(n,u);break;case 6:p[v]=this.getOutputUnpacked6DCoords(n,u);break;default:throw new Error(`Unsupported output dimensionality: ${n.length}`)}const g=`
        void setOutput(float val) {
          ${getGlsl(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `,_="floatTextureSetR";return p[_]=new GlslLibRoutine(g),p}getOutputScalarCoords(){return new GlslLibRoutine(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(l,n){const u=n;let p="";return u[0]===1?(p=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${u[1]}.0);
          }
        `,new GlslLibRoutine(p)):u[1]===1?(p=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${u[0]}.0);
          }
        `,new GlslLibRoutine(p)):(p=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${u[0]}, ${u[1]}));
          return 2 * (resTexRC.y * ${u[0]} + resTexRC.x);
        }
      `,new GlslLibRoutine(p))}getOutputPacked2DCoords(l,n){let u="";if(ArrayUtil.arraysEqual(l,n))return u=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${n[0]}, ${n[1]}));
        }
      `,new GlslLibRoutine(u);const p=n,v=Math.ceil(l[1]/2);return u=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${p[0]}, ${p[1]}));

          int index = resTexRC.y * ${p[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${v}) * 2;
          int c = 2 * (index / ${v});

          return ivec2(r, c);
        }
      `,new GlslLibRoutine(u)}getOutputPacked3DCoords(l,n){const u=[n[0],n[1]],p=Math.ceil(l[2]/2),v=p*Math.ceil(l[1]/2),d=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${u[0]}, ${u[1]}));
          int index = resTexRC.y * ${u[0]} + resTexRC.x;

          int b = index / ${v};
          index -= b * ${v};

          // reverse r and c order for packed texture
          int r = imod(index, ${p}) * 2;
          int c = 2 * (index / ${p});

          return ivec3(b, r, c);
        }
      `;return new GlslLibRoutine(d)}getOutputPackedNDCoords(l,n){const u=[n[0],n[1]],p=Math.ceil(l[l.length-1]/2),v=p*Math.ceil(l[l.length-2]/2);let d=v,g="",_="b, r, c";for(let E=2;E<l.length-1;E++)d*=l[l.length-E-1],g=`
      int b${E} = index / ${d};
      index -= b${E} * ${d};
    `+g,_=`b${E}, `+_;const C=`
      ivec${l.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${u[0]}, ${u[1]}));
        int index = resTexRC.y * ${u[0]} + resTexRC.x;

        ${g}

        int b = index / ${v};
        index -= b * ${v};

        // reverse r and c order for packed texture
        int r = imod(index, ${p}) * 2;
        int c = 2 * (index / ${p});

        return ivec${l.length}(${_});
      }
    `;return new GlslLibRoutine(C)}getOutputUnpacked1DCoords(l,n){const u=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${n[0]}, ${n[1]}));
          return resTexRC.y * ${n[0]} + resTexRC.x;
        }
      `;return new GlslLibRoutine(u)}getOutputUnpacked2DCoords(l,n){const u=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${n[0]}, ${n[1]}));
          int index = resTexRC.y * ${n[0]} + resTexRC.x;
          int r = index / ${l[1]};
          int c = index - r * ${l[1]};
          return ivec2(r, c);
        }
      `;return new GlslLibRoutine(u)}getOutputUnpacked3DCoords(l,n){let u="";const p=l.length;let v=null;p<2&&(v=[]),v=new Array(p-1),v[p-2]=l[p-1];for(let _=p-3;_>=0;--_)v[_]=v[_+1]*l[_+1];const d=["r","c","d"],g=v.map((_,C)=>{const E=`int ${d[C]} = index / ${_}`,w=C===v.length-1?`int ${d[C+1]} = index - ${d[C]} * ${_}`:`index -= ${d[C]} * ${_}`;return`${E}; ${w};`}).join("");return u=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${n[0]}, ${n[1]}));
          int index = resTexRC.y * ${n[0]} + resTexRC.x;
          ${g}
          return ivec3(r, c, d);
        }
      `,new GlslLibRoutine(u)}getOutputUnpacked4DCoords(l,n){let u="";const p=l.length;let v=null;p<2&&(v=[]),v=new Array(p-1),v[p-2]=l[p-1];for(let _=p-3;_>=0;--_)v[_]=v[_+1]*l[_+1];const d=["r","c","d","d2"],g=v.map((_,C)=>{const E=`int ${d[C]} = index / ${_}`,w=C===v.length-1?`int ${d[C+1]} = index - ${d[C]} * ${_}`:`index -= ${d[C]} * ${_}`;return`${E}; ${w};`}).join("");return u=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${n[0]}, ${n[1]}));
          int index = resTexRC.y * ${n[0]} + resTexRC.x;
          ${g}
          return ivec4(r, c, d, d2);
        }
      `,new GlslLibRoutine(u)}getOutputUnpacked5DCoords(l,n){let u="";const p=l.length;let v=null;p<2&&(v=[]),v=new Array(p-1),v[p-2]=l[p-1];for(let _=p-3;_>=0;--_)v[_]=v[_+1]*l[_+1];const d=["r","c","d","d2","d3"],g=v.map((_,C)=>{const E=`int ${d[C]} = index / ${_}`,w=C===v.length-1?`int ${d[C+1]} = index - ${d[C]} * ${_}`:`index -= ${d[C]} * ${_}`;return`${E}; ${w};`}).join("");return u=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${n[0]}, ${n[1]}));
          int index = resTexRC.y * ${n[0]} + resTexRC.x;
          ${g}
          return ivec5(r, c, d, d2, d3);
        }
      `,new GlslLibRoutine(u)}getOutputUnpacked6DCoords(l,n){let u="";const p=l.length;let v=null;p<2&&(v=[]),v=new Array(p-1),v[p-2]=l[p-1];for(let _=p-3;_>=0;--_)v[_]=v[_+1]*l[_+1];const d=["r","c","d","d2","d3","d4"],g=v.map((_,C)=>{const E=`int ${d[C]} = index / ${_}`,w=C===v.length-1?`int ${d[C+1]} = index - ${d[C]} * ${_}`:`index -= ${d[C]} * ${_}`;return`${E}; ${w};`}).join("");return u=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${n[0]}, ${n[1]}));
         int index = resTexRC.y * ${n[0]} + resTexRC.x;
         ${g}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new GlslLibRoutine(u)}getCommonUtilFuncs(){const l={};let n="uvFromFlat";l[n]=new GlslLibRoutine(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),n="packedUVfrom1D",l[n]=new GlslLibRoutine(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),n="packedUVfrom2D",l[n]=new GlslLibRoutine(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),n="packedUVfrom3D",l[n]=new GlslLibRoutine(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),n="sampleTexture";const u=getGlsl(this.context.glContext.version);return l[n]=new GlslLibRoutine(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${u.texture2D}(textureSampler, uv).r;
        }`),l}getInputsSamplingSnippets(){const l={},n=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((u,p)=>{const v=this.context.inputTextureLayouts[p],d=generateShaderFuncNameFromInputSamplerName(u);v.isPacked?l[d]=this.getPackedSamplerFromInput(d,u,v):l[d]=this.getUnpackedSamplerFromInput(d,u,v);const g=generateShaderFuncNameFromInputSamplerNameAtOutCoords(u);v.unpackedShape.length<=n.unpackedShape.length&&(v.isPacked?l[g]=this.getPackedSamplerAtOutputCoords(g,v,n,u):l[g]=this.getUnpackedSamplerAtOutputCoords(g,v,n,u))}),l}getPackedSamplerAtOutputCoords(l,n,u,p){const v=n.unpackedShape,d=u.unpackedShape,_=generateShaderFuncNameFromInputSamplerName(p),C=v.length,E=d.length,w=BroadcastUtil.getBroadcastDims(v,d),m=getCoordsDataType(E),y=E-C;let e;const P=getGlChannels();C===0?e="":E<2&&w.length>=1?e="coords = 0;":e=w.map(Y=>`coords.${P[Y+y]} = 0;`).join(`
`);let O="";E<2&&C>0?O="coords":O=v.map((Y,X)=>`coords.${P[X+y]}`).join(", ");let U="return outputValue;";const V=ShapeUtil.size(v)===1,b=ShapeUtil.size(d)===1;if(C===1&&!V&&!b)U=`
        return vec4(outputValue.xy, outputValue.xy);
      `;else if(V&&!b)E===1?U=`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:U=`
          return vec4(outputValue.x);
        `;else if(w.length){const Y=C-2,X=C-1;w.indexOf(Y)>-1&&w.indexOf(X)>-1?U="return vec4(outputValue.x);":w.indexOf(Y)>-1?U="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":w.indexOf(X)>-1&&(U="return vec4(outputValue.xx, outputValue.zz);")}const H=`
        int lastDim = coords.${P[E-1]};
        coords.${P[E-1]} = coords.${P[E-2]};
        coords.${P[E-2]} = lastDim;
      `,G=`
      vec4 ${l}() {
        ${m} coords = getOutputCoords();
        ${H}
        ${e}
        vec4 outputValue = ${_}(${O});
        ${U}
      }
    `;return new GlslLibRoutine(G,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(l,n,u,p){const v=[u.width,u.height],d=[n.width,n.height],g=n.unpackedShape.length,_=u.unpackedShape.length,C=n.unpackedShape,E=u.unpackedShape,w=generateShaderFuncNameFromInputSamplerName(p);if(g===_&&ArrayUtil.arraysEqual(d,v)){const V=`
          float ${l}() {
            return sampleTexture(${p}, TexCoords);
          }
        `;return new GlslLibRoutine(V,["coordinates.sampleTexture"])}const m=getCoordsDataType(_),y=BroadcastUtil.getBroadcastDims(C,E),e=_-g;let P;const O=getGlChannels();g===0?P="":_<2&&y.length>=1?P="coords = 0;":P=y.map(V=>`coords.${O[V+e]} = 0;`).join(`
`);let U="";_<2&&g>0?U="coords":U=n.unpackedShape.map((V,$)=>`coords.${O[$+e]}`).join(", ");const W=`
        float ${l}() {
          ${m} coords = getOutputCoords();
          ${P}
          return ${w}(${U});
        }
      `;return new GlslLibRoutine(W,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(l,n,u){switch(u.unpackedShape.length){case 0:return this.getPackedSamplerScalar(l,n);case 1:return this.getPackedSampler1D(l,n,u);case 2:return this.getPackedSampler2D(l,n,u);case 3:return this.getPackedSampler3D(l,n,u);default:return this.getPackedSamplerND(l,n,u)}}getUnpackedSamplerFromInput(l,n,u){const p=u.unpackedShape;switch(p.length){case 0:return this.getUnpackedSamplerScalar(l,n,u);case 1:return this.getUnpackedSampler1D(l,n,u);case 2:return this.getUnpackedSampler2D(l,n,u);case 3:return this.getUnpackedSampler3D(l,n,u);case 4:return this.getUnpackedSampler4D(l,n,u);case 5:return this.getUnpackedSampler5D(l,n,u);case 6:return this.getUnpackedSampler6D(l,n,u);default:throw new Error(`Unsupported dimension ${p.length}-D`)}}getPackedSamplerScalar(l,n){const u=getGlsl(this.context.glContext.version),p=`
          vec4 ${l}() {
            return ${u.texture2D}(${n}, halfCR);
          }
        `;return new GlslLibRoutine(p)}getPackedSampler1D(l,n,u){const p=[u.width,u.height],v=[p[1],p[0]],d=getGlsl(this.context.glContext.version),_=`vec4 ${l}(int index) {
      vec2 uv = packedUVfrom1D(
      ${v[0]}, ${v[1]}, index);
      return ${d.texture2D}(${n}, uv);
    }`;return new GlslLibRoutine(_,["coordinates.packedUVfrom1D"])}getPackedSampler2D(l,n,u){const p=u.unpackedShape,v=[u.width,u.height],d=getGlsl(this.context.glContext.version),g=v[0],_=v[1];if(v!=null&&ArrayUtil.arraysEqual(p,v)){const y=`vec4 ${l}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${_}.0, ${g}.0);
        return ${d.texture2D}(${n}, uv);
      }`;return new GlslLibRoutine(y)}const C=v,E=Math.ceil(p[1]/2),m=`vec4 ${l}(int row, int col) {
      vec2 uv = packedUVfrom2D(${C[1]}, ${C[0]}, ${E}, row, col);
      return ${d.texture2D}(${n}, uv);
    }`;return new GlslLibRoutine(m,["coordinates.packedUVfrom2D"])}getPackedSampler3D(l,n,u){const p=u.unpackedShape,v=[u.width,u.height],d=[v[0],v[1]],g=getGlsl(this.context.glContext.version);if(p[0]===1){const e=p.slice(1),P=[1,2],O=squeezeInputShape(p,e),U=["b","row","col"],W=JSON.parse(JSON.stringify(u));W.unpackedShape=O;const V=this.getPackedSamplerFromInput(l,n,W),b=`${V.routineBody}
      vec4 ${l}(int b, int row, int col) {
        return ${l}(${getSqueezedParams(U,P)});
      } `;return new GlslLibRoutine(b,V.dependencies)}const _=d[0],C=d[1],E=Math.ceil(p[2]/2),w=E*Math.ceil(p[1]/2),y=`vec4 ${l}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${C}, ${_}, ${w}, ${E}, b, row, col);
      return ${g.texture2D}(${n}, uv);}`;return new GlslLibRoutine(y,["coordinates.packedUVfrom3D"])}getPackedSamplerND(l,n,u){const p=u.unpackedShape,v=p.length,d=[u.width,u.height],g=getGlsl(this.context.glContext.version),_=[d[0],d[1]],C=_[1],E=_[0],w=Math.ceil(p[v-1]/2);let m=w*Math.ceil(p[v-2]/2),y="int b, int row, int col",e=`b * ${m} + (row / 2) * ${w} + (col / 2)`;for(let U=2;U<v-1;U++)y=`int b${U}, `+y,m*=p[v-U-1],e=`b${U} * ${m} + `+e;const O=`vec4 ${l}(${y}) {
      int index = ${e};
      int texR = index / ${E};
      int texC = index - texR * ${E};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${E}, ${C});
      return ${g.texture2D}(${n}, uv);
    }`;return new GlslLibRoutine(O)}getUnpackedSamplerScalar(l,n,u){const[p,v]=[u.width,u.height];if(p===1&&v===1){const g=`
          float ${l}() {
            return sampleTexture(${n}, halfCR);
          }
        `;return new GlslLibRoutine(g,["coordinates.sampleTexture"])}const d=`
        float ${l}() {
          int offset_${n} = coordsToOffset(TexCoords, ${p}, ${v});
          vec2 uv = uvFromFlat(${p}, ${v}, offset_${n});
          return sampleTexture(${n}, uv);
        }
      `;return new GlslLibRoutine(d,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(l,n,u){const p=u.width,v=u.height;if(v===1&&p===1){const g=`
        float ${l}(int index) {
          return sampleTexture(${n}, halfCR);
        }
      `;return new GlslLibRoutine(g,["coordinates.sampleTexture"])}if(v===1){const g=`
          float ${l}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${p}.0, 0.5);
            return sampleTexture(${n}, uv);
          }
        `;return new GlslLibRoutine(g,["coordinates.sampleTexture"])}if(p===1){const g=`
          float ${l}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${v}.0);
            return sampleTexture(${n}, uv);
          }
        `;return new GlslLibRoutine(g,["coordinates.sampleTexture"])}const d=`
        float ${l}(int index) {
          vec2 uv = uvFromFlat(${p}, ${v}, index);
          return sampleTexture(${n}, uv);
        }
      `;return new GlslLibRoutine(d,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(l,n,u){const p=u.unpackedShape,v=[u.height,u.width];if(v!=null&&ArrayUtil.arraysEqual(p,v)){const m=v[1],y=v[0],e=`
          float ${l}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${m}.0, ${y}.0);
            return sampleTexture(${n}, uv);
          }
        `;return new GlslLibRoutine(e,["coordinates.sampleTexture"])}const{newShape:d,keptDims:g}=squeezeShape(p),_=d;if(_.length<p.length){const m=squeezeInputShape(p,_),y=JSON.parse(JSON.stringify(u));y.unpackedShape=m;const e=["col","row"],P=`
          ${this.getUnpackedSamplerFromInput(l,n,y).routineBody}
          float ${l}(int row, int col) {
            return ${l}(${getSqueezedParams(e,g)});
          }
        `;return new GlslLibRoutine(P,["coordinates.sampleTexture"])}const C=v[1],E=v[0];if(E===1){const m=`
          float ${l}(int row, int col) {
            int offset_${n} = coordsToOffset(TexCoords, ${C}, ${E});
            float index = dot(vec3(row, col, offset_${n}), vec3(${p[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${C}.0);
            return sampleTexture(${n}, uv);
          }
        `;return new GlslLibRoutine(m,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(C===1){const m=`
          float ${l}(int row, int col) {
            int offset_${n} = coordsToOffset(TexCoords, ${C}, ${E});
            float index = dot(vec3(row, col, offset_${n}), vec3(${p[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${E}.0, 0.5);
            return sampleTexture(${n}, uv);
          }
        `;return new GlslLibRoutine(m,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const w=`
        float ${l}(int row, int col) {
          int index = col * ${p[1]} + row;
          vec2 uv = uvFromFlat(${C}, ${E}, index);
          return sampleTexture(${n}, uv);
        }
      `;return new GlslLibRoutine(w,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(l,n,u){const p=u.unpackedShape,v=p[1]*p[2],d=p[2],{newShape:g,keptDims:_}=squeezeShape(p),C=g;if(C.length<p.length){const y=squeezeInputShape(p,C),e=["batch","col","row"],P=JSON.parse(JSON.stringify(u));P.unpackedShape=y;const O=this.getUnpackedSamplerFromInput(l,n,P),U=_.reverse(),W=`
          ${O.routineBody}
          float ${l}(int batch, int row, int col) {
            return ${l}(${getSqueezedParams(e,U)});
          }
        `;return new GlslLibRoutine(W,O.dependencies)}const E=u.width,w=u.height,m=`
          float ${l}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${v} + col * ${d} + row;
            vec2 uv = uvFromFlat(${E}, ${w}, index);
            return sampleTexture(${n}, uv);
          }
      `;return new GlslLibRoutine(m,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(l,n,u){const p=u.unpackedShape,v=p[3],d=p[2]*v,g=p[1]*d,_=u.width,C=u.height,E=`
        float ${l}(int row, int col, int depth, int depth2) {
          int index = row * ${g} + col * ${d} +
              depth2 * ${v} + depth;
          vec2 uv = uvFromFlat(${_}, ${C}, index);
          return sampleTexture(${n}, uv);
        }
      `;return new GlslLibRoutine(E,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(l,n,u){const p=u.unpackedShape,v=p[4],d=p[3]*v,g=p[2]*d,_=p[1]*g,{newShape:C,keptDims:E}=squeezeShape(p);if(C.length<p.length){const e=squeezeInputShape(p,C),P=["row","col","depth","depth2","depth3"],O=JSON.parse(JSON.stringify(u));O.unpackedShape=e;const U=`
          ${this.getUnpackedSamplerFromInput(l,n,O).routineBody}
          float ${l}(int row, int col, int depth, int depth2, int depth3) {
            return ${l}(${getSqueezedParams(P,E)});
          }
        `;return new GlslLibRoutine(U,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const w=u.width,m=u.height,y=`
        float ${l}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${_} + col * ${g} + depth * ${d} +
          depth3 * ${v} + depth2;
          vec2 uv = uvFromFlat(${w}, ${m}, index);
          return sampleTexture(${n}, uv);
        }
      `;return new GlslLibRoutine(y,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(l,n,u){const p=u.unpackedShape,v=p[5],d=p[4]*v,g=p[3]*d,_=p[2]*g,C=p[1]*_,{newShape:E,keptDims:w}=squeezeShape(p);if(E.length<p.length){const P=squeezeInputShape(p,E),O=["row","col","depth","depth2","depth3","depth4"],U=JSON.parse(JSON.stringify(u));U.unpackedShape=P;const W=`
            ${this.getUnpackedSamplerFromInput(l,n,U).routineBody}
            float ${l}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${l}(${getSqueezedParams(O,w)});
            }
          `;return new GlslLibRoutine(W,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const m=u.width,y=u.height,e=`
          float ${l}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${C} + col * ${_} + depth * ${g} +
            depth2 * ${d} + depth3 * ${v} + depth4;
            vec2 uv = uvFromFlat(${m}, ${y}, index);
            return sampleTexture(${n}, uv);
          }
        `;return new GlslLibRoutine(e,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const l=this.context.outputTextureLayout,n=l.shape.length,u=l.strides,p=l.width,v=l.height,d=[];for(let _=0;_<n-1;++_)d.push(`
        c[${_}] = offset / ${u[_]};`),d.push(`
        offset -= c[${_}] * ${u[_]};`);d.push(`
        c[${n-1}] = offset;`);const g=`
      void toVec(vec2 texCoords, out int c[${n}]) {
        int offset = coordsToOffset(texCoords, ${p}, ${v});
        ${d.join("")}
      }
      void toVec(int offset, out int c[${n}]) {
        ${d.join("")}
      }
    `;return{toVec:new GlslLibRoutine(g,["coordinates.coordsToOffset"])}}valueFrom(){const l={};return this.context.programInfo.inputNames.forEach((n,u)=>{const p=this.context.inputTextureLayouts[u],d=(p.unpackedShape.length>0?p.unpackedShape:p.shape).length;let g=`_${n}`;l[g]=new GlslLibRoutine(this.getValueFromSingle(n,d,p.width,p.height,!1),[`shapeUtils.indicesToOffset${g}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),g=g+"_T",l[g]=new GlslLibRoutine(this.getValueFromSingle(n,d,p.width,p.height,!0),[`shapeUtils.indicesToOffset${g}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),l}getValueFromSingle(l,n,u,p,v){let d=`_${l}`;v&&(d=d+"_T");const g=getGlsl(this.context.glContext.version);return`
        float ${d}(int m[${n}]) {
          int offset = indicesToOffset${d}(m);
          vec2 coords = offsetToCoords(offset, ${u}, ${p});
          float value = getColorAsFloat(${g.texture2D}(${l}, coords));
          return value;
        }
        `}getPackedValueFrom(l,n,u,p,v){let d=`_${l}_Pack`;v&&(d=d+"_T");const g=getGlsl(this.context.glContext.version);return`
        vec4 ${d}(int m[${n}]) {
          int offset = indicesToOffset_${l}(m);
          vec2 coords = offsetToCoords(offset, ${u}, ${p});
          return ${g.texture2D}(${l}, coords);
        }
        `}}}}),EncodingGlslLib,init_glsl_encoding_lib=__esm({"web/lib/onnxjs/backends/webgl/glsl-encoding-lib.ts"(){init_glsl_definitions(),EncodingGlslLib=class qn extends GlslLib{constructor(n){super(n)}getFunctions(){return{...this.encodeFloat32(),...this.decodeFloat32()}}getCustomTypes(){return{}}encodeFloat32(){return{encode:new GlslLibRoutine(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new GlslLibRoutine(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){const n=qn.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new GlslLibRoutine(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${n}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){const n=qn.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new GlslLibRoutine(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${n}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){const n=new ArrayBuffer(4),u=new Uint32Array(n),p=new Uint8Array(n);if(u[0]=3735928559,p[0]===239)return!0;if(p[0]===222)return!1;throw new Error("unknown endianness")}}}}),FragColorGlslLib,init_glsl_fragcolor_lib=__esm({"web/lib/onnxjs/backends/webgl/glsl-fragcolor-lib.ts"(){init_glsl_definitions(),init_glsl_source(),FragColorGlslLib=class extends GlslLib{constructor(l){super(l)}getFunctions(){return{...this.setFragColor(),...this.getColorAsFloat()}}getCustomTypes(){return{}}setFragColor(){const l=getGlsl(this.context.glContext.version);return{setFragColor:new GlslLibRoutine(`
        void setFragColor(float value) {
            ${l.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new GlslLibRoutine(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}}}),ShapeUtilsGlslLib,init_glsl_shape_utils_lib=__esm({"web/lib/onnxjs/backends/webgl/glsl-shape-utils-lib.ts"(){init_glsl_definitions(),ShapeUtilsGlslLib=class lr extends GlslLib{constructor(n){super(n)}getFunctions(){return{...this.bcastIndex(),...this.bcastMatmulIndex(),...this.offsetToIndices(),...this.indicesToOffset(),...this.incrementIndices()}}getCustomTypes(){return{}}bcastIndex(){const n=this.context.outputTextureLayout.shape.length,u={};return this.context.programInfo.inputNames.forEach((p,v)=>{const d=this.context.inputTextureLayouts[v].unpackedShape;if(d.length<=n){const g=d.length,_=n-g,C=`bcastIndices_${p}`;let E="";for(let m=0;m<g;++m)E+=`
          realIndices[${m}] = int( mod(float(bcastedIndices[${_+m}]), ${d[m]}.0) );
          `;const w=`
        void ${C} (int bcastedIndices[${n}], out int realIndices[${g}]) {
          ${E}
        }
        `;u[C]=new GlslLibRoutine(w)}}),u}bcastMatmulIndex(){const n=this.context.outputTextureLayout.shape.length,u={};return this.context.programInfo.inputNames.forEach((p,v)=>{const d=this.context.inputTextureLayouts[v].shape;if(!(d.length<2||d.length>n)){const g=d.length,_=n-g,C=`bcastMatmulIndices_${p}`;let E="";for(let m=0;m<g-2;++m)E+=`
          realIndices[${m}] = int( mod(float(bcastedIndices[${_+m}]), ${d[m]}.0) );
          `;const w=`
        void ${C}(int bcastedIndices[${n}], out int realIndices[${g}]) {
          ${E}
          realIndices[${g-1}] = bcastedIndices[${n-1}];
          realIndices[${g-2}] = bcastedIndices[${n-2}];
        }
        `;u[C]=new GlslLibRoutine(w)}}),u}indicesToOffset(){const n={};return this.context.programInfo.inputNames.forEach((u,p)=>{const v=this.context.inputTextureLayouts[p].shape,d=this.context.inputTextureLayouts[p].strides,g=v.length;let _=`indicesToOffset_${u}`;n[_]=new GlslLibRoutine(lr.indexToOffsetSingle(_,g,d)),_=`indicesToOffset_${u}_T`,n[_]=new GlslLibRoutine(lr.indexToOffsetSingle(_,g,d.slice().reverse()))}),n}static indexToOffsetSingle(n,u,p){let v="";for(let d=u-1;d>=0;--d)v+=`
        offset += indices[${d}] * ${p[d]};
        `;return`
      int ${n}(int indices[${u}]) {
        int offset = 0;
        ${v}
        return offset;
      }
      `}offsetToIndices(){const n={};return this.context.programInfo.inputNames.forEach((u,p)=>{const v=this.context.inputTextureLayouts[p].shape,d=this.context.inputTextureLayouts[p].strides,g=v.length;let _=`offsetToIndices_${u}`;n[_]=new GlslLibRoutine(lr.offsetToIndicesSingle(_,g,d)),_=`offsetToIndices_${u}_T`,n[_]=new GlslLibRoutine(lr.offsetToIndicesSingle(_,g,d.slice().reverse()))}),n}static offsetToIndicesSingle(n,u,p){const v=[];for(let d=0;d<u-1;++d)v.push(`
      indices[${d}] = offset / ${p[d]};`),v.push(`
        offset -= indices[${d}] * ${p[d]};`);return v.push(`
      indices[${u-1}] = offset;`),`
      void ${n}(int offset, out int indices[${u}]) {
        ${v.join("")}
      }
      `}incrementIndices(){const n={};return this.context.programInfo.inputNames.forEach((u,p)=>{const v=this.context.inputTextureLayouts[p].shape,d=v.length,g=`incrementIndices_${u}`;let _="";for(let E=0;E<d;++E)_+=`
        shape[${E}] = ${v[E]};`;const C=`
        void ${g}(int axis, out int indices[${d}]) {
          int shape[${d}];
          ${_};
          for(int i = ${d} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;n[g]=new GlslLibRoutine(C)}),n}}}}),VecGlslLib,init_glsl_vec_lib=__esm({"web/lib/onnxjs/backends/webgl/glsl-vec-lib.ts"(){init_glsl_definitions(),VecGlslLib=class extends GlslLib{constructor(l){super(l)}getCustomTypes(){return{}}getFunctions(){return{...this.binaryVecFunctions(),...this.copyVec(),...this.setVecItem(),...this.getVecItem()}}binaryVecFunctions(){const n=this.context.outputTextureLayout.shape.length,u={add:"+=",sub:"-=",mul:"*=",div:"/="},p={};for(const v in u){const d=`${v}Vec`;let g="";for(let C=0;C<n;++C)g+=`
          dest[${C}] ${u[v]} src[${C}];
          `;const _=`
        void ${d}(int src[${n}], out int dest[${n}]) {
          ${g}
        }
        `;p[d]=new GlslLibRoutine(_)}return p}copyVec(){const n=this.context.outputTextureLayout.shape.length;let u="";for(let v=0;v<n;++v)u+=`
        dest[${v}] = src[${v}];
        `;const p=`
      void copyVec(int src[${n}], out int dest[${n}]) {
        ${u}
      }
      `;return{copyVec:new GlslLibRoutine(p)}}setVecItem(){const n=this.context.outputTextureLayout.shape.length;let u=`
        if(index < 0)
            index =${n} + index;
        if (index == 0)
            m[0] = value;
        `;for(let v=1;v<n-1;++v)u+=`
        else if (index == ${v})
            m[${v}] = value;
            `;u+=`
        else
            m[${n-1}] = value;
        `;const p=`
      void setVecItem(out int m[${n}], int index, int value) {
        ${u}
      }
        `;return{setVecItem:new GlslLibRoutine(p)}}getVecItem(){const n=this.context.outputTextureLayout.shape.length;let u=`
        if(index < 0)
            index = ${n} + index;
        if (index == 0)
            return m[0];
      `;for(let v=1;v<n-1;++v)u+=`
        else if (index == ${v})
            return m[${v}];
      `;u+=`
        else
            return m[${n-1}];
        `;const p=`
      int getVecItem(int m[${n}], int index) {
        ${u}
      }
    `;return{getVecItem:new GlslLibRoutine(p)}}}}}),glslRegistry,init_glsl_registered_libs=__esm({"web/lib/onnxjs/backends/webgl/glsl-registered-libs.ts"(){init_glsl_coordinate_lib(),init_glsl_encoding_lib(),init_glsl_fragcolor_lib(),init_glsl_shape_utils_lib(),init_glsl_vec_lib(),glslRegistry={encoding:EncodingGlslLib,fragcolor:FragColorGlslLib,vec:VecGlslLib,shapeUtils:ShapeUtilsGlslLib,coordinates:CoordsGlslLib}}}),GlslPreprocessor,init_glsl_preprocessor=__esm({"web/lib/onnxjs/backends/webgl/glsl-preprocessor.ts"(){init_glsl_definitions(),init_glsl_function_inliner(),init_glsl_registered_libs(),init_glsl_source(),GlslPreprocessor=class{constructor(l,n,u,p){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new GlslContext(l,n,u,p),Object.keys(glslRegistry).forEach(d=>{const g=new glslRegistry[d](this.context);this.libs[d]=g});const v=this.glslLibRoutineDependencyGraph;for(const d in this.libs){const _=this.libs[d].getFunctions();for(const C in _){const E=d+"."+C;let w;v[E]?(w=v[E],w.routineBody=_[C].routineBody):(w=new GlslLibRoutineNode(E,_[C].routineBody),v[E]=w);const m=_[C].dependencies;if(m)for(let y=0;y<m.length;++y)if(v[m[y]])w.addDependency(v[m[y]]);else{const e=new GlslLibRoutineNode(m[y]);v[m[y]]=e,w.addDependency(e)}}}}preprocess(){const l=this.context.programInfo;let n=l.shaderSource;return this.context.programInfo.hasMain||(n=`${n}
      ${getDefaultFragShaderMain(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),n=replaceInlines(n),`${getFragShaderPreamble(this.context.glContext.version)}
    ${this.getUniforms(l.inputNames,l.variables)}
    ${this.getImports(n)}
    ${n}`}getImports(l){const n=this.selectGlslLibRoutinesToBeIncluded(l);if(n.length===0)return"";let u="";for(let p=0;p<n.length;++p)if(n[p].routineBody)u+=n[p].routineBody+`
`;else throw new Error(`Missing body for the Glsl Library routine: ${n[p].name}`);return u}selectGlslLibRoutinesToBeIncluded(l){const n=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(u=>{const p=u.split(".")[1];l.indexOf(p)!==-1&&n.push(this.glslLibRoutineDependencyGraph[u])}),TopologicalSortGlslRoutines.returnOrderedNodes(n)}getUniforms(l,n){const u=[];if(l)for(const p of l)u.push(`uniform sampler2D ${p};`);if(n)for(const p of n)u.push(`uniform ${p.type} ${p.name}${p.arrayLength?`[${p.arrayLength}]`:""};`);return u.join(`
`)}}}}),ProgramManager,init_program_manager=__esm({"web/lib/onnxjs/backends/webgl/program-manager.ts"(){init_esm(),init_instrument(),init_glsl_preprocessor(),init_glsl_source(),ProgramManager=class{constructor(l,n,u){this.profiler=l,this.glContext=n,this.textureLayoutStrategy=u,this.repo=new Map,this.attributesBound=!1}getArtifact(l){return this.repo.get(l)}setArtifact(l,n){this.repo.set(l,n)}run(l,n,u){this.profiler.event("op",`ProgramManager.run ${l.programInfo.name??"unknown kernel"}`,()=>{const p=this.glContext.gl,v=l.program;p.useProgram(v);try{this.bindOutput(u),this.attributesBound||this.bindAttributes(l.attribLocations),this.bindUniforms(l.uniformLocations,l.programInfo.variables??[],n)}catch(d){throw Logger.error("ProgramManager",l.programInfo.shaderSource),d}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(l=>this.glContext.deleteProgram(l.program))}build(l,n,u){return this.profiler.event("backend","ProgramManager.build",()=>{const p=new GlslPreprocessor(this.glContext,l,n,u),v=p.preprocess(),d=this.compile(v);return{programInfo:l,program:d,uniformLocations:this.getUniformLocations(d,p.context.programInfo.inputNames,p.context.programInfo.variables),attribLocations:this.getAttribLocations(d)}})}compile(l){if(!this.vertexShader){Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const p=getVertexShaderSource(this.glContext.version);this.vertexShader=this.glContext.compileShader(p,this.glContext.gl.VERTEX_SHADER)}env2.debug&&Logger.verbose("ProrgramManager",`FragShader:
${l}
`);const n=this.glContext.compileShader(l,this.glContext.gl.FRAGMENT_SHADER),u=this.glContext.createProgram(this.vertexShader,n);return this.glContext.deleteShader(n),u}bindOutput(l){const n=l.width,u=l.height;Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${n}/${u}, shape=${l.shape}, type=${l.tensor.type}`),this.glContext.attachFramebuffer(l.texture,n,u)}bindAttributes(l){const n=l.position,u=l.textureCoord;this.glContext.setVertexAttributes(n,u),this.attributesBound=!0}bindUniforms(l,n,u){var d;const p=this.glContext.gl;let v=0;for(const{name:g,type:_,location:C,arrayLength:E}of l){const w=(d=n.find(m=>m.name===g))==null?void 0:d.data;if(_!=="sampler2D"&&!w)throw new Error(`variable '${g}' does not have data defined in program info`);switch(_){case"sampler2D":this.bindTexture(u[v],C,v),v++;break;case"float":E?p.uniform1fv(C,w):p.uniform1f(C,w);break;case"int":E?p.uniform1iv(C,w):p.uniform1i(C,w);break;default:throw new Error(`Uniform not implemented: ${_}`)}}}bindTexture(l,n,u){this.glContext.bindTextureToUniform(l.texture,u,n)}getAttribLocations(l){return{position:this.getAttribLocation(l,"position"),textureCoord:this.getAttribLocation(l,"textureCoord")}}getUniformLocations(l,n,u){const p=[];if(n)for(const v of n)p.push({name:v,type:"sampler2D",location:this.getUniformLocation(l,v)});if(u)for(const v of u)p.push({...v,location:this.getUniformLocation(l,v.name)});return p}getUniformLocation(l,n){const p=this.glContext.gl.getUniformLocation(l,n);if(p===null)throw new Error(`Uniform ${n} not found.`);return p}getAttribLocation(l,n){return this.glContext.gl.getAttribLocation(l,n)}}}}),TextureManager,init_texture_manager=__esm({"web/lib/onnxjs/backends/webgl/texture-manager.ts"(){init_instrument(),init_texture_data_encoder(),TextureManager=class{constructor(l,n,u,p){this.glContext=l,this.layoutStrategy=n,this.profiler=u,this.config=p,this.pendingRead=new Map,p.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(l,n,u,p){const v=this.toEncoderType(l),d=this.glContext.getEncoder(v,n.channels||1,p);if(n.isPacked&&p===1)throw new Error("not implemented");const g=n.width,_=n.height;let C,E;if(this.config.reuseTextures){C=`${g}x${_}_${d.format}_${d.internalFormat}_${d.textureType}`,E=this.inUseTextures.get(C),E||(E=[],this.inUseTextures.set(C,E));const m=this.idleTextures.get(C);if(m&&m.length>0){const y=m.pop();return E.push(y),p===1&&this.glContext.updateTexture(y,g,_,d,this.toTextureData(l,u)),y}}Logger.verbose("TextureManager",`Creating new texture of size ${n.width}x${n.height}`);const w=this.glContext.allocateTexture(g,_,d,this.toTextureData(l,u));return this.config.reuseTextures&&(E.push(w),this.textureLookup.set(w,C)),w}readTexture(l,n,u){return u||(u=1),this.profiler.event("backend","TextureManager.readTexture",()=>{const p=l.shape.reduce((d,g)=>d*g)*u,v=this.glContext.readTexture(l.texture,l.width,l.height,p,this.toEncoderType(n),u);return this.toTensorData(n,v)})}async readTextureAsync(l,n,u){const p=l.tensor.dataId;if(u||(u=1),this.pendingRead.has(p)){const v=this.pendingRead.get(p);return new Promise(d=>v==null?void 0:v.push(d))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(p,[]);const v=l.shape.reduce((C,E)=>C*E)*u;await this.glContext.createAndWaitForFence();const d=this.glContext.readTexture(l.texture,l.width,l.height,v,this.toEncoderType(n),u),g=this.toTensorData(n,d),_=this.pendingRead.get(p);return this.pendingRead.delete(p),_==null||_.forEach(C=>C(g)),g})}readUint8TextureAsFloat(l){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{const n=l.shape.reduce((p,v)=>p*v),u=this.glContext.readTexture(l.texture,l.width,l.height,n*4,"byte",4);return new Float32Array(u.buffer,u.byteOffset,n)})}releaseTexture(l,n){let u;if(this.config.reuseTextures&&(u=this.textureLookup.get(l.texture),u)){n&&this.textureLookup.delete(u);const p=this.inUseTextures.get(u);if(p){const v=p.indexOf(l.texture);if(v!==-1){p.splice(v,1);let d=this.idleTextures.get(u);d||(d=[],this.idleTextures.set(u,d)),d.push(l.texture)}}}(!u||n)&&(Logger.verbose("TextureManager",`Deleting texture of size ${l.width}x${l.height}`),this.glContext.deleteTexture(l.texture))}toTensorData(l,n){switch(l){case"int16":return n instanceof Int16Array?n:Int16Array.from(n);case"int32":return n instanceof Int32Array?n:Int32Array.from(n);case"int8":return n instanceof Int8Array?n:Int8Array.from(n);case"uint16":return n instanceof Uint16Array?n:Uint16Array.from(n);case"uint32":return n instanceof Uint32Array?n:Uint32Array.from(n);case"uint8":case"bool":return n instanceof Uint8Array?n:Uint8Array.from(n);case"float32":return n instanceof Float32Array?n:Float32Array.from(n);case"float64":return n instanceof Float64Array?n:Float64Array.from(n);default:throw new Error(`TensorData type ${l} is not supported`)}}toTextureData(l,n){if(n)return n instanceof Float32Array?n:new Float32Array(n)}toEncoderType(l){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}}}),WebGLSessionHandler,init_session_handler=__esm({"web/lib/onnxjs/backends/webgl/session-handler.ts"(){init_instrument(),init_opset(),init_inference_handler(),init_op_resolve_rules(),init_program_manager(),init_texture_layout_strategy(),init_texture_manager(),WebGLSessionHandler=class{constructor(l,n){this.backend=l,this.context=n,this.layoutStrategy=new PreferLogicalStrategy(l.glContext.maxTextureSize),this.programManager=new ProgramManager(this.context.profiler,l.glContext,this.layoutStrategy),this.textureManager=new TextureManager(l.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:l.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=l.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new WebGLInferenceHandler(this)}onGraphInitialized(l){const n=l.getValues().filter(u=>u.from===-1&&u.tensor).map(u=>u.tensor.dataId);this.initializers=new Set(n)}isInitializer(l){return this.initializers?this.initializers.has(l):!1}addInitializer(l){this.initializers.add(l)}getTextureData(l,n){return n?this.packedTextureDataCache.get(l):this.unpackedTextureDataCache.get(l)}setTextureData(l,n,u=!1){Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),u?this.packedTextureDataCache.set(l,n):this.unpackedTextureDataCache.set(l,n)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(l=>this.textureManager.releaseTexture(l,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(l=>this.textureManager.releaseTexture(l,!0)),this.unpackedTextureDataCache=new Map}resolve(l,n,u){const p=resolveOperator(l,n,WEBGL_OP_RESOLVE_RULES);return{impl:p.opImpl,context:p.opInit?p.opInit(l,u):l}}}}});function linearSearchLastTrue(l){let n=0;for(;n<l.length&&l[n]();++n);return n-1}var WebGLContext,init_webgl_context=__esm({"web/lib/onnxjs/backends/webgl/webgl-context.ts"(){init_esm(),init_texture_data_encoder(),init_texture_data_encoder(),init_utils(),WebGLContext=class{constructor(l,n){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=l,this.version=n,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(l,n,u,p){const v=this.gl,d=v.createTexture();v.bindTexture(v.TEXTURE_2D,d),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,v.NEAREST),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,v.NEAREST),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,v.CLAMP_TO_EDGE);const g=p?u.encode(p,l*n):null;return v.texImage2D(v.TEXTURE_2D,0,u.internalFormat,l,n,0,u.format,u.textureType,g),this.checkError(),d}updateTexture(l,n,u,p,v){const d=this.gl;d.bindTexture(d.TEXTURE_2D,l);const g=p.encode(v,n*u);d.texSubImage2D(d.TEXTURE_2D,0,0,0,n,u,p.format,p.textureType,g),this.checkError()}attachFramebuffer(l,n,u){const p=this.gl;p.bindTexture(p.TEXTURE_2D,l),p.bindFramebuffer(p.FRAMEBUFFER,this.framebuffer),p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,l,0),this.checkError(),p.viewport(0,0,n,u),p.scissor(0,0,n,u)}readTexture(l,n,u,p,v,d){const g=this.gl;d||(d=1),this.frameBufferBound||this.attachFramebuffer(l,n,u);const _=this.getEncoder(v,d),C=_.allocate(n*u);return g.bindTexture(g.TEXTURE_2D,l),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,l,0),g.readPixels(0,0,n,u,g.RGBA,_.textureType,C),this.checkError(),_.decode(C,p)}isFramebufferReady(){return!0}getActiveTexture(){const l=this.gl;return`TEXTURE${l.getParameter(this.gl.ACTIVE_TEXTURE)-l.TEXTURE0}`}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(l,n){const u=this.gl;u.vertexAttribPointer(l,3,u.FLOAT,!1,20,0),u.enableVertexAttribArray(l),n!==-1&&(u.vertexAttribPointer(n,2,u.FLOAT,!1,20,12),u.enableVertexAttribArray(n)),this.checkError()}createProgram(l,n){const u=this.gl,p=u.createProgram();return u.attachShader(p,l),u.attachShader(p,n),u.linkProgram(p),p}compileShader(l,n){const u=this.gl,p=u.createShader(n);if(!p)throw new Error(`createShader() returned null with type ${n}`);if(u.shaderSource(p,l),u.compileShader(p),u.getShaderParameter(p,u.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${u.getShaderInfoLog(p)}
Shader source:
${l}`);return p}deleteShader(l){this.gl.deleteShader(l)}bindTextureToUniform(l,n,u){const p=this.gl;p.activeTexture(p.TEXTURE0+n),this.checkError(),p.bindTexture(p.TEXTURE_2D,l),this.checkError(),p.uniform1i(u,n),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(env2.debug){const l=this.gl,n=l.getError();let u="";switch(n){case l.NO_ERROR:return;case l.INVALID_ENUM:u="INVALID_ENUM";break;case l.INVALID_VALUE:u="INVALID_VALUE";break;case l.INVALID_OPERATION:u="INVALID_OPERATION";break;case l.INVALID_FRAMEBUFFER_OPERATION:u="INVALID_FRAMEBUFFER_OPERATION";break;case l.OUT_OF_MEMORY:u="OUT_OF_MEMORY";break;case l.CONTEXT_LOST_WEBGL:u="CONTEXT_LOST_WEBGL";break;default:u=`Unknown WebGL Error: ${n.toString(16)}`}throw new Error(u)}}deleteTexture(l){this.gl.deleteTexture(l)}deleteProgram(l){this.gl.deleteProgram(l)}getEncoder(l,n,u=0){if(this.version===2)return new RedFloat32DataEncoder(this.gl,n);switch(l){case"float":return u===1||this.isRenderFloat32Supported?new RGBAFloatDataEncoder(this.gl,n):new RGBAFloatDataEncoder(this.gl,n,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new Uint8DataEncoder(this.gl,n);default:throw new Error(`Invalid dataType: ${l}`)}}clearActiveTextures(){const l=this.gl;for(let n=0;n<this.maxTextureImageUnits;++n)l.activeTexture(l.TEXTURE0+n),l.bindTexture(l.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const l=this.gl;l.bindFramebuffer(l.FRAMEBUFFER,null),l.deleteFramebuffer(this.framebuffer),l.bindBuffer(l.ARRAY_BUFFER,null),l.deleteBuffer(this.vertexbuffer),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,null),l.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const l=this.gl,n=l.createBuffer();if(!n)throw new Error("createBuffer() returned null");const u=this.createDefaultGeometry();return l.bindBuffer(l.ARRAY_BUFFER,n),l.bufferData(l.ARRAY_BUFFER,u,l.STATIC_DRAW),this.checkError(),n}createFramebuffer(){const l=this.gl.createFramebuffer();if(!l)throw new Error("createFramebuffer returned null");return l}queryVitalParameters(){const l=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=l.getParameter(l.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const l=this.gl,n=l.createTexture();l.bindTexture(l.TEXTURE_2D,n);const u=this.version===2?l.RGBA32F:l.RGBA;l.texImage2D(l.TEXTURE_2D,0,u,1,1,0,l.RGBA,l.FLOAT,null);const p=l.createFramebuffer();l.bindFramebuffer(l.FRAMEBUFFER,p),l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,n,0);const v=l.checkFramebufferStatus(l.FRAMEBUFFER)===l.FRAMEBUFFER_COMPLETE;return l.bindTexture(l.TEXTURE_2D,null),l.bindFramebuffer(l.FRAMEBUFFER,null),l.deleteTexture(n),l.deleteFramebuffer(p),v}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const l=this.gl;let n,u,p,v,d;try{n=l.createTexture(),u=l.createFramebuffer(),l.bindTexture(l.TEXTURE_2D,n);const g=this.version===2?l.RGBA32F:l.RGBA;return l.texImage2D(l.TEXTURE_2D,0,g,1,1,0,l.RGBA,l.FLOAT,null),l.bindFramebuffer(l.FRAMEBUFFER,u),l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,n,0),l.enable(l.BLEND),p=l.createShader(l.VERTEX_SHADER),!p||(l.shaderSource(p,"void main(){}"),l.compileShader(p),v=l.createShader(l.FRAGMENT_SHADER),!v)||(l.shaderSource(v,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),l.compileShader(v),d=l.createProgram(),!d)?!1:(l.attachShader(d,p),l.attachShader(d,v),l.linkProgram(d),l.useProgram(d),l.drawArrays(l.POINTS,0,1),l.getError()===l.NO_ERROR)}finally{l.disable(l.BLEND),d&&l.deleteProgram(d),p&&l.deleteShader(p),v&&l.deleteShader(v),u&&(l.bindFramebuffer(l.FRAMEBUFFER,null),l.deleteFramebuffer(u)),n&&(l.bindTexture(l.TEXTURE_2D,null),l.deleteTexture(n))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){const l=this.gl,n=this.disjointTimerQueryWebgl2Extension,u=l.createQuery();return l.beginQuery(n.TIME_ELAPSED_EXT,u),u}else throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){const l=this.gl,n=this.disjointTimerQueryWebgl2Extension;l.endQuery(n.TIME_ELAPSED_EXT);return}else throw new Error("WebGL1 profiling currently not supported")}isTimerResultAvailable(l){let n=!1,u=!1;if(this.version===2&&this.disjointTimerQueryWebgl2Extension){const p=this.gl,v=this.disjointTimerQueryWebgl2Extension;n=p.getQueryParameter(l,p.QUERY_RESULT_AVAILABLE),u=p.getParameter(v.GPU_DISJOINT_EXT)}else throw new Error("WebGL1 profiling currently not supported");return n&&!u}getTimerResult(l){let n=0;if(this.version===2){const u=this.gl;n=u.getQueryParameter(l,u.QUERY_RESULT),u.deleteQuery(l)}else throw new Error("WebGL1 profiling currently not supported");return n/1e6}async waitForQueryAndGetTime(l){return await repeatedTry(()=>this.isTimerResultAvailable(l)),this.getTimerResult(l)}async createAndWaitForFence(){const l=this.createFence(this.gl);return this.pollFence(l)}createFence(l){let n;const u=l,p=u.fenceSync(u.SYNC_GPU_COMMANDS_COMPLETE,0);return l.flush(),p===null?n=()=>!0:n=()=>{const v=u.clientWaitSync(p,0,0);return v===u.ALREADY_SIGNALED||v===u.CONDITION_SATISFIED},{query:p,isFencePassed:n}}async pollFence(l){return new Promise(n=>{this.addItemToPoll(()=>l.isFencePassed(),()=>n())})}pollItems(){const l=linearSearchLastTrue(this.itemsToPoll.map(n=>n.isDoneFn));for(let n=0;n<=l;++n){const{resolveFn:u}=this.itemsToPoll[n];u()}this.itemsToPoll=this.itemsToPoll.slice(l+1)}async addItemToPoll(l,n){this.itemsToPoll.push({isDoneFn:l,resolveFn:n}),!(this.itemsToPoll.length>1)&&await repeatedTry(()=>(this.pollItems(),this.itemsToPoll.length===0))}}}});function createWebGLContext(l){let n;if((!l||l==="webgl2")&&"webgl2"in cache?n=cache.webgl2:(!l||l==="webgl")&&"webgl"in cache&&(n=cache.webgl),!n)try{const p=createOffscreenCanvas();n=createNewWebGLContext(p,l)}catch{const v=createCanvas();n=createNewWebGLContext(v,l)}l=l||n.version===1?"webgl":"webgl2";const u=n.gl;return cache[l]=n,u.isContextLost()?(delete cache[l],createWebGLContext(l)):(u.disable(u.DEPTH_TEST),u.disable(u.STENCIL_TEST),u.disable(u.BLEND),u.disable(u.DITHER),u.disable(u.POLYGON_OFFSET_FILL),u.disable(u.SAMPLE_COVERAGE),u.enable(u.SCISSOR_TEST),u.enable(u.CULL_FACE),u.cullFace(u.BACK),n)}function createNewWebGLContext(l,n){const u={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};let p;const v=u;if((!n||n==="webgl2")&&(p=l.getContext("webgl2",v),p))try{return new WebGLContext(p,2)}catch(d){Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${d}`)}if((!n||n==="webgl")&&(p=l.getContext("webgl",v)||l.getContext("experimental-webgl",v),p))try{return new WebGLContext(p,1)}catch(d){Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${d}`)}throw new Error("WebGL is not supported")}function createCanvas(){if(typeof document>"u")throw new TypeError("failed to create canvas: document is not supported");const l=document.createElement("canvas");return l.width=1,l.height=1,l}function createOffscreenCanvas(){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create offscreen canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}var cache,init_webgl_context_factory=__esm({"web/lib/onnxjs/backends/webgl/webgl-context-factory.ts"(){init_instrument(),init_webgl_context(),cache={}}}),WebGLBackend,init_backend_webgl=__esm({"web/lib/onnxjs/backends/backend-webgl.ts"(){init_esm(),init_instrument(),init_session_handler(),init_webgl_context_factory(),WebGLBackend=class{get contextId(){return env2.webgl.contextId}set contextId(l){env2.webgl.contextId=l}get matmulMaxBatchSize(){return env2.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(l){env2.webgl.matmulMaxBatchSize=l}get textureCacheMode(){return env2.webgl.textureCacheMode}set textureCacheMode(l){env2.webgl.textureCacheMode=l}get pack(){return env2.webgl.pack}set pack(l){env2.webgl.pack=l}get async(){return env2.webgl.async}set async(l){env2.webgl.async=l}initialize(){try{return this.glContext=createWebGLContext(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),Logger.setWithEnv(env2),env2.webgl.context||Object.defineProperty(env2.webgl,"context",{value:this.glContext.gl}),Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(l){return Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${l}`),!1}}createSessionHandler(l){return new WebGLSessionHandler(this,l)}dispose(){this.glContext.dispose()}}}});async function resolveBackend(l){if(l){const n=typeof l=="string"?[l]:l;for(const u of n){const p=backendsCache.get(u);if(p)return p;const v=await tryLoadBackend(u);if(v)return v}}else return resolveBackend(["webgl"]);throw new Error("no available backend to use")}async function tryLoadBackend(l){const n=backend;if(typeof n[l]<"u"&&isBackend(n[l])){const u=n[l];let p=u.initialize();if(typeof p=="object"&&"then"in p&&(p=await p),p)return backendsCache.set(l,u),u}}function isBackend(l){const n=l;return"initialize"in n&&typeof n.initialize=="function"&&"createSessionHandler"in n&&typeof n.createSessionHandler=="function"&&"dispose"in n&&typeof n.dispose=="function"}var backendsCache,backend,init_backend2=__esm({"web/lib/onnxjs/backend.ts"(){init_backend_webgl(),backendsCache=new Map,backend={webgl:new WebGLBackend}}}),KernelOp,ExecutionPlan,init_execution_plan=__esm({"web/lib/onnxjs/execution-plan.ts"(){init_instrument(),KernelOp=class{constructor(l,n){this.op=l,this.node=n}},ExecutionPlan=class{constructor(l,n,u){this.graph=l,this.profiler=u,this.initialize(n)}initialize(l){this.profiler.event("session","ExecutionPlan.initialize",()=>{const n=this.graph.getNodes();if(n.length!==l.length)throw new Error("The size of nodes and OPs do not match.");this._ops=l.map((u,p)=>new KernelOp(u,n[p])),this.reset(),this._starter=[],this._ops.forEach((u,p)=>{let v=!0;for(const d of u.node.inputs)if(!this._values[d]&&this.graph.getInputIndices().indexOf(d)===-1){v=!1;break}v&&this._starter.push(p)})})}reset(){this._values=this.graph.getValues().map(l=>l.tensor)}async execute(l,n){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();const u=l.createInferenceHandler(),p=this.graph.getInputIndices();if(n.length!==p.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${n.length} expected: ${p.length}`);n.forEach((E,w)=>{const m=p[w];this._values[m]=E});const v=this._starter.slice(0),d=this.graph.getValues(),g=this.graph.getNodes();let _=0;for(;_<v.length;){const E=v[_++],w=this._ops[E],m=w.node.inputs.map(O=>this._values[O]);if(m.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${w.node}`);const y=m;Logger.verbose("ExecPlan",`Running op:${w.node.name} (${y.map((O,U)=>`'${w.node.inputs[U]}': ${O.type}[${O.dims.join(",")}]`).join(", ")})`);const e=await this.profiler.event("node",w.node.name,async()=>w.op.impl(u,y,w.op.context));if(e.length!==w.node.outputs.length)throw new Error("the size of output does not match model definition.");e.forEach((O,U)=>{const W=w.node.outputs[U];if(this._values[W])throw new Error(`output [${W}] already has value: op:${w.node.name}`);this._values[W]=O});const P=new Set;e.forEach((O,U)=>{const W=w.node.outputs[U];for(const V of d[W].to){const $=g[V];let b=!0;for(const H of $.inputs)if(!this._values[H]){b=!1;break}b&&P.add(V)}}),v.push(...P)}const C=[];for(let E=0;E<this.graph.getOutputIndices().length;E++){const w=this.graph.getOutputIndices()[E],m=this._values[w];if(m===void 0)throw new Error(`required output [${w}] does not have value`);w===0?await m.getData():m.data,C.push(m)}return Logger.verbose("ExecPlan","disposing of inferenceHandler"),u.dispose(),C})}}}}),import_onnx3,ortFbs2,Attribute,init_attribute=__esm({"web/lib/onnxjs/attribute.ts"(){init_ort_generated(),import_onnx3=__toESM(require_onnx()),init_tensor2(),init_util(),ortFbs2=onnxruntime.experimental.fbs,Attribute=class ur{constructor(n){if(this._attributes=new Map,n!=null){for(const u of n)u instanceof import_onnx3.onnx.AttributeProto?this._attributes.set(u.name,[ur.getValue(u),ur.getType(u)]):u instanceof ortFbs2.Attribute&&this._attributes.set(u.name(),[ur.getValue(u),ur.getType(u)]);if(this._attributes.size<n.length)throw new Error("duplicated attribute names")}}set(n,u,p){this._attributes.set(n,[p,u])}delete(n){this._attributes.delete(n)}getFloat(n,u){return this.get(n,"float",u)}getInt(n,u){return this.get(n,"int",u)}getString(n,u){return this.get(n,"string",u)}getTensor(n,u){return this.get(n,"tensor",u)}getFloats(n,u){return this.get(n,"floats",u)}getInts(n,u){return this.get(n,"ints",u)}getStrings(n,u){return this.get(n,"strings",u)}getTensors(n,u){return this.get(n,"tensors",u)}get(n,u,p){const v=this._attributes.get(n);if(v===void 0){if(p!==void 0)return p;throw new Error(`required attribute not found: ${n}`)}if(v[1]!==u)throw new Error(`type mismatch: expected ${u} but got ${v[1]}`);return v[0]}static getType(n){const u=n instanceof import_onnx3.onnx.AttributeProto?n.type:n.type();switch(u){case import_onnx3.onnx.AttributeProto.AttributeType.FLOAT:return"float";case import_onnx3.onnx.AttributeProto.AttributeType.INT:return"int";case import_onnx3.onnx.AttributeProto.AttributeType.STRING:return"string";case import_onnx3.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case import_onnx3.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case import_onnx3.onnx.AttributeProto.AttributeType.INTS:return"ints";case import_onnx3.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case import_onnx3.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${import_onnx3.onnx.AttributeProto.AttributeType[u]}`)}}static getValue(n){const u=n instanceof import_onnx3.onnx.AttributeProto?n.type:n.type();if(u===import_onnx3.onnx.AttributeProto.AttributeType.GRAPH||u===import_onnx3.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const p=this.getValueNoCheck(n);if(u===import_onnx3.onnx.AttributeProto.AttributeType.INT&&LongUtil.isLong(p))return LongUtil.longToNumber(p);if(u===import_onnx3.onnx.AttributeProto.AttributeType.INTS){const v=p,d=new Array(v.length);for(let g=0;g<v.length;g++){const _=v[g];d[g]=LongUtil.longToNumber(_)}return d}if(u===import_onnx3.onnx.AttributeProto.AttributeType.TENSOR)return n instanceof import_onnx3.onnx.AttributeProto?Tensor3.fromProto(p):Tensor3.fromOrtTensor(p);if(u===import_onnx3.onnx.AttributeProto.AttributeType.TENSORS){if(n instanceof import_onnx3.onnx.AttributeProto)return p.map(d=>Tensor3.fromProto(d));if(n instanceof ortFbs2.Attribute)return p.map(d=>Tensor3.fromOrtTensor(d))}return u===import_onnx3.onnx.AttributeProto.AttributeType.STRING&&n instanceof import_onnx3.onnx.AttributeProto?decodeUtf8String(p):u===import_onnx3.onnx.AttributeProto.AttributeType.STRINGS&&n instanceof import_onnx3.onnx.AttributeProto?p.map(decodeUtf8String):p}static getValueNoCheck(n){return n instanceof import_onnx3.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(n):this.getValueNoCheckFromOrtFormat(n)}static getValueNoCheckFromOnnxFormat(n){switch(n.type){case import_onnx3.onnx.AttributeProto.AttributeType.FLOAT:return n.f;case import_onnx3.onnx.AttributeProto.AttributeType.INT:return n.i;case import_onnx3.onnx.AttributeProto.AttributeType.STRING:return n.s;case import_onnx3.onnx.AttributeProto.AttributeType.TENSOR:return n.t;case import_onnx3.onnx.AttributeProto.AttributeType.GRAPH:return n.g;case import_onnx3.onnx.AttributeProto.AttributeType.FLOATS:return n.floats;case import_onnx3.onnx.AttributeProto.AttributeType.INTS:return n.ints;case import_onnx3.onnx.AttributeProto.AttributeType.STRINGS:return n.strings;case import_onnx3.onnx.AttributeProto.AttributeType.TENSORS:return n.tensors;case import_onnx3.onnx.AttributeProto.AttributeType.GRAPHS:return n.graphs;default:throw new Error(`unsupported attribute type: ${import_onnx3.onnx.AttributeProto.AttributeType[n.type]}`)}}static getValueNoCheckFromOrtFormat(n){switch(n.type()){case ortFbs2.AttributeType.FLOAT:return n.f();case ortFbs2.AttributeType.INT:return n.i();case ortFbs2.AttributeType.STRING:return n.s();case ortFbs2.AttributeType.TENSOR:return n.t();case ortFbs2.AttributeType.GRAPH:return n.g();case ortFbs2.AttributeType.FLOATS:return n.floatsArray();case ortFbs2.AttributeType.INTS:{const u=[];for(let p=0;p<n.intsLength();p++)u.push(n.ints(p));return u}case ortFbs2.AttributeType.STRINGS:{const u=[];for(let p=0;p<n.stringsLength();p++)u.push(n.strings(p));return u}case ortFbs2.AttributeType.TENSORS:{const u=[];for(let p=0;p<n.tensorsLength();p++)u.push(n.tensors(p));return u}default:throw new Error(`unsupported attribute type: ${ortFbs2.AttributeType[n.type()]}`)}}}}}),import_onnx4,ortFbs3,Graph,Value,Node,GraphImpl,init_graph=__esm({"web/lib/onnxjs/graph.ts"(){init_attribute(),init_ort_generated(),import_onnx4=__toESM(require_onnx()),init_tensor2(),init_util(),ortFbs3=onnxruntime.experimental.fbs,Graph={from:(l,n)=>new GraphImpl(l,n)},Value=class{constructor(l){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,l&&(this.type=ProtoUtil.tensorValueTypeFromProto(l.type.tensorType))}get from(){return this._from}get to(){return this._to}},Node=class{constructor(l,n){l instanceof import_onnx4.onnx.NodeProto?(this.name=l.name,this.opType=l.opType,this.attributes=new Attribute(l.attribute)):l instanceof ortFbs3.Node&&(this.name=n??l.name(),this.opType=l.opType(),this.attributes=new Attribute(ProtoUtil.tensorAttributesFromORTFormat(l))),this.inputs=[],this.outputs=[],this.executeNode=!0}},GraphImpl=class{constructor(l,n){if(!l)throw new TypeError("graph is empty");this.buildGraph(l),this.transformGraph(n),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(l){if(l instanceof import_onnx4.onnx.GraphProto)this.buildGraphFromOnnxFormat(l);else if(l instanceof ortFbs3.Graph)this.buildGraphFromOrtFormat(l);else throw new TypeError("Graph type is not supported.")}buildGraphFromOnnxFormat(l){const n=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const u=new Map;if(!l.input)throw new Error("missing information in graph: input");const p=[];for(const v of l.input){if(n.has(v.name))throw new Error(`duplicated input name: ${v.name}`);const d=this._allData.push(new Value(v))-1;n.set(v.name,d),p.push(v.name)}if(!l.initializer)throw new Error("missing information in graph: initializer");for(const v of l.initializer){let d=n.get(v.name);if(d===void 0){const g=new Value;g.type={shape:{dims:ProtoUtil.tensorDimsFromProto(v.dims)},tensorType:ProtoUtil.tensorDataTypeFromProto(v.dataType)},d=this._allData.push(g)-1,n.set(v.name,d)}this._allData[d]._from=-1,this._allData[d].tensor=Tensor3.fromProto(v)}for(let v=0;v<this._allData.length;v++)this._allData[v].tensor||(this._allInputIndices.push(v),this._allInputNames.push(p[v]));if(!l.output)throw new Error("missing information in graph: output");for(const v of l.output){if(n.has(v.name))throw new Error(`duplicated output name: ${v.name}`);const d=this._allData.push(new Value(v))-1;n.set(v.name,d),this._allOutputIndices.push(d),this._allOutputNames.push(v.name)}if(!l.node)throw new Error("missing information in graph: node");for(const v of l.node){if(!v.name)for(let g=0;;g++){const _=`unnamed_${v.opType}_${g}`;if(!u.has(_)){v.name=_;break}}if(u.has(v.name))throw new Error(`duplicated node name: ${v.name}`);const d=this._nodes.push(new Node(v))-1;u.set(v.name,d)}for(let v=0;v<this._nodes.length;v++){const d=this._nodes[v],g=l.node[v];if(!g.output)throw new Error(`missing output for node: ${g.name}`);for(const _ of g.output){let C=n.get(_);if(typeof C>"u"&&(C=this._allData.push(new Value)-1,n.set(_,C)),d.outputs.push(C),this._allData[C]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${C}`);if(this._allData[C]._from=v,g.opType==="Constant"){if(!g.attribute||g.attribute.length!==1||!g.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!g.output||g.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");d.outputs.pop(),d.executeNode=!1,this._allData[C]._from=-1,this._allData[C].tensor=Tensor3.fromProto(g.attribute[0].t)}}}for(let v=0;v<this._nodes.length;v++){const d=this._nodes[v],g=l.node[v];if(!g.input)throw new Error(`missing input for node: ${g.name}`);for(const _ of g.input){const C=n.get(_);if(typeof C>"u"){if(_===""&&(g.input.length===3||g.input.length===4)&&g.opType==="Resize")continue;throw new Error(`unrecognized input '${_}' for node: ${g.name}`)}d.inputs.push(C),this._allData[C]._to.push(v)}}return!0}buildGraphFromOrtFormat(l){var v,d,g;const n=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const u=new Map,p=[];for(let _=0;_<l.inputsLength();_++){const C=l.inputs(_);if(n.has(C))throw new Error(`duplicated input name: ${C}`);for(let E=0;E<l.nodeArgsLength();E++)if(((v=l.nodeArgs(E))==null?void 0:v.name())===C){const w=new Value;if(((g=(d=l.nodeArgs(E))==null?void 0:d.type())==null?void 0:g.valueType())!==ortFbs3.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const y=l.nodeArgs(E).type().value(new ortFbs3.TensorTypeAndShape),e=ProtoUtil.tensorDataTypeFromProto(y.elemType()),P=y.shape(),O=[];for(let W=0;W<P.dimLength();W++)O.push(LongUtil.longToNumber(P.dim(W).value().dimValue()));w.type={shape:{dims:O},tensorType:e};const U=this._allData.push(w)-1;n.set(C,U),p.push(C)}}for(let _=0;_<l.initializersLength();_++){const C=l.initializers(_);let E=n.get(C.name());if(E===void 0){const w=new Value,m=ProtoUtil.tensorDimsFromORTFormat(C),y=ProtoUtil.tensorDataTypeFromProto(C.dataType());w.type={shape:{dims:m},tensorType:y},E=this._allData.push(w)-1,n.set(C.name(),E)}this._allData[E]._from=-1,this._allData[E].tensor=Tensor3.fromOrtTensor(C)}for(let _=0;_<this._allData.length;_++)this._allData[_].tensor||(this._allInputIndices.push(_),this._allInputNames.push(p[_]));for(let _=0;_<l.outputsLength();_++){const C=l.outputs(_);if(n.has(C))throw new Error(`duplicated output name: ${C}`);const E=this._allData.push(new Value)-1;n.set(C,E),this._allOutputIndices.push(E),this._allOutputNames.push(C)}if(!l.nodes)throw new Error("missing information in graph: node");for(let _=0;_<l.nodesLength();_++){const C=l.nodes(_);let E=C.name();if(!E)for(let m=0;E=`unnamed_${C.opType()}_${m}`,!!u.has(E);m++);if(u.has(E))throw new Error(`duplicated node name: ${E}`);const w=this._nodes.push(new Node(C,E))-1;u.set(E,w)}for(let _=0;_<this._nodes.length;_++){const C=this._nodes[_],E=l.nodes(_);if(E==null)throw new Error(`No node exists at index ${_}`);if((E==null?void 0:E.outputsLength())===0)throw new Error(`missing output for node: ${E.name}`);for(let w=0;w<(E==null?void 0:E.outputsLength());w++){const m=E==null?void 0:E.outputs(w);let y=n.get(m);if(typeof y>"u"&&(y=this._allData.push(new Value)-1,n.set(m,y)),C.outputs.push(y),this._allData[y]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${y}`);if(this._allData[y]._from=_,E.opType()==="Constant"){if(E.attributesLength()!==1||!E.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(E.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");C.outputs.pop(),C.executeNode=!1,this._allData[y]._from=-1,this._allData[y].tensor=Tensor3.fromOrtTensor(E.attributes(0).t())}}}for(let _=0;_<this._nodes.length;_++){const C=this._nodes[_],E=l.nodes(_);if(E.inputsLength()===0)throw new Error(`missing input for node: ${E.name}`);for(let w=0;w<E.inputsLength();w++){const m=E.inputs(w),y=n.get(m);if(typeof y>"u")throw new Error(`unrecognized input '${m}' for node: ${E.name()}`);C.inputs.push(y),this._allData[y]._to.push(_)}}}checkIsAcyclic(){const l=new Set;this._allInputIndices.forEach(p=>{this._allData[p]._to.forEach(d=>{l.add(d)})});const n=Array.from(l),u=new Array(this._nodes.length).fill("white");for(;n.length>0;){const p=n.pop();u[p]==="gray"?u[p]="black":(n.push(p),u[p]="gray",this._nodes[p].outputs.forEach(v=>{const d=this._allData[v];if(typeof d.tensor<"u")throw new Error("node outputs should not be initialized");if(d._from!==p)throw new Error("from property of the Value object doesn't match index of Node being processed");d._to.forEach(g=>{if(u[g]==="gray")throw new Error("model graph is cyclic");u[g]==="white"&&n.push(g)})}))}}transformGraph(l){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),l&&l.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let l=0;const n=new Array(this._nodes.length,0);let u=0;for(let p=0;p<this._nodes.length;p++)n[p]=u,this._nodes[p].executeNode?(u!==p&&(this._nodes[u]=this._nodes[p]),u++):this._nodes[p].outputs.forEach(v=>{this._allData[v]._from=-2});this._nodes.splice(u,this._nodes.length-u);for(let p=0;p<this._allData.length;p++){const v=this._allData[p];v._from!==void 0&&v._from!==-1&&v._from!==-2&&(v._from=n[v._from]);for(let d=0;d<v._to.length;d++)if(v._to[d]>=0)v._to[d]=n[v._to[d]];else throw new Error("Trying to update a removed node")}l=0;for(let p=0;p<this._allData.length;p++){if(this._allData[p].from===-2&&this._allOutputIndices.indexOf(p+l)===-1){l++,this._allData.splice(p,1),p--;continue}if(l>0){let v=-1;this._allData[p].from!==void 0&&this._allData[p].from!==-1?(v=this._nodes[this._allData[p].from].outputs.indexOf(p+l),v!==-1&&(this._nodes[this._allData[p].from].outputs[v]=p)):(v=this._allInputIndices.indexOf(p+l),v!==-1&&(this._allInputIndices[v]=p)),this._allData[p].to.forEach(d=>{v=this._nodes[d].inputs.indexOf(p+l),v!==-1&&(this._nodes[d].inputs[v]=p)}),this._allData[p].to.length===0&&(v=this._allOutputIndices.indexOf(p+l),v!==-1&&(this._allOutputIndices[v]=p))}}}deleteNode(l){const n=this._nodes[l];if(n.outputs.length>1){for(let g=1;g<n.outputs.length;g++)if(this._allData[n.outputs[g]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}n.executeNode=!1;const u=n.inputs[0],p=n.outputs[0],v=this._allData[p].to;for(let g=0;g<n.inputs.length;g++){const _=this._allData[n.inputs[g]].to.indexOf(l);if(_===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[n.inputs[g]].to.splice(_,1)}this._allData[p]._to=[];const d=this._allOutputIndices.indexOf(p);if(d!==-1&&(this._allOutputIndices[d]=u),v&&v.length>0)for(const g of v){const _=this._nodes[g].inputs.indexOf(p);if(_===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[g].inputs[_]=u,this._allData[u].to.push(g)}}removeAllDropoutNodes(){let l=0;for(const n of this._nodes){if(n.opType==="Dropout"){if(n.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(n.outputs.length!==1&&n.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(n.outputs.length===2&&this._allData[n.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(l)}l++}}removeAllIdentityNodes(){let l=0;for(const n of this._nodes)n.opType==="Identity"&&this.deleteNode(l),l++}isActivation(l){switch(l.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const l of this._nodes)if(l.opType==="Conv"){const n=this._allData[l.outputs[0]]._to;if(n.length===1&&this.isActivation(this._nodes[n[0]])){const u=this._nodes[n[0]];if(u.opType==="Clip")if(u.inputs.length===1)try{l.attributes.set("activation_params","floats",[u.attributes.getFloat("min"),u.attributes.getFloat("max")])}catch{l.attributes.set("activation_params","floats",[MIN_CLIP,MAX_CLIP])}else if(u.inputs.length>=3&&this._allData[u.inputs[1]].tensor!==void 0&&this._allData[u.inputs[2]].tensor!==void 0)l.attributes.set("activation_params","floats",[this._allData[u.inputs[1]].tensor.floatData[0],this._allData[u.inputs[2]].tensor.floatData[0]]);else continue;l.attributes.set("activation","string",u.opType),this.deleteNode(n[0])}}}}}}),import_onnx5,ortFbs4,Model,init_model=__esm({"web/lib/onnxjs/model.ts"(){init_flatbuffers(),init_graph(),init_ort_generated(),import_onnx5=__toESM(require_onnx()),init_util(),ortFbs4=onnxruntime.experimental.fbs,Model=class{constructor(){}load(l,n,u){let p;if(!u)try{this.loadFromOnnxFormat(l,n);return}catch(v){if(u!==void 0)throw v;p=v}try{this.loadFromOrtFormat(l,n)}catch(v){throw u!==void 0?v:new Error(`Failed to load model as ONNX format: ${p}
as ORT format: ${v}`)}}loadFromOnnxFormat(l,n){const u=import_onnx5.onnx.ModelProto.decode(l);if(LongUtil.longToNumber(u.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=u.opsetImport.map(v=>({domain:v.domain,version:LongUtil.longToNumber(v.version)})),this._graph=Graph.from(u.graph,n)}loadFromOrtFormat(l,n){const u=new flatbuffers.ByteBuffer(l),p=ortFbs4.InferenceSession.getRootAsInferenceSession(u).model();if(LongUtil.longToNumber(p.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let d=0;d<p.opsetImportLength();d++){const g=p.opsetImport(d);this._opsets.push({domain:g==null?void 0:g.domain(),version:LongUtil.longToNumber(g.version())})}this._graph=Graph.from(p.graph(),n)}get graph(){return this._graph}get opsets(){return this._opsets}}}}),Session,init_session=__esm({"web/lib/onnxjs/session.ts"(){init_backend2(),init_execution_plan(),init_instrument(),init_model(),Session=class{constructor(l={}){this._initialized=!1,this.backendHint=l.backendHint,this.profiler=Profiler.create(l.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(l,n,u){await this.profiler.event("session","Session.loadModel",async()=>{const p=await resolveBackend(this.backendHint);if(this.sessionHandler=p.createSessionHandler(this.context),this._model=new Model,typeof l=="string"){const v=l.endsWith(".ort");{const g=await(await fetch(l)).arrayBuffer();this.initialize(new Uint8Array(g),v)}}else if(ArrayBuffer.isView(l))this.initialize(l);else{const v=new Uint8Array(l,n||0,u||l.byteLength);this.initialize(v)}})}initialize(l,n){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{const u=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(l,u,n),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new ExecutionPlan(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(l){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{const n=this.normalizeAndValidateInputs(l),u=await this._executionPlan.execute(this.sessionHandler,n);return this.createOutput(u)})}normalizeAndValidateInputs(l){const n=this._model.graph.getInputNames();if(Array.isArray(l)){if(l.length!==n.length)throw new Error(`incorrect input array length: expected ${n.length} but got ${l.length}`)}else{if(l.size!==n.length)throw new Error(`incorrect input map size: expected ${n.length} but got ${l.size}`);const u=new Array(l.size);let p=0;for(let v=0;v<n.length;++v){const d=l.get(n[v]);if(!d)throw new Error(`missing input tensor for: '${name}'`);u[p++]=d}l=u}if(!this.context.graphInputTypes||this.context.graphInputTypes.length===0||!this.context.graphInputDims||this.context.graphInputDims.length===0){const u=this._model.graph.getInputIndices(),p=this._model.graph.getValues(),v=new Array(u.length);for(let d=0;d<u.length;++d){const g=p[u[d]];v[d]=g.type.shape.dims,this.context.graphInputTypes.push(g.type.tensorType),this.context.graphInputDims.push(l[d].dims)}this.validateInputTensorDims(v,l,!0)}else this.validateInputTensorDims(this.context.graphInputDims,l,!1);return this.validateInputTensorTypes(this.context.graphInputTypes,l),l}validateInputTensorTypes(l,n){for(let u=0;u<n.length;u++){const p=l[u],v=n[u].type;if(p!==v)throw new Error(`input tensor[${u}] check failed: expected type '${p}' but got ${v}`)}}validateInputTensorDims(l,n,u){for(let p=0;p<n.length;p++){const v=l[p],d=n[p].dims;if(!this.compareTensorDims(v,d,u))throw new Error(`input tensor[${p}] check failed: expected shape '[${v.join(",")}]' but got [${d.join(",")}]`)}}compareTensorDims(l,n,u){if(l.length!==n.length)return!1;for(let p=0;p<l.length;++p)if(l[p]!==n[p]&&(!u||l[p]!==0))return!1;return!0}createOutput(l){const n=this._model.graph.getOutputNames();if(l.length!==n.length)throw new Error("expected number of outputs do not match number of generated outputs");const u=new Map;for(let p=0;p<n.length;++p)u.set(n[p],l[p]);return u}initializeOps(l){const n=l.getNodes();this._ops=new Array(n.length);for(let u=0;u<n.length;u++)this._ops[u]=this.sessionHandler.resolve(n[u],this._model.opsets,l)}}}}),OnnxjsSessionHandler,init_session_handler_inference=__esm({"web/lib/onnxjs/session-handler-inference.ts"(){init_esm(),init_tensor2(),OnnxjsSessionHandler=class{constructor(l){this.session=l,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(l,n,u){const p=new Map;for(const g in l)if(Object.hasOwnProperty.call(l,g)){const _=l[g];p.set(g,new Tensor3(_.dims,_.type,void 0,void 0,_.data))}const v=await this.session.run(p),d={};return v.forEach((g,_)=>{d[_]=new Tensor2(g.type,g.data,g.dims)}),d}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}}}),backend_onnxjs_exports={};__export(backend_onnxjs_exports,{onnxjsBackend:()=>onnxjsBackend});var OnnxjsBackend,onnxjsBackend,init_backend_onnxjs=__esm({"web/lib/backend-onnxjs.ts"(){init_session(),init_session_handler_inference(),OnnxjsBackend=class{async init(){}async createInferenceSessionHandler(l,n){const u=new Session(n);return typeof l=="string"?await u.loadModel(l):await u.loadModel(l),new OnnxjsSessionHandler(u)}},onnxjsBackend=new OnnxjsBackend}}),isNode,init_wasm_utils_env=__esm({"web/lib/wasm/wasm-utils-env.ts"(){isNode=!1}}),main_exports={};__export(main_exports,{default:()=>main_default});var WORKER_NAME,isProxyWorker,main_default,init_main=__esm({"web/lib/wasm/proxy-worker/main.ts"(){var l;init_wasm_core_impl(),init_wasm_factory(),init_wasm_utils_import(),WORKER_NAME="ort-wasm-proxy-worker",isProxyWorker=((l=globalThis.self)==null?void 0:l.name)===WORKER_NAME,isProxyWorker&&(self.onmessage=n=>{const{type:u,in:p}=n.data;try{switch(u){case"init-wasm":initializeWebAssembly(p.wasm).then(()=>{initRuntime(p).then(()=>{postMessage({type:u})},v=>{postMessage({type:u,err:v})})},v=>{postMessage({type:u,err:v})});break;case"init-ep":{const{epName:v,env:d}=p;initEp(d,v).then(()=>{postMessage({type:u})},g=>{postMessage({type:u,err:g})});break}case"copy-from":{const{buffer:v}=p,d=copyFromExternalBuffer(v);postMessage({type:u,out:d});break}case"create":{const{model:v,options:d}=p;createSession(v,d).then(g=>{postMessage({type:u,out:g})},g=>{postMessage({type:u,err:g})});break}case"release":releaseSession(p),postMessage({type:u});break;case"run":{const{sessionId:v,inputIndices:d,inputs:g,outputIndices:_,options:C}=p;run(v,d,g,_,new Array(_.length).fill(null),C).then(E=>{E.some(w=>w[3]!=="cpu")?postMessage({type:u,err:"Proxy does not support non-cpu tensor location."}):postMessage({type:u,out:E},extractTransferableBuffers([...g,...E]))},E=>{postMessage({type:u,err:E})});break}case"end-profiling":endProfiling(p),postMessage({type:u});break;default:}}catch(v){postMessage({type:u,err:v})}}),main_default=isProxyWorker?null:n=>new Worker(n??scriptSrc,{type:"module",name:WORKER_NAME})}}),scriptSrc,origin,isSameOrigin,normalizeUrl,fallbackUrl,preload,dynamicImportDefault,createProxyWorker,importProxyWorker,importWasmModule,init_wasm_utils_import=__esm({"web/lib/wasm/wasm-utils-import.ts"(){var l,n;init_wasm_utils_env(),scriptSrc=isNode?void 0:import.meta.url??(typeof document<"u"?(l=document.currentScript)==null?void 0:l.src:typeof self<"u"?(n=self.location)==null?void 0:n.href:void 0),origin=isNode||typeof location>"u"?void 0:location.origin,isSameOrigin=(u,p)=>{try{const v=p??scriptSrc;return(v?new URL(u,v):new URL(u)).origin===origin}catch{return!1}},normalizeUrl=(u,p)=>{const v=p??scriptSrc;try{return(v?new URL(u,v):new URL(u)).href}catch{return}},fallbackUrl=(u,p)=>`${p??"./"}${u}`,preload=async u=>{const v=await(await fetch(u,{credentials:"same-origin"})).blob();return URL.createObjectURL(v)},dynamicImportDefault=async u=>(await __vitePreload(()=>import(u),[],import.meta.url)).default,createProxyWorker=(init_main(),__toCommonJS(main_exports)).default,importProxyWorker=async()=>{if(!scriptSrc)throw new Error("Failed to load proxy worker: cannot determine the script source URL.");if(isSameOrigin(scriptSrc))return[void 0,createProxyWorker()];const u=await preload(scriptSrc);return[u,createProxyWorker(u)]},importWasmModule=async(u,p,v)=>{{const d="ort-wasm-simd-threaded.jsep.mjs",g=u??normalizeUrl(d,p),_=!isNode&&v&&g&&!isSameOrigin(g,p),C=_?await preload(g):g??fallbackUrl(d,p);return[_?C:void 0,await dynamicImportDefault(C)]}}}}),wasm2,initialized,initializing,aborted,isMultiThreadSupported,isSimdSupported,initializeWebAssembly,getInstance,init_wasm_factory=__esm({"web/lib/wasm/wasm-factory.ts"(){init_wasm_utils_import(),initialized=!1,initializing=!1,aborted=!1,isMultiThreadSupported=()=>{if(typeof SharedArrayBuffer>"u")return!1;try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},isSimdSupported=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},initializeWebAssembly=async l=>{if(initialized)return Promise.resolve();if(initializing)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(aborted)throw new Error("previous call to 'initializeWebAssembly()' failed.");initializing=!0;const n=l.initTimeout;let u=l.numThreads;if(!isSimdSupported())throw new Error("WebAssembly SIMD is not supported in the current environment.");const p=isMultiThreadSupported();u>1&&!p&&(typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+u+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),console.warn("WebAssembly multi-threading is not supported in the current environment. Falling back to single-threading."),l.numThreads=u=1);const v=l.wasmPaths,d=typeof v=="string"?v:void 0,g=v==null?void 0:v.mjs,_=(g==null?void 0:g.href)??g,C=v==null?void 0:v.wasm,E=(C==null?void 0:C.href)??C,[w,m]=await importWasmModule(_,d,u>1);let y=!1;const e=[];if(n>0&&e.push(new Promise(P=>{setTimeout(()=>{y=!0,P()},n)})),e.push(new Promise((P,O)=>{const U={numThreads:u};(E||d)&&(U.locateFile=(W,V)=>E??(d??V)+W),m(U).then(W=>{initializing=!1,initialized=!0,wasm2=W,P(),w&&URL.revokeObjectURL(w)},W=>{initializing=!1,aborted=!0,O(W)})})),await Promise.race(e),y)throw new Error(`WebAssembly backend initializing failed due to timeout: ${n}ms`)},getInstance=()=>{if(initialized&&wasm2)return wasm2;throw new Error("WebAssembly is not initialized yet.")}}}),allocWasmString,iterateExtraOptions,checkLastError,init_wasm_utils=__esm({"web/lib/wasm/wasm-utils.ts"(){init_wasm_factory(),allocWasmString=(l,n)=>{const u=getInstance(),p=u.lengthBytesUTF8(l)+1,v=u._malloc(p);return u.stringToUTF8(l,v,p),n.push(v),v},iterateExtraOptions=(l,n,u,p)=>{if(typeof l=="object"&&l!==null){if(u.has(l))throw new Error("Circular reference in options");u.add(l)}Object.entries(l).forEach(([v,d])=>{const g=n?n+v:v;if(typeof d=="object")iterateExtraOptions(d,g+".",u,p);else if(typeof d=="string"||typeof d=="number")p(g,d.toString());else if(typeof d=="boolean")p(g,d?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof d}`)})},checkLastError=l=>{const n=getInstance(),u=n.stackSave();try{const p=n.stackAlloc(8);n._OrtGetLastError(p,p+4);const v=n.HEAP32[p/4],d=n.HEAPU32[p/4+1],g=d?n.UTF8ToString(d):"";throw new Error(`${l} ERROR_CODE: ${v}, ERROR_MESSAGE: ${g}`)}finally{n.stackRestore(u)}}}}),setRunOptions,init_run_options=__esm({"web/lib/wasm/run-options.ts"(){init_wasm_factory(),init_wasm_utils(),setRunOptions=l=>{const n=getInstance();let u=0;const p=[],v=l||{};try{if((l==null?void 0:l.logSeverityLevel)===void 0)v.logSeverityLevel=2;else if(typeof l.logSeverityLevel!="number"||!Number.isInteger(l.logSeverityLevel)||l.logSeverityLevel<0||l.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${l.logSeverityLevel}`);if((l==null?void 0:l.logVerbosityLevel)===void 0)v.logVerbosityLevel=0;else if(typeof l.logVerbosityLevel!="number"||!Number.isInteger(l.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${l.logVerbosityLevel}`);(l==null?void 0:l.terminate)===void 0&&(v.terminate=!1);let d=0;return(l==null?void 0:l.tag)!==void 0&&(d=allocWasmString(l.tag,p)),u=n._OrtCreateRunOptions(v.logSeverityLevel,v.logVerbosityLevel,!!v.terminate,d),u===0&&checkLastError("Can't create run options."),(l==null?void 0:l.extra)!==void 0&&iterateExtraOptions(l.extra,"",new WeakSet,(g,_)=>{const C=allocWasmString(g,p),E=allocWasmString(_,p);n._OrtAddRunConfigEntry(u,C,E)!==0&&checkLastError(`Can't set a run config entry: ${g} - ${_}.`)}),[u,p]}catch(d){throw u!==0&&n._OrtReleaseRunOptions(u),p.forEach(g=>n._free(g)),d}}}}),getGraphOptimzationLevel,getExecutionMode,appendDefaultOptions,setExecutionProviders,setSessionOptions,init_session_options=__esm({"web/lib/wasm/session-options.ts"(){init_wasm_factory(),init_wasm_utils(),getGraphOptimzationLevel=l=>{switch(l){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${l}`)}},getExecutionMode=l=>{switch(l){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${l}`)}},appendDefaultOptions=l=>{l.extra||(l.extra={}),l.extra.session||(l.extra.session={});const n=l.extra.session;n.use_ort_model_bytes_directly||(n.use_ort_model_bytes_directly="1"),l.executionProviders&&l.executionProviders.some(u=>(typeof u=="string"?u:u.name)==="webgpu")&&(l.enableMemPattern=!1)},setExecutionProviders=(l,n,u)=>{for(const p of n){let v=typeof p=="string"?p:p.name;switch(v){case"webnn":if(v="WEBNN",typeof p!="string"){const g=p,_=g==null?void 0:g.deviceType;if(_){const C=allocWasmString("deviceType",u),E=allocWasmString(_,u);getInstance()._OrtAddSessionConfigEntry(l,C,E)!==0&&checkLastError(`Can't set a session config entry: 'deviceType' - ${_}.`)}}break;case"webgpu":if(v="JS",typeof p!="string"){const g=p;if(g!=null&&g.preferredLayout){if(g.preferredLayout!=="NCHW"&&g.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${g.preferredLayout}`);const _=allocWasmString("preferredLayout",u),C=allocWasmString(g.preferredLayout,u);getInstance()._OrtAddSessionConfigEntry(l,_,C)!==0&&checkLastError(`Can't set a session config entry: 'preferredLayout' - ${g.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${v}`)}const d=allocWasmString(v,u);getInstance()._OrtAppendExecutionProvider(l,d)!==0&&checkLastError(`Can't append execution provider: ${v}.`)}},setSessionOptions=l=>{const n=getInstance();let u=0;const p=[],v=l||{};appendDefaultOptions(v);try{const d=getGraphOptimzationLevel(v.graphOptimizationLevel??"all"),g=getExecutionMode(v.executionMode??"sequential"),_=typeof v.logId=="string"?allocWasmString(v.logId,p):0,C=v.logSeverityLevel??2;if(!Number.isInteger(C)||C<0||C>4)throw new Error(`log serverity level is not valid: ${C}`);const E=v.logVerbosityLevel??0;if(!Number.isInteger(E)||E<0||E>4)throw new Error(`log verbosity level is not valid: ${E}`);const w=typeof v.optimizedModelFilePath=="string"?allocWasmString(v.optimizedModelFilePath,p):0;if(u=n._OrtCreateSessionOptions(d,!!v.enableCpuMemArena,!!v.enableMemPattern,g,!!v.enableProfiling,0,_,C,E,w),u===0&&checkLastError("Can't create session options."),v.executionProviders&&setExecutionProviders(u,v.executionProviders,p),v.enableGraphCapture!==void 0){if(typeof v.enableGraphCapture!="boolean")throw new Error(`enableGraphCapture must be a boolean value: ${v.enableGraphCapture}`);const m=allocWasmString("enableGraphCapture",p),y=allocWasmString(v.enableGraphCapture.toString(),p);n._OrtAddSessionConfigEntry(u,m,y)!==0&&checkLastError(`Can't set a session config entry: 'enableGraphCapture' - ${v.enableGraphCapture}.`)}if(v.freeDimensionOverrides)for(const[m,y]of Object.entries(v.freeDimensionOverrides)){if(typeof m!="string")throw new Error(`free dimension override name must be a string: ${m}`);if(typeof y!="number"||!Number.isInteger(y)||y<0)throw new Error(`free dimension override value must be a non-negative integer: ${y}`);const e=allocWasmString(m,p);n._OrtAddFreeDimensionOverride(u,e,y)!==0&&checkLastError(`Can't set a free dimension override: ${m} - ${y}.`)}return v.extra!==void 0&&iterateExtraOptions(v.extra,"",new WeakSet,(m,y)=>{const e=allocWasmString(m,p),P=allocWasmString(y,p);n._OrtAddSessionConfigEntry(u,e,P)!==0&&checkLastError(`Can't set a session config entry: ${m} - ${y}.`)}),[u,p]}catch(d){throw u!==0&&n._OrtReleaseSessionOptions(u),p.forEach(g=>n._free(g)),d}}}}),tensorDataTypeStringToEnum,tensorDataTypeEnumToString,getTensorElementSize,tensorTypeToTypedArrayConstructor,logLevelStringToEnum,isGpuBufferSupportedType,dataLocationStringToEnum,init_wasm_common=__esm({"web/lib/wasm/wasm-common.ts"(){tensorDataTypeStringToEnum=l=>{switch(l){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${l}`)}},tensorDataTypeEnumToString=l=>{switch(l){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${l}`)}},getTensorElementSize=l=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][l],tensorTypeToTypedArrayConstructor=l=>{switch(l){case"float16":return typeof Float16Array<"u"&&Float16Array.from?Float16Array:Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${l}`)}},logLevelStringToEnum=l=>{switch(l){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${l}`)}},isGpuBufferSupportedType=l=>l==="float32"||l==="float16"||l==="int32"||l==="int64"||l==="uint32"||l==="uint8"||l==="bool",dataLocationStringToEnum=l=>{switch(l){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${l}`)}}}}),loadFile,init_wasm_utils_load_file=__esm({"web/lib/wasm/wasm-utils-load-file.ts"(){init_wasm_utils_env(),loadFile=async l=>{if(typeof l=="string")if(isNode)try{const{readFile:n}=__require("node:fs/promises");return new Uint8Array(await n(l))}catch(n){if(n.code==="ERR_FS_FILE_TOO_LARGE"){const{createReadStream:u}=__require("node:fs"),p=u(l),v=[];for await(const d of p)v.push(d);return new Uint8Array(Buffer.concat(v))}throw n}else{const n=await fetch(l);if(!n.ok)throw new Error(`failed to load external data file: ${l}`);const u=n.headers.get("Content-Length"),p=u?parseInt(u,10):0;if(p<1073741824)return new Uint8Array(await n.arrayBuffer());{if(!n.body)throw new Error(`failed to load external data file: ${l}, no response body.`);const v=n.body.getReader();let d;try{d=new ArrayBuffer(p)}catch(_){if(_ instanceof RangeError){const C=Math.ceil(p/65536);d=new WebAssembly.Memory({initial:C,maximum:C}).buffer}else throw _}let g=0;for(;;){const{done:_,value:C}=await v.read();if(_)break;const E=C.byteLength;new Uint8Array(d,g,E).set(C),g+=E}return new Uint8Array(d,0,p)}}else return l instanceof Blob?new Uint8Array(await l.arrayBuffer()):l instanceof Uint8Array?l:new Uint8Array(l)}}}),logLevelPrefix,doLog,configLogLevel,debug,configureLogger,LOG,LOG_DEBUG,init_log=__esm({"web/lib/wasm/jsep/log.ts"(){init_wasm_common(),logLevelPrefix=["V","I","W","E","F"],doLog=(l,n)=>{console.log(`[${logLevelPrefix[l]},${new Date().toISOString()}]${n}`)},configureLogger=(l,n)=>{configLogLevel=l,debug=n},LOG=(l,n)=>{const u=logLevelStringToEnum(l),p=logLevelStringToEnum(configLogLevel);u>=p&&doLog(u,typeof n=="function"?n():n)},LOG_DEBUG=(...l)=>{debug&&LOG(...l)}}}),createView2,init_tensor_view=__esm({"web/lib/wasm/jsep/tensor-view.ts"(){init_wasm_common(),createView2=(l,n)=>new(tensorTypeToTypedArrayConstructor(n))(l)}}),init_types2=__esm({"web/lib/wasm/jsep/webgpu/types.ts"(){}}),bucketFreelist,bucketArr,calcNormalizedBufferSize,calcBucketBufferSize,guid,createNewGpuDataId,downloadGpuData,GpuDataManagerImpl,createGpuDataManager,init_gpu_data_manager=__esm({"web/lib/wasm/jsep/webgpu/gpu-data-manager.ts"(){init_log(),init_types2(),bucketFreelist=new Map([[64,250],[128,200],[256,200],[512,200],[2048,230],[4096,200],[8192,50],[16384,50],[32768,50],[65536,50],[131072,50],[262144,50],[524288,50],[1048576,50],[2097152,30],[4194304,20],[8388608,10],[12582912,10],[16777216,10],[26214400,15],[33554432,22],[44236800,2],[58982400,6],[67108864,6],[134217728,6],[167772160,6]]),bucketArr=[],calcNormalizedBufferSize=l=>Math.ceil(l/16)*16,calcBucketBufferSize=l=>{for(let n=0;n<bucketArr.length;n++){const u=bucketArr[n];if(l<=u)return u}return Math.ceil(l/16)*16},guid=1,createNewGpuDataId=()=>guid++,downloadGpuData=async(l,n,u,p)=>{const v=calcNormalizedBufferSize(u),d=l.device.createBuffer({size:v,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});try{const g=l.getCommandEncoder();l.endComputePass(),g.copyBufferToBuffer(n,0,d,0,v),l.flush(),await d.mapAsync(GPUMapMode.READ);const _=d.getMappedRange();if(p){const C=p();return C.set(new Uint8Array(_,0,u)),C}else return new Uint8Array(_.slice(0,u))}finally{d.destroy()}},GpuDataManagerImpl=class{constructor(l){this.backend=l,this.storageCache=new Map,this.freeBuffers=new Map,this.freeUniformBuffers=new Map,this.buffersForUploadingPending=[],this.buffersPending=[],this.externalBuffers=new Map,this.capturedPendingBuffers=new Map;for(const[n]of bucketFreelist)bucketArr.push(n),this.freeBuffers.set(n,[]),this.freeUniformBuffers.set(n,[])}upload(l,n){const u=n.buffer,p=n.byteOffset,v=n.byteLength,d=calcNormalizedBufferSize(v),g=this.storageCache.get(l);if(!g)throw new Error("gpu data for uploading does not exist");if(g.originalSize!==v)throw new Error(`inconsistent data size. gpu data size=${g.originalSize}, data size=${v}`);const _=this.backend.device.createBuffer({mappedAtCreation:!0,size:d,usage:GPUBufferUsage.MAP_WRITE|GPUBufferUsage.COPY_SRC}),C=_.getMappedRange();new Uint8Array(C).set(new Uint8Array(u,p,v)),_.unmap();const E=this.backend.getCommandEncoder();this.backend.endComputePass(),E.copyBufferToBuffer(_,0,g.gpuData.buffer,0,d),LOG_DEBUG("verbose",()=>`[WebGPU] GpuDataManager.upload(id=${l})`),this.buffersForUploadingPending.push(_)}memcpy(l,n){const u=this.storageCache.get(l);if(!u)throw new Error("source gpu data for memcpy does not exist");const p=this.storageCache.get(n);if(!p)throw new Error("destination gpu data for memcpy does not exist");if(u.originalSize!==p.originalSize)throw new Error("inconsistent source and destination gpu data size");const v=calcNormalizedBufferSize(u.originalSize),d=this.backend.getCommandEncoder();this.backend.endComputePass(),d.copyBufferToBuffer(u.gpuData.buffer,0,p.gpuData.buffer,0,v)}registerExternalBuffer(l,n,u){let p;if(u){if(p=this.externalBuffers.get(u),p===void 0)throw new Error("previous buffer is not registered");if(l===u)return LOG_DEBUG("verbose",()=>`[WebGPU] GpuDataManager.registerExternalBuffer(size=${n}) => id=${p}, buffer is the same, skip.`),p;if(this.backend.capturedCommandList.has(this.backend.currentSessionId))throw new Error(`Registering a different external buffer under graph capture mode is not supported yet.
             Please use the previous external buffer!`);this.externalBuffers.delete(u)}else p=createNewGpuDataId();return this.storageCache.set(p,{gpuData:{id:p,type:0,buffer:l},originalSize:n}),this.externalBuffers.set(l,p),LOG_DEBUG("verbose",()=>`[WebGPU] GpuDataManager.registerExternalBuffer(size=${n}) => id=${p}, registered.`),p}unregisterExternalBuffer(l){const n=this.externalBuffers.get(l);n!==void 0&&(this.storageCache.delete(n),this.externalBuffers.delete(l),LOG_DEBUG("verbose",()=>`[WebGPU] GpuDataManager.unregisterExternalBuffer() => id=${n}`))}create(l,n=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST){const u=calcBucketBufferSize(l);let p;const v=(n&GPUBufferUsage.STORAGE)===GPUBufferUsage.STORAGE,d=(n&GPUBufferUsage.UNIFORM)===GPUBufferUsage.UNIFORM;if(v||d){const C=(v?this.freeBuffers:this.freeUniformBuffers).get(u);C?C.length>0?p=C.pop():p=this.backend.device.createBuffer({size:u,usage:n}):p=this.backend.device.createBuffer({size:u,usage:n})}else p=this.backend.device.createBuffer({size:u,usage:n});const g={id:createNewGpuDataId(),type:0,buffer:p};return this.storageCache.set(g.id,{gpuData:g,originalSize:l}),LOG_DEBUG("verbose",()=>`[WebGPU] GpuDataManager.create(size=${l}) => id=${g.id}`),g}get(l){var n;return(n=this.storageCache.get(l))==null?void 0:n.gpuData}release(l){const n=this.storageCache.get(l);if(!n)throw new Error("releasing data does not exist");return LOG_DEBUG("verbose",()=>`[WebGPU] GpuDataManager.release(id=${l}), gpuDataId=${n.gpuData.id}`),this.storageCache.delete(l),this.buffersPending.push(n.gpuData.buffer),n.originalSize}async download(l,n){const u=this.storageCache.get(l);if(!u)throw new Error("data does not exist");await downloadGpuData(this.backend,u.gpuData.buffer,u.originalSize,n)}refreshPendingBuffers(){for(const l of this.buffersForUploadingPending)l.destroy();if(this.buffersForUploadingPending=[],this.buffersPending.length!==0)if(this.backend.sessionStatus==="default"){for(const l of this.buffersPending){const n=bucketFreelist.get(l.size);if((l.usage&GPUBufferUsage.STORAGE)===GPUBufferUsage.STORAGE){const u=this.freeBuffers.get(l.size)||[];n===void 0||u.length>=n?l.destroy():u.push(l)}else if((l.usage&GPUBufferUsage.UNIFORM)===GPUBufferUsage.UNIFORM){const u=this.freeUniformBuffers.get(l.size)||[];n===void 0||u.length>=n?l.destroy():u.push(l)}else l.destroy()}this.buffersPending=[]}else{let l=this.capturedPendingBuffers.get(this.backend.currentSessionId);l||(l=[],this.capturedPendingBuffers.set(this.backend.currentSessionId,l));for(const n of this.buffersPending)l.push(n);this.buffersPending=[]}}dispose(){this.freeBuffers.forEach(l=>{l.forEach(n=>{n.destroy()})}),this.freeUniformBuffers.forEach(l=>{l.forEach(n=>{n.destroy()})}),this.storageCache.forEach(l=>{l.gpuData.buffer.destroy()}),this.capturedPendingBuffers.forEach(l=>{l.forEach(n=>{n.destroy()})}),this.storageCache=new Map,this.freeBuffers=new Map,this.freeUniformBuffers=new Map,this.capturedPendingBuffers=new Map}onReleaseSession(l){const n=this.capturedPendingBuffers.get(l);n&&(n.forEach(u=>{u.destroy()}),this.capturedPendingBuffers.delete(l))}},createGpuDataManager=(...l)=>new GpuDataManagerImpl(...l)}}),AttributeWithCacheKeyImpl2,createAttributeWithCacheKey2,init_attribute_with_cache_key2=__esm({"web/lib/wasm/jsep/webgpu/attribute-with-cache-key.ts"(){AttributeWithCacheKeyImpl2=class{constructor(l){Object.assign(this,l)}get cacheKey(){return this.key||(this.key=Object.getOwnPropertyNames(this).sort().map(l=>`${this[l]}`).join(";")),this.key}},createAttributeWithCacheKey2=l=>new AttributeWithCacheKeyImpl2(l)}}),MatMulUtil2,BroadcastUtil2,ShapeUtil2,PoolConvUtil2,GemmUtil2,MIN_CLIP2,MAX_CLIP2,init_util2=__esm({"web/lib/wasm/jsep/util.ts"(){MatMulUtil2=class{static calcMatMulShape(l,n){return l[1]!==n[0]?void 0:[l[0],n[1]]}},BroadcastUtil2=class{static calcShape(l,n,u=!1){const p=l.length,v=n.length;if(p===0)return n;if(v===0)return l;const d=Math.max(l.length,n.length),g=new Array(d);if(u){if(p<2||v<2)return;const _=MatMulUtil2.calcMatMulShape([l[p-2],l[p-1]],[n[v-2],n[v-1]]);if(_===void 0)return;[g[d-2],g[d-1]]=_}for(let _=u?3:1;_<=d;_++){const C=p-_<0?1:l[p-_],E=v-_<0?1:n[v-_];if(C!==E&&C>1&&E>1)return;const w=Math.max(C,E);if(C&&E)g[d-_]=Math.max(C,E);else{if(w>1)return;g[d-_]=0}}return g}static isValidBroadcast(l,n){const u=l.length,p=n.length;if(u>p)return!1;for(let v=1;v<=u;v++)if(l[u-v]!==1&&l[u-v]!==n[p-v])return!1;return!0}},ShapeUtil2=class zr{static size(n){return zr.getSizeFromDimensionRange(n,0,n.length)}static convertShape(n,u=4){const p=n.length;if(p===0)return[];const v=new Array(p);let d=p-1;for(;d>=0;){if(n[d]%u===0){v[d]=n[d]/u;break}if(u%n[d]!==0)throw new Error("cannot convert shape");v[d]=1,u/=n[d],d--}for(d--;d>=0;d--)v[d]=n[d];return v}static sizeFromDimension(n,u){if(u<0||u>n.length)throw new Error(`invalid dimension of ${u} for sizeFromDimension as Tensor has ${n.length} dimensions.`);return zr.getSizeFromDimensionRange(n,u,n.length)}static sizeToDimension(n,u){if(u<0||u>n.length)throw new Error(`invalid dimension of ${u} for sizeToDimension as Tensor has ${n.length} dimensions.`);return zr.getSizeFromDimensionRange(n,0,u)}static getSizeFromDimensionRange(n,u,p){let v=1;for(let d=u;d<p;d++){if(n[d]<0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains negative values in them.");v*=n[d]}return v}static computeStrides(n){const u=n.length;if(u===0)return[];if(u===1)return[1];const p=new Array(u);p[u-1]=1,p[u-2]=n[u-1];for(let v=u-3;v>=0;--v)p[v]=p[v+1]*n[v+1];return p}static normalizeAxis(n,u){if(n<-u&&n>=u)throw new Error("unsupported axis for this operation.");return n<0?n+u:n}static normalizeAxes(n,u){return n.map(p=>this.normalizeAxis(p,u??n.length))}static sortBasedOnPerm(n,u){return u?u.map(p=>n[p]):n.slice().reverse()}static padShape(n,u){const p=n.length;return n.map((v,d)=>v+u[d]+u[d+p])}static areEqual(n,u){return n.length!==u.length?!1:n.every((p,v)=>p===u[v])}},PoolConvUtil2=class fr{static adjustPoolAttributes(n,u,p,v,d,g){if(!n&&p.length!==u.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(n)for(let _=0;_<u.length-2;_++)_>=p.length?p.push(u[_+2]):p[_]=u[_+2];for(let _=0;_<p.length;_++)if(_<v.length){if(v[_]<0)throw new Error("strides should be greater than or equal to 1")}else v.push(1);for(let _=0;_<p.length;_++)if(_<d.length){if(d[_]<0)throw new Error("dilations should be greater than or equal to 1")}else d.push(1);for(let _=0;_<p.length*2;_++)if(_<g.length){if(g[_]<0)throw new Error("pad should be greater than or equal to 1")}else g.push(0);for(let _=0;_<p.length;_++){if(p[_]<=0)throw new Error("kernel shapes need to be greater than 0");if(g[_]>=p[_]||g[_+p.length]>=p[_])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(n,u,p,v,d,g,_){if(_){if(d.length!==2*(n.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(u.length!==n.length-2)throw new Error("length of strides should be the length of data dimensions");if(v.length!==n.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let C=0;C<n.length-2;C++)fr.adjustPadAndReturnShape(n[C+(g?1:2)],u[C],p[C],v[C],d,C,C+n.length-2,_)}}static computePoolOutputShape(n,u,p,v,d,g,_){if(u.length<=0)throw new Error("input shape must be of size greater than 0");const C=[u[0],u[1]];return fr.computeShapeHelper(n,u,C,p,v,d,g,_),C}static computeConvOutputShape(n,u,p,v,d,g,_){if(n.length<=0||u.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const C=[n[0],u[0]];return fr.computeShapeHelper(!1,n,C,p,v,d,g,_),C}static computeShapeHelper(n,u,p,v,d,g,_,C){if(n)for(let E=0;E<u.length-2;E++)p.push(1);else for(let E=0;E<u.length-2;E++)p.push(fr.adjustPadAndReturnShape(u[E+2],v[E],d[E],g[E],_,E,E+u.length-2,C))}static adjustPadAndReturnShape(n,u,p,v,d,g,_,C){const E=p*(v-1)+1;if(C&&C!=="NOTSET")switch(C){case"VALID":return d[g]=0,d[_]=0,Math.floor((n-E)/u+1);case"SAME_LOWER":case"SAME_UPPER":if(p!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const m=((n+u-1)/u-1)*u+v-n;return d[g]=Math.floor(C==="SAME_LOWER"?(m+1)/2:m/2),d[_]=m-d[g],Math.floor((n+m-v)/u+1)}default:throw new Error("Unsupported AutoPad type")}else return Math.floor((n+d[g]+d[_]-E)/u+1)}},GemmUtil2=class{static getShapeOfGemmResult(l,n,u,p,v){if(l.length!==2||u.length!==2)throw new Error("shape need to be of size 2");let d,g,_;n?(d=l[1],g=l[0]):(d=l[0],g=l[1]);let C=-1;if(p?(_=u[0],C=1):(_=u[1],C=0),u[C]!==g)throw new Error("dimension mismatch");if(d<=0||_<=0||g<=0)throw new Error("invalid shape specified");if(v&&!BroadcastUtil2.isValidBroadcast(v,[d,_]))throw new Error("gemm: invalid bias shape for broadcast");return[d,_,g]}},MIN_CLIP2=-34028234663852886e22,MAX_CLIP2=34028234663852886e22}}),WORKGROUP_SIZE,getWgslMappedType,tensorTypeToWsglStorageType,tensorTypeToWsglValueType,createTensorShapeVariables,getMaxComponents,fillVector,castToF32,sumVector,getElementAt,createIndicesHelper,inputVariable,outputVariable,internalVariable,ShaderHelperImpl,createShaderHelper,getBroadcastDims,init_common=__esm({"web/lib/wasm/jsep/webgpu/ops/common.ts"(){init_wasm_common(),init_util2(),WORKGROUP_SIZE=64,getWgslMappedType=(l,n)=>{if(n===3)throw new Error("vec3 has same alignment as vec4, use vec4 instead");switch(l){case 10:return n>1?`vec${n}<f16>`:"f16";case 1:return n>1?`vec${n}<f32>`:"f32";case 6:return n>1?`vec${n}<i32>`:"i32";case 12:return n>1?`vec${n}<u32>`:"u32";case 7:if(n>1)throw new Error("currently not supported vecX of uint64 yet");return["vec2<u32>","i32"];case 13:if(n>1)throw new Error("currently not supported vecX of uint64 yet");return["vec2<u32>","u32"];case 9:if(n!==4)throw new Error("bool must be vec4");return["u32","vec4<bool>"];default:throw new Error(`Unknown data type: ${l}`)}},tensorTypeToWsglStorageType=(l,n=1)=>{const u=getWgslMappedType(l,n);return typeof u=="string"?u:u[0]},tensorTypeToWsglValueType=(l,n=1)=>{const u=getWgslMappedType(l,n);return typeof u=="string"?u:u[1]},createTensorShapeVariables=(...l)=>{const n=[];return l.forEach(u=>{u.length!==0&&n.push({type:12,data:u},{type:12,data:ShapeUtil2.computeStrides(u)})}),n},getMaxComponents=l=>l%4===0?4:l%2===0?2:1,fillVector=(l="f32",n,u="0")=>!n||n===1?`${l}(${u})`:`vec${n}<${l}>(${u})`,castToF32=(l,n,u)=>l==="f32"?u:n===1?`f32(${u})`:`vec${n}<f32>(${u})`,sumVector=(l,n)=>n===4?`(${l}.x + ${l}.y + ${l}.z + ${l}.w)`:n===2?`(${l}.x + ${l}.y)`:n===3?`(${l}.x + ${l}.y + ${l}.z)`:l,getElementAt=(l,n,u,p)=>l.startsWith("uniforms.")&&u>4?typeof n=="string"?p==="f16"?`${l}[(${n}) / 8][(${n}) % 8 / 4][(${n}) % 8 % 4]`:`${l}[(${n}) / 4][(${n}) % 4]`:p==="f16"?`${l}[${Math.floor(n/8)}][${Math.floor(n%8/4)}][${n%8%4}]`:`${l}[${Math.floor(n/4)}][${n%4}]`:u>1?`${l}[${n}]`:l,createIndicesHelper=(l,n,u,p,v)=>{const d=typeof u=="number",g=d?u:u.length,_=[...new Array(g).keys()],C=g<2?"u32":g<=4?`vec${g}<u32>`:`array<u32, ${g}>`,E=getWgslMappedType(n,v),w=typeof E=="string"?E:E[1],m=typeof E=="string"?E:E[0],y={indices:C,value:w,storage:m,tensor:n},e=Ue=>typeof Ue=="string"?Ue:`${Ue}u`,P={offsetToIndices:!1,indicesToOffset:!1,broadcastedIndicesToOffset:!1,set:!1,setByIndices:!1,get:!1,getByIndices:!1},O=d?"uniforms.":"",U=`${O}${l}_shape`,W=`${O}${l}_strides`;let V="";for(let Ue=0;Ue<g-1;Ue++)V+=`
    let dim${Ue} = current / ${getElementAt(W,Ue,g)};
    let rest${Ue} = current % ${getElementAt(W,Ue,g)};
    indices[${Ue}] = dim${Ue};
    current = rest${Ue};
    `;V+=`indices[${g-1}] = current;`;const $=g<2?"":`
  fn o2i_${l}(offset: u32) -> ${y.indices} {
    var indices: ${y.indices};
    var current = offset;
    ${V}
    return indices;
  }`,b=Ue=>(P.offsetToIndices=!0,g<2?Ue:`o2i_${l}(${Ue})`),H=[];if(g>=2)for(let Ue=g-1;Ue>=0;Ue--)H.push(`${getElementAt(W,Ue,g)} * (indices[${Ue}])`);const G=g<2?"":`
  fn i2o_${l}(indices: ${y.indices}) -> u32 {
    return ${H.join("+")};
  }`,Y=Ue=>(P.indicesToOffset=!0,g<2?Ue:`i2o_${l}(${Ue})`),X=(...Ue)=>g===0?"0u":`${y.indices}(${Ue.map(e).join(",")})`,j=(Ue,xe)=>g<2?`${Ue}`:`${getElementAt(Ue,xe,g)}`,h=(Ue,xe,I0)=>g<2?`${Ue}=${I0};`:`${getElementAt(Ue,xe,g)}=${I0};`,ae={},le=(Ue,xe)=>{P.broadcastedIndicesToOffset=!0;const I0=`${xe.name}broadcastedIndicesTo${l}Offset`;if(I0 in ae)return`${I0}(${Ue})`;const O0=[];for(let Q0=g-1;Q0>=0;Q0--){const tt=xe.indicesGet("outputIndices",Q0+xe.rank-g);O0.push(`${j(W,Q0)} * (${tt} % ${j(U,Q0)})`)}return ae[I0]=`fn ${I0}(outputIndices: ${xe.type.indices}) -> u32 {
             return ${O0.length>0?O0.join("+"):"0u"};
           }`,`${I0}(${Ue})`},he=(Ue,xe)=>(()=>{if(y.storage===y.value)return`${l}[${Ue}]=${xe};`;if(y.storage==="vec2<u32>"&&y.value==="i32")return`${l}[${Ue}]=vec2<u32>(u32(${xe}), select(0u, 0xFFFFFFFFu, ${xe} < 0));`;if(y.storage==="vec2<u32>"&&y.value==="u32")return`${l}[${Ue}]=vec2<u32>(u32(${xe}), 0u);`;if(y.storage==="u32"&&y.value==="vec4<bool>")return`${l}[${Ue}]=dot(vec4<u32>(0x1, 0x100, 0x10000, 0x1000000), vec4<u32>(${xe}));`;throw new Error(`not supported combination of storage type ${y.storage} and value type ${y.value} yet`)})(),pe=Ue=>(()=>{if(y.storage===y.value)return`${l}[${Ue}]`;if(y.storage==="vec2<u32>"&&y.value==="i32")return`i32(${l}[${Ue}].x)`;if(y.storage==="vec2<u32>"&&y.value==="u32")return`u32(${l}[${Ue}].x)`;if(y.storage==="u32"&&y.value==="vec4<bool>")return`vec4<bool>(bool(${l}[${Ue}] & 0xFFu), bool(${l}[${Ue}] & 0xFF00u), bool(${l}[${Ue}] & 0xFF0000u), bool(${l}[${Ue}] & 0xFF000000u))`;throw new Error(`not supported combination of storage type ${y.storage} and value type ${y.value} yet`)})(),Ae=g<2?"":`
  fn get_${l}ByIndices(indices: ${y.indices}) -> ${w} {
    return ${pe(`i2o_${l}(indices)`)};
  }`,ge=g<2?"":(()=>{const Ue=_.map(I0=>`d${I0}: u32`).join(", "),xe=_.map(I0=>`d${I0}`).join(", ");return`
  fn get_${l}(${Ue}) -> ${w} {
    return get_${l}ByIndices(${X(xe)});
  }`})(),ye=(...Ue)=>{if(Ue.length!==g)throw new Error(`indices length must be ${g}`);const xe=Ue.map(e).join(",");return g===0?pe("0u"):g===1?pe(xe[0]):(P.get=!0,P.getByIndices=!0,P.indicesToOffset=!0,`get_${l}(${xe})`)},we=Ue=>g<2?pe(Ue):(P.getByIndices=!0,P.indicesToOffset=!0,`get_${l}ByIndices(${Ue})`),be=g<2?"":`
  fn set_${l}ByIndices(indices: ${y.indices}, value: ${w}) {
    ${he(`i2o_${l}(indices)`,"value")}
  }`,Ve=g<2?"":(()=>{const Ue=_.map(I0=>`d${I0}: u32`).join(", "),xe=_.map(I0=>`d${I0}`).join(", ");return`
  fn set_${l}(${Ue}, value: ${w}) {
    set_${l}ByIndices(${X(xe)}, value);
  }`})();return{impl:()=>{const Ue=[];let xe=!1;return P.offsetToIndices&&(Ue.push($),xe=!0),P.indicesToOffset&&(Ue.push(G),xe=!0),P.broadcastedIndicesToOffset&&(Object.values(ae).forEach(I0=>Ue.push(I0)),xe=!0),P.set&&(Ue.push(Ve),xe=!0),P.setByIndices&&(Ue.push(be),xe=!0),P.get&&(Ue.push(ge),xe=!0),P.getByIndices&&(Ue.push(Ae),xe=!0),!d&&xe&&Ue.unshift(`const ${U} = ${y.indices}(${u.join(",")});`,`const ${W} = ${y.indices}(${ShapeUtil2.computeStrides(u).join(",")});`),Ue.join(`
`)},type:y,offsetToIndices:b,indicesToOffset:Y,broadcastedIndicesToOffset:le,indices:X,indicesGet:j,indicesSet:h,set:(...Ue)=>{if(Ue.length!==g+1)throw new Error(`indices length must be ${g}`);const xe=Ue[g];if(typeof xe!="string")throw new Error("value must be string");const I0=Ue.slice(0,g).map(e).join(",");return g===0?he("0u",xe):g===1?he(I0[0],xe):(P.set=!0,P.setByIndices=!0,P.indicesToOffset=!0,`set_${l}(${I0}, ${xe})`)},setByOffset:he,setByIndices:(Ue,xe)=>g<2?he(Ue,xe):(P.setByIndices=!0,P.indicesToOffset=!0,`set_${l}ByIndices(${Ue}, ${xe});`),get:ye,getByOffset:pe,getByIndices:we,usage:p,name:l,strides:W,shape:U,rank:g}},inputVariable=(l,n,u,p=1)=>createIndicesHelper(l,n,u,"input",p),outputVariable=(l,n,u,p=1)=>createIndicesHelper(l,n,u,"output",p),internalVariable=(l,n,u,p=1)=>createIndicesHelper(l,n,u,"internal",p),ShaderHelperImpl=class{constructor(l,n){this.normalizedDispatchGroup=l,this.limits=n,this.internalVariables=[],this.variables=[],this.uniforms=[],this.variableIndex=0}guardAgainstOutOfBoundsWorkgroupSizes(l){return`if (global_idx >= ${typeof l=="number"?`${l}u`:l}) { return; }`}mainStart(l=WORKGROUP_SIZE){const n=typeof l=="number"?l:l[0],u=typeof l=="number"?1:l[1],p=typeof l=="number"?1:l[2];if(n>this.limits.maxComputeWorkgroupSizeX||u>this.limits.maxComputeWorkgroupSizeY||p>this.limits.maxComputeWorkgroupSizeZ)throw new Error(`workgroup size [${n}, ${u}, ${p}] exceeds the maximum workgroup size [${this.limits.maxComputeWorkgroupSizeX}, ${this.limits.maxComputeWorkgroupSizeY}, ${this.limits.maxComputeWorkgroupSizeZ}].`);if(n*u*p>this.limits.maxComputeInvocationsPerWorkgroup)throw new Error(`workgroup size [${n}, ${u}, ${p}] exceeds the maximum workgroup invocations ${this.limits.maxComputeInvocationsPerWorkgroup}.`);const v=this.normalizedDispatchGroup[1]===1&&this.normalizedDispatchGroup[2]===1,d=v?`@builtin(global_invocation_id) global_id : vec3<u32>,
    @builtin(workgroup_id) workgroup_id : vec3<u32>,
    @builtin(local_invocation_id) local_id : vec3<u32>`:`@builtin(global_invocation_id) global_id : vec3<u32>,
                                             @builtin(local_invocation_id) local_id : vec3<u32>,
    @builtin(local_invocation_index) local_idx : u32,
    @builtin(workgroup_id) workgroup_id : vec3<u32>,
    @builtin(num_workgroups) num_workgroups : vec3<u32>`,g=v?"let global_idx = global_id.x; let local_idx = local_id.x;":`let global_idx = (workgroup_id.z * num_workgroups[0] * num_workgroups[1] +
          workgroup_id.y * num_workgroups[0] + workgroup_id.x) * ${n*u*p}u + local_idx;`;return`@compute @workgroup_size(${n}, ${u}, ${p})
  fn main(${d}) {
    ${g}
  `}appendVariableUniforms(l){l.rank!==0&&(l.shape.startsWith("uniforms.")&&this.uniforms.push({name:l.shape.replace("uniforms.",""),type:"u32",length:l.rank}),l.strides.startsWith("uniforms.")&&this.uniforms.push({name:l.strides.replace("uniforms.",""),type:"u32",length:l.rank}))}declareVariable(l,n){if(l.usage==="internal")throw new Error("cannot use internal variable with declareVariable(). use registerInternalVariables() instead.");this.variables.push(l),this.appendVariableUniforms(l);const u=l.usage==="input"?"read":"read_write",p=l.type.storage;return`@group(0) @binding(${n}) var<storage, ${u}> ${l.name}: array<${p}>;`}declareVariables(...l){return l.map(n=>this.declareVariable(n,this.variableIndex++)).join(`
`)}registerInternalVariable(l){if(l.usage!=="internal")throw new Error("cannot use input or output variable with registerInternalVariable(). use declareVariables() instead.");this.internalVariables.push(l),this.appendVariableUniforms(l)}registerInternalVariables(...l){return l.forEach(n=>this.registerInternalVariable(n)),this}registerUniform(l,n,u=1){return this.uniforms.push({name:l,type:n,length:u}),this}registerUniforms(l){return this.uniforms=this.uniforms.concat(l),this}uniformDeclaration(){if(this.uniforms.length===0)return"";const l=[];for(const{name:n,type:u,length:p}of this.uniforms)if(p&&p>4)u==="f16"?l.push(`@align(16) ${n}:array<mat2x4<${u}>, ${Math.ceil(p/8)}>`):l.push(`${n}:array<vec4<${u}>, ${Math.ceil(p/4)}>`);else{const v=p==null||p===1?u:`vec${p}<${u}>`;l.push(`${n}:${v}`)}return`
      struct Uniforms { ${l.join(", ")} };
      @group(0) @binding(${this.variableIndex}) var<uniform> uniforms: Uniforms;`}get additionalImplementations(){return this.uniformDeclaration()+this.variables.map(l=>l.impl()).join(`
`)+this.internalVariables.map(l=>l.impl()).join(`
`)}get variablesInfo(){if(this.uniforms.length===0)return;const l=n=>[12,10,1,6][["u32","f16","f32","i32"].indexOf(n)];return this.uniforms.map(n=>[l(n.type),n.length??1])}},createShaderHelper=(l,n)=>new ShaderHelperImpl(l,n),getBroadcastDims=(l,n)=>{const u=l.length,p=[];for(let v=0;v<u;v++){const d=u-1-v,g=l[d]||1;(n[n.length-1-v]||1)>1&&g===1&&p.unshift(d)}return p}}}),validateInputs26,getAdjustedPerm2,getOutputShape2,permFunctionBody,createTransposeProgramInfo2,transpose2,parseTransposeAttributes2,init_transpose2=__esm({"web/lib/wasm/jsep/webgpu/ops/transpose.ts"(){init_wasm_common(),init_util2(),init_attribute_with_cache_key2(),init_common(),validateInputs26=l=>{if(!l||l.length!==1)throw new Error("Transpose requires 1 input.")},getAdjustedPerm2=(l,n)=>n&&n.length!==l?[...new Array(l).keys()].reverse():n,getOutputShape2=(l,n)=>ShapeUtil2.sortBasedOnPerm(l,getAdjustedPerm2(l.length,n)),permFunctionBody=(l,n,u,p)=>{const v=[];v.push(`fn perm(i: ${p.type.indices}) -> ${u.type.indices} {
    var a: ${u.type.indices};`);for(let d=0;d<n;++d)v.push(u.indicesSet("a",l[d],`i[${d}]`));return v.push("return a;}"),v.join(`
`)},createTransposeProgramInfo2=(l,n)=>{const u=l.dataType,p=l.dims.length,v=getAdjustedPerm2(p,n),d=getOutputShape2(l.dims,v),g=outputVariable("output",u,d.length),_=inputVariable("a",u,p);let C;if(v.length===2&&v[0]===1&&v[1]===0){const E=g.type.value,w=[16,16,1];C=m=>`
  ${m.registerUniform("output_size","u32").declareVariables(_,g)}
  var<workgroup> tile : array<array<${E}, ${w[0]+1}>, ${w[0]}>;
  ${m.mainStart(w)}
    var x = workgroup_id.x * ${w[0]}u + local_id.x;
    var y = workgroup_id.y * ${w[0]}u + local_id.y;
    let width = uniforms.output_shape[0];
    let height = uniforms.output_shape[1];
    if (x < width && y < height) {
      tile[local_id.y][local_id.x] = ${_.getByOffset("y * width + x")};
    }
    workgroupBarrier();
    x = workgroup_id.y * ${w[0]}u + local_id.x;
    y = workgroup_id.x * ${w[0]}u + local_id.y;
    if (x < height && y < width) {
      ${g.setByOffset("y * height + x","tile[local_id.x][local_id.y]")}
    }
  }`}else C=E=>`
  ${E.registerUniform("output_size","u32").declareVariables(_,g)}

  ${permFunctionBody(v,p,_,g)}

  ${E.mainStart()}
    ${E.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}

    let indices = ${g.offsetToIndices("global_idx")};
    let aIndices = perm(indices);

    ${g.setByOffset("global_idx",_.getByIndices("aIndices"))}
  }`;return{name:"Transpose",shaderCache:{hint:`${n}`,inputDependencies:["rank"]},getRunData:E=>{const w=ShapeUtil2.size(d);return{outputs:[{dims:d,dataType:E[0].dataType}],dispatchGroup:{x:Math.ceil(w/64)},programUniforms:[{type:12,data:w},...createTensorShapeVariables(E[0].dims,d)]}},getShaderSource:C}},transpose2=(l,n)=>{validateInputs26(l.inputs),l.compute(createTransposeProgramInfo2(l.inputs[0],n.perm))},parseTransposeAttributes2=l=>createAttributeWithCacheKey2({perm:l.perm})}}),reduceOps,reduceSharedOps,reduceInitValues,reduceOutputValues,getInnerMostAxes,computeOutAndReduceShapes,expandShapeToKeepDim,areAxesInnerMostDims,getAxesPermutation,createReduceSharedProgramInfo,reduceCommon,reduceMeanShared,reduceL1Shared,reduceL2Shared,reduceLogSumExpShared,reduceMaxShared,reduceMinShared,reduceProdShared,reduceSumShared,reduceSumSquareShared,reduceLogSumShared,init_reduce_shared=__esm({"web/lib/wasm/jsep/webgpu/ops/reduce-shared.ts"(){init_wasm_common(),init_util2(),init_common(),init_reduce2(),init_transpose2(),reduceOps={max:"select(bestValue, candidate, candidate > bestValue)",min:"select(bestValue, candidate, candidate < bestValue)",mean:"bestValue + candidate",sum:"bestValue + candidate",prod:"bestValue * candidate",sumSquare:"bestValue + candidate * candidate",logSumExp:"bestValue + exp(candidate)",l1:"bestValue + abs(candidate)",l2:"bestValue + candidate * candidate",logSum:"bestValue + candidate"},reduceSharedOps={max:"select(bestValue, candidate, candidate > bestValue)",min:"select(bestValue, candidate, candidate < bestValue)",mean:"bestValue + candidate",sum:"bestValue + candidate",prod:"bestValue * candidate",sumSquare:"bestValue + candidate",logSumExp:"bestValue + candidate",l1:"bestValue + candidate",l2:"bestValue + candidate",logSum:"bestValue + candidate"},reduceInitValues={max:"_A[offset]",min:"_A[offset]",mean:"0",sum:"0",prod:"1",sumSquare:"0",logSumExp:"0",l1:"0",l2:"0",logSum:"0"},reduceOutputValues={max:"bestValue",min:"bestValue",sum:"bestValue",prod:"bestValue",sumSquare:"bestValue",logSumExp:"log(bestValue)",l1:"bestValue",l2:"sqrt(bestValue)",logSum:"log(bestValue)"},getInnerMostAxes=(l,n)=>{const u=[];for(let p=n-l;p<n;++p)u.push(p);return u},computeOutAndReduceShapes=(l,n)=>{const u=[],p=l.length;for(let d=0;d<p;d++)n.indexOf(d)===-1&&u.push(l[d]);const v=n.map(d=>l[d]);return[u,v]},expandShapeToKeepDim=(l,n)=>{const u=l.length+n.length,p=[];let v=0;for(let d=0;d<u;d++)n.indexOf(d)===-1?p.push(l[v++]):p.push(1);return p},areAxesInnerMostDims=(l,n)=>{for(let u=0;u<l.length;++u)if(l[l.length-u-1]!==n-1-u)return!1;return!0},getAxesPermutation=(l,n)=>{const u=[];if(!areAxesInnerMostDims(l,n)){for(let p=0;p<n;++p)l.indexOf(p)===-1&&u.push(p);l.forEach(p=>u.push(p))}return u},createReduceSharedProgramInfo=(l,n,u,p,v,d,g)=>{const _=u[0].dims,C=ShapeUtil2.size(d),E=ShapeUtil2.size(g),w=inputVariable("_A",u[0].dataType,_),m=outputVariable("output",v,d),y=32,e=`
          var<workgroup> aBestValues : array<f32, ${y}>;
       `;return{name:l,shaderCache:n,getShaderSource:O=>`
        ${O.registerUniform("reduceSize","u32").declareVariables(w,m)}
        ${e}
        fn DIV_CEIL(a : u32, b : u32) -> u32 {
          return ((a - 1u) / b + 1u);
         }
         ${O.mainStart(y)}

          let outputIndex = global_idx / ${y};
          let offset = outputIndex * uniforms.reduceSize;

          var bestValue = f32(${reduceInitValues[p]});
          let Length = uniforms.reduceSize;
          for (var k = local_idx; k < Length; k = k + ${y}) {
           let candidate = f32(${w.getByOffset("offset + k")});
           bestValue = ${reduceOps[p]};
          }
          aBestValues[local_idx] = bestValue;
          workgroupBarrier();

         var reduceSize = min(Length, ${y}u);
         for (var currentSize = reduceSize / 2u; reduceSize > 1u;
             currentSize = reduceSize / 2u) {
           let interval = DIV_CEIL(reduceSize, 2u);
           if (local_idx < currentSize) {
            let candidate = aBestValues[local_idx + interval];
            bestValue = ${reduceSharedOps[p]};
            aBestValues[local_idx] = bestValue;
           }
           reduceSize = interval;
           workgroupBarrier();
         }

         if (local_idx == 0u) {
          ${m.setByOffset("outputIndex",`${p==="mean"?`${m.type.storage}(bestValue / f32(uniforms.reduceSize))`:`${m.type.storage}(${reduceOutputValues[p]})`}`)};
         }
        }`,getRunData:()=>({outputs:[{dims:d,dataType:v}],dispatchGroup:{x:C},programUniforms:[{type:12,data:E}]})}},reduceCommon=(l,n,u,p)=>{const v=l.inputs.length===1?u:createReduceAttributesFromInputs(l.inputs,u);let d=v.axes;d.length===0&&!v.noopWithEmptyAxes&&(d=l.inputs[0].dims.map((e,P)=>P));const g=ShapeUtil2.normalizeAxes(d,l.inputs[0].dims.length);let _=g,C=l.inputs[0];const E=getAxesPermutation(_,l.inputs[0].dims.length);E.length>0&&(C=l.compute(createTransposeProgramInfo2(l.inputs[0],E),{inputs:[0],outputs:[-1]})[0],_=getInnerMostAxes(_.length,C.dims.length));const[w,m]=computeOutAndReduceShapes(C.dims,_);let y=w;v.keepDims&&(y=expandShapeToKeepDim(w,g)),l.compute(createReduceSharedProgramInfo(n,{hint:v.cacheKey,inputDependencies:["type"]},[C],p,l.inputs[0].dataType,y,m),{inputs:[C]})},reduceMeanShared=(l,n)=>{reduceCommon(l,"ReduceMeanShared",n,"mean")},reduceL1Shared=(l,n)=>{reduceCommon(l,"ReduceL1Shared",n,"l1")},reduceL2Shared=(l,n)=>{reduceCommon(l,"ReduceL2Shared",n,"l2")},reduceLogSumExpShared=(l,n)=>{reduceCommon(l,"ReduceLogSumExpShared",n,"logSumExp")},reduceMaxShared=(l,n)=>{reduceCommon(l,"ReduceMaxShared",n,"max")},reduceMinShared=(l,n)=>{reduceCommon(l,"ReduceMinShared",n,"min")},reduceProdShared=(l,n)=>{reduceCommon(l,"ReduceProdShared",n,"prod")},reduceSumShared=(l,n)=>{reduceCommon(l,"ReduceSumShared",n,"sum")},reduceSumSquareShared=(l,n)=>{reduceCommon(l,"ReduceSumSquareShared",n,"sumSquare")},reduceLogSumShared=(l,n)=>{reduceCommon(l,"ReduceLogSumShared",n,"logSum")}}}),validateInputs27,noOp,createReduceProgramInfo2,createReduceAttributesFromInputs,runReduceProgram,reduceLogSumNaive,reduceL1Naive,reduceL2Naive,reduceLogSumExpNaive,reduceMaxNaive,reduceMeanNaive,reduceMinNaive,reduceProdNaive,reduceSumNaive,reduceSumSquareNaive,useNaiveReduceMethod,reduceMean2,reduceL1,reduceL2,reduceLogSumExp,reduceMax2,reduceMin2,reduceProd2,reduceSum2,reduceSumSquare,reduceLogSum2,init_reduce2=__esm({"web/lib/wasm/jsep/webgpu/ops/reduce.ts"(){init_wasm_common(),init_util2(),init_attribute_with_cache_key2(),init_common(),init_reduce_shared(),validateInputs27=l=>{if(!l||l.length===0||l.length>2)throw new Error("Reduce op requires 1 or 2 inputs.");if(l.length===2&&l[1].dims.length!==1)throw new Error("Invalid axes input dims.")},noOp=l=>["","",`var value = ${l.getByIndices("input_indices")};`,""],createReduceProgramInfo2=(l,n,u,p,v,d,g=!1,_=!1)=>{const C=[],E=u[0].dims,w=E.length,m=ShapeUtil2.normalizeAxes(v,w),y=!_&&m.length===0;E.forEach((U,W)=>{y||m.indexOf(W)>=0?g&&C.push(1):C.push(U)});const e=C.length,P=ShapeUtil2.size(C);return{name:l,shaderCache:n,getShaderSource:U=>{const W=[],V=inputVariable("_A",u[0].dataType,w),$=outputVariable("output",d,e),b=p(V,$,m);let H=b[2];for(let G=0,Y=0;G<w;G++)y||m.indexOf(G)>=0?(g&&Y++,H=`for(var j${G}: u32 = 0; j${G} < ${E[G]}; j${G}++) {
                  ${b[2].includes("last_index")?`let last_index = j${G};`:""}
                  ${V.indicesSet("input_indices",G,`j${G}`)}
                  ${H}
                }`):(W.push(`${V.indicesSet("input_indices",G,$.indicesGet("output_indices",Y))};`),Y++);return`

        ${U.registerUniform("output_size","u32").declareVariables(V,$)}

        ${U.mainStart()}
          ${U.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
          var input_indices: ${V.type.indices};
          let output_indices = ${$.offsetToIndices("global_idx")};

          ${W.join(`
`)}
          ${b[0]}       // init ops for reduce max/min
          ${b[1]}
          ${H}
          ${b[3]}
          ${b.length===4?$.setByOffset("global_idx","value"):b.slice(4).join(`
`)}
        }`},getRunData:()=>({outputs:[{dims:C,dataType:d}],dispatchGroup:{x:Math.ceil(P/64)},programUniforms:[{type:12,data:P},...createTensorShapeVariables(E,C)]})}},createReduceAttributesFromInputs=(l,n)=>{const u=[];return l[1].dims[0]>0&&l[1].getBigInt64Array().forEach(p=>u.push(Number(p))),createAttributeWithCacheKey2({axes:u,keepDims:n.keepDims,noopWithEmptyAxes:n.noopWithEmptyAxes})},runReduceProgram=(l,n,u,p)=>{const v=l.inputs,d=v.length===1?u:createReduceAttributesFromInputs(v,u);l.compute(createReduceProgramInfo2(n,{hint:d.cacheKey,inputDependencies:["rank"]},[v[0]],d.noopWithEmptyAxes&&d.axes.length===0?noOp:p,d.axes,v[0].dataType,d.keepDims,d.noopWithEmptyAxes),{inputs:[0]})},reduceLogSumNaive=(l,n)=>{validateInputs27(l.inputs),runReduceProgram(l,"ReduceLogSum",n,(p,v)=>[`var value = ${v.type.storage}(0);`,"",`value += ${p.getByIndices("input_indices")};`,"value = log(value);"])},reduceL1Naive=(l,n)=>{validateInputs27(l.inputs),runReduceProgram(l,"ReduceL1",n,(p,v)=>[`var value = ${v.type.storage}(0);`,"",`value += abs(${p.getByIndices("input_indices")});`,""])},reduceL2Naive=(l,n)=>{validateInputs27(l.inputs),runReduceProgram(l,"ReduceL2",n,(p,v)=>[`var t = ${v.type.value}(0); var value = ${v.type.value}(0);`,"",`t = ${p.getByIndices("input_indices")}; value += (t * t);`,"value = sqrt(value);"])},reduceLogSumExpNaive=(l,n)=>{validateInputs27(l.inputs),runReduceProgram(l,"ReduceLogSumExp",n,(p,v)=>[`var value = ${v.type.storage}(0);`,"",`value += exp(${p.getByIndices("input_indices")});`,"value = log(value);"])},reduceMaxNaive=(l,n)=>{validateInputs27(l.inputs),runReduceProgram(l,"ReduceMax",n,(p,v,d)=>{const g=[];for(let _=0;_<p.rank;_++)(d.indexOf(_)>=0||d.length===0)&&g.push(p.indicesSet("input_indices",_,0));return[`${g.join(`
`)}`,`var value = ${p.getByIndices("input_indices")};`,`value = max(value, ${p.getByIndices("input_indices")});`,""]})},reduceMeanNaive=(l,n)=>{validateInputs27(l.inputs),runReduceProgram(l,"ReduceMean",n,(p,v,d)=>{let g=1;for(let _=0;_<p.rank;_++)(d.indexOf(_)>=0||d.length===0)&&(g*=l.inputs[0].dims[_]);return["var sum = f32(0);","",`sum += f32(${p.getByIndices("input_indices")});`,`let value = ${v.type.value}(sum / ${g});`]})},reduceMinNaive=(l,n)=>{validateInputs27(l.inputs),runReduceProgram(l,"ReduceMin",n,(p,v,d)=>{const g=[];for(let _=0;_<p.rank;_++)(d.indexOf(_)>=0||d.length===0)&&g.push(`input_indices[${_}] = 0;`);return[`${g.join(`
`)}`,`var value = ${p.getByIndices("input_indices")};`,`value = min(value, ${p.getByIndices("input_indices")});`,""]})},reduceProdNaive=(l,n)=>{validateInputs27(l.inputs),runReduceProgram(l,"ReduceProd",n,(p,v)=>[`var value = ${v.type.storage}(1);`,"",`value *= ${p.getByIndices("input_indices")};`,""])},reduceSumNaive=(l,n)=>{validateInputs27(l.inputs),runReduceProgram(l,"ReduceSum",n,(p,v)=>[`var value = ${v.type.storage}(0);`,"",`value += ${p.getByIndices("input_indices")};`,""])},reduceSumSquareNaive=(l,n)=>{validateInputs27(l.inputs),runReduceProgram(l,"ReduceSumSquare",n,(p,v)=>[`var t = ${v.type.value}(0); var value = ${v.type.value}(0);`,"",`t = ${p.getByIndices("input_indices")}; value += t * t;`,""])},useNaiveReduceMethod=(l,n,u)=>{if(n.length===0)return u;let p=1,v=1;for(let d=0;d<n.length;d++)n.indexOf(d)===-1?p*=l[d]:v*=l[d];return v<32&&p>1024},reduceMean2=(l,n)=>{useNaiveReduceMethod(l.inputs[0].dims,n.axes,n.noopWithEmptyAxes)?reduceMeanNaive(l,n):reduceMeanShared(l,n)},reduceL1=(l,n)=>{useNaiveReduceMethod(l.inputs[0].dims,n.axes,n.noopWithEmptyAxes)?reduceL1Naive(l,n):reduceL1Shared(l,n)},reduceL2=(l,n)=>{useNaiveReduceMethod(l.inputs[0].dims,n.axes,n.noopWithEmptyAxes)?reduceL2Naive(l,n):reduceL2Shared(l,n)},reduceLogSumExp=(l,n)=>{useNaiveReduceMethod(l.inputs[0].dims,n.axes,n.noopWithEmptyAxes)?reduceLogSumExpNaive(l,n):reduceLogSumExpShared(l,n)},reduceMax2=(l,n)=>{useNaiveReduceMethod(l.inputs[0].dims,n.axes,n.noopWithEmptyAxes)?reduceMaxNaive(l,n):reduceMaxShared(l,n)},reduceMin2=(l,n)=>{useNaiveReduceMethod(l.inputs[0].dims,n.axes,n.noopWithEmptyAxes)?reduceMinNaive(l,n):reduceMinShared(l,n)},reduceProd2=(l,n)=>{useNaiveReduceMethod(l.inputs[0].dims,n.axes,n.noopWithEmptyAxes)?reduceProdNaive(l,n):reduceProdShared(l,n)},reduceSum2=(l,n)=>{useNaiveReduceMethod(l.inputs[0].dims,n.axes,n.noopWithEmptyAxes)?reduceSumNaive(l,n):reduceSumShared(l,n)},reduceSumSquare=(l,n)=>{useNaiveReduceMethod(l.inputs[0].dims,n.axes,n.noopWithEmptyAxes)?reduceSumSquareNaive(l,n):reduceSumSquareShared(l,n)},reduceLogSum2=(l,n)=>{useNaiveReduceMethod(l.inputs[0].dims,n.axes,n.noopWithEmptyAxes)?reduceLogSumNaive(l,n):reduceLogSumShared(l,n)}}}),validateInputs28,argMin,argMax,parseArgMinMaxAttributes,init_argminmax=__esm({"web/lib/wasm/jsep/webgpu/ops/argminmax.ts"(){init_wasm_common(),init_attribute_with_cache_key2(),init_reduce2(),validateInputs28=l=>{if(!l||l.length===0||l.length>2)throw new Error("ArgMinMaxOp op requires 1 or 2 inputs.");if(l[0].dataType!==1)throw new Error("Invalid input type.")},argMin=(l,n)=>{validateInputs28(l.inputs);const u=(p,v,d)=>{const g=[];for(let _=0;_<p.rank;_++)(d.indexOf(_)>=0||d.length===0)&&g.push(`input_indices[${_}] = 0;`);return[`${g.join(`
`)}`,`var value = ${p.getByIndices("input_indices")};
var best_index : i32 = 0;`,`if (${p.getByIndices("input_indices")} ${n.selectLastIndex>0?"<=":"<"} value) {
         value = ${p.getByIndices("input_indices")};
         best_index = i32(last_index);
       }`,"",v.setByOffset("global_idx","best_index")]};l.compute(createReduceProgramInfo2("ArgMin",{hint:n.cacheKey,inputDependencies:["rank"]},[l.inputs[0]],u,[n.axis],7,n.keepDims),{inputs:[0]})},argMax=(l,n)=>{validateInputs28(l.inputs);const u=(p,v,d)=>{const g=[];for(let _=0;_<p.rank;_++)(d.indexOf(_)>=0||d.length===0)&&g.push(`input_indices[${_}] = 0;`);return[`${g.join(`
`)}`,`var value = ${p.getByIndices("input_indices")};
var best_index : i32 = 0;`,`if (${p.getByIndices("input_indices")} ${n.selectLastIndex>0?">=":">"} value) {
         value = ${p.getByIndices("input_indices")};
         best_index = i32(last_index);
       }`,"",v.setByOffset("global_idx","best_index")]};l.compute(createReduceProgramInfo2("argMax",{hint:n.cacheKey,inputDependencies:["rank"]},[l.inputs[0]],u,[n.axis],7,n.keepDims),{inputs:[0]})},parseArgMinMaxAttributes=l=>createAttributeWithCacheKey2(l)}}),validateAttentionInputs,createInPlaceSoftmaxProgramInfo,createAttentionProbsProgramInfo,createVxAttentionScoreProgramInfo,applyAttention,prepare,attention,init_attention=__esm({"web/lib/wasm/jsep/webgpu/ops/attention.ts"(){init_wasm_common(),init_types2(),init_common(),validateAttentionInputs=(l,n)=>{const u=l[0],p=l[1],v=l[2],d=l[3],g=l[4],_=l[5];if(g&&_)throw new Error("Attention cannot have both past and relative_position_bias");if(u.dims.length!==3)throw new Error('Input "input" must have 3 dimensions');const C=u.dims[0],E=u.dims[1],w=u.dims[2];if(v.dims.length!==1)throw new Error('Input "bias" is expected to have 1 dimensions');if(p.dims.length!==2)throw new Error('Input "weights" is expected to have 2 dimensions');if(p.dims[0]!==w)throw new Error("Input 1 dimension 0 should have same length as dimension 2 of input 0");if(v.dims[0]!==p.dims[1])throw new Error('Input "bias" dimension 0 should have same length as dimension 1 of input "weights"');let m=v.dims[0]/3,y=m,e=y;if(n.qkvHiddenSizes.length>0){if(n.qkvHiddenSizes.length!==3)throw new Error("qkv_hidden_sizes attribute should have 3 elements");for(const $ of n.qkvHiddenSizes)if($%n.numHeads!==0)throw new Error("qkv_hidden_sizes should be divisible by num_heads");m=n.qkvHiddenSizes[0],y=n.qkvHiddenSizes[1],e=n.qkvHiddenSizes[2]}const P=E;if(m!==y)throw new Error("qkv_hidden_sizes first element should be same as the second");if(v.dims[0]!==m+y+e)throw new Error('Input "bias" dimension 0 should have same length as sum of Q/K/V hidden sizes');let O=0;if(g){if(y!==e)throw new Error('Input "past" expect k_hidden_size == v_hidden_size');if(g.dims.length!==5)throw new Error('Input "past" must have 5 dimensions');if(g.dims[0]!==2)throw new Error('Input "past" first dimension must be 2');if(g.dims[1]!==C)throw new Error('Input "past" second dimension must be batch_size');if(g.dims[2]!==n.numHeads)throw new Error('Input "past" third dimension must be num_heads');if(g.dims[4]!==y/n.numHeads)throw new Error('Input "past" fifth dimension must be k_hidden_size / num_heads');n.pastPresentShareBuffer||(O=g.dims[3])}const U=P+O,W=-1,V=0;if(d)throw new Error("Mask not supported");if(g)throw new Error("past is not supported");return{batchSize:C,sequenceLength:E,pastSequenceLength:O,kvSequenceLength:P,totalSequenceLength:U,maxSequenceLength:W,inputHiddenSize:w,hiddenSize:m,vHiddenSize:e,headSize:Math.floor(m/n.numHeads),vHeadSize:Math.floor(e/n.numHeads),numHeads:n.numHeads,isUnidirectional:!1,pastPresentShareBuffer:!1,maskFilterValue:n.maskFilterValue,maskType:V,scale:n.scale,broadcastResPosBias:!1,passPastInKv:!1,qkvFormat:1}},createInPlaceSoftmaxProgramInfo=(l,n,u,p)=>{const v=getMaxComponents(p);let d=64;const g=p/v;g<d?d=1:g/8<64&&(d=Math.ceil(g/8));const _=Math.ceil(p/v/d),C=[{type:n.dataType,data:1/p},{type:12,data:g},{type:12,data:_}],E=tensorTypeToWsglStorageType(n.dataType,v),w=tensorTypeToWsglValueType(1,v),m=y=>{const e=outputVariable("x",n.dataType,n.dims,v),O=[{name:"d_inv",type:tensorTypeToWsglValueType(n.dataType)},{name:"d_comp",type:"u32"},{name:"elements_per_thread",type:"u32"}];return`
  var<workgroup> thread_max: array<f32, ${d}>;
  var<workgroup> thread_sum: array<f32, ${d}>;
  ${y.registerUniforms(O).declareVariables(e)}
  ${y.mainStart([d,1,1])}
    let local_offset = local_idx * uniforms.elements_per_thread;
    let offset = workgroup_id.x * uniforms.d_comp + local_offset;

    var thread_max_vector = ${w}(-3.402823e+38f);
    for (var i: u32 = 0; i < uniforms.elements_per_thread && i + local_offset < uniforms.d_comp; i++) {
      thread_max_vector = max(${w}(x[offset + i]), thread_max_vector);
    }
    thread_max[local_idx] = ${(()=>{switch(v){case 1:return"thread_max_vector";case 2:return"max(thread_max_vector.x, thread_max_vector.y)";case 4:return"max(max(thread_max_vector.x, thread_max_vector.y), max(thread_max_vector.z, thread_max_vector.w))";default:throw new Error(`Unsupported components: ${v}`)}})()};
    workgroupBarrier();

    var max_value =  f32(-3.402823e+38f);
    for (var i = 0u; i < ${d}; i++) {
      max_value = max(thread_max[i], max_value);
    }

    var sum_vector = ${w}(0);
    for (var i: u32 = 0; i < uniforms.elements_per_thread && i + local_offset < uniforms.d_comp; i++) {
      sum_vector += exp(${w}(x[offset + i]) - max_value);
    }
    thread_sum[local_idx] = ${(()=>{switch(v){case 1:return"sum_vector";case 2:return"sum_vector.x + sum_vector.y";case 4:return"sum_vector.x + sum_vector.y + sum_vector.z + sum_vector.w";default:throw new Error(`Unsupported components: ${v}`)}})()};
    workgroupBarrier();

    var sum: f32 = 0;
    for (var i = 0u; i < ${d}; i++) {
      sum += thread_sum[i];
    }

    if (sum == 0) {
      for (var i: u32 = 0; i < uniforms.elements_per_thread && i + local_offset < uniforms.d_comp; i++) {
        x[offset + i] = ${e.type.value}(uniforms.d_inv);
      }
    } else {
      for (var i: u32 = 0; i < uniforms.elements_per_thread && i + local_offset < uniforms.d_comp; i++) {
        var f32input = ${w}(x[offset + i]);
        x[offset + i] = ${e.type.value}(exp(f32input - max_value) / sum);
      }
    }
  }`};return{name:"AttentionProbsSoftmax",shaderCache:{hint:`${d};${E};${v}`},getShaderSource:m,getRunData:()=>({outputs:[],dispatchGroup:{x:u},programUniforms:C})}},createAttentionProbsProgramInfo=(l,n,u,p,v,d,g,_)=>{const C=_+d.kvSequenceLength,E=[d.batchSize,d.numHeads,d.sequenceLength,C],w=d.kvNumHeads===void 0&&l.outputCount>1,m=w?[d.batchSize,d.numHeads,C,d.headSize]:void 0,y=g.scale===0?1/Math.sqrt(d.headSize):g.scale,e=getMaxComponents(d.headSize),P=d.headSize/e,O=12,U={x:Math.ceil(C/O),y:Math.ceil(d.sequenceLength/O),z:d.batchSize*d.numHeads},W=[{type:12,data:d.sequenceLength},{type:12,data:P},{type:12,data:C},{type:12,data:d.numHeads},{type:1,data:y},{type:12,data:_},{type:12,data:d.kvSequenceLength}],V=["type","type"];p&&V.push("type"),v&&V.push("type");const $=[{dims:E,dataType:n.dataType,gpuDataType:0}];w&&$.push({dims:m,dataType:n.dataType,gpuDataType:0});const b=H=>{const G=inputVariable("q",n.dataType,n.dims,e),Y=inputVariable("key",u.dataType,u.dims,e),X=[G,Y];if(p){const he=inputVariable("past_key",p.dataType,p.dims,e);X.push(he)}v&&X.push(inputVariable("relative_position_bias",v.dataType,v.dims));const j=outputVariable("output",n.dataType,E),h=[j];w&&h.push(outputVariable("present_key",n.dataType,m,e));const ae=tensorTypeToWsglValueType(1,e),le=[{name:"M",type:"u32"},{name:"K",type:"u32"},{name:"N",type:"u32"},{name:"num_heads",type:"u32"},{name:"alpha",type:"f32"},{name:"past_sequence_length",type:"u32"},{name:"kv_sequence_length",type:"u32"}];return`
  const TILE_SIZE = ${O}u;

  var<workgroup> tileQ: array<${G.type.storage}, ${O*O}>;
  var<workgroup> tileK: array<${G.type.storage}, ${O*O}>;
  ${H.registerUniforms(le).declareVariables(...X,...h)}
  ${H.mainStart([O,O,1])}
    // x holds the N and y holds the M
    let headIdx = workgroup_id.z;
    let m = workgroup_id.y * TILE_SIZE;
    let n = workgroup_id.x * TILE_SIZE;
    let qOffset = uniforms.M * uniforms.K * headIdx + m * uniforms.K;
    ${p&&w?`
    let kOffset = uniforms.kv_sequence_length * uniforms.K * headIdx;
    let pastKeyOffset = uniforms.past_sequence_length * uniforms.K * headIdx;`:`
    let kOffset = uniforms.N * uniforms.K * headIdx + n * uniforms.K;`}
    ${w?"let presentKeyOffset = headIdx * uniforms.N * uniforms.K;":""}
    var value = ${ae}(0);
    for (var w: u32 = 0u; w < uniforms.K; w += TILE_SIZE) {
      if (global_id.y < uniforms.M && w + local_id.x < uniforms.K) {
        tileQ[TILE_SIZE * local_id.y + local_id.x] = q[qOffset + local_id.y * uniforms.K + w + local_id.x];
      }
      if (n + local_id.y < uniforms.N && w + local_id.x < uniforms.K) {
        var idx = TILE_SIZE * local_id.y + local_id.x;
      ${p&&w?`
              if (n + local_id.y < uniforms.past_sequence_length) {
                tileK[idx] = past_key[pastKeyOffset + (n + local_id.y) * uniforms.K + w + local_id.x];
              } else {
                tileK[idx] =
                         key[kOffset + (n + local_id.y - uniforms.past_sequence_length) * uniforms.K + w + local_id.x];
              }`:"tileK[idx] = key[kOffset + local_id.y * uniforms.K + w + local_id.x];"}
      ${w?"present_key[presentKeyOffset + (n + local_id.y) * uniforms.K + w + local_id.x] = tileK[idx];":""}
      }
      workgroupBarrier();

      for (var k: u32 = 0u; k < TILE_SIZE && w+k < uniforms.K; k++) {
        value += ${ae}(tileQ[TILE_SIZE * local_id.y + k] * tileK[TILE_SIZE * local_id.x + k]);
      }

      workgroupBarrier();
    }

    let headOffset = headIdx * uniforms.M * uniforms.N;
    if (global_id.y < uniforms.M && global_id.x < uniforms.N) {
      let outputIdx = headOffset + global_id.y * uniforms.N + global_id.x;
      var sum: f32 = ${(()=>{switch(e){case 1:return"value";case 2:return"value.x + value.y";case 4:return"value.x + value.y + value.z + value.w";default:throw new Error(`Unsupported components: ${e}`)}})()};
        output[outputIdx] = ${j.type.value} (sum * uniforms.alpha) + ${v?"relative_position_bias[outputIdx]":"0.0"};
    }
  }`};return{name:"AttentionProbs",shaderCache:{hint:`${e};${v!==void 0};${p!==void 0};${l.outputCount}`,inputDependencies:V},getRunData:()=>({outputs:$,dispatchGroup:U,programUniforms:W}),getShaderSource:b}},createVxAttentionScoreProgramInfo=(l,n,u,p,v,d)=>{const g=d+v.kvSequenceLength,_=v.nReps?v.nReps:1,C=v.vHiddenSize*_,E=v.kvNumHeads==null&&l.outputCount>1,w=E?[v.batchSize,v.numHeads,g,v.headSize]:void 0,m=[v.batchSize,v.sequenceLength,C],y=12,e={x:Math.ceil(v.vHeadSize/y),y:Math.ceil(v.sequenceLength/y),z:v.batchSize*v.numHeads},P=[{type:12,data:v.sequenceLength},{type:12,data:g},{type:12,data:v.vHeadSize},{type:12,data:v.numHeads},{type:12,data:C},{type:12,data:d},{type:12,data:v.kvSequenceLength}],O=p?["type","type","type"]:["type","type"],U=[{dims:m,dataType:n.dataType,gpuDataType:0}];E&&U.push({dims:w,dataType:n.dataType,gpuDataType:0});const W=V=>{const $=inputVariable("probs",n.dataType,n.dims),b=inputVariable("v",u.dataType,u.dims),H=[$,b];p&&H.push(inputVariable("past_value",p.dataType,p.dims));const Y=[outputVariable("output",n.dataType,m)];E&&Y.push(outputVariable("present_value",n.dataType,w));const X=[{name:"M",type:"u32"},{name:"K",type:"u32"},{name:"N",type:"u32"},{name:"num_heads",type:"u32"},{name:"v_hidden_size",type:"u32"},{name:"past_sequence_length",type:"u32"},{name:"kv_sequence_length",type:"u32"}];return`
  const TILE_SIZE = ${y}u;
  var<workgroup> tileQ: array<${$.type.value}, ${y*y}>;
  var<workgroup> tileK: array<${$.type.value}, ${y*y}>;
  ${V.registerUniforms(X).declareVariables(...H,...Y)}
  ${V.mainStart([y,y,1])}
   let headIdx = workgroup_id.z;
   let m = global_id.y;
   let n = global_id.x;

   let offsetA = headIdx * (uniforms.M * uniforms.K) + m * uniforms.K;
   ${p&&E?`
    let pastValueOffset = headIdx * uniforms.N * uniforms.past_sequence_length + n;
    let vOffset = headIdx * uniforms.N * uniforms.kv_sequence_length + n;
      `:`
   let offsetB = headIdx * uniforms.N * uniforms.K + n;
            `}
    ${E?"let presentValueOffset = headIdx * uniforms.N * uniforms.K + n;":""}
   var value = ${$.type.storage}(0);
   for (var w: u32 = 0u; w < uniforms.K; w += TILE_SIZE) {
      if (m < uniforms.M && w + local_id.x < uniforms.K) {
        tileQ[TILE_SIZE * local_id.y + local_id.x] = probs[offsetA + w + local_id.x];
      }
      if (n < uniforms.N && w + local_id.y < uniforms.K) {
        var idx = TILE_SIZE * local_id.y + local_id.x;
        ${p&&E?`
        if (w + local_id.y < uniforms.past_sequence_length) {
          tileK[idx] = past_value[pastValueOffset + (w + local_id.y) * uniforms.N];
        } else {
          tileK[idx] = v[vOffset + (w + local_id.y - uniforms.past_sequence_length) * uniforms.N];
        }
      `:`
        tileK[idx] = v[offsetB + (w + local_id.y) * uniforms.N];
      `}
        ${E?"present_value[presentValueOffset + (w + local_id.y) * uniforms.N] = tileK[idx];":""}
      }
     workgroupBarrier();
     for (var k: u32 = 0u; k < TILE_SIZE && w+k < uniforms.K; k++) {
       value += tileQ[TILE_SIZE * local_id.y + k] * tileK[TILE_SIZE * k + local_id.x];
     }
     workgroupBarrier();
   }

   // we need to transpose output from BNSH_v to BSND_v
   let batchIdx = workgroup_id.z / uniforms.num_heads;
   let currentBatchHeadNumber = workgroup_id.z % uniforms.num_heads;
   if (m < uniforms.M && n < uniforms.N) {
     let outputIdx = batchIdx * uniforms.M * uniforms.v_hidden_size + m * uniforms.v_hidden_size
       + currentBatchHeadNumber * uniforms.N + n;
     output[outputIdx] = value;
   }
  }`};return{name:"AttentionScore",shaderCache:{hint:`${p!==void 0};${l.outputCount}`,inputDependencies:O},getRunData:()=>({outputs:U,dispatchGroup:e,programUniforms:P}),getShaderSource:W}},applyAttention=(l,n,u,p,v,d,g,_,C,E,w)=>{const m=l.outputCount,y=E.kvNumHeads!==void 0||m>1?E.pastSequenceLength:0,e=y+E.kvSequenceLength,P=E.kvNumHeads===void 0&&m>1&&g?[n,u,g]:[n,u];C&&P.push(C);const O=l.compute(createAttentionProbsProgramInfo(l,n,u,m>1?g:void 0,C,E,w,y),{inputs:P,outputs:E.kvNumHeads===void 0&&m>1?[-1,1]:[-1]})[0];l.compute(createInPlaceSoftmaxProgramInfo(l,O,E.batchSize*E.numHeads*E.sequenceLength,e),{inputs:[O],outputs:[]});const U=E.kvNumHeads===void 0&&m>1&&_?[O,p,_]:[O,p];l.compute(createVxAttentionScoreProgramInfo(l,O,p,m>1&&_?_:void 0,E,y),{inputs:U,outputs:E.kvNumHeads===void 0&&m>1?[0,2]:[0]})},prepare=(l,n)=>{const u=[n.batchSize,n.numHeads,n.sequenceLength,n.headSize],p=n.sequenceLength,v=n.inputHiddenSize,d=n.headSize,g=12,_={x:Math.ceil(n.headSize/g),y:Math.ceil(n.sequenceLength/g),z:n.batchSize*n.numHeads},C=[l.inputs[0],l.inputs[1],l.inputs[2]],E=[{type:12,data:p},{type:12,data:v},{type:12,data:d},{type:12,data:n.numHeads},{type:12,data:n.headSize},{type:12,data:n.hiddenSize},{type:12,data:n.hiddenSize+n.hiddenSize+n.vHiddenSize}],w=m=>{const y=outputVariable("output_q",C[0].dataType,u),e=outputVariable("output_k",C[0].dataType,u),P=outputVariable("output_v",C[0].dataType,u),O=inputVariable("input",C[0].dataType,C[0].dims),U=inputVariable("weight",C[1].dataType,C[1].dims),W=inputVariable("bias",C[2].dataType,C[2].dims),V=O.type.storage,$=[{name:"M",type:"u32"},{name:"K",type:"u32"},{name:"N",type:"u32"},{name:"num_heads",type:"u32"},{name:"head_size",type:"u32"},{name:"hidden_size",type:"u32"},{name:"ldb",type:"u32"}];return`
  const TILE_SIZE = ${g}u;
  var<workgroup> tileInput: array<${V}, ${g*g}>;
  var<workgroup> tileWeightQ: array<${V}, ${g*g}>;
  var<workgroup> tileWeightK: array<${V}, ${g*g}>;
  var<workgroup> tileWeightV: array<${V}, ${g*g}>;
  ${m.registerUniforms($).declareVariables(O,U,W,y,e,P)}
  ${m.mainStart([g,g,1])}
    let batchIndex = workgroup_id.z / uniforms.num_heads;
    let headNumber = workgroup_id.z % uniforms.num_heads;
    let m = global_id.y;
    let n = global_id.x;

    let inputOffset = batchIndex * (uniforms.M * uniforms.K) + m * uniforms.K;
    let biasOffsetQ = headNumber * uniforms.head_size;
    let biasOffsetK = uniforms.hidden_size + biasOffsetQ;
    let biasOffsetV = uniforms.hidden_size + biasOffsetK;

    var valueQ = ${V}(0);
    var valueK = ${V}(0);
    var valueV = ${V}(0);
    for (var w: u32 = 0u; w < uniforms.K; w += TILE_SIZE) {
      if (m < uniforms.M && w + local_id.x < uniforms.K) {
        tileInput[TILE_SIZE * local_id.y + local_id.x] = input[inputOffset + w + local_id.x];
      }
      if (n < uniforms.N && w + local_id.y < uniforms.K) {
        let offset = n + (w + local_id.y) * uniforms.ldb;
        tileWeightQ[TILE_SIZE * local_id.y + local_id.x] = weight[biasOffsetQ + offset];
        tileWeightK[TILE_SIZE * local_id.y + local_id.x] = weight[biasOffsetK + offset];
        tileWeightV[TILE_SIZE * local_id.y + local_id.x] = weight[biasOffsetV + offset];
      }
      workgroupBarrier();
      for (var k: u32 = 0u; k<TILE_SIZE && w+k < uniforms.K; k++) {
        let inputTileOffset = TILE_SIZE * local_id.y + k;
        let weightTileOffset = TILE_SIZE * k + local_id.x;
        valueQ += tileInput[inputTileOffset] * tileWeightQ[weightTileOffset];
        valueK += tileInput[inputTileOffset] * tileWeightK[weightTileOffset];
        valueV += tileInput[inputTileOffset] * tileWeightV[weightTileOffset];
      }

      workgroupBarrier();
    }

    let headOffset = (m * uniforms.N + n) % uniforms.head_size;
    valueQ += bias[headOffset + biasOffsetQ];
    valueK += bias[headOffset + biasOffsetK];
    valueV += bias[headOffset + biasOffsetV];

    let offset = workgroup_id.z * uniforms.M * uniforms.N;
    if (m < uniforms.M && n < uniforms.N) {
      let outputIdx = offset + m * uniforms.N + n;
      output_q[outputIdx] = valueQ;
      output_k[outputIdx] = valueK;
      output_v[outputIdx] = valueV;
    }
  }`};return l.compute({name:"AttentionPrepare",shaderCache:{inputDependencies:["type","type","type"]},getRunData:()=>({outputs:[{dims:u,dataType:l.inputs[0].dataType,gpuDataType:0},{dims:u,dataType:l.inputs[0].dataType,gpuDataType:0},{dims:u,dataType:l.inputs[0].dataType,gpuDataType:0}],dispatchGroup:_,programUniforms:E}),getShaderSource:w},{inputs:C,outputs:[-1,-1,-1]})},attention=(l,n)=>{const u=validateAttentionInputs(l.inputs,n),[p,v,d]=prepare(l,u);return applyAttention(l,p,v,d,l.inputs[4],void 0,void 0,void 0,l.inputs[5],u,n)}}}),validateInputs29,createBatchNormInferenceProgramInfo,parseBatchNormAttributes,batchNorm,init_batch_norm=__esm({"web/lib/wasm/jsep/webgpu/ops/batch-norm.ts"(){init_esm(),init_wasm_common(),init_util2(),init_attribute_with_cache_key2(),init_common(),validateInputs29=(l,n)=>{if(!l||l.length!==5)throw new Error("BatchNormalization requires 5 inputs");const u=(p,v,d)=>{const g=v.length;if(g!==p.length)throw new Error(`${d}: num dimensions != ${g}`);v.forEach((_,C)=>{if(_!==p[C])throw new Error(`${d}: dim[${C}] do not match`)})};if(l[0].dims.length>1){const p=n.format==="NHWC"?n.spatial?l[0].dims.slice(-1):l[0].dims.slice(-1).concat(l[0].dims.slice(1,l[0].dims.length-1)):l[0].dims.slice(1,n.spatial?2:void 0);u(l[1].dims,p,"Invalid input scale"),u(l[2].dims,p,"Invalid input B"),u(l[3].dims,p,"Invalid input mean"),u(l[4].dims,p,"Invalid input var")}else u(l[1].dims,[1],"Invalid input scale"),u(l[2].dims,[1],"Invalid input B"),u(l[3].dims,[1],"Invalid input mean"),u(l[4].dims,[1],"Invalid input var")},createBatchNormInferenceProgramInfo=(l,n)=>{const{epsilon:u,spatial:p,format:v}=n,d=l[0].dims,g=p?getMaxComponents(d[d.length-1]):1,_=v==="NHWC"&&d.length>1?g:1,C=ShapeUtil2.size(d)/g,E=p,w=E?d.length:d,m=inputVariable("x",l[0].dataType,l[0].dims,g),y=inputVariable("scale",l[1].dataType,l[1].dims,_),e=inputVariable("bias",l[2].dataType,l[2].dims,_),P=inputVariable("inputMean",l[3].dataType,l[3].dims,_),O=inputVariable("inputVar",l[4].dataType,l[4].dims,_),U=outputVariable("y",l[0].dataType,w,g),W=()=>{let $="";if(p)$=`let cOffset = ${d.length===1?"0u":v==="NHWC"?`outputIndices[${d.length-1}] / ${g}`:"outputIndices[1]"};`;else if(v==="NCHW")$=`
            ${U.indicesSet("outputIndices","0","0")}
            let cOffset = ${U.indicesToOffset("outputIndices")};`;else{$=`var cIndices = ${y.type.indices}(0);
                       cIndices[0] = outputIndices[${d.length-1}];`;for(let b=1;b<y.rank;b++)$+=`cIndices[${b}] = outputIndices[${b}];`;$+=`let cOffset = ${y.indicesToOffset("cIndices")};`}return $},V=$=>`
  const epsilon = ${u};
  ${$.registerUniform("outputSize","u32").declareVariables(m,y,e,P,O,U)}
  ${$.mainStart()}
  ${$.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
    var outputIndices = ${U.offsetToIndices(`global_idx * ${g}`)};
    ${W()}
    let scale = ${y.getByOffset("cOffset")};
    let bias = ${e.getByOffset("cOffset")};
    let inputMean = ${P.getByOffset("cOffset")};
    let inputVar = ${O.getByOffset("cOffset")};
    let x = ${m.getByOffset("global_idx")};
    let value = (x - inputMean) * inverseSqrt(inputVar + epsilon) * scale + bias;
    ${U.setByOffset("global_idx","value")}
  }`;return{name:"BatchNormalization",shaderCache:{hint:`${n.epsilon}_${n.format}_${p}_${g}`,inputDependencies:E?["rank","type","type","type","type"]:void 0},getShaderSource:V,getRunData:()=>({outputs:[{dims:l[0].dims,dataType:l[0].dataType}],dispatchGroup:{x:Math.ceil(C/64)},programUniforms:E?[{type:12,data:C},...createTensorShapeVariables(d)]:[{type:12,data:C}]})}},parseBatchNormAttributes=l=>createAttributeWithCacheKey2(l),batchNorm=(l,n)=>{const{inputs:u,outputCount:p}=l,v=parseBatchNormAttributes({...n,outputCount:p});if(env2.webgpu.validateInputContent&&validateInputs29(u,v),n.trainingMode)throw new Error("BatchNormalization trainingMode is not supported yet.");l.compute(createBatchNormInferenceProgramInfo(u,v))}}}),validateInputs30,createBiasAddProgramInfo,biasAdd,init_bias_add=__esm({"web/lib/wasm/jsep/webgpu/ops/bias-add.ts"(){init_util2(),init_common(),validateInputs30=l=>{if(l[0].dims.length!==3)throw new Error("input should have 3 dimensions");if(![320,640,1280].includes(l[0].dims[2]))throw new Error("number of channels should be 320, 640 or 1280");if(l[1].dims.length!==1)throw new Error("bias is expected to have 1 dimensions");if(l[0].dims[2]!==l[1].dims[0])throw new Error("last dimension of input and bias are not the same")},createBiasAddProgramInfo=l=>{const n=l[0].dims,u=l[0].dims[2],p=ShapeUtil2.size(n)/4,v=l[0].dataType,d=inputVariable("input",v,n,4),g=inputVariable("bias",v,[u],4),_=inputVariable("residual",v,n,4),C=outputVariable("output",v,n,4);return{name:"BiasAdd",getRunData:()=>({outputs:[{dims:n,dataType:l[0].dataType}],dispatchGroup:{x:Math.ceil(p/64)}}),getShaderSource:w=>`
  const channels = ${u}u / 4;
  ${w.declareVariables(d,g,_,C)}

  ${w.mainStart()}
    ${w.guardAgainstOutOfBoundsWorkgroupSizes(p)}
    let value = ${d.getByOffset("global_idx")}
      + ${g.getByOffset("global_idx % channels")} + ${_.getByOffset("global_idx")};
    ${C.setByOffset("global_idx","value")}
  }`}},biasAdd=l=>{validateInputs30(l.inputs),l.compute(createBiasAddProgramInfo(l.inputs))}}}),createElementwiseProgramShader,createElementwiseProgramInfo2,abs2,acos2,acosh,asin2,asinh,atan2,atanh,parseCastAttributes2,cast2,generateClipAttributesFromInputs2,clip2,ceil2,cos2,cosh,parseAlphaAttributes,elu2,erfImpl,erf,exp2,floor2,gelu,leakyRelu2,not3,neg2,reciprocal,relu2,sigmoid2,parseHardSigmoidAttributes,hardSigmoid,sin2,sinh,sqrt2,tan2,tanhExpression,tanh2,fastGeluImpl,fastGeluExpression,fastGelu,thresholdedRelu,log3,quickGeluImpl,quickGeluExpression,quickgelu,init_unary_op2=__esm({"web/lib/wasm/jsep/webgpu/ops/unary-op.ts"(){init_wasm_common(),init_util2(),init_attribute_with_cache_key2(),init_common(),createElementwiseProgramShader=(l,n,u,p,v,d)=>{const g=Math.ceil(n/4);let _="";typeof v=="string"?_=`${v}(a)`:_=v("a");const C=inputVariable("inputData",u,[g],4),E=outputVariable("outputData",p,[g],4);return`
      ${l.registerUniform("vec_size","u32").declareVariables(C,E)}

  ${d??""}

  ${l.mainStart()}
    ${l.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size")}

    let a = ${C.getByOffset("global_idx")};
    ${E.setByOffset("global_idx",_)}
  }`},createElementwiseProgramInfo2=(l,n,u,p,v,d=l.dataType)=>({name:n,shaderCache:{hint:v,inputDependencies:["type"]},getShaderSource:g=>createElementwiseProgramShader(g,ShapeUtil2.size(l.dims),l.dataType,d,u,p),getRunData:g=>({outputs:[{dims:l.dims,dataType:d}],dispatchGroup:{x:Math.ceil(ShapeUtil2.size(g[0].dims)/64/4)},programUniforms:[{type:12,data:Math.ceil(ShapeUtil2.size(l.dims)/4)}]})}),abs2=l=>{l.compute(createElementwiseProgramInfo2(l.inputs[0],"Abs","abs"))},acos2=l=>{l.compute(createElementwiseProgramInfo2(l.inputs[0],"Acos","acos"))},acosh=l=>{l.compute(createElementwiseProgramInfo2(l.inputs[0],"Acosh","acosh"))},asin2=l=>{l.compute(createElementwiseProgramInfo2(l.inputs[0],"Asin","asin"))},asinh=l=>{l.compute(createElementwiseProgramInfo2(l.inputs[0],"Asinh","asinh"))},atan2=l=>{l.compute(createElementwiseProgramInfo2(l.inputs[0],"Atan","atan"))},atanh=l=>{l.compute(createElementwiseProgramInfo2(l.inputs[0],"Atanh","atanh"))},parseCastAttributes2=l=>createAttributeWithCacheKey2(l),cast2=(l,n)=>{let u;switch(n.to){case 10:u="vec4<f16>";break;case 1:u="vec4<f32>";break;case 12:u="vec4<u32>";break;case 6:u="vec4<i32>";break;case 9:u="vec4<bool>";break;default:throw new RangeError(`not supported type (specified in attribute 'to' from 'Cast' operator): ${n.to}`)}l.compute(createElementwiseProgramInfo2(l.inputs[0],"Cast",u,void 0,n.cacheKey,n.to))},generateClipAttributesFromInputs2=l=>{const n=l.length>=2&&l[1].data!==0?l[1].getFloat32Array()[0]:MIN_CLIP2,u=l.length>=3&&l[2].data!==0?l[2].getFloat32Array()[0]:MAX_CLIP2;return createAttributeWithCacheKey2({min:n,max:u})},clip2=(l,n)=>{const u=l.inputs.length===1?n:generateClipAttributesFromInputs2(l.inputs),p=tensorTypeToWsglValueType(l.inputs[0].dataType);l.compute(createElementwiseProgramInfo2(l.inputs[0],"Clip",v=>`clamp(${v}, clip_min_, clip_max_)`,`
    const clip_min_: vec4<${p}> = vec4(${p}(${u.min}));
    const clip_max_: vec4<${p}> = vec4(${p}(${u.max}));
`,u.cacheKey),{inputs:[0]})},ceil2=l=>{l.compute(createElementwiseProgramInfo2(l.inputs[0],"Ceil","ceil"))},cos2=l=>{l.compute(createElementwiseProgramInfo2(l.inputs[0],"Cos","cos"))},cosh=l=>{l.compute(createElementwiseProgramInfo2(l.inputs[0],"Cosh","cosh"))},parseAlphaAttributes=l=>createAttributeWithCacheKey2(l),elu2=(l,n)=>{const u=tensorTypeToWsglValueType(l.inputs[0].dataType);l.compute(createElementwiseProgramInfo2(l.inputs[0],"Elu",p=>`elu_vf32(${p})`,`
  const elu_alpha_ = ${u}(${n.alpha});

  fn elu_f32(a: ${u}) -> ${u} {
  return select((exp(a) - 1.0) * elu_alpha_, a, a >= 0.0);
  }

  fn elu_vf32(v: vec4<${u}>) -> vec4<${u}> {
  return vec4(elu_f32(v.x), elu_f32(v.y), elu_f32(v.z), elu_f32(v.w));
  }`,n.cacheKey))},erfImpl=(l="f32")=>`
const r0: ${l} = 0.3275911;
const r1: ${l} = 0.254829592;
const r2: ${l} = -0.284496736;
const r3: ${l} = 1.421413741;
const r4: ${l} = -1.453152027;
const r5: ${l} = 1.061405429;

fn erf_vf32(v: vec4<${l}>) -> vec4<${l}> {
  let absv = abs(v);
  let x = 1.0 / (1.0 + r0 * absv);
  return sign(v) * (1.0 - ((((r5 * x + r4) * x + r3) * x + r2) * x + r1) * x * exp(-absv * absv));
}`,erf=l=>{const n=tensorTypeToWsglValueType(l.inputs[0].dataType);l.compute(createElementwiseProgramInfo2(l.inputs[0],"Erf",u=>`erf_vf32(${u})`,erfImpl(n)))},exp2=l=>{l.compute(createElementwiseProgramInfo2(l.inputs[0],"Exp","exp"))},floor2=l=>{l.compute(createElementwiseProgramInfo2(l.inputs[0],"Floor","floor"))},gelu=l=>{const n=tensorTypeToWsglValueType(l.inputs[0].dataType);l.compute(createElementwiseProgramInfo2(l.inputs[0],"Gelu",u=>`0.5 * ${u} * (1.0 + erf_vf32(${u} * 0.7071067811865475))`,erfImpl(n)))},leakyRelu2=(l,n)=>{const u=tensorTypeToWsglValueType(l.inputs[0].dataType);l.compute(createElementwiseProgramInfo2(l.inputs[0],"LeakyRelu",p=>`select(leaky_relu_alpha_ * ${p}, ${p}, ${p} >= vec4<${u}>(0.0))`,`const leaky_relu_alpha_ = ${u}(${n.alpha});`,n.cacheKey))},not3=l=>{l.compute(createElementwiseProgramInfo2(l.inputs[0],"Not",n=>`!${n}`))},neg2=l=>{l.compute(createElementwiseProgramInfo2(l.inputs[0],"Neg",n=>`-${n}`))},reciprocal=l=>{l.compute(createElementwiseProgramInfo2(l.inputs[0],"Reciprocal",n=>`1.0/${n}`))},relu2=l=>{const n=tensorTypeToWsglValueType(l.inputs[0].dataType);l.compute(createElementwiseProgramInfo2(l.inputs[0],"Relu",u=>`select(vec4<${n}>(0.0), ${u}, ${u} > vec4<${n}>(0.0))`))},sigmoid2=l=>{l.compute(createElementwiseProgramInfo2(l.inputs[0],"Sigmoid",n=>`(1.0 / (1.0 + exp(-${n})))`))},parseHardSigmoidAttributes=l=>createAttributeWithCacheKey2(l),hardSigmoid=(l,n)=>{const u=tensorTypeToWsglValueType(l.inputs[0].dataType);l.compute(createElementwiseProgramInfo2(l.inputs[0],"HardSigmoid",p=>`max(vec4<${u}>(0.0), min(vec4<${u}>(1.0), ${n.alpha} * ${p} + vec4<${u}>(${n.beta})))`,void 0,n.cacheKey))},sin2=l=>{l.compute(createElementwiseProgramInfo2(l.inputs[0],"Sin","sin"))},sinh=l=>{l.compute(createElementwiseProgramInfo2(l.inputs[0],"Sinh","sinh"))},sqrt2=l=>{l.compute(createElementwiseProgramInfo2(l.inputs[0],"Sqrt","sqrt"))},tan2=l=>{l.compute(createElementwiseProgramInfo2(l.inputs[0],"Tan","tan"))},tanhExpression=l=>`sign(${l}) * (1 - exp(-2 * abs(${l}))) / (1 + exp(-2 * abs(${l})))`,tanh2=l=>{l.compute(createElementwiseProgramInfo2(l.inputs[0],"Tanh",tanhExpression))},fastGeluImpl=(l="f32")=>`
const fast_gelu_a: ${l} = 0.5;
const fast_gelu_b: ${l} = 0.7978845608028654;
const fast_gelu_c: ${l} = 0.035677408136300125;

fn tanh_v(v: vec4<${l}>) -> vec4<${l}> {
  return ${tanhExpression("v")};
}
`,fastGeluExpression=l=>`(fast_gelu_a + fast_gelu_a * tanh_v(${l} * (fast_gelu_c * ${l} * ${l} + fast_gelu_b))) * ${l}`,fastGelu=l=>{const n=tensorTypeToWsglValueType(l.inputs[0].dataType);l.compute(createElementwiseProgramInfo2(l.inputs[0],"FastGelu",fastGeluExpression,fastGeluImpl(n),void 0,l.inputs[0].dataType))},thresholdedRelu=(l,n)=>{const u=tensorTypeToWsglValueType(l.inputs[0].dataType);return l.compute(createElementwiseProgramInfo2(l.inputs[0],"ThresholdedRelu",p=>`select(vec4<${u}>(0.0), ${p}, ${p} > thresholded_relu_alpha_)`,`const thresholded_relu_alpha_ = vec4<${u}>(${n.alpha});`,n.cacheKey)),0},log3=l=>{l.compute(createElementwiseProgramInfo2(l.inputs[0],"Log","log"))},quickGeluImpl=(l,n)=>`
const alpha = vec4<${l}>(${n});
const one = ${l}(1.0);
const zero = ${l}(0.0);

fn quick_gelu_impl(x: vec4<${l}>) -> vec4<${l}> {
  let v = x *alpha;
  var x1 : vec4<${l}>;
  for (var i = 0; i < 4; i = i + 1) {
    if (v[i] >= zero) {
      x1[i] = one / (one + exp(-v[i]));
    } else {
      x1[i] = one - one / (one + exp(v[i]));
    }
  }
  return x * x1;
}
`,quickGeluExpression=l=>`quick_gelu_impl(${l})`,quickgelu=(l,n)=>{const u=tensorTypeToWsglValueType(l.inputs[0].dataType);l.compute(createElementwiseProgramInfo2(l.inputs[0],"QuickGelu",quickGeluExpression,quickGeluImpl(u,n.alpha),n.cacheKey,l.inputs[0].dataType))}}}),validateInputs31,createBiasSplitGeluProgramInfo,biasSplitGelu,init_bias_split_gelu=__esm({"web/lib/wasm/jsep/webgpu/ops/bias-split-gelu.ts"(){init_util2(),init_common(),init_unary_op2(),validateInputs31=l=>{if(l[0].dims.length!==3)throw new Error("input should have 3 dimensions");if(![2560,5120,10240].includes(l[0].dims[2]))throw new Error("hidden state should be 2560, 5120 or 10240");if(l[1].dims.length!==1)throw new Error("bias is expected to have 1 dimensions");if(l[0].dims[2]!==l[1].dims[0])throw new Error("last dimension of input and bias are not the same")},createBiasSplitGeluProgramInfo=l=>{const n=l[0].dims.slice();n[2]=n[2]/2;const u=inputVariable("input",l[0].dataType,l[0].dims,4),p=inputVariable("bias",l[0].dataType,[l[0].dims[2]],4),v=outputVariable("output",l[0].dataType,n,4),d=ShapeUtil2.size(n)/4,g=tensorTypeToWsglStorageType(l[0].dataType);return{name:"BiasSplitGelu",getRunData:()=>({outputs:[{dims:n,dataType:l[0].dataType}],dispatchGroup:{x:Math.ceil(d/64)}}),getShaderSource:C=>`
  const M_SQRT2 = sqrt(2.0);
  const halfChannels = ${l[0].dims[2]/4/2}u;

  ${C.declareVariables(u,p,v)}

  ${erfImpl(g)}

  ${C.mainStart()}
    ${C.guardAgainstOutOfBoundsWorkgroupSizes(d)}
    let biasIdx = global_idx % halfChannels;
    let batchIndex = global_idx / halfChannels;
    let inputOffset = biasIdx + batchIndex * halfChannels * 2;
    let valueLeft = input[inputOffset] + bias[biasIdx];
    let valueRight = input[inputOffset + halfChannels] + bias[biasIdx + halfChannels];
    let geluRight = valueRight * 0.5 * (erf_vf32(valueRight / M_SQRT2) + 1);

    ${v.setByOffset("global_idx","valueLeft * geluRight")}
  }`}},biasSplitGelu=l=>{validateInputs31(l.inputs),l.compute(createBiasSplitGeluProgramInfo(l.inputs))}}}),createBinaryOpProgramShader,createBinaryOpProgramInfo,runBinaryOp,add3,div2,equal2,mul2,pow2,sub2,greater2,less2,greaterOrEqual,lessOrEqual,init_binary_op2=__esm({"web/lib/wasm/jsep/webgpu/ops/binary-op.ts"(){init_wasm_common(),init_util2(),init_common(),createBinaryOpProgramShader=(l,n,u,p,v,d,g,_,C,E,w,m)=>{let y,e;typeof _=="string"?y=e=(V,$)=>`${_}((${V}),(${$}))`:typeof _=="function"?y=e=_:(y=_.scalar,e=_.vector);const P=outputVariable("outputData",w,p.length,4),O=inputVariable("aData",C,n.length,4),U=inputVariable("bData",E,u.length,4);let W;if(v)if(d){const V=ShapeUtil2.size(n)===1,$=ShapeUtil2.size(u)===1,b=n.length>0&&n[n.length-1]%4===0,H=u.length>0&&u[u.length-1]%4===0;V||$?W=P.setByOffset("global_idx",e(V?`${O.type.value}(${O.getByOffset("0")}.x)`:O.getByOffset("global_idx"),$?`${U.type.value}(${U.getByOffset("0")}.x)`:U.getByOffset("global_idx"))):W=`
            let outputIndices = ${P.offsetToIndices("global_idx * 4u")};
            let offsetA = ${O.broadcastedIndicesToOffset("outputIndices",P)};
            let offsetB = ${U.broadcastedIndicesToOffset("outputIndices",P)};
            ${P.setByOffset("global_idx",e(g||b?O.getByOffset("offsetA / 4u"):`${O.type.value}(${O.getByOffset("offsetA / 4u")}[offsetA % 4u])`,g||H?U.getByOffset("offsetB / 4u"):`${U.type.value}(${U.getByOffset("offsetB / 4u")}[offsetB % 4u])`))}
          `}else W=P.setByOffset("global_idx",e(O.getByOffset("global_idx"),U.getByOffset("global_idx")));else{if(!d)throw new Error("no necessary to use scalar implementation for element-wise binary op implementation.");const V=($,b,H="")=>{const G=`aData[indexA${b}][componentA${b}]`,Y=`bData[indexB${b}][componentB${b}]`;return`
            let outputIndices${b} = ${P.offsetToIndices(`global_idx * 4u + ${b}u`)};
            let offsetA${b} = ${O.broadcastedIndicesToOffset(`outputIndices${b}`,P)};
            let offsetB${b} = ${U.broadcastedIndicesToOffset(`outputIndices${b}`,P)};
            let indexA${b} = offsetA${b} / 4u;
            let indexB${b} = offsetB${b} / 4u;
            let componentA${b} = offsetA${b} % 4u;
            let componentB${b} = offsetB${b} % 4u;
            ${$}[${b}] = ${H}(${y(G,Y)});
          `};w===9?W=`
            var data = vec4<u32>(0);
            ${V("data",0,"u32")}
            ${V("data",1,"u32")}
            ${V("data",2,"u32")}
            ${V("data",3,"u32")}
            outputData[global_idx] = dot(vec4<u32>(0x1, 0x100, 0x10000, 0x1000000), vec4<u32>(data));`:W=`
            ${V("outputData[global_idx]",0)}
            ${V("outputData[global_idx]",1)}
            ${V("outputData[global_idx]",2)}
            ${V("outputData[global_idx]",3)}
          `}return`
        ${l.registerUniform("vec_size","u32").declareVariables(O,U,P)}

        ${m??""}

        ${l.mainStart()}
        ${l.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size")}
        ${W}
      }`},createBinaryOpProgramInfo=(l,n,u,p,v,d,g=u.dataType)=>{const _=!ShapeUtil2.areEqual(u.dims,p.dims);let C=u.dims,E=ShapeUtil2.size(u.dims),w=!1,m=!1;const y=[_];if(_){const e=BroadcastUtil2.calcShape(u.dims,p.dims,!1);if(!e)throw new Error("Can't perform binary op on the given tensors");C=e,E=ShapeUtil2.size(C);const P=ShapeUtil2.size(u.dims)===1,O=ShapeUtil2.size(p.dims)===1,U=u.dims.length>0&&u.dims[u.dims.length-1]%4===0,W=p.dims.length>0&&p.dims[p.dims.length-1]%4===0;y.push(P),y.push(O),y.push(U),y.push(W);let V=1;for(let $=1;$<C.length;$++){const b=u.dims[u.dims.length-$]??1,H=p.dims[p.dims.length-$]??1;if(b===H)V*=b;else break}V%4===0?(m=!0,w=!0):(P||O||U||W)&&(w=!0)}else w=!0;return y.push(w),{name:l,shaderCache:{hint:n+y.map(e=>e.toString()).join("_"),inputDependencies:["rank","rank"]},getShaderSource:e=>createBinaryOpProgramShader(e,u.dims,p.dims,C,w,_,m,v,u.dataType,p.dataType,g,d),getRunData:()=>({outputs:[{dims:C,dataType:g}],dispatchGroup:{x:Math.ceil(E/64/4)},programUniforms:[{type:12,data:Math.ceil(ShapeUtil2.size(C)/4)},...createTensorShapeVariables(u.dims,p.dims,C)]})}},runBinaryOp=(l,n,u,p,v,d)=>{l.compute(createBinaryOpProgramInfo(n,v??"",l.inputs[0],l.inputs[1],u,p,d))},add3=l=>{runBinaryOp(l,"Add",(n,u)=>`${n}+${u}`)},div2=l=>{runBinaryOp(l,"Div",(n,u)=>`${n}/${u}`)},equal2=l=>{runBinaryOp(l,"Equal",{scalar:(n,u)=>`u32(${n}==${u})`,vector:(n,u)=>`vec4<u32>(${n}==${u})`},void 0,void 0,9)},mul2=l=>{runBinaryOp(l,"Mul",(n,u)=>`${n}*${u}`)},pow2=l=>{const n=inputVariable("input",l.inputs[0].dataType,l.inputs[0].dims).type.value;runBinaryOp(l,"Pow",{scalar:(p,v)=>`pow_custom(${p},${v})`,vector:(p,v)=>`pow_vector_custom(${p},${v})`},`
    fn pow_custom(a : ${n}, b : ${n}) -> ${n} {
      if (b == ${n}(0.0)) {
        return ${n}(1.0);
      } else if (a < ${n}(0.0) && f32(b) != floor(f32(b))) {
        return ${n}(pow(f32(a), f32(b))); // NaN
      }
      return select(sign(a), ${n}(1.0), round(f32(abs(b) % ${n}(2.0))) != 1.0) * ${n}(${n==="i32"?"round":""}(pow(f32(abs(a)), f32(b))));
    }
    fn pow_vector_custom(a : vec4<${n}>, b : vec4<${n}>) -> vec4<${n}> {
      // TODO: implement vectorized pow
      return vec4<${n}>(pow_custom(a.x, b.x), pow_custom(a.y, b.y), pow_custom(a.z, b.z), pow_custom(a.w, b.w));
    }
      `)},sub2=l=>{runBinaryOp(l,"Sub",(n,u)=>`${n}-${u}`)},greater2=l=>{runBinaryOp(l,"Greater",{scalar:(n,u)=>`u32(${n}>${u})`,vector:(n,u)=>`vec4<u32>(${n}>${u})`},void 0,void 0,9)},less2=l=>{runBinaryOp(l,"Less",{scalar:(n,u)=>`u32(${n}<${u})`,vector:(n,u)=>`vec4<u32>(${n}<${u})`},void 0,void 0,9)},greaterOrEqual=l=>{runBinaryOp(l,"GreaterOrEqual",{scalar:(n,u)=>`u32(${n}>=${u})`,vector:(n,u)=>`vec4<u32>(${n}>=${u})`},void 0,void 0,9)},lessOrEqual=l=>{runBinaryOp(l,"LessOrEqual",{scalar:(n,u)=>`u32(${n}<=${u})`,vector:(n,u)=>`vec4<u32>(${n}<=${u})`},void 0,void 0,9)}}}),validateInputs32,calculateInputIndexImpl,assignOutputData,createConcatProgramInfo,concat2,parseConcatAttributes2,init_concat2=__esm({"web/lib/wasm/jsep/webgpu/ops/concat.ts"(){init_wasm_common(),init_util2(),init_attribute_with_cache_key2(),init_common(),validateInputs32=(l,n)=>{if(!l||l.length<1)throw new Error("too few inputs");const u=0,p=l[u],v=p.dataType,d=p.dims.length;l.forEach((g,_)=>{if(_!==u){if(g.dataType!==v)throw new Error("input tensors should be one type");if(g.dims.length!==d)throw new Error("input tensors should have the same shape");g.dims.forEach((C,E)=>{if(E!==n&&C!==p.dims[E])throw new Error("non concat dimensions must match")})}})},calculateInputIndexImpl=(l,n)=>`
  fn calculateInputIndex(index: u32) -> u32 {
    let sizeInConcatAxis = array<u32, ${l}u>(${n});
    for (var i: u32 = 0u; i < ${l}; i += 1u ) {
      if (index < sizeInConcatAxis[i]) {
        return i;
      }
    }
    return ${l}u;
  }`,assignOutputData=(l,n)=>{const u=l.length,p=[];for(let v=0;v<u;++v){const d=n.setByOffset("global_idx",l[v].getByIndices("indices"));u===1?p.push(d):v===0?p.push(`if (inputIndex == ${v}u) { ${d} }`):v===u-1?p.push(`else { ${d} }`):p.push(`else if (inputIndex == ${v}) { ${d} }`)}return p.join(`
`)},createConcatProgramInfo=(l,n,u,p)=>{const v=ShapeUtil2.size(u),d=new Array(l.length),g=new Array(l.length);let _=0;const C=[],E=[],w=[{type:12,data:v}];for(let O=0;O<l.length;++O)_+=l[O].dims[n],d[O]=_,E.push(l[O].dims.length),g[O]=inputVariable(`input${O}`,p,E[O]),C.push("rank"),w.push({type:12,data:d[O]});for(let O=0;O<l.length;++O)w.push(...createTensorShapeVariables(l[O].dims));w.push(...createTensorShapeVariables(u));const m=outputVariable("output",p,u.length),y=m.indicesGet("indices",n),e=Array.from(Array(d.length).keys()).map(O=>`uniforms.sizeInConcatAxis${O}`).join(","),P=O=>`

  ${(()=>{O.registerUniform("outputSize","u32");for(let U=0;U<l.length;U++)O.registerUniform(`sizeInConcatAxis${U}`,"u32");return O.declareVariables(...g,m)})()}

  ${calculateInputIndexImpl(d.length,e)}

  ${O.mainStart()}
    ${O.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}

    var indices = ${m.offsetToIndices("global_idx")};

    let inputIndex = calculateInputIndex(${y});
    if (inputIndex != 0u) {
      let sizeInConcatAxis = array<u32, ${d.length}u>(${e});
      ${y} -= sizeInConcatAxis[inputIndex - 1u];
    }

    ${assignOutputData(g,m)}
  }`;return{name:"Concat",shaderCache:{hint:`${n}`,inputDependencies:C},getRunData:()=>({outputs:[{dims:u,dataType:p}],dispatchGroup:{x:Math.ceil(v/64)},programUniforms:w}),getShaderSource:P}},concat2=(l,n)=>{const u=l.inputs,p=u[0].dims,v=ShapeUtil2.normalizeAxis(n.axis,p.length);validateInputs32(u,v);const d=p.slice();d[v]=u.reduce((_,C)=>_+(C.dims.length>v?C.dims[v]:0),0);const g=u.filter(_=>ShapeUtil2.size(_.dims)>0);l.compute(createConcatProgramInfo(g,v,d,u[0].dataType),{inputs:g})},parseConcatAttributes2=l=>createAttributeWithCacheKey2({axis:l.axis})}}),getActivationSnippet2,appendActivationUniformsData,appendActivationUniforms,parseInternalActivationAttributes2,init_fuse_utils2=__esm({"web/lib/wasm/jsep/webgpu/ops/fuse-utils.ts"(){init_wasm_common(),init_util2(),getActivationSnippet2=(l,n,u="f32")=>{switch(l.activation){case"Relu":return`value = max(value, ${n}(0.0));`;case"Sigmoid":return`value = (${n}(1.0) / (${n}(1.0) + exp(-value)));`;case"Clip":return`value = clamp(value, ${n}(${u}(uniforms.clip_min)), ${n}(${u}(uniforms.clip_max)));`;case"HardSigmoid":return`value = max(${n}(0.0), min(${n}(1.0), ${u}(uniforms.alpha) * value + ${u}(uniforms.beta)));`;case"LeakyRelu":return`value = select(${u}(uniforms.alpha) * value, value, value >= ${n}(0.0));`;case"":return"";default:throw new Error(`Unsupported activation ${l.activation}`)}},appendActivationUniformsData=(l,n)=>{l.activation==="Clip"?n.push({type:1,data:l.clipMax},{type:1,data:l.clipMin}):l.activation==="HardSigmoid"?n.push({type:1,data:l.alpha},{type:1,data:l.beta}):l.activation==="LeakyRelu"&&n.push({type:1,data:l.alpha})},appendActivationUniforms=(l,n)=>{l.activation==="Clip"?n.push({name:"clip_max",type:"f32"},{name:"clip_min",type:"f32"}):l.activation==="HardSigmoid"?n.push({name:"alpha",type:"f32"},{name:"beta",type:"f32"}):l.activation==="LeakyRelu"&&n.push({name:"alpha",type:"f32"})},parseInternalActivationAttributes2=l=>{const n=(l==null?void 0:l.activation)||"";if(n==="HardSigmoid"){const[u,p]=(l==null?void 0:l.activation_params)||[.2,.5];return{activation:n,alpha:u,beta:p}}else if(n==="Clip"){const[u,p]=(l==null?void 0:l.activation_params)||[MIN_CLIP2,MAX_CLIP2];return{activation:n,clipMax:p,clipMin:u}}else if(n==="LeakyRelu"){const[u]=(l==null?void 0:l.activation_params)||[.01];return{activation:n,alpha:u}}return{activation:n}}}}),typeSnippet,biasSnippet,init_activation_util=__esm({"web/lib/wasm/jsep/webgpu/ops/3rd-party/activation_util.ts"(){typeSnippet=(l,n)=>{switch(l){case 1:return n;case 2:return`vec2<${n}>`;case 3:return`vec3<${n}>`;case 4:return`vec4<${n}>`;default:throw new Error(`${l}-component is not supported.`)}},biasSnippet=l=>`
      ${l?"value = value + getBiasByOutputCoords(coords);":""}
      `}}),utilFunctions,init_conv_util=__esm({"web/lib/wasm/jsep/webgpu/ops/3rd-party/conv_util.ts"(){utilFunctions=l=>`
fn getIndexFromCoords4D(coords : vec4<i32>, shape : vec4<i32>) -> i32 {
  return dot(coords, vec4<i32>(
      shape.y * shape.z * shape.w, shape.z * shape.w, shape.w, 1));
}
fn getOutputIndexFromCoords(coords : vec4<i32>) -> i32 {
  return dot(coords, vec4<i32>(
    i32(${l}.x), i32(${l}.y), i32(${l}.z), 1));
}
`}}),writeDataToSubAVec4Snippet,calculateResultSnippet,makeMatMulPackedVec4Source,writeDataToSubASnippet,readDataFromSubASnippet,makeMatMulPackedSource,matMulReadWriteFnSource,createMatmulProgramInfo2,init_matmul_packed_webgpu=__esm({"web/lib/wasm/jsep/webgpu/ops/3rd-party/matmul_packed_webgpu.ts"(){init_wasm_common(),init_util2(),init_common(),init_fuse_utils2(),init_activation_util(),writeDataToSubAVec4Snippet=(l,n)=>l?`
        mm_Asub[inputRow][inputCol] = mm_readA(batch,
          kStart + inputRow,
          globalRowStart / innerElementSize + inputCol${n?", batchIndices":""});
        `:`
        mm_Asub[inputRow][inputCol] = mm_readA(batch,
          globalRow + innerRow,
          kStart / innerElementSize + inputCol${n?", batchIndices":""});
        `,calculateResultSnippet=(l,n)=>l?`
        let ACached0 = mm_Asub[k * innerElementSize][localRow];
        let ACached1 = mm_Asub[k * innerElementSize + 1][localRow];
        let ACached2 = mm_Asub[k * innerElementSize + 2][localRow];
        ${n===3?"":"let ACached3 = mm_Asub[k * innerElementSize + 3][localRow];"}
        for (var i = 0; i < rowPerThread; i = i + 1) {
          acc[i] = BCached0 * ACached0[i] + acc[i];
          acc[i] = BCached1 * ACached1[i] + acc[i];
          acc[i] = BCached2 * ACached2[i] + acc[i];
          ${n===3?"":"acc[i] = BCached3 * ACached3[i] + acc[i];"}
        }`:`
        for (var i = 0; i < rowPerThread; i = i + 1) {
          let ACached = mm_Asub[tileRow + i][k];
          acc[i] = BCached0 * ACached.x + acc[i];
          acc[i] = BCached1 * ACached.y + acc[i];
          acc[i] = BCached2 * ACached.z + acc[i];
          ${n===3?"":"acc[i] = BCached3 * ACached.w + acc[i];"}
        }`,makeMatMulPackedVec4Source=(l,n,u="f32",p,v=!1,d=32,g=!1,_=32)=>{const C=n[1]*l[1],E=n[0]*l[0],w=v?C:d,m=v?d:C,y=w/n[0],e=d/n[1];if(!((v&&y===4&&l[1]===4||!v&&(y===3||y===4))&&w%n[0]===0&&d%n[1]===0&&l[0]===4))throw new Error(`If transposeA ${v} is true, innerElementSize ${y} and workPerThread[1] ${l[1]} must be 4.
      Otherwise, innerElementSize ${y} must be 3 or 4.
  tileAWidth ${w} must be divisible by workgroupSize[0]${n[0]}. tileInner ${d} must be divisible by workgroupSize[1] ${n[1]}. colPerThread ${l[0]} must be 4.`);return`
var<workgroup> mm_Asub: array<array<vec${y}<${u}>, ${w/y}>, ${m}>;
var<workgroup> mm_Bsub: array<array<vec4<${u}>, ${E/l[0]}>, ${d}>;

const rowPerThread = ${l[1]};
const colPerThread = ${l[0]};
const innerElementSize = ${y};
const tileInner = ${d};

@compute @workgroup_size(${n[0]}, ${n[1]}, ${n[2]})
fn main(@builtin(local_invocation_id) localId : vec3<u32>,
        @builtin(global_invocation_id) globalId : vec3<u32>,
        @builtin(workgroup_id) workgroupId : vec3<u32>) {
  let localRow = i32(localId.y);
  let tileRow = localRow * rowPerThread;
  let tileCol = i32(localId.x);

  let globalRow =i32(globalId.y) * rowPerThread;
  let globalCol = i32(globalId.x);
  let batch = ${g?"0":"i32(globalId.z)"};
  ${p?`let batchIndices = ${p.offsetToIndices("u32(batch)")};`:""}
  let globalRowStart = i32(workgroupId.y) * ${C};

  let num_tiles = ${g?`${Math.ceil(_/d)}`:"(uniforms.dim_inner - 1) / tileInner + 1"};
  var kStart = ${g?`i32(globalId.z) * ${_}`:"0"};

  var acc: array<vec4<${u}>, rowPerThread>;

  // Loop over shared dimension.
  let tileRowB = localRow * ${e};
  for (var t = 0; t < num_tiles; t = t + 1) {
      // Load one tile of A into local memory.
      for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
          let inputRow = tileRow + innerRow;
          let inputCol = tileCol;
          ${writeDataToSubAVec4Snippet(v,p)}
      }

      // Load one tile of B into local memory.
      for (var innerRow = 0; innerRow < ${e}; innerRow = innerRow + 1) {
          let inputRow = tileRowB + innerRow;
          let inputCol = tileCol;
          mm_Bsub[inputRow][inputCol] = mm_readB(batch, kStart + inputRow, globalCol${p?", batchIndices":""});
      }
      kStart = kStart + tileInner;
      workgroupBarrier();

      // Compute acc values for a single thread.
      for (var k = 0; k < tileInner / innerElementSize; k = k + 1) {
          let BCached0 = mm_Bsub[k * innerElementSize][tileCol];
          let BCached1 = mm_Bsub[k * innerElementSize + 1][tileCol];
          let BCached2 = mm_Bsub[k * innerElementSize + 2][tileCol];
          ${y===3?"":"let BCached3 = mm_Bsub[k * innerElementSize + 3][tileCol];"}

          ${calculateResultSnippet(v,y)}
      }

      workgroupBarrier();
  }

  for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      mm_write(batch, globalRow + innerRow, globalCol, acc[innerRow]);
  }
}`},writeDataToSubASnippet=(l,n)=>l?`
            mm_Asub[inputRow][inputCol] = mm_readA(batch,
              kStart + inputRow,
              globalRowStart + inputCol${n?", batchIndices":""});
            `:`
            mm_Asub[inputRow][inputCol] = mm_readA(batch,
              globalRowStart + inputRow,
              kStart + inputCol${n?", batchIndices":""});
            `,readDataFromSubASnippet=l=>l?"let ACached = mm_Asub[k][tileRow + innerRow];":"let ACached = mm_Asub[tileRow + innerRow][k];",makeMatMulPackedSource=(l,n,u="f32",p,v=!1,d=32,g=!1,_=32,C=!1)=>{const E=l[1]*n[1],w=l[0]*n[0],m=v?E:d,y=v?d:E;if(!(y%n[1]===0&&m%n[0]===0&&d%n[1]===0))throw new Error(`tileAHight ${y} must be divisible by workgroupSize[1]${n[1]}, tileAWidth ${m} must be divisible by workgroupSize[0]${n[0]}, tileInner ${d} must be divisible by workgroupSize[1]${n[1]}`);const e=y/n[1],P=m/n[0],O=d/n[1],U=C?`
    let localRow = i32(localId.y);
    let localCol = i32(localId.x);
    let globalRowStart = i32(workgroupId.y) * ${E};
    let globalColStart = i32(workgroupId.x) * ${w};

    // Loop over shared dimension.
    for (var t = 0; t < num_tiles; t = t + 1) {
      // Load one tile of A into local memory.
      for (var inputRow = localRow; inputRow < ${y}; inputRow = inputRow + ${n[1]}) {
        for (var inputCol = localCol; inputCol < ${m}; inputCol = inputCol + ${n[0]}) {
          ${writeDataToSubASnippet(v,p)}
        }
      }
      // Load one tile of B into local memory.
      for (var inputRow = localRow; inputRow < ${d}; inputRow = inputRow + ${n[1]}) {
            for (var inputCol = localCol; inputCol < ${w}; inputCol = inputCol + ${n[0]}) {
          mm_Bsub[inputRow][inputCol] = mm_readB(batch,
            kStart + inputRow,
            globalColStart + inputCol${p?", batchIndices":""});
        }
      }
      kStart = kStart + tileInner;
      workgroupBarrier();

      // Compute acc values for a single thread.
      var BCached : array<${u}, colPerThread>;
      for (var k = 0; k < tileInner; k = k + 1) {
        for (var inner = 0; inner < colPerThread; inner = inner + 1) {
          BCached[inner] = mm_Bsub[k][localCol + inner * ${n[0]}];
        }
        for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
          let ACached = ${v?`mm_Asub[k][localRow + innerRow * ${n[1]}];`:`mm_Asub[localRow + innerRow * ${n[1]}][k];`}
          for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
            acc[innerRow][innerCol] = acc[innerRow][innerCol] +
                ACached * BCached[innerCol];
          }
        }
      }
      workgroupBarrier();
    }
    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      let gRow = globalRowStart + localRow + innerRow * ${n[1]};
      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
        let gCol = globalColStart + localCol + innerCol * ${n[0]};
        mm_write(batch, gRow, gCol, acc[innerRow][innerCol]);
      }
    }
    `:`
let tileRow = i32(localId.y) * rowPerThread;
let tileCol = i32(localId.x) * colPerThread;

let globalRow = i32(globalId.y) * rowPerThread;
let globalCol = i32(globalId.x) * colPerThread;
let globalRowStart = i32(workgroupId.y) * ${E};

let tileRowA = i32(localId.y) * ${e};
let tileColA = i32(localId.x) * ${P};
let tileRowB = i32(localId.y) * ${O};
// Loop over shared dimension.
for (var t = 0; t < num_tiles; t = t + 1) {
  // Load one tile of A into local memory.
  for (var innerRow = 0; innerRow < ${e}; innerRow = innerRow + 1) {
    for (var innerCol = 0; innerCol < ${P}; innerCol = innerCol + 1) {
      let inputRow = tileRowA + innerRow;
      let inputCol = tileColA + innerCol;
      ${writeDataToSubASnippet(v,p)}
    }
  }

  // Load one tile of B into local memory.
  for (var innerRow = 0; innerRow < ${O}; innerRow = innerRow + 1) {
    for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
      let inputRow = tileRowB + innerRow;
      let inputCol = tileCol + innerCol;
      mm_Bsub[inputRow][inputCol] = mm_readB(batch,
        kStart + inputRow,
        globalCol + innerCol${p?", batchIndices":""});
    }
  }
  kStart = kStart + tileInner;
  workgroupBarrier();

  // Compute acc values for a single thread.
  var BCached : array<${u}, colPerThread>;
  for (var k = 0; k < tileInner; k = k + 1) {
    for (var inner = 0; inner < colPerThread; inner = inner + 1) {
      BCached[inner] = mm_Bsub[k][tileCol + inner];
    }

    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      ${readDataFromSubASnippet(v)}
      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
        acc[innerRow][innerCol] = acc[innerRow][innerCol] + ACached * BCached[innerCol];
      }
    }
  }

  workgroupBarrier();
}

for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
  for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
    mm_write(batch, globalRow + innerRow, globalCol + innerCol,
        acc[innerRow][innerCol]);
  }
}
`;return`
  var<workgroup> mm_Asub : array<array<${u}, ${m}>, ${y}>;
  var<workgroup> mm_Bsub : array<array<${u}, ${w}>, ${d}>;
  const rowPerThread = ${l[1]};
  const colPerThread = ${l[0]};
  const tileInner = ${d};

@compute @workgroup_size(${n[0]}, ${n[1]}, ${n[2]})
fn main(@builtin(local_invocation_id) localId : vec3<u32>,
        @builtin(global_invocation_id) globalId : vec3<u32>,
        @builtin(workgroup_id) workgroupId : vec3<u32>) {
    let batch = ${g?"0":"i32(globalId.z)"};
    ${p?`let batchIndices = ${p.offsetToIndices("u32(batch)")};`:""}
    let num_tiles = ${g?`${Math.ceil(_/d)}`:"(uniforms.dim_inner - 1) / tileInner + 1"};
    var kStart = ${g?`i32(globalId.z) * ${_}`:"0"};

    var acc : array<array<${u}, colPerThread>, rowPerThread>;
    ${U}
  }
`},matMulReadWriteFnSource=(l,n,u,p,v,d=!1)=>{const[g,_,C]=v,[E,w,m,y]=p,e=getBroadcastDims(g,C),P=getBroadcastDims(_,C),O=tensorTypeToWsglStorageType(p[0].type.tensor),U=()=>{const $=w.rank,b=E.rank;let H=`var aIndices: ${w.type.indices};`;for(let G=$-2-1,Y=b-1;G>=0;G--,Y--)H+=`
aIndices[${G}] = ${b>1?`batchIndices[${Y}]`:"batchIndices"};`;return e.forEach(G=>{H+=`
aIndices[${G}] = 0;`}),H+=`
aIndices[${$-2}] = u32(row);
                   aIndices[${$-1}] = u32(colIn);`,H},W=()=>{const $=m.rank,b=E.rank;let H=`var bIndices: ${m.type.indices};`;for(let G=$-2-1,Y=b-1;G>=0;G--,Y--)H+=`
bIndices[${G}] = ${b>1?`batchIndices[${Y}]`:"batchIndices"};`;return P.forEach(G=>{H+=`
bIndices[${G}] = 0;`}),H+=`
bIndices[${$-2}] = u32(row);
                   bIndices[${$-1}] = u32(colIn);`,H};return`
    fn mm_readA(batch: i32, row: i32, colIn: i32, batchIndices: ${E.type.indices}) -> ${typeSnippet(l,O)} {
      var value = ${typeSnippet(l,O)}(0.0);
      let col = colIn * ${l};
      if(row < uniforms.dim_a_outer && col < uniforms.dim_inner)
      {
        ${U()}
        value = ${w.getByIndices("aIndices")};
      }
      return value;
    }

    fn mm_readB(batch: i32, row: i32, colIn: i32, batchIndices: ${E.type.indices}) -> ${typeSnippet(l,O)} {
      var value = ${typeSnippet(l,O)}(0.0);
      let col = colIn * ${l};
      if(row < uniforms.dim_inner && col < uniforms.dim_b_outer)
      {
        ${W()}
        value = ${m.getByIndices("bIndices")};
      }
      return value;
    }

    fn mm_write(batch: i32, row: i32, colIn: i32, valueIn: ${typeSnippet(l,O)}) {
      let col = colIn * ${l};
      if (row < uniforms.dim_a_outer && col < uniforms.dim_b_outer) {
        var value = valueIn;
        let coords = vec3<i32>(batch, row, colIn);
        ${n?`value = value + ${d?"bias[colIn]":`${typeSnippet(l,O)}(bias[row])`};`:""}
        ${u}
        ${y.setByIndices("vec3<u32>(coords)","value")}
      }
    }
    `},createMatmulProgramInfo2=(l,n,u,p,v=!1)=>{const d=l[0].dims,g=l[1].dims,_=d.slice(0,-2),C=g.slice(0,-2),E=p?p.slice(0,-2):u.slice(0,-2),w=ShapeUtil2.size(E),m=d[d.length-2],y=d[d.length-1],e=g[g.length-1],P=y%4===0&&e%4===0,O=m<=8?[4,1,1]:[4,4,1],U=[8,8,1],W=[Math.ceil(e/U[0]/O[0]),Math.ceil(m/U[1]/O[1]),Math.ceil(w/U[2]/O[2])],V=P?4:1,$=[..._,m,y/V],b=$.length,H=[...C,y,e/V],G=H.length,Y=[w,m,e/V],X=[{type:6,data:m},{type:6,data:e},{type:6,data:y}];appendActivationUniformsData(n,X),X.push(...createTensorShapeVariables(E,$,H));const j=["rank","rank"],h=l.length>2;h&&(X.push(...createTensorShapeVariables(l[2].dims)),j.push("rank")),X.push(...createTensorShapeVariables(Y));const ae=le=>{const he=E.length,pe=internalVariable("batchDims",l[0].dataType,he,1),Ae=tensorTypeToWsglStorageType(l[0].dataType),ge=inputVariable("a",l[0].dataType,b,V),ye=inputVariable("b",l[1].dataType,G,V),we=outputVariable("result",l[0].dataType,Y.length,V),be=[ge,ye];if(h){const Ue=v?V:1;be.push(inputVariable("bias",l[2].dataType,l[2].dims.length,Ue))}const Ve=[{name:"dim_a_outer",type:"i32"},{name:"dim_b_outer",type:"i32"},{name:"dim_inner",type:"i32"}];appendActivationUniforms(n,Ve);const Ne=tensorTypeToWsglStorageType(we.type.tensor),p0=getActivationSnippet2(n,we.type.value,Ne),k0=matMulReadWriteFnSource(V,h,p0,[pe,ge,ye,we],[_,C,E],v);return`
  ${le.registerUniforms(Ve).registerInternalVariables(pe).declareVariables(...be,we)}
  ${k0}
  ${P?makeMatMulPackedVec4Source(O,U,Ae,pe):makeMatMulPackedSource(O,U,Ae,pe)}
                   `};return{name:"MatMul",shaderCache:{hint:`${O};${n.activation};${P};${v}`,inputDependencies:j},getRunData:()=>({outputs:[{dims:u,dataType:l[0].dataType}],dispatchGroup:{x:W[0],y:W[1],z:W[2]},programUniforms:X}),getShaderSource:ae}}}}),conv2dCommonSnippet,createConv2DMatMulProgramInfo,init_conv2d_mm_webgpu=__esm({"web/lib/wasm/jsep/webgpu/ops/3rd-party/conv2d_mm_webgpu.ts"(){init_wasm_common(),init_log(),init_common(),init_fuse_utils2(),init_activation_util(),init_conv_util(),init_matmul_packed_webgpu(),conv2dCommonSnippet=(l,n,u,p,v=!1,d,g=4,_=4,C=4,E="f32")=>{const w=h=>{switch(h){case 1:return"resData = x[xIndex];";case 3:return`resData = vec3<${E}>(x[xIndex], x[xIndex + 1], x[xIndex + 2]);`;case 4:return"resData = x[xIndex / 4];";default:throw new Error(`innerElementSize ${h} is not supported.`)}},m=h=>{switch(h){case 1:return"return w[row * i32(uniforms.w_shape[3]) + colIn];";case 4:return"return w[row * i32(uniforms.w_shape[3]) / 4 + colIn];";default:throw new Error(`innerElementSize ${h} is not supported.`)}},y=l?`
    let coord = vec4<i32>(batch, xRow, xCol, xCh);
    `:`
    let coord = vec4<i32>(batch, xCh, xRow, xCol);
    `,e=l?`
    let coords = vec4<i32>(
      batch,
      row / outWidth,
      row % outWidth,
      col);
    `:`
    let coords = vec4<i32>(
      batch,
      row,
      col / outWidth,
      col % outWidth);
    `,P=l?"i32(uniforms.x_shape[1])":"i32(uniforms.x_shape[2])",O=l?"i32(uniforms.x_shape[2])":"i32(uniforms.x_shape[3])",U=l?"row":"col",W=l?"col":"row",V=`
    let inChannels = i32(uniforms.w_shape[2]);
    let outWidth = ${l?"i32(uniforms.result_shape[2])":"i32(uniforms.result_shape[3])"};
    let outRow = ${U} / outWidth;
    let outCol = ${U} % outWidth;

    let WRow = ${W} / (i32(uniforms.w_shape[1]) * inChannels);
    let WCol = ${W} / inChannels % i32(uniforms.w_shape[1]);
    let xRow = outRow * uniforms.stride[0] + uniforms.dilation[0] * WRow - uniforms.pad[0];
    let xCol = outCol * uniforms.stride[1] + uniforms.dilation[1] * WCol - uniforms.pad[1];
    let xCh = ${W} % inChannels;
    var resData = ${typeSnippet(g,E)}(0.0);
    // The bounds checking is always needed since we use it to pad zero for
    // the 'same' padding type.
    if (xRow >= 0 && xRow < ${P} && xCol >= 0 && xCol < ${O}) {
      ${y}
      let xIndex = getIndexFromCoords4D(coord, vec4<i32>(uniforms.x_shape));
      ${w(g)}
    }
    return resData;`,$=l?n&&p?`
    let col = colIn * ${g};
    ${V}`:`
    let col = colIn * ${g};
    if (row < uniforms.dim_a_outer && col < uniforms.dim_inner) {
      ${V}
    }
    return ${typeSnippet(g,E)}(0.0);`:p&&u?`
    let col = colIn * ${g};
    ${V}`:`
    let col = colIn * ${g};
    if (row < uniforms.dim_inner && col < uniforms.dim_b_outer) {
      ${V}
    }
    return ${typeSnippet(g,E)}(0.0);`,b=`${m(_)}`,H=typeSnippet(C,E),G=typeSnippet(l?g:_,E),Y=typeSnippet(l?_:g,E),X=getActivationSnippet2(d,H,E);return`
    fn mm_readA(batch: i32, row : i32, colIn : i32) -> ${G} {
      ${l?$:b}
    }

    fn mm_readB(batch: i32, row : i32, colIn : i32) -> ${Y} {
      ${l?b:$}
    }

    fn mm_write(batch: i32, row : i32, colIn : i32, valueIn : ${H}) {
      let col = colIn * ${C};
      if (row < uniforms.dim_a_outer && col < uniforms.dim_b_outer)
      {
      var value = valueIn;
      let outWidth = ${l?"i32(uniforms.result_shape[2])":"i32(uniforms.result_shape[3])"};
      ${e}
      ${biasSnippet(v)}
      ${X}
      setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], value);
      }
    }`},createConv2DMatMulProgramInfo=(l,n,u,p,v,d,g,_)=>{const C=n.format==="NHWC",E=C?l[0].dims[3]:l[0].dims[1],w=u[0],m=C?u[2]:u[3],y=C?u[1]:u[2],e=C?u[3]:u[1],P=C&&(E%4===0||E%3===0)&&e%4===0,O=C?e:m*y,U=C?m*y:e,W=[8,8,1],V=p<=8?[4,1,1]:[4,4,1],$=[Math.ceil(O/W[0]/V[0]),Math.ceil(U/W[1]/V[1]),Math.ceil(w/W[2]/V[2])];LOG_DEBUG("verbose",()=>`[conv2d_mm_webgpu] dispatch = ${$}`);const b=P?C&&E%4!==0?3:4:1,H=W[1]*V[1],G=W[0]*V[0],Y=Math.max(W[0]*b,W[1]),X=p%H===0,j=v%G===0,h=d%Y===0,ae=P?[b,4,4]:[1,1,1],le=[{type:6,data:p},{type:6,data:v},{type:6,data:d},{type:6,data:[n.pads[0],n.pads[1]]},{type:6,data:n.strides},{type:6,data:n.dilations}];appendActivationUniformsData(n,le),le.push(...createTensorShapeVariables(l[0].dims,l[1].dims));const he=["rank","rank"];g&&(le.push(...createTensorShapeVariables(l[2].dims)),he.push("rank")),le.push(...createTensorShapeVariables(u));const pe=Ae=>{const ge=[{name:"dim_a_outer",type:"i32"},{name:"dim_b_outer",type:"i32"},{name:"dim_inner",type:"i32"},{name:"pad",type:"i32",length:2},{name:"stride",type:"i32",length:2},{name:"dilation",type:"i32",length:2}];appendActivationUniforms(n,ge);const ye=P?4:1,we=tensorTypeToWsglStorageType(l[0].dataType);let be=`
      fn setOutputAtIndex(flatIndex : i32, value : ${P?`vec4<${we}>`:we}) {
        result[flatIndex] = ${P?`vec4<${we}>`:we}(value);
      }
      fn setOutputAtCoords(d0 : i32, d1 : i32, d2 : i32, d3 : i32, value : ${P?`vec4<${we}>`:we}) {
        let flatIndex = getOutputIndexFromCoords(vec4<i32>(d0, d1, d2, d3));
        setOutputAtIndex(flatIndex ${P?"/ 4":""}, value);
      }`;const Ve=inputVariable("x",l[0].dataType,l[0].dims.length,b===3?1:b),Ne=inputVariable("w",l[1].dataType,l[1].dims.length,ye),p0=[Ve,Ne],k0=outputVariable("result",l[0].dataType,u.length,ye);if(g){const Ue=inputVariable("bias",l[2].dataType,l[2].dims.length,ye);p0.push(Ue),be+=`
        fn getBiasByOutputCoords(coords : vec4<i32>) -> ${P?`vec4<${we}>`:we} {
          return bias[coords.${C?"w":"y"}${P?"/ 4":""}];
        }`}return`
        ${utilFunctions("uniforms.result_strides")}
        //struct Uniforms { xShape : vec4<i32>, wShape : vec4<i32>, outShape : vec4<i32>,
        //  outShapeStrides: vec3<i32>, filterDims : vec2<i32>, pad : vec2<i32>, stride : vec2<i32>,
        //  dilation : vec2<i32>, dimAOuter : i32, dimBOuter : i32, dimInner : i32 };
        ${Ae.registerUniforms(ge).declareVariables(...p0,k0)}
        ${be}
        ${conv2dCommonSnippet(C,X,j,h,g,n,ae[0],ae[1],ae[2],we)}
        ${P?makeMatMulPackedVec4Source(V,W,we,void 0,!C,Y):makeMatMulPackedSource(V,W,we,void 0,!C,Y,!1,void 0,_)}`};return{name:"Conv2DMatMul",shaderCache:{hint:`${n.cacheKey};${b};${P};${X};${j};${h};${H};${G};${Y}`,inputDependencies:he},getRunData:()=>({outputs:[{dims:u,dataType:l[0].dataType}],dispatchGroup:{x:$[0],y:$[1],z:$[2]},programUniforms:le}),getShaderSource:pe}}}}),arrayProduct,parse3TupleParam,getEffectiveFilterSize,computeDefaultPad,computeOutputShape4D,get3DPadAndOutInfo,computeConv3DInfo,createConv3DNaiveProgramInfo,init_conv3d_naive_webgpu=__esm({"web/lib/wasm/jsep/webgpu/ops/3rd-party/conv3d_naive_webgpu.ts"(){init_wasm_common(),init_log(),init_util2(),init_common(),arrayProduct=l=>{let n=1;for(let u=0;u<l.length;u++)n*=l[u];return n},parse3TupleParam=l=>typeof l=="number"?[l,l,l]:l,getEffectiveFilterSize=(l,n)=>n<=1?l:l+(l-1)*(n-1),computeDefaultPad=(l,n,u,p=1)=>{const v=getEffectiveFilterSize(n,p);return Math.floor((l[0]*(u-1)-u+v)/2)},computeOutputShape4D=(l,n,u,p,v)=>{v==null&&(v=computeDefaultPad(l,n[0],p[0]));const d=[0,0,0,u];for(let g=0;g<3;g++)l[g]+2*v>=n[g]&&(d[g]=Math.trunc((l[g]-n[g]+2*v)/p[g]+1));return d},get3DPadAndOutInfo=(l,n,u,p,v,d,g,_,C,E)=>{let w,m,y,e;if(l==="VALID"&&(l=0),typeof l=="number"){w={top:l,bottom:l,left:l,right:l,front:l,back:l};const P=computeOutputShape4D([n,u,p,1],[_,C,E],1,[v,d,g],l);m=P[0],y=P[1],e=P[2]}else if(Array.isArray(l)){if(!l.every((O,U,W)=>O===W[0]))throw Error(`Unsupported padding parameter: ${l}`);w={top:l[0],bottom:l[1],left:l[2],right:l[3],front:l[4],back:l[5]};const P=computeOutputShape4D([n,u,p,1],[_,C,E],1,[v,d,g],l[0]);m=P[0],y=P[1],e=P[2]}else if(l==="SAME_UPPER"){m=Math.ceil(n/v),y=Math.ceil(u/d),e=Math.ceil(p/g);const P=(m-1)*v+_-n,O=(y-1)*d+C-u,U=(e-1)*g+E-p,W=Math.floor(P/2),V=P-W,$=Math.floor(O/2),b=O-$,H=Math.floor(U/2),G=U-H;w={top:$,bottom:b,left:H,right:G,front:W,back:V}}else throw Error(`Unknown padding parameter: ${l}`);return{padInfo:w,outDepth:m,outHeight:y,outWidth:e}},computeConv3DInfo=(l,n,u,p,v,d=!1,g="channelsLast")=>{let _,C,E,w,m;if(g==="channelsLast")[_,C,E,w,m]=l;else if(g==="channelsFirst")[_,m,C,E,w]=l;else throw new Error(`Unknown dataFormat ${g}`);const[y,,e,P,O]=n,[U,W,V]=parse3TupleParam(u),[$,b,H]=parse3TupleParam(p),G=getEffectiveFilterSize(e,$),Y=getEffectiveFilterSize(P,b),X=getEffectiveFilterSize(O,H),{padInfo:j,outDepth:h,outHeight:ae,outWidth:le}=get3DPadAndOutInfo(v,C,E,w,U,W,V,G,Y,X),he=d?y*m:y;let pe=[0,0,0,0,0];return g==="channelsFirst"?pe=[_,he,h,ae,le]:g==="channelsLast"&&(pe=[_,h,ae,le,he]),{batchSize:_,dataFormat:g,inDepth:C,inHeight:E,inWidth:w,inChannels:m,outDepth:h,outHeight:ae,outWidth:le,outChannels:he,padInfo:j,strideDepth:U,strideHeight:W,strideWidth:V,filterDepth:e,filterHeight:P,filterWidth:O,effectiveFilterDepth:G,effectiveFilterHeight:Y,effectiveFilterWidth:X,dilationDepth:$,dilationHeight:b,dilationWidth:H,inShape:l,outShape:pe,filterShape:n}},createConv3DNaiveProgramInfo=(l,n,u,p,v,d)=>{const g=d==="channelsLast";g?l[0].dims[3]:l[0].dims[1];const _=[64,1,1],C={x:u.map((U,W)=>W)},E=[Math.ceil(arrayProduct(C.x.map(U=>u[U]))/_[0]),1,1];LOG_DEBUG("verbose",()=>`[conv3d_naive_webgpu] dispatch = ${E}`);const w=1,y=[{type:12,data:ShapeUtil2.size(u)},{type:12,data:p},{type:12,data:v},{type:12,data:n.strides},{type:12,data:n.dilations}];y.push(...createTensorShapeVariables(l[0].dims,l[1].dims));const e=["rank","rank"],P=l.length===3;P&&(y.push(...createTensorShapeVariables(l[2].dims)),e.push("rank")),y.push(...createTensorShapeVariables(u));const O=U=>{const W=[{name:"output_size",type:"u32"},{name:"filter_dims",type:"u32",length:p.length},{name:"pads",type:"u32",length:v.length},{name:"strides",type:"u32",length:n.strides.length},{name:"dilations",type:"u32",length:n.dilations.length}],V=1,$=tensorTypeToWsglStorageType(l[0].dataType),b=inputVariable("x",l[0].dataType,l[0].dims.length,w),H=inputVariable("W",l[1].dataType,l[1].dims.length,V),G=[b,H],Y=outputVariable("result",l[0].dataType,u.length,V);let X="";if(P){const j=inputVariable("bias",l[2].dataType,l[2].dims.length,V);G.push(j),X+=`
        fn getBiasByOutputCoords(coords : array<u32, 5>) -> ${$} {
          return bias[${g?getElementAt("coords",4,5):getElementAt("coords",1,5)}];
        }`}return`
            ${X}
            fn getX(d0 : u32, d1 : u32, d2 : u32, d3 : u32, d4 : u32) -> f32 {
              let aIndices = array<u32, 5>(d0, d1, d2, d3, d4);
              return ${b.getByIndices("aIndices")};
            }
            fn getW(d0 : u32, d1 : u32, d2 : u32, d3 : u32, d4 : u32) -> f32 {
              let aIndices = array<u32, 5>(d0, d1, d2, d3, d4);
              return ${H.getByIndices("aIndices")};
            }
          ${U.registerUniforms(W).declareVariables(...G,Y)}
          ${U.mainStart()}
          ${U.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
              let coords = ${Y.offsetToIndices("global_idx")};
              let batch = ${getElementAt("coords",0,b.rank)};
              let d2 = ${g?getElementAt("coords",b.rank-1,b.rank):getElementAt("coords",1,b.rank)};
              let xFRCCorner = vec3<u32>(${g?getElementAt("coords",1,b.rank):getElementAt("coords",2,b.rank)},
              ${g?getElementAt("coords",2,b.rank):getElementAt("coords",3,b.rank)},
              ${g?getElementAt("coords",3,b.rank):getElementAt("coords",4,b.rank)}) * uniforms.strides - uniforms.pads;
              let xFCorner = xFRCCorner.x;
              let xRCorner = xFRCCorner.y;
              let xCCorner = xFRCCorner.z;
              let xShapeY = ${g?getElementAt("uniforms.x_shape",1,b.rank):getElementAt("uniforms.x_shape",2,b.rank)};
              let xShapeZ = ${g?getElementAt("uniforms.x_shape",2,b.rank):getElementAt("uniforms.x_shape",3,b.rank)};
              let xShapeW = ${g?getElementAt("uniforms.x_shape",3,b.rank):getElementAt("uniforms.x_shape",4,b.rank)};
              let xShapeU = ${g?getElementAt("uniforms.x_shape",4,b.rank):getElementAt("uniforms.x_shape",1,b.rank)};
              let inputDepthNearestVec4 = (xShapeU / 4) * 4;
              let inputDepthVec4Remainder = xShapeU % 4;

              var dotProd = 0.0;
              for (var wF = 0u; wF < uniforms.filter_dims[0]; wF++) {
                let xF = xFCorner + wF * uniforms.dilations[0];
                if (xF < 0 || xF >= xShapeY) {
                  continue;
                }

                for (var wR = 0u; wR < uniforms.filter_dims[1]; wR++) {
                  let xR = xRCorner + wR * uniforms.dilations[1];
                  if (xR < 0 || xR >= xShapeZ) {
                    continue;
                  }

                  for (var wC = 0u; wC < uniforms.filter_dims[2]; wC++) {
                    let xC = xCCorner + wC * uniforms.dilations[2];
                    if (xC < 0 || xC >= xShapeW) {
                      continue;
                    }

                    for (var d1 = 0u; d1 < inputDepthNearestVec4; d1 += 4) {
                      ${g?`let xValues = vec4<f32>(
                               getX(batch, xF, xR, xC, d1),
                               getX(batch, xF, xR, xC, d1 + 1),
                               getX(batch, xF, xR, xC, d1 + 2),
                               getX(batch, xF, xR, xC, d1 + 3));
                            `:`let xValues = vec4<f32>(
                               getX(batch, d1, xF, xR, xC),
                               getX(batch, d1 + 1, xF, xR, xC),
                               getX(batch, d1 + 2, xF, xR, xC),
                               getX(batch, d1 + 3, xF, xR, xC));
                            `}
                            let wValues = vec4<f32>(
                              getW(d2, d1, wF, wR, wC),
                              getW(d2, d1 + 1, wF, wR, wC),
                              getW(d2, d1 + 2, wF, wR, wC),
                              getW(d2, d1 + 3, wF, wR, wC));
                      dotProd += dot(xValues, wValues);
                    }
                    if (inputDepthVec4Remainder == 1) {
                        ${g?`dotProd += getX(batch, xF, xR, xC, inputDepthNearestVec4)
                          * getW(d2, inputDepthNearestVec4, wF, wR, wC);`:`dotProd += getX(batch, inputDepthNearestVec4, xF, xR, xC)
                          * getW(d2, inputDepthNearestVec4, wF, wR, wC);`}
                    } else if (inputDepthVec4Remainder == 2) {
                      ${g?`let xValues = vec2<f32>(
                        getX(batch, xF, xR, xC, inputDepthNearestVec4),
                        getX(batch, xF, xR, xC, inputDepthNearestVec4 + 1));
                      `:`let xValues = vec2<f32>(
                        getX(batch, inputDepthNearestVec4, xF, xR, xC),
                        getX(batch, inputDepthNearestVec4 + 1, xF, xR, xC));
                    `}
                    let wValues = vec2<f32>(
                      getW(d2, inputDepthNearestVec4, wF, wR, wC),
                      getW(d2, inputDepthNearestVec4 + 1, wF, wR, wC));
                      dotProd += dot(xValues, wValues);
                    } else if (inputDepthVec4Remainder == 3) {
                      ${g?`let xValues = vec3<f32>(
                        getX(batch, xF, xR, xC, inputDepthNearestVec4),
                        getX(batch, xF, xR, xC, inputDepthNearestVec4 + 1),
                        getX(batch, xF, xR, xC, inputDepthNearestVec4 + 2));
                      `:`let xValues = vec3<f32>(
                        getX(batch, inputDepthNearestVec4, xF, xR, xC),
                        getX(batch, inputDepthNearestVec4 + 1, xF, xR, xC),
                        getX(batch, inputDepthNearestVec4 + 2, xF, xR, xC));
                    `}
                    let wValues = vec3<f32>(
                      getW(d2, inputDepthNearestVec4, wF, wR, wC),
                      getW(d2, inputDepthNearestVec4 + 1, wF, wR, wC),
                      getW(d2, inputDepthNearestVec4 + 2, wF, wR, wC));
                      dotProd += dot(xValues, wValues);
                    }
                  }
                }
              }
              ${P?"dotProd = dotProd + getBiasByOutputCoords(coords)":""};
              result[global_idx] = f32(dotProd);
          }`};return{name:"Conv3DNaive",shaderCache:{hint:`${n.cacheKey};${g};${w};${P}`,inputDependencies:e},getRunData:()=>({outputs:[{dims:u,dataType:l[0].dataType}],dispatchGroup:{x:E[0],y:E[1],z:E[2]},programUniforms:y}),getShaderSource:O}}}}),createGroupedConvProgramInfo,createGroupedConvVectorizeProgramInfo,init_conv_grouped2=__esm({"web/lib/wasm/jsep/webgpu/ops/conv-grouped.ts"(){init_wasm_common(),init_util2(),init_common(),init_conv2(),init_fuse_utils2(),createGroupedConvProgramInfo=(l,n,u)=>{const p=l.length>2,v=p?"value += b[output_channel];":"",d=l[0].dims,g=l[1].dims,_=g[0]/n.group,C=n.format==="NHWC",E=calculateOutputShape2(d,g,n.dilations,n.pads,n.strides,C),w=ShapeUtil2.size(E),m=[{type:12,data:w},{type:12,data:n.dilations},{type:12,data:[n.strides[0],n.strides[1]]},{type:12,data:[n.pads[0],n.pads[1]]},{type:12,data:_}];appendActivationUniformsData(n,m),m.push(...createTensorShapeVariables(d,g));const y=["rank","rank"];p&&(m.push(...createTensorShapeVariables(l[2].dims)),y.push("rank")),m.push(...createTensorShapeVariables(E));const e=P=>{const O=outputVariable("output",l[0].dataType,E.length),U=tensorTypeToWsglStorageType(O.type.tensor),W=getActivationSnippet2(n,O.type.value,U),V=inputVariable("x",l[0].dataType,d.length),$=inputVariable("w",l[1].dataType,g.length),b=[V,$];p&&b.push(inputVariable("b",l[2].dataType,l[2].dims.length));const H=[{name:"output_size",type:"u32"},{name:"dilations",type:"u32",length:n.dilations.length},{name:"strides",type:"u32",length:2},{name:"pads",type:"u32",length:2},{name:"output_channels_per_group",type:"u32"}];return appendActivationUniforms(n,H),`
  ${P.registerUniforms(H).declareVariables(...b,O)}

  ${P.mainStart()}
    ${P.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}

    let outputIndices = ${O.offsetToIndices("global_idx")};
    let batch: u32 = outputIndices[0];
    let output_channel: u32 = outputIndices[${C?3:1}];
    let xRCCorner: vec2<u32> = vec2<u32>(outputIndices[${C?1:2}], outputIndices[${C?2:3}]) * uniforms.strides - uniforms.pads;
    let group_id: u32 = output_channel / uniforms.output_channels_per_group;

    var value: ${O.type.value} = ${O.type.value}(0);
    for (var wInChannel: u32 = 0u; wInChannel < uniforms.w_shape[1]; wInChannel++) {
      let input_channel = group_id * uniforms.w_shape[1] + wInChannel;
      for (var wHeight: u32 = 0u; wHeight < uniforms.w_shape[2]; wHeight++) {
        let xHeight = xRCCorner.x + wHeight * uniforms.dilations[0];

        if (xHeight < 0u || xHeight >= uniforms.x_shape[${C?1:2}]) {
          continue;
        }

        for (var wWidth: u32 = 0u; wWidth < uniforms.w_shape[3]; wWidth++) {
          let xWidth = xRCCorner.y + wWidth * uniforms.dilations[1];
          if (xWidth < 0u || xWidth >= uniforms.x_shape[${C?2:3}]) {
            continue;
          }

          let xVal = ${C?V.get("batch","xHeight","xWidth","input_channel"):V.get("batch","input_channel","xHeight","xWidth")};
          let wVal = ${$.get("output_channel","wInChannel","wHeight","wWidth")};
          value += xVal*wVal;
        }
      }
    }
    ${v}
    ${W}
    ${O.setByOffset("global_idx","value")}
  }`};return{name:"GroupedConv",shaderCache:{hint:n.cacheKey,inputDependencies:y},getRunData:()=>({outputs:[{dims:u?u(E):E,dataType:l[0].dataType}],dispatchGroup:{x:Math.ceil(w/64)},programUniforms:m}),getShaderSource:e}},createGroupedConvVectorizeProgramInfo=(l,n,u)=>{const p=l.length>2,v=getMaxComponents(u[3]),d=getMaxComponents(u[2]),g=ShapeUtil2.size(u)/v/d,_=[l[0].dims[0],l[0].dims[1],l[0].dims[2],l[0].dims[3]/v],C=[l[1].dims[0],l[1].dims[1],l[1].dims[2],l[1].dims[3]/v],E=[u[0],u[1],u[2],u[3]/v],w=[{type:12,data:g},{type:6,data:[n.strides[0],n.strides[1]]},{type:6,data:[n.pads[0],n.pads[1]]}];appendActivationUniformsData(n,w),w.push(...createTensorShapeVariables(_,C,E));const m=(d-1)*n.strides[1]+C[1],y=e=>{const P=outputVariable("output",l[0].dataType,E.length,v),O=tensorTypeToWsglStorageType(P.type.tensor),U=getActivationSnippet2(n,P.type.value,O),W=inputVariable("x",l[0].dataType,_.length,v),V=inputVariable("w",l[1].dataType,C.length,v),$=[W,V];p&&$.push(inputVariable("b",l[2].dataType,l[2].dims,v));const b=p?"value += b[output_channel];":"",H=[{name:"output_size",type:"u32"},{name:"strides",type:"i32",length:2},{name:"pads",type:"i32",length:2}];return appendActivationUniforms(n,H),`
  ${e.registerUniforms(H).declareVariables(...$,P)}
  ${e.mainStart()}
    ${e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
    let width0 = uniforms.output_shape[3];
    let output_channel = global_idx % width0;
    var index1 = global_idx / width0;
    let width1 = uniforms.output_shape[2] / ${d}u;
    let col = (index1 % width1) * ${d}u;
    index1 = index1 / width1;
    let row = index1 % uniforms.output_shape[1];
    let batch = index1 / uniforms.output_shape[1];

    let x_corner = vec2<i32>(i32(row), i32(col)) * uniforms.strides - uniforms.pads;

    var x_vals: array<${W.type.value}, ${m}>;
    var values: array<${P.type.value}, ${d}>;
    let input_channel = output_channel;
    // Use constant instead of uniform can give better performance for w's height/width.
    for (var w_height: u32 = 0u; w_height < ${C[0]}; w_height++) {
      let x_height = x_corner.x + i32(w_height);
      if (x_height >= 0 && u32(x_height) < uniforms.x_shape[1]) {
        for (var i = 0; i < ${m}; i++) {
          let x_width = x_corner.y + i;
          if (x_width >= 0 && u32(x_width) < uniforms.x_shape[2]) {
            x_vals[i] = ${W.get("batch","u32(x_height)","u32(x_width)","input_channel")};
          } else {
            x_vals[i] = ${W.type.value}(0);
          }
        }
        for (var w_width: u32 = 0u; w_width < ${C[1]}; w_width++) {
          let w_val = ${V.get("w_height","w_width","0","output_channel")};
          for (var i = 0u; i < ${d}u; i++) {
            values[i] = fma(x_vals[i * u32(uniforms.strides[1]) + w_width], w_val, values[i]);
          }
        }
      }
    }

    for (var i = 0u; i < ${d}u; i++) {
      var value = values[i];
      ${b}
      ${U}
      ${P.set("batch","row","col + i","output_channel","value")};
    }
  }`};return{name:"GroupedConv-Vectorize",shaderCache:{hint:`${n.cacheKey};${v};${d};${m};${C[0]};${C[1]}`,inputDependencies:p?["rank","rank","type"]:["rank","rank"]},getRunData:()=>({outputs:[{dims:u,dataType:l[0].dataType}],dispatchGroup:{x:Math.ceil(g/64)},programUniforms:w}),getShaderSource:y}}}}),createNaiveMatmulProgramInfo,validateInputs33,matMul2,init_matmul2=__esm({"web/lib/wasm/jsep/webgpu/ops/matmul.ts"(){init_wasm_common(),init_util2(),init_matmul_packed_webgpu(),init_common(),init_fuse_utils2(),createNaiveMatmulProgramInfo=(l,n,u,p,v=!1)=>{const d=l[0].dims,g=l[1].dims,_=d[d.length-2],C=g[g.length-1],E=d[d.length-1],w=getMaxComponents(C),m=getMaxComponents(E),y=getMaxComponents(_),e=ShapeUtil2.size(u)/w/y,P=l.length>2,O=p?p.slice(0,-2):u.slice(0,-2),W=[ShapeUtil2.size(O),_,C],V=[{type:12,data:e},{type:12,data:_},{type:12,data:C},{type:12,data:E}];appendActivationUniformsData(n,V),V.push(...createTensorShapeVariables(O,d,g)),P&&V.push(...createTensorShapeVariables(l[2].dims)),V.push(...createTensorShapeVariables(W));const $=b=>{const H=internalVariable("batch_dims",l[0].dataType,O.length),G=inputVariable("a",l[0].dataType,d.length,m),Y=inputVariable("b",l[1].dataType,g.length,w),X=outputVariable("output",l[0].dataType,W.length,w),j=tensorTypeToWsglStorageType(X.type.tensor),h=getActivationSnippet2(n,X.type.value,j),ae=[G,Y];let le="";if(P){const Ve=v?w:1;ae.push(inputVariable("bias",l[2].dataType,l[2].dims.length,Ve)),le=`${v?`value += bias[col / ${Ve}];`:`value += ${X.type.value}(bias[row + i]);`}`}const he=d.slice(0,-2),pe=g.slice(0,-2),Ae=getBroadcastDims(he,O),ge=getBroadcastDims(pe,O),ye=[{name:"output_size",type:"u32"},{name:"M",type:"u32"},{name:"N",type:"u32"},{name:"K",type:"u32"}];appendActivationUniforms(n,ye);const we=(Ve,Ne)=>{const p0=Ve.rank,k0=Ve.name;if(p0===2)return`var ${k0}_indices = ${Ve.type.indices}(0u, 0u);`;const Ue=H.rank;let xe=`var ${k0}_indices: ${Ve.type.indices};`;for(let I0=p0-2-1,O0=Ue-1;I0>=0;I0--,O0--)xe+=`
${k0}_indices[${I0}] = ${Ue>1?`batch_indices[${O0}]`:"batch_indices"};`;return Ne.forEach(I0=>{xe+=`
${k0}_indices[${I0}] = 0;`}),xe+=`${k0}_indices[${p0-2}] = 0u;
                     ${k0}_indices[${p0-1}] = 0u;`,xe},be=()=>{let Ve=`var a_data: ${G.type.value};`;for(let Ne=0;Ne<m;Ne++)Ve+=`
              let b_data${Ne} = b[(b_offset + (k + ${Ne}) * uniforms.N + col) / ${w}];`;for(let Ne=0;Ne<y;Ne++){Ve+=`a_data = a[(a_offset + (row + ${Ne}) * uniforms.K + k) / ${m}];`;for(let p0=0;p0<m;p0++)Ve+=`
            values[${Ne}] = fma(${Y.type.value}(a_data${m===1?"":`[${p0}]`}), b_data${p0}, values[${Ne}]);
`}return Ve};return`
  ${b.registerUniforms(ye).registerInternalVariables(H).declareVariables(...ae,X)}
  ${b.mainStart()}
    ${b.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
    let col = (global_idx % (uniforms.N / ${w})) * ${w};
    var index1 = global_idx / (uniforms.N / ${w});
    let stride1 = uniforms.M / ${y};
    let row = (index1 % stride1) * ${y};
    let batch = index1 / stride1;

    ${u.length===2?"":`let batch_indices = ${H.offsetToIndices("batch")};`}
    ${we(G,Ae)}
    let a_offset = ${G.indicesToOffset("a_indices")};
    ${we(Y,ge)}
    let b_offset = ${Y.indicesToOffset("b_indices")};
    var values: array<${X.type.value}, ${y}>;
    for (var k: u32 = 0u; k < uniforms.K; k = k + ${m}) {
      ${be()}
    }
    for (var i = 0u; i < ${y}u; i++) {
      var value = values[i];
      ${le}
      ${h}
      let cur_indices = ${X.type.indices}(batch, row + i, col);
      let offset = ${X.indicesToOffset("cur_indices")};
      ${X.setByOffset(`offset / ${w}`,"value")};
    }
  }
  `};return{name:"MatMulNaive",shaderCache:{hint:`${n.activation};${w};${m};${y};${v}`,inputDependencies:P?["rank","rank","rank"]:["rank","rank"]},getRunData:()=>({outputs:[{dims:u,dataType:l[0].dataType}],dispatchGroup:{x:Math.ceil(e/64)},programUniforms:V}),getShaderSource:$}},validateInputs33=l=>{if(!l||l.length!==2)throw new Error("MatMul requires 2 inputs.");if(l[0].dims[l[0].dims.length-1]!==l[1].dims[l[1].dims.length-2])throw new Error("shared dimension does not match.")},matMul2=l=>{validateInputs33(l.inputs);const n=BroadcastUtil2.calcShape(l.inputs[0].dims,l.inputs[1].dims,!0);if(!n)throw new Error("Can't use matmul on the given tensors");const u=n[n.length-1],p=l.inputs[0].dims[l.inputs[0].dims.length-1];u<8&&p<8?l.compute(createNaiveMatmulProgramInfo(l.inputs,{activation:""},n)):l.compute(createMatmulProgramInfo2(l.inputs,{activation:""},n))}}}),calculateOutputShape2,weightTransposeAttribute,validateInputs34,getAdjustedConvAttributes2,parseConvAttributes2,conv2d2,conv1d,conv3d,conv2,init_conv2=__esm({"web/lib/wasm/jsep/webgpu/ops/conv.ts"(){init_util2(),init_conv2d_mm_webgpu(),init_conv3d_naive_webgpu(),init_matmul_packed_webgpu(),init_conv_grouped2(),init_fuse_utils2(),init_matmul2(),init_transpose2(),calculateOutputShape2=(l,n,u,p,v,d)=>{const g=l[0],_=l.slice(d?1:2,d?3:4),C=_.length,E=n[0],m=n.slice(2).map((P,O)=>P+(P-1)*(u[O]-1)),e=_.map((P,O)=>P+p[O]+p[O+C]).map((P,O)=>Math.floor((P-m[O]+v[O])/v[O]));return e.splice(0,0,g),e.splice(d?3:1,0,E),e},weightTransposeAttribute=[2,3,1,0],validateInputs34=(l,n)=>{if(!l||l.length!==2&&l.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(l[0].dims.length>5)throw new Error("greater than 5D is not supported");if(l[0].dims.length!==l[1].dims.length)throw new Error("filter does not have same dimension as input");const u=l[0].dims[n.format==="NHWC"?l[0].dims.length-1:1],p=l[1].dims[1]*n.group;if(u!==p)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(l.length===3&&(l[2].dims.length!==1||l[1].dims[0]!==l[2].dims[0]))throw new Error("invalid bias");const v=l[0].dims.length-2;if(n.dilations.length!==v)throw new Error(`dilations should be ${v}D`);if(n.strides.length!==v)throw new Error(`strides should be ${v}D`);if(n.pads.length!==v*2)throw new Error(`pads should be ${v*2}D`);if(n.kernelShape.length!==0&&n.kernelShape.length!==l[1].dims.length-2)throw new Error("invalid kernel shape")},getAdjustedConvAttributes2=(l,n)=>{const u=l.kernelShape.slice();for(let d=2;d<n[1].dims.length;++d)u[d-2]===0&&(u[d-2]=n[1].dims[d]);const p=l.pads.slice();PoolConvUtil2.adjustPadsBasedOnAutoPad(n[0].dims,l.strides,l.dilations,u,p,l.format==="NHWC",l.autoPad);const v=Object.assign({},l);return Object.assign(v,{kernelShape:u,pads:p}),v},parseConvAttributes2=l=>{const n=parseInternalActivationAttributes2(l),u=l.format,p=["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][l.auto_pad],v=l.dilations,d=l.group,g=l.kernel_shape,_=l.pads,C=l.strides,E=l.w_is_const();return{autoPad:p,format:u,dilations:v,group:d,kernelShape:g,pads:_,strides:C,wIsConst:E,...n,cacheKey:`${l.format};${n.activation};`}},conv2d2=(l,n,u)=>{const p=getAdjustedConvAttributes2(u,n),v=u.format==="NHWC";if(u.group!==1){if(!l.adapterInfo.isArchitecture("ampere")&&v&&n[1].dims[0]===u.group&&n[1].dims[1]===1&&u.dilations[0]===1&&u.dilations[1]===1){const Y=calculateOutputShape2(n[0].dims,n[1].dims,u.dilations,p.pads,u.strides,v),X=l.kernelCustomData.wT??l.compute(createTransposeProgramInfo2(n[1],weightTransposeAttribute),{inputs:[1],outputs:[u.wIsConst?-2:-1]})[0];u.wIsConst&&!l.kernelCustomData.wT&&(l.kernelCustomData.wT=X);const j=[n[0],X];n.length===3&&j.push(n[2]),l.compute(createGroupedConvVectorizeProgramInfo(j,p,Y),{inputs:j})}else l.compute(createGroupedConvProgramInfo(n,p));return}const d=n.length===3,g=n[0].dims[v?1:2],_=n[0].dims[v?2:3],C=n[0].dims[v?3:1],E=n[1].dims[2],w=n[1].dims[3],m=calculateOutputShape2(n[0].dims,n[1].dims,u.dilations,p.pads,u.strides,v),y=m[v?1:2],e=m[v?2:3],P=m[v?3:1],O=v&&E===g&&w===_&&u.pads[0]===0&&u.pads[1]===0;if(O||E===1&&w===1&&u.dilations[0]===1&&u.dilations[1]===1&&u.strides[0]===1&&u.strides[1]===1&&u.pads[0]===0&&u.pads[1]===0){const G=m[0];let Y,X,j;const h=[];if(v){const he=l.kernelCustomData.wT??l.compute(createTransposeProgramInfo2(n[1],weightTransposeAttribute),{inputs:[1],outputs:[u.wIsConst?-2:-1]})[0];if(u.wIsConst&&!l.kernelCustomData.wT&&(l.kernelCustomData.wT=he),O){const pe=g*_*C;Y=n[0].reshape([1,G,pe]),X=he.reshape([1,pe,P]),j=[1,G,P]}else Y=n[0].reshape([G,g*_,C]),X=he.reshape([1,C,P]),j=[G,y*e,P];h.push(Y),h.push(X)}else Y=n[0].reshape([G,C,g*_]),X=n[1].reshape([1,P,C]),j=[G,P,y*e],h.push(X),h.push(Y);d&&h.push(n[2]);const ae=j[2],le=h[0].dims[h[0].dims.length-1];ae<8&&le<8?l.compute(createNaiveMatmulProgramInfo(h,p,m,j,v),{inputs:h}):l.compute(createMatmulProgramInfo2(h,p,m,j,v),{inputs:h});return}const U=!0,W=l.kernelCustomData.wT??l.compute(createTransposeProgramInfo2(n[1],weightTransposeAttribute),{inputs:[1],outputs:[u.wIsConst?-2:-1]})[0];u.wIsConst&&!l.kernelCustomData.wT&&(l.kernelCustomData.wT=W);const V=[n[0],W];d&&V.push(n[2]);const $=v?y*e:P,b=v?P:y*e,H=E*w*C;l.compute(createConv2DMatMulProgramInfo(V,p,m,$,b,H,d,U),{inputs:V})},conv1d=(l,n)=>{const u=n.format==="NHWC",p=[l.inputs[0].reshape(u?[l.inputs[0].dims[0],1,l.inputs[0].dims[1],l.inputs[0].dims[2]]:[l.inputs[0].dims[0],l.inputs[0].dims[1],1,l.inputs[0].dims[2]]),l.inputs[1].reshape([l.inputs[1].dims[0],l.inputs[1].dims[1],1,l.inputs[1].dims[2]])];l.inputs.length===3&&p.push(l.inputs[2]);const v=[0,n.pads[0],0,n.pads[1]],d=[1].concat(n.strides),g=[1].concat(n.dilations),_=[1].concat(n.kernelShape),C=getAdjustedConvAttributes2({...n,pads:v,strides:d,dilations:g,kernelShape:_},p);l.compute(createGroupedConvProgramInfo(p,C,E=>u?[E[0],E[2],E[3]]:[]))},conv3d=(l,n,u)=>{const p=u.format==="NHWC"?"channelsLast":"channelsFirst",v=getAdjustedConvAttributes2(u,n),d=u.autoPad==="NOTSET"?u.pads:u.autoPad,g=computeConv3DInfo(n[0].dims,n[1].dims,u.strides,u.dilations,d,!1,p);l.compute(createConv3DNaiveProgramInfo(n,v,g.outShape,[g.filterDepth,g.filterHeight,g.filterWidth],[g.padInfo.front,g.padInfo.top,g.padInfo.left],p))},conv2=(l,n)=>{validateInputs34(l.inputs,n),l.inputs[0].dims.length===3?conv1d(l,n):l.inputs[0].dims.length===5?conv3d(l,l.inputs,n):conv2d2(l,l.inputs,n)}}}),conv2dTransposeCommonSnippet,createConv2DTransposeMatMulProgramInfo,init_conv_backprop_mm_webgpu=__esm({"web/lib/wasm/jsep/webgpu/ops/3rd-party/conv_backprop_mm_webgpu.ts"(){init_wasm_common(),init_log(),init_common(),init_fuse_utils2(),init_activation_util(),init_conv_util(),init_matmul_packed_webgpu(),conv2dTransposeCommonSnippet=(l,n=!1,u,p,v=4)=>{const d=W=>{switch(W){case 1:return"return w[getIndexFromCoords4D(coord, vec4<i32>(uniforms.w_shape))];";case 4:return`
            let coord1 = vec4<i32>(coordX, coordY, col + 1, rowInner);
            let coord2 = vec4<i32>(coordX, coordY, col + 2, rowInner);
            let coord3 = vec4<i32>(coordX, coordY, col + 3, rowInner);
            let v0 = w[getIndexFromCoords4D(coord, vec4<i32>(uniforms.w_shape))];
            let v1 = w[getIndexFromCoords4D(coord1, vec4<i32>(uniforms.w_shape))];
            let v2 = w[getIndexFromCoords4D(coord2, vec4<i32>(uniforms.w_shape))];
            let v3 = w[getIndexFromCoords4D(coord3, vec4<i32>(uniforms.w_shape))];
            return ${p}(v0, v1, v2, v3);
            `;default:throw new Error(`innerElementSize ${W} is not supported.`)}},g=l?`
      let coord = vec4<i32>(batch, iXR, iXC, xCh);
      `:`
      let coord = vec4<i32>(batch, xCh, iXR, iXC);
      `,_=l?`
    let coords = vec4<i32>(
      batch,
      row / outWidth,
      row % outWidth,
      col);
    `:`
    let coords = vec4<i32>(
      batch,
      row,
      col / outWidth,
      col % outWidth);
    `,C=l?"i32(uniforms.x_shape[1])":"i32(uniforms.x_shape[2])",E=l?"i32(uniforms.x_shape[2])":"i32(uniforms.x_shape[3])",w=l?"row":"col",m=l?"col":"row",y=`
      let inChannels = ${l?"i32(uniforms.x_shape[3])":"i32(uniforms.x_shape[1])"};
      let outWidth = ${l?"i32(uniforms.result_shape[2])":"i32(uniforms.result_shape[3])"};
      let outRow = ${w} / outWidth;
      let outCol = ${w} % outWidth;

      let WRow = ${m} / (uniforms.filter_dims[1] * inChannels);
      let WCol = ${m} / inChannels % uniforms.filter_dims[1];
      let xR = f32(outRow - uniforms.pads[0] + uniforms.dilations[0] * WRow) / f32(uniforms.strides[0]);
      let xC = f32(outCol - uniforms.pads[1] + uniforms.dilations[1] * WCol) / f32(uniforms.strides[1]);
      if (xR < 0.0 || xR >= f32(${C}) || fract(xR) > 0.0) {
        return ${p}(0.0);
      }
      if (xC < 0.0 || xC >= f32(${E}) || fract(xC) > 0.0) {
        return ${p}(0.0);
      }
      let iXR = i32(xR);
      let iXC = i32(xC);
      let xCh = ${m} % inChannels;
      ${g}
      return x[getIndexFromCoords4D(coord, vec4<i32>(uniforms.x_shape))/${v}];`,e=l?`
      let col = colIn * ${v};
      if (row < uniforms.dim_a_outer && col < uniforms.dim_inner) {
        ${y}
      }
      return ${p}(0.0);`:`
      let col = colIn * ${v};
      if (row < uniforms.dim_inner && col < uniforms.dim_b_outer) {
        ${y}
      }
      return ${p}(0.0);`,P=`
      let col = colIn * ${v};
      let inChannels = ${l?"i32(uniforms.x_shape[3])":"i32(uniforms.x_shape[1])"};
      let coordX = uniforms.filter_dims[0] - 1 - row / (uniforms.filter_dims[1] * inChannels);
      let coordY = uniforms.filter_dims[1] - 1 - (row / inChannels) % uniforms.filter_dims[1];
      if (${l?"row < uniforms.dim_inner && col < uniforms.dim_b_outer":"row < uniforms.dim_inner && col < uniforms.dim_a_outer"}  && coordX >= 0 && coordY >= 0) {
        let rowInner = row % inChannels;
        let coord = vec4<i32>(coordX, coordY, col, rowInner);
        ${d(v)}
      }
      return ${p}(0.0);
      `,O=getActivationSnippet2(u,p);return`
  fn mm_readA(batch: i32, row : i32, colIn : i32) -> ${p} {
    ${l?e:P}
  }

  fn mm_readB(batch: i32, row : i32, colIn : i32) -> ${p} {
    ${l?P:e}
  }

  fn mm_write(batch: i32, row : i32, colIn : i32, valueInput : ${p}) {
    let col = colIn * ${v};
    if (row < uniforms.dim_a_outer && col < uniforms.dim_b_outer) {
      var value = valueInput;
      let outWidth = ${l?"i32(uniforms.result_shape[2])":"i32(uniforms.result_shape[3])"};
      ${_}
      ${biasSnippet(n)}
      ${O}
      result[getIndexFromCoords4D(coords, vec4<i32>(uniforms.result_shape))/${v}] = value;
    }
  }`},createConv2DTransposeMatMulProgramInfo=(l,n,u,p,v,d,g,_)=>{const C=n.format==="NHWC",E=C?l[0].dims[3]:l[0].dims[1],w=u[0],m=C?u[2]:u[3],y=C?u[1]:u[2],e=C?u[3]:u[1],P=C&&E%4===0&&E%3&&e%4===0,O=C?e:m*y,U=C?m*y:e,W=[8,8,1],V=p<=8?[4,1,1]:[4,4,1],$=[Math.ceil(O/W[0]/V[0]),Math.ceil(U/W[1]/V[1]),Math.ceil(w/W[2]/V[2])];LOG_DEBUG("verbose",()=>`[conv_backprop_mm_webgpu] dispatch = ${$}`);const b=P?4:1,H=Math.max(W[0]*b,W[1]),G=P?4:1,Y=[n.kernelShape[C?1:2],n.kernelShape[C?2:3]],X=[Y[0]+(n.dilations[0]<=1?0:(Y[0]-1)*(n.dilations[0]-1)),Y[1]+(n.dilations[1]<=1?0:(Y[1]-1)*(n.dilations[1]-1))],j=[X[0]-1-Math.floor((n.pads[0]+n.pads[2])/2),X[1]-1-Math.floor((n.pads[1]+n.pads[3])/2)],h=[{type:6,data:p},{type:6,data:v},{type:6,data:d},{type:6,data:n.strides},{type:6,data:n.dilations},{type:6,data:Y},{type:6,data:j}];appendActivationUniformsData(n,h),h.push(...createTensorShapeVariables(l[0].dims,l[1].dims));const ae=["rank","rank"];g&&(h.push(...createTensorShapeVariables(l[2].dims)),ae.push("rank")),h.push(...createTensorShapeVariables(u));const le=he=>{const pe=inputVariable("x",l[0].dataType,l[0].dims.length,G),Ae=inputVariable("w",l[1].dataType,l[1].dims.length,1),ge=outputVariable("result",l[0].dataType,u.length,G),ye=[pe,Ae];let we="";if(g){const Ne=inputVariable("bias",l[2].dataType,l[2].dims.length,G);ye.push(Ne),we+=`
          fn getBiasByOutputCoords(coords : vec4<i32>) -> ${Ne.type.value} {
            return bias[coords.${C?"w":"y"}${P?"/ 4":""}];
          }`}const be=[{name:"dim_a_outer",type:"i32"},{name:"dim_b_outer",type:"i32"},{name:"dim_inner",type:"i32"},{name:"strides",type:"i32",length:2},{name:"dilations",type:"i32",length:2},{name:"filter_dims",type:"i32",length:Y.length},{name:"pads",type:"i32",length:j.length}];appendActivationUniforms(n,be);const Ve=tensorTypeToWsglStorageType(l[0].dataType,1);if(Ve!=="f16"&&Ve!=="f32")throw new Error(`elemType ${Ve} is not supported.`);return`
        ${utilFunctions("uniforms.result_strides")}
        ${he.registerUniforms(be).declareVariables(...ye,ge)};
        ${we}
        ${conv2dTransposeCommonSnippet(C,g,n,pe.type.value,b)}
        ${P?makeMatMulPackedVec4Source(V,W,Ve,void 0,!C,H):makeMatMulPackedSource(V,W,Ve,void 0,!C,H,!1,void 0,_)}`};return{name:"Conv2DTransposeMatMul",shaderCache:{hint:`${n.cacheKey};${V};${W};${P}`,inputDependencies:ae},getRunData:()=>({outputs:[{dims:u,dataType:l[0].dataType}],dispatchGroup:{x:$[0],y:$[1],z:$[2]},programUniforms:h}),getShaderSource:le}}}}),createConvTranspose2DOpProgramShaderSource,createConvTranspose2DProgramInfo,init_conv_backprop_webgpu=__esm({"web/lib/wasm/jsep/webgpu/ops/3rd-party/conv_backprop_webgpu.ts"(){init_wasm_common(),init_log(),init_util2(),init_common(),createConvTranspose2DOpProgramShaderSource=(l,n,u,p,v,d=!1,g,_,C=!1)=>{const E=C?1:2,w=C?2:3,m=C?3:1,y=d?2:1;let e=`
  fn setOutputAtIndex(flatIndex : u32, value : ${d?`vec4<${g}>`:g}) {
    result[flatIndex] = ${d?`vec4<${g}>`:g}(value);
  }`;p&&(e+=`
    fn getBiasByOutputCoords(coords : vec4<u32>) -> ${d?`vec4<${g}>`:g} {
      return bias[coords.${C?"w":"y"}${d?"/ 4":""}];
    }`);const P=d?4:1,O=inputVariable("W",n[1].dataType,n[1].dims.length,P),U=inputVariable("Dy",n[0].dataType,n[0].dims.length,P),W=[U,O];p&&W.push(inputVariable("bias",n[2].dataType,[u[m]].length,P));const V=outputVariable("result",n[0].dataType,u.length,P),$=`{
        let batch: u32 = ${v?"global_id.z":"workgroup_id.z"} / uniforms.result_shape[1];
        let r = ${v?"global_id.z":"workgroup_id.z"} % uniforms.result_shape[1];
        let c = ${v?"global_id.y":"workgroup_id.y"} * ${y};
        let d1: u32 = ${v?"global_id.x":"workgroup_id.x"} * 4;

        let dyCorner = vec2<i32>(i32(r), i32(c)) - vec2<i32>(uniforms.pads);

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        var dotProd: array<vec4<${g}>, ${y}>;
        for (var i = 0; i < ${y}; i++) {
          dotProd[i] = vec4<${g}>(0.0);
        }
        for (var wR: u32 = 0; wR < uniforms.filter_dims[0]; wR = wR + 1) {
          var dyR = (${g}(dyCorner.x) + ${g}(wR)) / ${g}(uniforms.strides.x);
          let wRPerm = uniforms.filter_dims[0] - 1 - wR;
          if (dyR < 0.0 || dyR >= ${g}(uniforms.Dy_shape[1]) ||
              fract(dyR) > 0.0 || wRPerm < 0) {
            continue;
          }
          let idyR: u32 = u32(dyR);

          for (var wC: u32 = 0; wC < uniforms.filter_dims[1]; wC = wC + 1) {
            let dyC = (${g}(dyCorner.y) + ${g}(wC)) / ${g}(uniforms.strides.y);
            let dyC2 = (${g}(dyCorner.y) + 1.0 + ${g}(wC)) / ${g}(uniforms.strides.y);
            let wCPerm = uniforms.filter_dims[1] - 1 - wC;
            if (wCPerm < 0) {
              continue;
            }
            var bDyCVal = true;
            var bDyCVal2 = true;
            if (dyC < 0.0 || dyC >= ${g}(uniforms.Dy_shape[2]) ||
                fract(dyC) > 0.0) {
              bDyCVal = false;
            }
            if (dyC2 < 0.0 || dyC2 >= ${g}(uniforms.Dy_shape[2]) ||
                fract(dyC2) > 0.0) {
              bDyCVal2 = false;
            }

            let idyC: u32 = u32(dyC);
            let idyC2: u32 = u32(dyC2);
            if (bDyCVal && bDyCVal2) {
              let d2Length = uniforms.Dy_shape[3];
              for (var d2 :u32 = 0; d2 < d2Length; d2 = d2 + 4) {
                let wValue0 = ${O.get("u32(wRPerm)","u32(wCPerm)","d1","d2")};
                let wValue1 = ${O.get("u32(wRPerm)","u32(wCPerm)","d1 + 1","d2")};
                let wValue2 = ${O.get("u32(wRPerm)","u32(wCPerm)","d1 + 2","d2")};
                let wValue3 = ${O.get("u32(wRPerm)","u32(wCPerm)","d1 + 3","d2")};

                var xValue = ${U.get("batch","idyR","idyC","d2")};
                let tmpval = vec4<${g}>(dot(xValue, wValue0),
                                      dot(xValue, wValue1),
                                      dot(xValue, wValue2),
                                      dot(xValue, wValue3));
                dotProd[0] = dotProd[0] + tmpval;

                xValue =  ${U.get("batch","idyR","idyC2","d2")};

                dotProd[1] = dotProd[1] + vec4<${g}>(dot(xValue, wValue0),
                                                    dot(xValue, wValue1),
                                                    dot(xValue, wValue2),
                                                    dot(xValue, wValue3));
              }
            } else if (bDyCVal) {
              let d2Length = uniforms.Dy_shape[${m}];
              for (var d2: u32 = 0; d2 < d2Length; d2 = d2 + 4) {
                let wValue0 = ${O.get("u32(wRPerm)","u32(wCPerm)","d1","d2")};
                let wValue1 = ${O.get("u32(wRPerm)","u32(wCPerm)","d1 + 1","d2")};
                let wValue2 = ${O.get("u32(wRPerm)","u32(wCPerm)","d1 + 2","d2")};
                let wValue3 = ${O.get("u32(wRPerm)","u32(wCPerm)","d1 + 3","d2")};

                var xValue = ${U.get("batch","idyR","idyC","d2")};
                let tmpval = vec4<${g}>(dot(xValue, wValue0),
                                      dot(xValue, wValue1),
                                      dot(xValue, wValue2),
                                      dot(xValue, wValue3));
                dotProd[0] = dotProd[0] + tmpval;
              }
            } else if (bDyCVal2) {
              let d2Length = uniforms.Dy_shape[3];
              for (var d2: u32 = 0; d2 < d2Length; d2 = d2 + 4) {
                let wValue0 = ${O.get("u32(wRPerm)","u32(wCPerm)","d1","d2")};
                let wValue1 = ${O.get("u32(wRPerm)","u32(wCPerm)","d1 + 1","d2")};
                let wValue2 = ${O.get("u32(wRPerm)","u32(wCPerm)","d1 + 2","d2")};
                let wValue3 = ${O.get("u32(wRPerm)","u32(wCPerm)","d1 + 3","d2")};

                var xValue = ${U.get("batch","idyR","idyC2","d2")};
                let tmpval = vec4<${g}>(dot(xValue, wValue0),
                                      dot(xValue, wValue1),
                                      dot(xValue, wValue2),
                                      dot(xValue, wValue3));
                dotProd[1] = dotProd[1] + tmpval;
              }
            }
          }
        }

        for (var i: u32 = 0; i < ${y}; i = i + 1) {
          let value = dotProd[i] + ${p?"bias[c+i]":`vec4<${g}>(0.0)`};
          ${V.set("batch","r","c + i","d1","value")};
        }
      }`,b=`
          let outputIndices = ${V.offsetToIndices("global_idx")};
          let batch = ${V.indicesGet("outputIndices",0)};
          let d1 = ${V.indicesGet("outputIndices",m)};
          let r = ${V.indicesGet("outputIndices",E)};
          let c = ${V.indicesGet("outputIndices",w)};
          let dyCorner = vec2<i32>(i32(r), i32(c)) - uniforms.pads;
          let dyRCorner = dyCorner.x;
          let dyCCorner = dyCorner.y;
          let groupId = d1 / uniforms.output_channels_per_group;
          let wOutChannel = d1 - groupId * uniforms.output_channels_per_group;
          // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
          // ? = to be determined. : = across all values in that axis.
          var dotProd = ${g}(0.0);
          for (var wR: u32 = 0; wR < uniforms.effective_filter_dims.x; wR = wR + 1) {
            if (wR % uniforms.dilations.x != 0) {
              continue;
            }
            let dyR = (${g}(dyRCorner) + ${g}(wR)) / ${g}(uniforms.strides[0]);
            let wRPerm = uniforms.filter_dims.x - 1 - wR / uniforms.dilations.x;
            if (dyR < 0.0 || dyR >= ${g}(uniforms.Dy_shape[${E}]) || fract(dyR) > 0.0 ||
                wRPerm < 0) {
              continue;
            }
            let idyR: u32 = u32(dyR);

            for (var wC: u32 = 0; wC < uniforms.effective_filter_dims.y; wC = wC + 1) {
              if (wC % uniforms.dilations.y != 0) {
                continue;
              }
              let dyC = (${g}(dyCCorner) + ${g}(wC)) / ${g}(uniforms.strides.y);
              let wCPerm = uniforms.filter_dims.y - 1 - wC / uniforms.dilations.y;
              if (dyC < 0.0 || dyC >= ${g}(uniforms.Dy_shape[${w}]) ||
                  fract(dyC) > 0.0 || wCPerm < 0) {
                continue;
              }
              let idyC: u32 = u32(dyC);
              var inputChannel = groupId * uniforms.input_channels_per_group;
              for (var d2: u32 = 0; d2 < uniforms.input_channels_per_group; d2 = d2 + 1) {
                let xValue = ${C?U.get("batch","idyR","idyC","inputChannel"):U.get("batch","inputChannel","idyR","idyC")};
                let wValue = ${O.get("inputChannel","wOutChannel","u32(wRPerm)","u32(wCPerm)")};
                dotProd = dotProd + xValue * wValue;
                inputChannel = inputChannel + 1;
              }
            }
          }
          let value = dotProd + ${p?"bias[d1]":`${g}(0.0)`};
          ${V.setByOffset("global_idx","value")};
        `;return`
  ${l.registerUniforms(_).declareVariables(...W,V)}
  ${e}

    ${l.mainStart()}
    ${l.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")};
  ${d?$:b}}`},createConvTranspose2DProgramInfo=(l,n,u)=>{const p=l.length>2,v=n.outputShape,d=ShapeUtil2.size(v),g=[Math.ceil(d/64),1,1];LOG_DEBUG("verbose",()=>`[conv2d_backprop_webgpu] dispatch = ${g}`);const _=n.format==="NHWC",C=["rank","rank"],E=[n.strides[0],n.strides[1]],w=[n.kernelShape[_?1:2],n.kernelShape[_?2:3]],m=[n.dilations[0],n.dilations[1]],y=[w[0]+(n.dilations[0]<=1?0:(n.kernelShape[_?1:2]-1)*(n.dilations[0]-1)),w[1]+(n.dilations[1]<=1?0:(n.kernelShape[_?2:3]-1)*(n.dilations[1]-1))],e=[y[0]-1-Math.floor((n.pads[0]+n.pads[2])/2),y[1]-1-Math.floor(n.pads[1]+n.pads[3])/2],P=!1,O=n.group,U=l[1].dims,W=U[0]/O,V=U[1],$=[{type:12,data:d},{type:12,data:E},{type:12,data:w},{type:12,data:m},{type:12,data:y},{type:6,data:e},{type:12,data:W},{type:12,data:V},...createTensorShapeVariables(l[0].dims,l[1].dims)];p&&($.push(...createTensorShapeVariables(l[2].dims)),C.push("rank")),$.push(...createTensorShapeVariables(v));const b=g[1]===1&&g[2]===1,H=G=>{const Y=[{name:"output_size",type:"u32"},{name:"strides",type:"u32",length:E.length},{name:"filter_dims",type:"u32",length:w.length},{name:"dilations",type:"u32",length:w.length},{name:"effective_filter_dims",type:"u32",length:y.length},{name:"pads",type:"i32",length:e.length},{name:"input_channels_per_group",type:"u32"},{name:"output_channels_per_group",type:"u32"}],X=tensorTypeToWsglStorageType(l[0].dataType);return`${createConvTranspose2DOpProgramShaderSource(G,l,v,p,b,P,X,Y,_)}`};return{name:"ConvTranspose2D",shaderCache:{hint:`${n.cacheKey};`,inputDependencies:C},getRunData:()=>({dispatchGroup:{x:g[0],y:g[1],z:g[2]},outputs:[{dims:u?u(v):v,dataType:l[0].dataType}],programUniforms:$}),getShaderSource:H}}}}),computeTotalPad2,distributePadding2,calculateOutputShapeAndPads2,getAdjustedConvTransposeAttributes2,parseConvTransposeAttributes2,validateInputs35,weightTransposePerm,convTranspose2d2,convTranspose1d,convTranspose2,init_conv_transpose2=__esm({"web/lib/wasm/jsep/webgpu/ops/conv-transpose.ts"(){init_conv_backprop_mm_webgpu(),init_conv_backprop_webgpu(),init_fuse_utils2(),init_transpose2(),computeTotalPad2=(l,n,u,p,v,d)=>(l-1)*n+u+(p-1)*v+1-d,distributePadding2=(l,n,u,p,v)=>{const d=Math.floor(l/2);n==="SAME_UPPER"?(u[p]=d,u[v]=l-d):n==="SAME_LOWER"&&(u[p]=l-d,u[v]=d)},calculateOutputShapeAndPads2=(l,n,u,p,v,d,g,_,C,E)=>{const w=l.length-2,m=E.length===0;if(C.length===0)for(let P=0;P<w;++P)C.push(0);const y=l[0],e=n[_?3:1]*v;for(let P=0,O=l.length-w-(_?1:0);P<w;++P,++O){const U=l[O],W=m?U*g[P]:E[P],V=computeTotalPad2(U,g[P],d[P],n[O],u[P],W);distributePadding2(V,p,d,P,P+w),m&&E.push(g[P]*(U-1)+C[P]+(n[O]-1)*u[P]+1-d[P]-d[P+w])}E.splice(0,0,y),E.splice(_?3:1,0,e)},getAdjustedConvTransposeAttributes2=(l,n)=>{const u=l.kernelShape.slice();if(l.kernelShape.length===0||l.kernelShape.reduce((m,y)=>m*y,1)===0){u.length=0;for(let m=2;m<n[1].dims.length;++m)u.push(n[1].dims[m])}const p=l.format==="NHWC";u.splice(0,0,n[1].dims[0]),u.splice(p?3:1,0,n[1].dims[1]);const v=l.pads.slice(),d=l.outputShape.slice(),g=l.outputPadding.slice(),_=n[0].dims;let C=l.dilations.slice();if(C.reduce((m,y)=>m+y,0)===0){const m=n[0].dims.length-2;C=new Array(m).fill(1)}let E=l.strides.slice();if(E.reduce((m,y)=>m+y,0)===0){const m=n[0].dims.length-2;E=new Array(m).fill(1)}calculateOutputShapeAndPads2(_,u,C,l.autoPad,l.group,v,E,p,g,d);const w=Object.assign({},l);return Object.assign(w,{kernelShape:u,pads:v,outputPadding:g,outputShape:d,dilations:C,strides:E}),w},parseConvTransposeAttributes2=l=>{const n=parseInternalActivationAttributes2(l),u=l.format,p=["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][typeof l.autoPad>"u"?0:l.autoPad],v=l.dilations,d=l.group,g=l.kernelShape,_=l.pads,C=l.strides,E=l.wIsConst(),w=l.outputPadding,m=l.outputShape;return{autoPad:p,format:u,dilations:v,group:d,kernelShape:g,outputPadding:w,outputShape:m,pads:_,strides:C,wIsConst:E,...n,cacheKey:`${l.format};${n.activation};`}},validateInputs35=(l,n)=>{if(!l||l.length!==2&&l.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(l[0].dims.length!==4&&l[0].dims.length!==3)throw new Error("currently only support 2-dimensional conv");if(l[0].dims.length!==l[1].dims.length)throw new Error("filter does not have same dimension as input");const u=l[0].dims[n.format==="NHWC"?l[0].dims.length-1:1],p=l[1].dims[0];if(u!==p)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const v=l[1].dims[1]*n.group;if(l.length===3&&(l[2].dims.length!==1||l[2].dims[0]!==v))throw new Error("invalid bias");const d=l[0].dims.length-2;if(n.dilations.reduce((w,m)=>w+m,0)>0&&n.dilations.length!==d)throw new Error(`dilations should be ${d}D`);if(n.strides.reduce((w,m)=>w+m,0)>0&&n.strides.length!==d)throw new Error(`strides should be ${d}D`);if(n.pads.reduce((w,m)=>w+m,0)>0&&n.pads.length!==d*2)throw new Error(`pads should be ${d*2}D`);if(n.outputPadding.length!==d&&n.outputPadding.length!==0)throw new Error(`output_padding should be ${d}D`);if(n.kernelShape.reduce((w,m)=>w+m,0)>0&&n.kernelShape.length!==0&&n.kernelShape.length!==l[1].dims.length-2)throw new Error("invalid kernel shape");if(n.outputShape.length!==0&&n.outputShape.length!==l[0].dims.length-2)throw new Error("invalid output shape")},weightTransposePerm=[2,3,1,0],convTranspose2d2=(l,n,u)=>{const p=getAdjustedConvTransposeAttributes2(u,n),v=u.format==="NHWC",d=p.outputShape,g=d[v?3:1],_=n[0].dims[v?3:1];if(p.group!==1||g===1&&_===1){l.compute(createConvTranspose2DProgramInfo(n,p));return}const C=d[v?1:2],E=d[v?2:3],w=n[1].dims[2],m=n[1].dims[3],y=v?C*E:g,e=v?g:C*E,P=w*m*_,O=!0,U=l.kernelCustomData.wT??l.compute(createTransposeProgramInfo2(n[1],weightTransposePerm),{inputs:[1],outputs:[u.wIsConst?-2:-1]})[0];u.wIsConst&&!l.kernelCustomData.wT&&(l.kernelCustomData.wT=U);const W=[n[0],U],V=n.length===3;V&&(!v&&n[2].dims.length===1?W.push(n[2].reshape([n[2].dims[0],1,1])):W.push(n[2])),l.compute(createConv2DTransposeMatMulProgramInfo(W,p,d,y,e,P,V,O),{inputs:W})},convTranspose1d=(l,n)=>{const u=n.format==="NHWC",p=[l.inputs[0].reshape(u?[l.inputs[0].dims[0],1,l.inputs[0].dims[1],l.inputs[0].dims[2]]:[l.inputs[0].dims[0],l.inputs[0].dims[1],1,l.inputs[0].dims[2]]),l.inputs[1].reshape([l.inputs[1].dims[0],l.inputs[1].dims[1],1,l.inputs[1].dims[2]])];l.inputs.length===3&&p.push(l.inputs[2]);let v=n.kernelShape;(v.length===0||v[0]===0)&&(v=[l.inputs[1].dims[2]]);let d=n.dilations;(d.length===0||d[0]===0)&&(d=[1]);let g=n.strides;(g.length===0||g[0]===0)&&(g=[1]);let _=n.pads;_.length===0&&(_=[0,0]),_=[0,_[0],0,_[1]],g=[1].concat(g),d=[1].concat(d),v=[1].concat(v);const C=getAdjustedConvTransposeAttributes2({...n,pads:_,strides:g,dilations:d,kernelShape:v},p);l.compute(createConvTranspose2DProgramInfo(p,C,E=>u?[E[0],E[2],E[3]]:[E[0],E[1],E[3]]))},convTranspose2=(l,n)=>{validateInputs35(l.inputs,n),l.inputs[0].dims.length===3?convTranspose1d(l,n):convTranspose2d2(l,l.inputs,n)}}}),createCumsumProgramInfo,cumsum,parseCumSumAttributes,init_cumsum=__esm({"web/lib/wasm/jsep/webgpu/ops/cumsum.ts"(){init_wasm_common(),init_util2(),init_attribute_with_cache_key2(),init_common(),createCumsumProgramInfo=(l,n,u,p)=>{const v=ShapeUtil2.size(n),d=n.length,g=inputVariable("input",l,d),_=outputVariable("output",l,d),C=u.dataType===6?u.getInt32Array()[0]:Number(u.getBigInt64Array()[0]),E=ShapeUtil2.normalizeAxis(C,d),w=m=>{const y=` i32(${g.indicesGet("inputIndices","uniforms.axis")}) `,e=getElementAt("uniforms.input_shape","uniforms.axis",d),P=p.reverse?y+(p.exclusive?" + 1":""):"0",O=p.reverse?e:y+(p.exclusive?"":" + 1");return`
                ${m.registerUniform("outputSize","u32").registerUniform("axis","u32").declareVariables(g,_)}
                ${m.mainStart()}
                  ${m.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
                  var inputIndices = ${_.offsetToIndices("global_idx")};
                  var sum = ${_.type.value}(0);
                  let first : i32 = ${P};
                  let last : i32 = ${O};
                  for (var i : i32 = first; i < last; i++) {
                    ${g.indicesSet("inputIndices","uniforms.axis","u32(i)")};
                    sum = sum + ${g.getByIndices("inputIndices")};
                  }
                  ${_.setByOffset("global_idx","sum")};
                }`};return{name:"CumSum",shaderCache:{hint:p.cacheKey,inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:n,dataType:l}],dispatchGroup:{x:Math.ceil(v/64)},programUniforms:[{type:12,data:v},{type:12,data:E},...createTensorShapeVariables(n,n)]}),getShaderSource:w}},cumsum=(l,n)=>{const u=l.inputs[0].dims,p=l.inputs[0].dataType,v=l.inputs[1];l.compute(createCumsumProgramInfo(p,u,v,n),{inputs:[0]})},parseCumSumAttributes=l=>{const n=l.exclusive===1,u=l.reverse===1;return createAttributeWithCacheKey2({exclusive:n,reverse:u})}}}),validateInputs36,permFunctionBody2,createDepthToSpaceProgramInfo,depthToSpace2,parseDepthToSpaceAttributes2,init_depth_to_space2=__esm({"web/lib/wasm/jsep/webgpu/ops/depth-to-space.ts"(){init_wasm_common(),init_util2(),init_attribute_with_cache_key2(),init_common(),validateInputs36=l=>{if(!l||l.length!==1)throw new Error("DepthToSpace requires 1 input.");if(l[0].dims.length!==4)throw new Error("DepthToSpace requires 4D input.")},permFunctionBody2=(l,n,u,p)=>{const v=[];v.push(`fn perm(i: ${p.type.indices}) -> ${u.type.indices} {
    var a: ${u.type.indices};`);for(let d=0;d<n;++d)v.push(u.indicesSet("a",l[d],`i[${d}]`));return v.push("return a;}"),v.join(`
`)},createDepthToSpaceProgramInfo=(l,n)=>{let u,p,v,d,g,_;const C=n.format==="NHWC",E=n.blocksize,w=n.mode==="DCR";C?([u,p,v,d]=l.dims,g=w?[u,p,v,E,E,d/E**2]:[u,p,v,d/E**2,E,E],_=w?[0,1,3,2,4,5]:[0,1,4,2,5,3]):([u,p,v,d]=[l.dims[0],l.dims[2],l.dims[3],l.dims[1]],g=w?[u,E,E,d/E**2,p,v]:[u,d/E**2,E,E,p,v],_=w?[0,3,4,1,5,2]:[0,1,4,2,5,3]);const m=l.reshape(g),y=m.dims.length,e=l.dataType,P=inputVariable("a",e,y),O=outputVariable("output",e,y),U=W=>`
  ${W.registerUniform("output_size","u32").declareVariables(P,O)}

  ${permFunctionBody2(_,y,P,O)}

  ${W.mainStart()}
    ${W.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}

    let indices = ${O.offsetToIndices("global_idx")};
    let aIndices = perm(indices);

    ${O.setByOffset("global_idx",P.getByIndices("aIndices"))}
  }`;return{name:"DepthToSpace",shaderCache:{hint:`${l.dims};${n.blocksize};${n.mode}`,inputDependencies:["rank"]},getRunData:W=>{const V=C?[u,p*E,v*E,d/E**2]:[u,d/E**2,p*E,v*E],$=ShapeUtil2.size(V),b=m.dims,H=ShapeUtil2.sortBasedOnPerm(b,_);return{outputs:[{dims:V,dataType:W[0].dataType}],dispatchGroup:{x:Math.ceil($/64)},programUniforms:[{type:12,data:$},...createTensorShapeVariables(b,H)]}},getShaderSource:U}},depthToSpace2=(l,n)=>{validateInputs36(l.inputs),l.compute(createDepthToSpaceProgramInfo(l.inputs[0],n))},parseDepthToSpaceAttributes2=l=>createAttributeWithCacheKey2({blocksize:l.blocksize,mode:l.mode,format:l.format})}}),symbolPattern,termPattern,termPatternOnly,lhsPattern,lhsPatternOnly,EinsumTerm,EinsumEquation,appendMax,createEinsumProgramInfo,einsum,parseEinsumAttributes,init_einsum=__esm({"web/lib/wasm/jsep/webgpu/ops/einsum.ts"(){init_wasm_common(),init_util2(),init_attribute_with_cache_key2(),init_common(),symbolPattern="[a-zA-Z]|\\.\\.\\.",termPattern="("+symbolPattern+")+",termPatternOnly="^"+termPattern+"$",lhsPattern="("+termPattern+",)*"+termPattern,lhsPatternOnly="^"+lhsPattern+"$",EinsumTerm=class{constructor(l=-1){this.symbolToIndices=new Map,this.inputIndex=l}addSymbol(l,n){let u=this.symbolToIndices.get(l);u===void 0?u=[n]:u.push(n),this.symbolToIndices.set(l,u)}},EinsumEquation=class{constructor(l,n){this.equation=n,this.hasEllipsis=!1,this.symbolToInfo=new Map,this.lhs=new Array,this.outputDims=[];let[u,p]=n.includes("->")?n.split("->",2):[n,""];if(!u.match(RegExp(lhsPatternOnly)))throw new Error("Invalid LHS term");if(u.split(",").forEach((g,_)=>{const C=l[_].dims.slice();if(!g.match(RegExp(termPatternOnly)))throw new Error("Invalid LHS term");const E=this.processTerm(g,!0,C,_);this.lhs.push(E)}),p==="")p+=[...this.symbolToInfo.entries()].filter(([g,_])=>_.count===1||g==="...").map(([g])=>g).join("");else if(!p.match(RegExp(termPattern)))throw new Error("Invalid RHS");const d=p.match(RegExp(symbolPattern,"g"));d==null||d.forEach(g=>{if(g==="...")this.outputDims=this.outputDims.concat(this.ellipsisDims);else{const _=this.symbolToInfo.get(g);if(_===void 0)throw new Error("Invalid RHS symbol");this.outputDims.push(_.dimValue)}}),this.rhs=this.processTerm(p,!1,this.outputDims)}addSymbol(l,n,u){let p=this.symbolToInfo.get(l);if(p!==void 0){if(p.dimValue!==n&&p.count!==1)throw new Error("Dimension mismatch");p.count++,p.inputIndices.push(u)}else p={count:1,dimValue:n,inputIndices:[u]};this.symbolToInfo.set(l,p)}processTerm(l,n,u,p=-1){const v=u.length;let d=!1,g=[],_=0;if(!l.match(RegExp(termPatternOnly))&&!n&&l!=="")throw new Error("Invalid LHS term");const C=l.match(RegExp(symbolPattern,"g")),E=new EinsumTerm(p);return C==null||C.forEach((w,m)=>{if(w==="..."){if(d)throw new Error("Only one ellipsis is allowed per input term");d=!0;const y=v-C.length+1;if(y<0)throw new Error("Ellipsis out of bounds");if(g=u.slice(_,_+y),this.hasEllipsis){if(this.ellipsisDims.length!==g.length||this.ellipsisDims.toString()!==g.toString())throw new Error("Ellipsis dimensions mismatch")}else if(n)this.hasEllipsis=!0,this.ellipsisDims=g;else throw new Error("Ellipsis must be specified in the LHS");for(let e=0;e<g.length;e++){const P=String.fromCharCode(48+e);E.addSymbol(P,m+e),this.addSymbol(P,u[_++],p)}}else E.addSymbol(w,m+(this.hasEllipsis?this.ellipsisDims.length-1:0)),this.addSymbol(w,u[_++],p)}),E}},appendMax=l=>l+"_max",createEinsumProgramInfo=(l,n,u,p)=>{const d=l.map(w=>w.length).map((w,m)=>inputVariable(`input${m}`,n,w)),g=ShapeUtil2.size(p),_=outputVariable("output",n,p.length),C=[...u.symbolToInfo.keys()].filter(w=>!u.rhs.symbolToIndices.has(w)),E=w=>{const m=[],y="var prod = 1.0;",e="var sum = 0.0;",P="sum += prod;",O=[],U=[],W=[],V=[],$=u.symbolToInfo.size===u.rhs.symbolToIndices.size;u.symbolToInfo.forEach((H,G)=>{var Y;if(u.rhs.symbolToIndices.has(G)){const X=(Y=u.rhs.symbolToIndices.get(G))==null?void 0:Y[0];X!==void 0&&u.lhs.forEach((j,h)=>{if(H.inputIndices.includes(h)){const ae=j.symbolToIndices.get(G);if(ae===void 0)throw new Error("Invalid symbol error");ae.forEach(le=>{m.push(`${d[h].indicesSet(`input${h}Indices`,le,_.indicesGet("outputIndices",X))}`)})}})}else u.lhs.forEach((X,j)=>{if(H.inputIndices.includes(j)){const h=X.symbolToIndices.get(G);if(h===void 0)throw new Error("Invalid symbol error");h.forEach(ae=>{O.push(`${d[j].indicesSet(`input${j}Indices`,ae,`${G}`)}`)}),V.push(`prod *= ${d[j].getByIndices(`input${j}Indices`)};`)}}),U.push(`for(var ${G}: u32 = 0; ${G} < uniforms.${appendMax(G)}; ${G}++) {`),W.push("}")});const b=$?[...m,`let sum = ${d.map((H,G)=>H.getByIndices(`input${G}Indices`)).join(" * ")};`]:[...m,e,...U,...O,y,...V,P,...W];return`
            ${w.registerUniforms(C.map(H=>({name:`${appendMax(H)}`,type:"u32"}))).registerUniform("outputSize","u32").declareVariables(...d,_)}

            ${w.mainStart()}
            ${w.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
            var outputIndices = ${_.offsetToIndices("global_idx")};
            ${d.map((H,G)=>`var input${G}Indices: ${d[G].type.indices};`).join(`
`)}
            ${b.join(`
`)};
            ${_.setByOffset("global_idx","sum")};
          }`};return{name:"Einsum",shaderCache:{hint:u.equation,inputDependencies:l.map(()=>"rank")},getRunData:()=>{const w=C.filter(y=>u.symbolToInfo.has(y)).map(y=>{var e;return{type:12,data:((e=u.symbolToInfo.get(y))==null?void 0:e.dimValue)||0}});w.push({type:12,data:g});const m=l.map((y,e)=>[...createTensorShapeVariables(y)]).reduce((y,e)=>y.concat(e),w);return m.push(...createTensorShapeVariables(p)),{outputs:[{dims:p,dataType:n}],dispatchGroup:{x:Math.ceil(g/64)},programUniforms:m}},getShaderSource:E}},einsum=(l,n)=>{const u=new EinsumEquation(l.inputs,n.equation),p=u.outputDims,v=l.inputs.map((d,g)=>d.dims);l.compute(createEinsumProgramInfo(v,l.inputs[0].dataType,u,p))},parseEinsumAttributes=l=>{const n=l.equation.replace(/\s+/g,"");return createAttributeWithCacheKey2({equation:n})}}}),validateInputs37,getAdjustedShape,calculateOutputShape3,createExpandProgramInfo,expand,init_expand=__esm({"web/lib/wasm/jsep/webgpu/ops/expand.ts"(){init_wasm_common(),init_util2(),init_common(),validateInputs37=l=>{if(!l||l.length!==2)throw new Error("Expand requires 2 input.");const n=l[0].dims,u=Array.from(l[1].getBigInt64Array(),Number);let p=u.length<n.length?0:u.length-n.length,v=n.length<u.length?0:n.length-u.length;for(;p<u.length&&v<n.length;++p,++v)if(u[p]!==n[v]&&u[p]!==1&&n[v]!==1)throw new Error("Expand requires shape to be broadcastable to input")},getAdjustedShape=(l,n)=>{const u=l.length-n.length,p=[];for(let v=0;v<u;++v)p.push(l[v]);for(let v=0;v<n.length;++v)p.push(n[v]===1?l[v+u]:n[v]);return p},calculateOutputShape3=(l,n)=>l.length>n.length?getAdjustedShape(l,n):getAdjustedShape(n,l),createExpandProgramInfo=l=>{const n=l[0].dims,u=Array.from(l[1].getBigInt64Array(),Number),p=calculateOutputShape3(n,u),v=l[0].dataType,d=v===9?4:1,g=Math.ceil(ShapeUtil2.size(p)/d),_=E=>{const w=inputVariable("input",v,n.length,d),m=outputVariable("output",v,p.length,d);let y;if(v===9){const e=(P,O,U="")=>`
          let outputIndices${O} = ${m.offsetToIndices(`outputOffset + ${O}u`)};
          let offset${O} = ${w.broadcastedIndicesToOffset(`outputIndices${O}`,m)};
          let index${O} = offset${O} / 4u;
          let component${O} = offset${O} % 4u;
          ${P}[${O}] = ${U}(${w.getByOffset(`index${O}`)}[component${O}]);
        `;y=`
        let outputOffset = global_idx * ${d};
        var data = vec4<u32>(0);
        ${e("data",0,"u32")}
        ${e("data",1,"u32")}
        ${e("data",2,"u32")}
        ${e("data",3,"u32")}
        ${m.setByOffset("global_idx","data")}
      }`}else y=`
        let outputIndices = ${m.offsetToIndices("global_idx")};
        let inputOffset = ${w.broadcastedIndicesToOffset("outputIndices",m)};
        ${m.setByOffset("global_idx",w.getByOffset("inputOffset"))}
      }`;return`
    ${E.registerUniform("vec_size","u32").declareVariables(w,m)}
    ${E.mainStart()}
    ${E.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size")}
    ${y}`},C=[{type:12,data:g},...createTensorShapeVariables(n,p)];return{name:"Expand",shaderCache:{hint:`${p.length}`,inputDependencies:["rank"]},getShaderSource:_,getRunData:()=>({outputs:[{dims:p,dataType:l[0].dataType}],dispatchGroup:{x:Math.ceil(g/64)},programUniforms:C})}},expand=l=>{validateInputs37(l.inputs),l.compute(createExpandProgramInfo(l.inputs),{inputs:[0]})}}}),createFastGeluProgramInfo,fastGelu2,init_fast_gelu=__esm({"web/lib/wasm/jsep/webgpu/ops/fast-gelu.ts"(){init_wasm_common(),init_util2(),init_common(),init_unary_op2(),createFastGeluProgramInfo=l=>{const n=l[0].dataType,u=ShapeUtil2.size(l[0].dims),p=ShapeUtil2.size(l[1].dims),v=p%4===0,d=g=>{const _=inputVariable("x",n,[1],4),C=inputVariable("bias",n,[1],4),E=outputVariable("y",n,[1],4),w=[{name:"output_vec_size",type:"u32"},{name:"bias_size",type:"u32"}],m=e=>`
      let bias${e}_offset: u32 = (global_idx * 4 + ${e}) % uniforms.bias_size;
      let bias${e} = ${C.getByOffset(`bias${e}_offset / 4`)}[bias${e}_offset % 4];`,y=v?`
      let bias = ${C.getByOffset("global_idx % (uniforms.bias_size / 4)")};`:`${m(0)}${m(1)}${m(2)}${m(3)}
      let bias = ${_.type.value}(bias0, bias1, bias2, bias3);`;return`${g.registerUniforms(w).declareVariables(_,C,E)}

    ${fastGeluImpl(tensorTypeToWsglValueType(n))}

    ${g.mainStart(WORKGROUP_SIZE)}
      ${g.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_vec_size")}

      let x = ${_.getByOffset("global_idx")};
      ${y}
      let x_in = x + bias;
      ${E.setByOffset("global_idx",fastGeluExpression("x_in"))}
    }`};return{name:"FastGeluWithBias",shaderCache:{hint:`${v}`,inputDependencies:["type","type"]},getShaderSource:d,getRunData:g=>({outputs:[{dims:g[0].dims,dataType:g[0].dataType}],programUniforms:[{type:12,data:Math.ceil(u/4)},{type:12,data:p}],dispatchGroup:{x:Math.ceil(u/WORKGROUP_SIZE/4)}})}},fastGelu2=l=>{l.inputs.length<2||ShapeUtil2.size(l.inputs[1].dims)===0?fastGelu(l):l.compute(createFastGeluProgramInfo(l.inputs))}}}),validateInputs38,createGatherProgramInfo2,parseGatherAttributes2,gather2,init_gather2=__esm({"web/lib/wasm/jsep/webgpu/ops/gather.ts"(){init_wasm_common(),init_util2(),init_attribute_with_cache_key2(),init_common(),validateInputs38=l=>{if(!l||l.length!==2)throw new Error("Gather requires 2 inputs.")},createGatherProgramInfo2=(l,n)=>{const u=l[0].dims,p=l[1].dims,v=u.length,d=ShapeUtil2.normalizeAxis(n.axis,v),g=u.slice(0);g.splice(d,1,...p);const _=u[d],C=l[0].dataType===9?4:1,E=Math.ceil(ShapeUtil2.size(g)/C),w=[{type:12,data:E},{type:6,data:_},{type:12,data:d},...createTensorShapeVariables(l[0].dims,l[1].dims,g)],m=y=>{const e=inputVariable("data",l[0].dataType,l[0].dims.length,C),P=inputVariable("inputIndices",l[1].dataType,l[1].dims.length),O=outputVariable("output",l[0].dataType,g.length,C),U=V=>{const $=p.length;let b=`var indicesIndices${V}  = ${P.type.indices}(0);`;for(let H=0;H<$;H++)b+=`${$>1?`indicesIndices${V}[${H}]`:`indicesIndices${V}`} = ${g.length>1?`outputIndices${V}[uniforms.axis + ${H}]`:`outputIndices${V}`};`;b+=`
          var idx${V} = ${P.getByIndices(`indicesIndices${V}`)};
          if (idx${V} < 0) {
            idx${V} = idx${V} + uniforms.axisDimLimit;
          }
          var dataIndices${V} : ${e.type.indices};
        `;for(let H=0,G=0;H<v;H++)H===d?(b+=`${v>1?`dataIndices${V}[${H}]`:`dataIndices${V}`} = u32(idx${V});`,G+=$):(b+=`${v>1?`dataIndices${V}[${H}]`:`dataIndices${V}`} = ${g.length>1?`outputIndices${V}[${G}]`:`outputIndices${V}`};`,G++);return b};let W;if(l[0].dataType===9){const V=($,b,H="")=>`
          let outputIndices${b} = ${O.offsetToIndices(`outputOffset + ${b}u`)};
          ${U(b)};
          let offset${b} = ${e.indicesToOffset(`dataIndices${b}`)};
          let index${b} = offset${b} / 4u;
          let component${b} = offset${b} % 4u;
          ${$}[${b}] = ${H}(${e.getByOffset(`index${b}`)}[component${b}]);
        `;W=`
        let outputOffset = global_idx * ${C};
        var value = vec4<u32>(0);
        ${V("value",0,"u32")}
        ${V("value",1,"u32")}
        ${V("value",2,"u32")}
        ${V("value",3,"u32")}
        ${O.setByOffset("global_idx","value")}
      `}else W=`
      let outputIndices = ${O.offsetToIndices("global_idx")};
      ${U("")};
      let value = ${e.getByIndices("dataIndices")};
      ${O.setByOffset("global_idx","value")};
      `;return`
      ${y.registerUniform("outputSize","u32").registerUniform("axisDimLimit","i32").registerUniform("axis","u32").declareVariables(e,P,O)}
      ${y.mainStart()}
        ${y.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
        ${W}
      }`};return{name:"Gather",shaderCache:{hint:n.cacheKey,inputDependencies:["rank","rank"]},getRunData:()=>({outputs:[{dims:g,dataType:l[0].dataType}],dispatchGroup:{x:Math.ceil(E/64)},programUniforms:w}),getShaderSource:m}},parseGatherAttributes2=l=>createAttributeWithCacheKey2({axis:l.axis}),gather2=(l,n)=>{const u=l.inputs;validateInputs38(u),l.compute(createGatherProgramInfo2(l.inputs,n))}}}),validateInputs39,createGatherElementsProgramInfo,parseGatherElementsAttributes,gatherElements,init_gather_elements=__esm({"web/lib/wasm/jsep/webgpu/ops/gather-elements.ts"(){init_wasm_common(),init_util2(),init_attribute_with_cache_key2(),init_common(),validateInputs39=l=>{if(!l||l.length!==2)throw new Error("GatherElements requires 2 inputs.");if(l[0].dims.length<1)throw new Error("GatherElements requires that the data input be rank >= 1.");if(l[0].dims.length!==l[1].dims.length)throw new Error(`GatherElements requires that the data input and
                     indices input tensors be of same rank.`)},createGatherElementsProgramInfo=(l,n)=>{const u=l[0].dims,p=l[0].dataType,v=u.length,d=l[1].dims,g=l[1].dataType,_=ShapeUtil2.normalizeAxis(n.axis,v),C=u[_],E=d.slice(0),w=ShapeUtil2.size(E),m=inputVariable("input",p,v),y=inputVariable("indicesInput",g,d.length),e=outputVariable("output",p,E.length),P=[{type:12,data:w},{type:6,data:C},{type:12,data:_}];return P.push(...createTensorShapeVariables(u,d,E)),{name:"GatherElements",shaderCache:{inputDependencies:["rank","rank"]},getRunData:()=>({outputs:[{dims:E,dataType:l[0].dataType}],dispatchGroup:{x:Math.ceil(w/64)},programUniforms:P}),getShaderSource:W=>`
      ${W.registerUniform("outputSize","u32").registerUniform("axisDimLimit","i32").registerUniform("axis","u32").declareVariables(m,y,e)}
      ${W.mainStart()}
      ${W.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}

      let outputIndices = ${e.offsetToIndices("global_idx")};

      var idx = ${y.getByOffset("global_idx")};
      if (idx < 0) {
        idx = idx + uniforms.axisDimLimit;
      }
      var inputIndices = ${m.type.indices}(outputIndices);
      ${m.indicesSet("inputIndices","uniforms.axis","u32(idx)")};
      let value = ${m.getByIndices("inputIndices")};

      ${e.setByOffset("global_idx","value")};
  }`}},parseGatherElementsAttributes=l=>createAttributeWithCacheKey2({axis:l.axis}),gatherElements=(l,n)=>{const u=l.inputs;validateInputs39(u),l.compute(createGatherElementsProgramInfo(l.inputs,n))}}}),validateInputs40,createGemmProgramInfo2,parseGemmAttributes2,gemm2,init_gemm2=__esm({"web/lib/wasm/jsep/webgpu/ops/gemm.ts"(){init_wasm_common(),init_util2(),init_common(),validateInputs40=l=>{if(!l)throw new Error("Input is missing");if(l.length<2||l.length>3)throw new Error("Invaid input number.");if(l.length===3&&l[2].dims.length>2)throw new Error("Invalid input shape of C");if(l[0].dataType!==l[1].dataType||l.length===3&&l[0].dataType!==l[2].dataType)throw new Error("Input types are mismatched")},createGemmProgramInfo2=(l,n)=>{const u=l[0].dims.slice(),p=l[1].dims.slice(),[v,d,g]=GemmUtil2.getShapeOfGemmResult(u,n.transA,p,n.transB,l.length===3?l[2].dims:void 0),_=[v,d];if(!_)throw new Error("Can't use gemm on the given tensors");const C=ShapeUtil2.size(_),E=[{type:12,data:C},{type:12,data:v},{type:12,data:d},{type:12,data:g},{type:1,data:n.alpha},{type:1,data:n.beta}],w=["type","type"];l.length===3&&(E.push(...createTensorShapeVariables(l[2].dims)),w.push("rank")),E.push(...createTensorShapeVariables(_));const m=y=>{let e="";n.transA&&n.transB?e="value += a[k * uniforms.M + m] * b[n * uniforms.K + k];":n.transA&&!n.transB?e="value += a[k * uniforms.M + m] * b[k * uniforms.N + n];":!n.transA&&n.transB?e="value += a[m * uniforms.K + k] * b[n * uniforms.K + k];":!n.transA&&!n.transB&&(e="value += a[m * uniforms.K + k] * b[k * uniforms.N + n];");const P=n.alpha===1?"":"value *= uniforms.alpha;",O=inputVariable("a",l[0].dataType,l[0].dims),U=inputVariable("b",l[1].dataType,l[1].dims),W=O.type.value;let V=null;const $=[O,U];l.length===3&&(V=inputVariable("c",l[2].dataType,l[2].dims.length),$.push(V));const b=outputVariable("output",l[0].dataType,_.length);$.push(b);const H=[{name:"output_size",type:"u32"},{name:"M",type:"u32"},{name:"N",type:"u32"},{name:"K",type:"u32"},{name:"alpha",type:"f32"},{name:"beta",type:"f32"}];return`
  ${y.registerUniforms(H).declareVariables(...$)}

  ${y.mainStart()}
    ${y.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}

    let m = global_idx / uniforms.N;
    let n = global_idx % uniforms.N;

    var value = ${W}(0);
    for (var k: u32 = 0u; k < uniforms.K; k++) {
      ${e}
    }

    ${P}
    ${V!=null?`let cOffset = ${V.broadcastedIndicesToOffset("vec2(m, n)",b)}; value += ${W}(uniforms.beta) * ${V.getByOffset("cOffset")};`:""}
    output[global_idx] = value;
  }`};return{name:"Gemm",shaderCache:{hint:`${n.cacheKey}`,inputDependencies:w},getRunData:()=>({outputs:[{dims:_,dataType:l[0].dataType}],dispatchGroup:{x:Math.ceil(C/64)},programUniforms:E}),getShaderSource:m}},parseGemmAttributes2=l=>{const n=l.transA,u=l.transB,p=l.alpha,v=l.beta;return{transA:n,transB:u,alpha:p,beta:v,cacheKey:`${l.transA};${l.transB};${l.alpha===1}`}},gemm2=(l,n)=>{validateInputs40(l.inputs),l.compute(createGemmProgramInfo2(l.inputs,n))}}}),getInput,validateInputs41,parseMultiHeadAttentionAttributes,weightTransposeAttribute2,addBiasTranspose,maybeTransposeToBNSHAndAddBias,multiHeadAttention,init_multihead_attention=__esm({"web/lib/wasm/jsep/webgpu/ops/multihead-attention.ts"(){init_wasm_common(),init_util2(),init_attribute_with_cache_key2(),init_types2(),init_attention(),init_common(),init_transpose2(),getInput=(l,n)=>l.length>n&&l[n].dims.length>0&&ShapeUtil2.size(l[n].dims)>0?l[n]:void 0,validateInputs41=(l,n)=>{const u=l[0],p=getInput(l,1),v=getInput(l,2),d=getInput(l,3),g=getInput(l,4),_=getInput(l,5),C=getInput(l,6),E=getInput(l,7);if(u.dims.length!==3&&u.dims.length!==5)throw new Error("Input query is expected to have 3 or 5 dimensions");const w=!1,m=u.dims[0],y=u.dims[1],e=u.dims.length===3?w?u.dims[2]/3:u.dims[2]:n.numHeads*u.dims[4];let P=y,O=0,U=0;const W=Math.floor(e/n.numHeads);if(C&&E){if(C.dims.length!==4)throw new Error('Input "past_key" is expected to have 4 dimensions');if(C.dims[0]!==m||C.dims[1]!==n.numHeads||C.dims[3]!==W)throw new Error('Input "past_key" shape (batch_size, num_heads, past_sequence_length, head_size)');if(E.dims[0]!==m||E.dims[1]!==n.numHeads||E.dims[3]!==W)throw new Error('Input "past_value" shape (batch_size, num_heads, past_sequence_length, head_size)');if(C.dims[2]!==E.dims[2])throw new Error('Input "past_key" and "past_value" shall have same dim 2 (past_sequence_length)');if(E.dims.length!==4)throw new Error('Input "past_value" is expected to have 4 dimensions');O=C.dims[2],U=C.dims[2]}else if(C||E)throw new Error('Input "past_key" and "past_value" shall be both present or both absent');let V;if(p){if(u.dims.length!==3)throw new Error('Input "query" is expected to have 3 dimensions when key is given');if(p.dims.length<3||p.dims.length>5)throw new Error('Input "key" is expected to have 3, 4, or 5 dimensions');if(u.dims[0]!==p.dims[0])throw new Error('Input "query" and "key" shall have same dim 0 (batch size)');if(p.dims.length===3){if(p.dims[2]!==u.dims[2])throw new Error('Input "query" and "key" shall have same dim 2 (hidden_size)');V=2,P=p.dims[1]}else if(p.dims.length===5){if(p.dims[2]!==n.numHeads||p.dims[3]!==2||p.dims[4]!==W)throw new Error('Expect "key" shape (batch_size, kv_sequence_length, num_heads, 2, head_size) for packed kv');if(v)throw new Error('Expect "value" be none when "key" has packed kv format.');V=5,P=p.dims[1]}else{if(p.dims[1]!==n.numHeads||p.dims[3]!==W)throw new Error('Expect "key" shape (batch_size, num_heads, kv_sequence_length, head_size) for past_key');V=0,P=p.dims[2]}}else{if(u.dims.length!==3&&u.dims.length!==5)throw new Error('Input "query" is expected to have 3 or 5 dimensions when key is empty');if(u.dims.length===5&&(u.dims[2]!==n.numHeads||u.dims[3]!==3))throw new Error('Expect "query" shape (batch_size, kv_sequence_length, num_heads, 3, head_size) for packed kv');V=3}if(d){if(d.dims.length!==1)throw new Error('Input "bias" is expected to have 1 dimension');if(v&&u.dims.length===5&&u.dims[3]===2)throw new Error("bias is not allowed for packed kv.")}let $=0;if(g){$=8;const X=g.dims;throw X.length===1?X[0]===m?$=1:X[0]===3*m+2&&($=3):X.length===2&&X[0]===m&&X[1]===P&&($=5),$===8?new Error('Input "key_padding_mask" shape shall be (batch_size) or (batch_size, kv_sequence_length)'):new Error("Mask not supported")}let b=!1,H=e;if(v){if(v.dims.length!==3&&v.dims.length!==4)throw new Error('Input "value" is expected to have 3 or 4 dimensions');if(u.dims[0]!==v.dims[0])throw new Error('Input "query" and "value" shall have same dim 0 (batch_size)');if(v.dims.length===3){if(P!==v.dims[1])throw new Error('Input "key" and "value" shall have the same dim 1 (kv_sequence_length)');H=v.dims[2]}else{if(P!==v.dims[2])throw new Error('Input "past_key" and "past_value" shall have the same dim 2 (kv_sequence_length)');H=v.dims[1]*v.dims[3],b=!0}}const G=O+P,Y=!1;if(g)throw new Error("Key padding mask is not supported");if(_){if(_.dims.length!==4)throw new Error('Input "relative_position_bias" is expected to have 4 dimensions');if(_.dims[0]!==m&&_.dims[0]!==1||_.dims[1]!==n.numHeads||_.dims[2]!==y||_.dims[3]!==G)throw new Error('Input "relative_position_bias" shape (batch_size, 1, sequence_length, kv_sequence_length)')}return{batchSize:m,sequenceLength:y,pastSequenceLength:O,kvSequenceLength:P,totalSequenceLength:G,maxSequenceLength:U,inputHiddenSize:0,hiddenSize:e,vHiddenSize:H,headSize:W,vHeadSize:Math.floor(H/n.numHeads),numHeads:n.numHeads,isUnidirectional:!1,pastPresentShareBuffer:!1,maskFilterValue:n.maskFilterValue,maskType:$,scale:n.scale,broadcastResPosBias:Y,passPastInKv:b,qkvFormat:V}},parseMultiHeadAttentionAttributes=l=>createAttributeWithCacheKey2({...l}),weightTransposeAttribute2=createAttributeWithCacheKey2({perm:[0,2,1,3]}),addBiasTranspose=(l,n,u,p,v,d,g)=>{const _=[p,v,d],C=ShapeUtil2.size(_),E=[{type:12,data:C},{type:12,data:g},{type:12,data:d}],w=m=>{const y=outputVariable("qkv_with_bias",n.dataType,_),e=inputVariable("qkv",n.dataType,_),P=inputVariable("bias",u.dataType,_),O=[{name:"output_size",type:"u32"},{name:"bias_offset",type:"u32"},{name:"hidden_size",type:"u32"}];return`
  ${m.registerUniforms(O).declareVariables(e,P,y)}
  ${m.mainStart()}
    ${m.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
    let bias_offset_idx = (global_idx % uniforms.hidden_size) + uniforms.bias_offset;

    qkv_with_bias[global_idx] = qkv[global_idx] + bias[bias_offset_idx];
  }`};return l.compute({name:"MultiHeadAttentionAddBias",shaderCache:{inputDependencies:["type","type"]},getRunData:()=>({outputs:[{dims:_,dataType:n.dataType,gpuDataType:0}],dispatchGroup:{x:Math.ceil(C/64)},programUniforms:E}),getShaderSource:w},{inputs:[n,u],outputs:[-1]})[0]},maybeTransposeToBNSHAndAddBias=(l,n,u,p,v,d,g,_)=>{let C=d;if(g){if(p===1)throw new Error("AddBiasReshape is not implemented. Please export your model with packed QKV or KV");return C=addBiasTranspose(l,d,g,n,p,u*v,_),C=C.reshape([n,p,u,v]),l.compute(createTransposeProgramInfo2(C,weightTransposeAttribute2.perm),{inputs:[C],outputs:[-1]})[0]}else return d.dims.length===3&&(C=d.reshape([n,p,u,v])),l.compute(createTransposeProgramInfo2(C,weightTransposeAttribute2.perm),{inputs:[C],outputs:[-1]})[0]},multiHeadAttention=(l,n)=>{const u=validateInputs41(l.inputs,n),p=l.inputs[0],v=getInput(l.inputs,1),d=getInput(l.inputs,2),g=getInput(l.inputs,3),_=getInput(l.inputs,4),C=getInput(l.inputs,5),E=getInput(l.inputs,6),w=getInput(l.inputs,7);if(p.dims.length===5)throw new Error("Packed QKV is not implemented");if((v==null?void 0:v.dims.length)===5)throw new Error("Packed KV is not implemented");const m=v&&d&&v.dims.length===4&&d.dims.length===4,y=maybeTransposeToBNSHAndAddBias(l,u.batchSize,u.numHeads,u.sequenceLength,u.headSize,p,g,0);if(m)return applyAttention(l,y,v,d,_,void 0,E,w,C,u,n);if(!v||!d)throw new Error("key and value must be provided");const e=maybeTransposeToBNSHAndAddBias(l,u.batchSize,u.numHeads,u.kvSequenceLength,u.headSize,v,g,u.hiddenSize),P=maybeTransposeToBNSHAndAddBias(l,u.batchSize,u.numHeads,u.kvSequenceLength,u.vHeadSize,d,g,2*u.hiddenSize);applyAttention(l,y,e,P,_,void 0,E,w,C,u,n)}}}),getRepeats,validateInputs42,getOutputShape3,createTileProgramInfo2,tile2,init_tile2=__esm({"web/lib/wasm/jsep/webgpu/ops/tile.ts"(){init_wasm_common(),init_util2(),init_common(),getRepeats=l=>Array.from(l.getBigInt64Array(),Number),validateInputs42=l=>{if(!l||l.length!==2)throw new Error("Tile requires 2 inputs.");if(l[0].dataType!==1&&l[0].dataType!==10&&l[0].dataType!==6&&l[0].dataType!==12)throw new Error("Tile only support float, float16, int32, and uint32 data types");if(l[1].dataType!==7)throw new Error("Tile `repeats` input should be of int64 data type");if(l[1].dims.length!==1)throw new Error("Tile `repeats` input should be 1-D");if(getRepeats(l[1]).length!==l[0].dims.length)throw new Error("Tile `repeats` input should have same number of elements as rank of input data tensor")},getOutputShape3=(l,n)=>{const u=[];for(let p=0;p<l.length;++p)u.push(l[p]*n[p]);return u},createTileProgramInfo2=(l,n)=>{const u=l[0].dims,p=n??getRepeats(l[1]),v=getOutputShape3(u,p),d=ShapeUtil2.size(v),g=l[0].dataType,_=inputVariable("input",g,u.length),C=outputVariable("output",g,v.length),E=w=>`
      const inputShape = ${_.indices(...u)};
      ${w.registerUniform("output_size","u32").declareVariables(_,C)}
      ${w.mainStart()}
      ${w.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
      let output_indices = ${C.offsetToIndices("global_idx")};
      var input_indices: ${_.type.indices};
      for (var i = 0; i < ${u.length}; i++) {
        let input_dim_i = ${_.indicesGet("uniforms.input_shape","i")};
        let input_dim_value = ${C.indicesGet("output_indices","i")}  % input_dim_i;

        ${_.indicesSet("input_indices","i","input_dim_value")}
      }
      ${C.setByOffset("global_idx",_.getByIndices("input_indices"))}
    }`;return{name:"Tile",shaderCache:{hint:`${p}`,inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:v,dataType:l[0].dataType}],dispatchGroup:{x:Math.ceil(d/64)},programUniforms:[{type:12,data:d},...createTensorShapeVariables(l[0].dims,v)]}),getShaderSource:E}},tile2=l=>{validateInputs42(l.inputs),l.compute(createTileProgramInfo2(l.inputs),{inputs:[0]})}}}),validateInputs43,createConcatProgramInfo2,parseGroupQueryAttentionAttributes,weightTransposeAttribute3,maybeExpandAndTransposeToBNSH,groupQueryAttention,init_group_query_attention=__esm({"web/lib/wasm/jsep/webgpu/ops/group-query-attention.ts"(){init_wasm_common(),init_util2(),init_attribute_with_cache_key2(),init_attention(),init_common(),init_multihead_attention(),init_tile2(),init_transpose2(),validateInputs43=(l,n)=>{const u=l[0],p=l[1],v=l[2],d=l[3],g=l[4];if(u.dims.length!==3&&u.dims.length!==5)throw new Error("Input query is expected to have 3 or 5 dimensions");const _=!1,C=u.dims[0],E=u.dims[1],w=u.dims.length===3?_?u.dims[2]/3:u.dims[2]:n.numHeads*u.dims[4];let m=E,y=0,e=0;const P=Math.floor(w/n.numHeads),O=d&&d.dims.length!==0,U=g&&g.dims.length!==0,W=!0;if(O&&U){if(d.dims.length!==4)throw new Error('Input "past_key" is expected to have 4 dimensions');if(g.dims.length!==4)throw new Error('Input "past_value" is expected to have 4 dimensions');y=d.dims[1],e=d.dims[1]}else if(O||U)throw new Error('Input "past_key" and "past_value" shall be both present or both absent');let V;if(p){if(u.dims.length!==3)throw new Error('Input "query" is expected to have 3 dimensions when key is given');if(p.dims.length<3||p.dims.length>5)throw new Error('Input "key" is expected to have 3, 4, or 5 dimensions');if(u.dims[0]!==p.dims[0])throw new Error('Input "query" and "key" shall have same dim 0 (batch size)');if(p.dims.length===3){if(u.dims[2]%p.dims[2]!==0)throw new Error('Dimension 2 of "query" should be a multiple of "key"');V=2,m=p.dims[1]}else if(p.dims.length===5){if(p.dims[2]!==n.numHeads||p.dims[3]!==2||p.dims[4]!==P)throw new Error('Expect "key" shape (batch_size, kv_sequence_length, num_heads, 2, head_size) for packed kv');if(v)throw new Error('Expect "value" be none when "key" has packed kv format.');V=5,m=p.dims[1]}else{if(p.dims[1]!==n.numHeads||p.dims[3]!==P)throw new Error('Expect "key" shape (batch_size, num_heads, kv_sequence_length, head_size) for past_key');V=0,m=p.dims[2]}}else{if(u.dims.length!==3&&u.dims.length!==5)throw new Error('Input "query" is expected to have 3 or 5 dimensions when key is empty');if(u.dims.length===5&&(u.dims[2]!==n.numHeads||u.dims[3]!==3))throw new Error('Expect "query" shape (batch_size, kv_sequence_length, num_heads, 3, head_size) for packed kv');V=3}const $=0;let b=!1,H=w;if(v){if(v.dims.length!==3&&v.dims.length!==4)throw new Error('Input "value" is expected to have 3 or 4 dimensions');if(u.dims[0]!==v.dims[0])throw new Error('Input "query" and "value" shall have same dim 0 (batch_size)');if(v.dims.length===3){if(m!==v.dims[1])throw new Error('Input "key" and "value" shall have the same dim 1 (kv_sequence_length)');H=v.dims[2]}else{if(m!==v.dims[2])throw new Error('Input "past_key" and "past_value" shall have the same dim 2 (kv_sequence_length)');H=v.dims[1]*v.dims[3],b=!0}}const G=y+m;return{batchSize:C,sequenceLength:E,pastSequenceLength:y,kvSequenceLength:m,totalSequenceLength:G,maxSequenceLength:e,inputHiddenSize:0,hiddenSize:w,vHiddenSize:H,headSize:P,vHeadSize:Math.floor(H/n.kvNumHeads),numHeads:n.numHeads,kvNumHeads:n.kvNumHeads,nReps:n.numHeads/n.kvNumHeads,pastPresentShareBuffer:!1,maskType:$,scale:n.scale,broadcastResPosBias:!1,passPastInKv:b,qkvFormat:V,isPastkvBSNH:W}},createConcatProgramInfo2=(l,n,u,p)=>{const v=[p.batchSize,p.totalSequenceLength,p.kvNumHeads,p.headSize],d=4,g=ShapeUtil2.size(v)/d,_=p.totalSequenceLength,C=outputVariable("present_kv",u,v.length,d),E=inputVariable("new_kv",l.dataType,l.dims.length,d),w=n?inputVariable("past_kv",n.dataType,n.dims.length,d):void 0,m=Math.ceil(p.headSize/d),y={x:_,y:l.dims[0],z:1},e=n?["rank","rank"]:["rank"],P=[{type:12,data:g},{type:12,data:p.pastSequenceLength},{type:12,data:p.kvSequenceLength},{type:12,data:p.totalSequenceLength}],O=[E];w?(P.push(...createTensorShapeVariables(l.dims),...createTensorShapeVariables(n.dims),...createTensorShapeVariables(v)),O.push(w)):P.push(...createTensorShapeVariables(l.dims),...createTensorShapeVariables(v));const U=[{name:"output_size",type:"u32"},{name:"past_seqlen",type:"u32"},{name:"new_seqlen",type:"u32"},{name:"present_seqlen",type:"u32"}],W=`      let past_batch_stride = uniforms.past_seqlen * num_heads * H;
        var past_head_stride = uniforms.past_seqlen * H;
        if (is_bsnh) {
          past_head_stride = H;
        }
        let in_offset = b * past_batch_stride + s * row_stride + n * past_head_stride + h;
        present_kv[out_offset] = past_kv[in_offset];`,V=`      let new_batch_stride = uniforms.new_seqlen * num_heads * H;
        let new_row_stride = num_heads * H;
        let new_head_stride = H;
        let in_offset = b * new_batch_stride + (s - past_seqlen) * new_row_stride + n * new_head_stride + h;
        present_kv[out_offset] = new_kv[in_offset];`,$=n?`if (s < past_seqlen) {
        ${W}
        } else if (s < past_seqlen + uniforms.new_seqlen) {
        ${V}
        }`:`if (s < past_seqlen + uniforms.new_seqlen) {
          ${V}
        }`,b=H=>`

  ${H.registerUniforms(U).declareVariables(...O,C)}
  ${H.mainStart([m,p.kvNumHeads,1])}
    ${H.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
    var indices = ${C.offsetToIndices("global_idx")};
    let h = local_id.x;
    let n = local_id.y;
    let s = workgroup_id.x;
    let b = workgroup_id.y;
    let num_heads = ${p.kvNumHeads}u;
    let H = ${m}u;

    let present_seqlen = uniforms.present_seqlen;
    let present_batch_stride = present_seqlen * num_heads * H;
    var row_stride = H;
    let is_bsnh = ${p.isPastkvBSNH};

    if (is_bsnh) {
      row_stride = num_heads * H;
    }
    var present_head_stride = present_seqlen * H;
    if (is_bsnh) {
      present_head_stride = H;
    }

    let past_seqlen = uniforms.past_seqlen;

    let out_offset = b * present_batch_stride + s * row_stride + n * present_head_stride + h;
    ${$}
  }`;return{name:"ConcatPastNew",shaderCache:{hint:`${p.kvNumHeads}${m}${!!n}`,inputDependencies:e},getRunData:()=>({outputs:[{dims:v,dataType:u}],dispatchGroup:y,programUniforms:P}),getShaderSource:b}},parseGroupQueryAttentionAttributes=l=>createAttributeWithCacheKey2({...l}),weightTransposeAttribute3=createAttributeWithCacheKey2({perm:[0,2,1,3]}),maybeExpandAndTransposeToBNSH=(l,n,u,p,v)=>{let d=n;const g=p.kvNumHeads,_=p.nReps;return n.dims.length===3&&p.kvSequenceLength!==0&&(d=n.reshape([p.batchSize,p.kvSequenceLength,g,p.headSize])),u?d=l.compute(createConcatProgramInfo2(d,u,d.dataType,p),{inputs:[d,u],outputs:[p.isPastkvBSNH?v:-1]})[0]:d=l.compute(createConcatProgramInfo2(d,void 0,d.dataType,p),{inputs:[d],outputs:[p.isPastkvBSNH?v:-1]})[0],_!==1&&(d=l.compute(createTileProgramInfo2([d],[1,1,1,_]),{inputs:[d],outputs:[-1]})[0],d=d.reshape([p.batchSize,p.totalSequenceLength,g*_,p.headSize])),l.compute(createTransposeProgramInfo2(d,weightTransposeAttribute3.perm),{inputs:[d],outputs:[-1]})[0]},groupQueryAttention=(l,n)=>{var C;const u=validateInputs43(l.inputs,n);if(l.inputs[0].dims.length===5)throw new Error("Packed QKV is not implemented");if(((C=l.inputs[1])==null?void 0:C.dims.length)===5)throw new Error("Packed KV is not implemented");const p=maybeTransposeToBNSHAndAddBias(l,u.batchSize,u.numHeads,u.sequenceLength,u.headSize,l.inputs[0],void 0,0),v=l.inputs[3]&&l.inputs[3].dims.length!==0?l.inputs[3]:void 0,d=l.inputs[4]&&l.inputs[4].dims.length!==0?l.inputs[4]:void 0,g=maybeExpandAndTransposeToBNSH(l,l.inputs[1],v,u,1),_=maybeExpandAndTransposeToBNSH(l,l.inputs[2],d,u,2);applyAttention(l,p,g,_,void 0,void 0,void 0,void 0,void 0,u,n)}}}),createInstanceNormProgramInfo,computeMean,createInstanceNormNHWCProgramInfo,instanceNorm,init_instance_norm=__esm({"web/lib/wasm/jsep/webgpu/ops/instance-norm.ts"(){init_wasm_common(),init_util2(),init_common(),createInstanceNormProgramInfo=(l,n)=>{const u=l[0].dims,p=u,v=2,d=ShapeUtil2.sizeToDimension(u,v),g=ShapeUtil2.sizeFromDimension(u,v),_=getMaxComponents(g),C=g/_,E=[u[0],u[1],C],w=["rank","type","type"],m=[{type:12,data:g},{type:12,data:C}];m.push(...createTensorShapeVariables(E,E));const y=e=>{const P=inputVariable("x",l[0].dataType,E.length,_),O=inputVariable("scale",l[1].dataType,l[1].dims),U=inputVariable("bias",l[2].dataType,l[2].dims),W=outputVariable("output",l[0].dataType,E.length,_),V=[P,O,U,W],$=P.type.value,b=_===1?"f32":`vec${_}<f32>`,H=64,G=[{name:"normSize",type:"u32"},{name:"normPackedSize",type:"u32"}];return`
  var<workgroup> meanShared : f32;
  var<workgroup> squaredNormShared : f32;
  var<workgroup> workgroupShared : array<${b}, ${H}>;
  const workgroupSize = ${H}u;
  ${e.registerUniforms(G).declareVariables(...V)}
  ${e.mainStart(H)}
    let norm = global_idx / workgroupSize;
    let batch = norm / uniforms.x_shape[1];
    let channel = norm % uniforms.x_shape[1];
    let localIndex = local_id.x;

    // initialize workgroup memory
    var initial = ${b}(0);
    for (var h = localIndex; h < uniforms.normPackedSize; h += workgroupSize) {
      initial = initial + ${b}(${P.get("batch","channel","h")});
    }
    workgroupShared[localIndex] = initial;
    workgroupBarrier();

    // Calculate the mean of current channel data.
    for (var currSize = workgroupSize >> 1;  currSize > 0; currSize = currSize >> 1) {
      if (localIndex < currSize) {
        workgroupShared[localIndex] = workgroupShared[localIndex] + workgroupShared[localIndex + currSize];
      }
      workgroupBarrier();
    }
    if (localIndex == 0) {
      meanShared = ${sumVector("workgroupShared[0]",_)} / f32(uniforms.normSize);
    }
    workgroupBarrier();

    // reinitialize workgroup memory.
    initial = ${b}(0);
    for (var h = localIndex; h < uniforms.normPackedSize; h += workgroupSize) {
      let deviation =  ${b}(${P.get("batch","channel","h")}) - ${b}(meanShared);
      initial = initial + deviation * deviation;
    }
    workgroupShared[localIndex] = initial;
    workgroupBarrier();

    // Calculate the sum of square of deviation of current channel data.
    for (var currSize = workgroupSize >> 1;  currSize > 0; currSize = currSize >> 1) {
      if (localIndex < currSize) {
        workgroupShared[localIndex] = workgroupShared[localIndex] + workgroupShared[localIndex + currSize];
      }
      workgroupBarrier();
    }
    if (localIndex == 0) {
      squaredNormShared = ${sumVector("workgroupShared[0]",_)};
    }
    workgroupBarrier();

    let invStdDev = inverseSqrt(squaredNormShared / f32(uniforms.normSize) + f32(${n.epsilon}));
    let channelScale = invStdDev * f32(${O.getByOffset("channel")});
    let channelShift = f32(${U.getByOffset("channel")}) - meanShared * channelScale;
    for (var h = localIndex; h < uniforms.normPackedSize; h += workgroupSize) {
      let value = ${P.get("batch","channel","h")} * ${$}(${b}(channelScale)) + ${$}(${b}(channelShift));
      ${W.set("batch","channel","h","value")};
    }
  }`};return{name:"InstanceNormalization",shaderCache:{hint:`${n.epsilon};${_}`,inputDependencies:w},getRunData:()=>({outputs:[{dims:p,dataType:l[0].dataType}],dispatchGroup:{x:d},programUniforms:m}),getShaderSource:y}},computeMean=(l,n,u,p,v,d,g,_)=>{const C=getMaxComponents(g),E=64,w=C===1?"vec2f":`mat2x${C}f`,m=C===1?"f32":`vec${C}f`,y=(G,Y)=>`${w}(${G}, ${Y})`,e=v*g/C,P=Math.ceil(d/E),O=["type"],U=[{type:12,data:P},{type:12,data:d},{type:12,data:Math.floor(g/C)},{type:12,data:Math.floor(d*g/C)}],W=G=>{const Y=inputVariable("input",n.dataType,n.dims,C);return`
  ${G.declareVariables(Y)}
  @group(0) @binding(1) var<storage, read_write> output : array<${w}>;
  struct Uniforms {wg_size:u32, H:u32, C:u32, image_size:u32};
  @group(0) @binding(2) var<uniform> uniforms: Uniforms;

  ${G.mainStart(E)}
    let currentImageNumber = global_idx / ${E} / uniforms.C;
    let currentChannelNumber = (global_idx / ${E}) % uniforms.C;
    let wgOffset = local_id.x * uniforms.wg_size;
    if (wgOffset >= uniforms.H) {
        return;
    }
    let wgMax = min(wgOffset + uniforms.wg_size, uniforms.H);

    let offset = currentImageNumber * uniforms.image_size + currentChannelNumber;
    var sum = ${fillVector("f32",C)};
    var squaredSum = ${fillVector("f32",C)};
    for (var i: u32 = wgOffset; i < wgMax; i++) {
        let value = ${m}(input[offset + i * uniforms.C]);
        sum += value;
        squaredSum += value * value;
    }
    output[global_idx] = ${y("sum","squaredSum")};
  }`},V=l.compute({name:"InstanceNormComputeMean",shaderCache:{hint:`${C}`,inputDependencies:O},getRunData:()=>({outputs:[{dims:[v,g,E,2],dataType:1}],dispatchGroup:{x:v*g/C},programUniforms:U}),getShaderSource:W},{inputs:[n],outputs:[-1]})[0],$=[{type:12,data:e},{type:12,data:d},{type:12,data:Math.floor(g/C)},{type:12,data:Math.floor(E*g/C)}],b=["type","type","type"],H=G=>{const Y=inputVariable("scale",u.dataType,u.dims,C),X=inputVariable("bias",p.dataType,p.dims,C);return`
  @group(0) @binding(0) var<storage, read> input : array<${w}>;
  @group(0) @binding(1) var<storage, read> scale : array<${Y.type.storage}>;
  @group(0) @binding(2) var<storage, read> bias : array<${X.type.storage}>;
  @group(0) @binding(3) var<storage, read_write> output : array<${w}>;
  struct Uniforms {units_of_work : u32, H: u32, C : u32, image_size : u32};
  @group(0) @binding(4) var<uniform> uniforms: Uniforms;

  ${G.mainStart()}
    ${G.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.units_of_work")}
    let currentImageNumber = global_idx / uniforms.C;
    let currentChannelNumber = global_idx % uniforms.C;

    let offset = currentImageNumber * uniforms.image_size;
    var sum = ${fillVector("f32",C)};
    var squaredSum = ${fillVector("f32",C)};
    for (var i: u32 = 0; i < min(${E}, uniforms.H); i++) {
        let value = input[offset + i + currentChannelNumber * ${E}];
        sum += value[0];
        squaredSum += value[1];
    }
    sum = sum / f32(uniforms.H);
    squaredSum = squaredSum / f32(uniforms.H);
    let invStdDev = inverseSqrt(squaredSum - sum * sum + f32(${_}));
    let channelScale = invStdDev * ${m}(scale[currentChannelNumber]);
    let channelShift = ${m}(bias[currentChannelNumber]) - sum * channelScale;

    output[global_idx] = ${y("channelScale","channelShift")};
  }`};return l.compute({name:"InstanceNormComputeChannelScaleShift",shaderCache:{hint:`${C};${_}`,inputDependencies:b},getRunData:()=>({outputs:[{dims:[v,g,2],dataType:1}],dispatchGroup:{x:Math.ceil(e/64)},programUniforms:$}),getShaderSource:H},{inputs:[V,u,p],outputs:[-1]})[0]},createInstanceNormNHWCProgramInfo=(l,n,u)=>{const p=n[0].dims,v=p,d=p[0],g=p[p.length-1],_=ShapeUtil2.sizeFromDimension(p,1)/g,C=getMaxComponents(g),E=ShapeUtil2.size(v)/C,w=[{type:12,data:_},{type:12,data:Math.floor(g/C)}],m=["type","type"],y=computeMean(l,n[0],n[1],n[2],d,_,g,u.epsilon),e=P=>{const O=tensorTypeToWsglStorageType(n[0].dataType),U=C===1?"vec2f":`mat2x${C}f`,W=C===1?O:`vec${C}<${O}>`,V=inputVariable("input",n[0].dataType,n[0].dims,C),$=outputVariable("output",n[0].dataType,v,C);return`
  @group(0) @binding(0) var<storage, read> input : array<${V.type.storage}>;
  @group(0) @binding(1) var<storage, read> scaleInput : array<${U}>;
  @group(0) @binding(2) var<storage, read_write> output : array<${$.type.storage}>;
  struct Uniforms {H: u32, C : u32};
  @group(0) @binding(3) var<uniform> uniforms: Uniforms;

  ${P.mainStart()}
    let currentImageNumber = global_idx / (uniforms.C * uniforms.H);
    let currentChannelNumber = global_idx % uniforms.C;

    let scaleOffset = currentImageNumber * uniforms.C + currentChannelNumber;
    let scale = scaleInput[scaleOffset];
    output[global_idx] = fma(input[global_idx], ${W}(scale[0]), ${W}(scale[1]));
  }`};l.compute({name:"InstanceNormalizationNHWC",shaderCache:{hint:`${C}`,inputDependencies:m},getRunData:()=>({outputs:[{dims:v,dataType:n[0].dataType}],dispatchGroup:{x:Math.ceil(E/64)},programUniforms:w}),getShaderSource:e},{inputs:[n[0],y]})},instanceNorm=(l,n)=>{n.format==="NHWC"?createInstanceNormNHWCProgramInfo(l,l.inputs,n):l.compute(createInstanceNormProgramInfo(l.inputs,n))}}}),validateInputs44,createLayerNormProgramInfo,layerNorm,init_layer_norm=__esm({"web/lib/wasm/jsep/webgpu/ops/layer-norm.ts"(){init_wasm_common(),init_util2(),init_common(),validateInputs44=l=>{if(!l||l.length<2)throw new Error("layerNorm requires at least 2 inputs.")},createLayerNormProgramInfo=(l,n,u)=>{const p=n.simplified,v=l[0].dims,d=l[1],g=!p&&l[2],_=v,C=ShapeUtil2.normalizeAxis(n.axis,v.length),E=ShapeUtil2.sizeToDimension(v,C),w=ShapeUtil2.sizeFromDimension(v,C),m=ShapeUtil2.size(d.dims),y=g?ShapeUtil2.size(g.dims):0;if(m!==w||g&&y!==w)throw new Error(`Size of X.shape()[axis:] == ${w}.
       Size of scale and bias (if provided) must match this.
       Got scale size of ${m} and bias size of ${y}`);const e=[];for(let H=0;H<v.length;++H)H<C?e.push(v[H]):e.push(1);const P=getMaxComponents(w),O=["type","type"],U=[{type:12,data:E},{type:1,data:w},{type:12,data:Math.floor(w/P)},{type:1,data:n.epsilon}];g&&O.push("type");const W=u>1,V=u>2,$=H=>{const G=tensorTypeToWsglStorageType(l[0].dataType),Y=[inputVariable("x",l[0].dataType,l[0].dims,P),inputVariable("scale",d.dataType,d.dims,P)];g&&Y.push(inputVariable("bias",g.dataType,g.dims,P)),Y.push(outputVariable("output",l[0].dataType,_,P)),W&&Y.push(outputVariable("mean_data_output",1,e)),V&&Y.push(outputVariable("inv_std_output",1,e));const X=[{name:"norm_count",type:"u32"},{name:"norm_size",type:"f32"},{name:"norm_size_vectorized",type:"u32"},{name:"epsilon",type:"f32"}];return`
  ${H.registerUniforms(X).declareVariables(...Y)}
  ${H.mainStart()}
    ${H.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.norm_count")}
    let offset = global_idx * uniforms.norm_size_vectorized;
    var mean_vector = ${fillVector("f32",P)};
    var mean_square_vector = ${fillVector("f32",P)};

    for (var h: u32 = 0u; h < uniforms.norm_size_vectorized; h++) {
      let value = ${castToF32(G,P,"x[h + offset]")};
      mean_vector += value;
      mean_square_vector += value * value;
    }
    let mean = ${sumVector("mean_vector",P)} / uniforms.norm_size;
    let inv_std_dev = inverseSqrt(${sumVector("mean_square_vector",P)} / uniforms.norm_size ${p?"":"- mean * mean"} + uniforms.epsilon);

    for (var j: u32 = 0; j < uniforms.norm_size_vectorized; j++) {
      let f32input = ${castToF32(G,P,"x[j + offset]")};
      let f32scale = ${castToF32(G,P,"scale[j]")};
      output[j + offset] = ${Y[0].type.value}((f32input ${p?"":"- mean"}) * inv_std_dev * f32scale
        ${g?`+ ${castToF32(G,P,"bias[j]")}`:""}
      );
    }

    ${W?"mean_data_output[global_idx] = mean":""};
    ${V?"inv_std_output[global_idx] = inv_std_dev":""};
  }`},b=[{dims:_,dataType:l[0].dataType}];return W&&b.push({dims:e,dataType:1}),V&&b.push({dims:e,dataType:1}),{name:"LayerNormalization",shaderCache:{hint:`${P};${u};${p}`,inputDependencies:O},getRunData:()=>({outputs:b,dispatchGroup:{x:Math.ceil(E/64)},programUniforms:U}),getShaderSource:$}},layerNorm=(l,n)=>{validateInputs44(l.inputs),l.compute(createLayerNormProgramInfo(l.inputs,n,l.outputCount))}}}),validateInputs45,createMatMulNBitsProgramInfo,matMulNBits,parseMatMulNBitsAttributes,init_matmulnbits=__esm({"web/lib/wasm/jsep/webgpu/ops/matmulnbits.ts"(){init_wasm_common(),init_util2(),init_attribute_with_cache_key2(),init_common(),validateInputs45=(l,n)=>{if(l.length<3||l.length>4)throw new Error("MatMulNBits requires 3 or 4 inputs");const u=l[0],p=u.dims.length;if(u.dims[p-1]!==n.k)throw new Error("The last dim of input shape does not match the k value");const v=Math.floor((n.k+n.blockSize-1)/n.blockSize),d=n.blockSize/8*n.bits,g=l[1];if(!ShapeUtil2.areEqual(g.dims,[n.n,v,d]))throw new Error("The second inputs must be 3D tensor with shape N X nBlocksPerCol X blobSize");const C=l[2].dims;if(ShapeUtil2.size(C)!==n.n*v)throw new Error("scales input size error.");if(l.length===4){const w=l[3].dims,m=n.bits>4?n.n*v:n.n*Math.floor((v+1)/2);if(ShapeUtil2.size(w)!==m)throw new Error("zeroPoints input size error.")}},createMatMulNBitsProgramInfo=(l,n,u,p)=>{const v=l[0].dims,d=v.length,g=Math.floor((n.k+n.blockSize-1)/n.blockSize),_=v[d-2],C=n.k,E=n.n,w=v.slice(0,d-2),m=ShapeUtil2.size(w),e=n.blockSize/8*n.bits/4,P=l[0].dataType,O=getMaxComponents(_),U=getMaxComponents(n.k),W=getMaxComponents(e),V=getTensorElementSize(P),$=_*g*V,b=Math.floor(p/$),H=g<=u[0]&&b>0,G=!H||b>=4?getMaxComponents(E):b>=2&&getMaxComponents(E)>=2?2:1,Y=w.concat([_,E]),X=ShapeUtil2.size(Y)/G/O,j=H?[]:[{type:12,data:X},{type:12,data:n.blockSize}],h=[m,_,C/U],ae=ShapeUtil2.convertShape(l[1].dims).slice();ae.splice(-1,1,e/W),j.push(...createTensorShapeVariables(h)),j.push(...createTensorShapeVariables(ae)),j.push(...createTensorShapeVariables(l[2].dims)),l.length===4&&j.push(...createTensorShapeVariables(ShapeUtil2.convertShape(l[3].dims)));const le=[m,_,E/G];j.push(...createTensorShapeVariables(le));const he=pe=>{const Ae=h.length,ge=inputVariable("a",l[0].dataType,Ae,U),ye=inputVariable("b",12,ae.length,W),we=inputVariable("scales",l[2].dataType,l[2].dims.length),be=[ge,ye,we],Ve=l.length===4?inputVariable("zero_points",12,l[3].dims.length):void 0;Ve&&be.push(Ve);const Ne=le.length,p0=outputVariable("output",l[0].dataType,Ne,G),k0=[{name:"output_size",type:"u32"},{name:"block_size",type:"u32"}],Ue=tensorTypeToWsglStorageType(l[0].dataType),xe=(()=>{switch(U){case 1:return`array<${Ue}, 8>`;case 2:return`mat4x2<${Ue}>`;case 4:return`mat2x4<${Ue}>`;default:throw new Error(`${U}-component is not supported.`)}})(),I0=`
        for (var word: u32 = 0; word < ${e}; word += ${W}) {
          ${ye.indicesSet("b_indices","2","word")};
          let b_data = ${ye.getByIndices("b_indices")};
          for (var i: u32 = 0; i < ${W}; i++) {
            let b_value: u32 = ${W===1?"b_data":"b_data[word + i]"};
            let b_mask: u32 = 0x0F0F0F0Fu;
            let b_value_lower: vec4<u32> = unpack4xU8(b_value & b_mask);
            let b_value_upper: vec4<u32> = unpack4xU8((b_value >> 4) & b_mask);
            let b_quantized_values = ${xe}(${Array.from({length:4},(Q0,tt)=>`${Ue}(b_value_lower[${tt}]), ${Ue}(b_value_upper[${tt}])`).join(", ")});
            let b_dequantized_values = ${U===1?`${xe}(${Array.from({length:8},(Q0,tt)=>`(b_quantized_values[${tt}] - zero_point) * scale`).join(", ")});`:`(b_quantized_values - ${xe}(${Array(8).fill("zero_point").join(",")})) * scale;`};
            // Number of B elements per 32-bit word is 32/bits = 32/4 = 8
            for (var m: u32 = 0; m < ${H?_:O}u; m++) {
              ${ge.indicesSet("a_indices",Ae-2,H?"m":`row * ${O} + m`)};
              ${ge.indicesSet("a_indices",Ae-1,"word_offset")};
              var input_offset = ${ge.indicesToOffset("a_indices")};
              var a_data: ${xe};
              for (var j: u32 = 0; j < ${8/U}; j++) {
                a_data[j] = ${ge.getByOffset("input_offset")};
                input_offset++;
              }
              ${H?"workgroup_shared[workgroup_shared_offset + m]":"output_values[m]"}${G>1?"[c]":""} += ${Array.from({length:8/U},(Q0,tt)=>`${U===1?`a_data[${tt}] * b_dequantized_values[${tt}]`:`dot(a_data[${tt}], b_dequantized_values[${tt}])`}`).join(" + ")};
            }
            word_offset += ${8/U};
          }
        }`,O0=Ve?`
          zero_point_offset += 4;
          if (zero_point_offset == 32) {
            zero_point_offset = 0;
            zero_point_index++;
            zero_point_word = ${Ve.getByOffset("zero_point_index")};
          }`:"";return H?`
        var<workgroup> workgroup_shared: array<${p0.type.value}, ${_*g}>;
        ${pe.declareVariables(...be,p0)}
        ${pe.mainStart([g,1,1])}
          var a_indices: ${ge.type.indices};
          var block = local_id.x;
          var col = workgroup_id.y;
          var batch = workgroup_id.z;
          ${ge.indicesSet("a_indices","0","batch")};
          // Two zero points are packed into one byte when uniforms.bits is 4.
          for (var c: u32 = 0; c < ${G}; c++) {
            let col_times_components_plus_c = col * ${G} + c;
              ${Ve?`
            var zero_point_bytes_per_col: u32 = (${g} + 1) / 2;
            var zero_point_byte_count: u32 = col_times_components_plus_c * zero_point_bytes_per_col + (block >> 0x1u);
            var zero_point_word_index: u32 = zero_point_byte_count >> 0x2u;
            var zero_point_byte_offset: u32 = zero_point_byte_count & 0x3u;
            var zero_point_nibble_offset: u32 = block & 0x1u;
            var zero_point_bits_offset: u32 = (zero_point_byte_offset << 3) + (zero_point_nibble_offset << 2);
            var zero_point_word: u32 = ${Ve.getByOffset("zero_point_word_index")} >> zero_point_bits_offset;`:""}
            var b_indices: ${ye.type.indices};
            ${ye.indicesSet("b_indices","0","col_times_components_plus_c")};
            // The scale and zero points are computed per block.
            var scales_index = col_times_components_plus_c * ${g} + block;
            let scale = ${we.getByOffset("scales_index")};
            // The default zero point is 8 for unsigned 4-bit quantization.
            let zero_point = ${Ue}(${Ve?"(zero_point_word) & 0xFu":8});
            ${ye.indicesSet("b_indices","1","block")};
            var word_offset: u32 = block * ${n.blockSize/U};
            var workgroup_shared_offset: u32 = block * ${_};
            ${I0}
          }
          workgroupBarrier();
          var output_indices: ${p0.type.indices};
          var elements_per_thread: u32 = ${Math.ceil(_/g)};
          ${p0.indicesSet("output_indices","0","batch")};
          ${p0.indicesSet("output_indices",Ne-1,"col")};
          ${p0.indicesSet("output_indices",Ne-2,"local_id.x * elements_per_thread")};
          var output_offset = ${p0.indicesToOffset("output_indices")};
          for (var m: u32 = 0u; m < elements_per_thread; m++) {
            var row = m + local_id.x * elements_per_thread;
            if (row < ${_}) {
              var output_value: ${p0.type.value} = ${p0.type.value}(0);
              var workgroup_shared_offset: u32 = row;
              for (var b: u32 = 0u; b < ${g}u; b++) {
                output_value += workgroup_shared[workgroup_shared_offset];
                workgroup_shared_offset += ${_};
              }
              ${p0.setByOffset("output_offset","output_value")};
              output_offset += ${E/G};
            }
          }
        }`:`
        ${pe.registerUniforms(k0).declareVariables(...be,p0)}
        ${pe.mainStart()}
          ${pe.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
          var output_values: array<${p0.type.value}, ${O}>;
          var output_indices = ${p0.offsetToIndices("global_idx")};
          var col = ${p0.indicesGet("output_indices",Ne-1)};
          var row = ${p0.indicesGet("output_indices",Ne-2)};
          var a_indices: ${ge.type.indices} = output_indices;
          // Two zero points are packed into one byte because uniforms.bits <= 4.
          // zero_point_offset is either 0 or 4. It is bit offset within one byte.
          // TODO support zero_point_offset for bits > 4
          ${Ve?`
          var zero_point_abs_offset = col * ${G} * ((${g} + 1) / 2);
          var zero_point_index: u32 = zero_point_abs_offset / 4;
          var zero_point_word: u32 = ${Ve.getByOffset("zero_point_index")};
          var zero_point_offset: u32 = (zero_point_abs_offset % 4) * 8;`:""}
          var scale_index = col * ${g*G};
          var b_indices: ${ye.type.indices};
          for (var c: u32 = 0; c < ${G}; c++) {
            ${ye.indicesSet("b_indices","0",`col * ${G} + c`)};
            var block_offset: u32 = 0;
            for (var block: u32 = 0; block < ${g}; block++) {
              // The scale and zero points are computed per block.
              let scale = ${we.getByOffset("scale_index")};
              // The default zero point is 8 for unsigned 4-bit quantization.
              let zero_point = ${Ue}(${Ve?"extractBits(zero_point_word, zero_point_offset, 4)":8});
              ${ye.indicesSet("b_indices","1","block")};
              var word_offset: u32 = block_offset;
              ${I0}
              scale_index++;
              ${O0}
              block_offset += uniforms.block_size / ${U};
            }
            // Drop the trailing 4 bits if the zero_poit_offset is not a byte boundary to align with the next byte.
            ${Ve?`if (zero_point_offset % 8 > 0) {
                ${O0}
              }`:""}
            }
            for (var k: u32 = 0u; k < ${O}u; k++) {
              ${p0.indicesSet("output_indices",Ne-2,`${O} * row + k`)};
              ${p0.setByIndices("output_indices","output_values[k]")}
            }
        }`};return{name:H?"BlockwiseMatMulNBits":"MatMulNBits",shaderCache:{hint:`${n.cacheKey};${_};${P};${l.length}`,inputDependencies:Array(l.length).fill("rank")},getRunData:()=>({outputs:[{dims:Y,dataType:P}],name:H?"BlockwiseMatMulNBits":"MatMulNBits",dispatchGroup:H?{x:1,y:Math.ceil(E/G),z:m}:{x:Math.ceil(X/64)},programUniforms:j}),getShaderSource:he}},matMulNBits=(l,n)=>{validateInputs45(l.inputs,n);const u=l.getMaxComputeWorkgroupSizes(),p=l.getMaxComputeWorkgroupStoragesize();l.compute(createMatMulNBitsProgramInfo(l.inputs,n,u,p))},parseMatMulNBitsAttributes=l=>createAttributeWithCacheKey2(l)}}),validateInputs46,getPadConstant2,getPadReflect2,getPadEdge2,getPadWrap,getPadSnippet,createPadProgramInfo2,createPadAttributesFromInputs,pad,init_pad2=__esm({"web/lib/wasm/jsep/webgpu/ops/pad.ts"(){init_wasm_common(),init_util2(),init_common(),validateInputs46=l=>{if(!l||l.length<1)throw new Error("Too few inputs");if(l[0].dataType!==1&&l[0].dataType!==10)throw new Error("Input type must be float or float16.");if(l.length>=2){let n=l[0].dims.length*2===l[1].dims[0];if(l.length===4&&(n=l[3].dims[0]*2===l[1].dims[0]),!n)throw new Error("The pads should be a 1D tensor of shape [2 * input_rank] or [2 * num_axes].")}},getPadConstant2=(l,n,u)=>{let p="";for(let v=n-1;v>=0;--v)p+=`
            k = i32(${l.indicesGet("indices",v)}) - ${getElementAt("uniforms.pads",v,u)};
            if (k < 0) {
              break;
            }
            if (k >= i32(${getElementAt("uniforms.x_shape",v,n)})) {
              break;
            }
            offset += k * i32(${getElementAt("uniforms.x_strides",v,n)});
        `;return`
          value = ${l.type.value}(uniforms.constant_value);
          for (var i = 0; i < 1; i++) {
            var offset = 0;
            var k = 0;
            ${p}
            value = x[offset];
          }
      `},getPadReflect2=(l,n,u)=>{let p="";for(let v=n-1;v>=0;--v)p+=`
                k = i32(${l.indicesGet("indices",v)}) - ${getElementAt("uniforms.pads",v,u)};
                if (k < 0) {
                  k = -k;
                }
                {
                  let _2n_1 = 2 * (i32(${getElementAt("uniforms.x_shape",v,n)}) - 1);
                  k = k % _2n_1;
                  if(k >= i32(${getElementAt("uniforms.x_shape",v,n)})) {
                    k = _2n_1 - k;
                  }
                }
                offset += k * i32(${getElementAt("uniforms.x_strides",v,n)});
            `;return`
              var offset = 0;
              var k = 0;
              ${p}
              value = x[offset];
          `},getPadEdge2=(l,n,u)=>{let p="";for(let v=n-1;v>=0;--v)p+=`
                k = i32(${l.indicesGet("indices",v)}) - ${getElementAt("uniforms.pads",v,u)};
                if (k < 0) {
                  k = 0;
                }
                if (k >= i32(${getElementAt("uniforms.x_shape",v,n)})) {
                  k = i32(${getElementAt("uniforms.x_shape",v,n)}) - 1;
                }
                offset += k * i32(${getElementAt("uniforms.x_strides",v,n)});
            `;return`
              var offset = 0;
              var k = 0;
              ${p}
              value = x[offset];
          `},getPadWrap=(l,n,u)=>{let p="";for(let v=n-1;v>=0;--v)p+=`
                k = i32(${l.indicesGet("indices",v)}) - ${getElementAt("uniforms.pads",v,u)};
                if (k < 0)  {
                  k += i32(${getElementAt("uniforms.x_shape",v,n)}]);
                }
                if (k >= i32(${getElementAt("uniforms.x_shape",v,n)})) {
                  k -= i32(${getElementAt("uniforms.x_shape",v,n)});
                }
                offset += k * i32(${getElementAt("uniforms.x_strides",v,n)});
            `;return`
              var offset = 0;
              var k = 0;
              ${p}
              value = x[offset];
          `},getPadSnippet=(l,n,u)=>{switch(u.mode){case 0:return getPadConstant2(l,n,u.pads.length);case 1:return getPadReflect2(l,n,u.pads.length);case 2:return getPadEdge2(l,n,u.pads.length);case 3:return getPadWrap(l,n,u.pads.length);default:throw new Error("Invalid mode")}},createPadProgramInfo2=(l,n)=>{const u=ShapeUtil2.padShape(l[0].dims.slice(),n.pads),p=l[0].dims,d=[{type:12,data:ShapeUtil2.size(u)},{type:6,data:n.pads}];n.mode===0&&d.push({type:l[0].dataType,data:n.value}),d.push(...createTensorShapeVariables(l[0].dims,u));const g=["rank"],_=C=>{const E=outputVariable("output",l[0].dataType,u.length),w=inputVariable("x",l[0].dataType,p.length),m=w.type.value,y=getPadSnippet(E,p.length,n),e=[{name:"output_size",type:"u32"},{name:"pads",type:"i32",length:n.pads.length}];return n.mode===0&&e.push({name:"constant_value",type:m}),`
            ${C.registerUniforms(e).declareVariables(w,E)}
            ${C.mainStart()}
            ${C.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}

            let indices = ${E.offsetToIndices("global_idx")};

            var value = ${m}(0);
            ${y}
            output[global_idx] = value;
        }`};return{name:"Pad",shaderCache:{hint:`${n.mode}`,inputDependencies:g},getRunData:()=>({outputs:[{dims:u,dataType:l[0].dataType}],dispatchGroup:{x:Math.ceil(ShapeUtil2.size(u)/64)},programUniforms:d}),getShaderSource:_}},createPadAttributesFromInputs=(l,n)=>{if(l.length>1){const u=l[1].getBigInt64Array(),p=l.length>=3&&l[2].data?l[2].getFloat32Array()[0]:0,v=l[0].dims.length,d=new Int32Array(2*v).fill(0);if(l.length>=4){const _=l[3].getBigInt64Array();for(let C=0;C<_.length;C++)d[Number(_[C])]=Number(u[C]),d[Number(_[C])+v]=Number(u[C+_.length])}else u.forEach((_,C)=>d[Number(C)]=Number(_));const g=[];return d.forEach(_=>g.push(_)),{mode:n.mode,value:p,pads:g}}else return n},pad=(l,n)=>{validateInputs46(l.inputs);const u=createPadAttributesFromInputs(l.inputs,n);l.compute(createPadProgramInfo2(l.inputs,u),{inputs:[0]})}}}),validateInputs47,getAdjustedPoolAttributesAndOutputShape2,getUniformAndPadInfo,generatePoolingCode2,createShaderKeyFromAttributes,createAveragePoolShaderKeyFromAttributes,createMaxPoolShaderKeyFromAttributes,parsePoolCommonAttributes,createAveragePoolProgramInfo2,parseAveragePoolAttributes2,averagePool2,globalPoolAttributes,parseGlobalAveragePoolAttributes2,globalAveragePool2,createMaxPoolProgramInfo2,maxPool2,parseMaxPoolAttributes2,parseGlobalMaxPoolAttributes,globalMaxPool2,init_pool2=__esm({"web/lib/wasm/jsep/webgpu/ops/pool.ts"(){init_esm(),init_wasm_common(),init_util2(),init_common(),validateInputs47=l=>{if(env2.webgpu.validateInputContent&&(!l||l.length!==1))throw new Error("Pool ops requires 1 input.")},getAdjustedPoolAttributesAndOutputShape2=(l,n,u)=>{const p=n.format==="NHWC",v=l.dims.slice();p&&v.splice(1,0,v.pop());const d=Object.hasOwnProperty.call(n,"dilations"),g=n.kernelShape.slice(),_=n.strides.slice(),C=d?n.dilations.slice():[],E=n.pads.slice();PoolConvUtil2.adjustPoolAttributes(u,v,g,_,C,E);const w=PoolConvUtil2.computePoolOutputShape(u,v,_,C,g,E,n.autoPad),m=Object.assign({},n);d?Object.assign(m,{kernelShape:g,strides:_,pads:E,dilations:C,cacheKey:n.cacheKey}):Object.assign(m,{kernelShape:g,strides:_,pads:E,cacheKey:n.cacheKey});const y=w.slice();return y.push(y.splice(1,1)[0]),[m,p?y:w]},getUniformAndPadInfo=(l,n)=>{const u=n.format==="NHWC",p=ShapeUtil2.size(l),v=ShapeUtil2.size(n.kernelShape),d=[{type:12,data:p},{type:12,data:v}],g=[{name:"outputSize",type:"u32"},{name:"kernelSize",type:"u32"}];if(n.kernelShape.length<=2){const _=n.kernelShape[n.kernelShape.length-1],C=n.strides[n.strides.length-1],E=n.pads[n.pads.length/2-1],w=n.pads[n.pads.length-1],m=!!(E+w);d.push({type:12,data:_},{type:12,data:C},{type:12,data:E},{type:12,data:w}),g.push({name:"kw",type:"u32"},{name:"sw",type:"u32"},{name:"pwStart",type:"u32"},{name:"pwEnd",type:"u32"});let y=!1;if(n.kernelShape.length===2){const e=n.kernelShape[n.kernelShape.length-2],P=n.strides[n.strides.length-2],O=n.pads[n.pads.length/2-2],U=n.pads[n.pads.length-2];y=!!(O+U),d.push({type:12,data:e},{type:12,data:P},{type:12,data:O},{type:12,data:U}),g.push({name:"kh",type:"u32"},{name:"sh",type:"u32"},{name:"phStart",type:"u32"},{name:"phEnd",type:"u32"})}return[d,g,!0,m,y]}else{if(u)throw new Error("Pooling with kernelShape.length > 2 is not supported for NHWC format.");const _=ShapeUtil2.computeStrides(n.kernelShape);d.push({type:12,data:_},{type:12,data:n.pads},{type:12,data:n.strides}),g.push({name:"kernelStrides",type:"u32",length:_.length},{name:"pads",type:"u32",length:n.pads.length},{name:"strides",type:"u32",length:n.strides.length});const C=n.pads.reduce((E,w)=>E+w);return[d,g,!!C,!1,!1]}},generatePoolingCode2=(l,n,u,p,v,d,g,_,C,E,w,m)=>{const y=v.format==="NHWC",e=n.type.value,P=outputVariable("output",n.type.tensor,p);if(v.kernelShape.length<=2){let O="",U="",W="";const V=u-(y?2:1);if(w?O=`
                for (var i: u32 = 0u; i < uniforms.kw; i++) {
                  xIndices[${V}] = indices[${V}] * uniforms.sw - uniforms.pwStart + i;
                  if (xIndices[${V}] < 0 || xIndices[${V}]
                      >= uniforms.x_shape[${V}]) {
                    pad++;
                    continue;
                  }
                  let x_val = x[${n.indicesToOffset("xIndices")}];
                  ${d}
                }`:O=`
                for (var i: u32 = 0u; i < uniforms.kw; i++) {
                  xIndices[${V}] = indices[${V}] * uniforms.sw - uniforms.pwStart + i;
                  let x_val = x[${n.indicesToOffset("xIndices")}];
                  ${d}
                }`,v.kernelShape.length===2){const b=u-(y?3:2);m?U=`
                for (var j: u32 = 0u; j < uniforms.kh; j++) {
                  xIndices[${b}] = indices[${b}] * uniforms.sh - uniforms.phStart + j;
                  if (xIndices[${b}] < 0 || xIndices[${b}] >= uniforms.x_shape[${b}]) {
                    pad += i32(uniforms.kw);
                    continue;
                  }
              `:U=`
                for (var j: u32 = 0u; j < uniforms.kh; j++) {
                  xIndices[${b}] = indices[${b}] * uniforms.sh - uniforms.phStart + j;
                `,W=`
              }
            `}return`
            ${l.registerUniforms(C).declareVariables(n,P)}

            ${l.mainStart()}
              ${l.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}

              let indices = ${P.offsetToIndices("global_idx")};
              var xIndices = ${P.offsetToIndices("global_idx")};

              var value = ${e}(${_});
              var pad = 0;
              ${U}
              ${O}
              ${W}
              ${g}

              output[global_idx] = value;
            }`}else{if(y)throw new Error("Pooling with kernelShape.length > 2 is not supported for NHWC format.");const O=v.kernelShape.length,U=v.pads.length;let W="";return E?W=`
                if (xIndices[j] >= uniforms.x_shape[j]) {
                  pad++;
                  isPad = true;
                  break;
                }
              }
              if (!isPad) {
                let x_val = x[${n.indicesToOffset("xIndices")}];
                ${d}
              }`:W=`
              }
              let x_val = x[${n.indicesToOffset("xIndices")}];
              ${d}
            `,`
            ${l.registerUniforms(C).declareVariables(n,P)}

            ${l.mainStart()}
              ${l.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
              let indices = ${P.offsetToIndices("global_idx")};
              var xIndices = ${P.offsetToIndices("global_idx")};

              var offsets: array<u32, ${O}>;

              var value = ${e}(${_});
              var pad = 0;
              var isPad = false;

              for (var i: u32 = 0u; i < uniforms.kernelSize; i++) {
                var offset = i;
                for (var j = 0u; j < ${O-1}u; j++) {
                  offsets[j] = offset / ${getElementAt("uniforms.kernelStrides","j",O)};
                  offset -= offsets[j] * ${getElementAt("uniforms.kernelStrides","j",O)};
                }
                offsets[${O-1}] = offset;

                isPad = false;
                for (var j = ${u-O}u; j < ${u}u; j++) {
                  xIndices[j] = indices[j] * ${getElementAt("uniforms.strides",`j - ${u-O}u`,O)}
                    + offsets[j - ${u-O}u] - ${getElementAt("uniforms.pads","j - 2u",U)};
                  ${W}
              }
              ${g}

              output[global_idx] = value;
            }`}},createShaderKeyFromAttributes=l=>`${l.format};${l.ceilMode};${l.autoPad};${l.kernelShape.length}`,createAveragePoolShaderKeyFromAttributes=l=>`${createShaderKeyFromAttributes(l)};${l.countIncludePad}`,createMaxPoolShaderKeyFromAttributes=l=>`${createShaderKeyFromAttributes(l)};${l.storageOrder};${l.dilations}`,parsePoolCommonAttributes=l=>({format:l.format,autoPad:["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][l.auto_pad],ceilMode:l.ceil_mode,kernelShape:l.kernel_shape,strides:l.strides,pads:l.pads}),createAveragePoolProgramInfo2=(l,n,u,p)=>{const[v,d]=getAdjustedPoolAttributesAndOutputShape2(n,p,u),g=inputVariable("x",n.dataType,n.dims.length),_=g.type.value,C="value += x_val;";let E="";v.countIncludePad?E+=`value /= ${_}(uniforms.kernelSize);`:E+=`value /= ${_}(i32(uniforms.kernelSize) - pad);`;const[w,m,y,e,P]=getUniformAndPadInfo(d,v);w.push(...createTensorShapeVariables(n.dims,d));const O=["rank"];return{name:l,shaderCache:{hint:`${p.cacheKey};${y};${e};${P}`,inputDependencies:O},getRunData:()=>({outputs:[{dims:d,dataType:n.dataType}],dispatchGroup:{x:Math.ceil(ShapeUtil2.size(d)/64)},programUniforms:w}),getShaderSource:U=>generatePoolingCode2(U,g,n.dims.length,d.length,v,C,E,0,m,y,e,P)}},parseAveragePoolAttributes2=l=>{const n=l.count_include_pad!==0,u=parsePoolCommonAttributes(l);if(u.ceilMode!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");const p={countIncludePad:n,...u,cacheKey:""};return{...p,cacheKey:createAveragePoolShaderKeyFromAttributes(p)}},averagePool2=(l,n)=>{validateInputs47(l.inputs),l.compute(createAveragePoolProgramInfo2("AveragePool",l.inputs[0],!1,n))},globalPoolAttributes={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[]},parseGlobalAveragePoolAttributes2=l=>{const n=l.format;return{format:n,...globalPoolAttributes,cacheKey:n}},globalAveragePool2=(l,n)=>{validateInputs47(l.inputs),l.compute(createAveragePoolProgramInfo2("GlobalAveragePool",l.inputs[0],!0,n))},createMaxPoolProgramInfo2=(l,n,u,p)=>{const[v,d]=getAdjustedPoolAttributesAndOutputShape2(n,p,u),g=`
      value = max(x_val, value);
    `,_="",C=inputVariable("x",n.dataType,n.dims.length),E=["rank"],[w,m,y,e,P]=getUniformAndPadInfo(d,v);return w.push(...createTensorShapeVariables(n.dims,d)),{name:l,shaderCache:{hint:`${p.cacheKey};${y};${e};${P}`,inputDependencies:E},getRunData:()=>({outputs:[{dims:d,dataType:n.dataType}],dispatchGroup:{x:Math.ceil(ShapeUtil2.size(d)/64)},programUniforms:w}),getShaderSource:O=>generatePoolingCode2(O,C,n.dims.length,d.length,v,g,_,n.dataType===10?-65504:-1e5,m,y,e,P)}},maxPool2=(l,n)=>{validateInputs47(l.inputs),l.compute(createMaxPoolProgramInfo2("MaxPool",l.inputs[0],!1,n))},parseMaxPoolAttributes2=l=>{const n=l.storage_order,u=l.dilations,p=parsePoolCommonAttributes(l);if(n!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(p.ceilMode!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");const v={storageOrder:n,dilations:u,...p,cacheKey:""};return{...v,cacheKey:createMaxPoolShaderKeyFromAttributes(v)}},parseGlobalMaxPoolAttributes=l=>{const n=l.format;return{format:n,...globalPoolAttributes,cacheKey:n}},globalMaxPool2=(l,n)=>{validateInputs47(l.inputs),l.compute(createMaxPoolProgramInfo2("GlobalMaxPool",l.inputs[0],!0,n))}}}),validateInputsContent,createRangeProgramInfo,range,init_range=__esm({"web/lib/wasm/jsep/webgpu/ops/range.ts"(){init_esm(),init_wasm_common(),init_common(),validateInputsContent=(l,n,u)=>{const p=l===n,v=l<n&&u<0,d=l>n&&u>0;if(p||v||d)throw new Error("Range these inputs' contents are invalid.")},createRangeProgramInfo=(l,n,u,p)=>{const v=Math.abs(Math.ceil((n-l)/u)),d=[v],g=v,_=[{type:12,data:g},{type:p,data:l},{type:p,data:u},...createTensorShapeVariables(d)],C=E=>{const w=outputVariable("output",p,d.length),m=w.type.value,y=[{name:"outputSize",type:"u32"},{name:"start",type:m},{name:"delta",type:m}];return`
        ${E.registerUniforms(y).declareVariables(w)}
        ${E.mainStart()}
        ${E.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
        output[global_idx] = uniforms.start + ${m}(global_idx) * uniforms.delta;
      }`};return{name:"Range",shaderCache:{hint:`${p}`},getShaderSource:C,getRunData:()=>({outputs:[{dims:d,dataType:p}],dispatchGroup:{x:Math.ceil(g/64)},programUniforms:_})}},range=l=>{let n=0,u=0,p=0;l.inputs[0].dataType===6?(n=l.inputs[0].getInt32Array()[0],u=l.inputs[1].getInt32Array()[0],p=l.inputs[2].getInt32Array()[0]):l.inputs[0].dataType===1&&(n=l.inputs[0].getFloat32Array()[0],u=l.inputs[1].getFloat32Array()[0],p=l.inputs[2].getFloat32Array()[0]),env2.webgpu.validateInputContent&&validateInputsContent(n,u,p),l.compute(createRangeProgramInfo(n,u,p,l.inputs[0].dataType),{inputs:[]})}}}),validateScales,updateScales,validateInputs48,getOriginalCoordinateFromResizedCoordinate,getNearestPixelFromOriginal,updateRoI,initOutputShape,adjustOutputShape,calculateOriginalIndicesFromOutputIndices,calculateInputIndicesFromOutputIndices,checkInputIndices,setChannelAndBatchIndices,bilinearInterpolation,bicubicInterpolation,trilinearInterpolation,createResizeProgramInfo,getOpsetVersionFromCustomDataBuffer,resize2,parseResizeAttributes,init_resize=__esm({"web/lib/wasm/jsep/webgpu/ops/resize.ts"(){init_wasm_common(),init_util2(),init_attribute_with_cache_key2(),init_common(),validateScales=(l,n)=>{if(l.every(u=>u>0||(()=>{throw new Error("Resize requires scales input values to be positive")})),l.length>0){if(n.mode==="linear"){if(!(l.length===2||l.length===3||l.length===4&&l[0]===1&&l[1]===1||l.length===4&&l[0]===1&&l[3]===1||l.length===5&&l[0]===1&&l[1]===1))throw new Error(`For linear mode, Resize requires scales to be 2D, 3D, 4D with either two outermost or one innermost and
            one outermost scale values equal to 1, or 5D with two outermost scale values equal to 1`)}else if(n.mode==="cubic"&&!(l.length===2||l.length===4&&l[0]===1&&l[1]===1||l.length===4&&l[0]===1&&l[3]===1))throw new Error("Resize requires scales input size to be 2 or 4 for cubic mode")}},updateScales=(l,n,u)=>{n.every(v=>v>=0&&v<u||(()=>{throw new Error("Resize requires axes input values to be positive and less than rank")}));const p=new Array(u).fill(1);return n.forEach((v,d)=>p[v]=l[d]),p},validateInputs48=(l,n,u,p,v,d)=>{const[g,_,C]=u>10?[1,2,3]:[-1,l.length>1?1:-1,-1],E=l[0].dims.length;if(g>0&&l.length>g&&l[g].dims.length>0)l[g].getFloat32Array().forEach(w=>d.push(w));else if(n.coordinateTransformMode==="tf_crop_and_resize")throw new Error("Resize requires RoI input to be specified when coordinateTransformMode is tfCropAndResize");if(_>0&&l.length>_&&l[_].dims.length>0){if(l[_].getFloat32Array().forEach(w=>p.push(w)),p.length!==0&&p.length!==E&&u>=18&&p.length!==n.axes.length)throw new Error("Resize requires scales input size to be same as input rank or axes size for opset 18 and up");validateScales(p,n),n.axes.length>0&&updateScales(p,n.axes,E).forEach((w,m)=>p[m]=w)}if(C>0&&l.length>C&&(l[C].getBigInt64Array().forEach(w=>v.push(Number(w))),v.length!==E||u>=18&&v.length===n.axes.length))throw new Error("Resize requires sizes input size to be same as input rank or axes size for opset 18 and up");if(n.axes.length>0){if(p.length!==n.axes.length)throw new Error('Resize requires "scales" input size to be of axes rank when axes attributes is specified');if(v.length!==n.axes.length)throw new Error('Resize requires "sizes" input size to be of rank axes rank when axes attributes is specified')}if(typeof p<"u"&&typeof v<"u"&&p.length>0&&v.length>E)throw new Error("Resize requires only of scales or sizes to be specified")},getOriginalCoordinateFromResizedCoordinate=(l,n)=>`fn getOriginalCoordinateFromResizedCoordinate(xResized: u32, xScale: f32, lengthResized: u32,
     lengthOriginal: u32, roiStart: f32, roiEnd: f32) -> ${n} { `+(()=>{switch(l){case"asymmetric":return`return ${n}(xResized) / ${n}(xScale);`;case"pytorch_half_pixel":return`if (lengthResized > 1) {
                    return (${n}(xResized) + 0.5) / ${n}(xScale) - 0.5;
                  } else {
                    return 0.0;
                  }`;case"tf_half_pixel_for_nn":return`return (${n}(xResized) + 0.5) / ${n}(xScale);`;case"align_corners":return`if (lengthResized == 1) {
                    return 0.0;
                  } else {
                    // The whole part and the fractional part are calculated separately due to inaccuracy of floating
                    // point division. As an example, f32(21) / f32(7) may evaluate to 2.99... instead of 3, causing an
                    // offset-by-one error later in floor().
                    let whole = ${n}(xResized * (lengthOriginal - 1) / (lengthResized - 1));
                    let fract =
                        ${n}(xResized * (lengthOriginal - 1) % (lengthResized - 1)) / ${n}(lengthResized - 1);
                    return whole + fract;
                  }`;case"tf_crop_and_resize":return`if (lengthResized > 1) {
                    return ${n}(roiStart) * ${n}(lengthOriginal - 1) +
                        (${n}(xResized) * ${n}(roiEnd - roiStart) * ${n}(lengthOriginal - 1)) /
                        ${n}(lengthResized - 1);
                  } else {
                    return 0.5 * ${n}(roiStart + roiEnd) * ${n}(lengthOriginal - 1);
                  }`;case"half_pixel_symmetric":return`const outputWidth = ${n}xScale * ${n}(lengthResized);
                  const adjustment = ${n}(lengthResized) / outputWidth;
                  const center = ${n}(lengthOriginal) / 2;
                  const offset = center * (1 - adjustment);
                  return offset + ((${n}(xResized) + 0.5) / ${n}(xScale)) - 0.5;`;case"half_pixel":return`return ((${n}(xResized) + 0.5) / ${n}(xScale)) - 0.5;`;default:throw new Error(`Coordinate transform mode ${l} is not supported`)}})()+"}",getNearestPixelFromOriginal=(l,n,u)=>`fn getNearestPixelFromOriginal(xOriginal: ${u}, isDownSample: bool) -> ${u} {`+(()=>{switch(l){case"round_prefer_ceil":return"if (fract(xOriginal) == 0.5) {             return ceil(xOriginal);           } else {             return round(xOriginal);           }";case"floor":return"return floor(xOriginal);";case"ceil":return"return ceil(xOriginal);";case"round_prefer_floor":return"if (fract(xOriginal) == 0.5) {                     return floor(xOriginal);                   } else {                     return round(xOriginal);                   }";case"simple":default:if(n<11)return"if (isDownSample)                     {                       return ceil(xOriginal);                     } else {                       return xOriginal;                     }";throw new Error(`Nearest mode ${l} is not supported`)}})()+"}",updateRoI=(l,n,u)=>{const p=new Array(u).fill(0).concat(new Array(u).fill(1)),v=l.length===0?p:l.slice();return n.length>0?(n.forEach((d,g)=>{p[d]=v[g],p[g+u]=v[n.length+g]}),p):v},initOutputShape=(l,n,u,p)=>{let v=[];if(u.length>0)if(p.length>0){if(l.forEach(d=>v.push(d)),Math.max(...p)>l.length)throw new Error("axes is out of bound");p.forEach((d,g)=>v[d]=u[g])}else u.forEach(d=>v.push(d));else{if(n.length===0)throw new Error("Resize requires either scales or sizes.");v=l.map((d,g)=>Math.round(d*n[g]))}return v},adjustOutputShape=(l,n,u)=>{const p=(()=>{switch(u.keepAspectRatioPolicy){case"not_larger":return u.axes.length>0?Math.min(...u.axes.map(d=>n[d]),Number.MAX_VALUE):Math.min(...n,Number.MAX_VALUE);case"not_smaller":return u.axes.length>0?Math.max(...u.axes.map(d=>n[d]),Number.MIN_VALUE):Math.max(...n,Number.MIN_VALUE);default:throw new Error(`Keep aspect ratio policy ${u.keepAspectRatioPolicy} is not supported`)}})();n.fill(1,0,n.length);const v=l.slice();return u.axes.length>0?(u.axes.forEach(d=>n[d]=p),u.axes.forEach(d=>v[d]=Math.round(l[d]*n[d]))):(n.fill(p,0,n.length),v.forEach((d,g)=>v[g]=Math.round(d*n[g]))),v},calculateOriginalIndicesFromOutputIndices=(l,n,u,p,v)=>`
    fn calculateOriginalIndicesFromOutputIndices(output_indices: ${l.type.indices}) -> array<${l.type.value}, ${u.length}> {
      var original_indices: array<${l.type.value}, ${u.length}>;
      for (var i:u32 = 0; i < ${u.length}; i++) {
        var output_index = ${l.indicesGet("output_indices","i")};
        var scale = ${getElementAt("uniforms.scales","i",p)};
        var roi_low = ${getElementAt("uniforms.roi","i",v)};
        var roi_hi = ${getElementAt("uniforms.roi",`i + ${n.length}`,v)};
        if (scale == 1.0) {
          original_indices[i] = ${l.type.value}(output_index);
        } else {
          var input_shape_i = ${getElementAt("uniforms.input_shape","i",n.length)};
          var output_shape_i = ${getElementAt("uniforms.output_shape","i",u.length)};
          original_indices[i] = getOriginalCoordinateFromResizedCoordinate(output_index, scale, output_shape_i,
                                                                           input_shape_i, roi_low, roi_hi);
        }
      }
      return original_indices;
    }`,calculateInputIndicesFromOutputIndices=(l,n,u,p,v,d,g)=>`
    fn calculateInputIndicesFromOutputIndices(output_indices: ${n.type.indices}) -> ${l.type.indices} {
      var input_indices: ${l.type.indices};
      for (var i:u32 = 0; i < ${p.length}; i++) {
        var output_index = ${n.indicesGet("output_indices","i")};
        var input_index: u32;
        var scale = ${getElementAt("uniforms.scales","i",v)};
        if (scale == 1.0) {
          input_index = output_index;
        } else {
          var roi_low = ${getElementAt("uniforms.roi","i",d)};
          var roi_hi = ${getElementAt("uniforms.roi",`i + ${u.length}`,d)};
          var input_shape_i = ${getElementAt("uniforms.input_shape","i",u.length)};
          var output_shape_i = ${getElementAt("uniforms.output_shape","i",p.length)};
          var original_idx = getOriginalCoordinateFromResizedCoordinate(output_index, scale, output_shape_i,
                                                                        input_shape_i, roi_low, roi_hi);
          if (!${g} || (original_idx >= 0 && original_idx < ${n.type.value}(input_shape_i))) {
            if (original_idx < 0) {
              input_index = 0;
            } else if (original_idx > ${n.type.value}(input_shape_i - 1)) {
              input_index = input_shape_i - 1;
            } else {
              input_index = u32(getNearestPixelFromOriginal(original_idx, scale < 1));
            }
          } else {
            input_index = u32(original_idx);
          }
        }
        ${l.indicesSet("input_indices","i"," input_index")}
      }
      return input_indices;
    }`,checkInputIndices=(l,n)=>`
    fn checkInputIndices(input_indices: ${l.type.indices}) -> bool {
      for (var i:u32 = 0; i < ${n.length}; i++) {
        var input_index = ${l.indicesGet("input_indices","i")};
        if (input_index < 0 || input_index >= ${getElementAt("uniforms.input_shape","i",n.length)}) {
          return false;
        }
      }
      return true;
    }`,setChannelAndBatchIndices=(l,n,u,p)=>l.rank>p?`
    ${l.indicesSet("input_indices",n,"channel")};
    ${l.indicesSet("input_indices",u,"batch")};
`:"",bilinearInterpolation=(l,n,u,p,v)=>{const[d,g,_,C]=u.length===2?[-1,0,1,-1]:[0,2,3,1],E=l.type.value;return`
    fn getInputValue(batch: u32, channel: u32, row: u32, col: u32) -> ${E} {
      var input_indices: ${l.type.indices};
      ${l.indicesSet("input_indices",g,`max(0, min(row, ${u[g]} - 1))`)};
      ${l.indicesSet("input_indices",_,`max(0, min(col, ${u[_]} - 1))`)};
      ${setChannelAndBatchIndices(l,C,d,2)}
      return ${l.getByIndices("input_indices")};
    }

    fn bilinearInterpolation(output_indices: ${n.type.indices}) -> ${E} {
      var originalIndices = calculateOriginalIndicesFromOutputIndices(output_indices);
      var row:${E} = originalIndices[${g}];
      var col:${E} = originalIndices[${_}];
      ${p?`if (row < 0 || row > (${u[g]} - 1) || col < 0 || col > (${u[_]} - 1)) {
        return ${v};
      }`:""};
      row = max(0, min(row, ${u[g]} - 1));
      col = max(0, min(col, ${u[_]} - 1));
      var row1: u32 = u32(row);
      var col1: u32 = u32(col);
      var row2: u32 = u32(row + 1);
      var col2: u32 = u32(col + 1);
      var channel: u32 = ${u.length>2?`u32(originalIndices[${C}])`:"0"};
      var batch: u32 =  ${u.length>2?`u32(originalIndices[${d}])`:"0"};
      var x11: ${E} = getInputValue(batch, channel, row1, col1);
      var x12: ${E} = getInputValue(batch, channel, row1, col2);
      var x21: ${E} = getInputValue(batch, channel, row2, col1);
      var x22: ${E} = getInputValue(batch, channel, row2, col2);
      var dx1: ${E} = abs(row - ${E}(row1));
      var dx2: ${E} = abs(${E}(row2) - row);
      var dy1: ${E} = abs(col - ${E}(col1));
      var dy2: ${E} = abs(${E}(col2) - col);
      if (row1 == row2) {
        dx1 = 0.5;
        dx2 = 0.5;
      }
      if (col1 == col2) {
        dy1 = 0.5;
        dy2 = 0.5;
      }
      return (x11 * dx2 * dy2 + x12 * dx2 * dy1 + x21 * dx1 * dy2 + x22 * dx1 * dy1);
    }`},bicubicInterpolation=(l,n,u,p,v,d,g,_,C,E)=>{const w=u.length===2,[m,y]=w?[0,1]:[2,3],e=l.type.value,P=O=>{const U=O===m?"row":"col";return`
      fn ${U}CubicInterpolation(input_indices: ${l.type.indices}, output_indices: ${n.type.indices}) -> ${e} {
        var output_index = ${n.indicesGet("output_indices",O)};
        var originalIdx: ${e} = getOriginalCoordinateFromResizedCoordinate(output_index, ${v[O]},
        ${p[O]}, ${u[O]}, ${d[O]}, ${d[O]} + ${u.length});
        var fractOriginalIdx: ${e} = originalIdx - floor(originalIdx);
        var coefs = getCubicInterpolationCoefs(fractOriginalIdx);

        if (${_} && (originalIdx < 0 || originalIdx > (${u[O]} - 1))) {
          return ${C};
        }
        var data: array<${e}, 4> = array<${e}, 4>(0.0, 0.0, 0.0, 0.0);
        for (var i: i32 = -1; i < 3; i++) {
          var ${U}: ${e} = originalIdx + ${e}(i);
          if (${U} < 0 || ${U} >= ${u[O]}) {
            ${E?`coefs[i + 1] = 0.0;
                        continue;`:_?`return ${C};`:`${U} = max(0, min(${U}, ${u[O]} - 1));`};
          }
        var input_indices_copy: ${l.type.indices} = input_indices;
          ${l.indicesSet("input_indices_copy",O,`u32(${U})`)};
          data[i + 1] = ${O===m?l.getByIndices("input_indices_copy"):"rowCubicInterpolation(input_indices_copy, output_indices)"};
        }
        return cubicInterpolation1D(data, coefs);
      }`};return`
    ${P(m)};
    ${P(y)};
  fn getCubicInterpolationCoefs(s: ${e}) -> array<${e}, 4> {
    var absS = abs(s);
    var coeffs: array<${e}, 4> = array<${e}, 4>(0.0, 0.0, 0.0, 0.0);
    var oneMinusAbsS: ${e} = 1.0 - absS;
    var twoMinusAbsS: ${e} = 2.0 - absS;
    var onePlusAbsS: ${e} = 1.0 + absS;
    coeffs[0] = ((${g} * onePlusAbsS - 5 * ${g}) * onePlusAbsS + 8 * ${g}) * onePlusAbsS - 4 * ${g};
    coeffs[1] = ((${g} + 2) * absS - (${g} + 3)) * absS * absS + 1;
    coeffs[2] = ((${g} + 2) * oneMinusAbsS - (${g} + 3)) * oneMinusAbsS * oneMinusAbsS + 1;
    coeffs[3] = ((${g} * twoMinusAbsS - 5 * ${g}) * twoMinusAbsS + 8 * ${g}) * twoMinusAbsS - 4 * ${g};
    return coeffs;
  }

  fn cubicInterpolation1D(x: array<${e}, 4>, coefs: array<${e}, 4>) -> ${e} {
    var coefsSum: ${e} = coefs[0] + coefs[1] + coefs[2] + coefs[3];
    return (x[0] * coefs[0] + x[1] * coefs[1]+ x[2] * coefs[2]+ x[3] * coefs[3]) / coefsSum;
  }

  fn bicubicInterpolation(output_indices: ${n.type.indices}) -> ${e} {
    var input_indices: ${l.type.indices} = output_indices;
    return colCubicInterpolation(input_indices, output_indices);
  }
    `},trilinearInterpolation=(l,n,u,p,v)=>{const[d,g,_,C,E]=u.length===3?[-1,0,1,2,-1]:[0,2,3,4,1],w=l.type.value;return`
    fn getInputValue(batch: u32, channel: u32, depth:u32, height: u32, width: u32) -> ${w} {
      var input_indices: ${l.type.indices};
      ${l.indicesSet("input_indices",g,`max(0, min(depth, ${u[g]} - 1))`)};
      ${l.indicesSet("input_indices",_,`max(0, min(height, ${u[_]} - 1))`)};
      ${l.indicesSet("input_indices",C,`max(0, min(width, ${u[C]} - 1))`)};
      ${setChannelAndBatchIndices(l,E,d,3)}
      return ${l.getByIndices("input_indices")};
    }

    fn trilinearInterpolation(output_indices: ${n.type.indices}) -> ${w} {
      var originalIndices = calculateOriginalIndicesFromOutputIndices(output_indices);
      var depth:${w} = originalIndices[${g}];
      var height:${w} = originalIndices[${_}];
      var width:${w} = originalIndices[${C}];
      ${p?`if (depth < 0 || depth > (${u[g]} - 1) || height < 0 || height > (${u[_]} - 1) || width < 0 || (width > ${u[C]} - 1)) {
      return ${v};
        }`:""};

    depth = max(0, min(depth, ${u[g]} - 1));
      height = max(0, min(height, ${u[_]} - 1));
      width = max(0, min(width, ${u[C]} - 1));
      var depth1: u32 = u32(depth);
      var height1: u32 = u32(height);
      var width1: u32 = u32(width);
      var depth2: u32 = u32(depth + 1);
      var height2: u32 = u32(height + 1);
      var width2: u32 = u32(width + 1);
      var channel: u32 = ${u.length>3?`u32(originalIndices[${E}])`:"0"};
      var batch: u32 =  ${u.length>3?`u32(originalIndices[${d}])`:"0"};

      var x111: ${w} = getInputValue(batch, channel, depth1, height1, width1);
      var x112: ${w} = getInputValue(batch, channel, depth1, height1, width2);
      var x121: ${w} = getInputValue(batch, channel, depth1, height2, width1);
      var x122: ${w} = getInputValue(batch, channel, depth1, height2, width2);
      var x211: ${w} = getInputValue(batch, channel, depth2, height1, width1);
      var x212: ${w} = getInputValue(batch, channel, depth2, height1, width2);
      var x221: ${w} = getInputValue(batch, channel, depth2, height2, width1);
      var x222: ${w} = getInputValue(batch, channel, depth2, height2, width2);
      var dx1: ${w} = abs(depth - ${w}(depth1));
      var dx2: ${w} = abs(${w}(depth2) - depth);
      var dy1: ${w} = abs(height - ${w}(height1));
      var dy2: ${w} = abs(${w}(height2) - height);
      var dz1: ${w} = abs(width - ${w}(width1));
      var dz2: ${w} = abs(${w}(width2) - width);
      if (depth1 == depth2) {
        dx1 = 0.5;
        dx2 = 0.5;
      }
      if (height1 == height2) {
        dy1 = 0.5;
        dy2 = 0.5;
      }
      if (width1 == width2) {
        dz1 = 0.5;
        dz2 = 0.5;
      }
      return (x111 * dx2 * dy2 * dz2 + x112 * dx2 * dy2 * dz1 + x121 * dx2 * dy1 *dz2 + x122 * dx2 * dy1 * dz1 +
              x211 * dx1 * dy2 * dz2 + x212 * dx1 * dy2 * dz1 + x221 * dx1 * dy1 *dz2 + x222 * dx1 * dy1 * dz1);
    }`},createResizeProgramInfo=(l,n,u,p,v,d)=>{const g=l.dims,_=updateRoI(d,n.axes,g.length);let C=initOutputShape(g,p,v,n.axes),E=p.slice();p.length===0&&(E=g.map((V,$)=>V===0?1:C[$]/V),n.keepAspectRatioPolicy!=="stretch"&&(C=adjustOutputShape(g,E,n)));const w=outputVariable("output",l.dataType,C.length),m=inputVariable("input",l.dataType,g.length),y=ShapeUtil2.size(C),e=g.length===C.length&&g.every((V,$)=>V===C[$]),P=n.coordinateTransformMode==="tf_crop_and_resize",O=n.extrapolationValue,U=m.type.value,W=V=>`
      ${e?"":`
      ${getOriginalCoordinateFromResizedCoordinate(n.coordinateTransformMode,U)};
      ${(()=>{switch(n.mode){case"nearest":return`
              ${checkInputIndices(m,g)};
              ${getNearestPixelFromOriginal(n.nearestMode,u,U)};
              ${calculateInputIndicesFromOutputIndices(m,w,g,C,E.length,_.length,P)};
              `;case"linear":return`
              ${calculateOriginalIndicesFromOutputIndices(w,g,C,E.length,_.length)};
              ${(()=>{if(g.length===2||g.length===4)return`${bilinearInterpolation(m,w,g,P,O)}`;if(g.length===3||g.length===5)return`${trilinearInterpolation(m,w,g,P,O)}`;throw Error("Linear mode only supports input dims 2, 3, 4 and 5 are supported in linear mode.")})()};
            `;case"cubic":return`
            ${(()=>{if(g.length===2||g.length===4)return`${bicubicInterpolation(m,w,g,C,E,_,n.cubicCoeffA,P,n.extrapolationValue,n.excludeOutside)}`;throw Error("Cubic mode only supports input dims 2 and 4 are supported in linear mode.")})()};
            `;default:throw Error("Invalid resize mode")}})()};
      `}
      ${V.registerUniform("output_size","u32").registerUniform("scales","f32",E.length).registerUniform("roi","f32",_.length).declareVariables(m,w)}
      ${V.mainStart()}
        ${V.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
        ${e?"output[global_idx] = input[global_idx];":`
        let output_indices = ${w.offsetToIndices("global_idx")};
        var input_indices: ${m.type.indices};
        ${(()=>{switch(n.mode){case"nearest":return`input_indices = calculateInputIndicesFromOutputIndices(output_indices);
                if (checkInputIndices(input_indices)) {
                  output[global_idx] = ${m.getByIndices("input_indices")};
                } else {
                  output[global_idx] = ${n.extrapolationValue};
                }`;case"linear":return`output[global_idx] = ${g.length===2||g.length===4?"bilinearInterpolation":"trilinearInterpolation"}(output_indices);`;case"cubic":return"output[global_idx] = bicubicInterpolation(output_indices);";default:throw Error(`Unsupported resize mode: ${n.mode}`)}})()};
`}
      }`;return{name:"Resize",shaderCache:{hint:`${n.cacheKey}|${u}|${E.length>0?E:""}|${v.length>0?v:""}|${_.length>0?_:""}|${e}|${g}`,inputDependencies:["rank"]},getShaderSource:W,getRunData:()=>({outputs:[{dims:C,dataType:l.dataType}],dispatchGroup:{x:Math.ceil(y/64)},programUniforms:[{type:12,data:y},{type:1,data:E},{type:1,data:_},...createTensorShapeVariables(g,C)]})}},getOpsetVersionFromCustomDataBuffer=l=>{const n=l.customDataBuffer;return new Uint32Array(n,n.byteOffset,1)[0]},resize2=(l,n)=>{const u=[],p=[],v=[],d=getOpsetVersionFromCustomDataBuffer(l);if(n.antialias!==0)throw Error("Only default value (0) for Antialias attribute is supported");validateInputs48(l.inputs,n,d,u,p,v),l.compute(createResizeProgramInfo(l.inputs[0],n,d,u,p,v),{inputs:[0]})},parseResizeAttributes=l=>{const n=l.antialias,u=l.axes,p=l.coordinateTransformMode,v=l.cubicCoeffA,d=l.excludeOutside!==0,g=l.extrapolationValue,_=l.keepAspectRatioPolicy,C=l.mode,E=l.nearestMode===""?"simple":l.nearestMode;return createAttributeWithCacheKey2({antialias:n,axes:u,coordinateTransformMode:p,cubicCoeffA:v,excludeOutside:d,extrapolationValue:g,keepAspectRatioPolicy:_,mode:C,nearestMode:E})}}}),validateInputs49,createRotaryEmbeddingProgramInfo,rotaryEmbedding,init_rotary_embedding=__esm({"web/lib/wasm/jsep/webgpu/ops/rotary-embedding.ts"(){init_wasm_common(),init_util2(),init_attribute_with_cache_key2(),init_common(),validateInputs49=(l,n)=>{const[u,p,v,d]=l,{numHeads:g,rotaryEmbeddingDim:_}=n;if(u.dims.length!==3&&u.dims.length!==4)throw new Error(`Input 'x' is expected to have 3 or 4 dimensions, got ${u.dims.length}`);if(!ShapeUtil2.areEqual(p.dims,[])&&!ShapeUtil2.areEqual(p.dims,[1])&&p.dims.length!==2)throw new Error(`Input 'position_ids' is expected to have 0, 1, or 2 dimensions, got ${p.dims.length}`);if(v.dims.length!==2)throw new Error(`Input 'cos_cache' is expected to have 2 dimensions, got ${v.dims.length}`);if(d.dims.length!==2)throw new Error(`Input 'sin_cache' is expected to have 2 dimensions, got ${d.dims.length}`);if(!ShapeUtil2.areEqual(v.dims,d.dims))throw new Error("Inputs 'cos_cache' and 'sin_cache' are expected to have the same shape");if(_>0&&g===0)throw new Error("num_heads must be provided if rotary_embedding_dim is specified");const C=u.dims[0],E=u.dims[u.dims.length-2],w=v.dims[0],m=ShapeUtil2.sizeFromDimension(u.dims,1)/E,y=_===0?v.dims[1]*2:m/g;if(_>y)throw new Error("rotary_embedding_dim must be less than or equal to head_size");if(p.dims.length===2){if(C!==p.dims[0])throw new Error(`Input 'position_ids' dimension 0 should be of size batch_size, got ${p.dims[0]}`);if(E!==p.dims[1])throw new Error(`Input 'position_ids' dimension 1 should be of size sequence_length, got ${p.dims[1]}`)}if(y/2!==v.dims[1]&&_/2!==v.dims[1])throw new Error(`Input 'cos_cache' dimension 1 should be same as head_size / 2 or rotary_embedding_dim / 2, got ${v.dims[1]}`);if(E>w)throw new Error("Updating cos_cache and sin_cache in RotaryEmbedding is not currently supported")},createRotaryEmbeddingProgramInfo=(l,n)=>{const{interleaved:u,numHeads:p,rotaryEmbeddingDim:v,scale:d}=n,g=l[0].dims[0],_=ShapeUtil2.sizeFromDimension(l[0].dims,1),C=l[0].dims[l[0].dims.length-2],E=_/C,w=l[2].dims[1],m=v===0?w*2:E/p,y=new Array(g,C,E/m,m-w),e=ShapeUtil2.computeStrides(y),P=[{type:1,data:d},{type:12,data:y},{type:12,data:e},...l[0].dims.length===3?new Array({type:12,data:[_,E,m,1]}):[],...l[0].dims.length===4?new Array({type:12,data:[_,m,C*m,1]}):[],...createTensorShapeVariables(l[0].dims,l[1].dims,l[2].dims,l[3].dims,l[0].dims)],O=U=>{const W=inputVariable("input",l[0].dataType,l[0].dims.length),V=inputVariable("position_ids",l[1].dataType,l[1].dims.length),$=inputVariable("cos_cache",l[2].dataType,l[2].dims.length),b=inputVariable("sin_cache",l[3].dataType,l[3].dims.length),H=outputVariable("output",l[0].dataType,l[0].dims.length);return U.registerUniforms([{name:"scale",type:"f32"},{name:"global_shape",type:"u32",length:y.length},{name:"global_strides",type:"u32",length:e.length},{name:"input_output_strides",type:"u32",length:e.length}]),`
        ${U.declareVariables(W,V,$,b,H)}

        ${U.mainStart(WORKGROUP_SIZE)}
          let half_rotary_emb_dim = uniforms.${$.name}_shape[1];
          let bsnh = global_idx / uniforms.global_strides % uniforms.global_shape;
          let size = uniforms.global_shape[0] * uniforms.global_strides[0];
          ${U.guardAgainstOutOfBoundsWorkgroupSizes("size")}

          if (bsnh[3] < half_rotary_emb_dim) {
            let position_ids_idx =
                ${V.broadcastedIndicesToOffset("bsnh.xy",outputVariable("",V.type.tensor,2))};
            let position_id =
                u32(${V.getByOffset("position_ids_idx")}) + select(0, bsnh[1], position_ids_idx == 0);
            let i = dot(bsnh, uniforms.input_output_strides) + select(0, bsnh[3], ${u});
            let j = i + select(half_rotary_emb_dim, 1, ${u});
            let re = ${W.getByOffset("i")} * ${$.get("position_id","bsnh[3]")} -
                ${W.getByOffset("j")} * ${b.get("position_id","bsnh[3]")};
            ${H.setByOffset("i","re")}
            let im = ${W.getByOffset("i")} * ${b.get("position_id","bsnh[3]")} +
                ${W.getByOffset("j")} * ${$.get("position_id","bsnh[3]")};
            ${H.setByOffset("j","im")}
          } else {
            let k = dot(bsnh, uniforms.input_output_strides) + half_rotary_emb_dim;
            ${H.setByOffset("k",W.getByOffset("k"))}
          }
        }`};return{name:"RotaryEmbedding",shaderCache:{hint:createAttributeWithCacheKey2({interleaved:u}).cacheKey,inputDependencies:["rank","rank","rank","rank"]},getShaderSource:O,getRunData:()=>({outputs:[{dims:l[0].dims,dataType:l[0].dataType}],dispatchGroup:{x:Math.ceil(ShapeUtil2.size(y)/WORKGROUP_SIZE)},programUniforms:P})}},rotaryEmbedding=(l,n)=>{validateInputs49(l.inputs,n),l.compute(createRotaryEmbeddingProgramInfo(l.inputs,n))}}}),validateInputs50,createSkipLayerNormProgramInfo,skipLayerNorm,init_skip_layer_norm=__esm({"web/lib/wasm/jsep/webgpu/ops/skip-layer-norm.ts"(){init_wasm_common(),init_util2(),init_common(),validateInputs50=l=>{if(!l||l.length<3)throw new Error("layerNorm requires at least 3 inputs.");const n=l[0],u=l[1],p=l[2];if(n.dataType!==u.dataType||n.dataType!==p.dataType)throw new Error("All inputs must have the same data type");if(n.dims.length!==3&&n.dims.length!==2)throw new Error("Input must be 2D or 3D");if(u.dims.length!==3&&u.dims.length!==2)throw new Error("Skip must be 2D or 3D");const v=n.dims[n.dims.length-1],d=n.dims[n.dims.length-2];if(u.dims[u.dims.length-1]!==v)throw new Error("Skip must have the same hidden size as input");if(u.dims[u.dims.length-2]!==d)throw new Error("Skip must have the same sequence length as input");if(p.dims.length!==1)throw new Error("Gamma must be 1D");if(p.dims[p.dims.length-1]!==v)throw new Error("Gamma must have the same hidden size as input");if(l.length>3){const g=l[3];if(g.dims.length!==1)throw new Error("Beta must be 1D");if(g.dims[g.dims.length-1]!==v)throw new Error("Beta must have the same hidden size as input")}if(l.length>4){const g=l[4];if(g.dims.length!==1)throw new Error("Bias must be 1D");if(g.dims[g.dims.length-1]!==v)throw new Error("Bias must have the same hidden size as input")}},createSkipLayerNormProgramInfo=(l,n,u,p)=>{const v=n.simplified,d=l[0].dims,g=ShapeUtil2.size(d),_=d,C=g,E=d.slice(-1)[0],w=p?d.slice(0,-1).concat(1):[],m=!v&&l.length>3,y=l.length>4,e=p&&u>1,P=p&&u>2,O=u>3,U=64,W=getMaxComponents(E),V=[{type:12,data:C},{type:12,data:W},{type:12,data:E},{type:1,data:n.epsilon}],$=H=>{const G=[{name:"output_size",type:"u32"},{name:"components",type:"u32"},{name:"hidden_size",type:"u32"},{name:"epsilon",type:"f32"}],Y=[inputVariable("x",l[0].dataType,l[0].dims,W),inputVariable("skip",l[1].dataType,l[1].dims,W),inputVariable("gamma",l[2].dataType,l[2].dims,W)];m&&Y.push(inputVariable("beta",l[3].dataType,l[3].dims,W)),y&&Y.push(inputVariable("bias",l[4].dataType,l[4].dims,W)),Y.push(outputVariable("output",l[0].dataType,_,W)),e&&Y.push(outputVariable("mean_output",1,w)),P&&Y.push(outputVariable("inv_std_output",1,w)),O&&Y.push(outputVariable("input_skip_bias_sum",l[0].dataType,_,W));const X=tensorTypeToWsglStorageType(l[0].dataType),j=tensorTypeToWsglStorageType(1,W);return`

      ${H.registerUniforms(G).declareVariables(...Y)}
      var<workgroup> sum_shared : array<${j}, ${U}>;
      var<workgroup> sum_squared_shared : array<${j}, ${U}>;

      ${H.mainStart([U,1,1])}
        let ix = local_id.x;
        let iy = global_id.x / ${U};

        let hidden_size_vectorized: u32 = uniforms.hidden_size / uniforms.components;
        var stride = hidden_size_vectorized / ${U};
        let offset = ix * stride + iy * hidden_size_vectorized;
        let offset1d = stride * ix;
        if (ix == ${U-1}) {
          stride = hidden_size_vectorized - stride * ix;
        }
        for (var i: u32 = 0; i < stride; i++) {
          let skip_value = skip[offset + i];
          let bias_value = ${y?"bias[offset1d + i]":X+"(0.0)"};
          let input_value = x[offset + i];
          let value = input_value + skip_value + bias_value;
          ${O?"input_skip_bias_sum[offset + i] = value;":""}
          output[offset + i] = value;
          let f32_value = ${castToF32(X,W,"value")};
          sum_shared[ix] += f32_value;
          sum_squared_shared[ix] += f32_value * f32_value;
        }
        workgroupBarrier();

        var reduce_size : u32 = ${U};
        for (var curr_size = reduce_size >> 1;  curr_size > 0; curr_size = reduce_size >> 1) {
          reduce_size = curr_size + (reduce_size & 1);
          if (ix < curr_size) {
            sum_shared[ix] += sum_shared[ix + reduce_size];
            sum_squared_shared[ix] += sum_squared_shared[ix + reduce_size];
          }
          workgroupBarrier();
        }

        let sum = sum_shared[0];
        let square_sum = sum_squared_shared[0];
        let mean = ${sumVector("sum",W)} / f32(uniforms.hidden_size);
        let inv_std_dev = inverseSqrt(${sumVector("square_sum",W)} / f32(uniforms.hidden_size) ${v?"":"- mean * mean"} + uniforms.epsilon);
        ${e?"mean_output[global_idx] = mean;":""}
        ${P?"inv_std_output[global_idx] = inv_std_dev;":""}

        for (var i: u32 = 0; i < stride; i++) {
          output[offset + i] = (output[offset + i] ${v?"":`- ${X}(mean)`}) *
            ${X}(inv_std_dev) * gamma[offset1d + i]
            ${m?"+ beta[offset1d + i]":""};
        }
      }`},b=[{dims:_,dataType:l[0].dataType}];return u>1&&b.push({dims:w,dataType:1}),u>2&&b.push({dims:w,dataType:1}),u>3&&b.push({dims:d,dataType:l[0].dataType}),{name:"SkipLayerNormalization",shaderCache:{hint:`${W};${e};${P};${O}`,inputDependencies:l.map((H,G)=>"type")},getShaderSource:$,getRunData:()=>({outputs:b,dispatchGroup:{x:Math.ceil(C/E)},programUniforms:V})}},skipLayerNorm=(l,n)=>{validateInputs50(l.inputs);const p=[0];l.outputCount>1&&p.push(-3),l.outputCount>2&&p.push(-3),l.outputCount>3&&p.push(3),l.compute(createSkipLayerNormProgramInfo(l.inputs,n,l.outputCount,!1),{outputs:p})}}}),validateInputs51,readInput,createSliceAttributesFromInputs,fixStartEndValues,calculateInputIndicesImpl,createSliceProgramInfo2,slice2,parseSliceAttributes2,init_slice2=__esm({"web/lib/wasm/jsep/webgpu/ops/slice.ts"(){init_wasm_common(),init_util2(),init_attribute_with_cache_key2(),init_common(),validateInputs51=(l,n)=>{if(!l||l.length<1)throw new Error("too few inputs");if(n.axes.length!==0){if(n.axes.length!==n.starts.length||n.axes.length!==n.ends.length)throw new Error("axes, starts and ends must have the same length")}else if(n.starts.length!==n.ends.length)throw new Error("starts and ends must have the same length");l.slice(1).forEach((u,p)=>{if(l[p+1].dataType!==6&&l[p+1].dataType!==7)throw new Error(`Input ${p} must be an array of int32 or int64`)})},readInput=(l,n)=>{const u=[];if(l.length>n)if(l[n].dataType===7)l[n].getBigInt64Array().forEach(p=>u.push(Number(p)));else if(l[n].dataType===6)l[n].getInt32Array().forEach(p=>u.push(Number(p)));else throw new Error(`Input ${n} must be an array of int32 or int64`);return u},createSliceAttributesFromInputs=(l,n)=>{if(l.length>1){const u=readInput(l,1),p=readInput(l,2);let v=readInput(l,3);return v.length===0&&(v=[...Array(l[0].dims.length).keys()]),createAttributeWithCacheKey2({starts:u,ends:p,axes:v})}else return n},fixStartEndValues=(l,n,u,p,v)=>{let d=l;return l<0&&(d+=u[p[n]]),v[n]<0?Math.max(0,Math.min(d,u[p[n]]-1)):Math.max(0,Math.min(d,u[p[n]]))},calculateInputIndicesImpl=(l,n,u)=>`fn calculateInputIndices(output_indices: ${n.type.indices}) -> ${l.type.indices} {
          var input_indices: ${l.type.indices};
          var carry = 0u;
          for (var i = ${u.length}; i >= 0; i--) {
            let input_shape_i = ${getElementAt("uniforms.input_shape","i",u.length)};
            let steps_i = ${getElementAt("uniforms.steps","i",u.length)};
            let signs_i = ${getElementAt("uniforms.signs","i",u.length)};
            let starts_i = ${getElementAt("uniforms.starts","i",u.length)};
            var output_index = ${n.indicesGet("output_indices","i")};
            var input_index = output_index * steps_i + starts_i + carry;
            carry = input_index / input_shape_i;
            input_index = input_index % input_shape_i;
            if (signs_i < 0) {
              input_index = input_shape_i - input_index - 1u + starts_i;
            }
            ${l.indicesSet("input_indices","i","input_index")};
          }
          return input_indices;
      }`,createSliceProgramInfo2=(l,n)=>{const u=l[0].dims,p=ShapeUtil2.size(u),v=n.axes.length>0?ShapeUtil2.normalizeAxes(n.axes,u.length):[...Array(u.length).keys()];let d=readInput(l,4);d.forEach(W=>W!==0||(()=>{throw new Error("step cannot be 0")})),d.length===0&&(d=Array(v.length).fill(1));const g=n.starts.map((W,V)=>fixStartEndValues(W,V,u,v,d)),_=n.ends.map((W,V)=>fixStartEndValues(W,V,u,v,d));if(v.length!==g.length||v.length!==_.length)throw new Error("start, ends and axes should have the same number of elements");if(v.length!==u.length)for(let W=0;W<u.length;++W)v.includes(W)||(g.splice(W,0,0),_.splice(W,0,u[W]),d.splice(W,0,1));const C=d.map(W=>Math.sign(W));d.forEach((W,V,$)=>{if(W<0){const b=(_[V]-g[V])/W,H=g[V],G=H+b*d[V];g[V]=G,_[V]=H,$[V]=-W}});const E=u.slice(0);v.forEach((W,V)=>{E[W]=Math.ceil((_[W]-g[W])/d[W])});const w={dims:E,dataType:l[0].dataType},m=outputVariable("output",l[0].dataType,E.length),y=inputVariable("input",l[0].dataType,l[0].dims.length),e=ShapeUtil2.size(E),P=[{name:"outputSize",type:"u32"},{name:"starts",type:"u32",length:g.length},{name:"signs",type:"i32",length:C.length},{name:"steps",type:"u32",length:d.length}],O=[{type:12,data:e},{type:12,data:g},{type:6,data:C},{type:12,data:d},...createTensorShapeVariables(l[0].dims,E)],U=W=>`
      ${W.registerUniforms(P).declareVariables(y,m)}
        ${calculateInputIndicesImpl(y,m,u)}
        ${W.mainStart()}
          ${W.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
          let output_indices = ${m.offsetToIndices("global_idx")};
          let input_indices = calculateInputIndices(output_indices);
          ${m.setByOffset("global_idx",y.getByIndices("input_indices"))}
      }`;return{name:"Slice",shaderCache:{hint:`${C.length}_${g.length}_${d.length}`,inputDependencies:["rank"]},getShaderSource:U,getRunData:()=>({outputs:[w],dispatchGroup:{x:Math.ceil(p/64)},programUniforms:O})}},slice2=(l,n)=>{validateInputs51(l.inputs,n);const u=createSliceAttributesFromInputs(l.inputs,n);l.compute(createSliceProgramInfo2(l.inputs,u),{inputs:[0]})},parseSliceAttributes2=l=>{const n=l.starts,u=l.ends,p=l.axes;return createAttributeWithCacheKey2({starts:n,ends:u,axes:p})}}}),validateInputs52,createSoftmaxProgramInfo,softmax2,parseSoftmaxAttributes2,init_softmax2=__esm({"web/lib/wasm/jsep/webgpu/ops/softmax.ts"(){init_wasm_common(),init_util2(),init_attribute_with_cache_key2(),init_common(),validateInputs52=l=>{if(!l||l.length!==1)throw new Error("Softmax op requires 1 input.")},createSoftmaxProgramInfo=(l,n)=>{const u=l.dims,p=ShapeUtil2.size(u),v=64;let d=n.axis;if(d<0&&(d=u.length+d),d<u.length-1)throw new Error("softmax only supports last axis for now.");const g=u[d],_=p/g,C=getMaxComponents(g),E=g/C,w=(U,W)=>W===4?`max(max(${U}.x, ${U}.y), max(${U}.z, ${U}.w))`:W===2?`max(${U}.x, ${U}.y)`:W===3?`max(max(${U}.x, ${U}.y), ${U}.z)`:U,m=inputVariable("x",l.dataType,l.dims,C),y=outputVariable("result",l.dataType,l.dims,C),e=m.type.value,P=tensorTypeToWsglStorageType(l.dataType)==="f32"?`var threadMax = ${e}(-3.402823e+38f);`:`var threadMax = ${e}(-65504.0h);`,O=U=>`
      var<workgroup> rowMaxShared : ${e};
      var<workgroup> rowSumShared : ${e};
      var<workgroup> threadShared : array<${e}, ${v}>;

      fn getValue(row: i32, col: i32, row_stride: i32) -> ${e} {
        let index = row * row_stride + col;
        return x[index];
      }

      fn setValue(row: i32, col: i32, row_stride: i32, value: ${e}) {
        let index = row * row_stride + col;
        result[index] = value;
      }
      ${U.registerUniform("packedCols","i32").declareVariables(m,y)}
      ${U.mainStart()}
        let gindex = i32(global_idx);
        let lindex = i32(local_idx);
        const wg = ${v};
        let row = gindex / wg;
        let cols = uniforms.packedCols;
        let row_stride : i32 = uniforms.packedCols;

        // find the rows max
        ${P}
        for (var col = lindex; col < cols; col += wg) {
          let value = getValue(row, col, row_stride);
          threadMax = max(threadMax, value);
        }
        if (lindex < cols) {
          threadShared[lindex] = threadMax;
        }
        workgroupBarrier();

        var reduceSize = min(cols, wg);
        for (var currSize = reduceSize >> 1;  currSize > 0; currSize = reduceSize >> 1) {
          reduceSize = currSize + (reduceSize & 1);
          if (lindex < currSize) {
            threadShared[lindex] = max(threadShared[lindex], threadShared[lindex + reduceSize]);
          }
          workgroupBarrier();
        }
        if (lindex == 0) {
          rowMaxShared = ${e}(${w("threadShared[0]",C)});
        }
        workgroupBarrier();

        // find the rows sum
        var threadSum = ${e}(0.0);
        for (var col = lindex; col < cols; col += wg) {
          let subExp = exp(getValue(row, col, row_stride) - rowMaxShared);
          threadSum += subExp;
        }
        threadShared[lindex] = threadSum;
        workgroupBarrier();

        for (var currSize = wg >> 1;  currSize > 0; currSize = currSize >> 1) {
          if (lindex < currSize) {
            threadShared[lindex] = threadShared[lindex] + threadShared[lindex + currSize];
          }
          workgroupBarrier();
        }
        if (lindex == 0) {
          rowSumShared = ${e}(${sumVector("threadShared[0]",C)});
        }
        workgroupBarrier();

        // calculate final value for each element in the row
        for (var col = lindex; col < cols; col += wg) {
          let value = exp(getValue(row, col, row_stride) - rowMaxShared) / rowSumShared;
          setValue(row, col, row_stride, value);
        }
      }`;return{name:"Softmax",shaderCache:{hint:`${C}`,inputDependencies:["type"]},getRunData:()=>({outputs:[{dims:u,dataType:l.dataType}],dispatchGroup:{x:_},programUniforms:[{type:6,data:E}]}),getShaderSource:O}},softmax2=(l,n)=>{validateInputs52(l.inputs),l.compute(createSoftmaxProgramInfo(l.inputs[0],n))},parseSoftmaxAttributes2=l=>createAttributeWithCacheKey2({axis:l.axis})}}),validateInputs53,createSplitAttributesFromInputs,calculateOutputIndexImpl,writeBufferDataImpl,createSplitProgramInfo2,split2,parseSplitAttributes2,init_split2=__esm({"web/lib/wasm/jsep/webgpu/ops/split.ts"(){init_wasm_common(),init_util2(),init_attribute_with_cache_key2(),init_common(),validateInputs53=l=>{if(!l||l.length<1)throw new Error("too few inputs")},createSplitAttributesFromInputs=(l,n)=>{const u=[];let p=n.numOutputs;return l[1].dims[0]>0&&(l[1].getBigInt64Array().forEach(v=>u.push(Number(v))),p=u.length),createAttributeWithCacheKey2({numOutputs:p,axis:n.axis,splitSizes:u})},calculateOutputIndexImpl=l=>`
fn calculateOutputIndex(index: u32) -> u32 {
    for (var i: u32 = 0u; i < ${l}u; i += 1u ) {
    if (index < ${getElementAt("uniforms.size_in_split_axis","i",l)}) {
        return i;
    }
    }
    return ${l}u;
}`,writeBufferDataImpl=l=>{const n=l.length,u=[];for(let p=0;p<n;++p){const v=l[p].setByIndices("indices","input[global_idx]");n===1?u.push(v):p===0?u.push(`if (output_number == ${p}u) { ${v} }`):p===n-1?u.push(`else { ${v} }`):u.push(`else if (output_number == ${p}) { ${v} }`)}return`
      fn writeBufferData(output_number: u32, indices: ${l[0].type.indices}, global_idx: u32) {
        ${u.join(`
`)}
      }`},createSplitProgramInfo2=(l,n)=>{const u=l[0].dims,p=ShapeUtil2.size(u),v=l[0].dataType,d=ShapeUtil2.normalizeAxis(n.axis,u.length),g=new Array(n.numOutputs),_=inputVariable("input",v,u.length),C=new Array(n.numOutputs),E=[],w=[];let m=0;const y=[{type:12,data:p}];for(let P=0;P<n.numOutputs;P++){m+=n.splitSizes[P],C[P]=m;const O=u.slice();O[n.axis]=n.splitSizes[P],w.push(O),g[P]=outputVariable(`output${P}`,v,O.length),E.push({dims:w[P],dataType:l[0].dataType})}y.push({type:12,data:C},...createTensorShapeVariables(u,...w));const e=P=>`
  ${P.registerUniform("input_size","u32").registerUniform("size_in_split_axis","u32",C.length).declareVariables(_,...g)}
  ${calculateOutputIndexImpl(C.length)}
  ${writeBufferDataImpl(g)}

  ${P.mainStart()}
    ${P.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.input_size")}

    var indices = ${_.offsetToIndices("global_idx")};
    var index = ${_.indicesGet("indices",d)};
    let output_number = calculateOutputIndex(index);
    if (output_number != 0) {
      index -= ${getElementAt("uniforms.size_in_split_axis","output_number - 1u",C.length)};
      ${_.indicesSet("indices",d,"index")};
    }
    writeBufferData(output_number, indices, global_idx);
  }`;return{name:"Split",shaderCache:{hint:n.cacheKey,inputDependencies:["rank"]},getShaderSource:e,getRunData:()=>({outputs:E,dispatchGroup:{x:Math.ceil(p/64)},programUniforms:y})}},split2=(l,n)=>{validateInputs53(l.inputs);const u=l.inputs.length===1?n:createSplitAttributesFromInputs(l.inputs,n);l.compute(createSplitProgramInfo2(l.inputs,u),{inputs:[0]})},parseSplitAttributes2=l=>{const n=l.axis,u=l.splitSizes,p=l.numOutputs<0?u.length:l.numOutputs;if(p!==u.length)throw new Error("numOutputs and splitSizes lengh must be equal");return createAttributeWithCacheKey2({axis:n,numOutputs:p,splitSizes:u})}}}),createWhereOpProgramShader,createWhereOpProgramInfo,where,init_where=__esm({"web/lib/wasm/jsep/webgpu/ops/where.ts"(){init_wasm_common(),init_util2(),init_common(),createWhereOpProgramShader=(l,n,u,p,v)=>{const d=outputVariable("output_data",v,u.length,4),g=inputVariable("a_data",n[1].dataType,n[1].dims.length,4),_=inputVariable("b_data",n[2].dataType,n[2].dims.length,4),C=inputVariable("c_data",n[0].dataType,n[0].dims.length,4);let E;const w=(m,y,e)=>`select(${y}, ${m}, ${e})`;if(!p)E=d.setByOffset("global_idx",w(g.getByOffset("global_idx"),_.getByOffset("global_idx"),C.getByOffset("global_idx")));else{const m=(y,e,P="")=>{const O=`a_data[index_a${e}][component_a${e}]`,U=`b_data[index_b${e}][component_b${e}]`,W=`bool(c_data[index_c${e}] & (0xffu << (component_c${e} * 8)))`;return`
            let output_indices${e} = ${d.offsetToIndices(`global_idx * 4u + ${e}u`)};
            let offset_a${e} = ${g.broadcastedIndicesToOffset(`output_indices${e}`,d)};
            let offset_b${e} = ${_.broadcastedIndicesToOffset(`output_indices${e}`,d)};
            let offset_c${e} = ${C.broadcastedIndicesToOffset(`output_indices${e}`,d)};
            let index_a${e} = offset_a${e} / 4u;
            let index_b${e} = offset_b${e} / 4u;
            let index_c${e} = offset_c${e} / 4u;
            let component_a${e} = offset_a${e} % 4u;
            let component_b${e} = offset_b${e} % 4u;
            let component_c${e} = offset_c${e} % 4u;
            ${y}[${e}] = ${P}(${w(O,U,W)});
          `};v===9?E=`
            var data = vec4<u32>(0);
            ${m("data",0,"u32")}
            ${m("data",1,"u32")}
            ${m("data",2,"u32")}
            ${m("data",3,"u32")}
            output_data[global_idx] = dot(vec4<u32>(0x1, 0x100, 0x10000, 0x1000000), vec4<u32>(data));`:E=`
            ${m("output_data[global_idx]",0)}
            ${m("output_data[global_idx]",1)}
            ${m("output_data[global_idx]",2)}
            ${m("output_data[global_idx]",3)}
          `}return`
        ${l.registerUniform("vec_size","u32").declareVariables(C,g,_,d)}
        ${l.mainStart()}
        ${l.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size")}
        ${E}
      }`},createWhereOpProgramInfo=l=>{const n=l[1].dims,u=l[2].dims,p=l[0].dims,v=l[1].dataType,d=!(ShapeUtil2.areEqual(n,u)&&ShapeUtil2.areEqual(u,p));let g=n,_=ShapeUtil2.size(n);if(d){const E=BroadcastUtil2.calcShape(BroadcastUtil2.calcShape(n,u,!1),p,!1);if(!E)throw new Error("Can't perform where op on the given tensors");g=E,_=ShapeUtil2.size(g)}const C=Math.ceil(_/4);return{name:"Where",shaderCache:{inputDependencies:["rank","rank","rank"]},getShaderSource:E=>createWhereOpProgramShader(E,l,g,d,v),getRunData:()=>({outputs:[{dims:g,dataType:v}],dispatchGroup:{x:Math.ceil(_/64/4)},programUniforms:[{type:12,data:C},...createTensorShapeVariables(p,n,u,g)]})}},where=l=>{l.compute(createWhereOpProgramInfo(l.inputs))}}}),WEBGPU_OP_RESOLVE_RULES,init_op_resolve_rules2=__esm({"web/lib/wasm/jsep/webgpu/op-resolve-rules.ts"(){init_argminmax(),init_attention(),init_batch_norm(),init_bias_add(),init_bias_split_gelu(),init_binary_op2(),init_concat2(),init_conv2(),init_conv_transpose2(),init_cumsum(),init_depth_to_space2(),init_einsum(),init_expand(),init_fast_gelu(),init_gather2(),init_gather_elements(),init_gemm2(),init_group_query_attention(),init_instance_norm(),init_layer_norm(),init_matmul2(),init_matmulnbits(),init_multihead_attention(),init_pad2(),init_pool2(),init_range(),init_reduce2(),init_resize(),init_rotary_embedding(),init_skip_layer_norm(),init_slice2(),init_softmax2(),init_split2(),init_tile2(),init_transpose2(),init_unary_op2(),init_where(),WEBGPU_OP_RESOLVE_RULES=new Map([["Abs",[abs2]],["Acos",[acos2]],["Acosh",[acosh]],["Add",[add3]],["ArgMax",[argMax,parseArgMinMaxAttributes]],["ArgMin",[argMin,parseArgMinMaxAttributes]],["Asin",[asin2]],["Asinh",[asinh]],["Atan",[atan2]],["Atanh",[atanh]],["Attention",[attention]],["AveragePool",[averagePool2,parseAveragePoolAttributes2]],["BatchNormalization",[batchNorm]],["BiasAdd",[biasAdd]],["BiasSplitGelu",[biasSplitGelu]],["Cast",[cast2,parseCastAttributes2]],["Ceil",[ceil2]],["Clip",[clip2]],["Concat",[concat2,parseConcatAttributes2]],["Conv",[conv2,parseConvAttributes2]],["ConvTranspose",[convTranspose2,parseConvTransposeAttributes2]],["Cos",[cos2]],["Cosh",[cosh]],["CumSum",[cumsum,parseCumSumAttributes]],["DepthToSpace",[depthToSpace2,parseDepthToSpaceAttributes2]],["Div",[div2]],["Einsum",[einsum,parseEinsumAttributes]],["Elu",[elu2,parseAlphaAttributes]],["Equal",[equal2]],["Erf",[erf]],["Exp",[exp2]],["Expand",[expand]],["FastGelu",[fastGelu2]],["Floor",[floor2]],["FusedConv",[conv2,parseConvAttributes2]],["Gather",[gather2,parseGatherAttributes2]],["GatherElements",[gatherElements,parseGatherElementsAttributes]],["Gelu",[gelu]],["Gemm",[gemm2,parseGemmAttributes2]],["GlobalAveragePool",[globalAveragePool2,parseGlobalAveragePoolAttributes2]],["GlobalMaxPool",[globalMaxPool2,parseGlobalMaxPoolAttributes]],["Greater",[greater2]],["GreaterOrEqual",[greaterOrEqual]],["GroupQueryAttention",[groupQueryAttention,parseGroupQueryAttentionAttributes]],["HardSigmoid",[hardSigmoid,parseHardSigmoidAttributes]],["InstanceNormalization",[instanceNorm]],["LayerNormalization",[layerNorm]],["LeakyRelu",[leakyRelu2,parseAlphaAttributes]],["Less",[less2]],["LessOrEqual",[lessOrEqual]],["Log",[log3]],["MatMul",[matMul2]],["MatMulNBits",[matMulNBits,parseMatMulNBitsAttributes]],["MaxPool",[maxPool2,parseMaxPoolAttributes2]],["Mul",[mul2]],["MultiHeadAttention",[multiHeadAttention,parseMultiHeadAttentionAttributes]],["Neg",[neg2]],["Not",[not3]],["Pad",[pad]],["Pow",[pow2]],["QuickGelu",[quickgelu,parseAlphaAttributes]],["Range",[range]],["Reciprocal",[reciprocal]],["ReduceMin",[reduceMin2]],["ReduceMean",[reduceMean2]],["ReduceMax",[reduceMax2]],["ReduceSum",[reduceSum2]],["ReduceProd",[reduceProd2]],["ReduceL1",[reduceL1]],["ReduceL2",[reduceL2]],["ReduceLogSum",[reduceLogSum2]],["ReduceLogSumExp",[reduceLogSumExp]],["ReduceSumSquare",[reduceSumSquare]],["Relu",[relu2]],["Resize",[resize2,parseResizeAttributes]],["RotaryEmbedding",[rotaryEmbedding]],["Sigmoid",[sigmoid2]],["Sin",[sin2]],["Sinh",[sinh]],["Slice",[slice2,parseSliceAttributes2]],["SkipLayerNormalization",[skipLayerNorm]],["Split",[split2,parseSplitAttributes2]],["Sqrt",[sqrt2]],["Softmax",[softmax2,parseSoftmaxAttributes2]],["Sub",[sub2]],["Tan",[tan2]],["Tanh",[tanh2]],["ThresholdedRelu",[thresholdedRelu,parseAlphaAttributes]],["Tile",[tile2]],["Transpose",[transpose2,parseTransposeAttributes2]],["Where",[where]]])}}),ProgramManager2,init_program_manager2=__esm({"web/lib/wasm/jsep/webgpu/program-manager.ts"(){init_esm(),init_log(),init_common(),ProgramManager2=class{constructor(l){this.backend=l,this.repo=new Map,this.attributesBound=!1}getArtifact(l){return this.repo.get(l)}setArtifact(l,n){this.repo.set(l,n)}run(l,n,u,p,v){TRACE_FUNC_BEGIN(l.programInfo.name);const d=this.backend.device,g=this.backend.getComputePassEncoder();this.backend.writeTimestamp(this.backend.pendingDispatchNumber*2);const _=[];for(const E of n)_.push({binding:_.length,resource:{buffer:E.buffer}});for(const E of u)_.push({binding:_.length,resource:{buffer:E.buffer}});v&&_.push({binding:_.length,resource:v});const C=d.createBindGroup({layout:l.computePipeline.getBindGroupLayout(0),entries:_,label:l.programInfo.name});if(this.backend.sessionStatus==="capturing"){const E={kernelId:this.backend.currentKernelId,computePipeline:l.computePipeline,bindGroup:C,dispatchGroup:p};this.backend.capturedCommandList.get(this.backend.currentSessionId).push(E)}g.setPipeline(l.computePipeline),g.setBindGroup(0,C),g.dispatchWorkgroups(...p),this.backend.writeTimestamp(this.backend.pendingDispatchNumber*2+1),this.backend.pendingDispatchNumber++,(this.backend.pendingDispatchNumber>=this.backend.maxDispatchNumber||this.backend.queryType==="at-passes")&&this.backend.endComputePass(),this.backend.pendingDispatchNumber>=this.backend.maxDispatchNumber&&this.backend.flush(),TRACE_FUNC_END(l.programInfo.name)}dispose(){}build(l,n){TRACE_FUNC_BEGIN(l.name);const u=this.backend.device,p=[];u.features.has("shader-f16")&&p.push("enable f16;");const v=createShaderHelper(n,this.backend.device.limits),d=l.getShaderSource(v),g=`${p.join(`
`)}
${v.additionalImplementations}
${d}`,_=u.createShaderModule({code:g,label:l.name});LOG_DEBUG("verbose",()=>`[WebGPU] ${l.name} shader code: ${g}`);const C=u.createComputePipeline({compute:{module:_,entryPoint:"main"},layout:"auto",label:l.name});return TRACE_FUNC_END(l.name),{programInfo:l,computePipeline:C,uniformVariablesInfo:v.variablesInfo}}normalizeDispatchGroupSize(l){const n=typeof l=="number"?l:l.x,u=typeof l=="number"?1:l.y||1,p=typeof l=="number"?1:l.z||1,v=this.backend.device.limits.maxComputeWorkgroupsPerDimension;if(n<=v&&u<=v&&p<=v)return[n,u,p];const d=n*u*p;let g=Math.ceil(Math.sqrt(d));if(g>v){if(g=Math.ceil(Math.cbrt(d)),g>v)throw new Error("Total dispatch size exceeds WebGPU maximum.");return[g,g,g]}else return[g,g,1]}}}}),getProgramInputTensorInfoDependencyKey,getProgramInfoUniqueKey2,AdapterInfoImpl,WebGpuBackend,init_backend_webgpu=__esm({"web/lib/wasm/jsep/backend-webgpu.ts"(){init_esm(),init_wasm_common(),init_log(),init_tensor_view(),init_gpu_data_manager(),init_op_resolve_rules2(),init_program_manager2(),getProgramInputTensorInfoDependencyKey=(l,n)=>{if(n.length!==l.length)throw new Error(`inputDependencies length ${n.length} is not equal to inputTensors length ${l.length}.`);const u=[];for(let p=0;p<l.length;++p){const v=l[p].dataType;switch(n[p]){case"none":{u.push("");break}case"type":{u.push(`${v}`);break}case"rank":{const d=l[p].dims.length;u.push(`${v};${d}`);break}case"dims":{const d=l[p].dims.join(",");u.push(`${v};${d}`);break}default:throw new Error(`unsupported input dependency: ${n[p]}`)}}return u.join("|")},getProgramInfoUniqueKey2=(l,n,u)=>{var v,d;let p=l.name;return(v=l.shaderCache)!=null&&v.hint&&(p+="["+l.shaderCache.hint+"]"),p+=":"+u+`:${getProgramInputTensorInfoDependencyKey(n,((d=l.shaderCache)==null?void 0:d.inputDependencies)??new Array(n.length).fill("dims"))}`,p},AdapterInfoImpl=class{constructor(l){l&&(this.architecture=l.architecture,this.vendor=l.vendor)}isArchitecture(l){return this.architecture===l}isVendor(l){return this.vendor===l}},WebGpuBackend=class{constructor(){this.currentSessionId=null,this.currentKernelId=null,this.commandEncoder=null,this.computePassEncoder=null,this.maxDispatchNumber=16,this.pendingDispatchNumber=0,this.pendingKernels=[],this.pendingQueries=new Map,this.sessionStatus="default",this.capturedCommandList=new Map,this.capturedPendingKernels=new Map,this.sessionExternalDataMapping=new Map}get currentKernelCustomData(){if(this.currentKernelId===null)throw new Error("currentKernelCustomData(): currentKernelId is null. (should not happen)");let l=this.kernelCustomData.get(this.currentKernelId);return l||(l={},this.kernelCustomData.set(this.currentKernelId,l)),l}async initialize(l,n){this.env=l;const u=[],p={requiredLimits:{maxComputeWorkgroupStorageSize:n.limits.maxComputeWorkgroupStorageSize,maxComputeWorkgroupsPerDimension:n.limits.maxComputeWorkgroupsPerDimension,maxStorageBufferBindingSize:n.limits.maxStorageBufferBindingSize,maxBufferSize:n.limits.maxBufferSize,maxComputeInvocationsPerWorkgroup:n.limits.maxComputeInvocationsPerWorkgroup,maxComputeWorkgroupSizeX:n.limits.maxComputeWorkgroupSizeX,maxComputeWorkgroupSizeY:n.limits.maxComputeWorkgroupSizeY,maxComputeWorkgroupSizeZ:n.limits.maxComputeWorkgroupSizeZ},requiredFeatures:u};n.features.has("chromium-experimental-timestamp-query-inside-passes")?u.push("chromium-experimental-timestamp-query-inside-passes"):n.features.has("timestamp-query")&&u.push("timestamp-query"),n.features.has("shader-f16")&&u.push("shader-f16"),this.device=await n.requestDevice(p),this.adapterInfo=new AdapterInfoImpl(n.info||await n.requestAdapterInfo()),this.gpuDataManager=createGpuDataManager(this),this.programManager=new ProgramManager2(this),this.kernels=new Map,this.kernelPersistentData=new Map,this.kernelCustomData=new Map,configureLogger(l.logLevel,!!l.debug),this.device.onuncapturederror=v=>{v.error instanceof GPUValidationError&&console.error(`An uncaught WebGPU validation error was raised: ${v.error.message}`)},Object.defineProperty(this.env.webgpu,"device",{value:this.device,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(this.env.webgpu,"adapter",{value:n,writable:!1,enumerable:!0,configurable:!1}),this.setQueryType()}dispose(){typeof this.querySet<"u"&&this.querySet.destroy(),this.gpuDataManager.dispose()}getCommandEncoder(){return this.commandEncoder||(this.commandEncoder=this.device.createCommandEncoder()),this.commandEncoder}getComputePassEncoder(){if(!this.computePassEncoder){const l=this.getCommandEncoder(),n={};this.queryType==="at-passes"&&(n.timestampWrites={querySet:this.querySet,beginningOfPassWriteIndex:this.pendingDispatchNumber*2,endOfPassWriteIndex:this.pendingDispatchNumber*2+1}),this.computePassEncoder=l.beginComputePass(n)}return this.computePassEncoder}endComputePass(){this.computePassEncoder&&(this.computePassEncoder.end(),this.computePassEncoder=null)}flush(){if(!this.commandEncoder)return;TRACE_FUNC_BEGIN(),this.endComputePass();let l;this.queryType!=="none"&&(this.commandEncoder.resolveQuerySet(this.querySet,0,this.pendingDispatchNumber*2,this.queryResolveBuffer,0),l=this.device.createBuffer({size:this.pendingDispatchNumber*2*8,usage:GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST}),this.pendingQueries.set(l,this.pendingKernels),this.pendingKernels=[],this.commandEncoder.copyBufferToBuffer(this.queryResolveBuffer,0,l,0,this.pendingDispatchNumber*2*8)),this.device.queue.submit([this.commandEncoder.finish()]),this.gpuDataManager.refreshPendingBuffers(),this.commandEncoder=null,this.pendingDispatchNumber=0,this.queryType!=="none"&&l.mapAsync(GPUMapMode.READ).then(()=>{var p;const n=new BigUint64Array(l.getMappedRange()),u=this.pendingQueries.get(l);for(let v=0;v<n.length/2;v++){const d=u[v],g=d.kernelId,_=this.kernels.get(g),C=_.kernelType,E=_.kernelName,w=d.programName,m=d.inputTensorViews,y=d.outputTensorViews,e=n[v*2],P=n[v*2+1];typeof this.queryTimeBase>"u"&&(this.queryTimeBase=e);const O=Number(e-this.queryTimeBase),U=Number(P-this.queryTimeBase);if(!Number.isSafeInteger(O)||!Number.isSafeInteger(U))throw new RangeError("incorrect timestamp range");if((p=this.env.webgpu.profiling)!=null&&p.ondata)this.env.webgpu.profiling.ondata({version:1,inputsMetadata:m.map(W=>({dims:W.dims,dataType:tensorDataTypeEnumToString(W.dataType)})),outputsMetadata:y.map(W=>({dims:W.dims,dataType:tensorDataTypeEnumToString(W.dataType)})),kernelId:g,kernelType:C,kernelName:E,programName:w,startTime:O,endTime:U});else{let W="";m.forEach(($,b)=>{W+=`input[${b}]: [${$.dims}] | ${tensorDataTypeEnumToString($.dataType)}, `});let V="";y.forEach(($,b)=>{V+=`output[${b}]: [${$.dims}] | ${tensorDataTypeEnumToString($.dataType)}, `}),console.log(`[profiling] kernel "${g}|${C}|${E}|${w}" ${W}${V}execution time: ${U-O} ns`)}TRACE("GPU",`${w}::${e}::${P}`)}l.unmap(),this.pendingQueries.delete(l)}),TRACE_FUNC_END()}run(l,n,u,p,v,d){TRACE_FUNC_BEGIN(l.name);const g=[];for(let V=0;V<n.length;++V){const $=n[V].data;if($===0)continue;const b=this.gpuDataManager.get($);if(!b)throw new Error(`no GPU data for input: ${$}`);g.push(b)}const{outputs:_,dispatchGroup:C,programUniforms:E}=l.getRunData(n),w=u.length===0?_.map((V,$)=>$):u;if(w.length!==_.length)throw new Error(`Output size ${w.length} must be equal to ${_.length}.`);const m=[],y=[];for(let V=0;V<_.length;++V){if(!Number.isInteger(w[V])||w[V]<-3||w[V]>=d)throw new Error(`Invalid output index: ${w[V]}`);if(w[V]===-3)continue;const $=w[V]===-1,b=w[V]===-2,H=$||b?v(_[V].dataType,_[V].dims):p(w[V],_[V].dataType,_[V].dims);if(m.push(H),H.data===0)continue;const G=this.gpuDataManager.get(H.data);if(!G)throw new Error(`no GPU data for output: ${H.data}`);if($&&this.temporaryData.push(G),b){let Y=this.kernelPersistentData.get(this.currentKernelId);Y||(Y=[],this.kernelPersistentData.set(this.currentKernelId,Y)),Y.push(G)}y.push(G)}if(g.length!==n.length||y.length!==m.length){if(y.length===0)return TRACE_FUNC_END(l.name),m;throw new Error(`Program ${l.name} has zero-sized tensor(s) in inputs or outputs. This is not supported now.`)}let e;if(E){let V=0;const $=[];E.forEach(Y=>{const X=typeof Y.data=="number"?[Y.data]:Y.data;if(X.length===0)return;const j=Y.type===10?2:4;let h,ae;Y.type===10?(ae=X.length>4?16:X.length>2?8:X.length*j,h=X.length>4?16:j*X.length):(ae=X.length<=2?X.length*j:16,h=16),V=Math.ceil(V/ae)*ae,$.push(V);const le=Y.type===10?8:4;V+=X.length>4?Math.ceil(X.length/le)*h:X.length*j});const b=16;V=Math.ceil(V/b)*b;const H=new ArrayBuffer(V);E.forEach((Y,X)=>{const j=$[X],h=typeof Y.data=="number"?[Y.data]:Y.data;if(Y.type===6)new Int32Array(H,j,h.length).set(h);else if(Y.type===12)new Uint32Array(H,j,h.length).set(h);else if(Y.type===10)new Uint16Array(H,j,h.length).set(h);else if(Y.type===1)new Float32Array(H,j,h.length).set(h);else throw new Error(`Unsupported uniform type: ${tensorDataTypeEnumToString(Y.type)}`)});const G=this.gpuDataManager.create(V,GPUBufferUsage.COPY_DST|GPUBufferUsage.UNIFORM);this.device.queue.writeBuffer(G.buffer,0,H,0,V),this.gpuDataManager.release(G.id),e={offset:0,size:V,buffer:G.buffer}}const P=this.programManager.normalizeDispatchGroupSize(C),O=P[1]===1&&P[2]===1,U=getProgramInfoUniqueKey2(l,n,O);let W=this.programManager.getArtifact(U);if(W||(W=this.programManager.build(l,P),this.programManager.setArtifact(U,W),LOG_DEBUG("info",()=>`[artifact] key: ${U}, programName: ${l.name}`)),E&&W.uniformVariablesInfo){if(E.length!==W.uniformVariablesInfo.length)throw new Error(`Uniform variables count mismatch: expect ${W.uniformVariablesInfo.length}, got ${E.length} in program "${W.programInfo.name}".`);for(let V=0;V<E.length;V++){const $=E[V],b=$.type,H=typeof $.data=="number"?1:$.data.length,[G,Y]=W.uniformVariablesInfo[V];if(b!==G||H!==Y)throw new Error(`Uniform variable ${V} mismatch: expect type ${G} with size ${Y}, got type ${b} with size ${H} in program "${W.programInfo.name}".`)}}if(LOG_DEBUG("info",()=>`[ProgramManager] run "${l.name}" (key=${U}) with ${P[0]}x${P[1]}x${P[2]}`),this.queryType!=="none"||this.sessionStatus==="capturing"){const V={kernelId:this.currentKernelId,programName:W.programInfo.name,inputTensorViews:n,outputTensorViews:m};this.pendingKernels.push(V),this.sessionStatus==="capturing"&&this.capturedPendingKernels.get(this.currentSessionId).push(V)}return this.programManager.run(W,g,y,P,e),TRACE_FUNC_END(l.name),m}upload(l,n){this.gpuDataManager.upload(l,n)}memcpy(l,n){this.gpuDataManager.memcpy(l,n)}async download(l,n){await this.gpuDataManager.download(l,n)}alloc(l){return this.gpuDataManager.create(l).id}free(l){return this.gpuDataManager.release(l)}createKernel(l,n,u,p){const v=WEBGPU_OP_RESOLVE_RULES.get(l);if(!v)throw new Error(`kernel not implemented: ${l}`);const d={kernelType:l,kernelName:p,kernelEntry:v[0],attributes:[v[1],u]};this.kernels.set(n,d)}releaseKernel(l){const n=this.kernelPersistentData.get(l);if(n){for(const u of n)this.gpuDataManager.release(u.id);this.kernelPersistentData.delete(l)}this.kernelCustomData.delete(l),this.kernels.delete(l)}computeKernel(l,n,u){const p=this.kernels.get(l);if(!p)throw new Error(`kernel not created: ${l}`);const v=p.kernelType,d=p.kernelName,g=p.kernelEntry,_=p.attributes;if(this.currentKernelId!==null)throw new Error(`kernel "[${v}] ${d}" is not allowed to be called recursively`);this.currentKernelId=l,_[0]&&(_[1]=_[0](_[1]),_[0]=void 0),LOG_DEBUG("info",()=>`[WebGPU] Start to run kernel "[${v}] ${d}"...`);const C=this.env.debug;this.temporaryData=[];try{return C&&this.device.pushErrorScope("validation"),g(n,_[1]),0}catch(E){return u.push(Promise.resolve(`[WebGPU] Kernel "[${v}] ${d}" failed. ${E}`)),1}finally{C&&u.push(this.device.popErrorScope().then(E=>E?`GPU validation error for kernel "[${v}] ${d}": ${E.message}`:null));for(const E of this.temporaryData)this.gpuDataManager.release(E.id);this.temporaryData=[],this.currentKernelId=null}}registerBuffer(l,n,u,p){let v=this.sessionExternalDataMapping.get(l);v||(v=new Map,this.sessionExternalDataMapping.set(l,v));const d=v.get(n),g=this.gpuDataManager.registerExternalBuffer(u,p,d==null?void 0:d[1]);return v.set(n,[g,u]),g}unregisterBuffers(l){const n=this.sessionExternalDataMapping.get(l);n&&(n.forEach(u=>this.gpuDataManager.unregisterExternalBuffer(u[1])),this.sessionExternalDataMapping.delete(l))}getBuffer(l){const n=this.gpuDataManager.get(l);if(!n)throw new Error(`no GPU data for buffer: ${l}`);return n.buffer}createDownloader(l,n,u){return async()=>{const p=await downloadGpuData(this,l,n);return createView2(p.buffer,u)}}writeTimestamp(l){this.queryType==="inside-passes"&&this.computePassEncoder.writeTimestamp(this.querySet,l)}setQueryType(){var l;this.queryType="none",(((l=this.env.webgpu.profiling)==null?void 0:l.mode)==="default"||(typeof this.env.trace>"u"?this.env.wasm.trace:this.env.trace))&&(this.device.features.has("chromium-experimental-timestamp-query-inside-passes")?this.queryType="inside-passes":this.device.features.has("timestamp-query")&&(this.queryType="at-passes"),this.queryType!=="none"&&typeof this.querySet>"u"&&(this.querySet=this.device.createQuerySet({type:"timestamp",count:this.maxDispatchNumber*2}),this.queryResolveBuffer=this.device.createBuffer({size:this.maxDispatchNumber*2*8,usage:GPUBufferUsage.COPY_SRC|GPUBufferUsage.QUERY_RESOLVE})))}captureBegin(){LOG_DEBUG("info","captureBegin"),this.capturedCommandList.get(this.currentSessionId)||this.capturedCommandList.set(this.currentSessionId,[]),this.capturedPendingKernels.get(this.currentSessionId)||this.capturedPendingKernels.set(this.currentSessionId,[]),this.flush(),this.sessionStatus="capturing"}captureEnd(){LOG_DEBUG("info","captureEnd"),this.flush(),this.sessionStatus="default"}replay(){LOG_DEBUG("info","replay"),this.sessionStatus="replaying";const l=this.capturedCommandList.get(this.currentSessionId),n=this.capturedPendingKernels.get(this.currentSessionId),u=l.length;this.pendingKernels=[];for(let p=0;p<u;p++){const v=this.getComputePassEncoder(),d=l[p];this.writeTimestamp(this.pendingDispatchNumber*2),v.setPipeline(d.computePipeline),v.setBindGroup(0,d.bindGroup),v.dispatchWorkgroups(...d.dispatchGroup),this.writeTimestamp(this.pendingDispatchNumber*2+1),this.pendingDispatchNumber++,this.queryType!=="none"&&this.pendingKernels.push(n[p]),(this.pendingDispatchNumber>=this.maxDispatchNumber||this.queryType==="at-passes")&&this.endComputePass(),this.pendingDispatchNumber>=this.maxDispatchNumber&&this.flush()}this.flush(),this.sessionStatus="default"}onReleaseSession(l){this.unregisterBuffers(l),this.capturedCommandList.has(l)&&this.capturedCommandList.delete(l),this.capturedPendingKernels.has(l)&&this.capturedPendingKernels.delete(l),this.gpuDataManager.onReleaseSession(l)}onRunStart(l){this.currentSessionId=l,this.setQueryType()}}}}),init_exports={};__export(init_exports,{init:()=>init});var TensorViewImpl,ComputeContextImpl,init,init_init=__esm({"web/lib/wasm/jsep/init.ts"(){init_wasm_common(),init_backend_webgpu(),init_log(),init_util2(),TensorViewImpl=class Zs{constructor(n,u,p,v){this.module=n,this.dataType=u,this.data=p,this.dims=v}getFloat32Array(){if(this.dataType!==1)throw new Error("Invalid data type");const n=ShapeUtil2.size(this.dims);return n===0?new Float32Array:new Float32Array(this.module.HEAP8.buffer,this.data,n)}getBigInt64Array(){if(this.dataType!==7)throw new Error("Invalid data type");const n=ShapeUtil2.size(this.dims);return n===0?new BigInt64Array:new BigInt64Array(this.module.HEAP8.buffer,this.data,n)}getInt32Array(){if(this.dataType!==6)throw new Error("Invalid data type");const n=ShapeUtil2.size(this.dims);return n===0?new Int32Array:new Int32Array(this.module.HEAP8.buffer,this.data,n)}reshape(n){if(ShapeUtil2.size(n)!==ShapeUtil2.size(this.dims))throw new Error("Invalid new shape");return new Zs(this.module,this.dataType,this.data,n)}},ComputeContextImpl=class{constructor(l,n,u){this.module=l,this.backend=n,this.customDataOffset=0,this.customDataSize=0,this.adapterInfo=n.adapterInfo;const p=l.HEAPU32;let v=u>>>2;this.opKernelContext=p[v++];const d=p[v++];this.outputCount=p[v++],this.customDataOffset=p[v++],this.customDataSize=p[v++];const g=[];for(let _=0;_<d;_++){const C=p[v++],E=p[v++],w=p[v++],m=[];for(let y=0;y<w;y++)m.push(p[v++]);g.push(new TensorViewImpl(l,C,E,m))}this.inputs=g}get kernelCustomData(){return this.backend.currentKernelCustomData}get customDataBuffer(){return this.module.HEAPU8.subarray(this.customDataOffset,this.customDataOffset+this.customDataSize)}getMaxComputeWorkgroupSizes(){return[this.backend.device.limits.maxComputeWorkgroupSizeX,this.backend.device.limits.maxComputeWorkgroupSizeY,this.backend.device.limits.maxComputeWorkgroupSizeZ]}getMaxComputeWorkgroupStoragesize(){return this.backend.device.limits.maxComputeWorkgroupStorageSize}compute(l,n){var g;const u=((g=n==null?void 0:n.inputs)==null?void 0:g.map(_=>typeof _=="number"?this.inputs[_]:_))??this.inputs,p=(n==null?void 0:n.outputs)??[],v=(_,C,E)=>new TensorViewImpl(this.module,C,this.output(_,E),E),d=(_,C)=>{const E=getTensorElementSize(_);if(!E)throw new Error(`Unsupported data type: ${_}`);const w=E*ShapeUtil2.size(C),m=w>0?this.backend.gpuDataManager.create(w).id:0;return new TensorViewImpl(this.module,_,m,C)};return this.backend.run(l,u,p,v,d,this.outputCount)}output(l,n){const u=this.module.stackSave();try{const p=this.module.stackAlloc((1+n.length)*4);let v=p>>2;this.module.HEAPU32[v++]=n.length;for(let d=0;d<n.length;d++)this.module.HEAPU32[v++]=n[d];return this.module._JsepOutput(this.opKernelContext,l,p)}catch(p){throw new Error(`Failed to generate kernel's output[${l}] with dims [${n}]. If you are running with pre-allocated output, please make sure the output type/dims are correct. Error: ${p}`)}finally{this.module.stackRestore(u)}}},init=async(l,n,u,p)=>{const v=n.jsepInit;if(!v)throw new Error("Failed to initialize JSEP. The WebAssembly module is not built with JSEP support.");if(l==="webgpu"){const d=new WebGpuBackend;await d.initialize(u,p),v("webgpu",[d,g=>d.alloc(g),g=>d.free(g),(g,_,C,E=!1)=>{if(E)LOG_DEBUG("verbose",()=>`[WebGPU] jsepCopyGpuToGpu: src=${g}, dst=${_}, size=${C}`),d.memcpy(g,_);else{LOG_DEBUG("verbose",()=>`[WebGPU] jsepCopyCpuToGpu: dataOffset=${g}, gpuDataId=${_}, size=${C}`);const w=n.HEAPU8.subarray(g>>>0,(g>>>0)+C);d.upload(_,w)}},async(g,_,C)=>{LOG_DEBUG("verbose",()=>`[WebGPU] jsepCopyGpuToCpu: gpuDataId=${g}, dataOffset=${_}, size=${C}`),await d.download(g,()=>n.HEAPU8.subarray(_>>>0,(_>>>0)+C))},(g,_,C)=>d.createKernel(g,_,C,n.UTF8ToString(n._JsepGetNodeName(_))),g=>d.releaseKernel(g),(g,_,C,E)=>{LOG_DEBUG("verbose",()=>`[WebGPU] jsepRun: sessionHandle=${C}, kernel=${g}, contextDataOffset=${_}`);const w=new ComputeContextImpl(n,d,_);return d.computeKernel(g,w,E)},()=>d.captureBegin(),()=>d.captureEnd(),()=>d.replay()])}else v("webnn")}}}),initOrt,initRuntime,initEp,activeSessions,getSessionInputOutputCount,copyFromExternalBuffer,createSession,releaseSession,prepareInputOutputTensor,run,endProfiling,extractTransferableBuffers,init_wasm_core_impl=__esm({"web/lib/wasm/wasm-core-impl.ts"(){init_run_options(),init_session_options(),init_wasm_common(),init_wasm_factory(),init_wasm_utils(),init_wasm_utils_load_file(),initOrt=(l,n)=>{getInstance()._OrtInit(l,n)!==0&&checkLastError("Can't initialize onnxruntime.")},initRuntime=async l=>{initOrt(l.wasm.numThreads,logLevelStringToEnum(l.logLevel))},initEp=async(l,n)=>{{const u=(init_init(),__toCommonJS(init_exports)).init;if(n==="webgpu"){if(typeof navigator>"u"||!navigator.gpu)throw new Error("WebGPU is not supported in current environment");let p=l.webgpu.adapter;if(p){if(typeof p.limits!="object"||typeof p.features!="object"||typeof p.requestDevice!="function")throw new Error("Invalid GPU adapter set in `env.webgpu.adapter`. It must be a GPUAdapter object.")}else{const v=l.webgpu.powerPreference;if(v!==void 0&&v!=="low-power"&&v!=="high-performance")throw new Error(`Invalid powerPreference setting: "${v}"`);const d=l.webgpu.forceFallbackAdapter;if(d!==void 0&&typeof d!="boolean")throw new Error(`Invalid forceFallbackAdapter setting: "${d}"`);if(p=await navigator.gpu.requestAdapter({powerPreference:v,forceFallbackAdapter:d}),!p)throw new Error('Failed to get GPU adapter. You may need to enable flag "--enable-unsafe-webgpu" if you are using Chrome.')}await u("webgpu",getInstance(),l,p)}if(n==="webnn"){if(typeof navigator>"u"||!navigator.ml)throw new Error("WebNN is not supported in current environment");await u("webnn",getInstance(),l)}}},activeSessions=new Map,getSessionInputOutputCount=l=>{const n=getInstance(),u=n.stackSave();try{const p=n.stackAlloc(8);return n._OrtGetInputOutputCount(l,p,p+4)!==0&&checkLastError("Can't get session input/output count."),[n.HEAP32[p/4],n.HEAP32[p/4+1]]}finally{n.stackRestore(u)}},copyFromExternalBuffer=l=>{const n=getInstance(),u=n._malloc(l.byteLength);if(u===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${l.byteLength}.`);return n.HEAPU8.set(l,u),[u,l.byteLength]},createSession=async(l,n)=>{var m,y;let u,p;const v=getInstance();Array.isArray(l)?[u,p]=l:l.buffer===v.HEAPU8.buffer?[u,p]=[l.byteOffset,l.byteLength]:[u,p]=copyFromExternalBuffer(l);let d=0,g=0,_=0,C=[];const E=[],w=[];try{if([g,C]=setSessionOptions(n),n!=null&&n.externalData&&v.mountExternalData){const b=[];for(const H of n.externalData){const G=typeof H=="string"?H:H.path;b.push(loadFile(typeof H=="string"?H:H.data).then(Y=>{v.mountExternalData(G,Y)}))}await Promise.all(b)}for(const b of(n==null?void 0:n.executionProviders)??[])if((typeof b=="string"?b:b.name)==="webnn"){if(v.currentContext)throw new Error("WebNN execution provider is already set.");if(typeof b!="string"){const G=b,Y=G==null?void 0:G.context,X=G==null?void 0:G.gpuDevice,j=G==null?void 0:G.deviceType,h=G==null?void 0:G.numThreads,ae=G==null?void 0:G.powerPreference;Y?v.currentContext=Y:X?v.currentContext=await navigator.ml.createContext(X):v.currentContext=await navigator.ml.createContext({deviceType:j,numThreads:h,powerPreference:ae})}else v.currentContext=await navigator.ml.createContext();break}d=await v._OrtCreateSession(u,p,g),d===0&&checkLastError("Can't create a session."),v.currentContext&&(v.currentContext=void 0);const[e,P]=getSessionInputOutputCount(d),O=!!(n!=null&&n.enableGraphCapture),U=[],W=[],V=[];for(let b=0;b<e;b++){const H=v._OrtGetInputName(d,b);H===0&&checkLastError("Can't get an input name."),E.push(H),U.push(v.UTF8ToString(H))}for(let b=0;b<P;b++){const H=v._OrtGetOutputName(d,b);H===0&&checkLastError("Can't get an output name."),w.push(H);const G=v.UTF8ToString(H);W.push(G);{if(O&&(n==null?void 0:n.preferredOutputLocation)===void 0){V.push("gpu-buffer");continue}const Y=typeof(n==null?void 0:n.preferredOutputLocation)=="string"?n.preferredOutputLocation:((m=n==null?void 0:n.preferredOutputLocation)==null?void 0:m[G])??"cpu";if(Y!=="cpu"&&Y!=="cpu-pinned"&&Y!=="gpu-buffer")throw new Error(`Not supported preferred output location: ${Y}.`);if(O&&Y!=="gpu-buffer")throw new Error(`Not supported preferred output location: ${Y}. Only 'gpu-buffer' location is supported when enableGraphCapture is true.`);V.push(Y)}}let $=null;return V.some(b=>b==="gpu-buffer")&&(_=v._OrtCreateBinding(d),_===0&&checkLastError("Can't create IO binding."),$={handle:_,outputPreferredLocations:V,outputPreferredLocationsEncoded:V.map(b=>dataLocationStringToEnum(b))}),activeSessions.set(d,[d,E,w,$,O,!1]),[d,U,W]}catch(e){throw E.forEach(P=>v._OrtFree(P)),w.forEach(P=>v._OrtFree(P)),_!==0&&v._OrtReleaseBinding(_),d!==0&&v._OrtReleaseSession(d),e}finally{v._free(u),g!==0&&v._OrtReleaseSessionOptions(g),C.forEach(e=>v._free(e)),(y=v.unmountExternalData)==null||y.call(v)}},releaseSession=l=>{var C;const n=getInstance(),u=activeSessions.get(l);if(!u)throw new Error(`cannot release session. invalid session id: ${l}`);const[p,v,d,g,_]=u;g&&(_&&n._OrtClearBoundOutputs(g.handle),n._OrtReleaseBinding(g.handle)),(C=n.jsepOnReleaseSession)==null||C.call(n,l),v.forEach(E=>n._OrtFree(E)),d.forEach(E=>n._OrtFree(E)),n._OrtReleaseSession(p),activeSessions.delete(l)},prepareInputOutputTensor=(l,n,u,p,v,d=!1)=>{if(!l){n.push(0);return}const g=getInstance(),_=l[0],C=l[1],E=l[3];let w,m;if(_==="string"&&E==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(d&&E!=="gpu-buffer")throw new Error(`External buffer must be provided for input/output index ${v} when enableGraphCapture is true.`);if(E==="gpu-buffer"){const P=l[2].gpuBuffer,O=getTensorElementSize(tensorDataTypeStringToEnum(_));m=C.reduce((W,V)=>W*V,1)*O;const U=g.jsepRegisterBuffer;if(!U)throw new Error('Tensor location "gpu-buffer" is not supported without using WebGPU.');w=U(p,v,P,m)}else{const P=l[2];if(Array.isArray(P)){m=4*P.length,w=g._malloc(m),u.push(w);let O=w/4;for(let U=0;U<P.length;U++){if(typeof P[U]!="string")throw new TypeError(`tensor data at index ${U} is not a string`);g.HEAPU32[O++]=allocWasmString(P[U],u)}}else m=P.byteLength,w=g._malloc(m),u.push(w),g.HEAPU8.set(new Uint8Array(P.buffer,P.byteOffset,m),w)}const y=g.stackSave(),e=g.stackAlloc(4*C.length);try{let P=e/4;C.forEach(U=>g.HEAP32[P++]=U);const O=g._OrtCreateTensor(tensorDataTypeStringToEnum(_),w,m,e,C.length,dataLocationStringToEnum(E));O===0&&checkLastError(`Can't create tensor for input/output. session=${p}, index=${v}.`),n.push(O)}finally{g.stackRestore(y)}},run=async(l,n,u,p,v,d)=>{var h,ae;const g=getInstance(),_=activeSessions.get(l);if(!_)throw new Error(`cannot run inference. invalid session id: ${l}`);const C=_[0],E=_[1],w=_[2],m=_[3],y=_[4],e=_[5],P=n.length,O=p.length;let U=0,W=[];const V=[],$=[],b=[],H=g.stackSave(),G=g.stackAlloc(P*4),Y=g.stackAlloc(P*4),X=g.stackAlloc(O*4),j=g.stackAlloc(O*4);try{[U,W]=setRunOptions(d);for(let we=0;we<P;we++)prepareInputOutputTensor(u[we],V,b,l,n[we],y);for(let we=0;we<O;we++)prepareInputOutputTensor(v[we],$,b,l,P+p[we],y);let le=G/4,he=Y/4,pe=X/4,Ae=j/4;for(let we=0;we<P;we++)g.HEAPU32[le++]=V[we],g.HEAPU32[he++]=E[n[we]];for(let we=0;we<O;we++)g.HEAPU32[pe++]=$[we],g.HEAPU32[Ae++]=w[p[we]];if(m&&!e){const{handle:we,outputPreferredLocations:be,outputPreferredLocationsEncoded:Ve}=m;if(E.length!==P)throw new Error(`input count from feeds (${P}) is expected to be always equal to model's input count (${E.length}).`);for(let Ne=0;Ne<P;Ne++){const p0=n[Ne];await g._OrtBindInput(we,E[p0],V[Ne])!==0&&checkLastError(`Can't bind input[${Ne}] for session=${l}.`)}for(let Ne=0;Ne<O;Ne++){const p0=p[Ne];((h=v[Ne])==null?void 0:h[3])?g._OrtBindOutput(we,w[p0],$[Ne],0)!==0&&checkLastError(`Can't bind pre-allocated output[${Ne}] for session=${l}.`):g._OrtBindOutput(we,w[p0],0,Ve[p0])!==0&&checkLastError(`Can't bind output[${Ne}] to ${be[Ne]} for session=${l}.`)}activeSessions.set(l,[C,E,w,m,y,!0])}(ae=g.jsepOnRunStart)==null||ae.call(g,C);let ge;m?ge=await g._OrtRunWithBinding(C,m.handle,O,X,U):ge=await g._OrtRun(C,Y,G,P,j,O,X,U),ge!==0&&checkLastError("failed to call OrtRun().");const ye=[];for(let we=0;we<O;we++){const be=g.HEAPU32[X/4+we];if(be===$[we]){ye.push(v[we]);continue}const Ve=g.stackSave(),Ne=g.stackAlloc(4*4);let p0=!1,k0,Ue=0;try{g._OrtGetTensorData(be,Ne,Ne+4,Ne+8,Ne+12)!==0&&checkLastError(`Can't access output tensor data on index ${we}.`);let I0=Ne/4;const O0=g.HEAPU32[I0++];Ue=g.HEAPU32[I0++];const Q0=g.HEAPU32[I0++],tt=g.HEAPU32[I0++],it=[];for(let Xe=0;Xe<tt;Xe++)it.push(g.HEAPU32[Q0/4+Xe]);g._OrtFree(Q0);const U0=it.reduce((Xe,ke)=>Xe*ke,1);k0=tensorDataTypeEnumToString(O0);const q0=m==null?void 0:m.outputPreferredLocations[p[we]];if(k0==="string"){if(q0==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");const Xe=[];let ke=Ue/4;for(let n0=0;n0<U0;n0++){const Ie=g.HEAPU32[ke++],Fe=n0===U0-1?void 0:g.HEAPU32[ke]-Ie;Xe.push(g.UTF8ToString(Ie,Fe))}ye.push([k0,it,Xe,"cpu"])}else if(q0==="gpu-buffer"&&U0>0){const Xe=g.jsepGetBuffer;if(!Xe)throw new Error('preferredLocation "gpu-buffer" is not supported without using WebGPU.');const ke=Xe(Ue),n0=getTensorElementSize(O0);if(n0===void 0||!isGpuBufferSupportedType(k0))throw new Error(`Unsupported data type: ${k0}`);p0=!0,ye.push([k0,it,{gpuBuffer:ke,download:g.jsepCreateDownloader(ke,U0*n0,k0),dispose:()=>{g._OrtReleaseTensor(be)}},"gpu-buffer"])}else{const Xe=tensorTypeToTypedArrayConstructor(k0),ke=new Xe(U0);new Uint8Array(ke.buffer,ke.byteOffset,ke.byteLength).set(g.HEAPU8.subarray(Ue,Ue+ke.byteLength)),ye.push([k0,it,ke,"cpu"])}}finally{g.stackRestore(Ve),k0==="string"&&Ue&&g._free(Ue),p0||g._OrtReleaseTensor(be)}}return m&&!y&&(g._OrtClearBoundOutputs(m.handle),activeSessions.set(l,[C,E,w,m,y,!1])),ye}finally{g.stackRestore(H),V.forEach(le=>g._OrtReleaseTensor(le)),$.forEach(le=>g._OrtReleaseTensor(le)),b.forEach(le=>g._free(le)),U!==0&&g._OrtReleaseRunOptions(U),W.forEach(le=>g._free(le))}},endProfiling=l=>{const n=getInstance(),u=activeSessions.get(l);if(!u)throw new Error("invalid session id");const p=u[0],v=n._OrtEndProfiling(p);v===0&&checkLastError("Can't get an profile file name."),n._OrtFree(v)},extractTransferableBuffers=l=>{const n=[];for(const u of l){const p=u[2];!Array.isArray(p)&&"buffer"in p&&n.push(p.buffer)}return n}}}),isProxy,proxyWorker,initializing2,initialized2,aborted2,temporaryObjectUrl,initWasmCallbacks,queuedCallbacks,enqueueCallbacks,ensureWorker,onProxyWorkerMessage,initializeWebAssemblyAndOrtRuntime,initializeOrtEp,copyFromExternalBuffer2,createSession2,releaseSession2,run2,endProfiling2,init_proxy_wrapper=__esm({"web/lib/wasm/proxy-wrapper.ts"(){init_esm(),init_wasm_core_impl(),init_wasm_factory(),init_wasm_utils_import(),isProxy=()=>!!env2.wasm.proxy&&typeof document<"u",initializing2=!1,initialized2=!1,aborted2=!1,queuedCallbacks=new Map,enqueueCallbacks=(l,n)=>{const u=queuedCallbacks.get(l);u?u.push(n):queuedCallbacks.set(l,[n])},ensureWorker=()=>{if(initializing2||!initialized2||aborted2||!proxyWorker)throw new Error("worker not ready")},onProxyWorkerMessage=l=>{switch(l.data.type){case"init-wasm":initializing2=!1,l.data.err?(aborted2=!0,initWasmCallbacks[1](l.data.err)):(initialized2=!0,initWasmCallbacks[0]()),temporaryObjectUrl&&(URL.revokeObjectURL(temporaryObjectUrl),temporaryObjectUrl=void 0);break;case"init-ep":case"copy-from":case"create":case"release":case"run":case"end-profiling":{const n=queuedCallbacks.get(l.data.type);l.data.err?n.shift()[1](l.data.err):n.shift()[0](l.data.out);break}}},initializeWebAssemblyAndOrtRuntime=async()=>{if(!initialized2){if(initializing2)throw new Error("multiple calls to 'initWasm()' detected.");if(aborted2)throw new Error("previous call to 'initWasm()' failed.");if(initializing2=!0,isProxy())return new Promise((l,n)=>{proxyWorker==null||proxyWorker.terminate(),importProxyWorker().then(([u,p])=>{try{proxyWorker=p,proxyWorker.onerror=d=>n(d),proxyWorker.onmessage=onProxyWorkerMessage,initWasmCallbacks=[l,n];const v={type:"init-wasm",in:env2};proxyWorker.postMessage(v),temporaryObjectUrl=u}catch(v){n(v)}},n)});try{await initializeWebAssembly(env2.wasm),await initRuntime(env2),initialized2=!0}catch(l){throw aborted2=!0,l}finally{initializing2=!1}}},initializeOrtEp=async l=>{if(isProxy())return ensureWorker(),new Promise((n,u)=>{enqueueCallbacks("init-ep",[n,u]);const p={type:"init-ep",in:{epName:l,env:env2}};proxyWorker.postMessage(p)});await initEp(env2,l)},copyFromExternalBuffer2=async l=>isProxy()?(ensureWorker(),new Promise((n,u)=>{enqueueCallbacks("copy-from",[n,u]);const p={type:"copy-from",in:{buffer:l}};proxyWorker.postMessage(p,[l.buffer])})):copyFromExternalBuffer(l),createSession2=async(l,n)=>{if(isProxy()){if(n!=null&&n.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return ensureWorker(),new Promise((u,p)=>{enqueueCallbacks("create",[u,p]);const v={type:"create",in:{model:l,options:{...n}}},d=[];l instanceof Uint8Array&&d.push(l.buffer),proxyWorker.postMessage(v,d)})}else return createSession(l,n)},releaseSession2=async l=>{if(isProxy())return ensureWorker(),new Promise((n,u)=>{enqueueCallbacks("release",[n,u]);const p={type:"release",in:l};proxyWorker.postMessage(p)});releaseSession(l)},run2=async(l,n,u,p,v,d)=>{if(isProxy()){if(u.some(g=>g[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(v.some(g=>g))throw new Error("pre-allocated output tensor is not supported for proxy.");return ensureWorker(),new Promise((g,_)=>{enqueueCallbacks("run",[g,_]);const C=u,E={type:"run",in:{sessionId:l,inputIndices:n,inputs:C,outputIndices:p,options:d}};proxyWorker.postMessage(E,extractTransferableBuffers(C))})}else return run(l,n,u,p,v,d)},endProfiling2=async l=>{if(isProxy())return ensureWorker(),new Promise((n,u)=>{enqueueCallbacks("end-profiling",[n,u]);const p={type:"end-profiling",in:l};proxyWorker.postMessage(p)});endProfiling(l)}}}),encodeTensorMetadata,decodeTensorMetadata,OnnxruntimeWebAssemblySessionHandler,init_session_handler_inference2=__esm({"web/lib/wasm/session-handler-inference.ts"(){init_esm(),init_proxy_wrapper(),init_wasm_common(),init_wasm_utils_env(),init_wasm_utils_load_file(),encodeTensorMetadata=(l,n)=>{switch(l.location){case"cpu":return[l.type,l.dims,l.data,"cpu"];case"gpu-buffer":return[l.type,l.dims,{gpuBuffer:l.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${l.location} for ${n()}`)}},decodeTensorMetadata=l=>{switch(l[3]){case"cpu":return new Tensor2(l[0],l[2],l[1]);case"gpu-buffer":{const n=l[0];if(!isGpuBufferSupportedType(n))throw new Error(`not supported data type: ${n} for deserializing GPU tensor`);const{gpuBuffer:u,download:p,dispose:v}=l[2];return Tensor2.fromGpuBuffer(u,{dataType:n,dims:l[1],download:p,dispose:v})}default:throw new Error(`invalid data location: ${l[3]}`)}},OnnxruntimeWebAssemblySessionHandler=class{async fetchModelAndCopyToWasmMemory(l){return copyFromExternalBuffer2(await loadFile(l))}async loadModel(l,n){TRACE_FUNC_BEGIN();let u;typeof l=="string"?isNode?u=await loadFile(l):u=await this.fetchModelAndCopyToWasmMemory(l):u=l,[this.sessionId,this.inputNames,this.outputNames]=await createSession2(u,n),TRACE_FUNC_END()}async dispose(){return releaseSession2(this.sessionId)}async run(l,n,u){TRACE_FUNC_BEGIN();const p=[],v=[];Object.entries(l).forEach(m=>{const y=m[0],e=m[1],P=this.inputNames.indexOf(y);if(P===-1)throw new Error(`invalid input '${y}'`);p.push(e),v.push(P)});const d=[],g=[];Object.entries(n).forEach(m=>{const y=m[0],e=m[1],P=this.outputNames.indexOf(y);if(P===-1)throw new Error(`invalid output '${y}'`);d.push(e),g.push(P)});const _=p.map((m,y)=>encodeTensorMetadata(m,()=>`input "${this.inputNames[v[y]]}"`)),C=d.map((m,y)=>m?encodeTensorMetadata(m,()=>`output "${this.outputNames[g[y]]}"`):null),E=await run2(this.sessionId,v,_,g,C,u),w={};for(let m=0;m<E.length;m++)w[this.outputNames[g[m]]]=d[m]??decodeTensorMetadata(E[m]);return TRACE_FUNC_END(),w}startProfiling(){}endProfiling(){endProfiling2(this.sessionId)}}}}),initializeFlags,OnnxruntimeWebAssemblyBackend,init_backend_wasm=__esm({"web/lib/backend-wasm.ts"(){init_esm(),init_proxy_wrapper(),init_session_handler_inference2(),init_wasm_utils_import(),initializeFlags=()=>{if((typeof env2.wasm.initTimeout!="number"||env2.wasm.initTimeout<0)&&(env2.wasm.initTimeout=0),env2.wasm.simd===!1&&console.warn('Deprecated property "env.wasm.simd" is set to false. non-SIMD build is no longer provided, and this setting will be ignored.'),typeof env2.wasm.proxy!="boolean"&&(env2.wasm.proxy=!1),typeof env2.wasm.trace!="boolean"&&(env2.wasm.trace=!1),typeof env2.wasm.numThreads!="number"||!Number.isInteger(env2.wasm.numThreads)||env2.wasm.numThreads<=0)if(typeof self<"u"&&!self.crossOriginIsolated)env2.wasm.numThreads=1;else{const l=typeof navigator>"u"?__require("node:os").cpus().length:navigator.hardwareConcurrency;env2.wasm.numThreads=Math.min(4,Math.ceil((l||1)/2))}env2.wasm.wasmPaths===void 0&&scriptSrc&&scriptSrc.indexOf("blob:")!==0&&(env2.wasm.wasmPaths=scriptSrc.substring(0,scriptSrc.lastIndexOf("/")+1))},OnnxruntimeWebAssemblyBackend=class{async init(l){initializeFlags(),await initializeWebAssemblyAndOrtRuntime(),await initializeOrtEp(l)}async createInferenceSessionHandler(l,n){const u=new OnnxruntimeWebAssemblySessionHandler;return await u.loadModel(l,n),Promise.resolve(u)}}}}),backend_wasm_inference_exports={};__export(backend_wasm_inference_exports,{wasmBackend:()=>wasmBackend});var wasmBackend,init_backend_wasm_inference=__esm({"web/lib/backend-wasm-inference.ts"(){init_backend_wasm(),wasmBackend=new OnnxruntimeWebAssemblyBackend}});init_esm();init_esm();init_esm();var version2="1.19.0-dev.20240713-281ed8c12d";{const l=(init_backend_onnxjs(),__toCommonJS(backend_onnxjs_exports)).onnxjsBackend;registerBackend("webgl",l,-10)}{const l=(init_backend_wasm_inference(),__toCommonJS(backend_wasm_inference_exports)).wasmBackend;registerBackend("webgpu",l,5),registerBackend("webnn",l,5),registerBackend("cpu",l,10),registerBackend("wasm",l,10)}Object.defineProperty(env2.versions,"web",{value:version2,enumerable:!0});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 *//**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 *//**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 *//*! Bundled license information:

long/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)
*/async function main(){clipCheck.onchange=function(){clipCheck.checked?g.setClipPlane([0,0,90]):g.setClipPlane([2,0,90])},opacitySlider0.oninput=function(){g.setOpacity(0,opacitySlider0.value/255),g.updateGLVolume()},opacitySlider1.oninput=function(){g.setOpacity(1,opacitySlider1.value/255)};function l(){opacitySlider0.oninput()}async function n(_){return await(await fetch(_)).json()}saveImgBtn.onclick=function(){g.volumes[1].saveToDisk("Custom.nii")};async function u(){const _=g.volumes[0];let C=_.dims[1]===256&&_.dims[2]===256&&_.dims[3]===256;if((_.permRAS[0]!==-1||_.permRAS[1]!==3||_.permRAS[2]!==-2)&&(C=!1),C)return;const E=await g.conform(_,!1);await g.removeVolume(g.volumes[0]),await g.addVolume(E)}async function p(){for(;g.volumes.length>1;)await g.removeVolume(g.volumes[1])}segmentBtn.onclick=async function(){if(g.volumes.length<1){window.alert("Please open a voxel-based image");return}loadingCircle.classList.remove("hidden"),await p(),await u();let _=new Float32Array(g.volumes[0].img),C=_[0],E=C;for(let Y=0;Y<_.length;Y++)C=Math.max(C,_[Y]),E=Math.min(E,_[Y]);let w=1/(C-E);for(let Y=0;Y<_.length;Y++)_[Y]=(_[Y]-E)*w;const m={executionProviders:[{name:"webgpu"}],graphOptimizationLevel:"disabled",optimizedModelFilepath:"opt.onnx"},y=await InferenceSession2.create("./model.onnx",m),e=[1,1,256,256,256],P=e.reduce((Y,X)=>Y*X);if(_.length!==P)throw new Error(`img32 length (${_.length}) does not match expected tensor length (${expectedLength})`);const U={input:new Tensor2("float32",_,e)},V=(await y.run(U)).output.cpuData,$=Math.floor(V.length/P);($<2||V.length!=$*P)&&console.log("Fatal error");const b=new Float32Array(P);for(let Y=0;Y<P;Y++){let X=V[Y],j=0;for(let h=1;h<=$;h++){const ae=V[Y+h*P];ae>X&&(j=h,X=ae)}b[Y]=j}const H=g.cloneVolume(0);H.img=b,H.hdr.datatypeCode=16,H.hdr.dims[4]=1,H.trustCalMinMax=!1;const G=await n("./colormap3.json");H.setColormapLabel(G),H.opacity=opacitySlider1.value/255,await g.addVolume(H),loadingCircle.classList.add("hidden")};function v(_){document.getElementById("intensity").innerHTML=_.string}const d={backColor:[.4,.4,.4,1],onLocationChange:v},g=new Niivue(d);g.attachToCanvas(gl1),g.opts.multiplanarForceRender=!0,g.opts.yoke3Dto2DZoom=!0,g.opts.crosshairGap=11,g.setInterpolation(!0),g.onImageLoaded=l,await g.loadVolumes([{url:"./t1_crop.nii.gz"}]),segmentBtn.onclick()}main();
